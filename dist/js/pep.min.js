/*! jQuery原理 v3.1.1 | (c) jQuery原理 Foundation | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery原理 requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.1.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=r.isArray(d)))?(e?(e=!1,f=c&&r.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,C=/^.[^:#\[\.,]*$/;function D(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):C.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(D(this,a||[],!1))},not:function(a){return this.pushStack(D(this,a||[],!0))},is:function(a){return!!D(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var E,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||E,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:F.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),B.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};G.prototype=r.fn,E=r(d);var H=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function J(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return J(a,"nextSibling")},prev:function(a){return J(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return a.contentDocument||r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(I[a]||r.uniqueSort(e),H.test(a)&&e.reverse()),this.pushStack(e)}});var K=/[^\x20\t\r\n\f]+/g;function L(a){var b={};return r.each(a.match(K)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?L(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function M(a){return a}function N(a){throw a}function O(a,b,c){var d;try{a&&r.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&r.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,M,e),g(f,c,N,e)):(f++,j.call(a,g(f,c,M,e),g(f,c,N,e),g(f,c,M,c.notifyWith))):(d!==M&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==N&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:M,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:M)),c[2][3].add(g(0,a,r.isFunction(d)?d:N))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(O(a,g.done(h(c)).resolve,g.reject),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)O(e[c],h(c),g.reject);return g.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&P.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var Q=r.Deferred();r.fn.ready=function(a){return Q.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||Q.resolveWith(d,[r]))}}),r.ready.then=Q.then;function R(){d.removeEventListener("DOMContentLoaded",R),
a.removeEventListener("load",R),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",R),a.addEventListener("load",R));var S=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)S(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},T=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function U(){this.expando=r.expando+U.uid++}U.uid=1,U.prototype={cache:function(a){var b=a[this.expando];return b||(b={},T(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){r.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(K)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var V=new U,W=new U,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function Z(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:X.test(a)?JSON.parse(a):a)}function $(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Y,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=Z(c)}catch(e){}W.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return W.hasData(a)||V.hasData(a)},data:function(a,b,c){return W.access(a,b,c)},removeData:function(a,b){W.remove(a,b)},_data:function(a,b,c){return V.access(a,b,c)},_removeData:function(a,b){V.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=W.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),$(f,d,e[d])));V.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){W.set(this,a)}):S(this,function(b){var c;if(f&&void 0===b){if(c=W.get(f,a),void 0!==c)return c;if(c=$(f,a),void 0!==c)return c}else this.each(function(){W.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){W.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=V.get(a,b),c&&(!d||r.isArray(c)?d=V.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return V.get(a,c)||V.access(a,c,{empty:r.Callbacks("once memory").add(function(){V.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=V.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var _=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=new RegExp("^(?:([+-])=|)("+_+")([a-z%]*)$","i"),ba=["Top","Right","Bottom","Left"],ca=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function ea(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&aa.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var fa={};function ga(a){var b,c=a.ownerDocument,d=a.nodeName,e=fa[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),fa[d]=e,e)}function ha(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=V.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&ca(d)&&(e[f]=ga(d))):"none"!==c&&(e[f]="none",V.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ha(this,!0)},hide:function(){return ha(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ca(this)?r(this).show():r(this).hide()})}});var ia=/^(?:checkbox|radio)$/i,ja=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ka=/^$|\/(?:java|ecma)script/i,la={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};la.optgroup=la.option,la.tbody=la.tfoot=la.colgroup=la.caption=la.thead,la.th=la.td;function ma(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&r.nodeName(a,b)?r.merge([a],c):c}function na(a,b){for(var c=0,d=a.length;c<d;c++)V.set(a[c],"globalEval",!b||V.get(b[c],"globalEval"))}var oa=/<|&#?\w+;/;function pa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(oa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ja.exec(f)||["",""])[1].toLowerCase(),i=la[h]||la._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=ma(l.appendChild(f),"script"),j&&na(g),c){k=0;while(f=g[k++])ka.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var qa=d.documentElement,ra=/^key/,sa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;function ua(){return!0}function va(){return!1}function wa(){try{return d.activeElement}catch(a){}}function xa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)xa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=va;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(qa,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(K)||[""],j=b.length;while(j--)h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.hasData(a)&&V.get(a);if(q&&(i=q.events)){b=(b||"").match(K)||[""],j=b.length;while(j--)if(h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&V.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(V.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==wa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===wa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r.nodeName(this,"input"))return this.click(),!1},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ua:va,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:va,isPropagationStopped:va,isImmediatePropagationStopped:va,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ua,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ua,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ua,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&ra.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&sa.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return xa(this,a,b,c,d)},one:function(a,b,c,d){return xa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=va),this.each(function(){r.event.remove(this,a,c,b)})}});var ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,za=/<script|<style|<link/i,Aa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ba=/^true\/(.*)/,Ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Da(a,b){return r.nodeName(a,"table")&&r.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Ea(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Fa(a){var b=Ba.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ga(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(V.hasData(a)&&(f=V.access(a),g=V.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}W.hasData(a)&&(h=W.access(a),i=r.extend({},h),W.set(b,i))}}function Ha(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ia.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ia(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Aa.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ia(f,b,c,d)});if(m&&(e=pa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(ma(e,"script"),Ea),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,ma(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Fa),l=0;l<i;l++)j=h[l],ka.test(j.type||"")&&!V.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Ca,""),k))}return a}function Ja(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(ma(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&na(ma(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(ya,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=ma(h),f=ma(a),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);if(b)if(c)for(f=f||ma(a),g=g||ma(h),d=0,e=f.length;d<e;d++)Ga(f[d],g[d]);else Ga(a,h);return g=ma(h,"script"),g.length>0&&na(g,!i&&ma(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(T(c)){if(b=c[V.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[V.expando]=void 0}c[W.expando]&&(c[W.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ja(this,a,!0)},remove:function(a){return Ja(this,a)},text:function(a){return S(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.appendChild(a)}})},prepend:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(ma(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return S(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!za.test(a)&&!la[(ja.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(ma(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ia(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(ma(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var Ka=/^margin/,La=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),Ma=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",qa.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,qa.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Na(a,b,c){var d,e,f,g,h=a.style;return c=c||Ma(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&La.test(g)&&Ka.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Oa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Pa=/^(none|table(?!-c[ea]).+)/,Qa={position:"absolute",visibility:"hidden",display:"block"},Ra={letterSpacing:"0",fontWeight:"400"},Sa=["Webkit","Moz","ms"],Ta=d.createElement("div").style;function Ua(a){if(a in Ta)return a;var b=a[0].toUpperCase()+a.slice(1),c=Sa.length;while(c--)if(a=Sa[c]+b,a in Ta)return a}function Va(a,b,c){var d=aa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Wa(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ba[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ba[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ba[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ba[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ba[f]+"Width",!0,e)));return g}function Xa(a,b,c){var d,e=!0,f=Ma(a),g="border-box"===r.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),d<=0||null==d){if(d=Na(a,b,f),(d<0||null==d)&&(d=a.style[b]),La.test(d))return d;e=g&&(o.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+Wa(a,b,c||(g?"border":"content"),e,f)+"px"}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Na(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=a.style;return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=aa.exec(c))&&e[1]&&(c=ea(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b);return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Na(a,b,d)),"normal"===e&&b in Ra&&(e=Ra[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Pa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Xa(a,b,d):da(a,Qa,function(){return Xa(a,b,d)})},set:function(a,c,d){var e,f=d&&Ma(a),g=d&&Wa(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=aa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Va(a,c,g)}}}),r.cssHooks.marginLeft=Oa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Na(a,"marginLeft"))||a.getBoundingClientRect().left-da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ba[d]+b]=f[d]||f[d-2]||f[0];return e}},Ka.test(a)||(r.cssHooks[a+b].set=Va)}),r.fn.extend({css:function(a,b){return S(this,function(a,b,c){var d,e,f={},g=0;if(r.isArray(b)){for(d=Ma(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function Ya(a,b,c,d,e){return new Ya.prototype.init(a,b,c,d,e)}r.Tween=Ya,Ya.prototype={constructor:Ya,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=Ya.propHooks[this.prop];return a&&a.get?a.get(this):Ya.propHooks._default.get(this)},run:function(a){var b,c=Ya.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ya.propHooks._default.set(this),this}},Ya.prototype.init.prototype=Ya.prototype,Ya.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},Ya.propHooks.scrollTop=Ya.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=Ya.prototype.init,r.fx.step={};var Za,$a,_a=/^(?:toggle|show|hide)$/,ab=/queueHooks$/;function bb(){$a&&(a.requestAnimationFrame(bb),r.fx.tick())}function cb(){return a.setTimeout(function(){Za=void 0}),Za=r.now()}function db(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ba[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function eb(a,b,c){for(var d,e=(hb.tweeners[b]||[]).concat(hb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function fb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ca(a),q=V.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],_a.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=V.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ha([a],!0),j=a.style.display||j,k=r.css(a,"display"),ha([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=V.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ha([a],!0),m.done(function(){p||ha([a]),V.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=eb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function gb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function hb(a,b,c){var d,e,f=0,g=hb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Za||cb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:Za||cb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(gb(k,j.opts.specialEasing);f<g;f++)if(d=hb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,eb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}r.Animation=r.extend(hb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return ea(c.elem,a,aa.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(K);for(var c,d=0,e=a.length;d<e;d++)c=a[d],hb.tweeners[c]=hb.tweeners[c]||[],hb.tweeners[c].unshift(b)},prefilters:[fb],prefilter:function(a,b){b?hb.prefilters.unshift(a):hb.prefilters.push(a)}}),r.speed=function(a,b,c){var e=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off||d.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in r.fx.speeds?e.duration=r.fx.speeds[e.duration]:e.duration=r.fx.speeds._default),null!=e.queue&&e.queue!==!0||(e.queue="fx"),e.old=e.complete,e.complete=function(){r.isFunction(e.old)&&e.old.call(this),e.queue&&r.dequeue(this,e.queue)},e},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=hb(this,r.extend({},a),f);(e||V.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=V.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=V.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(db(b,!0),a,d,e)}}),r.each({slideDown:db("show"),slideUp:db("hide"),slideToggle:db("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(Za=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),Za=void 0},r.fx.timer=function(a){r.timers.push(a),a()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){$a||($a=a.requestAnimationFrame?a.requestAnimationFrame(bb):a.setInterval(r.fx.tick,r.fx.interval))},r.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame($a):a.clearInterval($a),$a=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var ib,jb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return S(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?ib:void 0)),
void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(K);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||r.find.attr;jb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=jb[g],jb[g]=e,e=null!=c(a,b,d)?g:null,jb[g]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return S(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function mb(a){var b=a.match(K)||[];return b.join(" ")}function nb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,nb(this)))});if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,nb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,nb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(K)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=nb(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":V.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+mb(nb(c))+" ").indexOf(b)>-1)return!0;return!1}});var ob=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":r.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ob,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:mb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(r.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,pb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(V.get(h,"events")||{})[b.type]&&V.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&T(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!T(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=V.access(d,b);e||d.addEventListener(a,c,!0),V.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=V.access(d,b)-1;e?V.access(d,b,e):(d.removeEventListener(a,c,!0),V.remove(d,b))}}});var qb=a.location,rb=r.now(),sb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:submit|button|image|reset|file)$/i,wb=/^(?:input|select|textarea|keygen)/i;function xb(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||tb.test(a)?d(a,e):xb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)xb(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)xb(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&wb.test(this.nodeName)&&!vb.test(a)&&(this.checked||!ia.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}});var yb=/%20/g,zb=/#.*$/,Ab=/([?&])_=[^&]*/,Bb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb={},Gb={},Hb="*/".concat("*"),Ib=d.createElement("a");Ib.href=qb.href;function Jb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(K)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Kb(a,b,c,d){var e={},f=a===Gb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Lb(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Mb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Nb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:Cb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Lb(Lb(a,r.ajaxSettings),b):Lb(r.ajaxSettings,a)},ajaxPrefilter:Jb(Fb),ajaxTransport:Jb(Gb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Bb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||qb.href)+"").replace(Eb,qb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(K)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ib.protocol+"//"+Ib.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Kb(Fb,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Db.test(o.type),f=o.url.replace(zb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(yb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(sb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ab,"$1"),n=(sb.test(f)?"&":"?")+"_="+rb++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Hb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Kb(Gb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Mb(o,y,d)),v=Nb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ob={0:200,1223:204},Pb=r.ajaxSettings.xhr();o.cors=!!Pb&&"withCredentials"in Pb,o.ajax=Pb=!!Pb,r.ajaxTransport(function(b){var c,d;if(o.cors||Pb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ob[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Qb=[],Rb=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Qb.pop()||r.expando+"_"+rb++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Rb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Rb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Qb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=B.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=pa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=mb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length};function Sb(a){return r.isWindow(a)?a:9===a.nodeType&&a.defaultView}r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Sb(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||qa})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return S(this,function(a,d,e){var f=Sb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Oa(o.pixelPosition,function(a,c){if(c)return c=Na(a,b),La.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return S(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Tb=a.jQuery,Ub=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Ub),b&&a.jQuery===r&&(a.jQuery=Tb),r},b||(a.jQuery=a.$=r),r});

/*
 Copyright (C) Federico Zivolo 2018
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Popper=t()})(this,function(){'use strict';function e(e){return e&&'[object Function]'==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var o=getComputedStyle(e,null);return t?o[t]:o}function o(e){return'HTML'===e.nodeName?e:e.parentNode||e.host}function n(e){if(!e)return document.body;switch(e.nodeName){case'HTML':case'BODY':return e.ownerDocument.body;case'#document':return e.body;}var i=t(e),r=i.overflow,p=i.overflowX,s=i.overflowY;return /(auto|scroll|overlay)/.test(r+s+p)?e:n(o(e))}function r(e){if(!e)return document.documentElement;for(var o=ie(10)?document.body:null,n=e.offsetParent;n===o&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&'BODY'!==i&&'HTML'!==i?-1!==['TD','TABLE'].indexOf(n.nodeName)&&'static'===t(n,'position')?r(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){var t=e.nodeName;return'BODY'!==t&&('HTML'===t||r(e.firstElementChild)===e)}function s(e){return null===e.parentNode?e:s(e.parentNode)}function d(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=o?e:t,i=o?t:e,a=document.createRange();a.setStart(n,0),a.setEnd(i,0);var l=a.commonAncestorContainer;if(e!==l&&t!==l||n.contains(i))return p(l)?l:r(l);var f=s(e);return f.host?d(f.host,t):d(e,s(t).host)}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',o='top'===t?'scrollTop':'scrollLeft',n=e.nodeName;if('BODY'===n||'HTML'===n){var i=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||i;return r[o]}return e[o]}function l(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=a(t,'top'),i=a(t,'left'),r=o?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=i*r,e.right+=i*r,e}function f(e,t){var o='x'===t?'Left':'Top',n='Left'==o?'Right':'Bottom';return parseFloat(e['border'+o+'Width'],10)+parseFloat(e['border'+n+'Width'],10)}function m(e,t,o,n){return Q(t['offset'+e],t['scroll'+e],o['client'+e],o['offset'+e],o['scroll'+e],ie(10)?o['offset'+e]+n['margin'+('Height'===e?'Top':'Left')]+n['margin'+('Height'===e?'Bottom':'Right')]:0)}function h(){var e=document.body,t=document.documentElement,o=ie(10)&&getComputedStyle(t);return{height:m('Height',e,t,o),width:m('Width',e,t,o)}}function c(e){return de({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var o={};try{if(ie(10)){o=e.getBoundingClientRect();var n=a(e,'top'),i=a(e,'left');o.top+=n,o.left+=i,o.bottom+=n,o.right+=i}else o=e.getBoundingClientRect()}catch(t){}var r={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},p='HTML'===e.nodeName?h():{},s=p.width||e.clientWidth||r.right-r.left,d=p.height||e.clientHeight||r.bottom-r.top,l=e.offsetWidth-s,m=e.offsetHeight-d;if(l||m){var g=t(e);l-=f(g,'x'),m-=f(g,'y'),r.width-=l,r.height-=m}return c(r)}function u(e,o){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=ie(10),p='HTML'===o.nodeName,s=g(e),d=g(o),a=n(e),f=t(o),m=parseFloat(f.borderTopWidth,10),h=parseFloat(f.borderLeftWidth,10);i&&'HTML'===o.nodeName&&(d.top=Q(d.top,0),d.left=Q(d.left,0));var u=c({top:s.top-d.top-m,left:s.left-d.left-h,width:s.width,height:s.height});if(u.marginTop=0,u.marginLeft=0,!r&&p){var b=parseFloat(f.marginTop,10),y=parseFloat(f.marginLeft,10);u.top-=m-b,u.bottom-=m-b,u.left-=h-y,u.right-=h-y,u.marginTop=b,u.marginLeft=y}return(r&&!i?o.contains(a):o===a&&'BODY'!==a.nodeName)&&(u=l(u,o)),u}function b(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e.ownerDocument.documentElement,n=u(e,o),i=Q(o.clientWidth,window.innerWidth||0),r=Q(o.clientHeight,window.innerHeight||0),p=t?0:a(o),s=t?0:a(o,'left'),d={top:p-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:r};return c(d)}function y(e){var n=e.nodeName;return'BODY'===n||'HTML'===n?!1:'fixed'===t(e,'position')||y(o(e))}function w(e){if(!e||!e.parentElement||ie())return document.documentElement;for(var o=e.parentElement;o&&'none'===t(o,'transform');)o=o.parentElement;return o||document.documentElement}function E(e,t,i,r){var p=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},a=p?w(e):d(e,t);if('viewport'===r)s=b(a,p);else{var l;'scrollParent'===r?(l=n(o(t)),'BODY'===l.nodeName&&(l=e.ownerDocument.documentElement)):'window'===r?l=e.ownerDocument.documentElement:l=r;var f=u(l,a,p);if('HTML'===l.nodeName&&!y(a)){var m=h(),c=m.height,g=m.width;s.top+=f.top-f.marginTop,s.bottom=c+f.top,s.left+=f.left-f.marginLeft,s.right=g+f.left}else s=f}return s.left+=i,s.top+=i,s.right-=i,s.bottom-=i,s}function v(e){var t=e.width,o=e.height;return t*o}function x(e,t,o,n,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf('auto'))return e;var p=E(o,n,r,i),s={top:{width:p.width,height:t.top-p.top},right:{width:p.right-t.right,height:p.height},bottom:{width:p.width,height:p.bottom-t.bottom},left:{width:t.left-p.left,height:p.height}},d=Object.keys(s).map(function(e){return de({key:e},s[e],{area:v(s[e])})}).sort(function(e,t){return t.area-e.area}),a=d.filter(function(e){var t=e.width,n=e.height;return t>=o.clientWidth&&n>=o.clientHeight}),l=0<a.length?a[0].key:d[0].key,f=e.split('-')[1];return l+(f?'-'+f:'')}function O(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=n?w(t):d(t,o);return u(o,i,n)}function L(e){var t=getComputedStyle(e),o=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight),i={width:e.offsetWidth+n,height:e.offsetHeight+o};return i}function S(e){var t={left:'right',right:'left',bottom:'top',top:'bottom'};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function T(e,t,o){o=o.split('-')[0];var n=L(e),i={width:n.width,height:n.height},r=-1!==['right','left'].indexOf(o),p=r?'top':'left',s=r?'left':'top',d=r?'height':'width',a=r?'width':'height';return i[p]=t[p]+t[d]/2-n[d]/2,i[s]=o===s?t[s]-n[a]:t[S(s)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function C(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var n=D(e,function(e){return e[t]===o});return e.indexOf(n)}function N(t,o,n){var i=void 0===n?t:t.slice(0,C(t,'name',n));return i.forEach(function(t){t['function']&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var n=t['function']||t.fn;t.enabled&&e(n)&&(o.offsets.popper=c(o.offsets.popper),o.offsets.reference=c(o.offsets.reference),o=n(o,t))}),o}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=x(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=T(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?'fixed':'absolute',e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function P(e,t){return e.some(function(e){var o=e.name,n=e.enabled;return n&&o===t})}function W(e){for(var t=[!1,'ms','Webkit','Moz','O'],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],r=i?''+i+o:e;if('undefined'!=typeof document.body.style[r])return r}return null}function B(){return this.state.isDestroyed=!0,P(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.position='',this.popper.style.top='',this.popper.style.left='',this.popper.style.right='',this.popper.style.bottom='',this.popper.style.willChange='',this.popper.style[W('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function H(e){var t=e.ownerDocument;return t?t.defaultView:window}function A(e,t,o,i){var r='BODY'===e.nodeName,p=r?e.ownerDocument.defaultView:e;p.addEventListener(t,o,{passive:!0}),r||A(n(p.parentNode),t,o,i),i.push(p)}function I(e,t,o,i){o.updateBound=i,H(e).addEventListener('resize',o.updateBound,{passive:!0});var r=n(e);return A(r,'scroll',o.updateBound,o.scrollParents),o.scrollElement=r,o.eventsEnabled=!0,o}function M(){this.state.eventsEnabled||(this.state=I(this.reference,this.options,this.state,this.scheduleUpdate))}function F(e,t){return H(e).removeEventListener('resize',t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener('scroll',t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function R(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=F(this.reference,this.state))}function U(e){return''!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach(function(o){var n='';-1!==['width','height','top','right','bottom','left'].indexOf(o)&&U(t[o])&&(n='px'),e.style[o]=t[o]+n})}function j(e,t){Object.keys(t).forEach(function(o){var n=t[o];!1===n?e.removeAttribute(o):e.setAttribute(o,t[o])})}function q(e,t,o){var n=D(e,function(e){var o=e.name;return o===t}),i=!!n&&e.some(function(e){return e.name===o&&e.enabled&&e.order<n.order});if(!i){var r='`'+t+'`';console.warn('`'+o+'`'+' modifier is required by '+r+' modifier in order to work, be sure to include it before '+r+'!')}return i}function K(e){return'end'===e?'start':'start'===e?'end':e}function V(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=le.indexOf(e),n=le.slice(o+1).concat(le.slice(0,o));return t?n.reverse():n}function z(e,t,o,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],p=i[2];if(!r)return e;if(0===p.indexOf('%')){var s;switch(p){case'%p':s=o;break;case'%':case'%r':default:s=n;}var d=c(s);return d[t]/100*r}if('vh'===p||'vw'===p){var a;return a='vh'===p?Q(document.documentElement.clientHeight,window.innerHeight||0):Q(document.documentElement.clientWidth,window.innerWidth||0),a/100*r}return r}function G(e,t,o,n){var i=[0,0],r=-1!==['right','left'].indexOf(n),p=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=p.indexOf(D(p,function(e){return-1!==e.search(/,|\s/)}));p[s]&&-1===p[s].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var d=/\s*,\s*|\s+/,a=-1===s?[p]:[p.slice(0,s).concat([p[s].split(d)[0]]),[p[s].split(d)[1]].concat(p.slice(s+1))];return a=a.map(function(e,n){var i=(1===n?!r:r)?'height':'width',p=!1;return e.reduce(function(e,t){return''===e[e.length-1]&&-1!==['+','-'].indexOf(t)?(e[e.length-1]=t,p=!0,e):p?(e[e.length-1]+=t,p=!1,e):e.concat(t)},[]).map(function(e){return z(e,i,t,o)})}),a.forEach(function(e,t){e.forEach(function(o,n){U(o)&&(i[t]+=o*('-'===e[n-1]?-1:1))})}),i}function _(e,t){var o,n=t.offset,i=e.placement,r=e.offsets,p=r.popper,s=r.reference,d=i.split('-')[0];return o=U(+n)?[+n,0]:G(n,p,s,d),'left'===d?(p.top+=o[0],p.left-=o[1]):'right'===d?(p.top+=o[0],p.left+=o[1]):'top'===d?(p.left+=o[0],p.top-=o[1]):'bottom'===d&&(p.left+=o[0],p.top+=o[1]),e.popper=p,e}for(var X=Math.min,J=Math.floor,Q=Math.max,Z='undefined'!=typeof window&&'undefined'!=typeof document,$=['Edge','Trident','Firefox'],ee=0,te=0;te<$.length;te+=1)if(Z&&0<=navigator.userAgent.indexOf($[te])){ee=1;break}var i=Z&&window.Promise,oe=i?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},ee))}},ne={},ie=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'all';return(e=e.toString(),ne.hasOwnProperty(e))?ne[e]:('11'===e?ne[e]=-1!==navigator.userAgent.indexOf('Trident'):'10'===e?ne[e]=-1!==navigator.appVersion.indexOf('MSIE 10'):'all'===e?ne[e]=-1!==navigator.userAgent.indexOf('Trident')||-1!==navigator.userAgent.indexOf('MSIE'):void 0,ne.all=ne.all||Object.keys(ne).some(function(e){return ne[e]}),ne[e])},re=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},pe=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),se=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},de=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ae=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],le=ae.slice(3),fe={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},me=function(){function t(o,n){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};re(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=oe(this.update.bind(this)),this.options=de({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=o&&o.jquery?o[0]:o,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(de({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=de({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return de({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var p=this.options.eventsEnabled;p&&this.enableEventListeners(),this.state.eventsEnabled=p}return pe(t,[{key:'update',value:function(){return k.call(this)}},{key:'destroy',value:function(){return B.call(this)}},{key:'enableEventListeners',value:function(){return M.call(this)}},{key:'disableEventListeners',value:function(){return R.call(this)}}]),t}();return me.Utils=('undefined'==typeof window?global:window).PopperUtils,me.placements=ae,me.Defaults={placement:'bottom',positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split('-')[0],n=t.split('-')[1];if(n){var i=e.offsets,r=i.reference,p=i.popper,s=-1!==['bottom','top'].indexOf(o),d=s?'left':'top',a=s?'width':'height',l={start:se({},d,r[d]),end:se({},d,r[d]+r[a]-p[a])};e.offsets.popper=de({},p,l[n])}return e}},offset:{order:200,enabled:!0,fn:_,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||r(e.instance.popper);e.instance.reference===o&&(o=r(o));var n=E(e.instance.popper,e.instance.reference,t.padding,o,e.positionFixed);t.boundaries=n;var i=t.priority,p=e.offsets.popper,s={primary:function(e){var o=p[e];return p[e]<n[e]&&!t.escapeWithReference&&(o=Q(p[e],n[e])),se({},e,o)},secondary:function(e){var o='right'===e?'left':'top',i=p[o];return p[e]>n[e]&&!t.escapeWithReference&&(i=X(p[o],n[e]-('right'===e?p.width:p.height))),se({},o,i)}};return i.forEach(function(e){var t=-1===['left','top'].indexOf(e)?'secondary':'primary';p=de({},p,s[t](e))}),e.offsets.popper=p,e},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,n=t.reference,i=e.placement.split('-')[0],r=J,p=-1!==['top','bottom'].indexOf(i),s=p?'right':'bottom',d=p?'left':'top',a=p?'width':'height';return o[s]<r(n[d])&&(e.offsets.popper[d]=r(n[d])-o[a]),o[d]>r(n[s])&&(e.offsets.popper[d]=r(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,o){var n;if(!q(e.instance.modifiers,'arrow','keepTogether'))return e;var i=o.element;if('string'==typeof i){if(i=e.instance.popper.querySelector(i),!i)return e;}else if(!e.instance.popper.contains(i))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),e;var r=e.placement.split('-')[0],p=e.offsets,s=p.popper,d=p.reference,a=-1!==['left','right'].indexOf(r),l=a?'height':'width',f=a?'Top':'Left',m=f.toLowerCase(),h=a?'left':'top',g=a?'bottom':'right',u=L(i)[l];d[g]-u<s[m]&&(e.offsets.popper[m]-=s[m]-(d[g]-u)),d[m]+u>s[g]&&(e.offsets.popper[m]+=d[m]+u-s[g]),e.offsets.popper=c(e.offsets.popper);var b=d[m]+d[l]/2-u/2,y=t(e.instance.popper),w=parseFloat(y['margin'+f],10),E=parseFloat(y['border'+f+'Width'],10),v=b-e.offsets.popper[m]-w-E;return v=Q(X(s[l]-u,v),0),e.arrowElement=i,e.offsets.arrow=(n={},se(n,m,Math.round(v)),se(n,h,''),n),e},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(e,t){if(P(e.instance.modifiers,'inner'))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=E(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split('-')[0],i=S(n),r=e.placement.split('-')[1]||'',p=[];switch(t.behavior){case fe.FLIP:p=[n,i];break;case fe.CLOCKWISE:p=V(n);break;case fe.COUNTERCLOCKWISE:p=V(n,!0);break;default:p=t.behavior;}return p.forEach(function(s,d){if(n!==s||p.length===d+1)return e;n=e.placement.split('-')[0],i=S(n);var a=e.offsets.popper,l=e.offsets.reference,f=J,m='left'===n&&f(a.right)>f(l.left)||'right'===n&&f(a.left)<f(l.right)||'top'===n&&f(a.bottom)>f(l.top)||'bottom'===n&&f(a.top)<f(l.bottom),h=f(a.left)<f(o.left),c=f(a.right)>f(o.right),g=f(a.top)<f(o.top),u=f(a.bottom)>f(o.bottom),b='left'===n&&h||'right'===n&&c||'top'===n&&g||'bottom'===n&&u,y=-1!==['top','bottom'].indexOf(n),w=!!t.flipVariations&&(y&&'start'===r&&h||y&&'end'===r&&c||!y&&'start'===r&&g||!y&&'end'===r&&u);(m||b||w)&&(e.flipped=!0,(m||b)&&(n=p[d+1]),w&&(r=K(r)),e.placement=n+(r?'-'+r:''),e.offsets.popper=de({},e.offsets.popper,T(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,'flip'))}),e},behavior:'flip',padding:5,boundariesElement:'viewport'},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split('-')[0],n=e.offsets,i=n.popper,r=n.reference,p=-1!==['left','right'].indexOf(o),s=-1===['top','left'].indexOf(o);return i[p?'left':'top']=r[o]-(s?i[p?'width':'height']:0),e.placement=S(t),e.offsets.popper=c(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,'hide','preventOverflow'))return e;var t=e.offsets.reference,o=D(e.instance.modifiers,function(e){return'preventOverflow'===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes['x-out-of-boundaries']=''}else{if(!1===e.hide)return e;e.hide=!1,e.attributes['x-out-of-boundaries']=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,n=t.y,i=e.offsets.popper,p=D(e.instance.modifiers,function(e){return'applyStyle'===e.name}).gpuAcceleration;void 0!==p&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var s,d,a=void 0===p?t.gpuAcceleration:p,l=r(e.instance.popper),f=g(l),m={position:i.position},h={left:J(i.left),top:J(i.top),bottom:J(i.bottom),right:J(i.right)},c='bottom'===o?'top':'bottom',u='right'===n?'left':'right',b=W('transform');if(d='bottom'==c?-f.height+h.bottom:h.top,s='right'==u?-f.width+h.right:h.left,a&&b)m[b]='translate3d('+s+'px, '+d+'px, 0)',m[c]=0,m[u]=0,m.willChange='transform';else{var y='bottom'==c?-1:1,w='right'==u?-1:1;m[c]=d*y,m[u]=s*w,m.willChange=c+', '+u}var E={"x-placement":e.placement};return e.attributes=de({},E,e.attributes),e.styles=de({},m,e.styles),e.arrowStyles=de({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(e){return Y(e.instance.popper,e.styles),j(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,o,n,i){var r=O(i,t,e,o.positionFixed),p=x(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute('x-placement',p),Y(t,{position:o.positionFixed?'fixed':'absolute'}),o},gpuAcceleration:void 0}}},me});


/*!
  * Bootstrap v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('jquery'), require('popper.js')) :
  typeof define === 'function' && define.amd ? define(['exports', 'jquery', 'popper.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bootstrap = {}, global.jQuery, global.Popper));
}(this, (function (exports, $, Popper) { 'use strict';

  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

  var $__default = /*#__PURE__*/_interopDefaultLegacy($);
  var Popper__default = /*#__PURE__*/_interopDefaultLegacy(Popper);

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _extends() {
    _extends = Object.assign || function (target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];

        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }

      return target;
    };

    return _extends.apply(this, arguments);
  }

  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    subClass.__proto__ = superClass;
  }

  /**
   * --------------------------------------------------------------------------
   * Bootstrap (v4.5.3): util.js
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
   * --------------------------------------------------------------------------
   */
  /**
   * ------------------------------------------------------------------------
   * Private TransitionEnd Helpers
   * ------------------------------------------------------------------------
   */

  var TRANSITION_END = 'transitionend';
  var MAX_UID = 1000000;
  var MILLISECONDS_MULTIPLIER = 1000; // Shoutout AngusCroll (https://goo.gl/pxwQGp)

  function toType(obj) {
    if (obj === null || typeof obj === 'undefined') {
      return "" + obj;
    }

    return {}.toString.call(obj).match(/\s([a-z]+)/i)[1].toLowerCase();
  }

  function getSpecialTransitionEndEvent() {
    return {
      bindType: TRANSITION_END,
      delegateType: TRANSITION_END,
      handle: function handle(event) {
        if ($__default['default'](event.target).is(this)) {
          return event.handleObj.handler.apply(this, arguments); // eslint-disable-line prefer-rest-params
        }

        return undefined;
      }
    };
  }

  function transitionEndEmulator(duration) {
    var _this = this;

    var called = false;
    $__default['default'](this).one(Util.TRANSITION_END, function () {
      called = true;
    });
    setTimeout(function () {
      if (!called) {
        Util.triggerTransitionEnd(_this);
      }
    }, duration);
    return this;
  }

  function setTransitionEndSupport() {
    $__default['default'].fn.emulateTransitionEnd = transitionEndEmulator;
    $__default['default'].event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent();
  }
  /**
   * --------------------------------------------------------------------------
   * Public Util Api
   * --------------------------------------------------------------------------
   */


  var Util = {
    TRANSITION_END: 'bsTransitionEnd',
    getUID: function getUID(prefix) {
      do {
        prefix += ~~(Math.random() * MAX_UID); // "~~" acts like a faster Math.floor() here
      } while (document.getElementById(prefix));

      return prefix;
    },
    getSelectorFromElement: function getSelectorFromElement(element) {
      var selector = element.getAttribute('data-target');

      if (!selector || selector === '#') {
        var hrefAttr = element.getAttribute('href');
        selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : '';
      }

      try {
        return document.querySelector(selector) ? selector : null;
      } catch (_) {
        return null;
      }
    },
    getTransitionDurationFromElement: function getTransitionDurationFromElement(element) {
      if (!element) {
        return 0;
      } // Get transition-duration of the element


      var transitionDuration = $__default['default'](element).css('transition-duration');
      var transitionDelay = $__default['default'](element).css('transition-delay');
      var floatTransitionDuration = parseFloat(transitionDuration);
      var floatTransitionDelay = parseFloat(transitionDelay); // Return 0 if element or transition duration is not found

      if (!floatTransitionDuration && !floatTransitionDelay) {
        return 0;
      } // If multiple durations are defined, take the first


      transitionDuration = transitionDuration.split(',')[0];
      transitionDelay = transitionDelay.split(',')[0];
      return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;
    },
    reflow: function reflow(element) {
      return element.offsetHeight;
    },
    triggerTransitionEnd: function triggerTransitionEnd(element) {
      $__default['default'](element).trigger(TRANSITION_END);
    },
    supportsTransitionEnd: function supportsTransitionEnd() {
      return Boolean(TRANSITION_END);
    },
    isElement: function isElement(obj) {
      return (obj[0] || obj).nodeType;
    },
    typeCheckConfig: function typeCheckConfig(componentName, config, configTypes) {
      for (var property in configTypes) {
        if (Object.prototype.hasOwnProperty.call(configTypes, property)) {
          var expectedTypes = configTypes[property];
          var value = config[property];
          var valueType = value && Util.isElement(value) ? 'element' : toType(value);

          if (!new RegExp(expectedTypes).test(valueType)) {
            throw new Error(componentName.toUpperCase() + ": " + ("Option \"" + property + "\" provided type \"" + valueType + "\" ") + ("but expected type \"" + expectedTypes + "\"."));
          }
        }
      }
    },
    findShadowRoot: function findShadowRoot(element) {
      if (!document.documentElement.attachShadow) {
        return null;
      } // Can find the shadow root otherwise it'll return the document


      if (typeof element.getRootNode === 'function') {
        var root = element.getRootNode();
        return root instanceof ShadowRoot ? root : null;
      }

      if (element instanceof ShadowRoot) {
        return element;
      } // when we don't find a shadow root


      if (!element.parentNode) {
        return null;
      }

      return Util.findShadowRoot(element.parentNode);
    },
    jQueryDetection: function jQueryDetection() {
      if (typeof $__default['default'] === 'undefined') {
        throw new TypeError('Bootstrap\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\'s JavaScript.');
      }

      var version = $__default['default'].fn.jquery.split(' ')[0].split('.');
      var minMajor = 1;
      var ltMajor = 2;
      var minMinor = 9;
      var minPatch = 1;
      var maxMajor = 4;

      if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {
        throw new Error('Bootstrap\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');
      }
    }
  };
  Util.jQueryDetection();
  setTransitionEndSupport();

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME = 'alert';
  var VERSION = '4.5.3';
  var DATA_KEY = 'bs.alert';
  var EVENT_KEY = "." + DATA_KEY;
  var DATA_API_KEY = '.data-api';
  var JQUERY_NO_CONFLICT = $__default['default'].fn[NAME];
  var SELECTOR_DISMISS = '[data-dismiss="alert"]';
  var EVENT_CLOSE = "close" + EVENT_KEY;
  var EVENT_CLOSED = "closed" + EVENT_KEY;
  var EVENT_CLICK_DATA_API = "click" + EVENT_KEY + DATA_API_KEY;
  var CLASS_NAME_ALERT = 'alert';
  var CLASS_NAME_FADE = 'fade';
  var CLASS_NAME_SHOW = 'show';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Alert = /*#__PURE__*/function () {
    function Alert(element) {
      this._element = element;
    } // Getters


    var _proto = Alert.prototype;

    // Public
    _proto.close = function close(element) {
      var rootElement = this._element;

      if (element) {
        rootElement = this._getRootElement(element);
      }

      var customEvent = this._triggerCloseEvent(rootElement);

      if (customEvent.isDefaultPrevented()) {
        return;
      }

      this._removeElement(rootElement);
    };

    _proto.dispose = function dispose() {
      $__default['default'].removeData(this._element, DATA_KEY);
      this._element = null;
    } // Private
    ;

    _proto._getRootElement = function _getRootElement(element) {
      var selector = Util.getSelectorFromElement(element);
      var parent = false;

      if (selector) {
        parent = document.querySelector(selector);
      }

      if (!parent) {
        parent = $__default['default'](element).closest("." + CLASS_NAME_ALERT)[0];
      }

      return parent;
    };

    _proto._triggerCloseEvent = function _triggerCloseEvent(element) {
      var closeEvent = $__default['default'].Event(EVENT_CLOSE);
      $__default['default'](element).trigger(closeEvent);
      return closeEvent;
    };

    _proto._removeElement = function _removeElement(element) {
      var _this = this;

      $__default['default'](element).removeClass(CLASS_NAME_SHOW);

      if (!$__default['default'](element).hasClass(CLASS_NAME_FADE)) {
        this._destroyElement(element);

        return;
      }

      var transitionDuration = Util.getTransitionDurationFromElement(element);
      $__default['default'](element).one(Util.TRANSITION_END, function (event) {
        return _this._destroyElement(element, event);
      }).emulateTransitionEnd(transitionDuration);
    };

    _proto._destroyElement = function _destroyElement(element) {
      $__default['default'](element).detach().trigger(EVENT_CLOSED).remove();
    } // Static
    ;

    Alert._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $element = $__default['default'](this);
        var data = $element.data(DATA_KEY);

        if (!data) {
          data = new Alert(this);
          $element.data(DATA_KEY, data);
        }

        if (config === 'close') {
          data[config](this);
        }
      });
    };

    Alert._handleDismiss = function _handleDismiss(alertInstance) {
      return function (event) {
        if (event) {
          event.preventDefault();
        }

        alertInstance.close(this);
      };
    };

    _createClass(Alert, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION;
      }
    }]);

    return Alert;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](document).on(EVENT_CLICK_DATA_API, SELECTOR_DISMISS, Alert._handleDismiss(new Alert()));
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME] = Alert._jQueryInterface;
  $__default['default'].fn[NAME].Constructor = Alert;

  $__default['default'].fn[NAME].noConflict = function () {
    $__default['default'].fn[NAME] = JQUERY_NO_CONFLICT;
    return Alert._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$1 = 'button';
  var VERSION$1 = '4.5.3';
  var DATA_KEY$1 = 'bs.button';
  var EVENT_KEY$1 = "." + DATA_KEY$1;
  var DATA_API_KEY$1 = '.data-api';
  var JQUERY_NO_CONFLICT$1 = $__default['default'].fn[NAME$1];
  var CLASS_NAME_ACTIVE = 'active';
  var CLASS_NAME_BUTTON = 'btn';
  var CLASS_NAME_FOCUS = 'focus';
  var SELECTOR_DATA_TOGGLE_CARROT = '[data-toggle^="button"]';
  var SELECTOR_DATA_TOGGLES = '[data-toggle="buttons"]';
  var SELECTOR_DATA_TOGGLE = '[data-toggle="button"]';
  var SELECTOR_DATA_TOGGLES_BUTTONS = '[data-toggle="buttons"] .btn';
  var SELECTOR_INPUT = 'input:not([type="hidden"])';
  var SELECTOR_ACTIVE = '.active';
  var SELECTOR_BUTTON = '.btn';
  var EVENT_CLICK_DATA_API$1 = "click" + EVENT_KEY$1 + DATA_API_KEY$1;
  var EVENT_FOCUS_BLUR_DATA_API = "focus" + EVENT_KEY$1 + DATA_API_KEY$1 + " " + ("blur" + EVENT_KEY$1 + DATA_API_KEY$1);
  var EVENT_LOAD_DATA_API = "load" + EVENT_KEY$1 + DATA_API_KEY$1;
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Button = /*#__PURE__*/function () {
    function Button(element) {
      this._element = element;
      this.shouldAvoidTriggerChange = false;
    } // Getters


    var _proto = Button.prototype;

    // Public
    _proto.toggle = function toggle() {
      var triggerChangeEvent = true;
      var addAriaPressed = true;
      var rootElement = $__default['default'](this._element).closest(SELECTOR_DATA_TOGGLES)[0];

      if (rootElement) {
        var input = this._element.querySelector(SELECTOR_INPUT);

        if (input) {
          if (input.type === 'radio') {
            if (input.checked && this._element.classList.contains(CLASS_NAME_ACTIVE)) {
              triggerChangeEvent = false;
            } else {
              var activeElement = rootElement.querySelector(SELECTOR_ACTIVE);

              if (activeElement) {
                $__default['default'](activeElement).removeClass(CLASS_NAME_ACTIVE);
              }
            }
          }

          if (triggerChangeEvent) {
            // if it's not a radio button or checkbox don't add a pointless/invalid checked property to the input
            if (input.type === 'checkbox' || input.type === 'radio') {
              input.checked = !this._element.classList.contains(CLASS_NAME_ACTIVE);
            }

            if (!this.shouldAvoidTriggerChange) {
              $__default['default'](input).trigger('change');
            }
          }

          input.focus();
          addAriaPressed = false;
        }
      }

      if (!(this._element.hasAttribute('disabled') || this._element.classList.contains('disabled'))) {
        if (addAriaPressed) {
          this._element.setAttribute('aria-pressed', !this._element.classList.contains(CLASS_NAME_ACTIVE));
        }

        if (triggerChangeEvent) {
          $__default['default'](this._element).toggleClass(CLASS_NAME_ACTIVE);
        }
      }
    };

    _proto.dispose = function dispose() {
      $__default['default'].removeData(this._element, DATA_KEY$1);
      this._element = null;
    } // Static
    ;

    Button._jQueryInterface = function _jQueryInterface(config, avoidTriggerChange) {
      return this.each(function () {
        var $element = $__default['default'](this);
        var data = $element.data(DATA_KEY$1);

        if (!data) {
          data = new Button(this);
          $element.data(DATA_KEY$1, data);
        }

        data.shouldAvoidTriggerChange = avoidTriggerChange;

        if (config === 'toggle') {
          data[config]();
        }
      });
    };

    _createClass(Button, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$1;
      }
    }]);

    return Button;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](document).on(EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE_CARROT, function (event) {
    var button = event.target;
    var initialButton = button;

    if (!$__default['default'](button).hasClass(CLASS_NAME_BUTTON)) {
      button = $__default['default'](button).closest(SELECTOR_BUTTON)[0];
    }

    if (!button || button.hasAttribute('disabled') || button.classList.contains('disabled')) {
      event.preventDefault(); // work around Firefox bug #1540995
    } else {
      var inputBtn = button.querySelector(SELECTOR_INPUT);

      if (inputBtn && (inputBtn.hasAttribute('disabled') || inputBtn.classList.contains('disabled'))) {
        event.preventDefault(); // work around Firefox bug #1540995

        return;
      }

      if (initialButton.tagName === 'INPUT' || button.tagName !== 'LABEL') {
        Button._jQueryInterface.call($__default['default'](button), 'toggle', initialButton.tagName === 'INPUT');
      }
    }
  }).on(EVENT_FOCUS_BLUR_DATA_API, SELECTOR_DATA_TOGGLE_CARROT, function (event) {
    var button = $__default['default'](event.target).closest(SELECTOR_BUTTON)[0];
    $__default['default'](button).toggleClass(CLASS_NAME_FOCUS, /^focus(in)?$/.test(event.type));
  });
  $__default['default'](window).on(EVENT_LOAD_DATA_API, function () {
    // ensure correct active class is set to match the controls' actual values/states
    // find all checkboxes/readio buttons inside data-toggle groups
    var buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLES_BUTTONS));

    for (var i = 0, len = buttons.length; i < len; i++) {
      var button = buttons[i];
      var input = button.querySelector(SELECTOR_INPUT);

      if (input.checked || input.hasAttribute('checked')) {
        button.classList.add(CLASS_NAME_ACTIVE);
      } else {
        button.classList.remove(CLASS_NAME_ACTIVE);
      }
    } // find all button toggles


    buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE));

    for (var _i = 0, _len = buttons.length; _i < _len; _i++) {
      var _button = buttons[_i];

      if (_button.getAttribute('aria-pressed') === 'true') {
        _button.classList.add(CLASS_NAME_ACTIVE);
      } else {
        _button.classList.remove(CLASS_NAME_ACTIVE);
      }
    }
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME$1] = Button._jQueryInterface;
  $__default['default'].fn[NAME$1].Constructor = Button;

  $__default['default'].fn[NAME$1].noConflict = function () {
    $__default['default'].fn[NAME$1] = JQUERY_NO_CONFLICT$1;
    return Button._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$2 = 'carousel';
  var VERSION$2 = '4.5.3';
  var DATA_KEY$2 = 'bs.carousel';
  var EVENT_KEY$2 = "." + DATA_KEY$2;
  var DATA_API_KEY$2 = '.data-api';
  var JQUERY_NO_CONFLICT$2 = $__default['default'].fn[NAME$2];
  var ARROW_LEFT_KEYCODE = 37; // KeyboardEvent.which value for left arrow key

  var ARROW_RIGHT_KEYCODE = 39; // KeyboardEvent.which value for right arrow key

  var TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch

  var SWIPE_THRESHOLD = 40;
  var Default = {
    interval: 5000,
    keyboard: true,
    slide: false,
    pause: 'hover',
    wrap: true,
    touch: true
  };
  var DefaultType = {
    interval: '(number|boolean)',
    keyboard: 'boolean',
    slide: '(boolean|string)',
    pause: '(string|boolean)',
    wrap: 'boolean',
    touch: 'boolean'
  };
  var DIRECTION_NEXT = 'next';
  var DIRECTION_PREV = 'prev';
  var DIRECTION_LEFT = 'left';
  var DIRECTION_RIGHT = 'right';
  var EVENT_SLIDE = "slide" + EVENT_KEY$2;
  var EVENT_SLID = "slid" + EVENT_KEY$2;
  var EVENT_KEYDOWN = "keydown" + EVENT_KEY$2;
  var EVENT_MOUSEENTER = "mouseenter" + EVENT_KEY$2;
  var EVENT_MOUSELEAVE = "mouseleave" + EVENT_KEY$2;
  var EVENT_TOUCHSTART = "touchstart" + EVENT_KEY$2;
  var EVENT_TOUCHMOVE = "touchmove" + EVENT_KEY$2;
  var EVENT_TOUCHEND = "touchend" + EVENT_KEY$2;
  var EVENT_POINTERDOWN = "pointerdown" + EVENT_KEY$2;
  var EVENT_POINTERUP = "pointerup" + EVENT_KEY$2;
  var EVENT_DRAG_START = "dragstart" + EVENT_KEY$2;
  var EVENT_LOAD_DATA_API$1 = "load" + EVENT_KEY$2 + DATA_API_KEY$2;
  var EVENT_CLICK_DATA_API$2 = "click" + EVENT_KEY$2 + DATA_API_KEY$2;
  var CLASS_NAME_CAROUSEL = 'carousel';
  var CLASS_NAME_ACTIVE$1 = 'active';
  var CLASS_NAME_SLIDE = 'slide';
  var CLASS_NAME_RIGHT = 'carousel-item-right';
  var CLASS_NAME_LEFT = 'carousel-item-left';
  var CLASS_NAME_NEXT = 'carousel-item-next';
  var CLASS_NAME_PREV = 'carousel-item-prev';
  var CLASS_NAME_POINTER_EVENT = 'pointer-event';
  var SELECTOR_ACTIVE$1 = '.active';
  var SELECTOR_ACTIVE_ITEM = '.active.carousel-item';
  var SELECTOR_ITEM = '.carousel-item';
  var SELECTOR_ITEM_IMG = '.carousel-item img';
  var SELECTOR_NEXT_PREV = '.carousel-item-next, .carousel-item-prev';
  var SELECTOR_INDICATORS = '.carousel-indicators';
  var SELECTOR_DATA_SLIDE = '[data-slide], [data-slide-to]';
  var SELECTOR_DATA_RIDE = '[data-ride="carousel"]';
  var PointerType = {
    TOUCH: 'touch',
    PEN: 'pen'
  };
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Carousel = /*#__PURE__*/function () {
    function Carousel(element, config) {
      this._items = null;
      this._interval = null;
      this._activeElement = null;
      this._isPaused = false;
      this._isSliding = false;
      this.touchTimeout = null;
      this.touchStartX = 0;
      this.touchDeltaX = 0;
      this._config = this._getConfig(config);
      this._element = element;
      this._indicatorsElement = this._element.querySelector(SELECTOR_INDICATORS);
      this._touchSupported = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;
      this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent);

      this._addEventListeners();
    } // Getters


    var _proto = Carousel.prototype;

    // Public
    _proto.next = function next() {
      if (!this._isSliding) {
        this._slide(DIRECTION_NEXT);
      }
    };

    _proto.nextWhenVisible = function nextWhenVisible() {
      var $element = $__default['default'](this._element); // Don't call next when the page isn't visible
      // or the carousel or its parent isn't visible

      if (!document.hidden && $element.is(':visible') && $element.css('visibility') !== 'hidden') {
        this.next();
      }
    };

    _proto.prev = function prev() {
      if (!this._isSliding) {
        this._slide(DIRECTION_PREV);
      }
    };

    _proto.pause = function pause(event) {
      if (!event) {
        this._isPaused = true;
      }

      if (this._element.querySelector(SELECTOR_NEXT_PREV)) {
        Util.triggerTransitionEnd(this._element);
        this.cycle(true);
      }

      clearInterval(this._interval);
      this._interval = null;
    };

    _proto.cycle = function cycle(event) {
      if (!event) {
        this._isPaused = false;
      }

      if (this._interval) {
        clearInterval(this._interval);
        this._interval = null;
      }

      if (this._config.interval && !this._isPaused) {
        this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval);
      }
    };

    _proto.to = function to(index) {
      var _this = this;

      this._activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);

      var activeIndex = this._getItemIndex(this._activeElement);

      if (index > this._items.length - 1 || index < 0) {
        return;
      }

      if (this._isSliding) {
        $__default['default'](this._element).one(EVENT_SLID, function () {
          return _this.to(index);
        });
        return;
      }

      if (activeIndex === index) {
        this.pause();
        this.cycle();
        return;
      }

      var direction = index > activeIndex ? DIRECTION_NEXT : DIRECTION_PREV;

      this._slide(direction, this._items[index]);
    };

    _proto.dispose = function dispose() {
      $__default['default'](this._element).off(EVENT_KEY$2);
      $__default['default'].removeData(this._element, DATA_KEY$2);
      this._items = null;
      this._config = null;
      this._element = null;
      this._interval = null;
      this._isPaused = null;
      this._isSliding = null;
      this._activeElement = null;
      this._indicatorsElement = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _extends({}, Default, config);
      Util.typeCheckConfig(NAME$2, config, DefaultType);
      return config;
    };

    _proto._handleSwipe = function _handleSwipe() {
      var absDeltax = Math.abs(this.touchDeltaX);

      if (absDeltax <= SWIPE_THRESHOLD) {
        return;
      }

      var direction = absDeltax / this.touchDeltaX;
      this.touchDeltaX = 0; // swipe left

      if (direction > 0) {
        this.prev();
      } // swipe right


      if (direction < 0) {
        this.next();
      }
    };

    _proto._addEventListeners = function _addEventListeners() {
      var _this2 = this;

      if (this._config.keyboard) {
        $__default['default'](this._element).on(EVENT_KEYDOWN, function (event) {
          return _this2._keydown(event);
        });
      }

      if (this._config.pause === 'hover') {
        $__default['default'](this._element).on(EVENT_MOUSEENTER, function (event) {
          return _this2.pause(event);
        }).on(EVENT_MOUSELEAVE, function (event) {
          return _this2.cycle(event);
        });
      }

      if (this._config.touch) {
        this._addTouchEventListeners();
      }
    };

    _proto._addTouchEventListeners = function _addTouchEventListeners() {
      var _this3 = this;

      if (!this._touchSupported) {
        return;
      }

      var start = function start(event) {
        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {
          _this3.touchStartX = event.originalEvent.clientX;
        } else if (!_this3._pointerEvent) {
          _this3.touchStartX = event.originalEvent.touches[0].clientX;
        }
      };

      var move = function move(event) {
        // ensure swiping with one touch and not pinching
        if (event.originalEvent.touches && event.originalEvent.touches.length > 1) {
          _this3.touchDeltaX = 0;
        } else {
          _this3.touchDeltaX = event.originalEvent.touches[0].clientX - _this3.touchStartX;
        }
      };

      var end = function end(event) {
        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {
          _this3.touchDeltaX = event.originalEvent.clientX - _this3.touchStartX;
        }

        _this3._handleSwipe();

        if (_this3._config.pause === 'hover') {
          // If it's a touch-enabled device, mouseenter/leave are fired as
          // part of the mouse compatibility events on first tap - the carousel
          // would stop cycling until user tapped out of it;
          // here, we listen for touchend, explicitly pause the carousel
          // (as if it's the second time we tap on it, mouseenter compat event
          // is NOT fired) and after a timeout (to allow for mouse compatibility
          // events to fire) we explicitly restart cycling
          _this3.pause();

          if (_this3.touchTimeout) {
            clearTimeout(_this3.touchTimeout);
          }

          _this3.touchTimeout = setTimeout(function (event) {
            return _this3.cycle(event);
          }, TOUCHEVENT_COMPAT_WAIT + _this3._config.interval);
        }
      };

      $__default['default'](this._element.querySelectorAll(SELECTOR_ITEM_IMG)).on(EVENT_DRAG_START, function (e) {
        return e.preventDefault();
      });

      if (this._pointerEvent) {
        $__default['default'](this._element).on(EVENT_POINTERDOWN, function (event) {
          return start(event);
        });
        $__default['default'](this._element).on(EVENT_POINTERUP, function (event) {
          return end(event);
        });

        this._element.classList.add(CLASS_NAME_POINTER_EVENT);
      } else {
        $__default['default'](this._element).on(EVENT_TOUCHSTART, function (event) {
          return start(event);
        });
        $__default['default'](this._element).on(EVENT_TOUCHMOVE, function (event) {
          return move(event);
        });
        $__default['default'](this._element).on(EVENT_TOUCHEND, function (event) {
          return end(event);
        });
      }
    };

    _proto._keydown = function _keydown(event) {
      if (/input|textarea/i.test(event.target.tagName)) {
        return;
      }

      switch (event.which) {
        case ARROW_LEFT_KEYCODE:
          event.preventDefault();
          this.prev();
          break;

        case ARROW_RIGHT_KEYCODE:
          event.preventDefault();
          this.next();
          break;
      }
    };

    _proto._getItemIndex = function _getItemIndex(element) {
      this._items = element && element.parentNode ? [].slice.call(element.parentNode.querySelectorAll(SELECTOR_ITEM)) : [];
      return this._items.indexOf(element);
    };

    _proto._getItemByDirection = function _getItemByDirection(direction, activeElement) {
      var isNextDirection = direction === DIRECTION_NEXT;
      var isPrevDirection = direction === DIRECTION_PREV;

      var activeIndex = this._getItemIndex(activeElement);

      var lastItemIndex = this._items.length - 1;
      var isGoingToWrap = isPrevDirection && activeIndex === 0 || isNextDirection && activeIndex === lastItemIndex;

      if (isGoingToWrap && !this._config.wrap) {
        return activeElement;
      }

      var delta = direction === DIRECTION_PREV ? -1 : 1;
      var itemIndex = (activeIndex + delta) % this._items.length;
      return itemIndex === -1 ? this._items[this._items.length - 1] : this._items[itemIndex];
    };

    _proto._triggerSlideEvent = function _triggerSlideEvent(relatedTarget, eventDirectionName) {
      var targetIndex = this._getItemIndex(relatedTarget);

      var fromIndex = this._getItemIndex(this._element.querySelector(SELECTOR_ACTIVE_ITEM));

      var slideEvent = $__default['default'].Event(EVENT_SLIDE, {
        relatedTarget: relatedTarget,
        direction: eventDirectionName,
        from: fromIndex,
        to: targetIndex
      });
      $__default['default'](this._element).trigger(slideEvent);
      return slideEvent;
    };

    _proto._setActiveIndicatorElement = function _setActiveIndicatorElement(element) {
      if (this._indicatorsElement) {
        var indicators = [].slice.call(this._indicatorsElement.querySelectorAll(SELECTOR_ACTIVE$1));
        $__default['default'](indicators).removeClass(CLASS_NAME_ACTIVE$1);

        var nextIndicator = this._indicatorsElement.children[this._getItemIndex(element)];

        if (nextIndicator) {
          $__default['default'](nextIndicator).addClass(CLASS_NAME_ACTIVE$1);
        }
      }
    };

    _proto._slide = function _slide(direction, element) {
      var _this4 = this;

      var activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);

      var activeElementIndex = this._getItemIndex(activeElement);

      var nextElement = element || activeElement && this._getItemByDirection(direction, activeElement);

      var nextElementIndex = this._getItemIndex(nextElement);

      var isCycling = Boolean(this._interval);
      var directionalClassName;
      var orderClassName;
      var eventDirectionName;

      if (direction === DIRECTION_NEXT) {
        directionalClassName = CLASS_NAME_LEFT;
        orderClassName = CLASS_NAME_NEXT;
        eventDirectionName = DIRECTION_LEFT;
      } else {
        directionalClassName = CLASS_NAME_RIGHT;
        orderClassName = CLASS_NAME_PREV;
        eventDirectionName = DIRECTION_RIGHT;
      }

      if (nextElement && $__default['default'](nextElement).hasClass(CLASS_NAME_ACTIVE$1)) {
        this._isSliding = false;
        return;
      }

      var slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName);

      if (slideEvent.isDefaultPrevented()) {
        return;
      }

      if (!activeElement || !nextElement) {
        // Some weirdness is happening, so we bail
        return;
      }

      this._isSliding = true;

      if (isCycling) {
        this.pause();
      }

      this._setActiveIndicatorElement(nextElement);

      var slidEvent = $__default['default'].Event(EVENT_SLID, {
        relatedTarget: nextElement,
        direction: eventDirectionName,
        from: activeElementIndex,
        to: nextElementIndex
      });

      if ($__default['default'](this._element).hasClass(CLASS_NAME_SLIDE)) {
        $__default['default'](nextElement).addClass(orderClassName);
        Util.reflow(nextElement);
        $__default['default'](activeElement).addClass(directionalClassName);
        $__default['default'](nextElement).addClass(directionalClassName);
        var nextElementInterval = parseInt(nextElement.getAttribute('data-interval'), 10);

        if (nextElementInterval) {
          this._config.defaultInterval = this._config.defaultInterval || this._config.interval;
          this._config.interval = nextElementInterval;
        } else {
          this._config.interval = this._config.defaultInterval || this._config.interval;
        }

        var transitionDuration = Util.getTransitionDurationFromElement(activeElement);
        $__default['default'](activeElement).one(Util.TRANSITION_END, function () {
          $__default['default'](nextElement).removeClass(directionalClassName + " " + orderClassName).addClass(CLASS_NAME_ACTIVE$1);
          $__default['default'](activeElement).removeClass(CLASS_NAME_ACTIVE$1 + " " + orderClassName + " " + directionalClassName);
          _this4._isSliding = false;
          setTimeout(function () {
            return $__default['default'](_this4._element).trigger(slidEvent);
          }, 0);
        }).emulateTransitionEnd(transitionDuration);
      } else {
        $__default['default'](activeElement).removeClass(CLASS_NAME_ACTIVE$1);
        $__default['default'](nextElement).addClass(CLASS_NAME_ACTIVE$1);
        this._isSliding = false;
        $__default['default'](this._element).trigger(slidEvent);
      }

      if (isCycling) {
        this.cycle();
      }
    } // Static
    ;

    Carousel._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $__default['default'](this).data(DATA_KEY$2);

        var _config = _extends({}, Default, $__default['default'](this).data());

        if (typeof config === 'object') {
          _config = _extends({}, _config, config);
        }

        var action = typeof config === 'string' ? config : _config.slide;

        if (!data) {
          data = new Carousel(this, _config);
          $__default['default'](this).data(DATA_KEY$2, data);
        }

        if (typeof config === 'number') {
          data.to(config);
        } else if (typeof action === 'string') {
          if (typeof data[action] === 'undefined') {
            throw new TypeError("No method named \"" + action + "\"");
          }

          data[action]();
        } else if (_config.interval && _config.ride) {
          data.pause();
          data.cycle();
        }
      });
    };

    Carousel._dataApiClickHandler = function _dataApiClickHandler(event) {
      var selector = Util.getSelectorFromElement(this);

      if (!selector) {
        return;
      }

      var target = $__default['default'](selector)[0];

      if (!target || !$__default['default'](target).hasClass(CLASS_NAME_CAROUSEL)) {
        return;
      }

      var config = _extends({}, $__default['default'](target).data(), $__default['default'](this).data());

      var slideIndex = this.getAttribute('data-slide-to');

      if (slideIndex) {
        config.interval = false;
      }

      Carousel._jQueryInterface.call($__default['default'](target), config);

      if (slideIndex) {
        $__default['default'](target).data(DATA_KEY$2).to(slideIndex);
      }

      event.preventDefault();
    };

    _createClass(Carousel, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$2;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default;
      }
    }]);

    return Carousel;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](document).on(EVENT_CLICK_DATA_API$2, SELECTOR_DATA_SLIDE, Carousel._dataApiClickHandler);
  $__default['default'](window).on(EVENT_LOAD_DATA_API$1, function () {
    var carousels = [].slice.call(document.querySelectorAll(SELECTOR_DATA_RIDE));

    for (var i = 0, len = carousels.length; i < len; i++) {
      var $carousel = $__default['default'](carousels[i]);

      Carousel._jQueryInterface.call($carousel, $carousel.data());
    }
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME$2] = Carousel._jQueryInterface;
  $__default['default'].fn[NAME$2].Constructor = Carousel;

  $__default['default'].fn[NAME$2].noConflict = function () {
    $__default['default'].fn[NAME$2] = JQUERY_NO_CONFLICT$2;
    return Carousel._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$3 = 'collapse';
  var VERSION$3 = '4.5.3';
  var DATA_KEY$3 = 'bs.collapse';
  var EVENT_KEY$3 = "." + DATA_KEY$3;
  var DATA_API_KEY$3 = '.data-api';
  var JQUERY_NO_CONFLICT$3 = $__default['default'].fn[NAME$3];
  var Default$1 = {
    toggle: true,
    parent: ''
  };
  var DefaultType$1 = {
    toggle: 'boolean',
    parent: '(string|element)'
  };
  var EVENT_SHOW = "show" + EVENT_KEY$3;
  var EVENT_SHOWN = "shown" + EVENT_KEY$3;
  var EVENT_HIDE = "hide" + EVENT_KEY$3;
  var EVENT_HIDDEN = "hidden" + EVENT_KEY$3;
  var EVENT_CLICK_DATA_API$3 = "click" + EVENT_KEY$3 + DATA_API_KEY$3;
  var CLASS_NAME_SHOW$1 = 'show';
  var CLASS_NAME_COLLAPSE = 'collapse';
  var CLASS_NAME_COLLAPSING = 'collapsing';
  var CLASS_NAME_COLLAPSED = 'collapsed';
  var DIMENSION_WIDTH = 'width';
  var DIMENSION_HEIGHT = 'height';
  var SELECTOR_ACTIVES = '.show, .collapsing';
  var SELECTOR_DATA_TOGGLE$1 = '[data-toggle="collapse"]';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Collapse = /*#__PURE__*/function () {
    function Collapse(element, config) {
      this._isTransitioning = false;
      this._element = element;
      this._config = this._getConfig(config);
      this._triggerArray = [].slice.call(document.querySelectorAll("[data-toggle=\"collapse\"][href=\"#" + element.id + "\"]," + ("[data-toggle=\"collapse\"][data-target=\"#" + element.id + "\"]")));
      var toggleList = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$1));

      for (var i = 0, len = toggleList.length; i < len; i++) {
        var elem = toggleList[i];
        var selector = Util.getSelectorFromElement(elem);
        var filterElement = [].slice.call(document.querySelectorAll(selector)).filter(function (foundElem) {
          return foundElem === element;
        });

        if (selector !== null && filterElement.length > 0) {
          this._selector = selector;

          this._triggerArray.push(elem);
        }
      }

      this._parent = this._config.parent ? this._getParent() : null;

      if (!this._config.parent) {
        this._addAriaAndCollapsedClass(this._element, this._triggerArray);
      }

      if (this._config.toggle) {
        this.toggle();
      }
    } // Getters


    var _proto = Collapse.prototype;

    // Public
    _proto.toggle = function toggle() {
      if ($__default['default'](this._element).hasClass(CLASS_NAME_SHOW$1)) {
        this.hide();
      } else {
        this.show();
      }
    };

    _proto.show = function show() {
      var _this = this;

      if (this._isTransitioning || $__default['default'](this._element).hasClass(CLASS_NAME_SHOW$1)) {
        return;
      }

      var actives;
      var activesData;

      if (this._parent) {
        actives = [].slice.call(this._parent.querySelectorAll(SELECTOR_ACTIVES)).filter(function (elem) {
          if (typeof _this._config.parent === 'string') {
            return elem.getAttribute('data-parent') === _this._config.parent;
          }

          return elem.classList.contains(CLASS_NAME_COLLAPSE);
        });

        if (actives.length === 0) {
          actives = null;
        }
      }

      if (actives) {
        activesData = $__default['default'](actives).not(this._selector).data(DATA_KEY$3);

        if (activesData && activesData._isTransitioning) {
          return;
        }
      }

      var startEvent = $__default['default'].Event(EVENT_SHOW);
      $__default['default'](this._element).trigger(startEvent);

      if (startEvent.isDefaultPrevented()) {
        return;
      }

      if (actives) {
        Collapse._jQueryInterface.call($__default['default'](actives).not(this._selector), 'hide');

        if (!activesData) {
          $__default['default'](actives).data(DATA_KEY$3, null);
        }
      }

      var dimension = this._getDimension();

      $__default['default'](this._element).removeClass(CLASS_NAME_COLLAPSE).addClass(CLASS_NAME_COLLAPSING);
      this._element.style[dimension] = 0;

      if (this._triggerArray.length) {
        $__default['default'](this._triggerArray).removeClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', true);
      }

      this.setTransitioning(true);

      var complete = function complete() {
        $__default['default'](_this._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE + " " + CLASS_NAME_SHOW$1);
        _this._element.style[dimension] = '';

        _this.setTransitioning(false);

        $__default['default'](_this._element).trigger(EVENT_SHOWN);
      };

      var capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);
      var scrollSize = "scroll" + capitalizedDimension;
      var transitionDuration = Util.getTransitionDurationFromElement(this._element);
      $__default['default'](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      this._element.style[dimension] = this._element[scrollSize] + "px";
    };

    _proto.hide = function hide() {
      var _this2 = this;

      if (this._isTransitioning || !$__default['default'](this._element).hasClass(CLASS_NAME_SHOW$1)) {
        return;
      }

      var startEvent = $__default['default'].Event(EVENT_HIDE);
      $__default['default'](this._element).trigger(startEvent);

      if (startEvent.isDefaultPrevented()) {
        return;
      }

      var dimension = this._getDimension();

      this._element.style[dimension] = this._element.getBoundingClientRect()[dimension] + "px";
      Util.reflow(this._element);
      $__default['default'](this._element).addClass(CLASS_NAME_COLLAPSING).removeClass(CLASS_NAME_COLLAPSE + " " + CLASS_NAME_SHOW$1);
      var triggerArrayLength = this._triggerArray.length;

      if (triggerArrayLength > 0) {
        for (var i = 0; i < triggerArrayLength; i++) {
          var trigger = this._triggerArray[i];
          var selector = Util.getSelectorFromElement(trigger);

          if (selector !== null) {
            var $elem = $__default['default']([].slice.call(document.querySelectorAll(selector)));

            if (!$elem.hasClass(CLASS_NAME_SHOW$1)) {
              $__default['default'](trigger).addClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', false);
            }
          }
        }
      }

      this.setTransitioning(true);

      var complete = function complete() {
        _this2.setTransitioning(false);

        $__default['default'](_this2._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE).trigger(EVENT_HIDDEN);
      };

      this._element.style[dimension] = '';
      var transitionDuration = Util.getTransitionDurationFromElement(this._element);
      $__default['default'](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
    };

    _proto.setTransitioning = function setTransitioning(isTransitioning) {
      this._isTransitioning = isTransitioning;
    };

    _proto.dispose = function dispose() {
      $__default['default'].removeData(this._element, DATA_KEY$3);
      this._config = null;
      this._parent = null;
      this._element = null;
      this._triggerArray = null;
      this._isTransitioning = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _extends({}, Default$1, config);
      config.toggle = Boolean(config.toggle); // Coerce string values

      Util.typeCheckConfig(NAME$3, config, DefaultType$1);
      return config;
    };

    _proto._getDimension = function _getDimension() {
      var hasWidth = $__default['default'](this._element).hasClass(DIMENSION_WIDTH);
      return hasWidth ? DIMENSION_WIDTH : DIMENSION_HEIGHT;
    };

    _proto._getParent = function _getParent() {
      var _this3 = this;

      var parent;

      if (Util.isElement(this._config.parent)) {
        parent = this._config.parent; // It's a jQuery object

        if (typeof this._config.parent.jquery !== 'undefined') {
          parent = this._config.parent[0];
        }
      } else {
        parent = document.querySelector(this._config.parent);
      }

      var selector = "[data-toggle=\"collapse\"][data-parent=\"" + this._config.parent + "\"]";
      var children = [].slice.call(parent.querySelectorAll(selector));
      $__default['default'](children).each(function (i, element) {
        _this3._addAriaAndCollapsedClass(Collapse._getTargetFromElement(element), [element]);
      });
      return parent;
    };

    _proto._addAriaAndCollapsedClass = function _addAriaAndCollapsedClass(element, triggerArray) {
      var isOpen = $__default['default'](element).hasClass(CLASS_NAME_SHOW$1);

      if (triggerArray.length) {
        $__default['default'](triggerArray).toggleClass(CLASS_NAME_COLLAPSED, !isOpen).attr('aria-expanded', isOpen);
      }
    } // Static
    ;

    Collapse._getTargetFromElement = function _getTargetFromElement(element) {
      var selector = Util.getSelectorFromElement(element);
      return selector ? document.querySelector(selector) : null;
    };

    Collapse._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $element = $__default['default'](this);
        var data = $element.data(DATA_KEY$3);

        var _config = _extends({}, Default$1, $element.data(), typeof config === 'object' && config ? config : {});

        if (!data && _config.toggle && typeof config === 'string' && /show|hide/.test(config)) {
          _config.toggle = false;
        }

        if (!data) {
          data = new Collapse(this, _config);
          $element.data(DATA_KEY$3, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Collapse, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$3;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$1;
      }
    }]);

    return Collapse;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](document).on(EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$1, function (event) {
    // preventDefault only for <a> elements (which change the URL) not inside the collapsible element
    if (event.currentTarget.tagName === 'A') {
      event.preventDefault();
    }

    var $trigger = $__default['default'](this);
    var selector = Util.getSelectorFromElement(this);
    var selectors = [].slice.call(document.querySelectorAll(selector));
    $__default['default'](selectors).each(function () {
      var $target = $__default['default'](this);
      var data = $target.data(DATA_KEY$3);
      var config = data ? 'toggle' : $trigger.data();

      Collapse._jQueryInterface.call($target, config);
    });
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME$3] = Collapse._jQueryInterface;
  $__default['default'].fn[NAME$3].Constructor = Collapse;

  $__default['default'].fn[NAME$3].noConflict = function () {
    $__default['default'].fn[NAME$3] = JQUERY_NO_CONFLICT$3;
    return Collapse._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$4 = 'dropdown';
  var VERSION$4 = '4.5.3';
  var DATA_KEY$4 = 'bs.dropdown';
  var EVENT_KEY$4 = "." + DATA_KEY$4;
  var DATA_API_KEY$4 = '.data-api';
  var JQUERY_NO_CONFLICT$4 = $__default['default'].fn[NAME$4];
  var ESCAPE_KEYCODE = 27; // KeyboardEvent.which value for Escape (Esc) key

  var SPACE_KEYCODE = 32; // KeyboardEvent.which value for space key

  var TAB_KEYCODE = 9; // KeyboardEvent.which value for tab key

  var ARROW_UP_KEYCODE = 38; // KeyboardEvent.which value for up arrow key

  var ARROW_DOWN_KEYCODE = 40; // KeyboardEvent.which value for down arrow key

  var RIGHT_MOUSE_BUTTON_WHICH = 3; // MouseEvent.which value for the right button (assuming a right-handed mouse)

  var REGEXP_KEYDOWN = new RegExp(ARROW_UP_KEYCODE + "|" + ARROW_DOWN_KEYCODE + "|" + ESCAPE_KEYCODE);
  var EVENT_HIDE$1 = "hide" + EVENT_KEY$4;
  var EVENT_HIDDEN$1 = "hidden" + EVENT_KEY$4;
  var EVENT_SHOW$1 = "show" + EVENT_KEY$4;
  var EVENT_SHOWN$1 = "shown" + EVENT_KEY$4;
  var EVENT_CLICK = "click" + EVENT_KEY$4;
  var EVENT_CLICK_DATA_API$4 = "click" + EVENT_KEY$4 + DATA_API_KEY$4;
  var EVENT_KEYDOWN_DATA_API = "keydown" + EVENT_KEY$4 + DATA_API_KEY$4;
  var EVENT_KEYUP_DATA_API = "keyup" + EVENT_KEY$4 + DATA_API_KEY$4;
  var CLASS_NAME_DISABLED = 'disabled';
  var CLASS_NAME_SHOW$2 = 'show';
  var CLASS_NAME_DROPUP = 'dropup';
  var CLASS_NAME_DROPRIGHT = 'dropright';
  var CLASS_NAME_DROPLEFT = 'dropleft';
  var CLASS_NAME_MENURIGHT = 'dropdown-menu-right';
  var CLASS_NAME_POSITION_STATIC = 'position-static';
  var SELECTOR_DATA_TOGGLE$2 = '[data-toggle="dropdown"]';
  var SELECTOR_FORM_CHILD = '.dropdown form';
  var SELECTOR_MENU = '.dropdown-menu';
  var SELECTOR_NAVBAR_NAV = '.navbar-nav';
  var SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';
  var PLACEMENT_TOP = 'top-start';
  var PLACEMENT_TOPEND = 'top-end';
  var PLACEMENT_BOTTOM = 'bottom-start';
  var PLACEMENT_BOTTOMEND = 'bottom-end';
  var PLACEMENT_RIGHT = 'right-start';
  var PLACEMENT_LEFT = 'left-start';
  var Default$2 = {
    offset: 0,
    flip: true,
    boundary: 'scrollParent',
    reference: 'toggle',
    display: 'dynamic',
    popperConfig: null
  };
  var DefaultType$2 = {
    offset: '(number|string|function)',
    flip: 'boolean',
    boundary: '(string|element)',
    reference: '(string|element)',
    display: 'string',
    popperConfig: '(null|object)'
  };
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Dropdown = /*#__PURE__*/function () {
    function Dropdown(element, config) {
      this._element = element;
      this._popper = null;
      this._config = this._getConfig(config);
      this._menu = this._getMenuElement();
      this._inNavbar = this._detectNavbar();

      this._addEventListeners();
    } // Getters


    var _proto = Dropdown.prototype;

    // Public
    _proto.toggle = function toggle() {
      if (this._element.disabled || $__default['default'](this._element).hasClass(CLASS_NAME_DISABLED)) {
        return;
      }

      var isActive = $__default['default'](this._menu).hasClass(CLASS_NAME_SHOW$2);

      Dropdown._clearMenus();

      if (isActive) {
        return;
      }

      this.show(true);
    };

    _proto.show = function show(usePopper) {
      if (usePopper === void 0) {
        usePopper = false;
      }

      if (this._element.disabled || $__default['default'](this._element).hasClass(CLASS_NAME_DISABLED) || $__default['default'](this._menu).hasClass(CLASS_NAME_SHOW$2)) {
        return;
      }

      var relatedTarget = {
        relatedTarget: this._element
      };
      var showEvent = $__default['default'].Event(EVENT_SHOW$1, relatedTarget);

      var parent = Dropdown._getParentFromElement(this._element);

      $__default['default'](parent).trigger(showEvent);

      if (showEvent.isDefaultPrevented()) {
        return;
      } // Disable totally Popper.js for Dropdown in Navbar


      if (!this._inNavbar && usePopper) {
        /**
         * Check for Popper dependency
         * Popper - https://popper.js.org
         */
        if (typeof Popper__default['default'] === 'undefined') {
          throw new TypeError('Bootstrap\'s dropdowns require Popper.js (https://popper.js.org/)');
        }

        var referenceElement = this._element;

        if (this._config.reference === 'parent') {
          referenceElement = parent;
        } else if (Util.isElement(this._config.reference)) {
          referenceElement = this._config.reference; // Check if it's jQuery element

          if (typeof this._config.reference.jquery !== 'undefined') {
            referenceElement = this._config.reference[0];
          }
        } // If boundary is not `scrollParent`, then set position to `static`
        // to allow the menu to "escape" the scroll parent's boundaries
        // https://github.com/twbs/bootstrap/issues/24251


        if (this._config.boundary !== 'scrollParent') {
          $__default['default'](parent).addClass(CLASS_NAME_POSITION_STATIC);
        }

        this._popper = new Popper__default['default'](referenceElement, this._menu, this._getPopperConfig());
      } // If this is a touch-enabled device we add extra
      // empty mouseover listeners to the body's immediate children;
      // only needed because of broken event delegation on iOS
      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html


      if ('ontouchstart' in document.documentElement && $__default['default'](parent).closest(SELECTOR_NAVBAR_NAV).length === 0) {
        $__default['default'](document.body).children().on('mouseover', null, $__default['default'].noop);
      }

      this._element.focus();

      this._element.setAttribute('aria-expanded', true);

      $__default['default'](this._menu).toggleClass(CLASS_NAME_SHOW$2);
      $__default['default'](parent).toggleClass(CLASS_NAME_SHOW$2).trigger($__default['default'].Event(EVENT_SHOWN$1, relatedTarget));
    };

    _proto.hide = function hide() {
      if (this._element.disabled || $__default['default'](this._element).hasClass(CLASS_NAME_DISABLED) || !$__default['default'](this._menu).hasClass(CLASS_NAME_SHOW$2)) {
        return;
      }

      var relatedTarget = {
        relatedTarget: this._element
      };
      var hideEvent = $__default['default'].Event(EVENT_HIDE$1, relatedTarget);

      var parent = Dropdown._getParentFromElement(this._element);

      $__default['default'](parent).trigger(hideEvent);

      if (hideEvent.isDefaultPrevented()) {
        return;
      }

      if (this._popper) {
        this._popper.destroy();
      }

      $__default['default'](this._menu).toggleClass(CLASS_NAME_SHOW$2);
      $__default['default'](parent).toggleClass(CLASS_NAME_SHOW$2).trigger($__default['default'].Event(EVENT_HIDDEN$1, relatedTarget));
    };

    _proto.dispose = function dispose() {
      $__default['default'].removeData(this._element, DATA_KEY$4);
      $__default['default'](this._element).off(EVENT_KEY$4);
      this._element = null;
      this._menu = null;

      if (this._popper !== null) {
        this._popper.destroy();

        this._popper = null;
      }
    };

    _proto.update = function update() {
      this._inNavbar = this._detectNavbar();

      if (this._popper !== null) {
        this._popper.scheduleUpdate();
      }
    } // Private
    ;

    _proto._addEventListeners = function _addEventListeners() {
      var _this = this;

      $__default['default'](this._element).on(EVENT_CLICK, function (event) {
        event.preventDefault();
        event.stopPropagation();

        _this.toggle();
      });
    };

    _proto._getConfig = function _getConfig(config) {
      config = _extends({}, this.constructor.Default, $__default['default'](this._element).data(), config);
      Util.typeCheckConfig(NAME$4, config, this.constructor.DefaultType);
      return config;
    };

    _proto._getMenuElement = function _getMenuElement() {
      if (!this._menu) {
        var parent = Dropdown._getParentFromElement(this._element);

        if (parent) {
          this._menu = parent.querySelector(SELECTOR_MENU);
        }
      }

      return this._menu;
    };

    _proto._getPlacement = function _getPlacement() {
      var $parentDropdown = $__default['default'](this._element.parentNode);
      var placement = PLACEMENT_BOTTOM; // Handle dropup

      if ($parentDropdown.hasClass(CLASS_NAME_DROPUP)) {
        placement = $__default['default'](this._menu).hasClass(CLASS_NAME_MENURIGHT) ? PLACEMENT_TOPEND : PLACEMENT_TOP;
      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPRIGHT)) {
        placement = PLACEMENT_RIGHT;
      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPLEFT)) {
        placement = PLACEMENT_LEFT;
      } else if ($__default['default'](this._menu).hasClass(CLASS_NAME_MENURIGHT)) {
        placement = PLACEMENT_BOTTOMEND;
      }

      return placement;
    };

    _proto._detectNavbar = function _detectNavbar() {
      return $__default['default'](this._element).closest('.navbar').length > 0;
    };

    _proto._getOffset = function _getOffset() {
      var _this2 = this;

      var offset = {};

      if (typeof this._config.offset === 'function') {
        offset.fn = function (data) {
          data.offsets = _extends({}, data.offsets, _this2._config.offset(data.offsets, _this2._element) || {});
          return data;
        };
      } else {
        offset.offset = this._config.offset;
      }

      return offset;
    };

    _proto._getPopperConfig = function _getPopperConfig() {
      var popperConfig = {
        placement: this._getPlacement(),
        modifiers: {
          offset: this._getOffset(),
          flip: {
            enabled: this._config.flip
          },
          preventOverflow: {
            boundariesElement: this._config.boundary
          }
        }
      }; // Disable Popper.js if we have a static display

      if (this._config.display === 'static') {
        popperConfig.modifiers.applyStyle = {
          enabled: false
        };
      }

      return _extends({}, popperConfig, this._config.popperConfig);
    } // Static
    ;

    Dropdown._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $__default['default'](this).data(DATA_KEY$4);

        var _config = typeof config === 'object' ? config : null;

        if (!data) {
          data = new Dropdown(this, _config);
          $__default['default'](this).data(DATA_KEY$4, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    Dropdown._clearMenus = function _clearMenus(event) {
      if (event && (event.which === RIGHT_MOUSE_BUTTON_WHICH || event.type === 'keyup' && event.which !== TAB_KEYCODE)) {
        return;
      }

      var toggles = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$2));

      for (var i = 0, len = toggles.length; i < len; i++) {
        var parent = Dropdown._getParentFromElement(toggles[i]);

        var context = $__default['default'](toggles[i]).data(DATA_KEY$4);
        var relatedTarget = {
          relatedTarget: toggles[i]
        };

        if (event && event.type === 'click') {
          relatedTarget.clickEvent = event;
        }

        if (!context) {
          continue;
        }

        var dropdownMenu = context._menu;

        if (!$__default['default'](parent).hasClass(CLASS_NAME_SHOW$2)) {
          continue;
        }

        if (event && (event.type === 'click' && /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === TAB_KEYCODE) && $__default['default'].contains(parent, event.target)) {
          continue;
        }

        var hideEvent = $__default['default'].Event(EVENT_HIDE$1, relatedTarget);
        $__default['default'](parent).trigger(hideEvent);

        if (hideEvent.isDefaultPrevented()) {
          continue;
        } // If this is a touch-enabled device we remove the extra
        // empty mouseover listeners we added for iOS support


        if ('ontouchstart' in document.documentElement) {
          $__default['default'](document.body).children().off('mouseover', null, $__default['default'].noop);
        }

        toggles[i].setAttribute('aria-expanded', 'false');

        if (context._popper) {
          context._popper.destroy();
        }

        $__default['default'](dropdownMenu).removeClass(CLASS_NAME_SHOW$2);
        $__default['default'](parent).removeClass(CLASS_NAME_SHOW$2).trigger($__default['default'].Event(EVENT_HIDDEN$1, relatedTarget));
      }
    };

    Dropdown._getParentFromElement = function _getParentFromElement(element) {
      var parent;
      var selector = Util.getSelectorFromElement(element);

      if (selector) {
        parent = document.querySelector(selector);
      }

      return parent || element.parentNode;
    } // eslint-disable-next-line complexity
    ;

    Dropdown._dataApiKeydownHandler = function _dataApiKeydownHandler(event) {
      // If not input/textarea:
      //  - And not a key in REGEXP_KEYDOWN => not a dropdown command
      // If input/textarea:
      //  - If space key => not a dropdown command
      //  - If key is other than escape
      //    - If key is not up or down => not a dropdown command
      //    - If trigger inside the menu => not a dropdown command
      if (/input|textarea/i.test(event.target.tagName) ? event.which === SPACE_KEYCODE || event.which !== ESCAPE_KEYCODE && (event.which !== ARROW_DOWN_KEYCODE && event.which !== ARROW_UP_KEYCODE || $__default['default'](event.target).closest(SELECTOR_MENU).length) : !REGEXP_KEYDOWN.test(event.which)) {
        return;
      }

      if (this.disabled || $__default['default'](this).hasClass(CLASS_NAME_DISABLED)) {
        return;
      }

      var parent = Dropdown._getParentFromElement(this);

      var isActive = $__default['default'](parent).hasClass(CLASS_NAME_SHOW$2);

      if (!isActive && event.which === ESCAPE_KEYCODE) {
        return;
      }

      event.preventDefault();
      event.stopPropagation();

      if (!isActive || event.which === ESCAPE_KEYCODE || event.which === SPACE_KEYCODE) {
        if (event.which === ESCAPE_KEYCODE) {
          $__default['default'](parent.querySelector(SELECTOR_DATA_TOGGLE$2)).trigger('focus');
        }

        $__default['default'](this).trigger('click');
        return;
      }

      var items = [].slice.call(parent.querySelectorAll(SELECTOR_VISIBLE_ITEMS)).filter(function (item) {
        return $__default['default'](item).is(':visible');
      });

      if (items.length === 0) {
        return;
      }

      var index = items.indexOf(event.target);

      if (event.which === ARROW_UP_KEYCODE && index > 0) {
        // Up
        index--;
      }

      if (event.which === ARROW_DOWN_KEYCODE && index < items.length - 1) {
        // Down
        index++;
      }

      if (index < 0) {
        index = 0;
      }

      items[index].focus();
    };

    _createClass(Dropdown, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$4;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$2;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$2;
      }
    }]);

    return Dropdown;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](document).on(EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$2, Dropdown._dataApiKeydownHandler).on(EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown._dataApiKeydownHandler).on(EVENT_CLICK_DATA_API$4 + " " + EVENT_KEYUP_DATA_API, Dropdown._clearMenus).on(EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$2, function (event) {
    event.preventDefault();
    event.stopPropagation();

    Dropdown._jQueryInterface.call($__default['default'](this), 'toggle');
  }).on(EVENT_CLICK_DATA_API$4, SELECTOR_FORM_CHILD, function (e) {
    e.stopPropagation();
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME$4] = Dropdown._jQueryInterface;
  $__default['default'].fn[NAME$4].Constructor = Dropdown;

  $__default['default'].fn[NAME$4].noConflict = function () {
    $__default['default'].fn[NAME$4] = JQUERY_NO_CONFLICT$4;
    return Dropdown._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$5 = 'modal';
  var VERSION$5 = '4.5.3';
  var DATA_KEY$5 = 'bs.modal';
  var EVENT_KEY$5 = "." + DATA_KEY$5;
  var DATA_API_KEY$5 = '.data-api';
  var JQUERY_NO_CONFLICT$5 = $__default['default'].fn[NAME$5];
  var ESCAPE_KEYCODE$1 = 27; // KeyboardEvent.which value for Escape (Esc) key

  var Default$3 = {
    backdrop: true,
    keyboard: true,
    focus: true,
    show: true
  };
  var DefaultType$3 = {
    backdrop: '(boolean|string)',
    keyboard: 'boolean',
    focus: 'boolean',
    show: 'boolean'
  };
  var EVENT_HIDE$2 = "hide" + EVENT_KEY$5;
  var EVENT_HIDE_PREVENTED = "hidePrevented" + EVENT_KEY$5;
  var EVENT_HIDDEN$2 = "hidden" + EVENT_KEY$5;
  var EVENT_SHOW$2 = "show" + EVENT_KEY$5;
  var EVENT_SHOWN$2 = "shown" + EVENT_KEY$5;
  var EVENT_FOCUSIN = "focusin" + EVENT_KEY$5;
  var EVENT_RESIZE = "resize" + EVENT_KEY$5;
  var EVENT_CLICK_DISMISS = "click.dismiss" + EVENT_KEY$5;
  var EVENT_KEYDOWN_DISMISS = "keydown.dismiss" + EVENT_KEY$5;
  var EVENT_MOUSEUP_DISMISS = "mouseup.dismiss" + EVENT_KEY$5;
  var EVENT_MOUSEDOWN_DISMISS = "mousedown.dismiss" + EVENT_KEY$5;
  var EVENT_CLICK_DATA_API$5 = "click" + EVENT_KEY$5 + DATA_API_KEY$5;
  var CLASS_NAME_SCROLLABLE = 'modal-dialog-scrollable';
  var CLASS_NAME_SCROLLBAR_MEASURER = 'modal-scrollbar-measure';
  var CLASS_NAME_BACKDROP = 'modal-backdrop';
  var CLASS_NAME_OPEN = 'modal-open';
  var CLASS_NAME_FADE$1 = 'fade';
  var CLASS_NAME_SHOW$3 = 'show';
  var CLASS_NAME_STATIC = 'modal-static';
  var SELECTOR_DIALOG = '.modal-dialog';
  var SELECTOR_MODAL_BODY = '.modal-body';
  var SELECTOR_DATA_TOGGLE$3 = '[data-toggle="modal"]';
  var SELECTOR_DATA_DISMISS = '[data-dismiss="modal"]';
  var SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';
  var SELECTOR_STICKY_CONTENT = '.sticky-top';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Modal = /*#__PURE__*/function () {
    function Modal(element, config) {
      this._config = this._getConfig(config);
      this._element = element;
      this._dialog = element.querySelector(SELECTOR_DIALOG);
      this._backdrop = null;
      this._isShown = false;
      this._isBodyOverflowing = false;
      this._ignoreBackdropClick = false;
      this._isTransitioning = false;
      this._scrollbarWidth = 0;
    } // Getters


    var _proto = Modal.prototype;

    // Public
    _proto.toggle = function toggle(relatedTarget) {
      return this._isShown ? this.hide() : this.show(relatedTarget);
    };

    _proto.show = function show(relatedTarget) {
      var _this = this;

      if (this._isShown || this._isTransitioning) {
        return;
      }

      if ($__default['default'](this._element).hasClass(CLASS_NAME_FADE$1)) {
        this._isTransitioning = true;
      }

      var showEvent = $__default['default'].Event(EVENT_SHOW$2, {
        relatedTarget: relatedTarget
      });
      $__default['default'](this._element).trigger(showEvent);

      if (this._isShown || showEvent.isDefaultPrevented()) {
        return;
      }

      this._isShown = true;

      this._checkScrollbar();

      this._setScrollbar();

      this._adjustDialog();

      this._setEscapeEvent();

      this._setResizeEvent();

      $__default['default'](this._element).on(EVENT_CLICK_DISMISS, SELECTOR_DATA_DISMISS, function (event) {
        return _this.hide(event);
      });
      $__default['default'](this._dialog).on(EVENT_MOUSEDOWN_DISMISS, function () {
        $__default['default'](_this._element).one(EVENT_MOUSEUP_DISMISS, function (event) {
          if ($__default['default'](event.target).is(_this._element)) {
            _this._ignoreBackdropClick = true;
          }
        });
      });

      this._showBackdrop(function () {
        return _this._showElement(relatedTarget);
      });
    };

    _proto.hide = function hide(event) {
      var _this2 = this;

      if (event) {
        event.preventDefault();
      }

      if (!this._isShown || this._isTransitioning) {
        return;
      }

      var hideEvent = $__default['default'].Event(EVENT_HIDE$2);
      $__default['default'](this._element).trigger(hideEvent);

      if (!this._isShown || hideEvent.isDefaultPrevented()) {
        return;
      }

      this._isShown = false;
      var transition = $__default['default'](this._element).hasClass(CLASS_NAME_FADE$1);

      if (transition) {
        this._isTransitioning = true;
      }

      this._setEscapeEvent();

      this._setResizeEvent();

      $__default['default'](document).off(EVENT_FOCUSIN);
      $__default['default'](this._element).removeClass(CLASS_NAME_SHOW$3);
      $__default['default'](this._element).off(EVENT_CLICK_DISMISS);
      $__default['default'](this._dialog).off(EVENT_MOUSEDOWN_DISMISS);

      if (transition) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._element);
        $__default['default'](this._element).one(Util.TRANSITION_END, function (event) {
          return _this2._hideModal(event);
        }).emulateTransitionEnd(transitionDuration);
      } else {
        this._hideModal();
      }
    };

    _proto.dispose = function dispose() {
      [window, this._element, this._dialog].forEach(function (htmlElement) {
        return $__default['default'](htmlElement).off(EVENT_KEY$5);
      });
      /**
       * `document` has 2 events `EVENT_FOCUSIN` and `EVENT_CLICK_DATA_API`
       * Do not move `document` in `htmlElements` array
       * It will remove `EVENT_CLICK_DATA_API` event that should remain
       */

      $__default['default'](document).off(EVENT_FOCUSIN);
      $__default['default'].removeData(this._element, DATA_KEY$5);
      this._config = null;
      this._element = null;
      this._dialog = null;
      this._backdrop = null;
      this._isShown = null;
      this._isBodyOverflowing = null;
      this._ignoreBackdropClick = null;
      this._isTransitioning = null;
      this._scrollbarWidth = null;
    };

    _proto.handleUpdate = function handleUpdate() {
      this._adjustDialog();
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _extends({}, Default$3, config);
      Util.typeCheckConfig(NAME$5, config, DefaultType$3);
      return config;
    };

    _proto._triggerBackdropTransition = function _triggerBackdropTransition() {
      var _this3 = this;

      if (this._config.backdrop === 'static') {
        var hideEventPrevented = $__default['default'].Event(EVENT_HIDE_PREVENTED);
        $__default['default'](this._element).trigger(hideEventPrevented);

        if (hideEventPrevented.isDefaultPrevented()) {
          return;
        }

        var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;

        if (!isModalOverflowing) {
          this._element.style.overflowY = 'hidden';
        }

        this._element.classList.add(CLASS_NAME_STATIC);

        var modalTransitionDuration = Util.getTransitionDurationFromElement(this._dialog);
        $__default['default'](this._element).off(Util.TRANSITION_END);
        $__default['default'](this._element).one(Util.TRANSITION_END, function () {
          _this3._element.classList.remove(CLASS_NAME_STATIC);

          if (!isModalOverflowing) {
            $__default['default'](_this3._element).one(Util.TRANSITION_END, function () {
              _this3._element.style.overflowY = '';
            }).emulateTransitionEnd(_this3._element, modalTransitionDuration);
          }
        }).emulateTransitionEnd(modalTransitionDuration);

        this._element.focus();
      } else {
        this.hide();
      }
    };

    _proto._showElement = function _showElement(relatedTarget) {
      var _this4 = this;

      var transition = $__default['default'](this._element).hasClass(CLASS_NAME_FADE$1);
      var modalBody = this._dialog ? this._dialog.querySelector(SELECTOR_MODAL_BODY) : null;

      if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {
        // Don't move modal's DOM position
        document.body.appendChild(this._element);
      }

      this._element.style.display = 'block';

      this._element.removeAttribute('aria-hidden');

      this._element.setAttribute('aria-modal', true);

      this._element.setAttribute('role', 'dialog');

      if ($__default['default'](this._dialog).hasClass(CLASS_NAME_SCROLLABLE) && modalBody) {
        modalBody.scrollTop = 0;
      } else {
        this._element.scrollTop = 0;
      }

      if (transition) {
        Util.reflow(this._element);
      }

      $__default['default'](this._element).addClass(CLASS_NAME_SHOW$3);

      if (this._config.focus) {
        this._enforceFocus();
      }

      var shownEvent = $__default['default'].Event(EVENT_SHOWN$2, {
        relatedTarget: relatedTarget
      });

      var transitionComplete = function transitionComplete() {
        if (_this4._config.focus) {
          _this4._element.focus();
        }

        _this4._isTransitioning = false;
        $__default['default'](_this4._element).trigger(shownEvent);
      };

      if (transition) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._dialog);
        $__default['default'](this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(transitionDuration);
      } else {
        transitionComplete();
      }
    };

    _proto._enforceFocus = function _enforceFocus() {
      var _this5 = this;

      $__default['default'](document).off(EVENT_FOCUSIN) // Guard against infinite focus loop
      .on(EVENT_FOCUSIN, function (event) {
        if (document !== event.target && _this5._element !== event.target && $__default['default'](_this5._element).has(event.target).length === 0) {
          _this5._element.focus();
        }
      });
    };

    _proto._setEscapeEvent = function _setEscapeEvent() {
      var _this6 = this;

      if (this._isShown) {
        $__default['default'](this._element).on(EVENT_KEYDOWN_DISMISS, function (event) {
          if (_this6._config.keyboard && event.which === ESCAPE_KEYCODE$1) {
            event.preventDefault();

            _this6.hide();
          } else if (!_this6._config.keyboard && event.which === ESCAPE_KEYCODE$1) {
            _this6._triggerBackdropTransition();
          }
        });
      } else if (!this._isShown) {
        $__default['default'](this._element).off(EVENT_KEYDOWN_DISMISS);
      }
    };

    _proto._setResizeEvent = function _setResizeEvent() {
      var _this7 = this;

      if (this._isShown) {
        $__default['default'](window).on(EVENT_RESIZE, function (event) {
          return _this7.handleUpdate(event);
        });
      } else {
        $__default['default'](window).off(EVENT_RESIZE);
      }
    };

    _proto._hideModal = function _hideModal() {
      var _this8 = this;

      this._element.style.display = 'none';

      this._element.setAttribute('aria-hidden', true);

      this._element.removeAttribute('aria-modal');

      this._element.removeAttribute('role');

      this._isTransitioning = false;

      this._showBackdrop(function () {
        $__default['default'](document.body).removeClass(CLASS_NAME_OPEN);

        _this8._resetAdjustments();

        _this8._resetScrollbar();

        $__default['default'](_this8._element).trigger(EVENT_HIDDEN$2);
      });
    };

    _proto._removeBackdrop = function _removeBackdrop() {
      if (this._backdrop) {
        $__default['default'](this._backdrop).remove();
        this._backdrop = null;
      }
    };

    _proto._showBackdrop = function _showBackdrop(callback) {
      var _this9 = this;

      var animate = $__default['default'](this._element).hasClass(CLASS_NAME_FADE$1) ? CLASS_NAME_FADE$1 : '';

      if (this._isShown && this._config.backdrop) {
        this._backdrop = document.createElement('div');
        this._backdrop.className = CLASS_NAME_BACKDROP;

        if (animate) {
          this._backdrop.classList.add(animate);
        }

        $__default['default'](this._backdrop).appendTo(document.body);
        $__default['default'](this._element).on(EVENT_CLICK_DISMISS, function (event) {
          if (_this9._ignoreBackdropClick) {
            _this9._ignoreBackdropClick = false;
            return;
          }

          if (event.target !== event.currentTarget) {
            return;
          }

          _this9._triggerBackdropTransition();
        });

        if (animate) {
          Util.reflow(this._backdrop);
        }

        $__default['default'](this._backdrop).addClass(CLASS_NAME_SHOW$3);

        if (!callback) {
          return;
        }

        if (!animate) {
          callback();
          return;
        }

        var backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);
        $__default['default'](this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(backdropTransitionDuration);
      } else if (!this._isShown && this._backdrop) {
        $__default['default'](this._backdrop).removeClass(CLASS_NAME_SHOW$3);

        var callbackRemove = function callbackRemove() {
          _this9._removeBackdrop();

          if (callback) {
            callback();
          }
        };

        if ($__default['default'](this._element).hasClass(CLASS_NAME_FADE$1)) {
          var _backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);

          $__default['default'](this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(_backdropTransitionDuration);
        } else {
          callbackRemove();
        }
      } else if (callback) {
        callback();
      }
    } // ----------------------------------------------------------------------
    // the following methods are used to handle overflowing modals
    // todo (fat): these should probably be refactored out of modal.js
    // ----------------------------------------------------------------------
    ;

    _proto._adjustDialog = function _adjustDialog() {
      var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;

      if (!this._isBodyOverflowing && isModalOverflowing) {
        this._element.style.paddingLeft = this._scrollbarWidth + "px";
      }

      if (this._isBodyOverflowing && !isModalOverflowing) {
        this._element.style.paddingRight = this._scrollbarWidth + "px";
      }
    };

    _proto._resetAdjustments = function _resetAdjustments() {
      this._element.style.paddingLeft = '';
      this._element.style.paddingRight = '';
    };

    _proto._checkScrollbar = function _checkScrollbar() {
      var rect = document.body.getBoundingClientRect();
      this._isBodyOverflowing = Math.round(rect.left + rect.right) < window.innerWidth;
      this._scrollbarWidth = this._getScrollbarWidth();
    };

    _proto._setScrollbar = function _setScrollbar() {
      var _this10 = this;

      if (this._isBodyOverflowing) {
        // Note: DOMNode.style.paddingRight returns the actual value or '' if not set
        //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set
        var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));
        var stickyContent = [].slice.call(document.querySelectorAll(SELECTOR_STICKY_CONTENT)); // Adjust fixed content padding

        $__default['default'](fixedContent).each(function (index, element) {
          var actualPadding = element.style.paddingRight;
          var calculatedPadding = $__default['default'](element).css('padding-right');
          $__default['default'](element).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + _this10._scrollbarWidth + "px");
        }); // Adjust sticky content margin

        $__default['default'](stickyContent).each(function (index, element) {
          var actualMargin = element.style.marginRight;
          var calculatedMargin = $__default['default'](element).css('margin-right');
          $__default['default'](element).data('margin-right', actualMargin).css('margin-right', parseFloat(calculatedMargin) - _this10._scrollbarWidth + "px");
        }); // Adjust body padding

        var actualPadding = document.body.style.paddingRight;
        var calculatedPadding = $__default['default'](document.body).css('padding-right');
        $__default['default'](document.body).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + this._scrollbarWidth + "px");
      }

      $__default['default'](document.body).addClass(CLASS_NAME_OPEN);
    };

    _proto._resetScrollbar = function _resetScrollbar() {
      // Restore fixed content padding
      var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));
      $__default['default'](fixedContent).each(function (index, element) {
        var padding = $__default['default'](element).data('padding-right');
        $__default['default'](element).removeData('padding-right');
        element.style.paddingRight = padding ? padding : '';
      }); // Restore sticky content

      var elements = [].slice.call(document.querySelectorAll("" + SELECTOR_STICKY_CONTENT));
      $__default['default'](elements).each(function (index, element) {
        var margin = $__default['default'](element).data('margin-right');

        if (typeof margin !== 'undefined') {
          $__default['default'](element).css('margin-right', margin).removeData('margin-right');
        }
      }); // Restore body padding

      var padding = $__default['default'](document.body).data('padding-right');
      $__default['default'](document.body).removeData('padding-right');
      document.body.style.paddingRight = padding ? padding : '';
    };

    _proto._getScrollbarWidth = function _getScrollbarWidth() {
      // thx d.walsh
      var scrollDiv = document.createElement('div');
      scrollDiv.className = CLASS_NAME_SCROLLBAR_MEASURER;
      document.body.appendChild(scrollDiv);
      var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;
      document.body.removeChild(scrollDiv);
      return scrollbarWidth;
    } // Static
    ;

    Modal._jQueryInterface = function _jQueryInterface(config, relatedTarget) {
      return this.each(function () {
        var data = $__default['default'](this).data(DATA_KEY$5);

        var _config = _extends({}, Default$3, $__default['default'](this).data(), typeof config === 'object' && config ? config : {});

        if (!data) {
          data = new Modal(this, _config);
          $__default['default'](this).data(DATA_KEY$5, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config](relatedTarget);
        } else if (_config.show) {
          data.show(relatedTarget);
        }
      });
    };

    _createClass(Modal, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$5;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$3;
      }
    }]);

    return Modal;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](document).on(EVENT_CLICK_DATA_API$5, SELECTOR_DATA_TOGGLE$3, function (event) {
    var _this11 = this;

    var target;
    var selector = Util.getSelectorFromElement(this);

    if (selector) {
      target = document.querySelector(selector);
    }

    var config = $__default['default'](target).data(DATA_KEY$5) ? 'toggle' : _extends({}, $__default['default'](target).data(), $__default['default'](this).data());

    if (this.tagName === 'A' || this.tagName === 'AREA') {
      event.preventDefault();
    }

    var $target = $__default['default'](target).one(EVENT_SHOW$2, function (showEvent) {
      if (showEvent.isDefaultPrevented()) {
        // Only register focus restorer if modal will actually get shown
        return;
      }

      $target.one(EVENT_HIDDEN$2, function () {
        if ($__default['default'](_this11).is(':visible')) {
          _this11.focus();
        }
      });
    });

    Modal._jQueryInterface.call($__default['default'](target), config, this);
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME$5] = Modal._jQueryInterface;
  $__default['default'].fn[NAME$5].Constructor = Modal;

  $__default['default'].fn[NAME$5].noConflict = function () {
    $__default['default'].fn[NAME$5] = JQUERY_NO_CONFLICT$5;
    return Modal._jQueryInterface;
  };

  /**
   * --------------------------------------------------------------------------
   * Bootstrap (v4.5.3): tools/sanitizer.js
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
   * --------------------------------------------------------------------------
   */
  var uriAttrs = ['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href'];
  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\w-]*$/i;
  var DefaultWhitelist = {
    // Global attributes allowed on any supplied element below.
    '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],
    a: ['target', 'href', 'title', 'rel'],
    area: [],
    b: [],
    br: [],
    col: [],
    code: [],
    div: [],
    em: [],
    hr: [],
    h1: [],
    h2: [],
    h3: [],
    h4: [],
    h5: [],
    h6: [],
    i: [],
    img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],
    li: [],
    ol: [],
    p: [],
    pre: [],
    s: [],
    small: [],
    span: [],
    sub: [],
    sup: [],
    strong: [],
    u: [],
    ul: []
  };
  /**
   * A pattern that recognizes a commonly useful subset of URLs that are safe.
   *
   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts
   */

  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi;
  /**
   * A pattern that matches safe data URLs. Only matches image, video and audio types.
   *
   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts
   */

  var DATA_URL_PATTERN = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;

  function allowedAttribute(attr, allowedAttributeList) {
    var attrName = attr.nodeName.toLowerCase();

    if (allowedAttributeList.indexOf(attrName) !== -1) {
      if (uriAttrs.indexOf(attrName) !== -1) {
        return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN));
      }

      return true;
    }

    var regExp = allowedAttributeList.filter(function (attrRegex) {
      return attrRegex instanceof RegExp;
    }); // Check if a regular expression validates the attribute.

    for (var i = 0, len = regExp.length; i < len; i++) {
      if (attrName.match(regExp[i])) {
        return true;
      }
    }

    return false;
  }

  function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {
    if (unsafeHtml.length === 0) {
      return unsafeHtml;
    }

    if (sanitizeFn && typeof sanitizeFn === 'function') {
      return sanitizeFn(unsafeHtml);
    }

    var domParser = new window.DOMParser();
    var createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');
    var whitelistKeys = Object.keys(whiteList);
    var elements = [].slice.call(createdDocument.body.querySelectorAll('*'));

    var _loop = function _loop(i, len) {
      var el = elements[i];
      var elName = el.nodeName.toLowerCase();

      if (whitelistKeys.indexOf(el.nodeName.toLowerCase()) === -1) {
        el.parentNode.removeChild(el);
        return "continue";
      }

      var attributeList = [].slice.call(el.attributes);
      var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);
      attributeList.forEach(function (attr) {
        if (!allowedAttribute(attr, whitelistedAttributes)) {
          el.removeAttribute(attr.nodeName);
        }
      });
    };

    for (var i = 0, len = elements.length; i < len; i++) {
      var _ret = _loop(i);

      if (_ret === "continue") continue;
    }

    return createdDocument.body.innerHTML;
  }

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$6 = 'tooltip';
  var VERSION$6 = '4.5.3';
  var DATA_KEY$6 = 'bs.tooltip';
  var EVENT_KEY$6 = "." + DATA_KEY$6;
  var JQUERY_NO_CONFLICT$6 = $__default['default'].fn[NAME$6];
  var CLASS_PREFIX = 'bs-tooltip';
  var BSCLS_PREFIX_REGEX = new RegExp("(^|\\s)" + CLASS_PREFIX + "\\S+", 'g');
  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];
  var DefaultType$4 = {
    animation: 'boolean',
    template: 'string',
    title: '(string|element|function)',
    trigger: 'string',
    delay: '(number|object)',
    html: 'boolean',
    selector: '(string|boolean)',
    placement: '(string|function)',
    offset: '(number|string|function)',
    container: '(string|element|boolean)',
    fallbackPlacement: '(string|array)',
    boundary: '(string|element)',
    sanitize: 'boolean',
    sanitizeFn: '(null|function)',
    whiteList: 'object',
    popperConfig: '(null|object)'
  };
  var AttachmentMap = {
    AUTO: 'auto',
    TOP: 'top',
    RIGHT: 'right',
    BOTTOM: 'bottom',
    LEFT: 'left'
  };
  var Default$4 = {
    animation: true,
    template: '<div class="tooltip" role="tooltip">' + '<div class="arrow"></div>' + '<div class="tooltip-inner"></div></div>',
    trigger: 'hover focus',
    title: '',
    delay: 0,
    html: false,
    selector: false,
    placement: 'top',
    offset: 0,
    container: false,
    fallbackPlacement: 'flip',
    boundary: 'scrollParent',
    sanitize: true,
    sanitizeFn: null,
    whiteList: DefaultWhitelist,
    popperConfig: null
  };
  var HOVER_STATE_SHOW = 'show';
  var HOVER_STATE_OUT = 'out';
  var Event = {
    HIDE: "hide" + EVENT_KEY$6,
    HIDDEN: "hidden" + EVENT_KEY$6,
    SHOW: "show" + EVENT_KEY$6,
    SHOWN: "shown" + EVENT_KEY$6,
    INSERTED: "inserted" + EVENT_KEY$6,
    CLICK: "click" + EVENT_KEY$6,
    FOCUSIN: "focusin" + EVENT_KEY$6,
    FOCUSOUT: "focusout" + EVENT_KEY$6,
    MOUSEENTER: "mouseenter" + EVENT_KEY$6,
    MOUSELEAVE: "mouseleave" + EVENT_KEY$6
  };
  var CLASS_NAME_FADE$2 = 'fade';
  var CLASS_NAME_SHOW$4 = 'show';
  var SELECTOR_TOOLTIP_INNER = '.tooltip-inner';
  var SELECTOR_ARROW = '.arrow';
  var TRIGGER_HOVER = 'hover';
  var TRIGGER_FOCUS = 'focus';
  var TRIGGER_CLICK = 'click';
  var TRIGGER_MANUAL = 'manual';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Tooltip = /*#__PURE__*/function () {
    function Tooltip(element, config) {
      if (typeof Popper__default['default'] === 'undefined') {
        throw new TypeError('Bootstrap\'s tooltips require Popper.js (https://popper.js.org/)');
      } // private


      this._isEnabled = true;
      this._timeout = 0;
      this._hoverState = '';
      this._activeTrigger = {};
      this._popper = null; // Protected

      this.element = element;
      this.config = this._getConfig(config);
      this.tip = null;

      this._setListeners();
    } // Getters


    var _proto = Tooltip.prototype;

    // Public
    _proto.enable = function enable() {
      this._isEnabled = true;
    };

    _proto.disable = function disable() {
      this._isEnabled = false;
    };

    _proto.toggleEnabled = function toggleEnabled() {
      this._isEnabled = !this._isEnabled;
    };

    _proto.toggle = function toggle(event) {
      if (!this._isEnabled) {
        return;
      }

      if (event) {
        var dataKey = this.constructor.DATA_KEY;
        var context = $__default['default'](event.currentTarget).data(dataKey);

        if (!context) {
          context = new this.constructor(event.currentTarget, this._getDelegateConfig());
          $__default['default'](event.currentTarget).data(dataKey, context);
        }

        context._activeTrigger.click = !context._activeTrigger.click;

        if (context._isWithActiveTrigger()) {
          context._enter(null, context);
        } else {
          context._leave(null, context);
        }
      } else {
        if ($__default['default'](this.getTipElement()).hasClass(CLASS_NAME_SHOW$4)) {
          this._leave(null, this);

          return;
        }

        this._enter(null, this);
      }
    };

    _proto.dispose = function dispose() {
      clearTimeout(this._timeout);
      $__default['default'].removeData(this.element, this.constructor.DATA_KEY);
      $__default['default'](this.element).off(this.constructor.EVENT_KEY);
      $__default['default'](this.element).closest('.modal').off('hide.bs.modal', this._hideModalHandler);

      if (this.tip) {
        $__default['default'](this.tip).remove();
      }

      this._isEnabled = null;
      this._timeout = null;
      this._hoverState = null;
      this._activeTrigger = null;

      if (this._popper) {
        this._popper.destroy();
      }

      this._popper = null;
      this.element = null;
      this.config = null;
      this.tip = null;
    };

    _proto.show = function show() {
      var _this = this;

      if ($__default['default'](this.element).css('display') === 'none') {
        throw new Error('Please use show on visible elements');
      }

      var showEvent = $__default['default'].Event(this.constructor.Event.SHOW);

      if (this.isWithContent() && this._isEnabled) {
        $__default['default'](this.element).trigger(showEvent);
        var shadowRoot = Util.findShadowRoot(this.element);
        var isInTheDom = $__default['default'].contains(shadowRoot !== null ? shadowRoot : this.element.ownerDocument.documentElement, this.element);

        if (showEvent.isDefaultPrevented() || !isInTheDom) {
          return;
        }

        var tip = this.getTipElement();
        var tipId = Util.getUID(this.constructor.NAME);
        tip.setAttribute('id', tipId);
        this.element.setAttribute('aria-describedby', tipId);
        this.setContent();

        if (this.config.animation) {
          $__default['default'](tip).addClass(CLASS_NAME_FADE$2);
        }

        var placement = typeof this.config.placement === 'function' ? this.config.placement.call(this, tip, this.element) : this.config.placement;

        var attachment = this._getAttachment(placement);

        this.addAttachmentClass(attachment);

        var container = this._getContainer();

        $__default['default'](tip).data(this.constructor.DATA_KEY, this);

        if (!$__default['default'].contains(this.element.ownerDocument.documentElement, this.tip)) {
          $__default['default'](tip).appendTo(container);
        }

        $__default['default'](this.element).trigger(this.constructor.Event.INSERTED);
        this._popper = new Popper__default['default'](this.element, tip, this._getPopperConfig(attachment));
        $__default['default'](tip).addClass(CLASS_NAME_SHOW$4); // If this is a touch-enabled device we add extra
        // empty mouseover listeners to the body's immediate children;
        // only needed because of broken event delegation on iOS
        // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html

        if ('ontouchstart' in document.documentElement) {
          $__default['default'](document.body).children().on('mouseover', null, $__default['default'].noop);
        }

        var complete = function complete() {
          if (_this.config.animation) {
            _this._fixTransition();
          }

          var prevHoverState = _this._hoverState;
          _this._hoverState = null;
          $__default['default'](_this.element).trigger(_this.constructor.Event.SHOWN);

          if (prevHoverState === HOVER_STATE_OUT) {
            _this._leave(null, _this);
          }
        };

        if ($__default['default'](this.tip).hasClass(CLASS_NAME_FADE$2)) {
          var transitionDuration = Util.getTransitionDurationFromElement(this.tip);
          $__default['default'](this.tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
        } else {
          complete();
        }
      }
    };

    _proto.hide = function hide(callback) {
      var _this2 = this;

      var tip = this.getTipElement();
      var hideEvent = $__default['default'].Event(this.constructor.Event.HIDE);

      var complete = function complete() {
        if (_this2._hoverState !== HOVER_STATE_SHOW && tip.parentNode) {
          tip.parentNode.removeChild(tip);
        }

        _this2._cleanTipClass();

        _this2.element.removeAttribute('aria-describedby');

        $__default['default'](_this2.element).trigger(_this2.constructor.Event.HIDDEN);

        if (_this2._popper !== null) {
          _this2._popper.destroy();
        }

        if (callback) {
          callback();
        }
      };

      $__default['default'](this.element).trigger(hideEvent);

      if (hideEvent.isDefaultPrevented()) {
        return;
      }

      $__default['default'](tip).removeClass(CLASS_NAME_SHOW$4); // If this is a touch-enabled device we remove the extra
      // empty mouseover listeners we added for iOS support

      if ('ontouchstart' in document.documentElement) {
        $__default['default'](document.body).children().off('mouseover', null, $__default['default'].noop);
      }

      this._activeTrigger[TRIGGER_CLICK] = false;
      this._activeTrigger[TRIGGER_FOCUS] = false;
      this._activeTrigger[TRIGGER_HOVER] = false;

      if ($__default['default'](this.tip).hasClass(CLASS_NAME_FADE$2)) {
        var transitionDuration = Util.getTransitionDurationFromElement(tip);
        $__default['default'](tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }

      this._hoverState = '';
    };

    _proto.update = function update() {
      if (this._popper !== null) {
        this._popper.scheduleUpdate();
      }
    } // Protected
    ;

    _proto.isWithContent = function isWithContent() {
      return Boolean(this.getTitle());
    };

    _proto.addAttachmentClass = function addAttachmentClass(attachment) {
      $__default['default'](this.getTipElement()).addClass(CLASS_PREFIX + "-" + attachment);
    };

    _proto.getTipElement = function getTipElement() {
      this.tip = this.tip || $__default['default'](this.config.template)[0];
      return this.tip;
    };

    _proto.setContent = function setContent() {
      var tip = this.getTipElement();
      this.setElementContent($__default['default'](tip.querySelectorAll(SELECTOR_TOOLTIP_INNER)), this.getTitle());
      $__default['default'](tip).removeClass(CLASS_NAME_FADE$2 + " " + CLASS_NAME_SHOW$4);
    };

    _proto.setElementContent = function setElementContent($element, content) {
      if (typeof content === 'object' && (content.nodeType || content.jquery)) {
        // Content is a DOM node or a jQuery
        if (this.config.html) {
          if (!$__default['default'](content).parent().is($element)) {
            $element.empty().append(content);
          }
        } else {
          $element.text($__default['default'](content).text());
        }

        return;
      }

      if (this.config.html) {
        if (this.config.sanitize) {
          content = sanitizeHtml(content, this.config.whiteList, this.config.sanitizeFn);
        }

        $element.html(content);
      } else {
        $element.text(content);
      }
    };

    _proto.getTitle = function getTitle() {
      var title = this.element.getAttribute('data-original-title');

      if (!title) {
        title = typeof this.config.title === 'function' ? this.config.title.call(this.element) : this.config.title;
      }

      return title;
    } // Private
    ;

    _proto._getPopperConfig = function _getPopperConfig(attachment) {
      var _this3 = this;

      var defaultBsConfig = {
        placement: attachment,
        modifiers: {
          offset: this._getOffset(),
          flip: {
            behavior: this.config.fallbackPlacement
          },
          arrow: {
            element: SELECTOR_ARROW
          },
          preventOverflow: {
            boundariesElement: this.config.boundary
          }
        },
        onCreate: function onCreate(data) {
          if (data.originalPlacement !== data.placement) {
            _this3._handlePopperPlacementChange(data);
          }
        },
        onUpdate: function onUpdate(data) {
          return _this3._handlePopperPlacementChange(data);
        }
      };
      return _extends({}, defaultBsConfig, this.config.popperConfig);
    };

    _proto._getOffset = function _getOffset() {
      var _this4 = this;

      var offset = {};

      if (typeof this.config.offset === 'function') {
        offset.fn = function (data) {
          data.offsets = _extends({}, data.offsets, _this4.config.offset(data.offsets, _this4.element) || {});
          return data;
        };
      } else {
        offset.offset = this.config.offset;
      }

      return offset;
    };

    _proto._getContainer = function _getContainer() {
      if (this.config.container === false) {
        return document.body;
      }

      if (Util.isElement(this.config.container)) {
        return $__default['default'](this.config.container);
      }

      return $__default['default'](document).find(this.config.container);
    };

    _proto._getAttachment = function _getAttachment(placement) {
      return AttachmentMap[placement.toUpperCase()];
    };

    _proto._setListeners = function _setListeners() {
      var _this5 = this;

      var triggers = this.config.trigger.split(' ');
      triggers.forEach(function (trigger) {
        if (trigger === 'click') {
          $__default['default'](_this5.element).on(_this5.constructor.Event.CLICK, _this5.config.selector, function (event) {
            return _this5.toggle(event);
          });
        } else if (trigger !== TRIGGER_MANUAL) {
          var eventIn = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSEENTER : _this5.constructor.Event.FOCUSIN;
          var eventOut = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSELEAVE : _this5.constructor.Event.FOCUSOUT;
          $__default['default'](_this5.element).on(eventIn, _this5.config.selector, function (event) {
            return _this5._enter(event);
          }).on(eventOut, _this5.config.selector, function (event) {
            return _this5._leave(event);
          });
        }
      });

      this._hideModalHandler = function () {
        if (_this5.element) {
          _this5.hide();
        }
      };

      $__default['default'](this.element).closest('.modal').on('hide.bs.modal', this._hideModalHandler);

      if (this.config.selector) {
        this.config = _extends({}, this.config, {
          trigger: 'manual',
          selector: ''
        });
      } else {
        this._fixTitle();
      }
    };

    _proto._fixTitle = function _fixTitle() {
      var titleType = typeof this.element.getAttribute('data-original-title');

      if (this.element.getAttribute('title') || titleType !== 'string') {
        this.element.setAttribute('data-original-title', this.element.getAttribute('title') || '');
        this.element.setAttribute('title', '');
      }
    };

    _proto._enter = function _enter(event, context) {
      var dataKey = this.constructor.DATA_KEY;
      context = context || $__default['default'](event.currentTarget).data(dataKey);

      if (!context) {
        context = new this.constructor(event.currentTarget, this._getDelegateConfig());
        $__default['default'](event.currentTarget).data(dataKey, context);
      }

      if (event) {
        context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;
      }

      if ($__default['default'](context.getTipElement()).hasClass(CLASS_NAME_SHOW$4) || context._hoverState === HOVER_STATE_SHOW) {
        context._hoverState = HOVER_STATE_SHOW;
        return;
      }

      clearTimeout(context._timeout);
      context._hoverState = HOVER_STATE_SHOW;

      if (!context.config.delay || !context.config.delay.show) {
        context.show();
        return;
      }

      context._timeout = setTimeout(function () {
        if (context._hoverState === HOVER_STATE_SHOW) {
          context.show();
        }
      }, context.config.delay.show);
    };

    _proto._leave = function _leave(event, context) {
      var dataKey = this.constructor.DATA_KEY;
      context = context || $__default['default'](event.currentTarget).data(dataKey);

      if (!context) {
        context = new this.constructor(event.currentTarget, this._getDelegateConfig());
        $__default['default'](event.currentTarget).data(dataKey, context);
      }

      if (event) {
        context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = false;
      }

      if (context._isWithActiveTrigger()) {
        return;
      }

      clearTimeout(context._timeout);
      context._hoverState = HOVER_STATE_OUT;

      if (!context.config.delay || !context.config.delay.hide) {
        context.hide();
        return;
      }

      context._timeout = setTimeout(function () {
        if (context._hoverState === HOVER_STATE_OUT) {
          context.hide();
        }
      }, context.config.delay.hide);
    };

    _proto._isWithActiveTrigger = function _isWithActiveTrigger() {
      for (var trigger in this._activeTrigger) {
        if (this._activeTrigger[trigger]) {
          return true;
        }
      }

      return false;
    };

    _proto._getConfig = function _getConfig(config) {
      var dataAttributes = $__default['default'](this.element).data();
      Object.keys(dataAttributes).forEach(function (dataAttr) {
        if (DISALLOWED_ATTRIBUTES.indexOf(dataAttr) !== -1) {
          delete dataAttributes[dataAttr];
        }
      });
      config = _extends({}, this.constructor.Default, dataAttributes, typeof config === 'object' && config ? config : {});

      if (typeof config.delay === 'number') {
        config.delay = {
          show: config.delay,
          hide: config.delay
        };
      }

      if (typeof config.title === 'number') {
        config.title = config.title.toString();
      }

      if (typeof config.content === 'number') {
        config.content = config.content.toString();
      }

      Util.typeCheckConfig(NAME$6, config, this.constructor.DefaultType);

      if (config.sanitize) {
        config.template = sanitizeHtml(config.template, config.whiteList, config.sanitizeFn);
      }

      return config;
    };

    _proto._getDelegateConfig = function _getDelegateConfig() {
      var config = {};

      if (this.config) {
        for (var key in this.config) {
          if (this.constructor.Default[key] !== this.config[key]) {
            config[key] = this.config[key];
          }
        }
      }

      return config;
    };

    _proto._cleanTipClass = function _cleanTipClass() {
      var $tip = $__default['default'](this.getTipElement());
      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX);

      if (tabClass !== null && tabClass.length) {
        $tip.removeClass(tabClass.join(''));
      }
    };

    _proto._handlePopperPlacementChange = function _handlePopperPlacementChange(popperData) {
      this.tip = popperData.instance.popper;

      this._cleanTipClass();

      this.addAttachmentClass(this._getAttachment(popperData.placement));
    };

    _proto._fixTransition = function _fixTransition() {
      var tip = this.getTipElement();
      var initConfigAnimation = this.config.animation;

      if (tip.getAttribute('x-placement') !== null) {
        return;
      }

      $__default['default'](tip).removeClass(CLASS_NAME_FADE$2);
      this.config.animation = false;
      this.hide();
      this.show();
      this.config.animation = initConfigAnimation;
    } // Static
    ;

    Tooltip._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $element = $__default['default'](this);
        var data = $element.data(DATA_KEY$6);

        var _config = typeof config === 'object' && config;

        if (!data && /dispose|hide/.test(config)) {
          return;
        }

        if (!data) {
          data = new Tooltip(this, _config);
          $element.data(DATA_KEY$6, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Tooltip, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$6;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$4;
      }
    }, {
      key: "NAME",
      get: function get() {
        return NAME$6;
      }
    }, {
      key: "DATA_KEY",
      get: function get() {
        return DATA_KEY$6;
      }
    }, {
      key: "Event",
      get: function get() {
        return Event;
      }
    }, {
      key: "EVENT_KEY",
      get: function get() {
        return EVENT_KEY$6;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$4;
      }
    }]);

    return Tooltip;
  }();
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */


  $__default['default'].fn[NAME$6] = Tooltip._jQueryInterface;
  $__default['default'].fn[NAME$6].Constructor = Tooltip;

  $__default['default'].fn[NAME$6].noConflict = function () {
    $__default['default'].fn[NAME$6] = JQUERY_NO_CONFLICT$6;
    return Tooltip._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$7 = 'popover';
  var VERSION$7 = '4.5.3';
  var DATA_KEY$7 = 'bs.popover';
  var EVENT_KEY$7 = "." + DATA_KEY$7;
  var JQUERY_NO_CONFLICT$7 = $__default['default'].fn[NAME$7];
  var CLASS_PREFIX$1 = 'bs-popover';
  var BSCLS_PREFIX_REGEX$1 = new RegExp("(^|\\s)" + CLASS_PREFIX$1 + "\\S+", 'g');

  var Default$5 = _extends({}, Tooltip.Default, {
    placement: 'right',
    trigger: 'click',
    content: '',
    template: '<div class="popover" role="tooltip">' + '<div class="arrow"></div>' + '<h3 class="popover-header"></h3>' + '<div class="popover-body"></div></div>'
  });

  var DefaultType$5 = _extends({}, Tooltip.DefaultType, {
    content: '(string|element|function)'
  });

  var CLASS_NAME_FADE$3 = 'fade';
  var CLASS_NAME_SHOW$5 = 'show';
  var SELECTOR_TITLE = '.popover-header';
  var SELECTOR_CONTENT = '.popover-body';
  var Event$1 = {
    HIDE: "hide" + EVENT_KEY$7,
    HIDDEN: "hidden" + EVENT_KEY$7,
    SHOW: "show" + EVENT_KEY$7,
    SHOWN: "shown" + EVENT_KEY$7,
    INSERTED: "inserted" + EVENT_KEY$7,
    CLICK: "click" + EVENT_KEY$7,
    FOCUSIN: "focusin" + EVENT_KEY$7,
    FOCUSOUT: "focusout" + EVENT_KEY$7,
    MOUSEENTER: "mouseenter" + EVENT_KEY$7,
    MOUSELEAVE: "mouseleave" + EVENT_KEY$7
  };
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Popover = /*#__PURE__*/function (_Tooltip) {
    _inheritsLoose(Popover, _Tooltip);

    function Popover() {
      return _Tooltip.apply(this, arguments) || this;
    }

    var _proto = Popover.prototype;

    // Overrides
    _proto.isWithContent = function isWithContent() {
      return this.getTitle() || this._getContent();
    };

    _proto.addAttachmentClass = function addAttachmentClass(attachment) {
      $__default['default'](this.getTipElement()).addClass(CLASS_PREFIX$1 + "-" + attachment);
    };

    _proto.getTipElement = function getTipElement() {
      this.tip = this.tip || $__default['default'](this.config.template)[0];
      return this.tip;
    };

    _proto.setContent = function setContent() {
      var $tip = $__default['default'](this.getTipElement()); // We use append for html objects to maintain js events

      this.setElementContent($tip.find(SELECTOR_TITLE), this.getTitle());

      var content = this._getContent();

      if (typeof content === 'function') {
        content = content.call(this.element);
      }

      this.setElementContent($tip.find(SELECTOR_CONTENT), content);
      $tip.removeClass(CLASS_NAME_FADE$3 + " " + CLASS_NAME_SHOW$5);
    } // Private
    ;

    _proto._getContent = function _getContent() {
      return this.element.getAttribute('data-content') || this.config.content;
    };

    _proto._cleanTipClass = function _cleanTipClass() {
      var $tip = $__default['default'](this.getTipElement());
      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX$1);

      if (tabClass !== null && tabClass.length > 0) {
        $tip.removeClass(tabClass.join(''));
      }
    } // Static
    ;

    Popover._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $__default['default'](this).data(DATA_KEY$7);

        var _config = typeof config === 'object' ? config : null;

        if (!data && /dispose|hide/.test(config)) {
          return;
        }

        if (!data) {
          data = new Popover(this, _config);
          $__default['default'](this).data(DATA_KEY$7, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Popover, null, [{
      key: "VERSION",
      // Getters
      get: function get() {
        return VERSION$7;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$5;
      }
    }, {
      key: "NAME",
      get: function get() {
        return NAME$7;
      }
    }, {
      key: "DATA_KEY",
      get: function get() {
        return DATA_KEY$7;
      }
    }, {
      key: "Event",
      get: function get() {
        return Event$1;
      }
    }, {
      key: "EVENT_KEY",
      get: function get() {
        return EVENT_KEY$7;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$5;
      }
    }]);

    return Popover;
  }(Tooltip);
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */


  $__default['default'].fn[NAME$7] = Popover._jQueryInterface;
  $__default['default'].fn[NAME$7].Constructor = Popover;

  $__default['default'].fn[NAME$7].noConflict = function () {
    $__default['default'].fn[NAME$7] = JQUERY_NO_CONFLICT$7;
    return Popover._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$8 = 'scrollspy';
  var VERSION$8 = '4.5.3';
  var DATA_KEY$8 = 'bs.scrollspy';
  var EVENT_KEY$8 = "." + DATA_KEY$8;
  var DATA_API_KEY$6 = '.data-api';
  var JQUERY_NO_CONFLICT$8 = $__default['default'].fn[NAME$8];
  var Default$6 = {
    offset: 10,
    method: 'auto',
    target: ''
  };
  var DefaultType$6 = {
    offset: 'number',
    method: 'string',
    target: '(string|element)'
  };
  var EVENT_ACTIVATE = "activate" + EVENT_KEY$8;
  var EVENT_SCROLL = "scroll" + EVENT_KEY$8;
  var EVENT_LOAD_DATA_API$2 = "load" + EVENT_KEY$8 + DATA_API_KEY$6;
  var CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';
  var CLASS_NAME_ACTIVE$2 = 'active';
  var SELECTOR_DATA_SPY = '[data-spy="scroll"]';
  var SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';
  var SELECTOR_NAV_LINKS = '.nav-link';
  var SELECTOR_NAV_ITEMS = '.nav-item';
  var SELECTOR_LIST_ITEMS = '.list-group-item';
  var SELECTOR_DROPDOWN = '.dropdown';
  var SELECTOR_DROPDOWN_ITEMS = '.dropdown-item';
  var SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';
  var METHOD_OFFSET = 'offset';
  var METHOD_POSITION = 'position';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var ScrollSpy = /*#__PURE__*/function () {
    function ScrollSpy(element, config) {
      var _this = this;

      this._element = element;
      this._scrollElement = element.tagName === 'BODY' ? window : element;
      this._config = this._getConfig(config);
      this._selector = this._config.target + " " + SELECTOR_NAV_LINKS + "," + (this._config.target + " " + SELECTOR_LIST_ITEMS + ",") + (this._config.target + " " + SELECTOR_DROPDOWN_ITEMS);
      this._offsets = [];
      this._targets = [];
      this._activeTarget = null;
      this._scrollHeight = 0;
      $__default['default'](this._scrollElement).on(EVENT_SCROLL, function (event) {
        return _this._process(event);
      });
      this.refresh();

      this._process();
    } // Getters


    var _proto = ScrollSpy.prototype;

    // Public
    _proto.refresh = function refresh() {
      var _this2 = this;

      var autoMethod = this._scrollElement === this._scrollElement.window ? METHOD_OFFSET : METHOD_POSITION;
      var offsetMethod = this._config.method === 'auto' ? autoMethod : this._config.method;
      var offsetBase = offsetMethod === METHOD_POSITION ? this._getScrollTop() : 0;
      this._offsets = [];
      this._targets = [];
      this._scrollHeight = this._getScrollHeight();
      var targets = [].slice.call(document.querySelectorAll(this._selector));
      targets.map(function (element) {
        var target;
        var targetSelector = Util.getSelectorFromElement(element);

        if (targetSelector) {
          target = document.querySelector(targetSelector);
        }

        if (target) {
          var targetBCR = target.getBoundingClientRect();

          if (targetBCR.width || targetBCR.height) {
            // TODO (fat): remove sketch reliance on jQuery position/offset
            return [$__default['default'](target)[offsetMethod]().top + offsetBase, targetSelector];
          }
        }

        return null;
      }).filter(function (item) {
        return item;
      }).sort(function (a, b) {
        return a[0] - b[0];
      }).forEach(function (item) {
        _this2._offsets.push(item[0]);

        _this2._targets.push(item[1]);
      });
    };

    _proto.dispose = function dispose() {
      $__default['default'].removeData(this._element, DATA_KEY$8);
      $__default['default'](this._scrollElement).off(EVENT_KEY$8);
      this._element = null;
      this._scrollElement = null;
      this._config = null;
      this._selector = null;
      this._offsets = null;
      this._targets = null;
      this._activeTarget = null;
      this._scrollHeight = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _extends({}, Default$6, typeof config === 'object' && config ? config : {});

      if (typeof config.target !== 'string' && Util.isElement(config.target)) {
        var id = $__default['default'](config.target).attr('id');

        if (!id) {
          id = Util.getUID(NAME$8);
          $__default['default'](config.target).attr('id', id);
        }

        config.target = "#" + id;
      }

      Util.typeCheckConfig(NAME$8, config, DefaultType$6);
      return config;
    };

    _proto._getScrollTop = function _getScrollTop() {
      return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop;
    };

    _proto._getScrollHeight = function _getScrollHeight() {
      return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    };

    _proto._getOffsetHeight = function _getOffsetHeight() {
      return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height;
    };

    _proto._process = function _process() {
      var scrollTop = this._getScrollTop() + this._config.offset;

      var scrollHeight = this._getScrollHeight();

      var maxScroll = this._config.offset + scrollHeight - this._getOffsetHeight();

      if (this._scrollHeight !== scrollHeight) {
        this.refresh();
      }

      if (scrollTop >= maxScroll) {
        var target = this._targets[this._targets.length - 1];

        if (this._activeTarget !== target) {
          this._activate(target);
        }

        return;
      }

      if (this._activeTarget && scrollTop < this._offsets[0] && this._offsets[0] > 0) {
        this._activeTarget = null;

        this._clear();

        return;
      }

      for (var i = this._offsets.length; i--;) {
        var isActiveTarget = this._activeTarget !== this._targets[i] && scrollTop >= this._offsets[i] && (typeof this._offsets[i + 1] === 'undefined' || scrollTop < this._offsets[i + 1]);

        if (isActiveTarget) {
          this._activate(this._targets[i]);
        }
      }
    };

    _proto._activate = function _activate(target) {
      this._activeTarget = target;

      this._clear();

      var queries = this._selector.split(',').map(function (selector) {
        return selector + "[data-target=\"" + target + "\"]," + selector + "[href=\"" + target + "\"]";
      });

      var $link = $__default['default']([].slice.call(document.querySelectorAll(queries.join(','))));

      if ($link.hasClass(CLASS_NAME_DROPDOWN_ITEM)) {
        $link.closest(SELECTOR_DROPDOWN).find(SELECTOR_DROPDOWN_TOGGLE).addClass(CLASS_NAME_ACTIVE$2);
        $link.addClass(CLASS_NAME_ACTIVE$2);
      } else {
        // Set triggered link as active
        $link.addClass(CLASS_NAME_ACTIVE$2); // Set triggered links parents as active
        // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor

        $link.parents(SELECTOR_NAV_LIST_GROUP).prev(SELECTOR_NAV_LINKS + ", " + SELECTOR_LIST_ITEMS).addClass(CLASS_NAME_ACTIVE$2); // Handle special case when .nav-link is inside .nav-item

        $link.parents(SELECTOR_NAV_LIST_GROUP).prev(SELECTOR_NAV_ITEMS).children(SELECTOR_NAV_LINKS).addClass(CLASS_NAME_ACTIVE$2);
      }

      $__default['default'](this._scrollElement).trigger(EVENT_ACTIVATE, {
        relatedTarget: target
      });
    };

    _proto._clear = function _clear() {
      [].slice.call(document.querySelectorAll(this._selector)).filter(function (node) {
        return node.classList.contains(CLASS_NAME_ACTIVE$2);
      }).forEach(function (node) {
        return node.classList.remove(CLASS_NAME_ACTIVE$2);
      });
    } // Static
    ;

    ScrollSpy._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $__default['default'](this).data(DATA_KEY$8);

        var _config = typeof config === 'object' && config;

        if (!data) {
          data = new ScrollSpy(this, _config);
          $__default['default'](this).data(DATA_KEY$8, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(ScrollSpy, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$8;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$6;
      }
    }]);

    return ScrollSpy;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](window).on(EVENT_LOAD_DATA_API$2, function () {
    var scrollSpys = [].slice.call(document.querySelectorAll(SELECTOR_DATA_SPY));
    var scrollSpysLength = scrollSpys.length;

    for (var i = scrollSpysLength; i--;) {
      var $spy = $__default['default'](scrollSpys[i]);

      ScrollSpy._jQueryInterface.call($spy, $spy.data());
    }
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME$8] = ScrollSpy._jQueryInterface;
  $__default['default'].fn[NAME$8].Constructor = ScrollSpy;

  $__default['default'].fn[NAME$8].noConflict = function () {
    $__default['default'].fn[NAME$8] = JQUERY_NO_CONFLICT$8;
    return ScrollSpy._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$9 = 'tab';
  var VERSION$9 = '4.5.3';
  var DATA_KEY$9 = 'bs.tab';
  var EVENT_KEY$9 = "." + DATA_KEY$9;
  var DATA_API_KEY$7 = '.data-api';
  var JQUERY_NO_CONFLICT$9 = $__default['default'].fn[NAME$9];
  var EVENT_HIDE$3 = "hide" + EVENT_KEY$9;
  var EVENT_HIDDEN$3 = "hidden" + EVENT_KEY$9;
  var EVENT_SHOW$3 = "show" + EVENT_KEY$9;
  var EVENT_SHOWN$3 = "shown" + EVENT_KEY$9;
  var EVENT_CLICK_DATA_API$6 = "click" + EVENT_KEY$9 + DATA_API_KEY$7;
  var CLASS_NAME_DROPDOWN_MENU = 'dropdown-menu';
  var CLASS_NAME_ACTIVE$3 = 'active';
  var CLASS_NAME_DISABLED$1 = 'disabled';
  var CLASS_NAME_FADE$4 = 'fade';
  var CLASS_NAME_SHOW$6 = 'show';
  var SELECTOR_DROPDOWN$1 = '.dropdown';
  var SELECTOR_NAV_LIST_GROUP$1 = '.nav, .list-group';
  var SELECTOR_ACTIVE$2 = '.active';
  var SELECTOR_ACTIVE_UL = '> li > .active';
  var SELECTOR_DATA_TOGGLE$4 = '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]';
  var SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';
  var SELECTOR_DROPDOWN_ACTIVE_CHILD = '> .dropdown-menu .active';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Tab = /*#__PURE__*/function () {
    function Tab(element) {
      this._element = element;
    } // Getters


    var _proto = Tab.prototype;

    // Public
    _proto.show = function show() {
      var _this = this;

      if (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && $__default['default'](this._element).hasClass(CLASS_NAME_ACTIVE$3) || $__default['default'](this._element).hasClass(CLASS_NAME_DISABLED$1)) {
        return;
      }

      var target;
      var previous;
      var listElement = $__default['default'](this._element).closest(SELECTOR_NAV_LIST_GROUP$1)[0];
      var selector = Util.getSelectorFromElement(this._element);

      if (listElement) {
        var itemSelector = listElement.nodeName === 'UL' || listElement.nodeName === 'OL' ? SELECTOR_ACTIVE_UL : SELECTOR_ACTIVE$2;
        previous = $__default['default'].makeArray($__default['default'](listElement).find(itemSelector));
        previous = previous[previous.length - 1];
      }

      var hideEvent = $__default['default'].Event(EVENT_HIDE$3, {
        relatedTarget: this._element
      });
      var showEvent = $__default['default'].Event(EVENT_SHOW$3, {
        relatedTarget: previous
      });

      if (previous) {
        $__default['default'](previous).trigger(hideEvent);
      }

      $__default['default'](this._element).trigger(showEvent);

      if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) {
        return;
      }

      if (selector) {
        target = document.querySelector(selector);
      }

      this._activate(this._element, listElement);

      var complete = function complete() {
        var hiddenEvent = $__default['default'].Event(EVENT_HIDDEN$3, {
          relatedTarget: _this._element
        });
        var shownEvent = $__default['default'].Event(EVENT_SHOWN$3, {
          relatedTarget: previous
        });
        $__default['default'](previous).trigger(hiddenEvent);
        $__default['default'](_this._element).trigger(shownEvent);
      };

      if (target) {
        this._activate(target, target.parentNode, complete);
      } else {
        complete();
      }
    };

    _proto.dispose = function dispose() {
      $__default['default'].removeData(this._element, DATA_KEY$9);
      this._element = null;
    } // Private
    ;

    _proto._activate = function _activate(element, container, callback) {
      var _this2 = this;

      var activeElements = container && (container.nodeName === 'UL' || container.nodeName === 'OL') ? $__default['default'](container).find(SELECTOR_ACTIVE_UL) : $__default['default'](container).children(SELECTOR_ACTIVE$2);
      var active = activeElements[0];
      var isTransitioning = callback && active && $__default['default'](active).hasClass(CLASS_NAME_FADE$4);

      var complete = function complete() {
        return _this2._transitionComplete(element, active, callback);
      };

      if (active && isTransitioning) {
        var transitionDuration = Util.getTransitionDurationFromElement(active);
        $__default['default'](active).removeClass(CLASS_NAME_SHOW$6).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }
    };

    _proto._transitionComplete = function _transitionComplete(element, active, callback) {
      if (active) {
        $__default['default'](active).removeClass(CLASS_NAME_ACTIVE$3);
        var dropdownChild = $__default['default'](active.parentNode).find(SELECTOR_DROPDOWN_ACTIVE_CHILD)[0];

        if (dropdownChild) {
          $__default['default'](dropdownChild).removeClass(CLASS_NAME_ACTIVE$3);
        }

        if (active.getAttribute('role') === 'tab') {
          active.setAttribute('aria-selected', false);
        }
      }

      $__default['default'](element).addClass(CLASS_NAME_ACTIVE$3);

      if (element.getAttribute('role') === 'tab') {
        element.setAttribute('aria-selected', true);
      }

      Util.reflow(element);

      if (element.classList.contains(CLASS_NAME_FADE$4)) {
        element.classList.add(CLASS_NAME_SHOW$6);
      }

      if (element.parentNode && $__default['default'](element.parentNode).hasClass(CLASS_NAME_DROPDOWN_MENU)) {
        var dropdownElement = $__default['default'](element).closest(SELECTOR_DROPDOWN$1)[0];

        if (dropdownElement) {
          var dropdownToggleList = [].slice.call(dropdownElement.querySelectorAll(SELECTOR_DROPDOWN_TOGGLE$1));
          $__default['default'](dropdownToggleList).addClass(CLASS_NAME_ACTIVE$3);
        }

        element.setAttribute('aria-expanded', true);
      }

      if (callback) {
        callback();
      }
    } // Static
    ;

    Tab._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $this = $__default['default'](this);
        var data = $this.data(DATA_KEY$9);

        if (!data) {
          data = new Tab(this);
          $this.data(DATA_KEY$9, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Tab, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$9;
      }
    }]);

    return Tab;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $__default['default'](document).on(EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$4, function (event) {
    event.preventDefault();

    Tab._jQueryInterface.call($__default['default'](this), 'show');
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $__default['default'].fn[NAME$9] = Tab._jQueryInterface;
  $__default['default'].fn[NAME$9].Constructor = Tab;

  $__default['default'].fn[NAME$9].noConflict = function () {
    $__default['default'].fn[NAME$9] = JQUERY_NO_CONFLICT$9;
    return Tab._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$a = 'toast';
  var VERSION$a = '4.5.3';
  var DATA_KEY$a = 'bs.toast';
  var EVENT_KEY$a = "." + DATA_KEY$a;
  var JQUERY_NO_CONFLICT$a = $__default['default'].fn[NAME$a];
  var EVENT_CLICK_DISMISS$1 = "click.dismiss" + EVENT_KEY$a;
  var EVENT_HIDE$4 = "hide" + EVENT_KEY$a;
  var EVENT_HIDDEN$4 = "hidden" + EVENT_KEY$a;
  var EVENT_SHOW$4 = "show" + EVENT_KEY$a;
  var EVENT_SHOWN$4 = "shown" + EVENT_KEY$a;
  var CLASS_NAME_FADE$5 = 'fade';
  var CLASS_NAME_HIDE = 'hide';
  var CLASS_NAME_SHOW$7 = 'show';
  var CLASS_NAME_SHOWING = 'showing';
  var DefaultType$7 = {
    animation: 'boolean',
    autohide: 'boolean',
    delay: 'number'
  };
  var Default$7 = {
    animation: true,
    autohide: true,
    delay: 500
  };
  var SELECTOR_DATA_DISMISS$1 = '[data-dismiss="toast"]';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Toast = /*#__PURE__*/function () {
    function Toast(element, config) {
      this._element = element;
      this._config = this._getConfig(config);
      this._timeout = null;

      this._setListeners();
    } // Getters


    var _proto = Toast.prototype;

    // Public
    _proto.show = function show() {
      var _this = this;

      var showEvent = $__default['default'].Event(EVENT_SHOW$4);
      $__default['default'](this._element).trigger(showEvent);

      if (showEvent.isDefaultPrevented()) {
        return;
      }

      this._clearTimeout();

      if (this._config.animation) {
        this._element.classList.add(CLASS_NAME_FADE$5);
      }

      var complete = function complete() {
        _this._element.classList.remove(CLASS_NAME_SHOWING);

        _this._element.classList.add(CLASS_NAME_SHOW$7);

        $__default['default'](_this._element).trigger(EVENT_SHOWN$4);

        if (_this._config.autohide) {
          _this._timeout = setTimeout(function () {
            _this.hide();
          }, _this._config.delay);
        }
      };

      this._element.classList.remove(CLASS_NAME_HIDE);

      Util.reflow(this._element);

      this._element.classList.add(CLASS_NAME_SHOWING);

      if (this._config.animation) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._element);
        $__default['default'](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }
    };

    _proto.hide = function hide() {
      if (!this._element.classList.contains(CLASS_NAME_SHOW$7)) {
        return;
      }

      var hideEvent = $__default['default'].Event(EVENT_HIDE$4);
      $__default['default'](this._element).trigger(hideEvent);

      if (hideEvent.isDefaultPrevented()) {
        return;
      }

      this._close();
    };

    _proto.dispose = function dispose() {
      this._clearTimeout();

      if (this._element.classList.contains(CLASS_NAME_SHOW$7)) {
        this._element.classList.remove(CLASS_NAME_SHOW$7);
      }

      $__default['default'](this._element).off(EVENT_CLICK_DISMISS$1);
      $__default['default'].removeData(this._element, DATA_KEY$a);
      this._element = null;
      this._config = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _extends({}, Default$7, $__default['default'](this._element).data(), typeof config === 'object' && config ? config : {});
      Util.typeCheckConfig(NAME$a, config, this.constructor.DefaultType);
      return config;
    };

    _proto._setListeners = function _setListeners() {
      var _this2 = this;

      $__default['default'](this._element).on(EVENT_CLICK_DISMISS$1, SELECTOR_DATA_DISMISS$1, function () {
        return _this2.hide();
      });
    };

    _proto._close = function _close() {
      var _this3 = this;

      var complete = function complete() {
        _this3._element.classList.add(CLASS_NAME_HIDE);

        $__default['default'](_this3._element).trigger(EVENT_HIDDEN$4);
      };

      this._element.classList.remove(CLASS_NAME_SHOW$7);

      if (this._config.animation) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._element);
        $__default['default'](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }
    };

    _proto._clearTimeout = function _clearTimeout() {
      clearTimeout(this._timeout);
      this._timeout = null;
    } // Static
    ;

    Toast._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $element = $__default['default'](this);
        var data = $element.data(DATA_KEY$a);

        var _config = typeof config === 'object' && config;

        if (!data) {
          data = new Toast(this, _config);
          $element.data(DATA_KEY$a, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config](this);
        }
      });
    };

    _createClass(Toast, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$a;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$7;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$7;
      }
    }]);

    return Toast;
  }();
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */


  $__default['default'].fn[NAME$a] = Toast._jQueryInterface;
  $__default['default'].fn[NAME$a].Constructor = Toast;

  $__default['default'].fn[NAME$a].noConflict = function () {
    $__default['default'].fn[NAME$a] = JQUERY_NO_CONFLICT$a;
    return Toast._jQueryInterface;
  };

  exports.Alert = Alert;
  exports.Button = Button;
  exports.Carousel = Carousel;
  exports.Collapse = Collapse;
  exports.Dropdown = Dropdown;
  exports.Modal = Modal;
  exports.Popover = Popover;
  exports.Scrollspy = ScrollSpy;
  exports.Tab = Tab;
  exports.Toast = Toast;
  exports.Tooltip = Tooltip;
  exports.Util = Util;

  Object.defineProperty(exports, '__esModule', { value: true });

})));


/* =============================================================
 * bootstrap-typeahead.js v2.3.2
 * http://twbs.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */


!function($){

    "use strict"; // jshint ;_;
  
  
   /* TYPEAHEAD PUBLIC CLASS DEFINITION
    * ================================= */
  
    var Typeahead = function (element, options) {
      this.$element = $(element)
      this.options = $.extend({}, $.fn.typeahead.defaults, options)
      this.matcher = this.options.matcher || this.matcher
      this.sorter = this.options.sorter || this.sorter
      this.highlighter = this.options.highlighter || this.highlighter
      this.updater = this.options.updater || this.updater
      this.source = this.options.source
      this.$menu = $(this.options.menu)
      this.shown = false
      this.listen()
    }
  
    Typeahead.prototype = {
  
      constructor: Typeahead
  
    , select: function () {
        var val = this.$menu.find('.active').attr('data-value')
        this.$element
          .val(this.updater(val))
          .change()
        return this.hide()
      }
  
    , updater: function (item) {
        return item
      }
  
    , show: function () {
        var pos = $.extend({}, this.$element.position(), {
          height: this.$element[0].offsetHeight
        })
  
        this.$menu
          .insertAfter(this.$element)
          .css({
            top: pos.top + pos.height
          , left: pos.left
          })
          .show()
  
        this.shown = true
        return this
      }
  
    , hide: function () {
        this.$menu.hide()
        this.shown = false
        return this
      }
  
    , lookup: function (event) {
        var items
  
        this.query = this.$element.val()
  
        if (!this.query || this.query.length < this.options.minLength) {
          return this.shown ? this.hide() : this
        }
  
        items = $.isFunction(this.source) ? this.source(this.query, $.proxy(this.process, this)) : this.source
  
        return items ? this.process(items) : this
      }
  
    , process: function (items) {
        var that = this
  
        items = $.grep(items, function (item) {
          return that.matcher(item)
        })
  
        items = this.sorter(items)
  
        if (!items.length) {
          return this.shown ? this.hide() : this
        }
  
        return this.render(items.slice(0, this.options.items)).show()
      }
  
    , matcher: function (item) {
        return ~item.toLowerCase().indexOf(this.query.toLowerCase())
      }
  
    , sorter: function (items) {
        var beginswith = []
          , caseSensitive = []
          , caseInsensitive = []
          , item
  
        while (item = items.shift()) {
          if (!item.toLowerCase().indexOf(this.query.toLowerCase())) beginswith.push(item)
          else if (~item.indexOf(this.query)) caseSensitive.push(item)
          else caseInsensitive.push(item)
        }
  
        return beginswith.concat(caseSensitive, caseInsensitive)
      }
  
    , highlighter: function (item) {
        var query = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, '\\$&')
        return item.replace(new RegExp('(' + query + ')', 'ig'), function ($1, match) {
          return '<strong>' + match + '</strong>'
        })
      }
  
    , render: function (items) {
        var that = this
  
        items = $(items).map(function (i, item) {
          i = $(that.options.item).attr('data-value', item)
          i.find('a').html(that.highlighter(item))
          return i[0]
        })
  
        items.first().addClass('active')
        this.$menu.html(items)
        return this
      }
  
    , next: function (event) {
        var active = this.$menu.find('.active').removeClass('active')
          , next = active.next()
  
        if (!next.length) {
          next = $(this.$menu.find('li')[0])
        }
  
        next.addClass('active')
      }
  
    , prev: function (event) {
        var active = this.$menu.find('.active').removeClass('active')
          , prev = active.prev()
  
        if (!prev.length) {
          prev = this.$menu.find('li').last()
        }
  
        prev.addClass('active')
      }
  
    , listen: function () {
        this.$element
          .on('focus',    $.proxy(this.focus, this))
          .on('blur',     $.proxy(this.blur, this))
          .on('keypress', $.proxy(this.keypress, this))
          .on('keyup',    $.proxy(this.keyup, this))
  
        if (this.eventSupported('keydown')) {
          this.$element.on('keydown', $.proxy(this.keydown, this))
        }
  
        this.$menu
          .on('click', $.proxy(this.click, this))
          .on('mouseenter', 'li', $.proxy(this.mouseenter, this))
          .on('mouseleave', 'li', $.proxy(this.mouseleave, this))
      }
  
    , eventSupported: function(eventName) {
        var isSupported = eventName in this.$element
        if (!isSupported) {
          this.$element.setAttribute(eventName, 'return;')
          isSupported = typeof this.$element[eventName] === 'function'
        }
        return isSupported
      }
  
    , move: function (e) {
        if (!this.shown) return
  
        switch(e.keyCode) {
          case 9: // tab
          case 13: // enter
          case 27: // escape
            e.preventDefault()
            break
  
          case 38: // up arrow
            e.preventDefault()
            this.prev()
            break
  
          case 40: // down arrow
            e.preventDefault()
            this.next()
            break
        }
  
        e.stopPropagation()
      }
  
    , keydown: function (e) {
        this.suppressKeyPressRepeat = ~$.inArray(e.keyCode, [40,38,9,13,27])
        this.move(e)
      }
  
    , keypress: function (e) {
        if (this.suppressKeyPressRepeat) return
        this.move(e)
      }
  
    , keyup: function (e) {
        switch(e.keyCode) {
          case 40: // down arrow
          case 38: // up arrow
          case 16: // shift
          case 17: // ctrl
          case 18: // alt
            break
  
          case 9: // tab
          case 13: // enter
            if (!this.shown) return
            this.select()
            break
  
          case 27: // escape
            if (!this.shown) return
            this.hide()
            break
  
          default:
            this.lookup()
        }
  
        e.stopPropagation()
        e.preventDefault()
    }
  
    , focus: function (e) {
        this.focused = true
      }
  
    , blur: function (e) {
        this.focused = false
        if (!this.mousedover && this.shown) this.hide()
      }
  
    , click: function (e) {
        e.stopPropagation()
        e.preventDefault()
        this.select()
        this.$element.focus()
      }
  
    , mouseenter: function (e) {
        this.mousedover = true
        this.$menu.find('.active').removeClass('active')
        $(e.currentTarget).addClass('active')
      }
  
    , mouseleave: function (e) {
        this.mousedover = false
        if (!this.focused && this.shown) this.hide()
      }
  
    }
  
  
    /* TYPEAHEAD PLUGIN DEFINITION
     * =========================== */
  
    var old = $.fn.typeahead
  
    $.fn.typeahead = function (option) {
      return this.each(function () {
        var $this = $(this)
          , data = $this.data('typeahead')
          , options = typeof option == 'object' && option
        if (!data) $this.data('typeahead', (data = new Typeahead(this, options)))
        if (typeof option == 'string') data[option]()
      })
    }
  
    $.fn.typeahead.defaults = {
      source: []
    , items: 8
    , menu: '<ul class="typeahead dropdown-menu"></ul>'
    , item: '<li><a href="#"></a></li>'
    , minLength: 1
    }
  
    $.fn.typeahead.Constructor = Typeahead
  
  
   /* TYPEAHEAD NO CONFLICT
    * =================== */
  
    $.fn.typeahead.noConflict = function () {
      $.fn.typeahead = old
      return this
    }
  
  
   /* TYPEAHEAD DATA-API
    * ================== */
  
    $(document).on('focus.typeahead.data-api', '[data-provide="typeahead"]', function (e) {
      var $this = $(this)
      if ($this.data('typeahead')) return
      $this.typeahead($this.data())
    })
  
  }(window.jQuery);
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return o={},r.m=n=[function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function r(){o.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n,t.exports.TinyEmitter=n},function(t,e,n){var d=n(3),h=n(4);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!d.string(e))throw new TypeError("Second argument must be a String");if(!d.fn(n))throw new TypeError("Third argument must be a Function");if(d.node(t))return s=e,f=n,(u=t).addEventListener(s,f),{destroy:function(){u.removeEventListener(s,f)}};if(d.nodeList(t))return a=t,c=e,l=n,Array.prototype.forEach.call(a,function(t){t.addEventListener(c,l)}),{destroy:function(){Array.prototype.forEach.call(a,function(t){t.removeEventListener(c,l)})}};if(d.string(t))return o=t,r=e,i=n,h(document.body,o,r,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,r,i,a,c,l,u,s,f}},function(t,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var a=n(5);function i(t,e,n,o,r){var i=function(e,n,t,o){return function(t){t.delegateTarget=a(t.target,n),t.delegateTarget&&o.call(e,t)}}.apply(this,arguments);return t.addEventListener(n,i,r),{destroy:function(){t.removeEventListener(n,i,r)}}}t.exports=function(t,e,n,o,r){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,o,r)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.resolveOptions(t),this.initSelection()}var l=(function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(c,[{key:"resolveOptions",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=r()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=r()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(t){var e=0<arguments.length&&void 0!==t?t:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),c),u=n(1),s=n.n(u),f=n(2),d=n.n(f),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t};function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(v,s.a),p(v,[{key:"resolveOptions",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=d()(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return b("action",t)}},{key:"defaultTarget",value:function(t){var e=b("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return b("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(t){var e=0<arguments.length&&void 0!==t?t:["copy","cut"],n="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return n.forEach(function(t){o=o&&!!document.queryCommandSupported(t)}),o}}]),v);function v(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return n.resolveOptions(e),n.listenClick(t),n}function b(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}e.default=m}],r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6).default;function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,o});

/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).echarts={})}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)};function n(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}var o=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},a=new function(){this.browser=new o,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(a.wxa=!0,a.canvasSupported=!0,a.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(a.worker=!0,a.canvasSupported=!0):"undefined"==typeof navigator?(a.node=!0,a.canvasSupported=!0,a.svgSupported=!0):function(t,e){var n=e.browser,i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);i&&(n.firefox=!0,n.version=i[1]);r&&(n.ie=!0,n.version=r[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);a&&(n.weChat=!0);e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!=typeof document}(navigator.userAgent,a);var s={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},l={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},u=Object.prototype.toString,h=Array.prototype,c=h.forEach,p=h.filter,d=h.slice,f=h.map,g=function(){}.constructor,y=g?g.prototype:null,v={};function m(t,e){v[t]=e}var _=2311;function x(){return _++}function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)}function w(t){if(null==t||"object"!=typeof t)return t;var e=t,n=u.call(t);if("[object Array]"===n){if(!lt(t)){e=[];for(var i=0,r=t.length;i<r;i++)e[i]=w(t[i])}}else if(l[n]){if(!lt(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(i=0,r=t.length;i<r;i++)e[i]=w(t[i])}}}else if(!s[n]&&!lt(t)&&!j(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=w(t[a]));return e}function S(t,e,n){if(!X(e)||!X(t))return n?w(e):t;for(var i in e)if(e.hasOwnProperty(i)){var r=t[i],o=e[i];!X(o)||!X(r)||F(o)||F(r)||j(o)||j(r)||U(o)||U(r)||lt(o)||lt(r)?!n&&i in t||(t[i]=w(e[i])):S(r,o,n)}return t}function M(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=S(n,t[i],e);return n}function I(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function T(t,e,n){for(var i=z(e),r=0;r<i.length;r++){var o=i[r];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var C=function(){return v.createCanvas()};function A(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function D(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e}function L(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else T(t,e,n)}function k(t){return!!t&&("string"!=typeof t&&"number"==typeof t.length)}function P(t,e,n){if(t&&e)if(t.forEach&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function O(t,e,n){if(!t)return[];if(!e)return nt(t);if(t.map&&t.map===f)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}function R(t,e,n,i){if(t&&e){for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function N(t,e,n){if(!t)return[];if(!e)return nt(t);if(t.filter&&t.filter===p)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}function E(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]}function z(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}v.createCanvas=function(){return document.createElement("canvas")};var B=y&&G(y.bind)?y.call.bind(y.bind):function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return t.apply(e,n.concat(d.call(arguments)))}};function V(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(d.call(arguments)))}}function F(t){return Array.isArray?Array.isArray(t):"[object Array]"===u.call(t)}function G(t){return"function"==typeof t}function H(t){return"string"==typeof t}function W(t){return"[object String]"===u.call(t)}function Y(t){return"number"==typeof t}function X(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function U(t){return!!s[u.call(t)]}function Z(t){return!!l[u.call(t)]}function j(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function q(t){return null!=t.colorStops}function K(t){return null!=t.image}function $(t){return"[object RegExp]"===u.call(t)}function J(t){return t!=t}function Q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t.length;n<i;n++)if(null!=t[n])return t[n]}function tt(t,e){return null!=t?t:e}function et(t,e,n){return null!=t?t:null!=e?e:n}function nt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return d.apply(t,e)}function it(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function rt(t,e){if(!t)throw new Error(e)}function ot(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var at="__ec_primitive__";function st(t){t[at]=!0}function lt(t){return t[at]}var ut=function(){function t(e){this.data={};var n=F(e);this.data={};var i=this;function r(t,e){n?i.set(t,e):i.set(e,t)}e instanceof t?e.each(r):e&&P(e,r)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},t.prototype.keys=function(){return z(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function ht(t){return new ut(t)}function ct(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];var r=t.length;for(i=0;i<e.length;i++)n[i+r]=e[i];return n}function pt(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}return e&&I(n,e),n}function dt(t,e){return t.hasOwnProperty(e)}function ft(){}var gt=Object.freeze({__proto__:null,$override:m,guid:x,logError:b,clone:w,merge:S,mergeAll:M,extend:I,defaults:T,createCanvas:C,indexOf:A,inherits:D,mixin:L,isArrayLike:k,each:P,map:O,reduce:R,filter:N,find:E,keys:z,bind:B,curry:V,isArray:F,isFunction:G,isString:H,isStringSafe:W,isNumber:Y,isObject:X,isBuiltInObject:U,isTypedArray:Z,isDom:j,isGradientObject:q,isPatternObject:K,isRegExp:$,eqNaN:J,retrieve:Q,retrieve2:tt,retrieve3:et,slice:nt,normalizeCssArray:it,assert:rt,trim:ot,setAsPrimitive:st,isPrimitive:lt,HashMap:ut,createHashMap:ht,concatArray:ct,createObject:pt,hasOwn:dt,noop:ft});function yt(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function vt(t,e){return t[0]=e[0],t[1]=e[1],t}function mt(t){return[t[0],t[1]]}function _t(t,e,n){return t[0]=e,t[1]=n,t}function xt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function bt(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function wt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function St(t){return Math.sqrt(It(t))}var Mt=St;function It(t){return t[0]*t[0]+t[1]*t[1]}var Tt=It;function Ct(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function At(t,e){var n=St(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function Dt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Lt=Dt;function kt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Pt=kt;function Ot(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function Rt(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function Nt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Et(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var zt=Object.freeze({__proto__:null,create:yt,copy:vt,clone:mt,set:_t,add:xt,scaleAndAdd:bt,sub:wt,len:St,length:Mt,lenSquare:It,lengthSquare:Tt,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:Ct,normalize:At,distance:Dt,dist:Lt,distanceSquare:kt,distSquare:Pt,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:Ot,applyTransform:Rt,min:Nt,max:Et}),Bt=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},Vt=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Bt(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(r,o,t),this.handler.dispatchToElement(new Bt(e,t),"drag",t.event);var a=this.handler.findHover(n,i,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new Bt(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new Bt(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Bt(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Bt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),Ft=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var a=0;a<r[t].length;a++)if(r[t][a].h===n)return this;var s={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=r[t].length-1,u=r[t][l];return u&&u.callAtLast?r[t].splice(l,0,s):r[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=i.length,s=0;s<a;s++){var l=i[s];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){if(!this._$handlers)return this;var e=this._$handlers[t],n=this._$eventProcessor;if(e)for(var i=arguments,r=i.length,o=i[r-1],a=e.length,s=0;s<a;s++){var l=e[s];if(!n||!n.filter||null==l.query||n.filter(t,l.query))switch(r){case 0:l.h.call(o);break;case 1:l.h.call(o,i[0]);break;case 2:l.h.call(o,i[0],i[1]);break;default:l.h.apply(o,i.slice(1,r-1))}}return n&&n.afterTrigger&&n.afterTrigger(t),this},t}(),Gt=Math.log(2);function Ht(t,e,n,i,r,o){var a=i+"-"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~r)/Gt);return t[n][l]}for(var u=i|1<<n,h=n+1;i&1<<h;)h++;for(var c=0,p=0,d=0;p<s;p++){var f=1<<p;f&r||(c+=(d%2?-1:1)*t[n][p]*Ht(t,e-1,h,u,r|f,o),d++)}return o[a]=c,c}function Wt(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},r=Ht(n,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Ht(n,7,0===a?1:0,1<<a,1<<s,i)/r*e[a];return function(t,e,n){var i=e*o[6]+n*o[7]+1;t[0]=(e*o[0]+n*o[1]+o[2])/i,t[1]=(e*o[3]+n*o[4]+o[5])/i}}}var Yt=[];function Xt(t,e,n,i,r){if(e.getBoundingClientRect&&a.domSupported&&!Ut(e)){var o=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),s=function(t,e,n){for(var i=n?"invTrans":"trans",r=e[i],o=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,p=h.left,d=h.top;a.push(p,d),l=l&&o&&p===o[c]&&d===o[c+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&r?r:(e.srcCoords=a,e[i]=n?Wt(s,a):Wt(a,s))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,l=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[s]+":0",r[l]+":0",i[1-s]+":auto",r[1-l]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,o),o,r);if(s)return s(t,n,i),!0}return!1}function Ut(t){return"CANVAS"===t.nodeName.toUpperCase()}var Zt="undefined"!=typeof window&&!!window.addEventListener,jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qt=[];function Kt(t,e,n,i){return n=n||{},i||!a.canvasSupported?$t(t,e,n):a.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):$t(t,e,n),n}function $t(t,e,n){if(a.domSupported&&t.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(Ut(t)){var o=t.getBoundingClientRect();return n.zrX=i-o.left,void(n.zrY=r-o.top)}if(Xt(qt,t,i,r))return n.zrX=qt[0],void(n.zrY=qt[1])}n.zrX=n.zrY=0}function Jt(t){return t||window.event}function Qt(t,e,n){if(null!=(e=Jt(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];r&&Kt(t,r,e,n)}else{Kt(t,e,e,n);var o=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,i=t.deltaY;if(null==n||null==i)return e;return 3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i<0?1:n>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&jt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function te(t,e,n,i){Zt?t.addEventListener(e,n,i):t.attachEvent("on"+e,n)}var ee=Zt?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function ne(t){return 2===t.which||3===t.which}var ie=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,a=i.length;o<a;o++){var s=i[o],l=Kt(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in oe)if(oe.hasOwnProperty(e)){var n=oe[e](this._track,t);if(n)return n}},t}();function re(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var oe={pinch:function(t,e){var n=t.length;if(n){var i,r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=re(r)/re(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},ae="silent";function se(){ee(this.event)}var le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return n(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Ft),ue=function(t,e){this.x=t,this.y=e},he=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ce=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._hovered=new ue(0,0),o.storage=e,o.painter=n,o.painterRoot=r,i=i||new le,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new Vt(o),o}return n(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(P(he,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,i=de(this,e,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?new ue(e,n):this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new ue(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:se}}(e,t,n);i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(e,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,n){for(var i=this.storage.getDisplayList(),r=new ue(t,e),o=i.length-1;o>=0;o--){var a=void 0;if(i[o]!==n&&!i[o].ignore&&(a=pe(i[o],t,e))&&(!r.topTarget&&(r.topTarget=i[o]),a!==ae)){r.target=i[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new ie);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r;var o=new ue;o.target=i.target,this.dispatchToElement(o,r,i.event)}},e}(Ft);function pe(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,n))return!1;i.silent&&(r=!0)}var s=i.__hostTarget;i=s||i.parent}return!r||ae}return!1}function de(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}function fe(){return[1,0,0,1,0,0]}function ge(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function ye(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ve(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function me(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function _e(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],u=Math.sin(n),h=Math.cos(n);return t[0]=i*h+a*u,t[1]=-i*u+a*h,t[2]=r*h+s*u,t[3]=-r*u+h*s,t[4]=h*o+u*l,t[5]=h*l-u*o,t}function xe(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function be(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null}function we(t){var e=[1,0,0,1,0,0];return ye(e,t),e}P(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){ce.prototype[t]=function(e){var n,i,r=e.zrX,o=e.zrY,a=de(this,r,o);if("mouseup"===t&&a||(i=(n=this.findHover(r,o)).target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Lt(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}));var Se=Object.freeze({__proto__:null,create:fe,identity:ge,copy:ye,mul:ve,translate:me,rotate:_e,scale:xe,invert:be,clone:we}),Me=ge,Ie=5e-5;function Te(t){return t>Ie||t<-5e-5}var Ce=[],Ae=[],De=[1,0,0,1,0,0],Le=Math.abs,ke=function(){function t(){}return t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return Te(this.rotation)||Te(this.x)||Te(this.y)||Te(this.scaleX-1)||Te(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;n||e?(i=i||[1,0,0,1,0,0],n?this.getLocalTransform(i):Me(i),e&&(n?ve(i,t.transform,i):ye(i,t.transform)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&Me(i)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Ce);var n=Ce[0]<0?-1:1,i=Ce[1]<0?-1:1,r=((Ce[0]-n)*e+n)/Ce[0]||0,o=((Ce[1]-i)*e+i)/Ce[1]||0;t[0]*=r,t[1]*=r,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],be(this.invTransform,t)},t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3];Te(e-1)&&(e=Math.sqrt(e)),Te(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),this.rotation=Math.atan2(-t[1]/n,t[0]/e),e<0&&n<0&&(this.rotation+=Math.PI,e=-e,n=-n),this.x=t[4],this.y=t[5],this.scaleX=e,this.scaleY=n}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(ve(Ae,t.invTransform,e),e=Ae);var n=this.originX,i=this.originY;(n||i)&&(De[4]=n,De[5]=i,ve(Ae,e,De),Ae[4]-=n,Ae[5]-=i,e=Ae),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&Rt(n,n,i),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&Rt(n,n,i),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&Le(t[0]-1)>1e-10&&Le(t[3]-1)>1e-10?Math.sqrt(Le(t[0]*t[3]-t[2]*t[1])):1},t.getLocalTransform=function(t,e){Me(e=e||[]);var n=t.originX||0,i=t.originY||0,r=t.scaleX,o=t.scaleY,a=t.rotation||0,s=t.x,l=t.y;return e[4]-=n,e[5]-=i,e[0]*=r,e[1]*=o,e[2]*=r,e[3]*=o,e[4]*=r,e[5]*=o,a&&_e(e,e,a),e[4]+=n,e[5]+=i,e[4]+=s,e[5]+=l,e},t.initDefaultProps=function(){var e=t.prototype;e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.rotation=0,e.globalScaleRatio=1}(),t}(),Pe={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Pe.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Pe.bounceIn(2*t):.5*Pe.bounceOut(2*t-1)+.5}},Oe=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var n=(t-this._startTime-this._pausedTime)/this._life;n<0&&(n=0),n=Math.min(n,1);var i=this.easing,r="string"==typeof i?Pe[i]:i,o="function"==typeof r?r(n):n;if(this.onframe&&this.onframe(o),1===n){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),Re=function(t){this.value=t},Ne=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new Re(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Ee=function(){function t(t){this._list=new Ne,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,i=this._map,r=null;if(null==i[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new Re(e),a.key=t,n.insertEntry(a),i[t]=a}return r},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),ze={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Be(t){return(t=Math.round(t))<0?0:t>255?255:t}function Ve(t){return t<0?0:t>1?1:t}function Fe(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Be(parseFloat(e)/100*255):Be(parseInt(e,10))}function Ge(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Ve(parseFloat(e)/100):Ve(parseFloat(e))}function He(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function We(t,e,n){return t+(e-t)*n}function Ye(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function Xe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Ue=new Ee(20),Ze=null;function je(t,e){Ze&&Xe(Ze,e),Ze=Ue.put(t,Ze||e.slice())}function qe(t,e){if(t){e=e||[];var n=Ue.get(t);if(n)return Xe(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in ze)return Xe(e,ze[i]),je(t,e),e;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(Ye(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),je(t,e),e):void Ye(e,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(Ye(e,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),je(t,e),e):void Ye(e,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===o){var l=i.substr(0,a),u=i.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?Ye(e,+u[0],+u[1],+u[2],1):Ye(e,0,0,0,1);h=Ge(u.pop());case"rgb":return 3!==u.length?void Ye(e,0,0,0,1):(Ye(e,Fe(u[0]),Fe(u[1]),Fe(u[2]),h),je(t,e),e);case"hsla":return 4!==u.length?void Ye(e,0,0,0,1):(u[3]=Ge(u[3]),Ke(u,e),je(t,e),e);case"hsl":return 3!==u.length?void Ye(e,0,0,0,1):(Ke(u,e),je(t,e),e);default:return}}Ye(e,0,0,0,1)}}function Ke(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=Ge(t[1]),r=Ge(t[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return Ye(e=e||[],Be(255*He(a,o,n+1/3)),Be(255*He(a,o,n)),Be(255*He(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function $e(t,e){var n=qe(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return an(n,4===n.length?"rgba":"rgb")}}function Je(t){var e=qe(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Qe(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=e[r],s=e[o],l=i-r;return n[0]=Be(We(a[0],s[0],l)),n[1]=Be(We(a[1],s[1],l)),n[2]=Be(We(a[2],s[2],l)),n[3]=Ve(We(a[3],s[3],l)),n}}var tn=Qe;function en(t,e,n){if(e&&e.length&&t>=0&&t<=1){var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=qe(e[r]),s=qe(e[o]),l=i-r,u=an([Be(We(a[0],s[0],l)),Be(We(a[1],s[1],l)),Be(We(a[2],s[2],l)),Ve(We(a[3],s[3],l))],"rgba");return n?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}var nn=en;function rn(t,e,n,i){var r=qe(t);if(t)return r=function(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var h=((s-i)/6+l/2)/l,c=((s-r)/6+l/2)/l,p=((s-o)/6+l/2)/l;i===s?e=p-c:r===s?e=1/3+h-p:o===s&&(e=2/3+c-h),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,u];return null!=t[3]&&d.push(t[3]),d}}(r),null!=e&&(r[0]=function(t){return(t=Math.round(t))<0?0:t>360?360:t}(e)),null!=n&&(r[1]=Ge(n)),null!=i&&(r[2]=Ge(i)),an(Ke(r),"rgba")}function on(t,e){var n=qe(t);if(n&&null!=e)return n[3]=Ve(e),an(n,"rgba")}function an(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function sn(t,e){var n=qe(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var ln=Object.freeze({__proto__:null,parse:qe,lift:$e,toHex:Je,fastLerp:Qe,fastMapToColor:tn,lerp:en,mapToColor:nn,modifyHSL:rn,modifyAlpha:on,stringify:an,lum:sn,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),un=Array.prototype.slice;function hn(t,e,n){return(e-t)*n+t}function cn(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=hn(e[o],n[o],i)}function pn(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+n[o]*i;return t}function dn(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*i}return t}function fn(t,e,n){var i=t,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===n?r[s]:un.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===n)isNaN(i[s])&&(i[s]=r[s]);else for(var u=0;u<l;u++)isNaN(i[s][u])&&(i[s][u]=r[s][u])}}function gn(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function yn(t,e,n,i,r,o,a){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*r+e}function vn(t,e,n,i,r,o,a,s){for(var l=e.length,u=0;u<l;u++)t[u]=yn(e[u],n[u],i[u],r[u],o,a,s)}function mn(t){if(k(t)){var e=t.length;if(k(t[0])){for(var n=[],i=0;i<e;i++)n.push(un.call(t[i]));return n}return un.call(t)}return t}function _n(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var xn,bn,wn=[0,0,0,0],Sn=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var n=this.keyframes,i=n.length;if(this.interpolable)if(k(e)){var r=function(t){return k(t&&t[0])?2:1}(e);if(i>0&&this.arrDim!==r)return void(this.interpolable=!1);if(1===r&&"number"!=typeof e[0]||2===r&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(i>0){var o=n[i-1];this._isAllValueEqual&&(1===r&&gn(e,o.value)||(this._isAllValueEqual=!1))}this.arrDim=r}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var a=qe(e);a?(e=a,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e)return void(this.interpolable=!1);if(this._isAllValueEqual&&i>0){o=n[i-1];(this.isValueColor&&!gn(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1)}}var s={time:t,value:e,percent:0};return this.keyframes.push(s),s},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var n=this.arrDim,i=e.length,r=e[i-1],o=0;o<i;o++)e[o].percent=e[o].time/this.maxTime,n>0&&o!==i-1&&fn(e[o].value,r.value,n);if(t&&this.needsAnimate()&&t.needsAnimate()&&n===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var a=e[0].value;for(o=0;o<i;o++)0===n?this.isValueColor?e[o].additiveValue=pn([],e[o].value,a,-1):e[o].additiveValue=e[o].value-a:1===n?e[o].additiveValue=pn([],e[o].value,a,-1):2===n&&(e[o].additiveValue=dn([],e[o].value,a,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i=null!=this._additiveTrack,r=i?"additiveValue":"value",o=this.keyframes,a=this.keyframes.length,s=this.propName,l=this.arrDim,u=this.isValueColor;if(e<0)n=0;else if(e<this._lastFramePercent){for(n=Math.min(this._lastFrame+1,a-1);n>=0&&!(o[n].percent<=e);n--);n=Math.min(n,a-2)}else{for(n=this._lastFrame;n<a&&!(o[n].percent>e);n++);n=Math.min(n-1,a-2)}var h=o[n+1],c=o[n];if(c&&h){this._lastFrame=n,this._lastFramePercent=e;var p=h.percent-c.percent;if(0!==p){var d=(e-c.percent)/p,f=i?this._additiveValue:u?wn:t[s];if((l>0||u)&&!f&&(f=this._additiveValue=[]),this.useSpline){var g=o[n][r],y=o[0===n?n:n-1][r],v=o[n>a-2?a-1:n+1][r],m=o[n>a-3?a-1:n+2][r];if(l>0)1===l?vn(f,y,g,v,m,d,d*d,d*d*d):function(t,e,n,i,r,o,a,s){for(var l=e.length,u=e[0].length,h=0;h<l;h++){t[h]||(t[1]=[]);for(var c=0;c<u;c++)t[h][c]=yn(e[h][c],n[h][c],i[h][c],r[h][c],o,a,s)}}(f,y,g,v,m,d,d*d,d*d*d);else if(u)vn(f,y,g,v,m,d,d*d,d*d*d),i||(t[s]=_n(f));else{var _=void 0;_=this.interpolable?yn(y,g,v,m,d,d*d,d*d*d):v,i?this._additiveValue=_:t[s]=_}}else if(l>0)1===l?cn(f,c[r],h[r],d):function(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=hn(e[a][s],n[a][s],i)}}(f,c[r],h[r],d);else if(u)cn(f,c[r],h[r],d),i||(t[s]=_n(f));else{_=void 0;_=this.interpolable?hn(c[r],h[r],d):function(t,e,n){return n>.5?e:t}(c[r],h[r],d),i?this._additiveValue=_:t[s]=_}i&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,n=this.propName,i=this._additiveValue;0===e?this.isValueColor?(qe(t[n],wn),pn(wn,wn,i,1),t[n]=_n(wn)):t[n]=t[n]+i:1===e?pn(t[n],t[n],i,1):2===e&&dn(t[n],t[n],i,1)},t}(),Mn=function(){function t(t,e,n){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&n?b("Can' use additive animation on looped animation."):this._additiveAnimators=n}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,z(e))},t.prototype.whenWithKeys=function(t,e,n){for(var i=this._tracks,r=0;r<n.length;r++){var o=n[r],a=i[o];if(!a){a=i[o]=new Sn(o);var s=void 0,l=this._getAdditiveTrack(o);if(l){var u=l.keyframes[l.keyframes.length-1];s=u&&u.value,l.isValueColor&&s&&(s=_n(s))}else s=this._target[o];if(null==s)continue;0!==t&&a.addKeyframe(0,mn(s)),this._trackKeys.push(o)}a.addKeyframe(t,mn(e[o]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneList;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedList;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var r=n[i].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var n=this,i=[],r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes;if(a.prepare(s),a.needsAnimate())i.push(a);else if(!a.interpolable){var u=l[l.length-1];u&&(n._target[a.propName]=u.value)}}if(i.length||e){var h=new Oe({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){n._started=2;var e=n._additiveAnimators;if(e){for(var r=!1,o=0;o<e.length;o++)if(e[o]._clip){r=!0;break}r||(n._additiveAnimators=null)}for(o=0;o<i.length;o++)i[o].step(n._target,t);var a=n._onframeList;if(a)for(o=0;o<a.length;o++)a[o](n._target,t)},ondestroy:function(){n._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&"spline"!==t&&(h.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(t)),this},t.prototype.done=function(t){return t&&(this._doneList||(this._doneList=[]),this._doneList.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r<t.length;r++){var o=n[t[r]];o&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<i.length;r++)if(!n[i[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var n=0;n<e.length;n++){var i=e[n],r=this._tracks[i];if(r&&!r.isFinished()){var o=r.keyframes,a=o[o.length-1];if(a){var s=mn(a.value);r.isValueColor&&(s=_n(s)),t[i]=s}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||z(t);for(var n=0;n<e.length;n++){var i=e[n],r=this._tracks[i];if(r){var o=r.keyframes;if(o.length>1){var a=o.pop();r.addKeyframe(a.time,t[i]),r.prepare(r.getAdditiveTrack())}}}},t}(),In=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},t.lerp=function(t,e,n,i){var r=1-i;t.x=r*e.x+i*n.x,t.y=r*e.y+i*n.y},t}(),Tn=Math.min,Cn=Math.max,An=new In,Dn=new In,Ln=new In,kn=new In,Pn=new In,On=new In,Rn=function(){function t(t,e,n,i){n<0&&isFinite(n)&&(t+=n,n=-n),i<0&&isFinite(i)&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.union=function(t){var e=Tn(t.x,this.x),n=Tn(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Cn(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Cn(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=[1,0,0,1,0,0];return me(r,r,[-e.x,-e.y]),xe(r,r,[n,i]),me(r,r,[t.x,t.y]),r},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=e.x,u=e.x+e.width,h=e.y,c=e.y+e.height,p=!(o<l||u<r||s<h||c<a);if(n){var d=1/0,f=0,g=Math.abs(o-l),y=Math.abs(u-r),v=Math.abs(s-h),m=Math.abs(c-a),_=Math.min(g,y),x=Math.min(v,m);o<l||u<r?_>f&&(f=_,g<y?In.set(On,-g,0):In.set(On,y,0)):_<d&&(d=_,g<y?In.set(Pn,g,0):In.set(Pn,-y,0)),s<h||c<a?x>f&&(f=x,v<m?In.set(On,0,-v):In.set(On,0,m)):_<d&&(d=_,v<m?In.set(Pn,0,v):In.set(Pn,0,-m))}return n&&In.copy(n,p?Pn:On),p},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];return e.x=n.x*r+a,e.y=n.y*o+s,e.width=n.width*r,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}An.x=Ln.x=n.x,An.y=kn.y=n.y,Dn.x=kn.x=n.x+n.width,Dn.y=Ln.y=n.y+n.height,An.transform(i),kn.transform(i),Dn.transform(i),Ln.transform(i),e.x=Tn(An.x,Dn.x,Ln.x,kn.x),e.y=Tn(An.y,Dn.y,Ln.y,kn.y);var l=Cn(An.x,Dn.x,Ln.x,kn.x),u=Cn(An.y,Dn.y,Ln.y,kn.y);e.width=l-e.x,e.height=u-e.y}else e!==n&&t.copy(e,n)},t}(),Nn={},En="12px sans-serif";var zn={measureText:function(t,e){return xn||(xn=C().getContext("2d")),bn!==e&&(bn=xn.font=e||En),xn.measureText(t)}};function Bn(t,e){var n=Nn[e=e||En];n||(n=Nn[e]=new Ee(500));var i=n.get(t);return null==i&&(i=zn.measureText(t,e).width,n.put(t,i)),i}function Vn(t,e,n,i){var r=Bn(t,e),o=Wn(e),a=Gn(0,r,n),s=Hn(0,o,i);return new Rn(a,s,r,o)}function Fn(t,e,n,i){var r=((t||"")+"").split("\n");if(1===r.length)return Vn(r[0],e,n,i);for(var o=new Rn(0,0,0,0),a=0;a<r.length;a++){var s=Vn(r[a],e,n,i);0===a?o.copy(s):o.union(s)}return o}function Gn(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Hn(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Wn(t){return Bn("国",t)}function Yn(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Xn(t,e,n){var i=e.position||"inside",r=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,h="left",c="top";if(i instanceof Array)l+=Yn(i[0],n.width),u+=Yn(i[1],n.height),h=null,c=null;else switch(i){case"left":l-=r,u+=s,h="right",c="middle";break;case"right":l+=r+a,u+=s,c="middle";break;case"top":l+=a/2,u-=r,h="center",c="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",c="middle";break;case"insideLeft":l+=r,u+=s,c="middle";break;case"insideRight":l+=a-r,u+=s,h="right",c="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,c="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",c="bottom"}return(t=t||{}).x=l,t.y=u,t.align=h,t.verticalAlign=c,t}var Un=1;"undefined"!=typeof window&&(Un=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Zn=Un,jn="#333",qn="#ccc",Kn="__zr_normal__",$n=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Jn={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Qn={},ti=new Rn(0,0,0,0),ei=function(){function t(t){this.id=x(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,r=e.attachedTransform,o=void 0,a=void 0,s=!1;r.parent=i?this:null;var l=!1;if(r.x=e.x,r.y=e.y,r.originX=e.originX,r.originY=e.originY,r.rotation=e.rotation,r.scaleX=e.scaleX,r.scaleY=e.scaleY,null!=n.position){var u=ti;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Qn,n,u):Xn(Qn,n,u),r.x=Qn.x,r.y=Qn.y,o=Qn.align,a=Qn.verticalAlign;var h=n.origin;if(h&&null!=n.rotation){var c=void 0,p=void 0;"center"===h?(c=.5*u.width,p=.5*u.height):(c=Yn(h[0],u.width),p=Yn(h[1],u.height)),l=!0,r.originX=-r.x+c+(i?0:u.x),r.originY=-r.y+p+(i?0:u.y)}}null!=n.rotation&&(r.rotation=n.rotation);var d=n.offset;d&&(r.x+=d[0],r.y+=d[1],l||(r.originX=-d[0],r.originY=-d[1]));var f=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,v=void 0,m=void 0;f&&this.canBeInsideText()?(y=n.insideFill,v=n.insideStroke,null!=y&&"auto"!==y||(y=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(y),m=!0)):(y=n.outsideFill,v=n.outsideStroke,null!=y&&"auto"!==y||(y=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(y),m=!0)),(y=y||"#000")===g.fill&&v===g.stroke&&m===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=y,g.stroke=v,g.autoStroke=m,g.align=o,g.verticalAlign=a,e.setDefaultTextStyle(g)),s&&e.dirtyStyle(),e.markRedraw()}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?qn:jn},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&qe(e);n||(n=[255,255,255,1]);for(var i=n[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,an(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},I(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(X(t))for(var n=z(t),i=0;i<n.length;i++){var r=n[i];this.attrKV(r,t[r])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;if(!r||r===Kn){var o=i.targetName,a=o?e[o]:e;i.saveFinalToTarget(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,$n)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(Kn,!1,t)},t.prototype.useState=function(e,n,i){var r=e===Kn;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(A(o,e)>=0)||!n&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(e)),s||(s=this.states&&this.states[e]),s||r){r||this.saveCurrentToNormalState(s);var l=!(!s||!s.hoverLayer);return l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,s,this._normalState,n,!i&&!this.__inHover&&a&&a.duration>0,a),this._textContent&&this._textContent.useState(e,n),this._textGuide&&this._textGuide.useState(e,n),r?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT),s}b("State "+e+" not exists.")}}},t.prototype.useStates=function(e,n){if(e.length){var i=[],r=this.currentStates,o=e.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(e[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=e[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,e)),u||(u=this.states[l]),u&&i.push(u)}var h=!(!i[o-1]||!i[o-1].hoverLayer);h&&this._toggleHoverLayerFlag(!0);var c=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(c),this._applyStateObj(e.join(","),c,this._normalState,!1,!n&&!this.__inHover&&p&&p.duration>0,p),this._textContent&&this._textContent.useStates(e),this._textGuide&&this._textGuide.useStates(e),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=A(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),r=A(i,t),o=A(i,e)>=0;r>=0?o?i.splice(r,1):i[r]=e:n&&!o&&i.push(e),this.useStates(i)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},i=0;i<t.length;i++){var r=t[i];I(n,r),r.textConfig&&I(e=e||{},r.textConfig)}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,i,r,o){var a=!(e&&i);e&&e.textConfig?(this.textConfig=I({},i?this.textConfig:n.textConfig),I(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,u=0;u<$n.length;u++){var h=$n[u],c=r&&Jn[h];e&&null!=e[h]?c?(l=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(c?(l=!0,s[h]=n[h]):this[h]=n[h])}if(!r)for(u=0;u<this.animators.length;u++){var p=this.animators[u],d=p.targetName;p.__changeFinalValue(d?(e||n)[d]:e||n)}l&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.attachedTransform=new ke,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),I(this.textConfig,t),this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=t.REDARAW_BIT;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},t.prototype.animate=function(t,e){var n=t?this[t]:this;if(n){var i=new Mn(n,e);return this.addAnimator(i,t),i}b('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during((function(){i.updateDuringAnimation(e)})).done((function(){var e=i.animators,n=A(e,t);n>=0&&e.splice(n,1)})),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,r=[],o=0;o<i;o++){var a=n[o];t&&t!==a.scope?r.push(a):a.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,n){ni(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){ni(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,i){for(var r=ni(this,e,n,i),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.REDARAW_BIT=1,t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=t.REDARAW_BIT;var n={};function i(t,e,i){n[t+e+i]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+i+"' instead"),n[t+e+i]=!0)}function r(t,n,r,o){function a(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){(i(t,r,o),this[n])||a(this,this[n]=[]);return this[n]},set:function(e){i(t,r,o),this[r]=e[0],this[o]=e[1],this[n]=e,a(this,e)}})}Object.defineProperty&&(!a.browser.ie||a.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();function ni(t,e,n,i,r){var o=[];oi(t,"",t,e,n=n||{},i,o,r);var a=o.length,s=!1,l=n.done,u=n.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&n.during&&o[0].during((function(t,e){n.during(e)}));for(var p=0;p<o.length;p++){var d=o[p];h&&d.done(h),c&&d.aborted(c),d.start(n.easing,n.force)}return o}function ii(t,e,n){for(var i=0;i<n;i++)t[i]=e[i]}function ri(t,e,n){if(k(e[n]))if(k(t[n])||(t[n]=[]),Z(e[n])){var i=e[n].length;t[n].length!==i&&(t[n]=new e[n].constructor(i),ii(t[n],e[n],i))}else{var r=e[n],o=t[n],a=r.length;if(k(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?ii(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else ii(o,r,a);o.length=r.length}else t[n]=e[n]}function oi(t,e,n,i,r,o,a,s){for(var l=[],u=[],h=z(i),c=r.duration,p=r.delay,d=r.additive,f=r.setToFinal,g=!X(o),y=0;y<h.length;y++){if(null!=n[I=h[y]]&&null!=i[I]&&(g||o[I]))if(X(i[I])&&!k(i[I])){if(e){s||(n[I]=i[I],t.updateDuringAnimation(e));continue}oi(t,I,n[I],i[I],r,o&&o[I],a,s)}else l.push(I),u.push(I);else s||(n[I]=i[I],t.updateDuringAnimation(e),u.push(I))}var v=l.length;if(v>0||r.force&&!a.length){for(var m=t.animators,_=[],x=0;x<m.length;x++)m[x].targetName===e&&_.push(m[x]);if(!d&&_.length)for(x=0;x<_.length;x++){if(_[x].stopTracks(u)){var b=A(m,_[x]);m.splice(b,1)}}var w=void 0,S=void 0,M=void 0;if(s){S={},f&&(w={});for(x=0;x<v;x++){S[I=l[x]]=n[I],f?w[I]=i[I]:n[I]=i[I]}}else if(f){M={};for(x=0;x<v;x++){var I;M[I=l[x]]=mn(n[I]),ri(n,i,I)}}var T=new Mn(n,!1,d?_:null);T.targetName=e,r.scope&&(T.scope=r.scope),f&&w&&T.whenWithKeys(0,w,l),M&&T.whenWithKeys(0,M,l),T.whenWithKeys(null==c?500:c,s?S:i,l).delay(p||0),t.addAnimator(T,e),a.push(T)}}L(ei,Ft),L(ei,ke);function ai(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){n--;for(;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function si(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function li(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l<s&&o(t,e[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])>0?a=h+1:l=h}return l}function ui(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(t,e[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])<0?l=h:a=h+1}return l}function hi(t,e){var n,i,r=7,o=0;t.length;var a=[];function s(s){var l=n[s],u=i[s],h=n[s+1],c=i[s+1];i[s]=u+c,s===o-3&&(n[s+1]=n[s+2],i[s+1]=i[s+2]),o--;var p=ui(t[h],t,l,u,0,e);l+=p,0!==(u-=p)&&0!==(c=li(t[l+u-1],t,h,c,c-1,e))&&(u<=c?function(n,i,o,s){var l=0;for(l=0;l<i;l++)a[l]=t[n+l];var u=0,h=o,c=n;if(t[c++]=t[h++],0==--s){for(l=0;l<i;l++)t[c+l]=a[u+l];return}if(1===i){for(l=0;l<s;l++)t[c+l]=t[h+l];return void(t[c+s]=a[u])}var p,d,f,g=r;for(;;){p=0,d=0,f=!1;do{if(e(t[h],a[u])<0){if(t[c++]=t[h++],d++,p=0,0==--s){f=!0;break}}else if(t[c++]=a[u++],p++,d=0,1==--i){f=!0;break}}while((p|d)<g);if(f)break;do{if(0!==(p=ui(t[h],a,u,i,0,e))){for(l=0;l<p;l++)t[c+l]=a[u+l];if(c+=p,u+=p,(i-=p)<=1){f=!0;break}}if(t[c++]=t[h++],0==--s){f=!0;break}if(0!==(d=li(a[u],t,h,s,0,e))){for(l=0;l<d;l++)t[c+l]=t[h+l];if(c+=d,h+=d,0===(s-=d)){f=!0;break}}if(t[c++]=a[u++],1==--i){f=!0;break}g--}while(p>=7||d>=7);if(f)break;g<0&&(g=0),g+=2}if((r=g)<1&&(r=1),1===i){for(l=0;l<s;l++)t[c+l]=t[h+l];t[c+s]=a[u]}else{if(0===i)throw new Error;for(l=0;l<i;l++)t[c+l]=a[u+l]}}(l,u,h,c):function(n,i,o,s){var l=0;for(l=0;l<s;l++)a[l]=t[o+l];var u=n+i-1,h=s-1,c=o+s-1,p=0,d=0;if(t[c--]=t[u--],0==--i){for(p=c-(s-1),l=0;l<s;l++)t[p+l]=a[l];return}if(1===s){for(d=(c-=i)+1,p=(u-=i)+1,l=i-1;l>=0;l--)t[d+l]=t[p+l];return void(t[c]=a[h])}var f=r;for(;;){var g=0,y=0,v=!1;do{if(e(a[h],t[u])<0){if(t[c--]=t[u--],g++,y=0,0==--i){v=!0;break}}else if(t[c--]=a[h--],y++,g=0,1==--s){v=!0;break}}while((g|y)<f);if(v)break;do{if(0!==(g=i-ui(a[h],t,n,i,i-1,e))){for(i-=g,d=(c-=g)+1,p=(u-=g)+1,l=g-1;l>=0;l--)t[d+l]=t[p+l];if(0===i){v=!0;break}}if(t[c--]=a[h--],1==--s){v=!0;break}if(0!==(y=s-li(t[u],a,0,s,s-1,e))){for(s-=y,d=(c-=y)+1,p=(h-=y)+1,l=0;l<y;l++)t[d+l]=a[p+l];if(s<=1){v=!0;break}}if(t[c--]=t[u--],0==--i){v=!0;break}f--}while(g>=7||y>=7);if(v)break;f<0&&(f=0),f+=2}(r=f)<1&&(r=1);if(1===s){for(d=(c-=i)+1,p=(u-=i)+1,l=i-1;l>=0;l--)t[d+l]=t[p+l];t[c]=a[h]}else{if(0===s)throw new Error;for(p=c-(s-1),l=0;l<s;l++)t[p+l]=a[l]}}(l,u,h,c))}return n=[],i=[],{mergeRuns:function(){for(;o>1;){var t=o-2;if(t>=1&&i[t-1]<=i[t]+i[t+1]||t>=2&&i[t-2]<=i[t]+i[t-1])i[t-1]<i[t+1]&&t--;else if(i[t]>i[t+1])break;s(t)}},forceMergeRuns:function(){for(;o>1;){var t=o-2;t>0&&i[t-1]<i[t+1]&&t--,s(t)}},pushRun:function(t,e){n[o]=t,i[o]=e,o+=1}}}function ci(t,e,n,i){n||(n=0),i||(i=t.length);var r=i-n;if(!(r<2)){var o=0;if(r<32)si(t,n,i,n+(o=ai(t,n,i,e)),e);else{var a=hi(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(r);do{if((o=ai(t,n,i,e))<s){var l=r;l>s&&(l=s),si(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}}var pi=!1;function di(){pi||(pi=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function fi(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var gi,yi,vi=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=fi}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,a.canvasSupported&&ci(n,fi)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=ei.REDARAW_BIT),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(di(),u.z=0),isNaN(u.z2)&&(di(),u.z2=0),isNaN(u.zlevel)&&(di(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,e,n);var c=t.getTextGuideLine();c&&this._updateAndAddDisplayable(c,e,n);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var i=A(this._roots,t);i>=0&&this._roots.splice(i,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),mi="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},_i=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n.onframe=e.onframe||function(){},n}return n(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._clipsHead=n,n?n.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=(new Date).getTime()-this._pausedTime,n=e-this._time,i=this._clipsHead;i;){var r=i.next;i.step(e,n)?(i.ondestroy&&i.ondestroy(),this.removeClip(i),i=r):i=r}this._time=e,t||(this.onframe(n),this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,mi((function e(){t._running&&(mi(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._clipsHead;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new Mn(t,e.loop);return this.addAnimator(n),n},e}(Ft),xi=a.domSupported,bi=(yi={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:gi=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:O(gi,(function(t){var e=t.replace("mouse","pointer");return yi.hasOwnProperty(e)?e:t}))}),wi=["mousemove","mouseup"],Si=["pointermove","pointerup"],Mi=!1;function Ii(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Ti(t){t&&(t.zrByTouch=!0)}function Ci(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}var Ai=function(t,e){this.stopPropagation=ft,this.stopImmediatePropagation=ft,this.preventDefault=ft,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Di={mousedown:function(t){t=Qt(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Qt(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Qt(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){Ci(this,(t=Qt(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Mi=!0,t=Qt(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Mi||(t=Qt(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){Ti(t=Qt(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Di.mousemove.call(this,t),Di.mousedown.call(this,t)},touchmove:function(t){Ti(t=Qt(this.dom,t)),this.handler.processGesture(t,"change"),Di.mousemove.call(this,t)},touchend:function(t){Ti(t=Qt(this.dom,t)),this.handler.processGesture(t,"end"),Di.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&Di.click.call(this,t)},pointerdown:function(t){Di.mousedown.call(this,t)},pointermove:function(t){Ii(t)||Di.mousemove.call(this,t)},pointerup:function(t){Di.mouseup.call(this,t)},pointerout:function(t){Ii(t)||Di.mouseout.call(this,t)}};P(["click","dblclick","contextmenu"],(function(t){Di[t]=function(e){e=Qt(this.dom,e),this.trigger(t,e)}}));var Li={pointermove:function(t){Ii(t)||Li.mousemove.call(this,t)},pointerup:function(t){Li.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function ki(t,e){var n=e.domHandlers;a.pointerEventsSupported?P(bi.pointer,(function(i){Oi(e,i,(function(e){n[i].call(t,e)}))})):(a.touchEventsSupported&&P(bi.touch,(function(i){Oi(e,i,(function(r){n[i].call(t,r),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(e)}))})),P(bi.mouse,(function(i){Oi(e,i,(function(r){r=Jt(r),e.touching||n[i].call(t,r)}))})))}function Pi(t,e){function n(n){Oi(e,n,(function(i){i=Jt(i),Ci(t,i.target)||(i=function(t,e){return Qt(t.dom,new Ai(t,e),!0)}(t,i),e.domHandlers[n].call(t,i))}),{capture:!0})}a.pointerEventsSupported?P(Si,n):a.touchEventsSupported||P(wi,n)}function Oi(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,te(t.domTarget,e,n,i)}function Ri(t){var e,n,i,r,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,n=a,i=o[a],r=t.listenerOpts[a],Zt?e.removeEventListener(n,i,r):e.detachEvent("on"+n,i));t.mounted={}}var Ni=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},Ei=function(t){function e(e,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new Ni(e,Di),xi&&(i._globalHandlerScope=new Ni(document,Li)),ki(i,i._localHandlerScope),i}return n(e,t),e.prototype.dispose=function(){Ri(this._localHandlerScope),xi&&Ri(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,xi&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Pi(this,e):Ri(e)}},e}(Ft),zi=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return n(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},e.prototype.replaceAt=function(t,e){var n=this._children,i=n[e];if(t&&t!==this&&t.parent!==this&&t!==i){n[e]=t,i.parent=null;var r=this.__zr;r&&i.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,i=A(n,t);return i<0||(n.splice(i,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var i=t[n];e&&i.removeSelfFromZr(e),i.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n],r=t.call(e,i);i.isGroup&&!r&&i.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new Rn(0,0,0,0),n=t||this._children,i=[],r=null,o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(i);l?(Rn.applyTransform(e,s,l),(r=r||e.clone()).union(e)):(r=r||s.clone()).union(s)}}return r||e},e}(ei);zi.prototype.type="group";
/*!
    * ZRender, a high performance 2d drawing library.
    *
    * Copyright (c) 2013, Baidu Inc.
    * All rights reserved.
    *
    * LICENSE
    * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
    */
var Bi=!a.canvasSupported,Vi={},Fi={};var Gi=function(){function t(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var r=new vi,o=n.renderer||"canvas";if(Bi)throw new Error("IE8 support has been dropped since 5.0");if(Vi[o]||(o=z(Vi)[0]),!Vi[o])throw new Error("Renderer '"+o+"' is not imported. Please import it first.");n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var s=new Vi[o](e,r,n,t);this.storage=r,this.painter=s;var l=a.node||a.worker?null:new Ei(s.getViewportRoot(),s.root);this.handler=new ce(r,s,l,s.root),this.animation=new _i({stage:{update:function(){return i._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return sn(t,1)<.4;if(t.colorStops){for(var e=t.colorStops,n=0,i=e.length,r=0;r<i;r++)n+=sn(e[r].color,1);return(n/=i)<.4}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof zi&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Fi[t]},t}();function Hi(t,e){var n=new Gi(x(),t,e);return Fi[n.id]=n,n}function Wi(t,e){Vi[t]=e}var Yi=Object.freeze({__proto__:null,init:Hi,dispose:function(t){t.dispose()},disposeAll:function(){for(var t in Fi)Fi.hasOwnProperty(t)&&Fi[t].dispose();Fi={}},getInstance:function(t){return Fi[t]},registerPainter:Wi,version:"5.0.3"}),Xi=1e-4;function Ui(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]}function Zi(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function ji(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function qi(t){return t.sort((function(t,e){return t-e})),t}function Ki(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function $i(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var i=+e.slice(n+1);return i<0?-i:0}var r=e.indexOf(".");return r<0?0:e.length-1-r}function Ji(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Qi(t,e,n){if(!t[e])return 0;var i=R(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===i)return 0;for(var r=Math.pow(10,n),o=O(t,(function(t){return(isNaN(t)?0:t)/i*r*100})),a=100*r,s=O(o,(function(t){return Math.floor(t)})),l=R(s,(function(t,e){return t+e}),0),u=O(o,(function(t,e){return t-s[e]}));l<a;){for(var h=Number.NEGATIVE_INFINITY,c=null,p=0,d=u.length;p<d;++p)u[p]>h&&(h=u[p],c=p);++s[c],u[c]=0,++l}return s[e]/r}var tr=9007199254740991;function er(t){var e=2*Math.PI;return(t%e+e)%e}function nr(t){return t>-1e-4&&t<Xi}var ir=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function rr(t){if(t instanceof Date)return t;if("string"==typeof t){var e=ir.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function or(t){return Math.pow(10,ar(t))}function ar(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function sr(t,e){var n=ar(t),i=Math.pow(10,n),r=t/i;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+t.toFixed(n<0?-n:0):t}function lr(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r}function ur(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-n),e=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]==(n?-1:1)||!n&&s(t,e,1))}}function hr(t){var e=parseFloat(t);return e==t&&(0!==e||"string"!=typeof t||t.indexOf("x")<=0)?e:NaN}function cr(t){return!isNaN(hr(t))}function pr(){return Math.round(9*Math.random())}function dr(t,e){return 0===e?t:dr(e,t%e)}function fr(t,e){return null==t?e:null==e?t:t*e/dr(t,e)}"undefined"!=typeof console&&console.warn&&console.log;function gr(t){0}function yr(t){throw new Error(t)}var vr="series\0",mr="\0_ec_\0";function _r(t){return t instanceof Array?t:null==t?[]:[t]}function xr(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var br=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function wr(t){return!X(t)||F(t)||t instanceof Date?t:t.value}function Sr(t,e,n){var i="normalMerge"===n,r="replaceMerge"===n,o="replaceAll"===n;t=t||[],e=(e||[]).slice();var a=ht();P(e,(function(t,n){X(t)||(e[n]=null)}));var s,l,u=function(t,e,n){var i=[];if("replaceAll"===n)return i;for(var r=0;r<t.length;r++){var o=t[r];o&&null!=o.id&&e.set(o.id,r),i.push({existing:"replaceMerge"===n||Ar(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(t,a,n);return(i||r)&&function(t,e,n,i){P(i,(function(r,o){if(r&&null!=r.id){var a=Ir(r.id),s=n.get(a);if(null!=s){var l=t[s];rt(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=e[s],i[o]=null}}}))}(u,t,a,e),i&&function(t,e){P(e,(function(n,i){if(n&&null!=n.name)for(var r=0;r<t.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(null==o.id||null==n.id)&&!Ar(n)&&!Ar(o)&&Mr("name",o,n))return t[r].newOption=n,void(e[i]=null)}}))}(u,e),i||r?function(t,e,n){P(e,(function(e){if(e){for(var i,r=0;(i=t[r])&&(i.newOption||Ar(i.existing)||i.existing&&null!=e.id&&!Mr("id",e,i.existing));)r++;i?(i.newOption=e,i.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),r++}}))}(u,e,r):o&&function(t,e){P(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}(u,e),s=u,l=ht(),P(s,(function(t){var e=t.existing;e&&l.set(e.id,t)})),P(s,(function(t){var e=t.newOption;rt(!e||null==e.id||!l.get(e.id)||l.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&l.set(e.id,t),!t.keyInfo&&(t.keyInfo={})})),P(s,(function(t,e){var n=t.existing,i=t.newOption,r=t.keyInfo;if(X(i)){if(r.name=null!=i.name?Ir(i.name):n?n.name:vr+e,n)r.id=Ir(n.id);else if(null!=i.id)r.id=Ir(i.id);else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(l.get(r.id))}l.set(r.id,t)}})),u}function Mr(t,e,n){var i=Tr(e[t],null),r=Tr(n[t],null);return null!=i&&null!=r&&i===r}function Ir(t){return Tr(t,"")}function Tr(t,e){if(null==t)return e;var n=typeof t;return"string"===n?t:"number"===n||W(t)?t+"":e}function Cr(t){var e=t.name;return!(!e||!e.indexOf(vr))}function Ar(t){return t&&null!=t.id&&0===Ir(t.id).indexOf(mr)}function Dr(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?F(e.dataIndex)?O(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?F(e.name)?O(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function Lr(){var t="__ec_inner_"+kr++;return function(e){return e[t]||(e[t]={})}}var kr=pr();function Pr(t,e,n){var i;if(H(e)){var r={};r[e+"Index"]=0,i=r}else i=e;var o=ht(),a={},s=!1;P(i,(function(t,e){if("dataIndex"!==e&&"dataIndexInside"!==e){var i=e.match(/^(\w+)(Index|Id|Name)$/)||[],r=i[1],l=(i[2]||"").toLowerCase();if(r&&l&&!(n&&n.includeMainTypes&&A(n.includeMainTypes,r)<0))s=s||!!r,(o.get(r)||o.set(r,{}))[l]=t}else a[e]=t}));var l=n?n.defaultMainType:null;return!s&&l&&o.set(l,{}),o.each((function(e,i){var r=Nr(t,i,e,{useDefault:l===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[i+"Models"]=r.models,a[i+"Model"]=r.models[0]})),a}var Or={useDefault:!0,enableAll:!1,enableNone:!1},Rr={useDefault:!1,enableAll:!0,enableNone:!0};function Nr(t,e,n,i){i=i||Or;var r=n.index,o=n.id,a=n.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[],s}return"none"===r||!1===r?(rt(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(rt(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=t.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function Er(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function zr(t,e){var n=ht(),i=[];return P(t,(function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)})),{keys:i,buckets:n}}function Br(t,e,n,i,r){var o=null==e||"auto"===e;if(null==i)return i;if("number"==typeof i)return ji(d=hn(n||0,i,r),o?Math.max($i(n||0),$i(i)):e);if("string"==typeof i)return r<1?n:i;for(var a=[],s=n,l=i,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){if("ordinal"===t.getDimensionInfo(h).type)a[h]=(r<1&&s?s:l)[h];else{var c=s&&s[h]?s[h]:0,p=l[h],d=hn(c,p,r);a[h]=ji(d,o?Math.max($i(c),$i(p)):e)}}return a}var Vr="___EC__COMPONENT__CONTAINER___",Fr="___EC__EXTENDED_CLASS___";function Gr(t){var e={main:"",sub:""};if(t){var n=t.split(".");e.main=n[0]||"",e.sub=n[1]||""}return e}function Hr(t,e){t.$constructor=t,t.extend=function(t){var e=this;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(Wr(e)){var a=pt(n.prototype,new(e.bind.apply(e,r([void 0],i))));return a}e.apply(this,arguments)}}return n[Fr]=!0,I(n.prototype,t),n.extend=this.extend,n.superCall=Ur,n.superApply=Zr,D(n,this),n.superClass=e,n}}function Wr(t){return"function"==typeof t&&/^class\s/.test(Function.prototype.toString.call(t))}function Yr(t,e){t.extend=e.extend}var Xr=Math.round(10*Math.random());function Ur(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function Zr(t,e,n){return this.superClass.prototype[e].apply(t,n)}function jr(t){var e={};t.registerClass=function(t){var n,i=t.type||t.prototype.type;if(i){rt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=i),'componentType "'+n+'" illegal'),t.prototype.type=i;var r=Gr(i);if(r.sub){if(r.sub!==Vr){(function(t){var n=e[t.main];n&&n[Vr]||((n=e[t.main]={})[Vr]=!0);return n}(r))[r.sub]=t}}else e[r.main]=t}return t},t.getClass=function(t,n,i){var r=e[t];if(r&&r[Vr]&&(r=n?r[n]:null),i&&!r)throw new Error(n?"Component "+t+"."+(n||"")+" not exists. Load it first.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){var n=Gr(t),i=[],r=e[n.main];return r&&r[Vr]?P(r,(function(t,e){e!==Vr&&i.push(t)})):i.push(r),i},t.hasClass=function(t){var n=Gr(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return P(e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){var n=Gr(t),i=e[n.main];return i&&i[Vr]}}function qr(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,i,r){for(var o={},a=0;a<t.length;a++){var s=t[a][1];if(!(i&&A(i,s)>=0||r&&A(r,s)<0)){var l=n.getShallow(s,e);null!=l&&(o[t[a][0]]=l)}}return o}}var Kr=qr([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),$r=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return Kr(this,t,e)},t}(),Jr=new Ee(50);function Qr(t){if("string"==typeof t){var e=Jr.get(t);return e&&e.image}return t}function to(t,e,n,i,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=Jr.get(t),a={hostEl:n,cb:i,cbPayload:r};return o?!no(e=o.image)&&o.pending.push(a):((e=new Image).onload=e.onerror=eo,Jr.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function eo(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function no(t){return t&&t.width&&t.height}var io=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function ro(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=oo(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=ao(o[a],r);return o.join("\n")}function oo(t,e,n,i){var r=I({},i=i||{});r.font=e,n=tt(n,"..."),r.maxIterations=tt(i.maxIterations,2);var o=r.minChar=tt(i.minChar,0);r.cnCharWidth=Bn("国",e);var a=r.ascCharWidth=Bn("a",e);r.placeholder=tt(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var u=Bn(n,e);return u>s&&(n="",u=0),s=t-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=t,r}function ao(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=Bn(t,i);if(o<=n)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?so(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=Bn(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function so(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}var lo=function(){},uo=function(t){this.tokens=[],t&&(this.tokens=t)},ho=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function co(t,e,n,i,r){var o,a,s=""===e,l=r&&n.rich[r]||{},u=t.lines,h=l.font||n.font,c=!1;if(i){var p=l.padding,d=p?p[1]+p[3]:0;if(null!=l.width&&"auto"!==l.width){var f=function(t,e){if("string"==typeof t)return t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t);return t}(l.width,i.width)+d;u.length>0&&f+i.accumWidth>i.width&&(o=e.split("\n"),c=!0),i.accumWidth=f}else{var g=go(e,h,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+d,a=g.linesWidths,o=g.lines}}else o=e.split("\n");for(var y=0;y<o.length;y++){var v=o[y],m=new lo;if(m.styleName=r,m.text=v,m.isLineHolder=!v&&!s,"number"==typeof l.width?m.width=l.width:m.width=a?a[y]:Bn(v,h),y||c)u.push(new uo([m]));else{var _=(u[u.length-1]||(u[0]=new uo)).tokens,x=_.length;1===x&&_[0].isLineHolder?_[0]=m:(v||!x||s)&&_.push(m)}}}var po=R(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function fo(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=255}(t)||!!po[t]}function go(t,e,n,i,r){for(var o=[],a=[],s="",l="",u=0,h=0,c=0;c<t.length;c++){var p=t.charAt(c);if("\n"!==p){var d=Bn(p,e),f=!i&&!fo(p);(o.length?h+d>n:r+h+d>n)?h?(s||l)&&(f?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=p,s="",h=u+=d):(l&&(s+=l,h+=u,l="",u=0),o.push(s),a.push(h),s=p,h=d)):f?(o.push(l),a.push(u),l=p,u=d):(o.push(p),a.push(d)):(h+=d,f?(l+=p,u+=d):(l&&(s+=l,l="",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=t,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var yo="__zr_style_"+Math.round(10*Math.random()),vo={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},mo={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};vo[yo]=!0;var _o=["z","z2","invisible"],xo=function(t){function e(e){return t.call(this,e)||this}var i;return n(e,t),e.prototype._init=function(e){for(var n=z(e),i=0;i<n.length;i++){var r=n[i];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,i){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,n){bo.copy(t.getBoundingRect()),t.transform&&bo.applyTransform(t.transform);return wo.width=e,wo.height=n,!bo.intersect(wo)}(this,t,e)||r&&!r[0]&&!r[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(i&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),i=this.style,r=i.shadowBlur||0,o=i.shadowOffsetX||0,a=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Rn(0,0,0,0)),e?Rn.applyTransform(t,n,e):t.copy(n),(r||o||a)&&(t.width+=2*r+Math.abs(o),t.height+=2*r+Math.abs(a),t.x=Math.min(t.x,t.x+o-r),t.y=Math.min(t.y,t.y+a-r));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Rn(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:I(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=e.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&e.STYLE_CHANGED_BIT)},e.prototype.styleUpdated=function(){this.__dirty&=~e.STYLE_CHANGED_BIT},e.prototype.createStyle=function(t){return pt(vo,t)},e.prototype.useStyle=function(t){t[yo]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[yo]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,_o)},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.style?o?r?s=n.style:(s=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),r?this.style:i.style),this._mergeStyle(s,n.style)):l&&(s=i.style),s)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=z(u),c=0;c<h.length;c++){(d=h[c])in s&&(s[d]=s[d],this.style[d]=u[d])}var p=z(s);for(c=0;c<p.length;c++){var d=p[c];this.style[d]=this.style[d]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);for(c=0;c<_o.length;c++){d=_o[c];n&&null!=n[d]?this[d]=n[d]:l&&null!=i[d]&&(this[d]=i[d])}},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(i.style=n),i},e.prototype._mergeStyle=function(t,e){return I(t,e),t},e.prototype.getAnimationStyleProps=function(){return mo},e.STYLE_CHANGED_BIT=2,e.initDefaultProps=((i=e.prototype).type="displayable",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor="pointer",i.rectHover=!1,i.incremental=!1,i._rect=null,i.dirtyRectTolerance=0,void(i.__dirty=ei.REDARAW_BIT|e.STYLE_CHANGED_BIT)),e}(ei),bo=new Rn(0,0,0,0),wo=new Rn(0,0,0,0);var So=Math.pow,Mo=Math.sqrt,Io=1e-8,To=1e-4,Co=Mo(3),Ao=1/3,Do=yt(),Lo=yt(),ko=yt();function Po(t){return t>-1e-8&&t<Io}function Oo(t){return t>Io||t<-1e-8}function Ro(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function No(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function Eo(t,e,n,i,r,o){var a=i+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-r,h=s*s-3*a*l,c=s*l-9*a*u,p=l*l-3*s*u,d=0;if(Po(h)&&Po(c)){if(Po(s))o[0]=0;else(M=-l/s)>=0&&M<=1&&(o[d++]=M)}else{var f=c*c-4*h*p;if(Po(f)){var g=c/h,y=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[d++]=M),y>=0&&y<=1&&(o[d++]=y)}else if(f>0){var v=Mo(f),m=h*s+1.5*a*(-c+v),_=h*s+1.5*a*(-c-v);(M=(-s-((m=m<0?-So(-m,Ao):So(m,Ao))+(_=_<0?-So(-_,Ao):So(_,Ao))))/(3*a))>=0&&M<=1&&(o[d++]=M)}else{var x=(2*h*s-3*a*c)/(2*Mo(h*h*h)),b=Math.acos(x)/3,w=Mo(h),S=Math.cos(b),M=(-s-2*w*S)/(3*a),I=(y=(-s+w*(S+Co*Math.sin(b)))/(3*a),(-s+w*(S-Co*Math.sin(b)))/(3*a));M>=0&&M<=1&&(o[d++]=M),y>=0&&y<=1&&(o[d++]=y),I>=0&&I<=1&&(o[d++]=I)}}return d}function zo(t,e,n,i,r){var o=6*n-12*e+6*t,a=9*e+3*i-3*t-9*n,s=3*e-3*t,l=0;if(Po(a)){if(Oo(o))(h=-s/o)>=0&&h<=1&&(r[l++]=h)}else{var u=o*o-4*a*s;if(Po(u))r[0]=-o/(2*a);else if(u>0){var h,c=Mo(u),p=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(r[l++]=h),p>=0&&p<=1&&(r[l++]=p)}}return l}function Bo(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=t,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=i}function Vo(t,e,n,i,r,o,a,s,l,u,h){var c,p,d,f,g,y=.005,v=1/0;Do[0]=l,Do[1]=u;for(var m=0;m<1;m+=.05)Lo[0]=Ro(t,n,r,a,m),Lo[1]=Ro(e,i,o,s,m),(f=Pt(Do,Lo))<v&&(c=m,v=f);v=1/0;for(var _=0;_<32&&!(y<To);_++)p=c-y,d=c+y,Lo[0]=Ro(t,n,r,a,p),Lo[1]=Ro(e,i,o,s,p),f=Pt(Lo,Do),p>=0&&f<v?(c=p,v=f):(ko[0]=Ro(t,n,r,a,d),ko[1]=Ro(e,i,o,s,d),g=Pt(ko,Do),d<=1&&g<v?(c=d,v=g):y*=.5);return h&&(h[0]=Ro(t,n,r,a,c),h[1]=Ro(e,i,o,s,c)),Mo(v)}function Fo(t,e,n,i,r,o,a,s,l){for(var u=t,h=e,c=0,p=1/l,d=1;d<=l;d++){var f=d*p,g=Ro(t,n,r,a,f),y=Ro(e,i,o,s,f),v=g-u,m=y-h;c+=Math.sqrt(v*v+m*m),u=g,h=y}return c}function Go(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function Ho(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function Wo(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function Yo(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function Xo(t,e,n,i,r,o,a,s,l){var u,h=.005,c=1/0;Do[0]=a,Do[1]=s;for(var p=0;p<1;p+=.05){Lo[0]=Go(t,n,r,p),Lo[1]=Go(e,i,o,p),(y=Pt(Do,Lo))<c&&(u=p,c=y)}c=1/0;for(var d=0;d<32&&!(h<To);d++){var f=u-h,g=u+h;Lo[0]=Go(t,n,r,f),Lo[1]=Go(e,i,o,f);var y=Pt(Lo,Do);if(f>=0&&y<c)u=f,c=y;else{ko[0]=Go(t,n,r,g),ko[1]=Go(e,i,o,g);var v=Pt(ko,Do);g<=1&&v<c?(u=g,c=v):h*=.5}}return l&&(l[0]=Go(t,n,r,u),l[1]=Go(e,i,o,u)),Mo(c)}function Uo(t,e,n,i,r,o,a){for(var s=t,l=e,u=0,h=1/a,c=1;c<=a;c++){var p=c*h,d=Go(t,n,r,p),f=Go(e,i,o,p),g=d-s,y=f-l;u+=Math.sqrt(g*g+y*y),s=d,l=f}return u}var Zo=Math.min,jo=Math.max,qo=Math.sin,Ko=Math.cos,$o=2*Math.PI,Jo=yt(),Qo=yt(),ta=yt();function ea(t,e,n){if(0!==t.length){for(var i=t[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<t.length;l++)i=t[l],r=Zo(r,i[0]),o=jo(o,i[0]),a=Zo(a,i[1]),s=jo(s,i[1]);e[0]=r,e[1]=a,n[0]=o,n[1]=s}}function na(t,e,n,i,r,o){r[0]=Zo(t,n),r[1]=Zo(e,i),o[0]=jo(t,n),o[1]=jo(e,i)}var ia=[],ra=[];function oa(t,e,n,i,r,o,a,s,l,u){var h=zo,c=Ro,p=h(t,n,r,a,ia);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<p;d++){var f=c(t,n,r,a,ia[d]);l[0]=Zo(f,l[0]),u[0]=jo(f,u[0])}p=h(e,i,o,s,ra);for(d=0;d<p;d++){var g=c(e,i,o,s,ra[d]);l[1]=Zo(g,l[1]),u[1]=jo(g,u[1])}l[0]=Zo(t,l[0]),u[0]=jo(t,u[0]),l[0]=Zo(a,l[0]),u[0]=jo(a,u[0]),l[1]=Zo(e,l[1]),u[1]=jo(e,u[1]),l[1]=Zo(s,l[1]),u[1]=jo(s,u[1])}function aa(t,e,n,i,r,o,a,s){var l=Wo,u=Go,h=jo(Zo(l(t,n,r),1),0),c=jo(Zo(l(e,i,o),1),0),p=u(t,n,r,h),d=u(e,i,o,c);a[0]=Zo(t,r,p),a[1]=Zo(e,o,d),s[0]=jo(t,r,p),s[1]=jo(e,o,d)}function sa(t,e,n,i,r,o,a,s,l){var u=Nt,h=Et,c=Math.abs(r-o);if(c%$o<1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-i,l[0]=t+n,void(l[1]=e+i);if(Jo[0]=Ko(r)*n+t,Jo[1]=qo(r)*i+e,Qo[0]=Ko(o)*n+t,Qo[1]=qo(o)*i+e,u(s,Jo,Qo),h(l,Jo,Qo),(r%=$o)<0&&(r+=$o),(o%=$o)<0&&(o+=$o),r>o&&!a?o+=$o:r<o&&a&&(r+=$o),a){var p=o;o=r,r=p}for(var d=0;d<o;d+=Math.PI/2)d>r&&(ta[0]=Ko(d)*n+t,ta[1]=qo(d)*i+e,u(s,ta,s),h(l,ta,l))}var la={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ua=[],ha=[],ca=[],pa=[],da=[],fa=[],ga=Math.min,ya=Math.max,va=Math.cos,ma=Math.sin,_a=Math.sqrt,xa=Math.abs,ba=Math.PI,wa=2*ba,Sa="undefined"!=typeof Float32Array,Ma=[];function Ia(t){return Math.round(t/ba*1e8)/1e8%2*ba}function Ta(t,e){var n=Ia(t[0]);n<0&&(n+=wa);var i=n-t[0],r=t[1];r+=i,!e&&r-n>=wa?r=n+wa:e&&n-r>=wa?r=n-wa:!e&&n>r?r=n+(wa-Ia(n-r)):e&&n<r&&(r=n-(wa-Ia(r-n))),t[0]=n,t[1]=r}var Ca=function(){function t(t){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=xa(n/Zn/t)||0,this._uy=xa(n/Zn/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this.addData(la.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=xa(t-this._xi)>this._ux||xa(e-this._yi)>this._uy||this._len<5;return this.addData(la.L,t,e),this._ctx&&n&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){return this.addData(la.C,t,e,n,i,r,o),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,n,i,r,o):this._ctx.bezierCurveTo(t,e,n,i,r,o)),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,i){return this.addData(la.Q,t,e,n,i),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},t.prototype.arc=function(t,e,n,i,r,o){Ma[0]=i,Ma[1]=r,Ta(Ma,o),i=Ma[0];var a=(r=Ma[1])-i;return this.addData(la.A,t,e,n,n,i,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=va(r)*n+t,this._yi=ma(r)*n+e,this},t.prototype.arcTo=function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},t.prototype.rect=function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(la.R,t,e,n,i),this},t.prototype.closePath=function(){this.addData(la.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Sa||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();Sa&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},t.prototype.addData=function(t,e,n,i,r,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var n,i,r=this._dashSum,o=this._lineDash,a=this._ctx,s=this._dashOffset,l=this._xi,u=this._yi,h=t-l,c=e-u,p=_a(h*h+c*c),d=l,f=u,g=o.length;for(s<0&&(s=r+s),d-=(s%=r)*(h/=p),f-=s*(c/=p);h>0&&d<=t||h<0&&d>=t||0===h&&(c>0&&f<=e||c<0&&f>=e);)d+=h*(n=o[i=this._dashIdx]),f+=c*n,this._dashIdx=(i+1)%g,h>0&&d<l||h<0&&d>l||c>0&&f<u||c<0&&f>u||a[i%2?"moveTo":"lineTo"](h>=0?ga(d,t):ya(d,t),c>=0?ga(f,e):ya(f,e));h=d-t,c=f-e,this._dashOffset=-_a(h*h+c*c)},t.prototype._dashedBezierTo=function(t,e,n,i,r,o){var a,s,l,u,h,c=this._ctx,p=this._dashSum,d=this._dashOffset,f=this._lineDash,g=this._xi,y=this._yi,v=0,m=this._dashIdx,_=f.length,x=0;for(d<0&&(d=p+d),d%=p,a=0;a<1;a+=.1)s=Ro(g,t,n,r,a+.1)-Ro(g,t,n,r,a),l=Ro(y,e,i,o,a+.1)-Ro(y,e,i,o,a),v+=_a(s*s+l*l);for(;m<_&&!((x+=f[m])>d);m++);for(a=(x-d)/v;a<=1;)u=Ro(g,t,n,r,a),h=Ro(y,e,i,o,a),m%2?c.moveTo(u,h):c.lineTo(u,h),a+=f[m]/v,m=(m+1)%_;m%2!=0&&c.lineTo(r,o),s=r-u,l=o-h,this._dashOffset=-_a(s*s+l*l)},t.prototype._dashedQuadraticTo=function(t,e,n,i){var r=n,o=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,o)},t.prototype.toStatic=function(){if(this._saveData){var t=this.data;t instanceof Array&&(t.length=this._len,Sa&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){ca[0]=ca[1]=da[0]=da[1]=Number.MAX_VALUE,pa[0]=pa[1]=fa[0]=fa[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,i=0,r=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(r=n=e[t],o=i=e[t+1]),a){case la.M:n=r=e[t++],i=o=e[t++],da[0]=r,da[1]=o,fa[0]=r,fa[1]=o;break;case la.L:na(n,i,e[t],e[t+1],da,fa),n=e[t++],i=e[t++];break;case la.C:oa(n,i,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],da,fa),n=e[t++],i=e[t++];break;case la.Q:aa(n,i,e[t++],e[t++],e[t],e[t+1],da,fa),n=e[t++],i=e[t++];break;case la.A:var l=e[t++],u=e[t++],h=e[t++],c=e[t++],p=e[t++],d=e[t++]+p;t+=1;var f=!e[t++];s&&(r=va(p)*h+l,o=ma(p)*c+u),sa(l,u,h,c,p,d,f,da,fa),n=va(d)*h+l,i=ma(d)*c+u;break;case la.R:na(r=n=e[t++],o=i=e[t++],r+e[t++],o+e[t++],da,fa);break;case la.Z:n=r,i=o}Nt(ca,ca,da),Et(pa,pa,fa)}return 0===t&&(ca[0]=ca[1]=pa[0]=pa[1]=0),new Rn(ca[0],ca[1],pa[0]-ca[0],pa[1]-ca[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,r=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,h=0,c=0;c<e;){var p=t[c++],d=1===c;d&&(a=r=t[c],s=o=t[c+1]);var f=-1;switch(p){case la.M:r=a=t[c++],o=s=t[c++];break;case la.L:var g=t[c++],y=(_=t[c++])-o;(xa(D=g-r)>n||xa(y)>i||c===e-1)&&(f=Math.sqrt(D*D+y*y),r=g,o=_);break;case la.C:var v=t[c++],m=t[c++],_=(g=t[c++],t[c++]),x=t[c++],b=t[c++];f=Fo(r,o,v,m,g,_,x,b,10),r=x,o=b;break;case la.Q:f=Uo(r,o,v=t[c++],m=t[c++],g=t[c++],_=t[c++],10),r=g,o=_;break;case la.A:var w=t[c++],S=t[c++],M=t[c++],I=t[c++],T=t[c++],C=t[c++],A=C+T;c+=1;t[c++];d&&(a=va(T)*M+w,s=ma(T)*I+S),f=ya(M,I)*ga(wa,Math.abs(C)),r=va(A)*M+w,o=ma(A)*I+S;break;case la.R:a=r=t[c++],s=o=t[c++],f=2*t[c++]+2*t[c++];break;case la.Z:var D=a-r;y=s-o;f=Math.sqrt(D*D+y*y),r=a,o=s}f>=0&&(l[h++]=f,u+=f)}return this._pathLen=u,u},t.prototype.rebuildPath=function(t,e){var n,i,r,o,a,s,l,u,h=this.data,c=this._ux,p=this._uy,d=this._len,f=e<1,g=0,y=0;if(!f||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=e*this._pathLen))t:for(var v=0;v<d;){var m=h[v++],_=1===v;switch(_&&(n=r=h[v],i=o=h[v+1]),m){case la.M:n=r=h[v++],i=o=h[v++],t.moveTo(r,o);break;case la.L:if(a=h[v++],s=h[v++],xa(a-r)>c||xa(s-o)>p||v===d-1){if(f){if(g+(H=l[y++])>u){var x=(u-g)/H;t.lineTo(r*(1-x)+a*x,o*(1-x)+s*x);break t}g+=H}t.lineTo(a,s),r=a,o=s}break;case la.C:var b=h[v++],w=h[v++],S=h[v++],M=h[v++],I=h[v++],T=h[v++];if(f){if(g+(H=l[y++])>u){Bo(r,b,S,I,x=(u-g)/H,ua),Bo(o,w,M,T,x,ha),t.bezierCurveTo(ua[1],ha[1],ua[2],ha[2],ua[3],ha[3]);break t}g+=H}t.bezierCurveTo(b,w,S,M,I,T),r=I,o=T;break;case la.Q:b=h[v++],w=h[v++],S=h[v++],M=h[v++];if(f){if(g+(H=l[y++])>u){Yo(r,b,S,x=(u-g)/H,ua),Yo(o,w,M,x,ha),t.quadraticCurveTo(ua[1],ha[1],ua[2],ha[2]);break t}g+=H}t.quadraticCurveTo(b,w,S,M),r=S,o=M;break;case la.A:var C=h[v++],A=h[v++],D=h[v++],L=h[v++],k=h[v++],P=h[v++],O=h[v++],R=!h[v++],N=D>L?D:L,E=xa(D-L)>.001,z=k+P,B=!1;if(f)g+(H=l[y++])>u&&(z=k+P*(u-g)/H,B=!0),g+=H;if(E&&t.ellipse?t.ellipse(C,A,D,L,O,k,z,R):t.arc(C,A,N,k,z,R),B)break t;_&&(n=va(k)*D+C,i=ma(k)*L+A),r=va(z)*D+C,o=ma(z)*L+A;break;case la.R:n=r=h[v],i=o=h[v+1],a=h[v++],s=h[v++];var V=h[v++],F=h[v++];if(f){if(g+(H=l[y++])>u){var G=u-g;t.moveTo(a,s),t.lineTo(a+ga(G,V),s),(G-=V)>0&&t.lineTo(a+V,s+ga(G,F)),(G-=F)>0&&t.lineTo(a+ya(V-G,0),s+F),(G-=V)>0&&t.lineTo(a,s+ya(F-G,0));break t}g+=H}t.rect(a,s,V,F);break;case la.Z:if(f){var H;if(g+(H=l[y++])>u){x=(u-g)/H;t.lineTo(r*(1-x)+n*x,o*(1-x)+i*x);break t}g+=H}t.closePath(),r=n,o=i}}},t.CMD=la,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0}(),t}();function Aa(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}function Da(t,e,n,i,r,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>i+c&&h>o+c&&h>s+c||h<e-c&&h<i-c&&h<o-c&&h<s-c||u>t+c&&u>n+c&&u>r+c&&u>a+c||u<t-c&&u<n-c&&u<r-c&&u<a-c)&&Vo(t,e,n,i,r,o,a,s,u,h,null)<=c/2}function La(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>i+u&&l>o+u||l<e-u&&l<i-u&&l<o-u||s>t+u&&s>n+u&&s>r+u||s<t-u&&s<n-u&&s<r-u)&&Xo(t,e,n,i,r,o,s,l,null)<=u/2}var ka=2*Math.PI;function Pa(t){return(t%=ka)<0&&(t+=ka),t}var Oa=2*Math.PI;function Ra(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(i-r)%Oa<1e-4)return!0;if(o){var c=i;i=Pa(r),r=Pa(c)}else i=Pa(i),r=Pa(r);i>r&&(r+=Oa);var p=Math.atan2(l,s);return p<0&&(p+=Oa),p>=i&&p<=r||p+Oa>=i&&p+Oa<=r}function Na(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i)return 0;if(i===e)return 0;var a=(o-e)/(i-e),s=i<e?1:-1;1!==a&&0!==a||(s=i<e?.5:-.5);var l=a*(n-t)+t;return l===r?1/0:l>r?s:0}var Ea=Ca.CMD,za=2*Math.PI;var Ba=[-1,-1,-1],Va=[-1,-1];function Fa(t,e,n,i,r,o,a,s,l,u){if(u>e&&u>i&&u>o&&u>s||u<e&&u<i&&u<o&&u<s)return 0;var h,c=Eo(e,i,o,s,u,Ba);if(0===c)return 0;for(var p=0,d=-1,f=void 0,g=void 0,y=0;y<c;y++){var v=Ba[y],m=0===v||1===v?.5:1;Ro(t,n,r,a,v)<l||(d<0&&(d=zo(e,i,o,s,Va),Va[1]<Va[0]&&d>1&&(h=void 0,h=Va[0],Va[0]=Va[1],Va[1]=h),f=Ro(e,i,o,s,Va[0]),d>1&&(g=Ro(e,i,o,s,Va[1]))),2===d?v<Va[0]?p+=f<e?m:-m:v<Va[1]?p+=g<f?m:-m:p+=s<g?m:-m:v<Va[0]?p+=f<e?m:-m:p+=s<f?m:-m)}return p}function Ga(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=function(t,e,n,i,r){var o=t-2*e+n,a=2*(e-t),s=t-i,l=0;if(Po(o))Oo(a)&&(h=-s/a)>=0&&h<=1&&(r[l++]=h);else{var u=a*a-4*o*s;if(Po(u))(h=-a/(2*o))>=0&&h<=1&&(r[l++]=h);else if(u>0){var h,c=Mo(u),p=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h<=1&&(r[l++]=h),p>=0&&p<=1&&(r[l++]=p)}}return l}(e,i,o,s,Ba);if(0===l)return 0;var u=Wo(e,i,o);if(u>=0&&u<=1){for(var h=0,c=Go(e,i,o,u),p=0;p<l;p++){var d=0===Ba[p]||1===Ba[p]?.5:1;Go(t,n,r,Ba[p])<a||(Ba[p]<u?h+=c<e?d:-d:h+=o<c?d:-d)}return h}d=0===Ba[0]||1===Ba[0]?.5:1;return Go(t,n,r,Ba[0])<a?0:o<e?d:-d}function Ha(t,e,n,i,r,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Ba[0]=-l,Ba[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=za-1e-4){i=0,r=za;var h=o?1:-1;return a>=Ba[0]+t&&a<=Ba[1]+t?h:0}if(i>r){var c=i;i=r,r=c}i<0&&(i+=za,r+=za);for(var p=0,d=0;d<2;d++){var f=Ba[d];if(f+t>a){var g=Math.atan2(s,f);h=o?1:-1;g<0&&(g=za+g),(g>=i&&g<=r||g+za>=i&&g+za<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),p+=h)}}return p}function Wa(t,e,n,i,r){for(var o,a,s,l,u=t.data,h=t.len(),c=0,p=0,d=0,f=0,g=0,y=0;y<h;){var v=u[y++],m=1===y;switch(v===Ea.M&&y>1&&(n||(c+=Na(p,d,f,g,i,r))),m&&(f=p=u[y],g=d=u[y+1]),v){case Ea.M:p=f=u[y++],d=g=u[y++];break;case Ea.L:if(n){if(Aa(p,d,u[y],u[y+1],e,i,r))return!0}else c+=Na(p,d,u[y],u[y+1],i,r)||0;p=u[y++],d=u[y++];break;case Ea.C:if(n){if(Da(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],e,i,r))return!0}else c+=Fa(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],d=u[y++];break;case Ea.Q:if(n){if(La(p,d,u[y++],u[y++],u[y],u[y+1],e,i,r))return!0}else c+=Ga(p,d,u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],d=u[y++];break;case Ea.A:var _=u[y++],x=u[y++],b=u[y++],w=u[y++],S=u[y++],M=u[y++];y+=1;var I=!!(1-u[y++]);o=Math.cos(S)*b+_,a=Math.sin(S)*w+x,m?(f=o,g=a):c+=Na(p,d,o,a,i,r);var T=(i-_)*w/b+_;if(n){if(Ra(_,x,w,S,S+M,I,e,T,r))return!0}else c+=Ha(_,x,w,S,S+M,I,T,r);p=Math.cos(S+M)*b+_,d=Math.sin(S+M)*w+x;break;case Ea.R:if(f=p=u[y++],g=d=u[y++],o=f+u[y++],a=g+u[y++],n){if(Aa(f,g,o,g,e,i,r)||Aa(o,g,o,a,e,i,r)||Aa(o,a,f,a,e,i,r)||Aa(f,a,f,g,e,i,r))return!0}else c+=Na(o,g,o,a,i,r),c+=Na(f,a,f,g,i,r);break;case Ea.Z:if(n){if(Aa(p,d,f,g,e,i,r))return!0}else c+=Na(p,d,f,g,i,r);p=f,d=g}}return n||(s=d,l=g,Math.abs(s-l)<1e-4)||(c+=Na(p,d,f,g,i,r)||0),0!==c}var Ya=T({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},vo),Xa={style:T({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},mo.style)},Ua=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],Za=function(t){function e(e){return t.call(this,e)||this}var i;return n(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){n.buildPath(t,n.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<Ua.length;++s)r[Ua[s]]=this[Ua[s]];r.__dirty|=ei.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=z(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var r=0;r<n.length;r++){var o=n[r],a=e[o];"style"===o?this.style?I(this.style,a):this.useStyle(a):"shape"===o?I(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(H(t)){var e=sn(t,0);return e>.5?jn:e>.2?"#eee":qn}if(t)return qn}return jn},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(H(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())===sn(t,0)<.4)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~e.SHAPE_CHANGED_BIT},e.prototype.createPathProxy=function(){this.path=new Ca(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,i=!t;if(i){var r=!1;this.path||(r=!0,this.createPathProxy());var o=this.path;(r||this.__dirty&e.SHAPE_CHANGED_BIT)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){a.copy(t);var s=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;l=Math.max(l,null==u?4:u)}s>1e-10&&(a.width+=l/s,a.height+=l/s,a.x-=l/s/2,a.y-=l/s/2)}return a}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,i){return Wa(t,e,!0,n,i)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return Wa(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=e.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"==typeof t?n[t]=e:I(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&e.SHAPE_CHANGED_BIT)},e.prototype.createStyle=function(t){return pt(Ya,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=I({},this.shape))},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.shape?o?r?s=n.shape:(s=I({},i.shape),I(s,n.shape)):(s=I({},r?this.shape:i.shape),I(s,n.shape)):l&&(s=i.shape),s)if(o){this.shape=I({},this.shape);for(var u={},h=z(s),c=0;c<h.length;c++){var p=h[c];"object"==typeof s[p]?this.shape[p]=s[p]:u[p]=s[p]}this._transitionState(e,{shape:u},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(i.shape=n),i},e.prototype.getAnimationStyleProps=function(){return Xa},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(e){function i(n){var i=e.call(this,n)||this;return t.init&&t.init.call(i,n),i}return n(i,e),i.prototype.getDefaultStyle=function(){return w(t.style)},i.prototype.getDefaultShape=function(){return w(t.shape)},i}(e);for(var r in t)"function"==typeof t[r]&&(i.prototype[r]=t[r]);return i},e.SHAPE_CHANGED_BIT=4,e.initDefaultProps=((i=e.prototype).type="path",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,void(i.__dirty=ei.REDARAW_BIT|xo.STYLE_CHANGED_BIT|e.SHAPE_CHANGED_BIT)),e}(xo),ja=T({strokeFirst:!0,font:En,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ya),qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return pt(ja,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=Fn(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var i=t.lineWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(xo);qa.prototype.type="tspan";var Ka=T({x:0,y:0},vo),$a={style:T({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},mo.style)};var Ja=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.createStyle=function(t){return pt(Ka,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var i,r=(i=e.image)&&"string"!=typeof i&&i.width&&i.height?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?r[t]:r[t]/r[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return $a},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Rn(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(xo);Ja.prototype.type="image";var Qa=Math.round;function ts(t,e,n){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;t.x1=i,t.x2=r,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s?(Qa(2*i)===Qa(2*r)&&(t.x1=t.x2=ns(i,s,!0)),Qa(2*o)===Qa(2*a)&&(t.y1=t.y2=ns(o,s,!0)),t):t}}function es(t,e,n){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;t.x=i,t.y=r,t.width=o,t.height=a;var s=n&&n.lineWidth;return s?(t.x=ns(i,s,!0),t.y=ns(r,s,!0),t.width=Math.max(ns(i+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(ns(r+a,s,!1)-t.y,0===a?0:1),t):t}}function ns(t,e,n){if(!e)return t;var i=Qa(2*t);return(i+Qa(e))%2==0?i/2:(i+(n?1:-1))/2}var is=function(){this.x=0,this.y=0,this.width=0,this.height=0},rs={},os=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new is},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=es(rs,e,this.style);n=a.x,i=a.y,r=a.width,o=a.height,a.r=e.r,e=a}else n=e.x,i=e.y,r=e.width,o=e.height;e.r?function(t,e){var n,i,r,o,a,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),"number"==typeof c?n=i=r=o=c:c instanceof Array?1===c.length?n=i=r=o=c[0]:2===c.length?(n=r=c[0],i=o=c[1]):3===c.length?(n=c[0],i=o=c[1],r=c[2]):(n=c[0],i=c[1],r=c[2],o=c[3]):n=i=r=o=0,n+i>u&&(n*=u/(a=n+i),i*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),i+r>h&&(i*=h/(a=i+r),r*=h/a),n+o>h&&(n*=h/(a=n+o),o*=h/a),t.moveTo(s+n,l),t.lineTo(s+u-i,l),0!==i&&t.arc(s+u-i,l+i,i,-Math.PI/2,0),t.lineTo(s+u,l+h-r),0!==r&&t.arc(s+u-r,l+h-r,r,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,i,r,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Za);os.prototype.type="rect";var as={fill:"#000"},ss={style:T({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},mo.style)},ls=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=as,n.attr(e),n}return n(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}var i=this.attachedTransform;if(i){i.updateTransform();var r=i.transform;r?(this.transform=this.transform||[],ye(this.transform,r)):this.transform=null}else t.prototype.update.call(this)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,cs(t=this.style),P(t.rich,cs),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Rn(0,0,0,0),e=this._children,n=[],i=null,r=0;r<e.length;r++){var o=e[r],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(i=i||t.clone()).union(t)):(i=i||a.clone()).union(a)}this._rect=i||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||as},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,i=t.rich||n&&{};return I(t,e),n&&i?(this._mergeRich(i,n),t.rich=i):i&&(t.rich=i),t},e.prototype._mergeRich=function(t,e){for(var n=z(e),i=0;i<n.length;i++){var r=n[i];t[r]=t[r]||{},I(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return ss},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||En,n=t.padding,i=function(t,e){null!=t&&(t+="");var n,i=e.overflow,r=e.padding,o=e.font,a="truncate"===i,s=Wn(o),l=tt(e.lineHeight,s),u="truncate"===e.lineOverflow,h=e.width,c=(n=null!=h&&"break"===i||"breakAll"===i?t?go(t,e.font,h,"breakAll"===i,0).lines:[]:t?t.split("\n"):[]).length*l,p=tt(e.height,c);if(c>p&&u){var d=Math.floor(p/l);n=n.slice(0,d)}var f=p,g=h;if(r&&(f+=r[0]+r[2],null!=g&&(g+=r[1]+r[3])),t&&a&&null!=g)for(var y=oo(h,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<n.length;v++)n[v]=ao(n[v],y);if(null==h){var m=0;for(v=0;v<n.length;v++)m=Math.max(Bn(n[v],o),m);h=m}return{lines:n,height:p,outerHeight:f,lineHeight:l,calculatedLineHeight:s,contentHeight:c,width:h}}(fs(t),t),r=gs(t),o=!!t.backgroundColor,a=i.outerHeight,s=i.lines,l=i.lineHeight,u=this._defaultStyle,h=t.x||0,c=t.y||0,p=t.align||u.align||"left",d=t.verticalAlign||u.verticalAlign||"top",f=h,g=Hn(c,i.contentHeight,d);if(r||n){var y=i.width;n&&(y+=n[1]+n[3]);var v=Gn(h,y,p),m=Hn(c,a,d);r&&this._renderBackground(t,t,v,m,y,a)}g+=l/2,n&&(f=ds(h,p,n),"top"===d?g+=n[0]:"bottom"===d&&(g-=n[2]));for(var _,x=0,b=!1,w=(null==(_="fill"in t?t.fill:(b=!0,u.fill))||"none"===_?null:_.image||_.colorStops?"#000":_),S=(ps("stroke"in t?t.stroke:o||u.autoStroke&&!b?null:(x=2,u.stroke))),M=t.textShadowBlur>0,I=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),T=i.calculatedLineHeight,C=0;C<s.length;C++){var A=this._getOrCreateChild(qa),D=A.createStyle();A.useStyle(D),D.text=s[C],D.x=f,D.y=g,p&&(D.textAlign=p),D.textBaseline="middle",D.opacity=t.opacity,D.strokeFirst=!0,M&&(D.shadowBlur=t.textShadowBlur||0,D.shadowColor=t.textShadowColor||"transparent",D.shadowOffsetX=t.textShadowOffsetX||0,D.shadowOffsetY=t.textShadowOffsetY||0),S&&(D.stroke=S,D.lineWidth=t.lineWidth||x,D.lineDash=t.lineDash,D.lineDashOffset=t.lineDashOffset||0),w&&(D.fill=w),D.font=e,g+=l,I&&A.setBoundingRect(new Rn(Gn(D.x,t.width,D.textAlign),Hn(D.y,T,D.textBaseline),t.width,T))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var n=new ho;if(null!=t&&(t+=""),!t)return n;for(var i,r=e.width,o=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},l=io.lastIndex=0;null!=(i=io.exec(t));){var u=i.index;u>l&&co(n,t.substring(l,u),e,s),co(n,i[2],e,s,i[1]),l=io.lastIndex}l<t.length&&co(n,t.substring(l,t.length),e,s);var h=[],c=0,p=0,d=e.padding,f="truncate"===a,g="truncate"===e.lineOverflow;function y(t,e,n){t.width=e,t.lineHeight=n,c+=n,p=Math.max(p,e)}t:for(var v=0;v<n.lines.length;v++){for(var m=n.lines[v],_=0,x=0,b=0;b<m.tokens.length;b++){var w=(P=m.tokens[b]).styleName&&e.rich[P.styleName]||{},S=P.textPadding=w.padding,M=S?S[1]+S[3]:0,I=P.font=w.font||e.font;P.contentHeight=Wn(I);var T=tt(w.height,P.contentHeight);if(P.innerHeight=T,S&&(T+=S[0]+S[2]),P.height=T,P.lineHeight=et(w.lineHeight,e.lineHeight,T),P.align=w&&w.align||e.align,P.verticalAlign=w&&w.verticalAlign||"middle",g&&null!=o&&c+P.lineHeight>o){b>0?(m.tokens=m.tokens.slice(0,b),y(m,x,_),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break t}var C=w.width,A=null==C||"auto"===C;if("string"==typeof C&&"%"===C.charAt(C.length-1))P.percentWidth=C,h.push(P),P.contentWidth=Bn(P.text,I);else{if(A){var D=w.backgroundColor,L=D&&D.image;L&&no(L=Qr(L))&&(P.width=Math.max(P.width,L.width*T/L.height))}var k=f&&null!=r?r-x:null;null!=k&&k<P.width?!A||k<M?(P.text="",P.width=P.contentWidth=0):(P.text=ro(P.text,k-M,I,e.ellipsis,{minChar:e.truncateMinChar}),P.width=P.contentWidth=Bn(P.text,I)):P.contentWidth=Bn(P.text,I)}P.width+=M,x+=P.width,w&&(_=Math.max(_,P.lineHeight))}y(m,x,_)}for(n.outerWidth=n.width=tt(r,p),n.outerHeight=n.height=tt(o,c),n.contentHeight=c,n.contentWidth=p,d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]),v=0;v<h.length;v++){var P,O=(P=h[v]).percentWidth;P.width=parseInt(O,10)/100*n.width}return n}(fs(t),t),n=e.width,i=e.outerWidth,r=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,l=this._defaultStyle,u=t.align||l.align,h=t.verticalAlign||l.verticalAlign,c=Gn(a,i,u),p=Hn(s,r,h),d=c,f=p;o&&(d+=o[3],f+=o[0]);var g=d+n;gs(t)&&this._renderBackground(t,t,c,p,i,r);for(var y=!!t.backgroundColor,v=0;v<e.lines.length;v++){for(var m=e.lines[v],_=m.tokens,x=_.length,b=m.lineHeight,w=m.width,S=0,M=d,I=g,T=x-1,C=void 0;S<x&&(!(C=_[S]).align||"left"===C.align);)this._placeToken(C,t,b,f,M,"left",y),w-=C.width,M+=C.width,S++;for(;T>=0&&"right"===(C=_[T]).align;)this._placeToken(C,t,b,f,I,"right",y),w-=C.width,I-=C.width,T--;for(M+=(n-(M-d)-(g-I)-w)/2;S<=T;)C=_[S],this._placeToken(C,t,b,f,M+C.width/2,"center",y),M+=C.width,S++;f+=b}},e.prototype._placeToken=function(t,e,n,i,r,o,a){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign,u=i+n/2;"top"===l?u=i+t.height/2:"bottom"===l&&(u=i+n-t.height/2),!t.isLineHolder&&gs(s)&&this._renderBackground(s,e,"right"===o?r-t.width:"center"===o?r-t.width/2:r,u-t.height/2,t.width,t.height);var h=!!s.backgroundColor,c=t.textPadding;c&&(r=ds(r,o,c),u-=t.height/2-c[0]-t.innerHeight/2);var p=this._getOrCreateChild(qa),d=p.createStyle();p.useStyle(d);var f=this._defaultStyle,g=!1,y=0,v=ps("fill"in s?s.fill:"fill"in e?e.fill:(g=!0,f.fill)),m=ps("stroke"in s?s.stroke:"stroke"in e?e.stroke:h||a||f.autoStroke&&!g?null:(y=2,f.stroke)),_=s.textShadowBlur>0||e.textShadowBlur>0;d.text=t.text,d.x=r,d.y=u,_&&(d.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,d.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",d.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,d.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),d.textAlign=o,d.textBaseline="middle",d.font=t.font||En,d.opacity=et(s.opacity,e.opacity,1),m&&(d.lineWidth=et(s.lineWidth,e.lineWidth,y),d.lineDash=tt(s.lineDash,e.lineDash),d.lineDashOffset=e.lineDashOffset||0,d.stroke=m),v&&(d.fill=v);var x=t.contentWidth,b=t.contentHeight;p.setBoundingRect(new Rn(Gn(d.x,x,d.textAlign),Hn(d.y,b,d.textBaseline),x,b))},e.prototype._renderBackground=function(t,e,n,i,r,o){var a,s,l,u=t.backgroundColor,h=t.borderWidth,c=t.borderColor,p=H(u),d=t.borderRadius,f=this;if(p||h&&c){(a=this._getOrCreateChild(os)).useStyle(a.createStyle()),a.style.fill=null;var g=a.shape;g.x=n,g.y=i,g.width=r,g.height=o,g.r=d,a.dirtyShape()}if(p)(l=a.style).fill=u||null,l.fillOpacity=tt(t.fillOpacity,1);else if(u&&u.image){(s=this._getOrCreateChild(Ja)).onload=function(){f.dirtyStyle()};var y=s.style;y.image=u.image,y.x=n,y.y=i,y.width=r,y.height=o}h&&c&&((l=a.style).lineWidth=h,l.stroke=c,l.strokeOpacity=tt(t.strokeOpacity,1),l.lineDash=t.borderDash,l.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var v=(a||s).style;v.shadowBlur=t.shadowBlur||0,v.shadowColor=t.shadowColor||"transparent",v.shadowOffsetX=t.shadowOffsetX||0,v.shadowOffsetY=t.shadowOffsetY||0,v.opacity=et(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";if(t.fontSize||t.fontFamily||t.fontWeight){var n="";n="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,e=[t.fontStyle,t.fontWeight,n,t.fontFamily||"sans-serif"].join(" ")}return e&&ot(e)||t.textFont||t.font},e}(xo),us={left:!0,right:1,center:1},hs={top:1,bottom:1,middle:1};function cs(t){if(t){t.font=ls.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||us[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||hs[n]?n:"top",t.padding&&(t.padding=it(t.padding))}}function ps(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function ds(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function fs(t){var e=t.text;return null!=e&&(e+=""),e}function gs(t){return!!(t.backgroundColor||t.borderWidth&&t.borderColor)}var ys=Lr(),vs=1,ms={},_s=Lr(),xs=["emphasis","blur","select"],bs=["normal","emphasis","blur","select"],ws="highlight",Ss="downplay",Ms="select",Is="unselect",Ts="toggleSelect";function Cs(t){return null!=t&&"none"!==t}var As=new Ee(100);function Ds(t){if("string"!=typeof t)return t;var e=As.get(t);return e||(e=$e(t,-.1),As.put(t,e)),e}function Ls(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function ks(t){Ls(t,"emphasis",2)}function Ps(t){2===t.hoverState&&Ls(t,"normal",0)}function Os(t){Ls(t,"blur",1)}function Rs(t){1===t.hoverState&&Ls(t,"normal",0)}function Ns(t){t.selected=!0}function Es(t){t.selected=!1}function zs(t,e,n){e(t,n)}function Bs(t,e,n){zs(t,e,n),t.isGroup&&t.traverse((function(t){zs(t,e,n)}))}function Vs(t,e){switch(e){case"emphasis":t.hoverState=2;break;case"normal":t.hoverState=0;break;case"blur":t.hoverState=1;break;case"select":t.selected=!0}}function Fs(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return function(t,e,n,i){var r=n&&A(n,"select")>=0,o=!1;if(t instanceof Za){var a=_s(t),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(Cs(s)||Cs(l)){var u=(i=i||{}).style||{};!Cs(u.fill)&&Cs(s)?(o=!0,i=I({},i),(u=I({},u)).fill=Ds(s)):!Cs(u.stroke)&&Cs(l)&&(o||(i=I({},i),u=I({},u)),u.stroke=Ds(l)),i.style=u}}if(i&&null==i.z2){o||(i=I({},i));var h=t.z2EmphasisLift;i.z2=t.z2+(null!=h?h:10)}return i}(this,0,e,n);if("blur"===t)return function(t,e,n){var i=A(t.currentStates,e)>=0,r=t.style.opacity,o=i?null:function(t,e,n,i){for(var r=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=r[s];o[s]=null==l?i&&i[s]:l}for(a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveFinalToTarget(o,e)}return o}(t,["opacity"],e,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(n=I({},n),a=I({opacity:i?r:.1*o.opacity},a),n.style=a),n}(this,t,n);if("select"===t)return function(t,e,n){if(n&&null==n.z2){n=I({},n);var i=t.z2SelectLift;n.z2=t.z2+(null!=i?i:9)}return n}(this,0,n)}return n}function Gs(t){t.stateProxy=Fs;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=Fs),n&&(n.stateProxy=Fs)}function Hs(t,e){t.__highByOuter|=1<<(e||0),Bs(t,ks)}function Ws(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Bs(t,Ps)}function Ys(t){Bs(t,Os)}function Xs(t){Bs(t,Rs)}function Us(t){Bs(t,Ns)}function Zs(t){Bs(t,Es)}function js(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function qs(t,e,n,i,r){var o=i.getModel();function a(t,e){for(var n=0;n<e.length;n++){var i=t.getItemGraphicEl(e[n]);i&&Xs(i)}}if(n=n||"coordinateSystem",r){if(null!=t&&e&&"none"!==e){var s=o.getSeriesByIndex(t),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];o.eachSeries((function(t){var r=s===t,o=t.coordinateSystem;if(o&&o.master&&(o=o.master),!("series"===n&&!r||"coordinateSystem"===n&&!(o&&l?o===l:r)||"series"===e&&r)){if(i.getViewOfSeriesModel(t).group.traverse((function(t){Os(t)})),k(e))a(t.getData(),e);else if(X(e))for(var h=z(e),c=0;c<h.length;c++)a(t.getData(h[c]),e[h[c]]);u.push(t)}})),o.eachComponent((function(t,e){if("series"!==t){var n=i.getViewOfComponentModel(e);n&&n.blurSeries&&n.blurSeries(u,o)}}))}}else!function(t){t.getModel().eachComponent((function(e,n){("series"===e?t.getViewOfSeriesModel(n):t.getViewOfComponentModel(n)).group.traverse((function(t){Rs(t)}))}))}(i)}function Ks(t){P(t.getAllData(),(function(e){var n=e.data,i=e.type;n.eachItemGraphicEl((function(e,n){t.isSelected(n,i)?Us(e):Zs(e)}))}))}function $s(t){var e=[];return t.eachSeries((function(t){P(t.getAllData(),(function(n){n.data;var i=n.type,r=t.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:t.seriesIndex};null!=i&&(o.dataType=i),e.push(o)}}))})),e}function Js(t,e,n){il(t,!0),Bs(t,Gs),Qs(t,e,n)}function Qs(t,e,n){var i=ys(t);null!=e?(i.focus=e,i.blurScope=n):i.focus&&(i.focus=null)}var tl=["emphasis","blur","select"],el={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function nl(t,e,n,i){n=n||"itemStyle";for(var r=0;r<tl.length;r++){var o=tl[r],a=e.getModel([o,n]);t.ensureState(o).style=i?i(a):a[el[n]]()}}function il(t,e){var n=!1===e,i=t;t.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function rl(t){return!(!t||!t.__highDownDispatcher)}function ol(t){var e=t.type;return e===Ms||e===Is||e===Ts}function al(t){var e=t.type;return e===ws||e===Ss}var sl=Ca.CMD,ll=[[],[],[]],ul=Math.sqrt,hl=Math.atan2;var cl=Math.sqrt,pl=Math.sin,dl=Math.cos,fl=Math.PI;function gl(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function yl(t,e){return(t[0]*e[0]+t[1]*e[1])/(gl(t)*gl(e))}function vl(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(yl(t,e))}function ml(t,e,n,i,r,o,a,s,l,u,h){var c=l*(fl/180),p=dl(c)*(t-n)/2+pl(c)*(e-i)/2,d=-1*pl(c)*(t-n)/2+dl(c)*(e-i)/2,f=p*p/(a*a)+d*d/(s*s);f>1&&(a*=cl(f),s*=cl(f));var g=(r===o?-1:1)*cl((a*a*(s*s)-a*a*(d*d)-s*s*(p*p))/(a*a*(d*d)+s*s*(p*p)))||0,y=g*a*d/s,v=g*-s*p/a,m=(t+n)/2+dl(c)*y-pl(c)*v,_=(e+i)/2+pl(c)*y+dl(c)*v,x=vl([1,0],[(p-y)/a,(d-v)/s]),b=[(p-y)/a,(d-v)/s],w=[(-1*p-y)/a,(-1*d-v)/s],S=vl(b,w);if(yl(b,w)<=-1&&(S=fl),yl(b,w)>=1&&(S=0),S<0){var M=Math.round(S/fl*1e6)/1e6;S=2*fl+M%2*fl}h.addData(u,m,_,a,s,x,S,c,o)}var _l=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,xl=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.applyTransform=function(t){},e}(Za);function wl(t){return null!=t.setData}function Sl(t,e){var n=function(t){var e=new Ca;if(!t)return e;var n,i=0,r=0,o=i,a=r,s=Ca.CMD,l=t.match(_l);if(!l)return e;for(var u=0;u<l.length;u++){for(var h=l[u],c=h.charAt(0),p=void 0,d=h.match(xl)||[],f=d.length,g=0;g<f;g++)d[g]=parseFloat(d[g]);for(var y=0;y<f;){var v=void 0,m=void 0,_=void 0,x=void 0,b=void 0,w=void 0,S=void 0,M=i,I=r,T=void 0,C=void 0;switch(c){case"l":i+=d[y++],r+=d[y++],p=s.L,e.addData(p,i,r);break;case"L":i=d[y++],r=d[y++],p=s.L,e.addData(p,i,r);break;case"m":i+=d[y++],r+=d[y++],p=s.M,e.addData(p,i,r),o=i,a=r,c="l";break;case"M":i=d[y++],r=d[y++],p=s.M,e.addData(p,i,r),o=i,a=r,c="L";break;case"h":i+=d[y++],p=s.L,e.addData(p,i,r);break;case"H":i=d[y++],p=s.L,e.addData(p,i,r);break;case"v":r+=d[y++],p=s.L,e.addData(p,i,r);break;case"V":r=d[y++],p=s.L,e.addData(p,i,r);break;case"C":p=s.C,e.addData(p,d[y++],d[y++],d[y++],d[y++],d[y++],d[y++]),i=d[y-2],r=d[y-1];break;case"c":p=s.C,e.addData(p,d[y++]+i,d[y++]+r,d[y++]+i,d[y++]+r,d[y++]+i,d[y++]+r),i+=d[y-2],r+=d[y-1];break;case"S":v=i,m=r,T=e.len(),C=e.data,n===s.C&&(v+=i-C[T-4],m+=r-C[T-3]),p=s.C,M=d[y++],I=d[y++],i=d[y++],r=d[y++],e.addData(p,v,m,M,I,i,r);break;case"s":v=i,m=r,T=e.len(),C=e.data,n===s.C&&(v+=i-C[T-4],m+=r-C[T-3]),p=s.C,M=i+d[y++],I=r+d[y++],i+=d[y++],r+=d[y++],e.addData(p,v,m,M,I,i,r);break;case"Q":M=d[y++],I=d[y++],i=d[y++],r=d[y++],p=s.Q,e.addData(p,M,I,i,r);break;case"q":M=d[y++]+i,I=d[y++]+r,i+=d[y++],r+=d[y++],p=s.Q,e.addData(p,M,I,i,r);break;case"T":v=i,m=r,T=e.len(),C=e.data,n===s.Q&&(v+=i-C[T-4],m+=r-C[T-3]),i=d[y++],r=d[y++],p=s.Q,e.addData(p,v,m,i,r);break;case"t":v=i,m=r,T=e.len(),C=e.data,n===s.Q&&(v+=i-C[T-4],m+=r-C[T-3]),i+=d[y++],r+=d[y++],p=s.Q,e.addData(p,v,m,i,r);break;case"A":_=d[y++],x=d[y++],b=d[y++],w=d[y++],S=d[y++],ml(M=i,I=r,i=d[y++],r=d[y++],w,S,_,x,b,p=s.A,e);break;case"a":_=d[y++],x=d[y++],b=d[y++],w=d[y++],S=d[y++],ml(M=i,I=r,i+=d[y++],r+=d[y++],w,S,_,x,b,p=s.A,e)}}"z"!==c&&"Z"!==c||(p=s.Z,e.addData(p),i=o,r=a),n=p}return e.toStatic(),e}(t),i=I({},e);return i.buildPath=function(t){if(wl(t)){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;n.rebuildPath(e,1)}},i.applyTransform=function(t){!function(t,e){var n,i,r,o,a,s,l=t.data,u=t.len(),h=sl.M,c=sl.C,p=sl.L,d=sl.R,f=sl.A,g=sl.Q;for(r=0,o=0;r<u;){switch(n=l[r++],o=r,i=0,n){case h:case p:i=1;break;case c:i=3;break;case g:i=2;break;case f:var y=e[4],v=e[5],m=ul(e[0]*e[0]+e[1]*e[1]),_=ul(e[2]*e[2]+e[3]*e[3]),x=hl(-e[1]/_,e[0]/m);l[r]*=m,l[r++]+=y,l[r]*=_,l[r++]+=v,l[r++]*=m,l[r++]*=_,l[r++]+=x,l[r++]+=x,o=r+=2;break;case d:s[0]=l[r++],s[1]=l[r++],Rt(s,s,e),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],Rt(s,s,e),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++){var b=ll[a];b[0]=l[r++],b[1]=l[r++],Rt(b,b,e),l[o++]=b[0],l[o++]=b[1]}}t.increaseVersion()}(n,t),this.dirtyShape()},i}function Ml(t,e){return new bl(Sl(t,e))}var Il=function(){this.cx=0,this.cy=0,this.r=0},Tl=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Il},e.prototype.buildPath=function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(Za);Tl.prototype.type="circle";var Cl=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Al=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Cl},e.prototype.buildPath=function(t,e){var n=.5522848,i=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(i-o,r),t.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),t.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),t.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),t.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),t.closePath()},e}(Za);Al.prototype.type="ellipse";var Dl=Math.PI,Ll=2*Dl,kl=Math.sin,Pl=Math.cos,Ol=Math.acos,Rl=Math.atan2,Nl=Math.abs,El=Math.sqrt,zl=Math.max,Bl=Math.min,Vl=1e-4;function Fl(t,e,n,i,r,o,a){var s=t-n,l=e-i,u=(a?o:-o)/El(s*s+l*l),h=u*l,c=-u*s,p=t+h,d=e+c,f=n+h,g=i+c,y=(p+f)/2,v=(d+g)/2,m=f-p,_=g-d,x=m*m+_*_,b=r-o,w=p*g-f*d,S=(_<0?-1:1)*El(zl(0,b*b*x-w*w)),M=(w*_-m*S)/x,I=(-w*m-_*S)/x,T=(w*_+m*S)/x,C=(-w*m+_*S)/x,A=M-y,D=I-v,L=T-y,k=C-v;return A*A+D*D>L*L+k*k&&(M=T,I=C),{cx:M,cy:I,x01:-h,y01:-c,x11:M*(r/b-1),y11:I*(r/b-1)}}function Gl(t,e){var n=zl(e.r,0),i=zl(e.r0||0,0),r=n>0;if(r||i>0){if(r||(n=i,i=0),i>n){var o=n;n=i,i=o}var a=!!e.clockwise,s=e.startAngle,l=e.endAngle,u=[s,l];Ta(u,!a);var h=Nl(u[0]-u[1]),c=e.cx,p=e.cy,d=e.cornerRadius||0,f=e.innerCornerRadius||0;if(n>Vl)if(h>Ll-Vl)t.moveTo(c+n*Pl(s),p+n*kl(s)),t.arc(c,p,n,s,l,!a),i>Vl&&(t.moveTo(c+i*Pl(l),p+i*kl(l)),t.arc(c,p,i,l,s,a));else{var g=Nl(n-i)/2,y=Bl(g,d),v=Bl(g,f),m=v,_=y,x=n*Pl(s),b=n*kl(s),w=i*Pl(l),S=i*kl(l),M=void 0,I=void 0,T=void 0,C=void 0;if((y>Vl||v>Vl)&&(M=n*Pl(l),I=n*kl(l),T=i*Pl(s),C=i*kl(s),h<Dl)){var A=function(t,e,n,i,r,o,a,s){var l=n-t,u=i-e,h=a-r,c=s-o,p=c*l-h*u;if(!(p*p<Vl))return[t+(p=(h*(e-o)-c*(t-r))/p)*l,e+p*u]}(x,b,T,C,M,I,w,S);if(A){var D=x-A[0],L=b-A[1],k=M-A[0],P=I-A[1],O=1/kl(Ol((D*k+L*P)/(El(D*D+L*L)*El(k*k+P*P)))/2),R=El(A[0]*A[0]+A[1]*A[1]);m=Bl(v,(i-R)/(O-1)),_=Bl(y,(n-R)/(O+1))}}if(h>Vl)if(_>Vl){var N=Fl(T,C,x,b,n,_,a),E=Fl(M,I,w,S,n,_,a);t.moveTo(c+N.cx+N.x01,p+N.cy+N.y01),_<y?t.arc(c+N.cx,p+N.cy,_,Rl(N.y01,N.x01),Rl(E.y01,E.x01),!a):(t.arc(c+N.cx,p+N.cy,_,Rl(N.y01,N.x01),Rl(N.y11,N.x11),!a),t.arc(c,p,n,Rl(N.cy+N.y11,N.cx+N.x11),Rl(E.cy+E.y11,E.cx+E.x11),!a),t.arc(c+E.cx,p+E.cy,_,Rl(E.y11,E.x11),Rl(E.y01,E.x01),!a))}else t.moveTo(c+x,p+b),t.arc(c,p,n,s,l,!a);else t.moveTo(c+x,p+b);if(i>Vl&&h>Vl)if(m>Vl){N=Fl(w,S,M,I,i,-m,a),E=Fl(x,b,T,C,i,-m,a);t.lineTo(c+N.cx+N.x01,p+N.cy+N.y01),m<v?t.arc(c+N.cx,p+N.cy,m,Rl(N.y01,N.x01),Rl(E.y01,E.x01),!a):(t.arc(c+N.cx,p+N.cy,m,Rl(N.y01,N.x01),Rl(N.y11,N.x11),!a),t.arc(c,p,i,Rl(N.cy+N.y11,N.cx+N.x11),Rl(E.cy+E.y11,E.cx+E.x11),a),t.arc(c+E.cx,p+E.cy,m,Rl(E.y11,E.x11),Rl(E.y01,E.x01),!a))}else t.lineTo(c+w,p+S),t.arc(c,p,i,l,s,a);else t.lineTo(c+w,p+S)}else t.moveTo(c,p);t.closePath()}}var Hl=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Wl=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Hl},e.prototype.buildPath=function(t,e){Gl(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Za);Wl.prototype.type="sector";var Yl=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Xl=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Yl},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)},e}(Za);function Ul(t,e,n,i,r,o,a){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*r+e}function Zl(t,e,n){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(t,e,n,i){var r,o,a,s,l=[],u=[],h=[],c=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var p=0,d=t.length;p<d;p++)Nt(a,a,t[p]),Et(s,s,t[p]);Nt(a,a,i[0]),Et(s,s,i[1])}for(p=0,d=t.length;p<d;p++){var f=t[p];if(n)r=t[p?p-1:d-1],o=t[(p+1)%d];else{if(0===p||p===d-1){l.push(mt(t[p]));continue}r=t[p-1],o=t[p+1]}wt(u,o,r),Ct(u,u,e);var g=Dt(f,r),y=Dt(f,o),v=g+y;0!==v&&(g/=v,y/=v),Ct(h,u,-g),Ct(c,u,y);var m=xt([],f,h),_=xt([],f,c);i&&(Et(m,m,a),Nt(m,m,s),Et(_,_,a),Nt(_,_,s)),l.push(m),l.push(_)}return n&&l.push(l.shift()),l}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===i&&(r=function(t,e){for(var n=t.length,i=[],r=0,o=1;o<n;o++)r+=Dt(t[o-1],t[o]);var a=r/2;for(a=a<n?n:a,o=0;o<a;o++){var s=o/(a-1)*(e?n:n-1),l=Math.floor(s),u=s-l,h=void 0,c=t[l%n],p=void 0,d=void 0;e?(h=t[(l-1+n)%n],p=t[(l+1)%n],d=t[(l+2)%n]):(h=t[0===l?l:l-1],p=t[l>n-2?n-1:l+1],d=t[l>n-3?n-1:l+2]);var f=u*u,g=u*f;i.push([Ul(h[0],c[0],p[0],d[0],u,f,g),Ul(h[1],c[1],p[1],d[1],u,f,g)])}return i}(r,n)),t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}Xl.prototype.type="ring";var jl=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},ql=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new jl},e.prototype.buildPath=function(t,e){Zl(t,e,!0)},e}(Za);ql.prototype.type="polygon";var Kl=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},$l=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Kl},e.prototype.buildPath=function(t,e){Zl(t,e,!1)},e}(Za);$l.prototype.type="polyline";var Jl={},Ql=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},tu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ql},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=ts(Jl,e,this.style);n=a.x1,i=a.y1,r=a.x2,o=a.y2}else n=e.x1,i=e.y1,r=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(n,i),s<1&&(r=n*(1-s)+r*s,o=i*(1-s)+o*s),t.lineTo(r,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(Za);tu.prototype.type="line";var eu=[],nu=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function iu(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?No:Ro)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?No:Ro)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Ho:Go)(t.x1,t.cpx1,t.x2,e),(n?Ho:Go)(t.y1,t.cpy1,t.y2,e)]}var ru=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new nu},e.prototype.buildPath=function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,i),null==l||null==u?(h<1&&(Yo(n,a,r,h,eu),a=eu[1],r=eu[2],Yo(i,s,o,h,eu),s=eu[1],o=eu[2]),t.quadraticCurveTo(a,s,r,o)):(h<1&&(Bo(n,a,l,r,h,eu),a=eu[1],l=eu[2],r=eu[3],Bo(i,s,u,o,h,eu),s=eu[1],u=eu[2],o=eu[3]),t.bezierCurveTo(a,s,l,u,r,o)))},e.prototype.pointAt=function(t){return iu(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=iu(this.shape,t,!0);return At(e,e)},e}(Za);ru.prototype.type="bezier-curve";var ou=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},au=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ou},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*r+n,u*r+i),t.arc(n,i,r,o,a,!s)},e}(Za);au.prototype.type="arc";var su=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return n(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Za.prototype.getBoundingRect.call(this)},e}(Za),lu=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),uu=function(t){function e(e,n,i,r,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==i?1:i,s.y2=null==r?0:r,s.type="linear",s.global=a||!1,s}return n(e,t),e}(lu),hu=function(t){function e(e,n,i,r,o){var a=t.call(this,r)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==i?.5:i,a.type="radial",a.global=o||!1,a}return n(e,t),e}(lu),cu=[0,0],pu=[0,0],du=new In,fu=new In,gu=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new In;for(n=0;n<2;n++)this._axes[n]=new In;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,r=t.x,o=t.y,a=r+t.width,s=o+t.height;if(n[0].set(r,o),n[1].set(a,o),n[2].set(a,s),n[3].set(r,s),e)for(var l=0;l<4;l++)n[l].transform(e);In.sub(i[0],n[1],n[0]),In.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,i=!e;return du.set(1/0,1/0),fu.set(0,0),!this._intersectCheckOneSide(this,t,du,fu,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,du,fu,i,-1)&&(n=!1,i)||i||In.copy(e,n?du:fu),n},t.prototype._intersectCheckOneSide=function(t,e,n,i,r,o){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,cu),this._getProjMinMaxOnAxis(s,e._corners,pu),cu[1]<pu[0]||cu[0]>pu[1]){if(a=!1,r)return a;var u=Math.abs(pu[0]-cu[1]),h=Math.abs(cu[0]-pu[1]);Math.min(u,h)>i.len()&&(u<h?In.scale(i,l,-u*o):In.scale(i,l,h*o))}else if(n){u=Math.abs(pu[0]-cu[1]),h=Math.abs(cu[0]-pu[1]);Math.min(u,h)<n.len()&&(u<h?In.scale(n,l,u*o):In.scale(n,l,-h*o))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],r=this._origin,o=e[0].dot(i)+r[t],a=o,s=o,l=1;l<e.length;l++){var u=e[l].dot(i)+r[t];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s},t}(),yu=[],vu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return n(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Rn(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(yu)),t.union(i)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},e}(xo),mu=Math.max,_u=Math.min,xu={};function bu(t){return Za.extend(t)}var wu=function(t,e){var i=Sl(t,e);return function(t){function e(e){var n=t.call(this,e)||this;return n.applyTransform=i.applyTransform,n.buildPath=i.buildPath,n}return n(e,t),e}(bl)};function Su(t,e){return wu(t,e)}function Mu(t,e){xu[t]=e}function Iu(t){if(xu.hasOwnProperty(t))return xu[t]}function Tu(t,e,n,i){var r=Ml(t,e);return n&&("center"===i&&(n=Au(n,r.getBoundingRect())),Lu(r,n)),r}function Cu(t,e,n){var i=new Ja({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle(Au(e,r))}}});return i}function Au(t,e){var n,i=e.width/e.height,r=t.height*i;return n=r<=t.width?t.height:(r=t.width)/i,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}var Du=function(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r];o.path||o.createPathProxy(),o.shapeChanged()&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new Za(e);return a.createPathProxy(),a.buildPath=function(t){if(wl(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},a};function Lu(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}var ku=ns;function Pu(t,e,n,i,r,o,a){var s,l=!1;"function"==typeof r?(a=o,o=r,r=null):X(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u,h="update"===t,c="remove"===t;if(i&&i.ecModel){var p=i.ecModel.getUpdatePayload();u=p&&p.animation}var d=i&&i.isAnimationEnabled();if(c||e.stopAnimation("remove"),d){var f=void 0,g=void 0,y=void 0;u?(f=u.duration||0,g=u.easing||"cubicOut",y=u.delay||0):c?(f=tt((s=s||{}).duration,200),g=tt(s.easing,"cubicOut"),y=0):(f=i.getShallow(h?"animationDurationUpdate":"animationDuration"),g=i.getShallow(h?"animationEasingUpdate":"animationEasing"),y=i.getShallow(h?"animationDelayUpdate":"animationDelay")),"function"==typeof y&&(y=y(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),"function"==typeof f&&(f=f(r)),f>0?l?e.animateFrom(n,{duration:f,delay:y||0,easing:g,done:o,force:!!o||!!a,scope:t,during:a}):e.animateTo(n,{duration:f,delay:y||0,easing:g,done:o,force:!!o||!!a,setToFinal:!0,scope:t,during:a}):(e.stopAnimation(),!l&&e.attr(n),o&&o())}else e.stopAnimation(),!l&&e.attr(n),a&&a(1),o&&o()}function Ou(t,e,n,i,r,o){Pu("update",t,e,n,i,r,o)}function Ru(t,e,n,i,r,o){Pu("init",t,e,n,i,r,o)}function Nu(t,e,n,i,r,o){Bu(t)||Pu("remove",t,e,n,i,r,o)}function Eu(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),Nu(t,{style:{opacity:0}},e,n,i)}function zu(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||Eu(t,e,n,i)})):Eu(t,e,n,i)}function Bu(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if("remove"===t.animators[e].scope)return!0}return!1}function Vu(t,e){for(var n=ge([]);t&&t!==e;)ve(n,t.getLocalTransform(),n),t=t.parent;return n}function Fu(t,e,n){return e&&!k(e)&&(e=ke.getLocalTransform(e)),n&&(e=be([],e)),Rt([],t,e)}function Gu(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=Fu(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Hu(t){return!t.isGroup}function Wu(t,e,n){if(t&&e){var i,r=(i={},t.traverse((function(t){Hu(t)&&t.anid&&(i[t.anid]=t)})),i);e.traverse((function(t){if(Hu(t)&&t.anid){var e=r[t.anid];if(e){var i=o(t);t.attr(o(e)),Ou(t,i,n,ys(t).dataIndex)}}}))}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=I({},t.shape)),e}}function Yu(t,e){return O(t,(function(t){var n=t[0];n=mu(n,e.x),n=_u(n,e.x+e.width);var i=t[1];return i=mu(i,e.y),[n,i=_u(i,e.y+e.height)]}))}function Xu(t,e){var n=mu(t.x,e.x),i=_u(t.x+t.width,e.x+e.width),r=mu(t.y,e.y),o=_u(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function Uu(t,e,n){var i=I({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),T(r,n),new Ja(i)):Tu(t.replace("path://",""),i,n,"center")}function Zu(t,e,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(ju(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function ju(t,e,n,i,r,o,a,s){var l,u=n-t,h=i-e,c=a-r,p=s-o,d=qu(c,p,u,h);if((l=d)<=1e-6&&l>=-1e-6)return!1;var f=t-r,g=e-o,y=qu(f,g,u,h)/d;if(y<0||y>1)return!1;var v=qu(f,g,c,p)/d;return!(v<0||v>1)}function qu(t,e,n,i){return t*i-n*e}Mu("circle",Tl),Mu("ellipse",Al),Mu("sector",Wl),Mu("ring",Xl),Mu("polygon",ql),Mu("polyline",$l),Mu("rect",os),Mu("line",tu),Mu("bezierCurve",ru),Mu("arc",au);var Ku=Object.freeze({__proto__:null,extendShape:bu,extendPath:Su,registerShape:Mu,getShapeClass:Iu,makePath:Tu,makeImage:Cu,mergePath:Du,resizePath:Lu,subPixelOptimizeLine:function(t){return ts(t.shape,t.shape,t.style),t},subPixelOptimizeRect:function(t){return es(t.shape,t.shape,t.style),t},subPixelOptimize:ku,updateProps:Ou,initProps:Ru,removeElement:Nu,removeElementWithFadeOut:zu,isElementRemoved:Bu,getTransform:Vu,applyTransform:Fu,transformDirection:Gu,groupTransition:Wu,clipPointsByRect:Yu,clipRectByRect:Xu,createIcon:Uu,linePolygonIntersect:Zu,lineLineIntersect:ju,Group:zi,Image:Ja,Text:ls,Circle:Tl,Ellipse:Al,Sector:Wl,Ring:Xl,Polygon:ql,Polyline:$l,Rect:os,Line:tu,BezierCurve:ru,Arc:au,IncrementalDisplayable:vu,CompoundPath:su,LinearGradient:uu,RadialGradient:hu,BoundingRect:Rn,OrientedBoundingRect:gu,Point:In,Path:Za}),$u={};function Ju(t,e){for(var n=0;n<xs.length;n++){var i=xs[n],r=e[i],o=t.ensureState(i);o.style=o.style||{},o.style.text=r}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function Qu(t,e,n){var i,r=t.labelFetcher,o=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=G(t.defaultText)?t.defaultText(o,t,n):t.defaultText);for(var l={normal:i},u=0;u<xs.length;u++){var h=xs[u],c=e[h];l[h]=tt(r?r.getFormattedLabel(o,h,null,a,c&&c.get("formatter")):null,i)}return l}function th(t,e,n,i){n=n||$u;for(var r=t instanceof ls,o=!1,a=0;a<bs.length;a++){if((p=e[bs[a]])&&p.getShallow("show")){o=!0;break}}var s=r?t:t.getTextContent();if(o){r||(s||(s=new ls,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var l=Qu(n,e),u=e.normal,h=!!u.getShallow("show"),c=nh(u,i&&i.normal,n,!1,!r);c.text=l.normal,r||t.setTextConfig(ih(u,n,!1));for(a=0;a<xs.length;a++){var p,d=xs[a];if(p=e[d]){var f=s.ensureState(d),g=!!tt(p.getShallow("show"),h);if(g!==h&&(f.ignore=!g),f.style=nh(p,i&&i[d],n,!0,!r),f.style.text=l[d],!r)t.ensureState(d).textConfig=ih(p,n,!0)}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),n.enableTextSetter&&(uh(s).setLabelText=function(t){var i=Qu(n,e,t);Ju(s,i)})}else s&&(s.ignore=!0);t.dirty()}function eh(t,e){e=e||"label";for(var n={normal:t.getModel(e)},i=0;i<xs.length;i++){var r=xs[i];n[r]=t.getModel([r,e])}return n}function nh(t,e,n,i,r){var o={};return function(t,e,n,i,r){n=n||$u;var o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||$u).rich;if(n){e=e||{};for(var i=z(n),r=0;r<i.length;r++){e[i[r]]=1}}t=t.parentModel}return e}(e);if(l)for(var u in o={},l)if(l.hasOwnProperty(u)){var h=e.getModel(["rich",u]);sh(o[u]={},h,s,n,i,r,!1,!0)}o&&(t.rich=o);var c=e.get("overflow");c&&(t.overflow=c);var p=e.get("minMargin");null!=p&&(t.margin=p);sh(t,e,s,n,i,r,!0,!1)}(o,t,n,i,r),e&&I(o,e),o}function ih(t,e,n){e=e||{};var i,r={},o=t.getShallow("rotate"),a=tt(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return"outside"===(i=t.getShallow("position")||(n?null:"inside"))&&(i=e.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",r}var rh=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],oh=["align","lineHeight","width","height","tag","verticalAlign"],ah=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function sh(t,e,n,i,r,o,a,s){n=!r&&n||$u;var l=i&&i.inheritColor,u=e.getShallow("color"),h=e.getShallow("textBorderColor"),c=tt(e.getShallow("opacity"),n.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==h&&"auto"!==h||(h=l||null),o||(u=u||n.color,h=h||n.textBorderColor),null!=u&&(t.fill=u),null!=h&&(t.stroke=h);var p=tt(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=p&&(t.lineWidth=p);var d=tt(e.getShallow("textBorderType"),n.textBorderType);null!=d&&(t.lineDash=d);var f=tt(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=f&&(t.lineDashOffset=f),r||null!=c||s||(c=i&&i.defaultOpacity),null!=c&&(t.opacity=c),r||o||null==t.fill&&i.inheritColor&&(t.fill=i.inheritColor);for(var g=0;g<rh.length;g++){var y=rh[g];null!=(m=tt(e.getShallow(y),n[y]))&&(t[y]=m)}for(g=0;g<oh.length;g++){y=oh[g];null!=(m=e.getShallow(y))&&(t[y]=m)}if(null==t.verticalAlign){var v=e.getShallow("baseline");null!=v&&(t.verticalAlign=v)}if(!a||!i.disableBox){for(g=0;g<ah.length;g++){var m;y=ah[g];null!=(m=e.getShallow(y))&&(t[y]=m)}var _=e.getShallow("borderType");null!=_&&(t.borderDash=_),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!l||(t.backgroundColor=l),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!l||(t.borderColor=l)}}function lh(t,e){var n=e&&e.getModel("textStyle");return ot([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var uh=Lr();function hh(t,e,n,i){if(t){var r=uh(t);r.prevValue=r.value,r.value=n;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function ch(t,e,n,i,r){var o=uh(t);if(o.valueAnimation){var a=o.defaultInterpolatedText,s=tt(o.interpolatedValue,o.prevValue),l=o.value;(null==s?Ru:Ou)(t,{},i,e,null,(function(i){var u=Br(n,o.precision,s,l,i);o.interpolatedValue=1===i?null:u;var h=Qu({labelDataIndex:e,labelFetcher:r,defaultText:a?a(u):u+""},o.statesModels,u);Ju(t,h)}))}}var ph,dh,fh=["textStyle","color"],gh=new ls,yh=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(fh):null)},t.prototype.getFont=function(){return lh({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){return gh.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),gh.update(),gh.getBoundingRect()},t}(),vh=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],mh=qr(vh),_h=function(){function t(){}return t.prototype.getLineStyle=function(t){return mh(this,t)},t}(),xh=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],bh=qr(xh),wh=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return bh(this,t,e)},t}(),Sh=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r]},t.prototype.mergeOption=function(t,e){S(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,i=null==n?n:n[t];if(null==i&&!e){var r=this.parentModel;r&&(i=r.getShallow(t))}return i},t.prototype.getModel=function(e,n){var i=null!=e,r=i?this.parsePath(e):null;return new t(i?this._doGet(r):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(w(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!a.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&(!t[i]||null!=(n=n&&"object"==typeof n?n[t[i]]:null));i++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();Hr(Sh),ph=Sh,dh=["__\0is_clz",Xr++].join("_"),ph.prototype[dh]=!0,ph.isInstance=function(t){return!(!t||!t[dh])},L(Sh,_h),L(Sh,wh),L(Sh,$r),L(Sh,yh);var Mh=Math.round(10*Math.random());function Ih(t){return[t||"",Mh++].join("_")}function Th(t,e){return S(S({},t,!0),e,!0)}var Ch="ZH",Ah="EN",Dh=Ah,Lh={},kh={},Ph=a.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(Ch)>-1?Ch:Dh;function Oh(t,e){t=t.toUpperCase(),kh[t]=new Sh(e),Lh[t]=e}Oh(Ah,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Oh(Ch,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});var Rh=1e3,Nh=6e4,Eh=36e5,zh=864e5,Bh=31536e6,Vh={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},Fh="{yyyy}-{MM}-{dd}",Gh={year:"{yyyy}",month:"{yyyy}-{MM}",day:Fh,hour:"{yyyy}-{MM}-{dd} "+Vh.hour,minute:"{yyyy}-{MM}-{dd} "+Vh.minute,second:"{yyyy}-{MM}-{dd} "+Vh.second,millisecond:Vh.none},Hh=["year","month","day","hour","minute","second","millisecond"],Wh=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Yh(t,e){return"0000".substr(0,e-(t+="").length)+t}function Xh(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Uh(t){return t===Xh(t)}function Zh(t,e,n,i){var r=rr(t),o=r[Kh(n)](),a=r[$h(n)]()+1,s=Math.floor((a-1)/4)+1,l=r[Jh(n)](),u=r["get"+(n?"UTC":"")+"Day"](),h=r[Qh(n)](),c=(h-1)%12+1,p=r[tc(n)](),d=r[ec(n)](),f=r[nc(n)](),g=(i instanceof Sh?i:function(t){return kh[t]}(i||Ph)||kh.EN).getModel("time"),y=g.get("month"),v=g.get("monthAbbr"),m=g.get("dayOfWeek"),_=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[a-1]).replace(/{MMM}/g,v[a-1]).replace(/{MM}/g,Yh(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Yh(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,m[u]).replace(/{ee}/g,_[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Yh(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Yh(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Yh(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,Yh(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Yh(f,3)).replace(/{S}/g,f+"")}function jh(t,e){var n=rr(t),i=n[$h(e)]()+1,r=n[Jh(e)](),o=n[Qh(e)](),a=n[tc(e)](),s=n[ec(e)](),l=0===n[nc(e)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,p=c&&1===r;return p&&1===i?"year":p?"month":c?"day":h?"hour":u?"minute":l?"second":"millisecond"}function qh(t,e,n){var i="number"==typeof t?rr(t):t;switch(e=e||jh(t,n)){case"year":return i[Kh(n)]();case"half-year":return i[$h(n)]()>=6?1:0;case"quarter":return Math.floor((i[$h(n)]()+1)/4);case"month":return i[$h(n)]();case"day":return i[Jh(n)]();case"half-day":return i[Qh(n)]()/24;case"hour":return i[Qh(n)]();case"minute":return i[tc(n)]();case"second":return i[ec(n)]();case"millisecond":return i[nc(n)]()}}function Kh(t){return t?"getUTCFullYear":"getFullYear"}function $h(t){return t?"getUTCMonth":"getMonth"}function Jh(t){return t?"getUTCDate":"getDate"}function Qh(t){return t?"getUTCHours":"getHours"}function tc(t){return t?"getUTCMinutes":"getMinutes"}function ec(t){return t?"getUTCSeconds":"getSeconds"}function nc(t){return t?"getUTCSeconds":"getSeconds"}function ic(t){return t?"setUTCFullYear":"setFullYear"}function rc(t){return t?"setUTCMonth":"setMonth"}function oc(t){return t?"setUTCDate":"setDate"}function ac(t){return t?"setUTCHours":"setHours"}function sc(t){return t?"setUTCMinutes":"setMinutes"}function lc(t){return t?"setUTCSeconds":"setSeconds"}function uc(t){return t?"setUTCSeconds":"setSeconds"}function hc(t){if(!cr(t))return H(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function cc(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var pc=it,dc=/([&<>"'])/g,fc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gc(t){return null==t?"":(t+"").replace(dc,(function(t,e){return fc[e]}))}function yc(t,e,n){function i(t){return t&&ot(t)?t:"-"}function r(t){return!(null==t||isNaN(t)||!isFinite(t))}var o="time"===e,a=t instanceof Date;if(o||a){var s=o?rr(t):t;if(!isNaN(+s))return Zh(s,"yyyy-MM-dd hh:mm:ss",n);if(a)return"-"}if("ordinal"===e)return W(t)?i(t):Y(t)&&r(t)?t+"":"-";var l=hr(t);return r(l)?hc(l):W(t)?i(t):"-"}var vc=["a","b","c","d","e","f","g"],mc=function(t,e){return"{"+t+(null==e?"":e)+"}"};function _c(t,e,n){F(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=vc[o];t=t.replace(mc(a),mc(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(mc(vc[l],s),n?gc(u):u)}return t}function xc(t,e){var n=H(t)?{color:t,extraCssText:e}:t||{},i=n.color,r=n.type;e=n.extraCssText;var o=n.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+gc(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+gc(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function bc(t,e){return e=e||"transparent",H(t)?t:X(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function wc(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var Sc=P,Mc=["left","right","top","bottom","width","height"],Ic=[["width","left","right"],["height","top","bottom"]];function Tc(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild((function(l,u){var h,c,p=l.getBoundingRect(),d=e.childAt(u+1),f=d&&d.getBoundingRect();if("horizontal"===t){var g=p.width+(f?-f.x+p.x:0);(h=o+g)>i||l.newline?(o=0,h=g,a+=s+n,s=p.height):s=Math.max(s,p.height)}else{var y=p.height+(f?-f.y+p.y:0);(c=a+y)>r||l.newline?(o+=s+n,a=0,c=y,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===t?o=h+n:a=c+n)}))}var Cc=Tc;V(Tc,"vertical"),V(Tc,"horizontal");function Ac(t,e,n){n=pc(n||0);var i=e.width,r=e.height,o=Zi(t.left,i),a=Zi(t.top,r),s=Zi(t.right,i),l=Zi(t.bottom,r),u=Zi(t.width,i),h=Zi(t.height,r),c=n[2]+n[0],p=n[1]+n[3],d=t.aspect;switch(isNaN(u)&&(u=i-s-p-o),isNaN(h)&&(h=r-l-c-a),null!=d&&(isNaN(u)&&isNaN(h)&&(d>i/r?u=.8*i:h=.8*r),isNaN(u)&&(u=d*h),isNaN(h)&&(h=u/d)),isNaN(o)&&(o=i-s-u-p),isNaN(a)&&(a=r-l-h-c),t.left||t.right){case"center":o=i/2-u/2-n[3];break;case"right":o=i-u-p}switch(t.top||t.bottom){case"middle":case"center":a=r/2-h/2-n[0];break;case"bottom":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=i-p-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var f=new Rn(o+n[3],a+n[0],u,h);return f.margin=n,f}function Dc(t,e,n,i,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var l;if("raw"===s)l="group"===t.type?new Rn(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();(l=l.clone()).applyTransform(u)}var h=Ac(T({width:l.width,height:l.height},e),n,i),c=o?h.x-l.x:0,p=a?h.y-l.y:0;"raw"===s?(t.x=c,t.y=p):(t.x+=c,t.y+=p),t.markRedraw()}}function Lc(t){var e=t.layoutMode||t.constructor.layoutMode;return X(e)?e:e?{type:e}:null}function kc(t,e,n){var i=n&&n.ignoreSize;!F(i)&&(i=[i,i]);var r=a(Ic[0],0),o=a(Ic[1],1);function a(n,r){var o={},a=0,u={},h=0;if(Sc(n,(function(e){u[e]=t[e]})),Sc(n,(function(t){s(e,t)&&(o[t]=u[t]=e[t]),l(o,t)&&a++,l(u,t)&&h++})),i[r])return l(e,n[1])?u[n[2]]=null:l(e,n[2])&&(u[n[1]]=null),u;if(2!==h&&a){if(a>=2)return o;for(var c=0;c<n.length;c++){var p=n[c];if(!s(o,p)&&s(t,p)){o[p]=t[p];break}}return o}return u}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&"auto"!==t[e]}function u(t,e,n){Sc(t,(function(t){e[t]=n[t]}))}u(Ic[0],t,r),u(Ic[1],t,o)}function Pc(t){return Oc({},t)}function Oc(t,e){return e&&t&&Sc(Mc,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var Rc=Lr(),Nc=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.uid=Ih("ec_cpt_model"),r}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=Lc(this),i=n?Pc(t):{};S(t,e.getTheme().get(this.mainType)),S(t,this.getDefaultOption()),n&&kc(t,i,n)},e.prototype.mergeOption=function(t,e){S(this.option,t,!0);var n=Lc(this);n&&kc(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t[Fr])}(t))return t.defaultOption;var e=Rc(this);if(!e.defaultOption){for(var n=[],i=t;i;){var r=i.prototype.defaultOption;r&&n.push(r),i=i.superClass}for(var o={},a=n.length-1;a>=0;a--)o=S(o,n[a],!0);e.defaultOption=o}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",i=t+"Id";return Nr(this.ecModel,t,{index:this.get(n,!0),id:this.get(i,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Sh);Yr(Nc,Sh),jr(Nc),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){var i=Gr(t);e[i.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var o=Gr(n).main;t.hasSubTypes(n)&&e[o]&&(r=e[o](i))}return r}}(Nc),function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,i,r,o){if(t.length){var a=function(t){var i={},r=[];return P(t,(function(o){var a=n(i,o),s=function(t,e){var n=[];return P(t,(function(t){A(e,t)>=0&&n.push(t)})),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&r.push(o),P(s,(function(t){A(a.predecessor,t)<0&&a.predecessor.push(t);var e=n(i,t);A(e.successor,t)<0&&e.successor.push(o)}))})),{graph:i,noEntryList:r}}(i),s=a.graph,l=a.noEntryList,u={};for(P(t,(function(t){u[t]=!0}));l.length;){var h=l.pop(),c=s[h],p=!!u[h];p&&(r.call(o,h,c.originalDeps.slice()),delete u[h]),P(c.successor,p?f:d)}P(u,(function(){var t="";throw new Error(t)}))}function d(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}function f(t){u[t]=!0,d(t)}}}(Nc,(function(t){var e=[];P(Nc.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=O(e,(function(t){return Gr(t).main})),"dataset"!==t&&A(e,"dataset")<=0&&e.unshift("dataset");return e}));var Ec="";"undefined"!=typeof navigator&&(Ec=navigator.platform||"");var zc="rgba(0, 0, 0, 0.2)",Bc={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:zc,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:zc,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:zc,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:zc,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:zc,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:zc,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Ec.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Vc=ht(["tooltip","label","itemName","itemId","seriesName"]),Fc="original",Gc="arrayRows",Hc="objectRows",Wc="keyedColumns",Yc="typedArray",Xc="unknown",Uc="column",Zc="row",jc=1,qc=2,Kc=3,$c=Lr();function Jc(t,e,n){var i={},r=tp(e);if(!r||!t)return i;var o,a,s=[],l=[],u=e.ecModel,h=$c(u).datasetMap,c=r.uid+"_"+n.seriesLayoutBy;P(t=t.slice(),(function(e,n){var r=X(e)?e:t[n]={name:e};"ordinal"===r.type&&null==o&&(o=n,a=f(r)),i[r.name]=[]}));var p=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function d(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function f(t){var e=t.dimsDef;return e?e.length:1}return P(t,(function(t,e){var n=t.name,r=f(t);if(null==o){var a=p.valueWayDim;d(i[n],a,r),d(l,a,r),p.valueWayDim+=r}else if(o===e)d(i[n],0,r),d(s,0,r);else{a=p.categoryWayDim;d(i[n],a,r),d(l,a,r),p.categoryWayDim+=r}})),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function Qc(t,e,n){var i={};if(!tp(t))return i;var r,o=e.sourceFormat,a=e.dimensionsDefine;o!==Hc&&o!==Wc||P(a,(function(t,e){"name"===(X(t)?t.name:t)&&(r=e)}));var s=function(){for(var t={},i={},s=[],l=0,u=Math.min(5,n);l<u;l++){var h=np(e.data,o,e.seriesLayoutBy,a,e.startIndex,l);s.push(h);var c=h===Kc;if(c&&null==t.v&&l!==r&&(t.v=l),(null==t.n||t.n===t.v||!c&&s[t.n]===Kc)&&(t.n=l),p(t)&&s[t.n]!==Kc)return t;c||(h===qc&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function p(t){return null!=t.v&&null!=t.n}return p(t)?t:p(i)?i:null}();if(s){i.value=[s.v];var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i}function tp(t){if(!t.get("data",!0))return Nr(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Or).models[0]}function ep(t,e){return np(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function np(t,e,n,i,r,o){var a,s,l;if(Z(t))return Kc;if(i){var u=i[o];X(u)?(s=u.name,l=u.type):H(u)&&(s=u)}if(null!=l)return"ordinal"===l?jc:Kc;if(e===Gc){var h=t;if(n===Zc){for(var c=h[o],p=0;p<(c||[]).length&&p<5;p++)if(null!=(a=m(c[r+p])))return a}else for(p=0;p<h.length&&p<5;p++){var d=h[r+p];if(d&&null!=(a=m(d[o])))return a}}else if(e===Hc){var f=t;if(!s)return Kc;for(p=0;p<f.length&&p<5;p++){if((y=f[p])&&null!=(a=m(y[s])))return a}}else if(e===Wc){if(!s)return Kc;if(!(c=t[s])||Z(c))return Kc;for(p=0;p<c.length&&p<5;p++)if(null!=(a=m(c[p])))return a}else if(e===Fc){var g=t;for(p=0;p<g.length&&p<5;p++){var y,v=wr(y=g[p]);if(!F(v))return Kc;if(null!=(a=m(v[o])))return a}}function m(t){var e=H(t);return null!=t&&isFinite(t)&&""!==t?e?qc:Kc:e&&"-"!==t?jc:void 0}return Kc}var ip=ht();var rp,op,ap,sp=Lr(),lp=Lr(),up=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var i=_r(this.get("color",!0)),r=this.get("colorLayer",!0);return cp(this,sp,i,r,t,e,n)},t.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,sp)},t}();function hp(t,e,n,i){var r=_r(t.get(["aria","decal","decals"]));return cp(t,lp,r,null,e,n,i)}function cp(t,e,n,i,r,o,a){var s=e(o=o||t),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&i?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(i,a):n;if((h=h||n)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(t,e,n,i,r,o){i=i||{},this.option=null,this._theme=new Sh(i),this._locale=new Sh(r),this._optionManager=o},e.prototype.setOption=function(t,e,n){var i=gp(e);this._optionManager.setOption(t,n,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,e){return this._resetOption(t,gp(e))},e.prototype._resetOption=function(t,e){var n=!1,i=this._optionManager;if(!t||"recreate"===t){var r=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(r,e)):ap(this,r),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=i.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,e))}if(!t||"recreate"===t||"media"===t){var a=i.getMediaOption(this);a.length&&P(a,(function(t){n=!0,this._mergeOption(t,e)}),this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,i=this._componentsMap,r=this._componentsCount,o=[],a=ht(),s=e&&e.replaceMergeMainTypeMap;$c(this).datasetMap=ht(),P(t,(function(t,e){null!=t&&(Nc.hasClass(e)?e&&(o.push(e),a.set(e,!0)):n[e]=null==n[e]?w(t):S(n[e],t,!0))})),s&&s.each((function(t,e){Nc.hasClass(e)&&!a.get(e)&&(o.push(e),a.set(e,!0))})),Nc.topologicalTravel(o,Nc.getAllClassMainTypes(),(function(e){var o=function(t,e,n){var i=ip.get(e);if(!i)return n;var r=i(t);return r?n.concat(r):n}(this,e,_r(t[e])),a=i.get(e),l=a?s&&s.get(e)?"replaceMerge":"normalMerge":"replaceAll",u=Sr(a,o,l);(function(t,e,n){P(t,(function(t){var i=t.newOption;X(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,i){return e.type?e.type:n?n.subType:i.determineSubType(t,e)}(e,i,t.existing,n))}))})(u,e,Nc),n[e]=null,i.set(e,null),r.set(e,0);var h=[],c=[],p=0;P(u,(function(t,n){var i=t.existing,r=t.newOption;if(r){var o=Nc.getClass(e,t.keyInfo.subType,!0);if(i&&i.constructor===o)i.name=t.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1);else{var a=I({componentIndex:n},t.keyInfo);I(i=new o(r,this,this,a),a),t.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0)}}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(h.push(i.option),c.push(i),p++):(h.push(void 0),c.push(void 0))}),this),n[e]=h,i.set(e,c),r.set(e,p),"series"===e&&rp(this)}),this),this._seriesIndices||rp(this)},e.prototype.getOption=function(){var t=w(this.option);return P(t,(function(e,n){if(Nc.hasClass(n)){for(var i=_r(e),r=i.length,o=!1,a=r-1;a>=0;a--)i[a]&&!Ar(i[a])?o=!0:(i[a]=null,!o&&r--);i.length=r,t[n]=i}})),delete t["\0_ec_inner"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.getLocale=function(t){return this.getLocaleModel().get(t)},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var i=n[e||0];if(i)return i;if(null==e)for(var r=0;r<n.length;r++)if(n[r])return n[r]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,r=t.id,o=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=i?(n=[],P(_r(i),(function(t){a[t]&&n.push(a[t])}))):n=null!=r?dp("id",r,a):null!=o?dp("name",o,a):N(a,(function(t){return!!t})),fp(n,t)):[]},e.prototype.findComponents=function(t){var e,n,i,r,o,a=t.query,s=t.mainType,l=(n=s+"Index",i=s+"Id",r=s+"Name",!(e=a)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:s,index:e[n],id:e[i],name:e[r]}),u=l?this.queryComponents(l):N(this._componentsMap.get(s),(function(t){return!!t}));return o=fp(u,t),t.filter?N(o,t.filter):o},e.prototype.eachComponent=function(t,e,n){var i=this._componentsMap;if(G(t)){var r=e,o=t;i.each((function(t,e){for(var n=0;t&&n<t.length;n++){var i=t[n];i&&o.call(r,e,i,i.componentIndex)}}))}else for(var a=H(t)?i.get(t):X(t)?this.findComponents(t):null,s=0;a&&s<a.length;s++){var l=a[s];l&&e.call(n,l,l.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=Tr(t,null);return N(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return N(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return N(this._componentsMap.get("series").slice(),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){op(this),P(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)}),this)},e.prototype.eachRawSeries=function(t,e){P(this._componentsMap.get("series"),(function(n){n&&t.call(e,n,n.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,n){op(this),P(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===t&&e.call(n,r,i)}),this)},e.prototype.eachRawSeriesByType=function(t,e,n){return P(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return op(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){op(this);var n=[];P(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];t.call(e,r,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=ht(n)},e.prototype.restoreData=function(t){rp(this);var e=this._componentsMap,n=[];e.each((function(t,e){Nc.hasClass(e)&&n.push(e)})),Nc.topologicalTravel(n,Nc.getAllClassMainTypes(),(function(n){P(e.get(n),(function(e){!e||"series"===n&&function(t,e){if(e){var n=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}(e,t)||e.restoreData()}))}))},e.internalField=(rp=function(t){var e=t._seriesIndices=[];P(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=ht(e)},op=function(t){},void(ap=function(t,e){t.option={},t.option["\0_ec_inner"]=1,t._componentsMap=ht({series:[]}),t._componentsCount=ht();var n=e.aria;X(n)&&null==n.enabled&&(n.enabled=!0),function(t,e){var n=t.color&&!t.colorLayer;P(e,(function(e,i){"colorLayer"===i&&n||Nc.hasClass(i)||("object"==typeof e?t[i]=t[i]?S(t[i],e,!1):w(e):null==t[i]&&(t[i]=e))}))}(e,t._theme.option),S(e,Bc,!1),t._mergeOption(e,null)})),e}(Sh);function dp(t,e,n){if(F(e)){var i=ht();return P(e,(function(t){null!=t&&(null!=Tr(t,null)&&i.set(t,!0))})),N(n,(function(e){return e&&i.get(e[t])}))}var r=Tr(e,null);return N(n,(function(e){return e&&null!=r&&e[t]===r}))}function fp(t,e){return e.hasOwnProperty("subType")?N(t,(function(t){return t&&t.subType===e.subType})):t}function gp(t){var e=ht();return t&&P(_r(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}L(pp,up);var yp=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],vp=function(t){P(yp,(function(e){this[e]=B(t[e],t)}),this)},mp={},_p=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];P(mp,(function(i,r){var o=i.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},t.prototype.update=function(t,e){P(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){mp[t]=e},t.get=function(t){return mp[t]},t}(),xp=/^(min|max)?(.+)$/,bp=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(P(_r(t.series),(function(t){t&&t.data&&Z(t.data)&&st(t.data)})),P(_r(t.dataset),(function(t){t&&t.source&&Z(t.source)&&st(t.source)}))),t=w(t);var i=this._optionBackup,r=function(t,e,n){var i,r,o=[],a=t.baseOption,s=t.timeline,l=t.options,u=t.media,h=!!t.media,c=!!(l||s||a&&a.timeline);a?(r=a).timeline||(r.timeline=s):((c||h)&&(t.options=t.media=null),r=t);h&&F(u)&&P(u,(function(t){t&&t.option&&(t.query?o.push(t):i||(i=t))}));function p(t){P(e,(function(e){e(t,n)}))}return p(r),P(l,(function(t){return p(t)})),P(o,(function(t){return p(t.option)})),{baseOption:r,timelineOptions:l||[],mediaDefault:i,mediaList:o}}(t,e,!i);this._newBaseOption=r.baseOption,i?(r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],w(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=w(n[i.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,i=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var u=0,h=o.length;u<h;u++)wp(o[u].query,i,r)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&(e=s,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(l=O(s,(function(t){return w(-1===t?a.option:o[t].option)}))),this._currentMediaIndices=s,l},t}();function wp(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return P(t,(function(t,e){var n=e.match(xp);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(i[a],t,o)||(r=!1)}})),r}var Sp=P,Mp=X,Ip=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Tp(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=Ip.length;n<i;n++){var r=Ip[n],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?S(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?S(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function Cp(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,r=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,T(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function Ap(t){Cp(t,"itemStyle"),Cp(t,"lineStyle"),Cp(t,"areaStyle"),Cp(t,"label"),Cp(t,"labelLine"),Cp(t,"upperLabel"),Cp(t,"edgeLabel")}function Dp(t,e){var n=Mp(t)&&t[e],i=Mp(n)&&n.textStyle;if(i){0;for(var r=0,o=br.length;r<o;r++){var a=br[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}}function Lp(t){t&&(Ap(t),Dp(t,"label"),t.emphasis&&Dp(t.emphasis,"label"))}function kp(t){return F(t)?t:t?[t]:[]}function Pp(t){return(F(t)?t[0]:t)||{}}function Op(t,e){Sp(kp(t.series),(function(t){Mp(t)&&function(t){if(Mp(t)){Tp(t),Ap(t),Dp(t,"label"),Dp(t,"upperLabel"),Dp(t,"edgeLabel"),t.emphasis&&(Dp(t.emphasis,"label"),Dp(t.emphasis,"upperLabel"),Dp(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Tp(e),Lp(e));var n=t.markLine;n&&(Tp(n),Lp(n));var i=t.markArea;i&&Lp(i);var r=t.data;if("graph"===t.type){r=r||t.nodes;var o=t.links||t.edges;if(o&&!Z(o))for(var a=0;a<o.length;a++)Lp(o[a]);P(t.categories,(function(t){Ap(t)}))}if(r&&!Z(r))for(a=0;a<r.length;a++)Lp(r[a]);if((e=t.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)Lp(s[a])}if((n=t.markLine)&&n.data){var l=n.data;for(a=0;a<l.length;a++)F(l[a])?(Lp(l[a][0]),Lp(l[a][1])):Lp(l[a])}"gauge"===t.type?(Dp(t,"axisLabel"),Dp(t,"title"),Dp(t,"detail")):"treemap"===t.type?(Cp(t.breadcrumb,"itemStyle"),P(t.levels,(function(t){Ap(t)}))):"tree"===t.type&&Ap(t.leaves)}}(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Sp(n,(function(e){Sp(kp(t[e]),(function(t){t&&(Dp(t,"axisLabel"),Dp(t.axisPointer,"label"))}))})),Sp(kp(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;Dp(e,"axisLabel"),Dp(e&&e.axisPointer,"label")})),Sp(kp(t.calendar),(function(t){Cp(t,"itemStyle"),Dp(t,"dayLabel"),Dp(t,"monthLabel"),Dp(t,"yearLabel")})),Sp(kp(t.radar),(function(t){Dp(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),Sp(kp(t.geo),(function(t){Mp(t)&&(Lp(t),Sp(kp(t.regions),(function(t){Lp(t)})))})),Sp(kp(t.timeline),(function(t){Lp(t),Cp(t,"label"),Cp(t,"itemStyle"),Cp(t,"controlStyle",!0);var e=t.data;F(e)&&P(e,(function(t){X(t)&&(Cp(t,"label"),Cp(t,"itemStyle"))}))})),Sp(kp(t.toolbox),(function(t){Cp(t,"iconStyle"),Sp(t.feature,(function(t){Cp(t,"iconStyle")}))})),Dp(Pp(t.axisPointer),"label"),Dp(Pp(t.tooltip).axisPointer,"label")}function Rp(t){t&&P(Np,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var Np=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Ep=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],zp=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Bp(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<zp.length;n++){var i=zp[n][1],r=zp[n][0];null!=e[i]&&(e[r]=e[i])}}function Vp(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function Fp(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function Gp(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&Gp(t[n].children,e)}function Hp(t,e){Op(t,e),t.series=_r(t.series),P(t.series,(function(t){if(X(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){if(null!=t.clockWise&&(t.clockwise=t.clockWise),Vp(t.label),(r=t.data)&&!Z(r))for(var n=0;n<r.length;n++)Vp(r[n]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var i=function(t,e){for(var n=e.split(","),i=t,r=0;r<n.length&&null!=(i=i&&i[n[r]]);r++);return i}(t,"pointer.color");null!=i&&function(t,e,n,i){for(var r,o=e.split(","),a=t,s=0;s<o.length-1;s++)null==a[r=o[s]]&&(a[r]={}),a=a[r];(i||null==a[o[s]])&&(a[o[s]]=n)}(t,"itemStyle.color",i)}else if("bar"===e){var r;if(Bp(t),Bp(t.backgroundStyle),Bp(t.emphasis),(r=t.data)&&!Z(r))for(n=0;n<r.length;n++)"object"==typeof r[n]&&(Bp(r[n]),Bp(r[n]&&r[n].emphasis))}else if("sunburst"===e){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),Fp(t),Gp(t.data,Fp)}else"graph"===e||"sankey"===e?function(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&T(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),Rp(t)}})),t.dataRange&&(t.visualMap=t.dataRange),P(Ep,(function(e){var n=t[e];n&&(F(n)||(n=[n]),P(n,(function(t){Rp(t)})))}))}function Wp(t){P(t,(function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=a.map(o,(function(o,l,u){var h,c,p=a.get(e.stackedDimension,u);if(isNaN(p))return r;s?c=a.getRawIndex(u):h=a.get(e.stackedByDimension,u);for(var d=NaN,f=n-1;f>=0;f--){var g=t[f];if(s||(c=g.data.rawIndexOf(g.stackedByDimension,h)),c>=0){var y=g.data.getByRawIndex(g.stackResultDimension,c);if(p>=0&&y>0||p<=0&&y<0){p+=y,d=y;break}}}return i[0]=p,i[1]=d,i}));a.hostModel.setData(l),e.data=l}))}var Yp,Xp,Up,Zp,jp,qp=function(t){this.data=t.data||(t.sourceFormat===Wc?{}:[]),this.sourceFormat=t.sourceFormat||Xc,this.seriesLayoutBy=t.seriesLayoutBy||Uc,this.startIndex=t.startIndex||0,this.dimensionsDefine=t.dimensionsDefine,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.encodeDefine=t.encodeDefine,this.metaRawOption=t.metaRawOption};function Kp(t){return t instanceof qp}function $p(t,e,n,i){n=n||td(t);var r=e.seriesLayoutBy,o=function(t,e,n,i,r){var o,a;if(!t)return{dimensionsDefine:ed(r),startIndex:a,dimensionsDetectedCount:o};if(e===Gc){var s=t;"auto"===i||null==i?nd((function(t){null!=t&&"-"!==t&&(H(t)?null==a&&(a=1):a=0)}),n,s,10):a=Y(i)?i:i?1:0,r||1!==a||(r=[],nd((function(t,e){r[e]=null!=t?t+"":""}),n,s,1/0)),o=r?r.length:n===Zc?s.length:s[0]?s[0].length:null}else if(e===Hc)r||(r=function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e){var i=[];return P(e,(function(t,e){i.push(e)})),i}}(t));else if(e===Wc)r||(r=[],P(t,(function(t,e){r.push(e)})));else if(e===Fc){var l=wr(t[0]);o=F(l)&&l.length||1}return{startIndex:a,dimensionsDefine:ed(r),dimensionsDetectedCount:o}}(t,n,r,e.sourceHeader,e.dimensions);return new qp({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,encodeDefine:Qp(i),metaRawOption:w(e)})}function Jp(t){return new qp({data:t,sourceFormat:Z(t)?Yc:Fc})}function Qp(t){return t?ht(t):null}function td(t){var e=Xc;if(Z(t))e=Yc;else if(F(t)){0===t.length&&(e=Gc);for(var n=0,i=t.length;n<i;n++){var r=t[n];if(null!=r){if(F(r)){e=Gc;break}if(X(r)){e=Hc;break}}}}else if(X(t))for(var o in t)if(dt(t,o)&&k(t[o])){e=Wc;break}return e}function ed(t){if(t){var e=ht();return O(t,(function(t,n){var i={name:(t=X(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var r=e.get(i.name);return r?i.name+="-"+r.count++:e.set(i.name,{count:1}),i}))}}function nd(t,e,n,i){if(e===Zc)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)t(o[r],r)}}var id=function(){function t(t,e){var n=Kp(t)?t:Jp(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Yc&&(this._offset=0,this._dimSize=e,this._data=i),jp(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;jp=function(t,r,o){var a=o.sourceFormat,s=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine,h=Zp[dd(a,s)];if(I(t,h),a===Yc)t.getItem=e,t.count=i,t.fillStorage=n;else{var c=ad(a,s);t.getItem=B(c,null,r,l,u);var p=ud(a,s);t.count=B(p,null,r,l,u)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,i=this._dimSize,r=i*t,o=0;o<i;o++)e[o]=n[r+o];return e},n=function(t,e,n,i){for(var r=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],h=e-t,c=n[a],p=0;p<h;p++){var d=r[p*o+a];c[t+p]=d,d<l&&(l=d),d>u&&(u=d)}s[0]=l,s[1]=u}},i=function(){return this._data?this._data.length/this._dimSize:0};function r(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={}).arrayRows_column={pure:!0,appendData:r},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:r},t.keyedColumns={pure:!0,appendData:function(t){var e=this._data;P(t,(function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r<(t||[]).length;r++)i.push(t[r])}))}},t.original={appendData:r},t.typedArray={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Zp=t}(),t}(),rd=function(t,e,n,i){return t[i]},od=((Yp={}).arrayRows_column=function(t,e,n,i){return t[i+e]},Yp.arrayRows_row=function(t,e,n,i){i+=e;for(var r=[],o=t,a=0;a<o.length;a++){var s=o[a];r.push(s?s[i]:null)}return r},Yp.objectRows=rd,Yp.keyedColumns=function(t,e,n,i){for(var r=[],o=0;o<n.length;o++){var a=n[o].name;0;var s=t[a];r.push(s?s[i]:null)}return r},Yp.original=rd,Yp);function ad(t,e){var n=od[dd(t,e)];return n}var sd=function(t,e,n){return t.length},ld=((Xp={}).arrayRows_column=function(t,e,n){return Math.max(0,t.length-e)},Xp.arrayRows_row=function(t,e,n){var i=t[0];return i?Math.max(0,i.length-e):0},Xp.objectRows=sd,Xp.keyedColumns=function(t,e,n){var i=n[0].name;var r=t[i];return r?r.length:0},Xp.original=sd,Xp);function ud(t,e){var n=ld[dd(t,e)];return n}var hd=function(t,e,n){return null!=e?t[e]:t},cd=((Up={}).arrayRows=hd,Up.objectRows=function(t,e,n){return null!=e?t[n]:t},Up.keyedColumns=hd,Up.original=function(t,e,n){var i=wr(t);return null!=e&&i instanceof Array?i[e]:i},Up.typedArray=hd,Up);function pd(t){var e=cd[t];return e}function dd(t,e){return t===Gc?t+"_"+e:t}function fd(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r,o,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(r=s.name,o=s.index),pd(a)(i,o,r)}}}var gd=/\{@(.+?)\}/g,yd=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),l=s&&s[n.getItemVisual(t,"drawType")||"fill"],u=s&&s.stroke,h=this.mainType,c="series"===h,p=n.userOutput;return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:i,color:l,borderColor:u,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,i,r,o){e=e||"normal";var a=this.getData(n),s=this.getDataParams(t,n);(o&&(s.value=o.interpolatedValue),null!=i&&F(s.value)&&(s.value=s.value[i]),r)||(r=a.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"]));return"function"==typeof r?(s.status=e,s.dimensionIndex=i,r(s)):"string"==typeof r?_c(r,s).replace(gd,(function(e,n){var i=n.length,r="["===n.charAt(0)&&"]"===n.charAt(i-1)?+n.slice(1,i-1):n,s=fd(a,t,r);if(o&&F(o.interpolatedValue)){var l=a.getDimensionInfo(r);l&&(s=o.interpolatedValue[l.index])}return null!=s?s+"":""})):void 0},t.prototype.getRawValue=function(t,e){return fd(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function vd(t){var e,n;return X(t)?t.type&&(n=t):e=t,{markupText:e,markupFragment:n}}function md(t){return new _d(t)}var _d=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var o,a=h(this._modBy),s=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}a===l&&s===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,o=this._doReset(i)),this._modBy=l,this._modDataCount=u;var c=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,d=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!i&&(o||p<d)){var f=this._progress;if(F(f))for(var g=0;g<f.length;g++)this._doProgress(f[g],p,d,l,u);else this._doProgress(f,p,d,l,u)}this._dueIndex=d;var y=null!=this._settedOutputEnd?this._settedOutputEnd:d;0,this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,i,r){xd.reset(e,n,i,r),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:xd.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),F(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),xd=function(){var t,e,n,i,r,o={reset:function(l,u,h,c){e=l,t=u,n=h,i=c,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%r*n+Math.ceil(e/r),a=e>=t?null:o<i?o:e;return e++,a}}();function bd(t,e){var n=e&&e.type;if("ordinal"===n){var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+rr(t)),null==t||""===t?NaN:+t}var wd=ht({number:function(t){return parseFloat(t)},time:function(t){return+rr(t)},trim:function(t){return"string"==typeof t?ot(t):t}});function Sd(t){return wd.get(t)}var Md={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},Id=function(){function t(t,e){if("number"!=typeof e){var n="";0,yr(n)}this._opFn=Md[t],this._rvalFloat=hr(e)}return t.prototype.evaluate=function(t){return"number"==typeof t?this._opFn(t,this._rvalFloat):this._opFn(hr(t),this._rvalFloat)},t}(),Td=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=typeof t,i=typeof e,r="number"===n?t:hr(t),o="number"===i?e:hr(e),a=isNaN(r),s=isNaN(o);if(a&&(r=this._incomparable),s&&(o=this._incomparable),a&&s){var l="string"===n,u="string"===i;l&&(r=u?t:0),u&&(o=l?e:0)}return r<o?this._resultLT:r>o?-this._resultLT:0},t}(),Cd=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=hr(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=hr(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function Ad(t,e){return"eq"===t||"ne"===t?new Cd("eq"===t,e):dt(Md,t)?new Id(t,e):null}var Dd=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return bd(t,e)},t}();function Ld(t){var e=t.sourceFormat;if(!Ed(e)){var n="";0,yr(n)}return t.data}function kd(t){var e=t.sourceFormat,n=t.data;if(!Ed(e)){var i="";0,yr(i)}if(e===Gc){for(var r=[],o=0,a=n.length;o<a;o++)r.push(n[o].slice());return r}if(e===Hc){for(r=[],o=0,a=n.length;o<a;o++)r.push(I({},n[o]));return r}}function Pd(t,e,n){if(null!=n)return"number"==typeof n||!isNaN(n)&&!dt(e,n)?t[n]:dt(e,n)?e[n]:void 0}function Od(t){return w(t)}var Rd=ht();function Nd(t,e,n,i){var r="";e.length||yr(r),X(t)||yr(r);var o=t.type,a=Rd.get(o);a||yr(r);var s=O(e,(function(t){return function(t,e){var n=new Dd,i=t.data,r=n.sourceFormat=t.sourceFormat,o=t.startIndex,a="";t.seriesLayoutBy!==Uc&&yr(a);var s=[],l={},u=t.dimensionsDefine;if(u)P(u,(function(t,e){var n=t.name,i={index:e,name:n,displayName:t.displayName};if(s.push(i),null!=n){var r="";dt(l,n)&&yr(r),l[n]=i}}));else for(var h=0;h<t.dimensionsDetectedCount;h++)s.push({index:h});var c=ad(r,Uc);e.__isBuiltIn&&(n.getRawDataItem=function(t){return c(i,o,s,t)},n.getRawData=B(Ld,null,t)),n.cloneRawData=B(kd,null,t);var p=ud(r,Uc);n.count=B(p,null,i,o,s);var d=pd(r);n.retrieveValue=function(t,e){var n=c(i,o,s,t);return f(n,e)};var f=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=s[e];return n?d(t,e,n.name):void 0}};return n.getDimensionInfo=B(Pd,null,s,l),n.cloneAllDimensionInfo=B(Od,null,s),n}(t,a)})),l=_r(a.transform({upstream:s[0],upstreamList:s,config:w(t.config)}));return O(l,(function(t,n){var i,r="";X(t)||yr(r),t.data||yr(r),Ed(td(t.data))||yr(r);var o=e[0];if(o&&0===n&&!t.dimensions){var a=o.startIndex;a&&(t.data=o.data.slice(0,a).concat(t.data)),i={seriesLayoutBy:Uc,sourceHeader:a,dimensions:o.metaRawOption.dimensions}}else i={seriesLayoutBy:Uc,sourceHeader:0,dimensions:t.dimensions};return $p(t.data,i,null,null)}))}function Ed(t){return t===Gc||t===Hc}var zd=function(){function t(t){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[])},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,i=this._getUpstreamSourceManagers(),r=!!i.length;if(Vd(n)){var o=n,a=void 0,s=void 0,l=void 0;if(r){var u=i[0];u.prepareSource(),a=(l=u.getSource()).data,s=l.sourceFormat,e=[u._getVersionSign()]}else s=Z(a=o.get("data",!0))?Yc:Fc,e=[];var h=this._getSourceMetaRawOption(),c=l?l.metaRawOption:null;t=[$p(a,{seriesLayoutBy:tt(h.seriesLayoutBy,c?c.seriesLayoutBy:null),sourceHeader:tt(h.sourceHeader,c?c.sourceHeader:null),dimensions:tt(h.dimensions,c?c.dimensions:null)},s,o.get("encode",!0))]}else{var p=n;if(r){var d=this._applyTransform(i);t=d.sourceList,e=d.upstreamSignList}else{t=[$p(p.get("source",!0),this._getSourceMetaRawOption(),null,null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,i=n.get("transform",!0),r=n.get("fromTransformResult",!0);if(null!=r){var o="";1!==t.length&&Fd(o)}var a,s=[],l=[];return P(t,(function(t){t.prepareSource();var e=t.getSource(r||0),n="";null==r||e||Fd(n),s.push(e),l.push(t._getVersionSign())})),i?e=function(t,e,n){var i=_r(t),r=i.length,o="";r||yr(o);for(var a=0,s=r;a<s;a++)e=Nd(i[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}(i,s,n.componentIndex):null!=r&&(e=[(a=s[0],new qp({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:w(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,encodeDefine:Qp(a.encodeDefine)}))]),{sourceList:e,upstreamSignList:l}},t.prototype._isDirty=function(){if(!this._sourceList.length)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){return this._sourceList[t||0]},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Vd(t)){var e=tp(t);return e?[e.getSourceManager()]:[]}return O(function(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?Nr(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Or).models:[]}(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,i=this._sourceHost;if(Vd(i))t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=i;t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function Bd(t){t.option.transform&&st(t.option.transform)}function Vd(t){return"series"===t.mainType}function Fd(t){throw new Error(t)}function Gd(t,e){var n=t.color||"#6e7079",i=t.fontSize||12,r=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+i+"px;color:"+n+";font-weight:"+r,valueStyle:"font-size:"+a+"px;color:"+o+";font-weight:"+s}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var Hd=[0,10,20,30],Wd=["","\n","\n\n","\n\n\n"];function Yd(t,e){return e.type=t,e}function Xd(t){return dt(Ud,t.type)&&Ud[t.type]}var Ud={section:{planLayout:function(t){var e=t.blocks.length,n=e>1||e>0&&!t.noHeader,i=0;P(t.blocks,(function(t){Xd(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;e>=i&&(i=e+(!n||e&&("section"!==t.type||t.noHeader)?0:1))})),t.__gapLevelBetweenSubBlocks=i},build:function(t,e,n,i){var r=e.noHeader,o=jd(e),a=function(t,e,n,i){var r=[],o=e.blocks||[];rt(!o||F(o)),o=o||[];var a=t.orderMode;if(e.sortBlocks&&a){o=o.slice();var s={valueAsc:"asc",valueDesc:"desc"};if(dt(s,a)){var l=new Td(s[a],null);o.sort((function(t,e){return l.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===a&&o.reverse()}var u=jd(e);if(P(o,(function(e,n){var o=Xd(e).build(t,e,n>0?u.html:0,i);null!=o&&r.push(o)})),!r.length)return;return"richText"===t.renderMode?r.join(u.richText):qd(r.join(""),n)}(t,e,r?n:o.html,i);if(r)return a;var s=yc(e.header,"ordinal",t.useUTC),l=Gd(i,t.renderMode).nameStyle;return"richText"===t.renderMode?Kd(t,s,l)+o.richText+a:qd('<div style="'+l+";"+'line-height:1;">'+gc(s)+"</div>"+a,n)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,n,i){var r=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,u=e.value,h=t.useUTC;if(!o||!a){var c=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),p=o?"":yc(l,"ordinal",h),d=e.valueType,f=a?[]:F(u)?O(u,(function(t,e){return yc(t,F(d)?d[e]:d,h)})):[yc(u,F(d)?d[0]:d,h)],g=!s||!o,y=!s&&o,v=Gd(i,r),m=v.nameStyle,_=v.valueStyle;return"richText"===r?(s?"":c)+(o?"":Kd(t,p,m))+(a?"":function(t,e,n,i,r){var o=[r],a=i?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(e.join("  "),o)}(t,f,g,y,_)):qd((s?"":c)+(o?"":function(t,e,n){return'<span style="'+n+";"+(e?"margin-left:2px":"")+'">'+gc(t)+"</span>"}(p,!s,m))+(a?"":function(t,e,n,i){var r=n?"10px":"20px";return'<span style="'+(e?"float:right;margin-left:"+r:"")+";"+i+'">'+O(t,(function(t){return gc(t)})).join("&nbsp;&nbsp;")+"</span>"}(f,g,y,_)),n)}}}};function Zd(t,e,n,i,r,o){if(t){var a=Xd(t);a.planLayout(t);var s={useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:e};return a.build(s,t,0,o)}}function jd(t){var e=t.__gapLevelBetweenSubBlocks;return{html:Hd[e],richText:Wd[e]}}function qd(t,e){return'<div style="'+("margin: "+e+"px 0 0")+";"+'line-height:1;">'+t+'<div style="clear:both"></div></div>'}function Kd(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function $d(t,e){return bc(t.getData().getItemVisual(e,"style")[t.visualDrawType])}function Jd(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var Qd=function(){function t(){this.richTextStyles={},this._nextStyleNameId=pr()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var i="richText"===n?this._generateStyleName():null,r=xc({color:e,type:t,renderMode:n,markerId:i});return H(r)?r:(this.richTextStyles[i]=r.style,r.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};F(e)?P(e,(function(t){return I(n,t)})):I(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},t}();function tf(t){var e,n,i,r,o=t.series,a=t.dataIndex,s=t.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,c=o.getRawValue(a),p=F(c),d=$d(o,a);if(h>1||p&&!h){var f=function(t,e,n,i,r){var o=e.getData(),a=R(t,(function(t,e,n){var i=o.getDimensionInfo(n);return t||i&&!1!==i.tooltip&&null!=i.displayName}),!1),s=[],l=[],u=[];function h(t,e){var n=o.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(a?u.push(Yd("nameValue",{markerType:"subItem",markerColor:r,name:n.displayName,value:t,valueType:n.type})):(s.push(t),l.push(n.type)))}return i.length?P(i,(function(t){h(fd(o,n,t),t)})):P(t,h),{inlineValues:s,inlineValueTypes:l,blocks:u}}(c,o,a,u,d);e=f.inlineValues,n=f.inlineValueTypes,i=f.blocks,r=f.inlineValues[0]}else if(h){var g=l.getDimensionInfo(u[0]);r=e=fd(l,a,u[0]),n=g.type}else r=e=p?c[0]:c;var y=Cr(o),v=y&&o.name||"",m=l.getName(a),_=s?v:m;return Yd("section",{header:v,noHeader:s||!y,sortParam:r,blocks:[Yd("nameValue",{markerType:"item",markerColor:d,name:_,noName:!ot(_),value:e,valueType:n})].concat(i||[])})}var ef=Lr();function nf(t,e){return t.getName(e)||t.getId(e)}var rf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return n(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=md({count:af,reset:sf}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(ef(this).sourceManager=new zd(this)).prepareSource();var i=this.getInitialData(t,n);uf(i,this),this.dataTask.context.data=i,ef(this).dataBeforeProcessed=i,of(this),this._initSelectedMapFromData(i)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=Lc(this),i=n?Pc(t):{},r=this.subType;Nc.hasClass(r)&&(r+="Series"),S(t,e.getTheme().get(this.subType)),S(t,this.getDefaultOption()),xr(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&kc(t,i,n)},e.prototype.mergeOption=function(t,e){t=S(this.option,t,!0),this.fillDataTextStyle(t.data);var n=Lc(this);n&&kc(this.option,t,n);var i=ef(this).sourceManager;i.dirty(),i.prepareSource();var r=this.getInitialData(t,e);uf(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,ef(this).dataBeforeProcessed=r,of(this),this._initSelectedMapFromData(r)},e.prototype.fillDataTextStyle=function(t){if(t&&!Z(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&xr(t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=cf(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return ef(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=cf(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}ef(this).data=t},e.prototype.getSource=function(){return ef(this).sourceManager.getSource()},e.prototype.getRawData=function(){return ef(this).dataBeforeProcessed},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return tf({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){if(a.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var i=this.ecModel,r=up.prototype.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n)for(var i=this.getData(e),r=0;r<t.length;r++){var o=nf(i,t[r]);n[o]=!1,this._selectedDataIndicesMap[o]=-1}},e.prototype.toggleSelect=function(t,e){for(var n=[],i=0;i<t.length;i++)n[0]=t[i],this.isSelected(t[i],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,e=z(t),n=[],i=0;i<e.length;i++){var r=t[e[i]];r>=0&&n.push(r)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;return n&&n[nf(this.getData(e),t)]||!1},e.prototype._innerSelect=function(t,e){var n,i,r=this.option.selectedMode,o=e.length;if(r&&o)if("multiple"===r)for(var a=this.option.selectedMap||(this.option.selectedMap={}),s=0;s<o;s++){var l=e[s];a[h=nf(t,l)]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(l)}else if("single"===r||!0===r){var u=e[o-1],h=nf(t,u);this.option.selectedMap=((n={})[h]=!0,n),this._selectedDataIndicesMap=((i={})[h]=t.getRawIndex(u),i)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(n){var i=t.getRawDataItem(n);"object"==typeof i&&i.selected&&e.push(n)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return Nc.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.useColorPaletteOnData=!1,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Nc);function of(t){var e=t.name;Cr(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),i=[];return P(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)})),i.join(" ")}(t)||e)}function af(t){return t.model.getRawData().count()}function sf(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),lf}function lf(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function uf(t,e){P(r(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,V(hf,e))}))}function hf(t,e){var n=cf(t);return n&&n.setOutputEnd((e||this).count()),e}function cf(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}L(rf,yd),L(rf,up),Yr(rf,Nc);var pf=function(){function t(){this.group=new zi,this.uid=Ih("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){},t.prototype.updateLayout=function(t,e,n,i){},t.prototype.updateVisual=function(t,e,n,i){},t.prototype.blurSeries=function(t,e){},t}();function df(){var t=Lr();return function(e){var n=t(e),i=e.pipelineContext,r=!!n.large,o=!!n.progressiveRender,a=n.large=!(!i||!i.large),s=n.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}Hr(pf),jr(pf);var ff=Lr(),gf=df(),yf=function(){function t(){this.group=new zi,this.uid=Ih("viewChart"),this.renderTask=md({plan:_f,reset:xf}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){},t.prototype.highlight=function(t,e,n,i){mf(t.getData(),i,"emphasis")},t.prototype.downplay=function(t,e,n,i){mf(t.getData(),i,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},t.markUpdateMethod=function(t,e){ff(t).updateMethod=e},t.protoInitialize=void(t.prototype.type="chart"),t}();function vf(t,e,n){t&&("emphasis"===e?Hs:Ws)(t,n)}function mf(t,e,n){var i=Dr(t,e),r=e&&null!=e.highlightKey?function(t){var e=ms[t];return null==e&&vs<=32&&(e=ms[t]=vs++),e}(e.highlightKey):null;null!=i?P(_r(i),(function(e){vf(t.getItemGraphicEl(e),n,r)})):t.eachItemGraphicEl((function(t){vf(t,n,r)}))}function _f(t){return gf(t.model)}function xf(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&ff(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,n,i,r),bf[l]}Hr(yf),jr(yf);var bf={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},wf="\0__throttleOriginMethod",Sf="\0__throttleRate",Mf="\0__throttleType";function If(t,e,n){var i,r,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,t.apply(o,a||[])}e=e||0;var p=function(){for(var t=[],p=0;p<arguments.length;p++)t[p]=arguments[p];i=(new Date).getTime(),o=this,a=t;var d=s||e,f=s||n;s=null,r=i-(f?l:u)-d,clearTimeout(h),f?h=setTimeout(c,d):r>=0?c():h=setTimeout(c,-r),l=i};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(t){s=t},p}function Tf(t,e,n,i){var r=t[e];if(r){var o=r[wf]||r,a=r[Mf];if(r[Sf]!==n||a!==i){if(null==n||!i)return t[e]=o;(r=t[e]=If(o,n,"debounce"===i))[wf]=o,r[Mf]=i,r[Sf]=n}return r}}var Cf=Lr(),Af={itemStyle:qr(xh,!0),lineStyle:qr(vh,!0)},Df={lineStyle:"stroke",itemStyle:"fill"};function Lf(t,e){var n=t.visualStyleMapper||Af[e];return n||(console.warn("Unkown style type '"+e+"'."),Af.itemStyle)}function kf(t,e){var n=t.visualDrawType||Df[e];return n||(console.warn("Unkown style type '"+e+"'."),"fill")}var Pf={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=t.getModel(i),o=Lf(t,i)(r),a=r.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);var s=kf(t,i),l=o[s],u=G(l)?l:null;if(o[s]&&!u||(o[s]=t.getColorFromPalette(t.name,null,e.getSeriesCount()),n.setVisual("colorFromPalette",!0)),n.setVisual("style",o),n.setVisual("drawType",s),!e.isSeriesFiltered(t)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var i=t.getDataParams(n),r=I({},o);r[s]=u(i),e.setItemVisual(n,"style",r)}}}},Of=new Sh,Rf={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=Lf(t,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[i]){Of.option=n[i];var a=r(Of);I(t.ensureUniqueItemVisual(e,"style"),a),Of.option.decal&&(t.setItemVisual(e,"decal",Of.option.decal),Of.option.decal.dirty=!0),o in a&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},Nf={performRawSeries:!0,overallReset:function(t){var e=ht();t.eachSeries((function(t){if(t.useColorPaletteOnData){var n=e.get(t.type);n||(n={},e.set(t.type,n)),Cf(t).scope=n}})),t.eachSeries((function(e){if(e.useColorPaletteOnData&&!t.isSeriesFiltered(e)){var n=e.getRawData(),i={},r=e.getData(),o=Cf(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=kf(e,a);r.each((function(t){var e=r.getRawIndex(t);i[e]=t})),n.each((function(t){var a=i[t];if(r.getItemVisual(a,"colorFromPalette")){var l=r.ensureUniqueItemVisual(a,"style"),u=n.getName(t)||t+"",h=n.count();l[s]=e.getColorFromPalette(u,o,h)}}))}}))}},Ef=Math.PI;var zf=function(){function t(t,e,n,i){this._stageTaskMap=ht(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,o=t.get("large")&&i>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=ht();t.eachSeries((function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;P(this._allHandlers,(function(i){var r=t.get(i.uid)||t.set(i.uid,{}),o="";rt(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,r,e,n),i.overallReset&&this._createOverallStageTask(i,r,e,n)}),this)},t.prototype.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,this._pipe(e,r)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,i){i=i||{};var r=!1,o=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}P(t,(function(t,s){if(!i.visualType||i.visualType===t.visualType){var l=o._stageTaskMap.get(t.uid),u=l.seriesTaskMap,h=l.overallTask;if(h){var c,p=h.agentStubMap;p.each((function(t){a(i,t)&&(t.dirty(),c=!0)})),c&&h.dirty(),o.updatePayload(h,n);var d=o.getPerformArgs(h,i.block);p.each((function(t){t.perform(d)})),h.perform(d)&&(r=!0)}else u&&u.each((function(s,l){a(i,s)&&s.dirty();var u=o.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(u)&&(r=!0)}))}})),this.unfinished=r||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,i){var r=this,o=e.seriesTaskMap,a=e.seriesTaskMap=ht(),s=t.seriesType,l=t.getTargetSeries;function u(e){var s=e.uid,l=a.set(s,o&&o.get(s)||md({plan:Hf,reset:Wf,count:Uf}));l.context={model:e,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:r},r._pipe(e,l)}t.createOnAllSeries?n.eachRawSeries(u):s?n.eachRawSeriesByType(s,u):l&&l(n,i).each(u)},t.prototype._createOverallStageTask=function(t,e,n,i){var r=this,o=e.overallTask=e.overallTask||md({reset:Bf});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:r};var a=o.agentStubMap,s=o.agentStubMap=ht(),l=t.seriesType,u=t.getTargetSeries,h=!0,c=!1,p="";function d(t){var e=t.uid,n=s.set(e,a&&a.get(e)||(c=!0,md({reset:Vf,onDirty:Gf})));n.context={model:t,overallProgress:h},n.agent=o,n.__block=h,r._pipe(t,n)}rt(!t.createOnAllSeries,p),l?n.eachRawSeriesByType(l,d):u?u(n,i).each(d):(h=!1,P(n.getSeries(),d)),c&&o.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},t.wrapStageHandler=function(t,e){return G(t)&&(t={overallReset:t,seriesType:Zf(t)}),t.uid=Ih("stageHandler"),e&&(t.visualType=e),t},t}();function Bf(t){t.overallReset(t.ecModel,t.api,t.payload)}function Vf(t){return t.overallProgress&&Ff}function Ff(){this.agent.dirty(),this.getDownstream().dirty()}function Gf(){this.agent&&this.agent.dirty()}function Hf(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Wf(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=_r(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?O(e,(function(t,e){return Xf(e)})):Yf}var Yf=Xf(0);function Xf(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function Uf(t){return t.data.count()}function Zf(t){jf=null;try{t(qf,Kf)}catch(t){}return jf}var jf,qf={},Kf={};function $f(t,e){for(var n in e.prototype)t[n]=ft}$f(qf,pp),$f(Kf,vp),qf.eachSeriesByType=qf.eachRawSeriesByType=function(t){jf=t},qf.eachComponent=function(t){"series"===t.mainType&&t.subType&&(jf=t.subType)};var Jf=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Qf={color:Jf,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Jf]},tg="#B9B8CE",eg="#100C2A",ng=function(){return{axisLine:{lineStyle:{color:tg}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},ig=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],rg={darkMode:!0,color:ig,backgroundColor:eg,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:tg}},textStyle:{color:tg},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:tg}},dataZoom:{borderColor:"#71708A",textStyle:{color:tg},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:tg}},timeline:{lineStyle:{color:tg},label:{color:tg},controlStyle:{color:tg,borderColor:tg}},calendar:{itemStyle:{color:eg},dayLabel:{color:tg},monthLabel:{color:tg},yearLabel:{color:tg}},timeAxis:ng(),logAxis:ng(),valueAxis:ng(),categoryAxis:ng(),line:{symbol:"circle"},graph:{color:ig},gauge:{title:{color:tg},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:tg},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};function og(t){H(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var e=t;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}rg.categoryAxis.splitLine.show=!1;var ag=ht(),sg=function(t,e,n){var i;if(F(e))i=e;else if(e.svg)i=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}];else{var r=e.geoJson||e.geoJSON;r&&!e.features&&(n=e.specialAreas,e=r),i=[{type:"geoJSON",source:e,specialAreas:n}]}return P(i,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");var n=ug[e];n(t)})),ag.set(t,i)},lg=function(t){return ag.get(t)},ug={geoJSON:function(t){var e=t.source;t.geoJSON=H(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=og(t.source)}},hg=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},i={};if(H(t)){var r=Gr(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var o=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};P(t,(function(t,r){for(var s=!1,l=0;l<o.length;l++){var u=o[l],h=r.lastIndexOf(u);if(h>0&&h===r.length-u.length){var c=r.slice(0,h);"data"!==c&&(e.mainType=c,e[u.toLowerCase()]=t,s=!0)}}a.hasOwnProperty(r)&&(n[r]=t,s=!0),s||(i[r]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:i}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,o,"mainType")&&u(s,o,"subType")&&u(s,o,"index","componentIndex")&&u(s,o,"name")&&u(s,o,"id")&&u(l,r,"name")&&u(l,r,"dataIndex")&&u(l,r,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,i,r));function u(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),cg={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendSymbol&&n.setVisual("legendSymbol",t.legendSymbol),t.hasSymbolVisual){var i=t.get("symbol"),r=t.get("symbolSize"),o=t.get("symbolKeepAspect"),a=t.get("symbolRotate"),s=G(i),l=G(r),u=G(a),h=s||l||u,c=!s&&i?i:t.defaultSymbol,p=l?null:r,d=u?null:a;if(n.setVisual({legendSymbol:t.legendSymbol||c,symbol:c,symbolSize:p,symbolKeepAspect:o,symbolRotate:d}),!e.isSeriesFiltered(t))return{dataEach:h?function(e,n){var o=t.getRawValue(n),h=t.getDataParams(n);s&&e.setItemVisual(n,"symbol",i(o,h)),l&&e.setItemVisual(n,"symbolSize",r(o,h)),u&&e.setItemVisual(n,"symbolRotate",a(o,h))}:null}}}};function pg(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n);default:0}}function dg(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}function fg(t,e,n,i){switch(n){case"color":t.ensureUniqueItemVisual(e,"style")[t.getVisual("drawType")]=i,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,i);break;default:0}}var gg=2*Math.PI,yg=Ca.CMD,vg=["top","right","bottom","left"];function mg(t,e,n,i,r){var o=n.width,a=n.height;switch(t){case"top":i.set(n.x+o/2,n.y-e),r.set(0,-1);break;case"bottom":i.set(n.x+o/2,n.y+a+e),r.set(0,1);break;case"left":i.set(n.x-e,n.y+a/2),r.set(-1,0);break;case"right":i.set(n.x+o+e,n.y+a/2),r.set(1,0)}}function _g(t,e,n,i,r,o,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s),h=(a/=u)*n+t,c=(s/=u)*n+e;if(Math.abs(i-r)%gg<1e-4)return l[0]=h,l[1]=c,u-n;if(o){var p=i;i=Pa(r),r=Pa(p)}else i=Pa(i),r=Pa(r);i>r&&(r+=gg);var d=Math.atan2(s,a);if(d<0&&(d+=gg),d>=i&&d<=r||d+gg>=i&&d+gg<=r)return l[0]=h,l[1]=c,u-n;var f=n*Math.cos(i)+t,g=n*Math.sin(i)+e,y=n*Math.cos(r)+t,v=n*Math.sin(r)+e,m=(f-a)*(f-a)+(g-s)*(g-s),_=(y-a)*(y-a)+(v-s)*(v-s);return m<_?(l[0]=f,l[1]=g,Math.sqrt(m)):(l[0]=y,l[1]=v,Math.sqrt(_))}function xg(t,e,n,i,r,o,a,s){var l=r-t,u=o-e,h=n-t,c=i-e,p=Math.sqrt(h*h+c*c),d=(l*(h/=p)+u*(c/=p))/p;s&&(d=Math.min(Math.max(d,0),1)),d*=p;var f=a[0]=t+d*h,g=a[1]=e+d*c;return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}function bg(t,e,n,i,r,o,a){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i);var s=t+n,l=e+i,u=a[0]=Math.min(Math.max(r,t),s),h=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var wg=[];function Sg(t,e,n){var i=bg(e.x,e.y,e.width,e.height,t.x,t.y,wg);return n.set(wg[0],wg[1]),i}function Mg(t,e,n){for(var i,r,o=0,a=0,s=0,l=0,u=1/0,h=e.data,c=t.x,p=t.y,d=0;d<h.length;){var f=h[d++];1===d&&(s=o=h[d],l=a=h[d+1]);var g=u;switch(f){case yg.M:o=s=h[d++],a=l=h[d++];break;case yg.L:g=xg(o,a,h[d],h[d+1],c,p,wg,!0),o=h[d++],a=h[d++];break;case yg.C:g=Vo(o,a,h[d++],h[d++],h[d++],h[d++],h[d],h[d+1],c,p,wg),o=h[d++],a=h[d++];break;case yg.Q:g=Xo(o,a,h[d++],h[d++],h[d],h[d+1],c,p,wg),o=h[d++],a=h[d++];break;case yg.A:var y=h[d++],v=h[d++],m=h[d++],_=h[d++],x=h[d++],b=h[d++];d+=1;var w=!!(1-h[d++]);i=Math.cos(x)*m+y,r=Math.sin(x)*_+v,d<=1&&(s=i,l=r),g=_g(y,v,_,x,x+b,w,(c-y)*_/m+y,p,wg),o=Math.cos(x+b)*m+y,a=Math.sin(x+b)*_+v;break;case yg.R:g=bg(s=o=h[d++],l=a=h[d++],h[d++],h[d++],c,p,wg);break;case yg.Z:g=xg(o,a,s,l,c,p,wg,!0),o=s,a=l}g<u&&(u=g,n.set(wg[0],wg[1]))}return u}var Ig=new In,Tg=new In,Cg=new In,Ag=new In,Dg=new In;function Lg(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var r=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||vg,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,h=t.getComputedTransform(),c=h&&be([],h),p=e.get("length2")||0;u&&Cg.copy(u);for(var d=0;d<a.length;d++){mg(a[d],0,s,Ig,Ag),In.scaleAndAdd(Tg,Ig,Ag,p),Tg.transform(c);var f=t.getBoundingRect(),g=u?u.distance(Tg):t instanceof Za?Mg(Tg,t.path,Cg):Sg(Tg,f,Cg);g<l&&(l=g,Tg.transform(h),Cg.transform(h),Cg.toArray(o[0]),Tg.toArray(o[1]),Ig.toArray(o[2]))}Og(o,e.get("minTurnAngle")),n.setShape({points:o})}}}var kg=[],Pg=new In;function Og(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Ig.fromArray(t[0]),Tg.fromArray(t[1]),Cg.fromArray(t[2]),In.sub(Ag,Ig,Tg),In.sub(Dg,Cg,Tg);var n=Ag.len(),i=Dg.len();if(!(n<.001||i<.001)){Ag.scale(1/n),Dg.scale(1/i);var r=Ag.dot(Dg);if(Math.cos(e)<r){var o=xg(Tg.x,Tg.y,Cg.x,Cg.y,Ig.x,Ig.y,kg,!1);Pg.fromArray(kg),Pg.scaleAndAdd(Dg,o/Math.tan(Math.PI-e));var a=Cg.x!==Tg.x?(Pg.x-Tg.x)/(Cg.x-Tg.x):(Pg.y-Tg.y)/(Cg.y-Tg.y);if(isNaN(a))return;a<0?In.copy(Pg,Tg):a>1&&In.copy(Pg,Cg),Pg.toArray(t[1])}}}}function Rg(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,Ig.fromArray(t[0]),Tg.fromArray(t[1]),Cg.fromArray(t[2]),In.sub(Ag,Tg,Ig),In.sub(Dg,Cg,Tg);var i=Ag.len(),r=Dg.len();if(!(i<.001||r<.001))if(Ag.scale(1/i),Dg.scale(1/r),Ag.dot(e)<Math.cos(n)){var o=xg(Tg.x,Tg.y,Cg.x,Cg.y,Ig.x,Ig.y,kg,!1);Pg.fromArray(kg);var a=Math.PI/2,s=a+Math.acos(Dg.dot(e))-n;if(s>=a)In.copy(Pg,Cg);else{Pg.scaleAndAdd(Dg,o/Math.tan(Math.PI/2-s));var l=Cg.x!==Tg.x?(Pg.x-Tg.x)/(Cg.x-Tg.x):(Pg.y-Tg.y)/(Cg.y-Tg.y);if(isNaN(l))return;l<0?In.copy(Pg,Tg):l>1&&In.copy(Pg,Cg)}Pg.toArray(t[1])}}}function Ng(t,e,n,i){var r="normal"===n,o=r?t:t.ensureState(n);o.ignore=e;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?t.useStyle(s):o.style=s}function Eg(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=Lt(i[0],i[1]),o=Lt(i[1],i[2]);if(!r||!o)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*n,s=Ot([],i[1],i[0],a/r),l=Ot([],i[1],i[2],a/o),u=Ot([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var h=1;h<i.length;h++)t.lineTo(i[h][0],i[h][1])}function zg(t,e,n){var i=t.getTextGuideLine(),r=t.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<bs.length;l++){var u=bs[l],h=e[u],c="normal"===u;if(h){var p=h.get("show");if((c?s:tt(r.states[u]&&r.states[u].ignore,s))||!tt(p,a)){var d=c?i:i&&i.states.normal;d&&(d.ignore=!0);continue}i||(i=new $l,t.setTextGuideLine(i),c||!s&&a||Ng(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),Ng(i,!1,u,h)}}if(i){T(i.style,n),i.style.fill=null;var f=o.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=f||!1,i.buildPath=Eg}}else i&&t.removeTextGuideLine()}function Bg(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},i=0;i<xs.length;i++){var r=xs[i];n[r]=t.getModel([r,e])}return n}function Vg(t,e,n,i,r,o){var a=t.length;if(!(a<2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var s,l=0,u=!1,h=0,c=0;c<a;c++){var p=t[c],d=p.rect;(s=d[e]-l)<0&&(d[e]-=s,p.label[e]-=s,u=!0),h+=Math.max(-s,0),l=d[e]+d[n]}h>0&&o&&x(-h/a,0,a);var f,g,y=t[0],v=t[a-1];return m(),f<0&&b(-f,.8),g<0&&b(g,.8),m(),_(f,g,1),_(g,f,-1),m(),f<0&&w(-f),g<0&&w(g),u}function m(){f=y.rect[e]-i,g=r-v.rect[e]-v.rect[n]}function _(t,e,n){if(t<0){var i=Math.min(e,-t);if(i>0){x(i*n,0,a);var r=i+t;r<0&&b(-r*n,1)}else b(-t*n,1)}}function x(n,i,r){0!==n&&(u=!0);for(var o=i;o<r;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function b(i,r){for(var o=[],s=0,l=1;l<a;l++){var u=t[l-1].rect,h=Math.max(t[l].rect[e]-u[e]-u[n],0);o.push(h),s+=h}if(s){var c=Math.min(Math.abs(i)/s,r);if(i>0)for(l=0;l<a-1;l++){x(o[l]*c,0,l+1)}else for(l=a-1;l>0;l--){x(-(o[l-1]*c),l,a)}}}function w(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),i=0;i<a-1;i++)if(e>0?x(n,0,i+1):x(-n,a-i-1,a),(t-=n)<=0)return}}function Fg(t,e,n,i){return Vg(t,"y","height",e,n,i)}function Gg(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function Hg(t,e){var n=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Gg(i&&i.shape.points)}}var Wg=["align","verticalAlign","width","height","fontSize"],Yg=new ke,Xg=Lr(),Ug=Lr();function Zg(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null!=e[r]&&(t[r]=e[r])}}var jg=["x","y","rotation"],qg=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,i,r){var o=i.style,a=i.__hostTarget.textConfig||{},s=i.getComputedTransform(),l=i.getBoundingRect().plain();Rn.applyTransform(l,l,s),s?Yg.setLocalTransform(s):(Yg.x=Yg.y=Yg.rotation=Yg.originX=Yg.originY=0,Yg.scaleX=Yg.scaleY=1);var u,h=i.__hostTarget;if(h){u=h.getBoundingRect().plain();var c=h.getComputedTransform();Rn.applyTransform(u,u,c)}var p=u&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:n,dataIndex:t,dataType:e,layoutOption:r,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Yg.x,y:Yg.y,rotation:Yg.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:a.position,attachedRot:a.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(G(i)||z(i).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var r=t.getTextContent(),o=ys(t);r&&!r.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,r,i)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(t,e){return function(){Lg(t,e)}}for(var r=0;r<this._labelList.length;r++){var o=this._labelList[r],a=o.label,s=a.__hostTarget,l=o.defaultAttr,u=void 0;u=(u="function"==typeof o.layoutOption?o.layoutOption(Hg(o,s)):o.layoutOption)||{},o.computedLayoutOption=u;var h=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*h:l.attachedRot,offset:[u.dx||0,u.dy||0]});var c=!1;if(null!=u.x?(a.x=Zi(u.x,e),a.setStyle("x",0),c=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=u.y?(a.y=Zi(u.y,n),a.setStyle("y",0),c=!0):(a.y=l.y,a.setStyle("y",l.style.y)),u.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),c=!1)}Xg(a).needsUpdateLabelLine=c,a.rotation=null!=u.rotate?u.rotate*h:l.rotation;for(var d=0;d<Wg.length;d++){var f=Wg[d];a.setStyle(f,null!=u[f]?u[f]:l.style[f])}if(u.draggable){if(a.draggable=!0,a.cursor="move",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",i(s,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e,n=t.getWidth(),i=t.getHeight(),r=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new gu(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:u,localRect:a,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return e}(this._labelList),o=N(r,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),a=N(r,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));Vg(o,"x","width",0,n,e),Fg(a,0,i),function(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var n=new Rn(0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var r=0;r<t.length;r++){var o=t[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var c=o.obb,p=!1,d=0;d<e.length;d++){var f=e[d];if(n.intersect(f.rect)){if(a&&f.axisAligned){p=!0;break}if(f.obb||(f.obb=new gu(f.localRect,f.transform)),c||(c=new gu(s,l)),c.intersect(f.obb)){p=!0;break}}}p?(i(u),h&&i(h)):(u.attr("ignore",o.defaultAttr.ignore),h&&h.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}(N(r,(function(t){return t.layoutOption.hideOverlap})))},t.prototype.processLabelsOverall=function(){var t=this;P(this._chartViewList,(function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,r=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore)return!0;var o=!i,a=e.getTextContent();!o&&a&&(o=Xg(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),r&&t._animateLabels(e,n)}))}))},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=ys(t),r=i.dataIndex;if(n&&null!=r){var o=e.getData(i.dataType),a=o.getItemModel(r),s={},l=o.getItemVisual(r,"style"),u=o.getVisual("drawType");s.stroke=l[u];var h=a.getModel("labelLine");zg(t,Bg(a),s),Lg(t,h)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Bu(t)){var r=(d=Xg(n)).oldLayout,o=ys(t),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},l=e.getData(o.dataType);if(r){n.attr(r);var u=t.prevStates;u&&(A(u,"select")>=0&&n.attr(d.oldLayoutSelect),A(u,"emphasis")>=0&&n.attr(d.oldLayoutEmphasis)),Ou(n,s,e,a)}else if(n.attr(s),!uh(n).valueAnimation){var h=tt(n.style.opacity,1);n.style.opacity=0,Ru(n,{style:{opacity:h}},e,a)}if(d.oldLayout=s,n.states.select){var c=d.oldLayoutSelect={};Zg(c,s,jg),Zg(c,n.states.select,jg)}if(n.states.emphasis){var p=d.oldLayoutEmphasis={};Zg(p,s,jg),Zg(p,n.states.emphasis,jg)}ch(n,a,l,e,e)}if(i&&!i.ignore&&!i.invisible){r=(d=Ug(i)).oldLayout;var d,f={points:i.shape.points};r?(i.attr({shape:r}),Ou(i,{shape:f},e)):(i.setShape(f),i.style.strokePercent=0,Ru(i,{style:{strokePercent:1}},e)),d.oldLayout=f}},t}();function Kg(t,e){function n(e,n){var i=[];return e.eachComponent({mainType:"series",subType:t,query:n},(function(t){i.push(t.seriesIndex)})),i}P([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(t){e(t[0],(function(e,i,r){e=I({},e),r.dispatchAction(I(e,{type:t[1],seriesIndex:n(i,e)}))}))}))}function $g(t,e,n,i,r){var o=t+e;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,i=r.selected,a=0;a<i.length;a++)if(i[a].seriesIndex===e){var s=t.getData(),l=Dr(s,r.fromActionPayload);n.trigger(o,{type:o,seriesId:t.id,name:F(l)?s.getName(l[0]):s.getName(l),selected:I({},t.option.selectedMap)})}}))}function Jg(t,e,n){for(var i;t&&(!e(t)||(i=t,!n));)t=t.__hostTarget||t.parent;return i}var Qg=Math.round(9*Math.random()),ty=function(){function t(){this._id="__ec_inner_"+Qg++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return"function"==typeof Object.defineProperty?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),ey=Za.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),ny=Za.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),iy=Za.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),p=Math.cos(u),d=.6*a,f=.7*a;t.moveTo(n-h,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+h-c*d,l+s+p*d,n,i-f,n,i),t.bezierCurveTo(n,i-f,n-h+c*d,l+s+p*d,n-h,l+s),t.closePath()}}),ry=Za.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),oy={line:function(t,e,n,i,r){r.x=t,r.y=e+i/2-1,r.width=n,r.height=2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},ay={};P({line:os,rect:os,roundRect:os,square:os,circle:Tl,diamond:ny,pin:iy,arrow:ry,triangle:ey},(function(t,e){ay[e]=new t}));var sy=Za.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=Xn(t,e,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if("none"!==i){var r=ay[i];r||(r=ay[i="rect"]),oy[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function ly(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):n.fill=t,this.markRedraw()}}function uy(t,e,n,i,r,o,a){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?Cu(t.slice(8),new Rn(e,n,i,r),a?"center":"cover"):0===t.indexOf("path://")?Tu(t.slice(7),{},new Rn(e,n,i,r),a?"center":"cover"):new sy({shape:{symbolType:t,x:e,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=ly,o&&s.setColor(o),s}function hy(t,e,n){for(var i="radial"===e.type?function(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}(t,e,n):function(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,r,a)}(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function cy(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function py(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:Y(t)?[t]:F(t)?t:null):null}var dy=new Ca(!0);function fy(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function gy(t){var e=t.fill;return null!=e&&"none"!==e}function yy(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function vy(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function my(t,e,n){var i=to(e.image,e.__image,n);if(no(i)){var r=t.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix){var o=new DOMMatrix;o.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),o.scaleSelf(e.scaleX||1,e.scaleY||1),o.translateSelf(e.x||0,e.y||0),r.setTransform(o)}return r}}var _y=["shadowBlur","shadowOffsetX","shadowOffsetY"],xy=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function by(t,e,n,i,r){var o=!1;if(!i&&e===(n=n||{}))return!1;(i||e.opacity!==n.opacity)&&(o||(My(t,r),o=!0),t.globalAlpha=null==e.opacity?vo.opacity:e.opacity),(i||e.blend!==n.blend)&&(o||(My(t,r),o=!0),t.globalCompositeOperation=e.blend||vo.blend);for(var a=0;a<_y.length;a++){var s=_y[a];(i||e[s]!==n[s])&&(o||(My(t,r),o=!0),t[s]=t.dpr*(e[s]||0))}return(i||e.shadowColor!==n.shadowColor)&&(o||(My(t,r),o=!0),t.shadowColor=e.shadowColor||vo.shadowColor),o}function wy(t,e,n,i,r){var o=Iy(e,r.inHover),a=i?null:n&&Iy(n,r.inHover)||{};if(o===a)return!1;var s=by(t,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(My(t,r),s=!0),t.fillStyle=o.fill),(i||o.stroke!==a.stroke)&&(s||(My(t,r),s=!0),t.strokeStyle=o.stroke),(i||o.opacity!==a.opacity)&&(s||(My(t,r),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(My(t,r),s=!0),t.lineWidth=l)}for(var u=0;u<xy.length;u++){var h=xy[u],c=h[0];(i||o[c]!==a[c])&&(s||(My(t,r),s=!0),t[c]=o[c]||h[1])}return s}function Sy(t,e){var n=e.transform,i=t.dpr||1;n?t.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):t.setTransform(i,0,0,i,0,0)}function My(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Iy(t,e){return e&&t.__hoverStyle||t.style}function Ty(t,e){Cy(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Cy(t,e,n,i){var r=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~ei.REDARAW_BIT,void(e.__isRendered=!1);var o=e.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if(a&&!cy(o,a)||(a&&a.length&&(My(t,n),t.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(My(t,n),t.save(),function(t,e,n){for(var i=!1,r=0;r<t.length;r++){var o=t[r];i=i||o.isZeroArea(),Sy(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=i}(o,t,n),s=!0),n.prevElClipPaths=o),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var h,c,p=e instanceof Za&&e.autoBatch&&function(t){var e=gy(t),n=fy(t);return!(t.lineDash||!(+e^+n)||e&&"string"!=typeof t.fill||n&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);s||(h=r,c=u.transform,h&&c?h[0]!==c[0]||h[1]!==c[1]||h[2]!==c[2]||h[3]!==c[3]||h[4]!==c[4]||h[5]!==c[5]:h||c)?(My(t,n),Sy(t,e)):p||My(t,n);var d=Iy(e,n.inHover);e instanceof Za?(1!==n.lastDrawType&&(l=!0,n.lastDrawType=1),wy(t,e,u,l,n),p&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,i){var r=fy(n),o=gy(n),a=n.strokePercent,s=a<1,l=!e.path;e.silent&&!s||!l||e.createPathProxy();var u=e.path||dy;if(!i){var h=n.fill,c=n.stroke,p=o&&!!h.colorStops,d=r&&!!c.colorStops,f=o&&!!h.image,g=r&&!!c.image,y=void 0,v=void 0,m=void 0,_=void 0,x=void 0;(p||d)&&(x=e.getBoundingRect()),p&&(y=e.__dirty?hy(t,h,x):e.__canvasFillGradient,e.__canvasFillGradient=y),d&&(v=e.__dirty?hy(t,c,x):e.__canvasStrokeGradient,e.__canvasStrokeGradient=v),f&&(m=e.__dirty||!e.__canvasFillPattern?my(t,h,e):e.__canvasFillPattern,e.__canvasFillPattern=m),g&&(_=e.__dirty||!e.__canvasStrokePattern?my(t,c,e):e.__canvasStrokePattern,e.__canvasStrokePattern=m),p?t.fillStyle=y:f&&(m?t.fillStyle=m:o=!1),d?t.strokeStyle=v:g&&(_?t.strokeStyle=_:r=!1)}var b=n.lineDash&&n.lineWidth>0&&py(n.lineDash,n.lineWidth),w=n.lineDashOffset,S=!!t.setLineDash,M=e.getGlobalScale();if(u.setScale(M[0],M[1],e.segmentIgnoreThreshold),b){var I=n.strokeNoScale&&e.getLineScale?e.getLineScale():1;I&&1!==I&&(b=O(b,(function(t){return t/I})),w/=I)}var T=!0;(l||e.__dirty&Za.SHAPE_CHANGED_BIT||b&&!S&&r)&&(u.setDPR(t.dpr),s?u.setContext(null):(u.setContext(t),T=!1),u.reset(),b&&!S&&(u.setLineDash(b),u.setLineDashOffset(w)),e.buildPath(u,e.shape,i),u.toStatic(),e.pathUpdated()),T&&u.rebuildPath(t,s?a:1),b&&S&&(t.setLineDash(b),t.lineDashOffset=w),i||(n.strokeFirst?(r&&vy(t,n),o&&yy(t,n)):(o&&yy(t,n),r&&vy(t,n))),b&&S&&t.setLineDash([])}(t,e,d,p),p&&(n.batchFill=d.fill||"",n.batchStroke=d.stroke||"")):e instanceof qa?(3!==n.lastDrawType&&(l=!0,n.lastDrawType=3),wy(t,e,u,l,n),function(t,e,n){var i=n.text;if(null!=i&&(i+=""),i){t.font=n.font||En,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var r=void 0;if(t.setLineDash){var o=n.lineDash&&n.lineWidth>0&&py(n.lineDash,n.lineWidth),a=n.lineDashOffset;if(o){var s=n.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(o=O(o,(function(t){return t/s})),a/=s),t.setLineDash(o),t.lineDashOffset=a,r=!0}}n.strokeFirst?(fy(n)&&t.strokeText(i,n.x,n.y),gy(n)&&t.fillText(i,n.x,n.y)):(gy(n)&&t.fillText(i,n.x,n.y),fy(n)&&t.strokeText(i,n.x,n.y)),r&&t.setLineDash([])}}(t,e,d)):e instanceof Ja?(2!==n.lastDrawType&&(l=!0,n.lastDrawType=2),function(t,e,n,i,r){by(t,Iy(e,r.inHover),n&&Iy(n,r.inHover),i,r)}(t,e,u,l,n),function(t,e,n){var i=e.__image=to(n.image,e.__image,e,e.onload);if(i&&no(i)){var r=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=i.width/i.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=i.width,s=i.height),n.sWidth&&n.sHeight){var u=n.sx||0,h=n.sy||0;t.drawImage(i,u,h,n.sWidth,n.sHeight,r,o,a,s)}else if(n.sx&&n.sy){var c=a-(u=n.sx),p=s-(h=n.sy);t.drawImage(i,u,h,c,p,r,o,a,s)}else t.drawImage(i,r,o,a,s)}}(t,e,d)):e instanceof vu&&(4!==n.lastDrawType&&(l=!0,n.lastDrawType=4),function(t,e,n){var i=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=i.length;o<a;o++){(h=i[o]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Cy(t,h,s,o===a-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}for(var l=0,u=r.length;l<u;l++){var h;(h=r[l]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Cy(t,h,s,l===u-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),p&&i&&My(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var Ay=new ty,Dy=new Ee(100),Ly=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ky(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;t.dirty&&Ay.delete(t);var o=Ay.get(t);if(o)return o;var a=T(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(t){for(var e,o=[n],s=!0,l=0;l<Ly.length;++l){var u=a[Ly[l]],h=typeof u;if(null!=u&&!F(u)&&"string"!==h&&"number"!==h&&"boolean"!==h){s=!1;break}o.push(u)}if(s){e=o.join(",")+(r?"-svg":"");var c=Dy.get(e);c&&(r?t.svgElement=c:t.image=c)}var p,d=Oy(a.dashArrayX),f=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if("number"==typeof t){var e=Math.ceil(t);return[e,e]}var n=O(t,(function(t){return Math.ceil(t)}));return t.length%2?n.concat(n):n}(a.dashArrayY),g=Py(a.symbol),y=(b=d,O(b,(function(t){return Ry(t)}))),v=Ry(f),m=!r&&C(),_=r&&i.painter.createSVGElement("g"),x=function(){for(var t=1,e=0,n=y.length;e<n;++e)t=fr(t,y[e]);var i=1;for(e=0,n=g.length;e<n;++e)i=fr(i,g[e].length);t*=i;var r=v*y.length*g.length;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}();var b;m&&(m.width=x.width*n,m.height=x.height*n,p=m.getContext("2d"));(function(){p&&(p.clearRect(0,0,m.width,m.height),a.backgroundColor&&(p.fillStyle=a.backgroundColor,p.fillRect(0,0,m.width,m.height)));for(var t=0,e=0;e<f.length;++e)t+=f[e];if(t<=0)return;var o=-v,s=0,l=0,u=0;for(;o<x.height;){if(s%2==0){for(var h=l/2%g.length,c=0,y=0,b=0;c<2*x.width;){var w=0;for(e=0;e<d[u].length;++e)w+=d[u][e];if(w<=0)break;if(y%2==0){var S=.5*(1-a.symbolSize),M=c+d[u][y]*S,I=o+f[s]*S,T=d[u][y]*a.symbolSize,C=f[s]*a.symbolSize,A=b/2%g[h].length;D(M,I,T,C,g[h][A])}c+=d[u][y],++b,++y===d[u].length&&(y=0)}++u===d.length&&(u=0)}o+=f[s],++l,++s===f.length&&(s=0)}function D(t,e,o,s,l){var u=r?1:n,h=uy(l,t*u,e*u,o*u,s*u,a.color,a.symbolKeepAspect);r?_.appendChild(i.painter.paintOne(h)):Ty(p,h)}})(),s&&Dy.put(e,m||_);t.image=m,t.svgElement=_,t.svgWidth=x.width,t.svgHeight=x.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/n,Ay.set(t,s),t.dirty=!1,s}function Py(t){if(!t||0===t.length)return[["rect"]];if("string"==typeof t)return[[t]];for(var e=!0,n=0;n<t.length;++n)if("string"!=typeof t[n]){e=!1;break}if(e)return Py([t]);var i=[];for(n=0;n<t.length;++n)"string"==typeof t[n]?i.push([t[n]]):i.push(t[n]);return i}function Oy(t){if(!t||0===t.length)return[[0,0]];if("number"==typeof t)return[[r=Math.ceil(t),r]];for(var e=!0,n=0;n<t.length;++n)if("number"!=typeof t[n]){e=!1;break}if(e)return Oy([t]);var i=[];for(n=0;n<t.length;++n)if("number"==typeof t[n]){var r=Math.ceil(t[n]);i.push([r,r])}else{(r=O(t[n],(function(t){return Math.ceil(t)}))).length%2==1?i.push(r.concat(r)):i.push(r)}return i}function Ry(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}var Ny=rt,Ey=P,zy=G,By=X,Vy=A,Fy="undefined"!=typeof window,Gy=2e3,Hy=4500,Wy={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:Gy,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:Hy,ARIA:6e3,DECAL:7e3}},Yy=/^[a-zA-Z0-9_]+$/,Xy="__connectUpdateStatus";function Uy(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return jy(this,t,e);bv(this.id)}}function Zy(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return jy(this,t,e)}}function jy(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),Ft.prototype[e].apply(t,n)}var qy,Ky,$y,Jy,Qy,tv,ev,nv,iv,rv,ov,av,sv,lv,uv,hv,cv,pv,dv,fv,gv,yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Ft),vv=yv.prototype;vv.on=Zy("on"),vv.off=Zy("off");var mv=function(t){function e(e,n,i){var r=t.call(this,new hg)||this;r._chartsViews=[],r._chartsMap={},r._componentsViews=[],r._componentsMap={},r._pendingActions=[],i=i||{},"string"==typeof n&&(n=Dv[n]),r._dom=e;var o="canvas",a=!1,s=r._zr=Hi(e,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,useDirtyRect:null==i.useDirtyRect?a:i.useDirtyRect});r._throttledZrFlush=If(B(s.flush,s),17),(n=w(n))&&Hp(n,!0),r._theme=n,r._locale=function(t){if(H(t)){var e=Lh[t.toUpperCase()]||{};return t===Ch||t===Ah?w(e):S(w(e),w(Lh.EN),!1)}return S(w(t),w(Lh.EN),!1)}(i.locale||Ph),r._coordSysMgr=new _p;var l=r._api=cv(r);function u(t,e){return t.__prio-e.__prio}return ci(Av,u),ci(Mv,u),r._scheduler=new zf(r,l,Mv,Av),r._messageCenter=new yv,r._labelManager=new qg,r._initEvents(),r.resize=B(r.resize,r),s.animation.on("frame",r._onframe,r),rv(s,r),ov(s,r),st(r),r}return n(e,t),e.prototype._onframe=function(){if(!this._disposed){gv(this);var t=this._scheduler;if(this.__optionUpdated){var e=this.__optionUpdated.silent;this.__flagInMainProcess=!0,qy(this),Jy.update.call(this),this._zr.flush(),this.__flagInMainProcess=!1,this.__optionUpdated=!1,nv.call(this,e),iv.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),tv(this,i),t.performVisualTasks(i),uv(this,this._model,r,"remain"),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.setOption=function(t,e,n){if(this._disposed)bv(this.id);else{var i,r,o;if(By(e)&&(n=e.lazyUpdate,i=e.silent,r=e.replaceMerge,o=e.transition,e=e.notMerge),this.__flagInMainProcess=!0,!this._model||e){var a=new bp(this._api),s=this._theme,l=this._model=new pp;l.scheduler=this._scheduler,l.init(null,null,null,s,this._locale,a)}this._model.setOption(t,{replaceMerge:r},Iv),dv(this,o),n?(this.__optionUpdated={silent:i},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(qy(this),Jy.update.call(this),this._zr.flush(),this.__optionUpdated=!1,this.__flagInMainProcess=!1,nv.call(this,i),iv.call(this,i))}},e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Fy&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){if(a.canvasSupported)return(t=I({},t||{})).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},e.prototype.getSvgDataURL=function(){if(a.svgSupported){var t=this._zr;return P(t.storage.getDisplayList(),(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;Ey(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Ey(i,(function(t){t.group.ignore=!1})),o}bv(this.id)},e.prototype.getConnectedDataURL=function(t){if(this._disposed)bv(this.id);else if(a.canvasSupported){var e="svg"===t.type,n=this.group,i=Math.min,r=Math.max,o=1/0;if(Pv[n]){var s=o,l=o,u=-1/0,h=-1/0,c=[],p=t&&t.pixelRatio||1;P(kv,(function(o,a){if(o.group===n){var p=e?o.getZr().painter.getSvgDom().innerHTML:o.getRenderedCanvas(w(t)),d=o.getDom().getBoundingClientRect();s=i(d.left,s),l=i(d.top,l),u=r(d.right,u),h=r(d.bottom,h),c.push({dom:p,left:d.left,top:d.top})}}));var d=(u*=p)-(s*=p),f=(h*=p)-(l*=p),g=C(),y=Hi(g,{renderer:e?"svg":"canvas"});if(y.resize({width:d,height:f}),e){var v="";return Ey(c,(function(t){var e=t.left-s,n=t.top-l;v+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),y.painter.getSvgRoot().innerHTML=v,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}return t.connectedBackgroundColor&&y.add(new os({shape:{x:0,y:0,width:d,height:f},style:{fill:t.connectedBackgroundColor}})),Ey(c,(function(t){var e=new Ja({style:{x:t.left*p-s,y:t.top*p-l,image:t.dom}});y.add(e)})),y.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,e){return Qy(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return Qy(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){var n;if(!this._disposed)return P(Pr(this._model,t),(function(t,i){i.indexOf("Models")>=0&&P(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n=n||!!r.containPoint(e);else if("seriesModels"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}else 0}),this)}),this),!!n;bv(this.id)},e.prototype.getVisual=function(t,e){var n=Pr(this._model,t,{defaultMainType:"series"}),i=n.seriesModel;var r=i.getData(),o=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?r.indexOfRawIndex(n.dataIndex):null;return null!=o?pg(r,o,e):dg(r,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,n,i=this;Ey(xv,(function(t){var e=function(e){var n,r=i.getModel(),o=e.target,a="globalout"===t;if(a?n={}:o&&Jg(o,(function(t){var e=ys(t);if(e&&null!=e.dataIndex){var i=e.dataModel||r.getSeriesByIndex(e.seriesIndex);return n=i&&i.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return n=I({},e.eventData),!0}),!0),n){var s=n.componentType,l=n.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=n.seriesIndex);var u=s&&null!=l&&r.getComponent(s,l),h=u&&i["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];0,n.event=e,n.type=t,i._$eventProcessor.eventInfo={targetEl:o,packedEvent:n,model:u,view:h},i.trigger(t,n)}};e.zrEventfulCallAtLast=!0,i._zr.on(t,e,i)})),Ey(Sv,(function(t,e){i._messageCenter.on(e,(function(t){this.trigger(e,t)}),i)})),Ey(["selectchanged"],(function(t){i._messageCenter.on(t,(function(e){this.trigger(t,e)}),i)})),t=this._messageCenter,e=this,n=this._api,t.on("selectchanged",(function(t){var i=n.getModel();t.isFromClick?($g("map","selectchanged",e,i,t),$g("pie","selectchanged",e,i,t)):"select"===t.fromAction?($g("map","selected",e,i,t),$g("pie","selected",e,i,t)):"unselect"===t.fromAction&&($g("map","unselected",e,i,t),$g("pie","unselected",e,i,t))}))},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?bv(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)bv(this.id);else{this._disposed=!0,Er(this.getDom(),Nv,"");var t=this._api,e=this._model;Ey(this._componentsViews,(function(n){n.dispose(e,t)})),Ey(this._chartsViews,(function(n){n.dispose(e,t)})),this._zr.dispose(),delete kv[this.id]}},e.prototype.resize=function(t){if(this._disposed)bv(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this.__flagInMainProcess=!0,n&&qy(this),Jy.update.call(this,{type:"resize",animation:{duration:0}}),this.__flagInMainProcess=!1,nv.call(this,i),iv.call(this,i)}}},e.prototype.showLoading=function(t,e){if(this._disposed)bv(this.id);else if(By(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Lv[t]){var n=Lv[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},e.prototype.hideLoading=function(){this._disposed?bv(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=I({},t);return e.type=Sv[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)bv(this.id);else if(By(e)||(e={silent:!!e}),wv[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var n=e.silent;ev.call(this,t,n);var i=e.flush;i?this._zr.flush():!1!==i&&a.browser.weChat&&this._throttledZrFlush(),nv.call(this,n),iv.call(this,n)}},e.prototype.updateLabelLayout=function(){var t=this._labelManager;t.updateLayoutConfig(this._api),t.layout(this._api),t.processLabelsOverall()},e.prototype.appendData=function(t){if(this._disposed)bv(this.id);else{var e=t.seriesIndex,n=this.getModel().getSeriesByIndex(e);0,n.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){for(var e=[],n=t.currentStates,i=0;i<n.length;i++){var r=n[i];"emphasis"!==r&&"blur"!==r&&"select"!==r&&e.push(r)}t.selected&&t.states.select&&e.push("select"),2===t.hoverState&&t.states.emphasis?e.push("emphasis"):1===t.hoverState&&t.states.blur&&e.push("blur"),t.useStates(e)}function e(t,e){if(!t.preventAutoZ){var n=t.get("z"),i=t.get("zlevel");e.group.traverse((function(t){if(!t.isGroup){null!=n&&(t.z=n),null!=i&&(t.zlevel=i);var e=t.getTextContent(),r=t.getTextGuideLine();if(e&&(e.z=t.z,e.zlevel=t.zlevel,e.z2=t.z2+2),r){var o=t.textGuideLineConfig&&t.textGuideLineConfig.showAbove;r.z=t.z,r.zlevel=t.zlevel,r.z2=t.z2+(o?1:-1)}}}))}}function i(t,e){e.group.traverse((function(t){if(!Bu(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function r(e,n){var i=e.getModel("stateAnimation"),r=e.isAnimationEnabled(),o=i.get("duration"),a=o>0?{duration:o,delay:i.get("delay"),easing:i.get("easing")}:null;n.group.traverse((function(e){if(e.states&&e.states.emphasis){if(Bu(e))return;if(e instanceof Za&&function(t){var e=_s(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}(e),e.__dirty){var n=e.prevStates;n&&e.useStates(n)}if(r){e.stateTransition=a;var i=e.getTextContent(),o=e.getTextGuideLine();i&&(i.stateTransition=a),o&&(o.stateTransition=a)}e.__dirty&&t(e)}}))}qy=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),Ky(t,!0),Ky(t,!1),e.plan()},Ky=function(t,e){for(var n=t._model,i=t._scheduler,r=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l<r.length;l++)r[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u="_ec_"+t.id+"_"+t.type,h=!l&&o[u];if(!h){var c=Gr(t.type),p=e?pf.getClass(c.main,c.sub):yf.getClass(c.sub);0,(h=new p).init(n,s),o[u]=h,r.push(h),a.add(h.group)}t.__viewId=h.__id=u,h.__alive=!0,h.__model=t,h.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&i.prepareView(h,t,n,s)}e?n.eachComponent((function(t,e){"series"!==t&&u(e)})):n.eachSeries(u);for(l=0;l<r.length;){var h=r[l];h.__alive?l++:(!e&&h.renderTask.dispose(),a.remove(h.group),h.dispose(n,s),r.splice(l,1),o[h.__id]===h&&delete o[h.__id],h.__id=h.group.__ecComponentInfo=null)}},$y=function(t,e,n,i,r){var o=t._model;if(o.setUpdatePayload(n),i){var a={};a[i+"Id"]=n[i+"Id"],a[i+"Index"]=n[i+"Index"],a[i+"Name"]=n[i+"Name"];var s={mainType:i,query:a};r&&(s.subType=r);var l,u=n.excludeSeriesId;null!=u&&(l=ht(),Ey(_r(u),(function(t){var e=Tr(t,null);null!=e&&l.set(e,!0)}))),o&&o.eachComponent(s,(function(e){l&&null!=l.get(e.id)||(al(n)&&!n.notBlur?e instanceof rf&&function(t,e,n){if(al(e)){var i=e.type===ws,r=t.seriesIndex,o=t.getData(e.dataType),a=Dr(o,e);a=(F(a)?a[0]:a)||0;var s=o.getItemGraphicEl(a);if(!s)for(var l=o.count(),u=0;!s&&u<l;)s=o.getItemGraphicEl(u++);if(s){var h=ys(s);qs(r,h.focus,h.blurScope,n,i)}else{var c=t.get(["emphasis","focus"]),p=t.get(["emphasis","blurScope"]);null!=c&&qs(r,c,p,n,i)}}}(e,n,t._api):ol(n)&&e instanceof rf&&(!function(t,e,n){if(ol(e)){var i=e.dataType,r=Dr(t.getData(i),e);F(r)||(r=[r]),t[e.type===Ts?"toggleSelect":e.type===Ms?"select":"unselect"](r,i)}}(e,n,t._api),Ks(e),fv(t)),h(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId]))}),t)}else Ey([].concat(t._componentsViews).concat(t._chartsViews),h);function h(i){i&&i.__alive&&i[e]&&i[e](i.__model,o,t._api,n)}},Jy={prepareAndUpdate:function(t){qy(this),Jy.update.call(this,t)},update:function(t){var e=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,o=this._scheduler;if(e){e.setUpdatePayload(t),o.restoreData(e,t),o.performSeriesTasks(e),r.create(e,n),o.performDataProcessorTasks(e,t),tv(this,e),r.update(e,n),av(e),o.performVisualTasks(e,t),sv(this,e,n,t);var s=e.get("backgroundColor")||"transparent",l=e.get("darkMode");if(a.canvasSupported)i.setBackgroundColor(s),null!=l&&"auto"!==l&&i.setDarkMode(l);else{var u=qe(s);s=an(u,"rgb"),0===u[3]&&(s="transparent")}hv(e,n)}},updateTransform:function(t){var e=this,n=this._model,i=this._api;if(n){n.setUpdatePayload(t);var r=[];n.eachComponent((function(o,a){if("series"!==o){var s=e.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,n,i,t);l&&l.update&&r.push(s)}else r.push(s)}}));var o=ht();n.eachSeries((function(r){var a=e._chartsMap[r.__viewId];if(a.updateTransform){var s=a.updateTransform(r,n,i,t);s&&s.update&&o.set(r.uid,1)}else o.set(r.uid,1)})),av(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0,dirtyMap:o}),uv(this,n,i,t,o),hv(n,this._api)}},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),yf.markUpdateMethod(t,"updateView"),av(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),sv(this,this._model,this._api,t),hv(e,this._api))},updateVisual:function(t){var e=this,n=this._model;n&&(n.setUpdatePayload(t),n.eachSeries((function(t){t.getData().clearAllVisual()})),yf.markUpdateMethod(t,"updateVisual"),av(n),this._scheduler.performVisualTasks(n,t,{visualType:"visual",setDirty:!0}),n.eachComponent((function(i,r){if("series"!==i){var o=e.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,n,e._api,t)}})),n.eachSeries((function(i){e._chartsMap[i.__viewId].updateVisual(i,n,e._api,t)})),hv(n,this._api))},updateLayout:function(t){Jy.update.call(this,t)}},Qy=function(t,e,n,i){if(t._disposed)bv(t.id);else{for(var r,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=Pr(o,n),l=0;l<a.length;l++){var u=a[l];if(u[e]&&null!=(r=u[e](o,s,i)))return r}0}},tv=function(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,n[t.__viewId])}))},ev=function(t,e){var n=this,i=this.getModel(),r=t.type,o=t.escapeConnect,a=wv[r],s=a.actionInfo,l=(s.update||"update").split(":"),u=l.pop(),h=null!=l[0]&&Gr(l[0]);this.__flagInMainProcess=!0;var c=[t],p=!1;t.batch&&(p=!0,c=O(t.batch,(function(e){return(e=T(I({},e),t)).batch=null,e})));var d,f=[],g=ol(t),y=al(t)||g;if(Ey(c,(function(t){(d=(d=a.action(t,n._model,n._api))||I({},t)).type=s.event||d.type,f.push(d),y?($y(n,u,t,"series"),fv(n)):h&&$y(n,u,t,h.main,h.sub)})),"none"===u||y||h||(this.__optionUpdated?(qy(this),Jy.update.call(this,t),this.__optionUpdated=!1):Jy[u].call(this,t)),d=p?{type:s.event||r,escapeConnect:o,batch:f}:f[0],this.__flagInMainProcess=!1,!e){var v=this._messageCenter;if(v.trigger(d.type,d),g){var m={type:"selectchanged",escapeConnect:o,selected:$s(i),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};v.trigger(m.type,m)}}},nv=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();ev.call(this,n,t)}},iv=function(t){!t&&this.trigger("updated")},rv=function(t,e){t.on("rendered",(function(n){e.trigger("rendered",n),!t.animation.isFinished()||e.__optionUpdated||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},ov=function(t,e){t.on("mouseover",(function(t){var n=Jg(t.target,rl);if(n){var i=ys(n);qs(i.seriesIndex,i.focus,i.blurScope,e._api,!0),function(t,e){!js(t,e)&&!t.__highByOuter&&Bs(t,ks)}(n,t),fv(e)}})).on("mouseout",(function(t){var n=Jg(t.target,rl);if(n){var i=ys(n);qs(i.seriesIndex,i.focus,i.blurScope,e._api,!1),function(t,e){!js(t,e)&&!t.__highByOuter&&Bs(t,Ps)}(n,t),fv(e)}})).on("click",(function(t){var n=Jg(t.target,(function(t){return null!=ys(t).dataIndex}),!0);if(n){var i=n.selected?"unselect":"select",r=ys(n);e._api.dispatchAction({type:i,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}}))},av=function(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))},sv=function(t,e,n,i){lv(t,e,n,i),Ey(t._chartsViews,(function(t){t.__alive=!1})),uv(t,e,n,i),Ey(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},lv=function(t,n,o,a,s){Ey(s||t._componentsViews,(function(t){var s=t.__model;i(s,t),t.render(s,n,o,a),e(s,t),r(s,t)}))},uv=function(t,n,o,s,l){var u=t._scheduler,h=t._labelManager;h.clearLabels();var c=!1;n.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var r=n.renderTask;u.updatePayload(r,s),i(e,n),l&&l.get(e.uid)&&r.dirty(),r.perform(u.getPerformArgs(r))&&(c=!0),e.__transientTransitionOpt=null,n.group.silent=!!e.get("silent"),function(t,e){var n=t.get("blendMode")||null;0;e.group.traverse((function(t){t.isGroup||(t.style.blend=n),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.style.blend=n}))}))}(e,n),Ks(e),h.addLabelsOfSeries(n)})),u.unfinished=c||u.unfinished,h.updateLayoutConfig(o),h.layout(o),h.processLabelsOverall(),n.eachSeries((function(n){var i=t._chartsMap[n.__viewId];e(n,i),r(n,i)})),function(t,e){var n=t._zr.storage,i=0;n.traverse((function(t){t.isGroup||i++})),i>e.get("hoverLayerThreshold")&&!a.node&&!a.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}(t,n)},hv=function(t,e){Ey(Cv,(function(n){n(t,e)}))},fv=function(t){t.__needsUpdateStatus=!0,t.getZr().wakeUp()},gv=function(e){e.__needsUpdateStatus&&(e.getZr().storage.traverse((function(e){Bu(e)||t(e)})),e.__needsUpdateStatus=!1)},cv=function(t){return new(function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},i.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},i.prototype.enterEmphasis=function(e,n){Hs(e,n),fv(t)},i.prototype.leaveEmphasis=function(e,n){Ws(e,n),fv(t)},i.prototype.enterBlur=function(e){Ys(e),fv(t)},i.prototype.leaveBlur=function(e){Xs(e),fv(t)},i.prototype.enterSelect=function(e){Us(e),fv(t)},i.prototype.leaveSelect=function(e){Zs(e),fv(t)},i.prototype.getModel=function(){return t.getModel()},i.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},i.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},i}(vp))(t)},pv=function(t){function e(t,e){for(var n=0;n<t.length;n++){t[n][Xy]=e}}Ey(Sv,(function(n,i){t._messageCenter.on(i,(function(n){if(Pv[t.group]&&0!==t[Xy]){if(n&&n.escapeConnect)return;var i=t.makeActionFromEvent(n),r=[];Ey(kv,(function(e){e!==t&&e.group===t.group&&r.push(e)})),e(r,0),Ey(r,(function(t){1!==t[Xy]&&t.dispatchAction(i)})),e(r,2)}}))}))},dv=function(t,e){var n=t._model;P(_r(e),(function(t){var e,i=t.from,r=t.to;null==r&&yr(e);var o={includeMainTypes:["series"],enableAll:!1,enableNone:!1},a=i?Pr(n,i,o):null,s=Pr(n,r,o).seriesModel;null==s&&(e=""),a&&a.seriesModel!==s&&(e=""),null!=e&&yr(e),s.__transientTransitionOpt={from:i?i.dimension:null,to:r.dimension,dividingMethod:t.dividingMethod}}))}}(),e}(Ft),_v=mv.prototype;_v.on=Uy("on"),_v.off=Uy("off"),_v.one=function(t,e,n){var i=this;gr(),this.on.call(this,t,(function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e&&e.apply&&e.apply(this,r),i.off(t,n)}),n)};var xv=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function bv(t){0}var wv={},Sv={},Mv=[],Iv=[],Tv=[],Cv=[],Av=[],Dv={},Lv={},kv={},Pv={},Ov=+new Date-0,Rv=+new Date-0,Nv="_echarts_instance_";function Ev(t){Pv[t]=!1}var zv=Ev;function Bv(t){return kv[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,Nv)]}function Vv(t,e){Dv[t]=e}function Fv(t){Vy(Iv,t)<0&&Iv.push(t)}function Gv(t,e){qv(Mv,t,e,2e3)}function Hv(t){Vy(Tv,t)<0&&t&&Tv.push(t)}function Wv(t){Vy(Cv,t)<0&&t&&Cv.push(t)}function Yv(t,e,n){"function"==typeof e&&(n=e,e="");var i=By(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Sv[e]||(Ny(Yy.test(i)&&Yy.test(e)),wv[i]||(wv[i]={action:n,actionInfo:t}),Sv[e]=i)}function Xv(t,e){_p.register(t,e)}function Uv(t,e){qv(Av,t,e,1e3,"layout")}function Zv(t,e){qv(Av,t,e,3e3,"visual")}var jv=[];function qv(t,e,n,i,r){if((zy(e)||By(e))&&(n=e,e=i),!(Vy(jv,n)>=0)){jv.push(n);var o=zf.wrapStageHandler(n,r);o.__prio=e,o.__raw=n,t.push(o)}}function Kv(t,e){Lv[t]=e}function $v(t,e,n){sg(t,e,n)}var Jv=function(t){var e=(t=w(t)).type,n="";e||yr(n);var i=e.split(":");2!==i.length&&yr(n);var r=!1;"echarts"===i[0]&&(e=i[1],r=!0),t.__isBuiltIn=r,Rd.set(e,t)};Zv(Gy,Pf),Zv(Hy,Rf),Zv(Hy,Nf),Zv(Gy,cg),Zv(Hy,{createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){var n=t.getItemModel(e),i=n.getShallow("symbol",!0),r=n.getShallow("symbolSize",!0),o=n.getShallow("symbolRotate",!0),a=n.getShallow("symbolKeepAspect",!0);null!=i&&t.setItemVisual(e,"symbol",i),null!=r&&t.setItemVisual(e,"symbolSize",r),null!=o&&t.setItemVisual(e,"symbolRotate",o),null!=a&&t.setItemVisual(e,"symbolKeepAspect",a)}:null}}}),Zv(7e3,(function(t,e){t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each((function(t){var n=i.getItemVisual(t,"decal");n&&(i.ensureUniqueItemVisual(t,"style").decal=ky(n,e))}));var r=i.getVisual("decal");if(r)i.getVisual("style").decal=ky(r,e)}}))})),Fv(Hp),Gv(900,(function(t){var e=ht();t.eachSeries((function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}})),e.each(Wp)})),Kv("default",(function(t,e){T(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new zi,i=new os({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(i);var r,o=new ls({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily}}),a=new os({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(a),e.showSpinner&&((r=new au({shape:{startAngle:-Ef/2,endAngle:-Ef/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Ef/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Ef/2}).delay(300).start("circularInOut"),n.add(r)),n.resize=function(){var n=o.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:s),u=t.getHeight()/2;e.showSpinner&&r.setShape({cx:l,cy:u}),a.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n})),Yv({type:ws,event:ws,update:ws},ft),Yv({type:Ss,event:Ss,update:Ss},ft),Yv({type:Ms,event:Ms,update:Ms},ft),Yv({type:Is,event:Is,update:Is},ft),Yv({type:Ts,event:Ts,update:Ts},ft),Vv("light",Qf),Vv("dark",rg);var Qv=[],tm={registerPreprocessor:Fv,registerProcessor:Gv,registerPostInit:Hv,registerPostUpdate:Wv,registerAction:Yv,registerCoordinateSystem:Xv,registerLayout:Uv,registerVisual:Zv,registerTransform:Jv,registerLoading:Kv,registerMap:$v,PRIORITY:Wy,ComponentModel:Nc,ComponentView:pf,SeriesModel:rf,ChartView:yf,registerComponentModel:function(t){Nc.registerClass(t)},registerComponentView:function(t){pf.registerClass(t)},registerSeriesModel:function(t){rf.registerClass(t)},registerChartView:function(t){yf.registerClass(t)},registerSubTypeDefaulter:function(t,e){Nc.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Wi(t,e)}};function em(t){F(t)?P(t,(function(t){em(t)})):A(Qv,t)>=0||(Qv.push(t),G(t)&&(t={install:t}),t.install(tm))}function nm(t){return null==t?0:t.length||1}function im(t){return t}var rm=function(){function t(t,e,n,i,r,o){this._old=t,this._new=e,this._oldKeyGetter=n||im,this._newKeyGetter=i||im,this.context=r,this._diffModeMultiple="multiple"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),r=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,r,"_newKeyGetter");for(var o=0;o<t.length;o++){var a=i[o],s=n[a],l=nm(s);if(l>1){var u=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(u,o)}else 1===l?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(r,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},r=[],o=[];this._initIndexMap(t,n,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<r.length;a++){var s=r[a],l=n[s],u=i[s],h=nm(l),c=nm(u);if(h>1&&1===c)this._updateManyToOne&&this._updateManyToOne(u,l),i[s]=null;else if(1===h&&c>1)this._updateOneToMany&&this._updateOneToMany(u,l),i[s]=null;else if(1===h&&1===c)this._update&&this._update(u,l),i[s]=null;else if(h>1)for(var p=0;p<h;p++)this._remove&&this._remove(l[p]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[i],o=nm(r);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);e[i]=null}},t.prototype._initIndexMap=function(t,e,n,i){for(var r=this._diffModeMultiple,o=0;o<t.length;o++){var a="_ec_"+this[i](t[o],o);if(r||(n[o]=a),e){var s=e[a],l=nm(s);0===l?(e[a]=o,r&&n.push(a)):1===l?e[a]=[s,o]:s.push(o)}}},t}();function om(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function am(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var sm,lm,um,hm,cm,pm,dm,fm,gm,ym,vm,mm,_m,xm,bm=function(t){this.otherDims={},null!=t&&I(this,t)},wm=Math.floor,Sm=X,Mm=O,Im="undefined",Tm={float:typeof Float64Array===Im?Array:Float64Array,int:typeof Int32Array===Im?Array:Int32Array,ordinal:Array,number:Array,time:Array},Cm=typeof Uint32Array===Im?Array:Uint32Array,Am=typeof Int32Array===Im?Array:Int32Array,Dm=typeof Uint16Array===Im?Array:Uint16Array,Lm=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],km=["_extent","_approximateExtent","_rawExtent"],Pm=function(){function t(t,e){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=cm,t=t||["x","y"];for(var n={},i=[],r={},o=0;o<t.length;o++){var a=t[o],s=H(a)?new bm({name:a}):a instanceof bm?a:new bm(a),l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0);var u=s.otherDims=s.otherDims||{};i.push(l),n[l]=s,s.index=o,s.createInvertedIndices&&(r[l]=[]),0===u.itemName&&(this._nameDimIdx=o,this._nameOrdinalMeta=s.ordinalMeta),0===u.itemId&&(this._idDimIdx=o,this._idOrdinalMeta=s.ordinalMeta)}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this._dimensionsSummary=function(t){var e={},n=e.encode={},i=ht(),r=[],o=[],a=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};P(t.dimensions,(function(e){var s,l=t.getDimensionInfo(e),u=l.coordDim;if(u){var h=l.coordDimIndex;om(n,u)[h]=e,l.isExtraCoord||(i.set(u,1),"ordinal"!==(s=l.type)&&"time"!==s&&(r[0]=e),om(a.encode,u)[h]=l.index),l.defaultTooltip&&o.push(e)}Vc.each((function(t,e){var i=om(n,e),r=l.otherDims[e];null!=r&&!1!==r&&(i[r]=l.name)}))}));var s=[],l={};i.each((function(t,e){var i=n[e];l[e]=i[0],s=s.concat(i)})),e.dataDimsOnCoord=s,e.encodeFirstDimNotExtra=l;var u=n.label;u&&u.length&&(r=u.slice());var h=n.tooltip;return h&&h.length?o=h.slice():o.length||(o=r.slice()),n.defaultedLabel=r,n.defaultedTooltip=o,e}(this),this._invertedIndicesMap=r,this.userOutput=this._dimensionsSummary.userOutput}return t.prototype.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},t.prototype.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},t.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimensionsSummary.encode[t]||[]).slice()},t.prototype.initData=function(t,e,n){var i=Kp(t)||k(t),r=i?new id(t,this.dimensions.length):t;this._rawData=r;var o=r.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=null!=this._idDimIdx||o===Yc||!!r.fillStorage,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=sm[o],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=sm.arrayRows,this._rawExtent={},this._initDataFromProvider(0,r.count()),r.pure&&(this.hasItemOption=!1)},t.prototype.getProvider=function(){return this._rawData},t.prototype.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=n),this._initDataFromProvider(n,i,!0)},t.prototype.appendValues=function(t,e){for(var n=this._storage,i=this.dimensions,r=i.length,o=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e?e.length:0),l=0;l<r;l++){var u=i[l];o[u]||(o[u]=mm()),hm(n,this._dimensionInfos[u],s,!0)}for(var h=Mm(i,(function(t){return o[t]})),c=this._storageArr=Mm(i,(function(t){return n[t]})),p=[],d=a;d<s;d++){for(var f=d-a,g=0;g<r;g++){u=i[g];var y=this._dimValueGetterArrayRows(t[f]||p,u,f,g);c[g][d]=y;var v=h[g];y<v[0]&&(v[0]=y),y>v[1]&&(v[1]=y)}e&&(this._nameList[d]=e[f],this._dontMakeIdFromName||gm(this,d))}this._rawCount=this._count=s,this._extent={},lm(this)},t.prototype._initDataFromProvider=function(t,e,n){if(!(t>=e)){for(var i=this._rawData,r=this._storage,o=this.dimensions,a=o.length,s=this._dimensionInfos,l=this._nameList,u=this._idList,h=this._rawExtent,c=i.getSource().sourceFormat===Fc,p=0;p<a;p++){var d=o[p];h[d]||(h[d]=mm()),hm(r,s[d],e,n)}var f=this._storageArr=Mm(o,(function(t){return r[t]})),g=Mm(o,(function(t){return h[t]}));if(i.fillStorage)i.fillStorage(t,e,f,g);else for(var y=[],v=t;v<e;v++){y=i.getItem(v,y);for(var m=0;m<a;m++){d=o[m];var _=f[m],x=this._dimValueGetter(y,d,v,m);_[v]=x;var b=g[m];x<b[0]&&(b[0]=x),x>b[1]&&(b[1]=x)}if(c&&!i.pure&&y){var w=y.name;null==l[v]&&null!=w&&(l[v]=Tr(w,null));var S=y.id;null==u[v]&&null!=S&&(u[v]=Tr(S,null))}this._dontMakeIdFromName||gm(this,v)}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},lm(this)}},t.prototype.count=function(){return this._count},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var r=0;r<i;r++)t[r]=e[r]}else t=new n(e.buffer,0,i)}else{t=new(n=um(this))(this.count());for(r=0;r<t.length;r++)t[r]=r}return t},t.prototype.getByDimIdx=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storageArr[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];return n?n[e]:NaN},t.prototype.getValues=function(t,e){var n=[];F(t)||(e=t,t=this.dimensions);for(var i=0,r=t.length;i<r;i++)n.push(this.get(t[i],e));return n},t.prototype.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},t.prototype.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=mm();if(!e)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s<r;s++){var l=e[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[t]=i,i},t.prototype.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){Sm(t)?I(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},t.prototype.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var i=n[e];return null==i||isNaN(i)?-1:i},t.prototype.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var i=this._storage[t],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var h=e-i[this.getRawIndex(l)],c=Math.abs(h);c<=n&&((c<o||c===o&&h>=0&&a<0)&&(o=c,a=h,s=0),h===a&&(r[s++]=l))}return r.length=s,r},t.prototype.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=fm(this,this._nameDimIdx,this._nameOrdinalMeta,e)),null==n&&(n=""),n},t.prototype.getId=function(t){return dm(this,this.getRawIndex(t))},t.prototype.each=function(t,e,n,i){var r=this;if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]);var o=n||i||this,a=Mm(ym(t),this.getDimension,this);0;for(var s=a.length,l=Mm(a,(function(t){return r._dimensionInfos[t].index})),u=this._storageArr,h=0,c=this.count();h<c;h++){var p=this.getRawIndex(h);switch(s){case 0:e.call(o,h);break;case 1:e.call(o,u[l[0]][p],h);break;case 2:e.call(o,u[l[0]][p],u[l[1]][p],h);break;default:for(var d=0,f=[];d<s;d++)f[d]=u[l[d]][p];f[d]=h,e.apply(o,f)}}}},t.prototype.filterSelf=function(t,e,n,i){var r=this;if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]);var o=n||i||this,a=Mm(ym(t),this.getDimension,this);0;for(var s=this.count(),l=new(um(this))(s),u=[],h=a.length,c=0,p=Mm(a,(function(t){return r._dimensionInfos[t].index})),d=p[0],f=this._storageArr,g=0;g<s;g++){var y=void 0,v=this.getRawIndex(g);if(0===h)y=e.call(o,g);else if(1===h){var m=f[d][v];y=e.call(o,m,g)}else{for(var _=0;_<h;_++)u[_]=f[p[_]][v];u[_]=g,y=e.apply(o,u)}y&&(l[c++]=v)}return c<s&&(this._indices=l),this._count=c,this._extent={},this.getRawIndex=this._indices?pm:cm,this}},t.prototype.selectRange=function(t){var e=this,n=this._count;if(n){var i=[];for(var r in t)t.hasOwnProperty(r)&&i.push(r);0;var o=i.length;if(o){var a=this.count(),s=new(um(this))(a),l=0,u=i[0],h=Mm(i,(function(t){return e._dimensionInfos[t].index})),c=t[u][0],p=t[u][1],d=this._storageArr,f=!1;if(!this._indices){var g=0;if(1===o){for(var y=d[h[0]],v=0;v<n;v++){((b=y[v])>=c&&b<=p||isNaN(b))&&(s[l++]=g),g++}f=!0}else if(2===o){y=d[h[0]];var m=d[h[1]],_=t[i[1]][0],x=t[i[1]][1];for(v=0;v<n;v++){var b=y[v],w=m[v];(b>=c&&b<=p||isNaN(b))&&(w>=_&&w<=x||isNaN(w))&&(s[l++]=g),g++}f=!0}}if(!f)if(1===o)for(v=0;v<a;v++){var S=this.getRawIndex(v);((b=d[h[0]][S])>=c&&b<=p||isNaN(b))&&(s[l++]=S)}else for(v=0;v<a;v++){for(var M=!0,I=(S=this.getRawIndex(v),0);I<o;I++){var T=i[I];((b=d[h[I]][S])<t[T][0]||b>t[T][1])&&(M=!1)}M&&(s[l++]=this.getRawIndex(v))}return l<a&&(this._indices=s),this._count=l,this._extent={},this.getRawIndex=this._indices?pm:cm,this}}},t.prototype.mapArray=function(t,e,n,i){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var r=[];return this.each(t,(function(){r.push(e&&e.apply(this,arguments))}),n),r},t.prototype.map=function(t,e,n,i){var r=n||i||this,o=Mm(ym(t),this.getDimension,this);var a=vm(this,o),s=a._storage;a._indices=this._indices,a.getRawIndex=a._indices?pm:cm;for(var l=[],u=o.length,h=this.count(),c=[],p=a._rawExtent,d=0;d<h;d++){for(var f=0;f<u;f++)c[f]=this.get(o[f],d);c[u]=d;var g=e&&e.apply(r,c);if(null!=g){"object"!=typeof g&&(l[0]=g,g=l);for(var y=this.getRawIndex(d),v=0;v<g.length;v++){var m=o[v],_=g[v],x=p[m],b=s[m];b&&(b[y]=_),_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}}}return a},t.prototype.downSample=function(t,e,n,i){for(var r=vm(this,[t]),o=r._storage,a=[],s=wm(1/e),l=o[t],u=this.count(),h=r._rawExtent[t],c=new(um(this))(u),p=0,d=0;d<u;d+=s){s>u-d&&(s=u-d,a.length=s);for(var f=0;f<s;f++){var g=this.getRawIndex(d+f);a[f]=l[g]}var y=n(a),v=this.getRawIndex(Math.min(d+i(a,y)||0,u-1));l[v]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),c[p++]=v}return r._count=p,r._indices=c,r.getRawIndex=pm,r},t.prototype.lttbDownSample=function(t,e){var n,i,r,o=vm(this,[]),a=o._storage[t],s=this.count(),l=new(um(this))(s),u=0,h=wm(1/e),c=this.getRawIndex(0);l[u++]=c;for(var p=1;p<s-1;p+=h){for(var d=Math.min(p+h,s-1),f=Math.min(p+2*h,s),g=(f+d)/2,y=0,v=d;v<f;v++){var m=a[S=this.getRawIndex(v)];isNaN(m)||(y+=m)}y/=f-d;var _=p,x=Math.min(p+h,s),b=p-1,w=a[c];n=-1,r=_;for(v=_;v<x;v++){var S;m=a[S=this.getRawIndex(v)];isNaN(m)||(i=Math.abs((b-g)*(m-w)-(b-v)*(y-w)))>n&&(n=i,r=S)}l[u++]=r,c=r}return l[u++]=this.getRawIndex(s-1),o._count=u,o._indices=l,o.getRawIndex=pm,o},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Sh(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new rm(t?t.getIndices():[],this.getIndices(),(function(e){return dm(t,e)}),(function(t){return dm(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},Sm(t)?I(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return null==i?this.getVisual(e):i},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var r=i[e];return null==r&&(F(r=this.getVisual(e))?r=r.slice():Sm(r)&&(r=I({},r)),i[e]=r),r},t.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Sm(e)?I(i,e):i[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){if(Sm(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?I(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel;if(e){var i=ys(e);i.dataIndex=t,i.dataType=this.dataType,i.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(_m,e)}this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){P(this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},t.prototype.cloneShallow=function(e){e||(e=new t(Mm(this.dimensions,this.getDimensionInfo,this),this.hostModel));if(e._storage=this._storage,e._storageArr=this._storageArr,xm(e,this),this._indices){var n=this._indices.constructor;if(n===Array){var i=this._indices.length;e._indices=new n(i);for(var r=0;r<i;r++)e._indices[r]=this._indices[r]}else e._indices=new n(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?pm:cm,e},t.prototype.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(nt(arguments)))})},t.internalField=function(){function e(t,e,n,i){return bd(t[i],this._dimensionInfos[e])}sm={arrayRows:e,objectRows:function(t,e,n,i){return bd(t[e],this._dimensionInfos[e])},keyedColumns:e,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return!this._rawData.pure&&function(t){return X(t)&&!(t instanceof Array)}(t)&&(this.hasItemOption=!0),bd(r instanceof Array?r[i]:r,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}},lm=function(t){var e=t._invertedIndicesMap;P(e,(function(n,i){var r=t._dimensionInfos[i].ordinalMeta;if(r){n=e[i]=new Am(r.categories.length);for(var o=0;o<n.length;o++)n[o]=-1;for(o=0;o<t._count;o++)n[t.get(i,o)]=o}}))},fm=function(t,e,n,i){var r,o=t._storageArr[e];return o&&(r=o[i],n&&n.categories.length&&(r=n.categories[r])),Tr(r,null)},um=function(t){return t._rawCount>65535?Cm:Dm},hm=function(t,e,n,i){var r=Tm[e.type],o=e.name;if(i){var a=t[o],s=a&&a.length;if(s!==n){for(var l=new r(n),u=0;u<s;u++)l[u]=a[u];t[o]=l}}else t[o]=new r(n)},cm=function(t){return t},pm=function(t){return t<this._count&&t>=0?this._indices[t]:-1},dm=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=fm(t,t._idDimIdx,t._idOrdinalMeta,e)),null==n&&(n="e\0\0"+e),n},ym=function(t){return F(t)||(t=null!=t?[t]:[]),t},function(t,e){for(var n=0;n<e.length;n++)t._dimensionInfos[e[n]]||console.error("Unkown dimension "+e[n])},vm=function(e,n){var i=e.dimensions,r=new t(Mm(i,e.getDimensionInfo,e),e.hostModel);xm(r,e);for(var o,a,s=r._storage={},l=e._storage,u=r._storageArr=[],h=0;h<i.length;h++){var c=i[h];l[c]&&(A(n,c)>=0?(s[c]=(o=l[c],a=void 0,(a=o.constructor)===Array?o.slice():new a(o)),r._rawExtent[c]=mm(),r._extent[c]=null):s[c]=l[c],u.push(s[c]))}return r},mm=function(){return[1/0,-1/0]},_m=function(t){var e=ys(t),n=ys(this);e.seriesIndex=n.seriesIndex,e.dataIndex=n.dataIndex,e.dataType=n.dataType},xm=function(t,e){P(Lm.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,P(km,(function(n){t[n]=w(e[n])})),t._calculationInfo=I({},e._calculationInfo)},gm=function(t,e){var n=t._nameList,i=t._idList,r=t._nameDimIdx,o=t._idDimIdx,a=n[e],s=i[e];if(null==a&&null!=r&&(n[e]=a=fm(t,r,t._nameOrdinalMeta,e)),null==s&&null!=o&&(i[e]=s=fm(t,o,t._idOrdinalMeta,e)),null==s&&null!=a){var l=t._nameRepeatCount,u=l[a]=(l[a]||0)+1;s=a,u>1&&(s+="__ec__"+u),i[e]=s}}}(),t}();function Om(t,e,n){Kp(e)||(e=Jp(e)),n=n||{},t=(t||[]).slice();for(var i=(n.dimsDef||[]).slice(),r=ht(),o=ht(),a=[],s=function(t,e,n,i){var r=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,i||0);return P(e,(function(t){var e;X(t)&&(e=t.dimsDef)&&(r=Math.max(r,e.length))})),r}(e,t,i,n.dimCount),l=0;l<s;l++){var u=i[l],h=i[l]=I({},X(u)?u:{name:u}),c=h.name,p=a[l]=new bm;null!=c&&null==r.get(c)&&(p.name=p.displayName=c,r.set(c,l)),null!=h.type&&(p.type=h.type),null!=h.displayName&&(p.displayName=h.displayName)}var d=n.encodeDef;!d&&n.encodeDefaulter&&(d=n.encodeDefaulter(e,s));var f=ht(d);f.each((function(t,e){var n=_r(t).slice();if(1===n.length&&!H(n[0])&&n[0]<0)f.set(e,!1);else{var i=f.set(e,[]);P(n,(function(t,n){var o=H(t)?r.get(t):t;null!=o&&o<s&&(i[n]=o,y(a[o],e,n))}))}}));var g=0;function y(t,e,n){null!=Vc.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,o.set(e,!0))}P(t,(function(t){var e,n,i,r;if(H(t))e=t,r={};else{e=(r=t).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=w(r)).ordinalMeta=o,n=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=f.get(e);if(!1!==s){if(!(s=_r(s)).length)for(var l=0;l<(n&&n.length||1);l++){for(;g<a.length&&null!=a[g].coordDim;)g++;g<a.length&&s.push(g++)}P(s,(function(t,o){var s=a[t];if(y(T(s,r),e,o),null==s.name&&n){var l=n[o];!X(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}i&&T(s.otherDims,i)}))}}));var v=n.generateCoord,m=n.generateCoordCount,_=null!=m;m=v?m||1:0;for(var x=v||"value",b=0;b<s;b++){null==(p=a[b]=a[b]||new bm).coordDim&&(p.coordDim=Rm(x,o,_),p.coordDimIndex=0,(!v||m<=0)&&(p.isExtraCoord=!0),m--),null==p.name&&(p.name=Rm(p.coordDim,r,!1)),null!=p.type||ep(e,b)!==jc&&(!p.isExtraCoord||null==p.otherDims.itemName&&null==p.otherDims.seriesName)||(p.type="ordinal")}return a}function Rm(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function Nm(t,e){return Om((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}var Em=function(t){this.coordSysDims=[],this.axisMap=ht(),this.categoryAxisMap=ht(),this.coordSysName=t};var zm={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis",Or).models[0],o=t.getReferringComponents("yAxis",Or).models[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),Bm(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),Bm(o)&&(i.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis",Or).models[0];e.coordSysDims=["single"],n.set("single",r),Bm(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar",Or).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),Bm(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),Bm(a)&&(i.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var r=t.ecModel,o=r.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();P(o.parallelAxisIndex,(function(t,o){var s=r.getComponent("parallelAxis",t),l=a[o];n.set(l,s),Bm(s)&&(i.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))}))}};function Bm(t){return"category"===t.get("type")}function Vm(t,e,n){var i,r,o,a,s=(n=n||{}).byIndex,l=n.stackedCoordDimension,u=!(!t||!t.get("stack"));if(P(e,(function(t,n){H(t)&&(e[n]=t={name:t}),u&&!t.isExtraCoord&&(s||i||!t.ordinalMeta||(i=t),r||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(r=t))})),!r||s||i||(s=!0),r){o="__\0ecstackresult",a="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var h=r.coordDim,c=r.type,p=0;P(e,(function(t){t.coordDim===h&&p++})),e.push({name:o,coordDim:h,coordDimIndex:p,type:c,isExtraCoord:!0,isCalculationCoord:!0}),p++,e.push({name:a,coordDim:a,coordDimIndex:p,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:r&&r.name,stackedByDimension:i&&i.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:o}}function Fm(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Gm(t,e){return Fm(t,e)?t.getCalculationInfo("stackResultDimension"):e}function Hm(t,e,n){n=n||{},Kp(t)||(t=Jp(t));var i,r=e.get("coordinateSystem"),o=_p.get(r),a=function(t){var e=t.get("coordinateSystem"),n=new Em(e),i=zm[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}(e);a&&a.coordSysDims&&(i=O(a.coordSysDims,(function(t){var e={name:t},n=a.axisMap.get(t);if(n){var i=n.get("type");e.type=am(i)}return e}))),i||(i=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,l,u=n.useEncodeDefaulter,h=Nm(t,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:G(u)?u:u?V(Jc,i,e):null});a&&P(h,(function(t,e){var i=t.coordDim,r=a.categoryAxisMap.get(i);r&&(null==s&&(s=e),t.ordinalMeta=r.getOrdinalMeta(),n.createInvertedIndices&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(l=!0)})),l||null==s||(h[s].otherDims.itemName=0);var c=Vm(e,h),p=new Pm(h,e);p.setCalculationInfo(c);var d=null!=s&&function(t){if(t.sourceFormat===Fc){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!F(wr(e))}}(t)?function(t,e,n,i){return i===s?n:this.defaultDimValueGetter(t,e,n,i)}:null;return p.hasItemOption=!1,p.initData(t,null,d),p}var Wm=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();jr(Wm);var Ym=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}return t.createByAxisModel=function(e){var n=e.option,i=n.data,r=i&&O(i,Xm);return new t({categories:r,needCollect:!r,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=ht(this.categories))},t}();function Xm(t){return X(t)&&null!=t.value?t.value:t+""}var Um=ji;function Zm(t,e,n,i){var r={},o=t[1]-t[0],a=r.interval=sr(o/e,!0);null!=n&&a<n&&(a=r.interval=n),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=jm(a);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),qm(t,0,e),qm(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(r.niceTickExtent=[Um(Math.ceil(t[0]/a)*a,s),Um(Math.floor(t[1]/a)*a,s)],t),r}function jm(t){return $i(t)+2}function qm(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Km(t,e){return t>=e[0]&&t<=e[1]}function $m(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Jm(t,e){return t*(e[1]-e[0])+e[0]}var Qm=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new Ym({})),F(i)&&(i=new Ym({categories:O(i,(function(t){return X(t)?t.value:t}))})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return n(e,t),e.prototype.parse=function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return Km(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return $m(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(Jm(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);r<a;++r){var s=e[r];n[r]=s,i[s]=r}for(var l=0;r<o;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(Wm);Wm.registerClass(Qm);var t_=ji,e_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return n(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Km(t,this._extent)},e.prototype.normalize=function(t){return $m(t,this._extent)},e.prototype.scale=function(t){return Jm(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=jm(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;n[0]<i[0]&&(t?o.push({value:t_(i[0]-e,r)}):o.push({value:n[0]}));for(var a=i[0];a<=i[1]&&(o.push({value:a}),(a=t_(a+e,r))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:i[1];return n[1]>s&&(t?o.push({value:t_(s+e,r)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<e.length;r++){for(var o=e[r],a=e[r-1],s=0,l=[],u=(o.value-a.value)/t;s<t-1;){var h=t_(a.value+(s+1)*u);h>i[0]&&h<i[1]&&l.push(h),s++}n.push(l)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=$i(t.value)||0:"auto"===n&&(n=this._intervalPrecision),hc(t_(t.value,n,!0))},e.prototype.niceTicks=function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=Zm(i,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=t_(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=t_(Math.ceil(e[1]/r)*r))},e.type="interval",e}(Wm);Wm.registerClass(e_);var n_="__ec_stack_",i_="undefined"!=typeof Float32Array?Float32Array:Array;function r_(t){return t.get("stack")||n_+t.seriesIndex}function o_(t){return t.dim+t.index}function a_(t,e){var n=[];return e.eachSeriesByType(t,(function(t){p_(t)&&!d_(t)&&n.push(t)})),n}function s_(t){var e=function(t){var e={};P(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=t.getData(),r=n.dim+"_"+n.index,o=i.mapDimension(n.dim),a=0,s=i.count();a<s;++a){var l=i.get(o,a);e[r]?e[r].push(l):e[r]=[l]}}));var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort((function(t,e){return t-e}));for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[i]=o}}return n}(t),n=[];return P(t,(function(t){var i,r=t.coordinateSystem.getBaseAxis(),o=r.getExtent();if("category"===r.type)i=r.getBandWidth();else if("value"===r.type||"time"===r.type){var a=r.dim+"_"+r.index,s=e[a],l=Math.abs(o[1]-o[0]),u=r.scale.getExtent(),h=Math.abs(u[1]-u[0]);i=s?l/h*s:l}else{var c=t.getData();i=Math.abs(o[1]-o[0])/c.count()}var p=Zi(t.get("barWidth"),i),d=Zi(t.get("barMaxWidth"),i),f=Zi(t.get("barMinWidth")||1,i),g=t.get("barGap"),y=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:p,barMaxWidth:d,barMinWidth:f,barGap:g,barCategoryGap:y,axisKey:o_(r),stackId:r_(t)})})),l_(n)}function l_(t){var e={};P(t,(function(t,n){var i=t.axisKey,r=t.bandWidth,o=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;e[i]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=t.barMaxWidth;u&&(a[s].maxWidth=u);var h=t.barMinWidth;h&&(a[s].minWidth=h);var c=t.barGap;null!=c&&(o.gap=c);var p=t.barCategoryGap;null!=p&&(o.categoryGap=p)}));var n={};return P(e,(function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=t.categoryGap;if(null==o){var a=z(i).length;o=Math.max(35-4*a,15)+"%"}var s=Zi(o,r),l=Zi(t.gap,1),u=t.remainedWidth,h=t.autoWidthCount,c=(u-s)/(h+(h-1)*l);c=Math.max(c,0),P(i,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,u-=i+l*i,h--}else{var i=c;e&&e<i&&(i=Math.min(e,u)),n&&n>i&&(i=n),i!==c&&(t.width=i,u-=i+l*i,h--)}})),c=(u-s)/(h+(h-1)*l),c=Math.max(c,0);var p,d=0;P(i,(function(t,e){t.width||(t.width=c),p=t,d+=t.width*(1+l)})),p&&(d-=p.width*l);var f=-d/2;P(i,(function(t,i){n[e][i]=n[e][i]||{bandWidth:r,offset:f,width:t.width},f+=t.width*(1+l)}))})),n}function u_(t,e,n){if(t&&e){var i=t[o_(e)];return null!=i&&null!=n?i[r_(n)]:i}}function h_(t,e){var n=a_(t,e),i=s_(n),r={};P(n,(function(t){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=r_(t),s=i[o_(o)][a],l=s.offset,u=s.width,h=n.getOtherAxis(o),c=t.get("barMinHeight")||0;r[a]=r[a]||[],e.setLayout({bandWidth:s.bandWidth,offset:l,size:u});for(var p=e.mapDimension(h.dim),d=e.mapDimension(o.dim),f=Fm(e,p),g=h.isHorizontal(),y=f_(o,h),v=0,m=e.count();v<m;v++){var _=e.get(p,v),x=e.get(d,v),b=_>=0?"p":"n",w=y;f&&(r[a][x]||(r[a][x]={p:y,n:y}),w=r[a][x][b]);var S,M=void 0,I=void 0,T=void 0,C=void 0;if(g)M=w,I=(S=n.dataToPoint([_,x]))[1]+l,T=S[0]-y,C=u,Math.abs(T)<c&&(T=(T<0?-1:1)*c),isNaN(T)||f&&(r[a][x][b]+=T);else M=(S=n.dataToPoint([x,_]))[0]+l,I=w,T=u,C=S[1]-y,Math.abs(C)<c&&(C=(C<=0?-1:1)*c),isNaN(C)||f&&(r[a][x][b]+=C);e.setItemLayout(v,{x:M,y:I,width:T,height:C})}}))}var c_={seriesType:"bar",plan:df(),reset:function(t){if(p_(t)&&d_(t)){var e=t.getData(),n=t.coordinateSystem,i=n.master.getRect(),r=n.getBaseAxis(),o=n.getOtherAxis(r),a=e.mapDimension(o.dim),s=e.mapDimension(r.dim),l=o.isHorizontal(),u=l?0:1,h=u_(s_([t]),r,t).width;return h>.5||(h=.5),{progress:function(t,e){for(var c,p=t.count,d=new i_(2*p),f=new i_(2*p),g=new i_(p),y=[],v=[],m=0,_=0;null!=(c=t.next());)v[u]=e.get(a,c),v[1-u]=e.get(s,c),y=n.dataToPoint(v,null,y),f[m]=l?i.x+i.width:y[0],d[m++]=y[0],f[m]=l?y[1]:i.y+i.height,d[m++]=y[1],g[_++]=c;e.setLayout({largePoints:d,largeDataIndices:g,largeBackgroundPoints:f,barWidth:h,valueAxisStart:f_(r,o),backgroundStart:l?i.x:i.y,valueAxisHorizontal:l})}}}}};function p_(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function d_(t){return t.pipelineContext&&t.pipelineContext.large}function f_(t,e,n){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var g_=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return n(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Zh(t.value,Gh[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Xh(this._minLevelUnit))]||Gh.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting("useUTC");return function(t,e,n,i,r){var o=null;if("string"==typeof n)o=n;else if("function"==typeof n)o=n(t.value,e,{level:t.level});else{var a=I({},Vh);if(t.level>0)for(var s=0;s<Hh.length;++s)a[Hh[s]]="{primary|"+a[Hh[s]]+"}";var l=n?!1===n.inherit?n:T(n,a):a,u=jh(t.value,r);if(l[u])o=l[u];else if(l.inherit){for(s=Wh.indexOf(u)-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(F(o)){var h=null==t.level?0:t.level>=0?t.level:o.length+t.level;o=o[h=Math.min(h,o.length-1)]}}return Zh(new Date(t.value),o,r,i)}(t,e,n,this.getSetting("locale"),i)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=[];if(!e)return i;i.push({value:n[0],level:0});var r=this.getSetting("useUTC"),o=function(t,e,n,i){var r=1e4,o=Wh,a=0;function s(t,e,n,r,o,a,s){for(var l=new Date(e),u=e,h=l[r]();u<n&&u<=i[1];)s.push({value:u}),h+=t,l[o](h),u=l.getTime();s.push({value:u,notAdd:!0})}function l(t,r,o){var a=[],l=!r.length;if(!function(t,e,n,i){var r=rr(e),o=rr(n),a=function(t){return qh(r,t,i)===qh(o,t,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},h=function(){return u()&&a("hour")},c=function(){return h()&&a("minute")},p=function(){return c()&&a("second")},d=function(){return p()&&a("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return h();case"minute":return c();case"second":return p();case"millisecond":return d()}}(Xh(t),i[0],i[1],n)){l&&(r=[{value:w_(new Date(i[0]),t,n)},{value:i[1]}]);for(var u=0;u<r.length-1;u++){var h=r[u].value,c=r[u+1].value;if(h!==c){var p=void 0,d=void 0,f=void 0,g=!1;switch(t){case"year":p=Math.max(1,Math.round(e/zh/365)),d=Kh(n),f=ic(n);break;case"half-year":case"quarter":case"month":p=m_(e),d=$h(n),f=rc(n);break;case"week":case"half-week":case"day":p=v_(e),d=Jh(n),f=oc(n),g=!0;break;case"half-day":case"quarter-day":case"hour":p=__(e),d=Qh(n),f=ac(n);break;case"minute":p=x_(e,!0),d=tc(n),f=sc(n);break;case"second":p=x_(e,!1),d=ec(n),f=lc(n);break;case"millisecond":p=b_(e),d=nc(n),f=uc(n)}s(p,h,c,d,f,g,a),"year"===t&&o.length>1&&0===u&&o.unshift({value:o[0].value-p})}}for(u=0;u<a.length;u++)o.push(a[u]);return a}}for(var u=[],h=[],c=0,p=0,d=0;d<o.length&&a++<r;++d){var f=Xh(o[d]);if(Uh(o[d]))if(l(o[d],u[u.length-1]||[],h),f!==(o[d+1]?Xh(o[d+1]):null)){if(h.length){p=c,h.sort((function(t,e){return t.value-e.value}));for(var g=[],y=0;y<h.length;++y){var v=h[y].value;0!==y&&h[y-1].value===v||(g.push(h[y]),v>=i[0]&&v<=i[1]&&c++)}var m=(i[1]-i[0])/e;if(c>1.5*m&&p>m/1.5)break;if(u.push(g),c>m||t===o[d])break}h=[]}}0;var _=N(O(u,(function(t){return N(t,(function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd}))})),(function(t){return t.length>0})),x=[],b=_.length-1;for(d=0;d<_.length;++d)for(var w=_[d],S=0;S<w.length;++S)x.push({value:w[S].value,level:b-d});x.sort((function(t,e){return t.value-e.value}));var M=[];for(d=0;d<x.length;++d)0!==d&&x[d].value===x[d-1].value||M.push(x[d]);return M}(this._minLevelUnit,this._approxInterval,r,n);return(i=i.concat(o)).push({value:n[1],level:0}),i},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=zh,e[1]+=zh),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-zh}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,e,n){t=t||10;var i=this._extent,r=i[1]-i[0];this._approxInterval=r/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=y_.length,a=Math.min(function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n}(y_,this._approxInterval,0,o),o-1);this._interval=y_[a][1],this._minLevelUnit=y_[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return"number"==typeof t?t:+rr(t)},e.prototype.contain=function(t){return Km(this.parse(t),this._extent)},e.prototype.normalize=function(t){return $m(this.parse(t),this._extent)},e.prototype.scale=function(t){return Jm(t,this._extent)},e.type="time",e}(e_),y_=[["second",Rh],["minute",Nh],["hour",Eh],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",Bh/2],["year",Bh]];function v_(t,e){return(t/=zh)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function m_(t){return(t/=2592e6)>6?6:t>3?3:t>2?2:1}function __(t){return(t/=Eh)>12?12:t>6?6:t>3.5?4:t>2?2:1}function x_(t,e){return(t/=e?Nh:Rh)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function b_(t){return sr(t,!0)}function w_(t,e,n){var i=new Date(t);switch(Xh(e)){case"year":case"month":i[rc(n)](0);case"day":i[oc(n)](1);case"hour":i[ac(n)](0);case"minute":i[sc(n)](0);case"second":i[lc(n)](0),i[uc(n)](0)}return i.getTime()}Wm.registerClass(g_);var S_=Wm.prototype,M_=e_.prototype,I_=$i,T_=ji,C_=Math.floor,A_=Math.ceil,D_=Math.pow,L_=Math.log,k_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new e_,e._interval=0,e}return n(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent();return O(M_.getTicks.call(this,t),(function(t){var e=t.value,r=ji(D_(this.base,e));return r=e===n[0]&&this._fixMin?O_(r,i[0]):r,{value:r=e===n[1]&&this._fixMax?O_(r,i[1]):r}}),this)},e.prototype.setExtent=function(t,e){var n=this.base;t=L_(t)/L_(n),e=L_(e)/L_(n),M_.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=S_.getExtent.call(this);e[0]=D_(t,e[0]),e[1]=D_(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=O_(e[0],n[0])),this._fixMax&&(e[1]=O_(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=L_(t[0])/L_(e),t[1]=L_(t[1])/L_(e),S_.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.niceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=or(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[ji(A_(e[0]/i)*i),ji(C_(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},e.prototype.niceExtent=function(t){M_.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Km(t=L_(t)/L_(this.base),this._extent)},e.prototype.normalize=function(t){return $m(t=L_(t)/L_(this.base),this._extent)},e.prototype.scale=function(t){return t=Jm(t,this._extent),D_(this.base,t)},e.type="log",e}(Wm),P_=k_.prototype;function O_(t,e){return T_(t,I_(e))}P_.getMinorTicks=M_.getMinorTicks,P_.getLabel=M_.getLabel,Wm.registerClass(k_);var R_=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var r=this._modelMinRaw=e.get("min",!0);G(r)?this._modelMinNum=B_(t,r({min:n[0],max:n[1]})):"dataMin"!==r&&(this._modelMinNum=B_(t,r));var o=this._modelMaxRaw=e.get("max",!0);if(G(o)?this._modelMaxNum=B_(t,o({min:n[0],max:n[1]})):"dataMax"!==o&&(this._modelMaxNum=B_(t,o)),i)this._axisDataLen=e.getCategories().length;else{var a=e.get("boundaryGap"),s=F(a)?a:[a||0,a||0];"boolean"==typeof s[0]||"boolean"==typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Yn(s[0],1),Yn(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,r=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=t?i?0:NaN:e-r[0]*o),null==s&&(s=t?i?i-1:NaN:n+r[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),a>s&&(a=NaN,s=NaN);var h=J(a)||J(s)||t&&!i;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));var c=this._determinedMin,p=this._determinedMax;return null!=c&&(a=c,l=!0),null!=p&&(s=p,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[E_[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=N_[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),N_={min:"_determinedMin",max:"_determinedMax"},E_={min:"_dataMin",max:"_dataMax"};function z_(t,e,n){var i=t.rawExtentInfo;return i||(i=new R_(t,e,n),t.rawExtentInfo=i,i)}function B_(t,e){return null==e?null:J(e)?NaN:t.parse(e)}function V_(t,e){var n=t.type,i=z_(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&"time"===n){var s=a_("bar",a),l=!1;if(P(s,(function(t){l=l||t.getBaseAxis()===e.axis})),l){var u=s_(s),h=function(t,e,n,i){var r=n.axis.getExtent(),o=r[1]-r[0],a=u_(i,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;P(a,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;P(a,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/o)-h;return{min:t-=c*(s/u),max:e+=c*(l/u)}}(r,o,e,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function F_(t,e){var n=V_(t,e),i=n.extent,r=e.get("splitNumber");t instanceof k_&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var a=e.get("interval");null!=a&&t.setInterval&&t.setInterval(a)}function G_(t,e){if(e=e||t.get("type"))switch(e){case"category":return new Qm({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new g_({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Wm.getClass(e)||e_)}}function H_(t){var e,n,i=t.getLabelModel().get("formatter"),r="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(n=i,function(e,i){return t.scale.getFormattedLabel(e,i,n)}):"string"==typeof i?function(e){return function(n){var i=t.scale.getLabel(n);return e.replace("{value}",null!=i?i:"")}}(i):"function"==typeof i?(e=i,function(n,i){return null!=r&&(i=n.value-r),e(W_(t,n),i,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function W_(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function Y_(t,e){var n=e*Math.PI/180,i=t.width,r=t.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),a=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n));return new Rn(t.x,t.y,o,a)}function X_(t){var e=t.get("interval");return null==e?"auto":e}function U_(t){return"category"===t.type&&0===X_(t.getLabelModel())}function Z_(t,e){var n={};return P(t.mapDimensionsAll(e),(function(e){n[Gm(t,e)]=!0})),z(n)}var j_=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();var q_={isDimensionStacked:Fm,enableDataStack:Vm,getStackedDimension:Gm};var K_=Object.freeze({__proto__:null,createList:function(t){return Hm(t.getSource(),t)},getLayoutRect:Ac,dataStack:q_,createScale:function(t,e){var n=e;e instanceof Sh||(n=new Sh(e));var i=G_(n);return i.setExtent(t[0],t[1]),F_(i,n),i},mixinAxisModelCommonMethods:function(t){L(t,j_)},getECData:ys,createTextStyle:function(t,e){return nh(t,null,null,"normal"!==(e=e||{}).state)},createDimensions:Nm,createSymbol:uy,enableHoverEmphasis:Js});function $_(t,e){return Math.abs(t-e)<1e-8}function J_(t,e,n){var i=0,r=t[0];if(!r)return!1;for(var o=1;o<t.length;o++){var a=t[o];i+=Na(r[0],r[1],a[0],a[1],e,n),r=a}var s=t[0];return $_(r[0],s[0])&&$_(r[1],s[1])||(i+=Na(r[0],r[1],s[0],s[1],e,n)),0!==i}var Q_=function(){function t(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}return t.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],i=[-e,-e],r=[],o=[],a=this.geometries,s=0;s<a.length;s++){if("polygon"===a[s].type)ea(a[s].exterior,r,o),Nt(n,n,r),Et(i,i,o)}return 0===s&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new Rn(n[0],n[1],i[0]-n[0],i[1]-n[1])},t.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++)if("polygon"===n[i].type){var o=n[i].exterior,a=n[i].interiors;if(J_(o,t[0],t[1])){for(var s=0;s<(a?a.length:0);s++)if(J_(a[s],t[0],t[1]))continue t;return!0}}return!1},t.prototype.transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new Rn(t,e,n,i),s=r.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){for(var h=l[u].exterior,c=l[u].interiors,p=0;p<h.length;p++)Rt(h[p],h[p],s);for(var d=0;d<(c?c.length:0);d++)for(p=0;p<c[d].length;p++)Rt(c[d][p],c[d][p],s)}(r=this._rect).copy(a),this.center=[r.x+r.width/2,r.y+r.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this.center);return n._rect=this._rect,n.transformTo=null,n},t}();function tx(t,e,n){for(var i=[],r=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}function ex(t,e){return O(N((t=function(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;null==n&&(n=1024);for(var i=e.features,r=0;r<i.length;r++){var o=i[r].geometry;if("Polygon"===o.type)for(var a=o.coordinates,s=0;s<a.length;s++)a[s]=tx(a[s],o.encodeOffsets[s],n);else if("MultiPolygon"===o.type)for(a=o.coordinates,s=0;s<a.length;s++)for(var l=a[s],u=0;u<l.length;u++)l[u]=tx(l[u],o.encodeOffsets[s][u],n)}return e.UTF8Encoding=!1,e}(t)).features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,i=t.geometry,r=[];if("Polygon"===i.type){var o=i.coordinates;r.push({type:"polygon",exterior:o[0],interiors:o.slice(1)})}"MultiPolygon"===i.type&&P(o=i.coordinates,(function(t){t[0]&&r.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var a=new Q_(n[e||"name"],r,n.cp);return a.properties=n,a}))}var nx=Object.freeze({__proto__:null,linearMap:Ui,round:ji,asc:qi,getPrecision:Ki,getPrecisionSafe:$i,getPixelPrecision:Ji,getPercentWithPrecision:Qi,MAX_SAFE_INTEGER:tr,remRadian:er,isRadianAroundZero:nr,parseDate:rr,quantity:or,quantityExponent:ar,nice:sr,quantile:lr,reformIntervals:ur,isNumeric:cr,numericToNumber:hr}),ix=Object.freeze({__proto__:null,parse:rr,format:Zh}),rx=Object.freeze({__proto__:null,extendShape:bu,extendPath:Su,makePath:Tu,makeImage:Cu,mergePath:Du,resizePath:Lu,createIcon:Uu,updateProps:Ou,initProps:Ru,getTransform:Vu,clipPointsByRect:Yu,clipRectByRect:Xu,registerShape:Mu,getShapeClass:Iu,Group:zi,Image:Ja,Text:ls,Circle:Tl,Ellipse:Al,Sector:Wl,Ring:Xl,Polygon:ql,Polyline:$l,Rect:os,Line:tu,BezierCurve:ru,Arc:au,IncrementalDisplayable:vu,CompoundPath:su,LinearGradient:uu,RadialGradient:hu,BoundingRect:Rn}),ox=Object.freeze({__proto__:null,addCommas:hc,toCamelCase:cc,normalizeCssArray:pc,encodeHTML:gc,formatTpl:_c,getTooltipMarker:xc,formatTime:function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=rr(e),r=n?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),u=i["get"+r+"Minutes"](),h=i["get"+r+"Seconds"](),c=i["get"+r+"Milliseconds"]();return t=t.replace("MM",Yh(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100+"").replace("dd",Yh(s,2)).replace("d",s).replace("hh",Yh(l,2)).replace("h",l).replace("mm",Yh(u,2)).replace("m",u).replace("ss",Yh(h,2)).replace("s",h).replace("SSS",Yh(c,3))},capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},truncateText:ro,getTextRect:function(t,e,n,i,r,o,a,s){return gr(),new ls({style:{text:t,font:e,align:n,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}}),ax=Object.freeze({__proto__:null,map:O,each:P,indexOf:A,inherits:D,reduce:R,filter:N,bind:B,curry:V,isArray:F,isString:H,isObject:X,isFunction:G,extend:I,defaults:T,clone:w,merge:S}),sx=Lr();function lx(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=hx(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=H_(t);return{labels:O(e,(function(e,i){return{formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}(t)}function ux(t,e){return"category"===t.type?function(t,e){var n,i,r=cx(t,"ticks"),o=X_(e),a=px(r,o);if(a)return a;e.get("show")&&!t.scale.isBlank()||(n=[]);if(G(o))n=gx(t,o,!0);else if("auto"===o){var s=hx(t,t.getLabelModel());i=s.labelCategoryInterval,n=O(s.labels,(function(t){return t.tickValue}))}else n=fx(t,i=o,!0);return dx(r,o,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:O(t.scale.getTicks(),(function(t){return t.value}))}}function hx(t,e){var n,i,r=cx(t,"labels"),o=X_(e),a=px(r,o);return a||(G(o)?n=gx(t,o):(i="auto"===o?function(t){var e=sx(t).autoInterval;return null!=e?e:sx(t).autoInterval=t.calculateCategoryInterval()}(t):o,n=fx(t,i)),dx(r,o,{labels:n,labelCategoryInterval:i}))}function cx(t,e){return sx(t)[e]||(sx(t)[e]=[])}function px(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function dx(t,e,n){return t.push({key:e,value:n}),n}function fx(t,e,n){var i=H_(t),r=t.scale,o=r.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=o[0],h=r.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=U_(t),p=a.get("showMinLabel")||c,d=a.get("showMaxLabel")||c;p&&u!==o[0]&&g(o[0]);for(var f=u;f<=o[1];f+=l)g(f);function g(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:r.getLabel(e),tickValue:t})}return d&&f-l!==o[1]&&g(o[1]),s}function gx(t,e,n){var i=t.scale,r=H_(t),o=[];return P(i.getTicks(),(function(t){var a=i.getLabel(t),s=t.value;e(t.value,a)&&o.push(n?s:{formattedLabel:r(t),rawLabel:a,tickValue:s})})),o}var yx=[0,1],vx=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Ji(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&mx(n=n.slice(),i.count()),Ui(t,yx,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&mx(n=n.slice(),i.count());var r=Ui(t,n,yx,e);return this.scale.scale(r)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=O(ux(this,e).ticks,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,e,n,i){var r=e.length;if(!t.onBand||n||!r)return;var o,a,s=t.getExtent();if(1===r)e[0].coord=s[0],o=e[1]={coord:s[0]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;P(e,(function(t){t.coord-=u/2})),a=1+t.scale.getExtent()[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*a},e.push(o)}var h=s[0]>s[1];c(e[0].coord,s[0])&&(i?e[0].coord=s[0]:e.shift());i&&c(s[0],e[0].coord)&&e.unshift({coord:s[0]});c(s[1],o.coord)&&(i?o.coord=s[1]:e.pop());i&&c(o.coord,s[1])&&e.push({coord:s[1]});function c(t,e){return t=ji(t),e=ji(e),h?t>e:t<e}}(this,n,e.get("alignWithLabel"),t.clamp),n},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),O(this.scale.getMinorTicks(t),(function(t){return O(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return lx(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=H_(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(i)),c=Math.abs(u*Math.sin(i)),p=0,d=0;l<=o[1];l+=s){var f,g,y=Fn(n({value:l}),e.font,"center","top");f=1.3*y.width,g=1.3*y.height,p=Math.max(p,f,7),d=Math.max(d,g,7)}var v=p/h,m=d/c;isNaN(v)&&(v=1/0),isNaN(m)&&(m=1/0);var _=Math.max(0,Math.floor(Math.min(v,m))),x=sx(t.model),b=t.getExtent(),w=x.lastAutoInterval,S=x.lastTickCount;return null!=w&&null!=S&&Math.abs(w-_)<=1&&Math.abs(S-a)<=1&&w>_&&x.axisExtent0===b[0]&&x.axisExtent1===b[1]?_=w:(x.lastTickCount=a,x.lastAutoInterval=_,x.axisExtent0=b[0],x.axisExtent1=b[1]),_}(this)},t}();function mx(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function _x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function xx(t,e,n,i,r){for(var o=e.length,a=n.length,s=t.newPos,l=s-i,u=0;s+1<o&&l+1<a&&r(e[s+1],n[l+1]);)s++,l++,u++;return u&&t.components.push({count:u,added:!1,removed:!1,indices:[]}),t.newPos=s,l}function bx(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n,indices:[]}:t.push({count:1,added:e,removed:n,indices:[]})}function Sx(t){for(var e=0,n=t.length,i=0,r=0;e<n;e++){var o=t[e];if(o.removed){for(s=r;s<r+o.count;s++)o.indices.push(s);r+=o.count}else{for(var a=[],s=i;s<i+o.count;s++)a.push(s);o.indices=a,i+=o.count,o.added||(r+=o.count)}}return t}function Mx(t,e,n){return function(t,e,n){n||(n=function(t,e){return t===e}),t=t.slice();var i=(e=e.slice()).length,r=t.length,o=1,a=i+r,s=[{newPos:-1,components:[]}],l=xx(s[0],e,t,0,n);if(s[0].newPos+1>=i&&l+1>=r){for(var u=[],h=0;h<e.length;h++)u.push(h);return[{indices:u,count:e.length,added:!1,removed:!1}]}function c(){for(var a=-1*o;a<=o;a+=2){var l,u=s[a-1],h=s[a+1],c=(h?h.newPos:0)-a;u&&(s[a-1]=void 0);var p=u&&u.newPos+1<i,d=h&&0<=c&&c<r;if(p||d){if(!p||d&&u.newPos<h.newPos?bx((l={newPos:(f=h).newPos,components:f.components.slice(0)}).components,!1,!0):((l=u).newPos++,bx(l.components,!0,!1)),c=xx(l,e,t,a,n),l.newPos+1>=i&&c+1>=r)return Sx(l.components);s[a]=l}else s[a]=void 0}var f;o++}for(;o<=a;){var p=c();if(p)return p}}(t,e,n)}var Ix="none",Tx=Math.round,Cx=Math.sin,Ax=Math.cos,Dx=Math.PI,Lx=2*Math.PI,kx=180/Dx,Px=1e-4;function Ox(t){return Tx(1e3*t)/1e3}function Rx(t){return Tx(1e4*t)/1e4}function Nx(t){return t<Px&&t>-1e-4}function Ex(t,e){e&&zx(t,"transform","matrix("+Ox(e[0])+","+Ox(e[1])+","+Ox(e[2])+","+Ox(e[3])+","+Rx(e[4])+","+Rx(e[5])+")")}function zx(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function Bx(t,e,n){var i=null==e.opacity?1:e.opacity;if(n instanceof Ja)t.style.opacity=i+"";else{if(function(t){var e=t.fill;return null!=e&&e!==Ix}(e)){var r=e.fill;zx(t,"fill",r="transparent"===r?Ix:r),zx(t,"fill-opacity",(null!=e.fillOpacity?e.fillOpacity*i:i)+"")}else zx(t,"fill",Ix);if(function(t){var e=t.stroke;return null!=e&&e!==Ix}(e)){var o=e.stroke;zx(t,"stroke",o="transparent"===o?Ix:o);var a=e.lineWidth,s=e.strokeNoScale?n.getLineScale():1;zx(t,"stroke-width",(s?a/s:0)+""),zx(t,"paint-order",e.strokeFirst?"stroke":"fill"),zx(t,"stroke-opacity",(null!=e.strokeOpacity?e.strokeOpacity*i:i)+"");var l=e.lineDash&&a>0&&py(e.lineDash,a);if(l){var u=e.lineDashOffset;s&&1!==s&&(l=O(l,(function(t){return t/s})),u&&(u=Tx(u/=s))),zx(t,"stroke-dasharray",l.join(",")),zx(t,"stroke-dashoffset",(u||0)+"")}else zx(t,"stroke-dasharray","");e.lineCap&&zx(t,"stroke-linecap",e.lineCap),e.lineJoin&&zx(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&zx(t,"stroke-miterlimit",e.miterLimit+"")}else zx(t,"stroke",Ix)}}var Vx=function(){function t(){}return t.prototype.reset=function(){this._d=[],this._str=""},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._add("C",t,e,n,i,r,o)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},t.prototype.arc=function(t,e,n,i,r,o){this.ellipse(t,e,n,n,0,i,r,o)},t.prototype.ellipse=function(t,e,n,i,r,o,a,s){var l=0===this._d.length,u=a-o,h=!s,c=Math.abs(u),p=Nx(c-Lx)||(h?u>=Lx:-u>=Lx),d=u>0?u%Lx:u%Lx+Lx,f=!1;f=!!p||!Nx(c)&&d>=Dx==!!h;var g=Rx(t+n*Ax(o)),y=Rx(e+i*Cx(o));p&&(u=h?Lx-1e-4:1e-4-Lx,f=!0,l&&this._d.push("M",g,y));var v=Rx(t+n*Ax(o+u)),m=Rx(e+i*Cx(o+u));if(isNaN(g)||isNaN(y)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(kx)||isNaN(v)||isNaN(m))return"";this._d.push("A",Rx(n),Rx(i),Tx(r*kx),+f,+h,v,m)},t.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("L",t+n,e),this._add("L",t+n,e+i),this._add("L",t,e+i),this._add("L",t,e)},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,i,r,o,a,s,l){this._d.push(t);for(var u=1;u<arguments.length;u++){var h=arguments[u];if(isNaN(h))return void(this._invalid=!0);this._d.push(Rx(h))}},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Fx={brush:function(t){var e=t.style,n=t.__svgEl;n||(n=_x("path"),t.__svgEl=n),t.path||t.createPathProxy();var i=t.path;t.shapeChanged()&&(i.beginPath(),t.buildPath(i,t.shape),t.pathUpdated());var r=i.getVersion(),o=t,a=o.__svgPathBuilder;(o.__svgPathVersion!==r||!a||t.style.strokePercent<1)&&(a||(a=o.__svgPathBuilder=new Vx),a.reset(),i.rebuildPath(a,t.style.strokePercent),a.generateStr(),o.__svgPathVersion=r),zx(n,"d",a.getStr()),Bx(n,e,t),Ex(n,t.transform)}},Gx={brush:function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement?n=n.src:n instanceof HTMLCanvasElement&&(n=n.toDataURL()),n){var i=e.x||0,r=e.y||0,o=e.width,a=e.height,s=t.__svgEl;s||(s=_x("image"),t.__svgEl=s),n!==t.__imageSrc&&(!function(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}(s,"href",n),t.__imageSrc=n),zx(s,"width",o+""),zx(s,"height",a+""),zx(s,"x",i+""),zx(s,"y",r+""),Bx(s,e,t),Ex(s,t.transform)}}},Hx={left:"start",right:"end",center:"middle",middle:"middle"};var Wx={brush:function(t){var e=t.style,n=e.text;if(null!=n&&(n+=""),n&&!isNaN(e.x)&&!isNaN(e.y)){var i=t.__svgEl;i||(function(t,e,n){t.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,n)}(i=_x("text"),"xml:space","preserve"),t.__svgEl=i);var r=e.font||En;i.style.font=r,i.textContent=n,Bx(i,e,t),Ex(i,t.transform);var o=e.x||0,a=function(t,e,n){return"top"===n?t+=e/2:"bottom"===n&&(t-=e/2),t}(e.y||0,Wn(r),e.textBaseline),s=Hx[e.textAlign]||e.textAlign;zx(i,"dominant-baseline","central"),zx(i,"text-anchor",s),zx(i,"x",o+""),zx(i,"y",a+"")}}},Yx=function(){function t(t,e,n,i,r){this.nextId=0,this._domName="_dom",this.createElement=_x,this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,r&&(this._domName=r)}return t.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");if(0===n.length){if(t){var i=e.insertBefore(this.createElement("defs"),e.firstChild);return i.contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i}return null}return n[0]},t.prototype.doUpdate=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"==typeof e&&e(t);else{var i=this.add(t);i&&(t[this._domName]=i)}}},t.prototype.add=function(t){return null},t.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},t.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},t.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return P(this._tagNames,(function(n){for(var i=t.getElementsByTagName(n),r=0;r<i.length;r++)e.push(i[r])})),e},t.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;P(t,(function(t){t[e._markLabel]="0"}))},t.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},t.prototype.markDomUnused=function(t){t&&(t[this._markLabel]="0")},t.prototype.isDomUnused=function(t){return t&&"1"!==t[this._markLabel]},t.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);e&&P(this.getDoms(),(function(n){t.isDomUnused(n)&&e.removeChild(n)}))},t.prototype.getSvgProxy=function(t){return t instanceof Za?Fx:t instanceof Ja?Gx:t instanceof qa?Wx:Fx},t.prototype.getSvgElement=function(t){return t.__svgEl},t}();function Xx(t){return"linear"===t.type}function Ux(t){return"radial"===t.type}function Zx(t){return t&&("linear"===t.type||"radial"===t.type)}var jx=function(t){function e(e,n){return t.call(this,e,n,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return n(e,t),e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;P(["fill","stroke"],(function(i){var r=e.style[i];if(Zx(r)){var o=r,a=n.getDefs(!0),s=void 0;o.__dom?(s=o.__dom,a.contains(o.__dom)||n.addDom(s)):s=n.add(o),n.markUsed(e);var l=s.getAttribute("id");t.setAttribute(i,"url(#"+l+")")}}))}},e.prototype.add=function(t){var e;if(Xx(t))e=this.createElement("linearGradient");else{if(!Ux(t))return b("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},e.prototype.update=function(t){if(Zx(t)){var e=this;this.doUpdate(t,(function(){var n=t.__dom;if(n){var i=n.tagName,r=t.type;"linear"===r&&"linearGradient"===i||"radial"===r&&"radialGradient"===i?e.updateDom(t,t.__dom):(e.removeDom(t),e.add(t))}}))}},e.prototype.updateDom=function(t,e){if(Xx(t))e.setAttribute("x1",t.x+""),e.setAttribute("y1",t.y+""),e.setAttribute("x2",t.x2+""),e.setAttribute("y2",t.y2+"");else{if(!Ux(t))return void b("Illegal gradient type.");e.setAttribute("cx",t.x+""),e.setAttribute("cy",t.y+""),e.setAttribute("r",t.r+"")}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,i=0,r=n.length;i<r;++i){var o=this.createElement("stop");o.setAttribute("offset",100*n[i].offset+"%");var a=n[i].color;if(a.indexOf("rgba")>-1){var s=qe(a)[3],l=Je(a);o.setAttribute("stop-color","#"+l),o.setAttribute("stop-opacity",s+"")}else o.setAttribute("stop-color",n[i].color);e.appendChild(o)}t.__dom=e},e.prototype.markUsed=function(e){if(e.style){var n=e.style.fill;n&&n.__dom&&t.prototype.markDomUsed.call(this,n.__dom),(n=e.style.stroke)&&n.__dom&&t.prototype.markDomUsed.call(this,n.__dom)}},e}(Yx);function qx(t){return t&&(!!t.image||!!t.svgElement)}var Kx=new ty,$x=function(t){function e(e,n){return t.call(this,e,n,["pattern"],"__pattern_in_use__")||this}return n(e,t),e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;P(["fill","stroke"],(function(i){var r=e.style[i];if(qx(r)){var o=n.getDefs(!0),a=Kx.get(r);a?o.contains(a)||n.addDom(a):a=n.add(r),n.markUsed(e);var s=a.getAttribute("id");t.setAttribute(i,"url(#"+s+")")}}))}},e.prototype.add=function(t){if(qx(t)){var e=this.createElement("pattern");return t.id=null==t.id?this.nextId++:t.id,e.setAttribute("id","zr"+this._zrId+"-pattern-"+t.id),e.setAttribute("x","0"),e.setAttribute("y","0"),e.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(t,e),this.addDom(e),e}},e.prototype.update=function(t){if(qx(t)){var e=this;this.doUpdate(t,(function(){var n=Kx.get(t);e.updateDom(t,n)}))}},e.prototype.updateDom=function(t,e){var n=t.svgElement;if(n instanceof SVGElement)n.parentNode!==e&&(e.innerHTML="",e.appendChild(n),e.setAttribute("width",t.svgWidth+""),e.setAttribute("height",t.svgHeight+""));else{var i=void 0,r=e.getElementsByTagName("image");if(r.length){if(!t.image)return void e.removeChild(r[0]);i=r[0]}else t.image&&(i=this.createElement("image"));if(i){var o=void 0;if("string"==typeof t.image?o=t.image:t.image instanceof HTMLImageElement?o=t.image.src:t.image instanceof HTMLCanvasElement&&(o=t.image.toDataURL()),o){i.setAttribute("href",o),i.setAttribute("x","0"),i.setAttribute("y","0");var a=to(o,i,{dirty:function(){}},(function(t){e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")}));a&&a.width&&a.height&&(e.setAttribute("width",a.width+""),e.setAttribute("height",a.height+"")),e.appendChild(i)}}}var s="translate("+(t.x||0)+", "+(t.y||0)+") rotate("+(t.rotation||0)/Math.PI*180+") scale("+(t.scaleX||1)+", "+(t.scaleY||1)+")";e.setAttribute("patternTransform",s),Kx.set(t,e)},e.prototype.markUsed=function(e){e.style&&(qx(e.style.fill)&&t.prototype.markDomUsed.call(this,Kx.get(e.style.fill)),qx(e.style.stroke)&&t.prototype.markDomUsed.call(this,Kx.get(e.style.stroke)))},e}(Yx);function Jx(t){var e=t.__clipPaths;return e&&e.length>0}var Qx=function(t){function e(e,n){var i=t.call(this,e,n,"clipPath","__clippath_in_use__")||this;return i._refGroups={},i._keyDuplicateCount={},i}return n(e,t),e.prototype.markAllUnused=function(){for(var e in t.prototype.markAllUnused.call(this),this._refGroups)this.markDomUnused(this._refGroups[e]);this._keyDuplicateCount={}},e.prototype._getClipPathGroup=function(t,e){if(Jx(t)){var n=t.__clipPaths,i=this._keyDuplicateCount,r=function(t){var e=[];if(t)for(var n=0;n<t.length;n++){var i=t[n];e.push(i.id)}return e.join(",")}(n);return cy(n,e&&e.__clipPaths)&&(i[r]=i[r]||0,i[r]&&(r+="-"+i[r]),i[r]++),this._refGroups[r]||(this._refGroups[r]=this.createElement("g"))}},e.prototype.update=function(t,e){var n=this._getClipPathGroup(t,e);return n&&(this.markDomUsed(n),this.updateDom(n,t.__clipPaths)),n},e.prototype.updateDom=function(t,e){if(e&&e.length>0){var n=this.getDefs(!0),i=e[0],r=void 0,o=void 0;i._dom?(o=i._dom.getAttribute("id"),r=i._dom,n.contains(r)||n.appendChild(r)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",o),n.appendChild(r),i._dom=r),this.getSvgProxy(i).brush(i);var a=this.getSvgElement(i);r.innerHTML="",r.appendChild(a),t.setAttribute("clip-path","url(#"+o+")"),e.length>1&&this.updateDom(r,e.slice(1))}else t&&t.setAttribute("clip-path","none")},e.prototype.markUsed=function(e){var n=this;e.__clipPaths&&P(e.__clipPaths,(function(e){e._dom&&t.prototype.markDomUsed.call(n,e._dom)}))},e.prototype.removeUnused=function(){t.prototype.removeUnused.call(this);var e={};for(var n in this._refGroups){var i=this._refGroups[n];this.isDomUnused(i)?i.parentNode&&i.parentNode.removeChild(i):e[n]=i}this._refGroups=e},e}(Yx),tb=function(t){function e(e,n){var i=t.call(this,e,n,["filter"],"__filter_in_use__","_shadowDom")||this;return i._shadowDomMap={},i._shadowDomPool=[],i}return n(e,t),e.prototype._getFromPool=function(){var t=this._shadowDomPool.pop();if(!t){(t=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var e=this.createElement("feDropShadow");t.appendChild(e),this.addDom(t)}return t},e.prototype.update=function(t,e){if(function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}(e.style)){var n=function(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}(e),i=e._shadowDom=this._shadowDomMap[n];i||(i=this._getFromPool(),this._shadowDomMap[n]=i),this.updateDom(t,e,i)}else this.remove(t,e)},e.prototype.remove=function(t,e){null!=e._shadowDom&&(e._shadowDom=null,t.style.filter="")},e.prototype.updateDom=function(t,e,n){var i=n.children[0],r=e.style,o=e.getGlobalScale(),a=o[0],s=o[1];if(a&&s){var l=r.shadowOffsetX||0,u=r.shadowOffsetY||0,h=r.shadowBlur,c=r.shadowColor;i.setAttribute("dx",l/a+""),i.setAttribute("dy",u/s+""),i.setAttribute("flood-color",c);var p=h/2/a+" "+h/2/s;i.setAttribute("stdDeviation",p),n.setAttribute("x","-100%"),n.setAttribute("y","-100%"),n.setAttribute("width","300%"),n.setAttribute("height","300%"),e._shadowDom=n;var d=n.getAttribute("id");t.style.filter="url(#"+d+")"}},e.prototype.removeUnused=function(){if(this.getDefs(!1)){var t=this._shadowDomPool;for(var e in this._shadowDomMap){var n=this._shadowDomMap[e];t.push(n)}this._shadowDomMap={}}},e}(Yx);function eb(t){return parseInt(t,10)}function nb(t){return t instanceof Za?Fx:t instanceof Ja?Gx:t instanceof qa?Wx:Fx}function ib(t,e){return e&&t&&e.parentNode!==t}function rb(t,e,n){if(ib(t,e)&&n){var i=n.nextSibling;i?t.insertBefore(e,i):t.appendChild(e)}}function ob(t,e){if(ib(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function ab(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function sb(t){return t.__svgEl}var lb=function(){function t(t,e,n,i){this.type="svg",this.refreshHover=ub("refreshHover"),this.pathToImage=ub("pathToImage"),this.configLayer=ub("configLayer"),this.root=t,this.storage=e,this._opts=n=I({},n||{});var r=_x("svg");r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style.cssText="user-select:none;position:absolute;left:0;top:0;";var o=_x("g");r.appendChild(o);var a=_x("g");r.appendChild(a),this._gradientManager=new jx(i,a),this._patternManager=new $x(i,a),this._clipPathManager=new Qx(i,a),this._shadowManager=new tb(i,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgDom=r,this._svgRoot=a,this._backgroundRoot=o,this._viewport=s,t.appendChild(s),s.appendChild(r),this.resize(n.width,n.height),this._visibleList=[]}return t.prototype.getType=function(){return"svg"},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.getSvgRoot=function(){return this._svgRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},t.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=_x("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0),e.style.fill=t,this._backgroundRoot.appendChild(e),this._backgroundNode=e},t.prototype.createSVGElement=function(t){return _x(t)},t.prototype.paintOne=function(t){var e=nb(t);return e&&e.brush(t),sb(t)},t.prototype._paintList=function(t){var e=this._gradientManager,n=this._patternManager,i=this._clipPathManager,r=this._shadowManager;e.markAllUnused(),n.markAllUnused(),i.markAllUnused(),r.markAllUnused();for(var o=this._svgRoot,a=this._visibleList,s=t.length,l=[],u=0;u<s;u++){var h=nb(x=t[u]),c=sb(x);x.invisible||(!x.__dirty&&c||(h&&h.brush(x),(c=sb(x))&&x.style&&(e.update(x.style.fill),e.update(x.style.stroke),n.update(x.style.fill),n.update(x.style.stroke),r.update(c,x)),x.__dirty=0),c&&l.push(x))}var p,d,f,g,y,v=Mx(a,l);for(u=0;u<v.length;u++){if((_=v[u]).removed)for(var m=0;m<_.count;m++){c=sb(x=a[_.indices[m]]);Jx(x)?(f=c)&&f.parentNode&&f.parentNode.removeChild(f):ab(o,c)}}for(u=0;u<v.length;u++){var _;(_=v[u]).added;if(!_.removed)for(m=0;m<_.count;m++){var x=l[_.indices[m]],b=i.update(x,g);b!==y&&(p=d,b&&(p?rb(o,b,p):ob(o,b),d=b,p=null),y=b);c=sb(x);p?rb(y||o,c,p):ob(y||o,c),p=c||p,y||(d=p),e.markUsed(x),e.addWithoutUpdate(c,x),n.markUsed(x),n.addWithoutUpdate(c,x),i.markUsed(x),g=x}}e.removeUnused(),n.removeUnused(),i.removeUnused(),r.removeUnused(),this._visibleList=l},t.prototype._getDefs=function(t){var e=this._svgDom,n=e.getElementsByTagName("defs");if(0===n.length){if(t){var i=e.insertBefore(_x("defs"),e.firstChild);return i.contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i}return null}return n[0]},t.prototype.resize=function(t,e){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var r=n.style;r.width=t+"px",r.height=e+"px";var o=this._svgDom;o.setAttribute("width",t+""),o.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||eb(s[n])||eb(a.style[n]))-(eb(s[r])||0)-(eb(s[o])||0)|0},t.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},t.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},t.prototype.toDataURL=function(){this.refresh();var t=this._svgDom,e=t.outerHTML||(t.parentNode&&t.parentNode).innerHTML;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e.replace(/></g,">\n\r<"))},t}();function ub(t){return function(){b('In SVG mode painter not support method "'+t+'"')}}function hb(){return!1}function cb(t,e,n){var i=C(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}var pb=function(t){function e(e,n,i){var r,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||Zn,"string"==typeof e?r=cb(e,n,i):X(e)&&(e=(r=e).id),o.id=e,o.dom=r;var a=r.style;return a&&(r.onselectstart=hb,a.webkitUserSelect="none",a.userSelect="none",a.webkitTapHighlightColor="rgba(0,0,0,0)",a["-webkit-touch-callout"]="none",a.padding="0",a.margin="0",a.borderWidth="0"),o.domBack=null,o.ctxBack=null,o.painter=n,o.config=null,o.dpr=i,o}return n(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=cb("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,l=new Rn(0,0,0,0);function u(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new Rn(0,0,0,0)).copy(t),o.push(e)}else{for(var e,n=!1,i=1/0,r=0,u=0;u<o.length;++u){var h=o[u];if(h.intersect(t)){var c=new Rn(0,0,0,0);c.copy(h),c.union(t),o[u]=c,n=!0;break}if(s){l.copy(t),l.union(h);var p=t.width*t.height,d=h.width*h.height,f=l.width*l.height-p-d;f<i&&(i=f,r=u)}}if(s&&(o[r].union(t),n=!0),!n)(e=new Rn(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var h=this.__startIndex;h<this.__endIndex;++h){if(d=t[h]){var c=d.shouldBePainted(n,i,!0,!0);(f=d.__isRendered&&(d.__dirty&ei.REDARAW_BIT||!c)?d.getPrevPaintRect():null)&&u(f);var p=c&&(d.__dirty&ei.REDARAW_BIT||!d.__isRendered)?d.getPaintRect():null;p&&u(p)}}for(h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var d,f;c=(d=e[h]).shouldBePainted(n,i,!0,!0);if(d&&(!c||!d.__zr)&&d.__isRendered)(f=d.getPrevPaintRect())&&u(f)}do{r=!1;for(h=0;h<o.length;)if(o[h].isZero())o.splice(h,1);else{for(var g=h+1;g<o.length;)o[h].intersect(o[g])?(r=!0,o[h].union(o[g]),o.splice(g,1)):g++;h++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var i=this.dom,r=this.ctx,o=i.width,a=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,u=this.dpr,h=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/u,a/u));var c=this.domBack;function p(t,n,i,o){if(r.clearRect(t,n,i,o),e&&"transparent"!==e){var a=void 0;q(e)?(a=e.__canvasGradient||hy(r,e,{x:0,y:0,width:i,height:o}),e.__canvasGradient=a):K(e)&&(a=my(r,e,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}})),r.save(),r.fillStyle=a||e,r.fillRect(t,n,i,o),r.restore()}s&&(r.save(),r.globalAlpha=l,r.drawImage(c,t,n,i,o),r.restore())}!n||s?p(0,0,o,a):n.length&&P(n,(function(t){p(t.x*u,t.y*u,t.width*u,t.height*u)}))},e}(Ft),db=1e5,fb=314159,gb=.01;function yb(t){return parseInt(t,10)}var vb=function(){function t(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=I({},n||{}),this.dpr=n.devicePixelRatio||Zn,this._singleCanvas=r,this.root=t;var o=t.style;o&&(o.webkitTapHighlightColor="transparent",o.webkitUserSelect="none",o.userSelect="none",o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(r){var l=t,u=l.width,h=l.height;null!=n.width&&(u=n.width),null!=n.height&&(h=n.height),this.dpr=n.devicePixelRatio||1,l.width=u*this.dpr,l.height=h*this.dpr,this._width=u,this._height=h;var c=new pb(l,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=fb,a.push(fb),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(p)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var r=0;r<i.length;r++){var o=i[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(db)),i||(i=n.ctx).save(),Cy(i,a,r,o===e-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(db)},t.prototype.paintOne=function(t,e){Ty(t,e)},t.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,n),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;mi((function(){s._paintList(t,e,n,i)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(fb).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var i=this,r=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&r.push(u)}for(var h=!0,c=!1,p=function(a){var s=r[a],l=s.ctx,u=o&&s.createRepaintRects(t,e,d._width,d._height);l.save();var p,f=n?s.__startIndex:s.__drawIndex,g=!n&&s.incremental&&Date.now,y=g&&Date.now(),v=s.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,v,u);else if(f===s.__startIndex){var m=t[f];m.incremental&&m.notClear&&!n||s.clear(!1,v,u)}-1===f&&(console.error("For some unknown reason. drawIndex is -1"),f=s.__startIndex);var _=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(p=f;p<s.__endIndex;p++){var r=t[p];if(r.__inHover&&(c=!0),i._doPaintEl(r,s,o,e,n,p===s.__endIndex-1),g)if(Date.now()-y>15)break}n.prevElClipPaths&&l.restore()};if(u)if(0===u.length)p=s.__endIndex;else for(var x=d.dpr,b=0;b<u.length;++b){var w=u[b];l.save(),l.beginPath(),l.rect(w.x*x,w.y*x,w.width*x,w.height*x),l.clip(),_(w),l.restore()}else l.save(),_(),l.restore();s.__drawIndex=p,s.__drawIndex<s.__endIndex&&(h=!1)},d=this,f=0;f<r.length;f++)p(f);return a.wxa&&P(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:h,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,n,i,r,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!i||s&&s.intersect(i))&&(Cy(a,t,r,o),t.setPrevPaintRect(s))}else Cy(a,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=fb);var n=this._layers[t];return n||((n=new pb("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?S(n,this._layerConfig[t],!0):this._layerConfig[t-gb]&&S(n,this._layerConfig[t-gb],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,r=i.length,o=this._domRoot,a=null,s=-1;if(n[t])b("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>i[0]){for(s=0;s<r-1&&!(i[s]<t&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}else b("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var i,r,o=null,a=0;for(r=0;r<t.length;r++){var s,l=(s=t[r]).zlevel,u=void 0;i!==l&&(i=l,a=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(l+(a>0?gb:0),this._needsManuallyCompositing),u.__builtin__||b("ZLevel "+l+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,e(r),o=u),s.__dirty&ei.REDARAW_BIT&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=r))}e(r),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,P(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?S(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===t||r===t+gb)S(this._layers[r],n[t],!0)}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(A(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var r in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(fb).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new pb("image",this,t.pixelRatio||this.dpr),n=e.ctx;if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height,o=e.ctx;this.eachLayer((function(t){t.__builtin__?o.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){Cy(n,s[l],a,l===u-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||yb(s[n])||yb(a.style[n]))-(yb(s[r])||0)-(yb(s[o])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,u=t.hasStroke()?o.lineWidth:0,h=Math.max(u/2,-s+a),c=Math.max(u/2,s+a),p=Math.max(u/2,-l+a),d=Math.max(u/2,l+a),f=r.width+h+c,g=r.height+p+d;n.width=f*e,n.height=g*e,i.scale(e,e),i.clearRect(0,0,f,g),i.dpr=e;var y={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=h-r.x,t.y=p-r.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Cy(i,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var v=new Ja({style:{x:0,y:0,image:n}});return I(t,y),v},t}();var mb=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.legendSymbol="line",n}return n(e,t),e.prototype.getInitialData=function(t){return Hm(this.getSource(),this,{useEncodeDefaulter:!0})},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0},e}(rf);function _b(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var r=fd(t,e,n[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<n.length;a++)o.push(fd(t,e,n[a]));return o.join(" ")}}function xb(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!F(e))return e+"";for(var i=[],r=0;r<n.length;r++){var o=t.getDimensionInfo(n[r]);o&&i.push(e[o.index])}return i.join(" ")}var bb=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.updateData(e,n,i,r),o}return n(e,t),e.prototype._createSymbol=function(t,e,n,i,r){this.removeAll();var o=uy(t,-1,-1,2,2,null,r);o.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=wb,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Hs(this.childAt(0))},e.prototype.downplay=function(){Ws(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,n,i,r){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",a=t.hostModel,s=e.getSymbolSize(t,n),l=o!==this._symbolType,u=r&&r.disableAnimation;if(l){var h=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,s,h)}else{(p=this.childAt(0)).silent=!1;var c={scaleX:s[0]/2,scaleY:s[1]/2};u?p.attr(c):Ou(p,c,a,n)}if(this._updateCommon(t,n,s,i,r),l){var p=this.childAt(0);if(!u){c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,Ru(p,c,a,n)}}u&&this.childAt(0).stopAnimation("remove"),this._seriesModel=a},e.prototype._updateCommon=function(t,e,n,i,r){var o,a,s,l,u,h,c,p,d,f=this.childAt(0),g=t.hostModel;if(i&&(o=i.emphasisItemStyle,a=i.blurItemStyle,s=i.selectItemStyle,l=i.focus,u=i.blurScope,h=i.symbolOffset,c=i.labelStatesModels,p=i.hoverScale,d=i.cursorStyle),!i||t.hasItemOption){var y=i&&i.itemModel?i.itemModel:t.getItemModel(e),v=y.getModel("emphasis");o=v.getModel("itemStyle").getItemStyle(),s=y.getModel(["select","itemStyle"]).getItemStyle(),a=y.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),u=v.get("blurScope"),h=y.getShallow("symbolOffset"),c=eh(y),p=v.getShallow("scale"),d=y.getShallow("cursor")}var m=t.getItemVisual(e,"symbolRotate");f.attr("rotation",(m||0)*Math.PI/180||0),h&&(f.x=Zi(h[0],n[0]),f.y=Zi(h[1],n[1])),d&&f.attr("cursor",d);var _=t.getItemVisual(e,"style"),x=_.fill;if(f instanceof Ja){var b=f.style;f.useStyle(I({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},_))}else f.__isEmptyBrush?f.useStyle(I({},_)):f.useStyle(_),f.style.decal=null,f.setColor(x,r&&r.symbolInnerColor),f.style.strokeNoScale=!0;var w=t.getItemVisual(e,"liftZ"),S=this._z2;null!=w?null==S&&(this._z2=f.z2,f.z2+=w):null!=S&&(f.z2=S,this._z2=null);var M=r&&r.useNameLabel;th(f,c,{labelFetcher:g,labelDataIndex:e,defaultText:function(e){return M?t.getName(e):_b(t,e)},inheritColor:x,defaultOpacity:_.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=f.ensureState("emphasis");if(T.style=o,f.ensureState("select").style=s,f.ensureState("blur").style=a,p){var C=Math.max(1.1,3/this._sizeY);T.scaleX=this._sizeX*C,T.scaleY=this._sizeY*C}this.setSymbolScale(1),Js(this,l,u)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e){var n=this.childAt(0),i=this._seriesModel,r=ys(this).dataIndex,o=e&&e.animation;if(this.silent=n.silent=!0,e&&e.fadeLabel){var a=n.getTextContent();a&&Nu(a,{style:{opacity:0}},i,{dataIndex:r,removeOpt:o,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Nu(n,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:r,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]},e}(zi);function wb(t,e){this.parent.drift(t,e)}function Sb(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function Mb(t){return null==t||X(t)||(t={isIgnore:t}),t||{}}function Ib(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverScale:n.get("scale"),labelStatesModels:eh(e),cursorStyle:e.get("cursor")}}var Tb=function(){function t(t){this.group=new zi,this._SymbolCtor=t||bb}return t.prototype.updateData=function(t,e){e=Mb(e);var n=this.group,i=t.hostModel,r=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=Ib(t),l={disableAnimation:a},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};r||n.removeAll(),t.diff(r).add((function(i){var r=u(i);if(Sb(t,r,i,e)){var a=new o(t,i,s,l);a.setPosition(r),t.setItemGraphicEl(i,a),n.add(a)}})).update((function(h,c){var p=r.getItemGraphicEl(c),d=u(h);if(Sb(t,d,h,e)){if(p){p.updateData(t,h,s,l);var f={x:d[0],y:d[1]};a?p.attr(f):Ou(p,f,i)}else(p=new o(t,h)).setPosition(d);n.add(p),t.setItemGraphicEl(h,p)}else n.remove(p)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}))})).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.isPersistent=function(){return!0},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){var i=t._getSymbolPoint(n);e.setPosition(i),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Ib(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}n=Mb(n);for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(Sb(e,o,r,n)){var a=new this._SymbolCtor(e,r,this._seriesScope);a.traverse(i),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(r,a)}}},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()},t}();function Cb(t,e,n){var i=t.getBaseAxis(),r=t.getOtherAxis(i),o=function(t,e){var n=0,i=t.scale.getExtent();"start"===e?n=i[0]:"end"===e?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(r,n),a=i.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(a),h="x"===s||"radius"===s?1:0,c=O(t.dimensions,(function(t){return e.mapDimension(t)})),p=!1,d=e.getCalculationInfo("stackResultDimension");return Fm(e,c[0])&&(p=!0,c[0]=d),Fm(e,c[1])&&(p=!0,c[1]=d),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Ab(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var Db="undefined"!=typeof Float32Array,Lb=Db?Float32Array:Array;function kb(t){return F(t)?Db?new Float32Array(t):t:new Lb(t)}var Pb=Math.min,Ob=Math.max;function Rb(t,e){return isNaN(t)||isNaN(e)}function Nb(t,e,n,i,r,o,a,s,l){for(var u,h,c,p,d,f,g=n,y=0;y<i;y++){var v=e[2*g],m=e[2*g+1];if(g>=r||g<0)break;if(Rb(v,m)){if(l){g+=o;continue}break}if(g===n)t[o>0?"moveTo":"lineTo"](v,m),c=v,p=m;else{var _=v-u,x=m-h;if(_*_+x*x<.5){g+=o;continue}if(a>0){var b=g+o,w=e[2*b],S=e[2*b+1],M=y+1;if(l)for(;Rb(w,S)&&M<i;)M++,w=e[2*(b+=o)],S=e[2*b+1];var I=.5,T=0,C=0,A=void 0,D=void 0;if(M>=i||Rb(w,S))d=v,f=m;else{T=w-u,C=S-h;var L=v-u,k=w-v,P=m-h,O=S-m,R=void 0,N=void 0;"x"===s?(R=Math.abs(L),N=Math.abs(k),d=v-R*a,f=m,A=v+R*a,D=m):"y"===s?(R=Math.abs(P),N=Math.abs(O),d=v,f=m-R*a,A=v,D=m+R*a):(R=Math.sqrt(L*L+P*P),d=v-T*a*(1-(I=(N=Math.sqrt(k*k+O*O))/(N+R))),f=m-C*a*(1-I),D=m+C*a*I,A=Pb(A=v+T*a*I,Ob(w,v)),D=Pb(D,Ob(S,m)),A=Ob(A,Pb(w,v)),f=m-(C=(D=Ob(D,Pb(S,m)))-m)*R/N,d=Pb(d=v-(T=A-v)*R/N,Ob(u,v)),f=Pb(f,Ob(h,m)),A=v+(T=v-(d=Ob(d,Pb(u,v))))*N/R,D=m+(C=m-(f=Ob(f,Pb(h,m))))*N/R)}t.bezierCurveTo(c,p,d,f,v,m),c=A,p=D}else t.lineTo(v,m)}u=v,h=m,g+=o}return y}var Eb=function(){this.smooth=0,this.smoothConstraint=!0},zb=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Eb},e.prototype.buildPath=function(t,e){var n=e.points,i=0,r=n.length/2;if(e.connectNulls){for(;r>0&&Rb(n[2*r-2],n[2*r-1]);r--);for(;i<r&&Rb(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=Nb(t,n,i,r,r,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,r=this.path.data,o=Ca.CMD,a="x"===e,s=[],l=0;l<r.length;){var u=void 0,h=void 0,c=void 0,p=void 0,d=void 0,f=void 0,g=void 0;switch(r[l++]){case o.M:n=r[l++],i=r[l++];break;case o.L:if(u=r[l++],h=r[l++],(g=a?(t-n)/(u-n):(t-i)/(h-i))<=1&&g>=0){var y=a?(h-i)*g+i:(u-n)*g+n;return a?[t,y]:[y,t]}n=u,i=h;break;case o.C:u=r[l++],h=r[l++],c=r[l++],p=r[l++],d=r[l++],f=r[l++];var v=a?Eo(n,u,c,d,t,s):Eo(i,h,p,f,t,s);if(v>0)for(var m=0;m<v;m++){var _=s[m];if(_<=1&&_>=0){y=a?Ro(i,h,p,f,_):Ro(n,u,c,d,_);return a?[t,y]:[y,t]}}n=d,i=f}}},e}(Za),Bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Eb),Vb=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return n(e,t),e.prototype.getDefaultShape=function(){return new Bb},e.prototype.buildPath=function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,o=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;o>0&&Rb(n[2*o-2],n[2*o-1]);o--);for(;r<o&&Rb(n[2*r],n[2*r+1]);r++);}for(;r<o;){var s=Nb(t,n,r,o,o,1,e.smooth,a,e.connectNulls);Nb(t,i,r+s-1,s,o,-1,e.stackedOnSmooth,a,e.connectNulls),r+=s+1,t.closePath()}},e}(Za);function Fb(t,e,n,i,r){var o=t.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=n.get(["lineStyle","width"])||2;a-=h/2,s-=h/2,l+=h,u+=h,a=Math.floor(a),l=Math.round(l);var c=new os({shape:{x:a,y:s,width:l,height:u}});if(e){var p=t.getBaseAxis(),d=p.isHorizontal(),f=p.inverse;d?(f&&(c.shape.x+=l),c.shape.width=0):(f||(c.shape.y+=u),c.shape.height=0),Ru(c,{shape:{width:l,height:u,x:a,y:s}},n,null,i,"function"==typeof r?function(t){r(t,c)}:null)}return c}function Gb(t,e,n){var i=t.getArea(),r=ji(i.r0,1),o=ji(i.r,1),a=new Wl({shape:{cx:ji(t.cx,1),cy:ji(t.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Ru(a,{shape:{endAngle:i.endAngle,r:o}},n));return a}function Hb(t,e,n,i,r){return t?"polar"===t.type?Gb(t,e,n):"cartesian2d"===t.type?Fb(t,e,n,i,r):null:null}function Wb(t,e){return t.type===e}function Yb(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function Xb(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o<t.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[e,n],[i,r]]}function Ub(t,e){var n=Xb(t),i=n[0],r=n[1],o=Xb(e),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function Zb(t){return"number"==typeof t?t:t?.5:0}function jb(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0,s=[],l=[],u=[];a<t.length-2;a+=2)switch(u[0]=t[a+2],u[1]=t[a+3],l[0]=t[a],l[1]=t[a+1],o.push(l[0],l[1]),n){case"end":s[r]=u[r],s[1-r]=l[1-r],o.push(s[0],s[1]);break;case"middle":var h=(l[r]+u[r])/2,c=[];s[r]=c[r]=h,s[1-r]=l[1-r],c[1-r]=u[1-r],o.push(s[0],s[1]),o.push(c[0],c[1]);break;default:s[r]=l[r],s[1-r]=u[1-r],o.push(s[0],s[1])}return o.push(t[a++],t[a++]),o}function qb(t,e,n){var i=t.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*bb.getSymbolSize(e,a)[t.isHorizontal()?1:0]>i)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return P(o.getViewLabels(),(function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function Kb(t,e){return[t[2*e],t[2*e+1]]}function $b(t,e,n,i){if(Wb(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("show"),a=r.get("valueAnimation"),s=i.getData(),l={lastFrameIndex:0},u=o?function(n,i){t._endLabelOnDuring(n,i,s,l,a,r,e)}:null,h=e.getBaseAxis().isHorizontal(),c=Fb(e,n,i,(function(){var e=t._endLabel;e&&n&&null!=l.originalX&&e.attr({x:l.originalX,y:l.originalY})}),u);if(!i.get("clip",!0)){var p=c.shape,d=Math.max(p.width,p.height);h?(p.y-=d,p.height+=2*d):(p.x-=d,p.width+=2*d)}return u&&u(1,c),c}return Gb(e,n,i)}var Jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){var t=new zi,e=new Tb;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=a.getLayout("points")||[],h="polar"===r.type,c=this._coordSys,p=this._symbolDraw,d=this._polyline,f=this._polygon,g=this._lineGroup,y=t.get("animation"),v=!l.isEmpty(),m=l.get("origin"),_=Cb(r,a,m),x=v&&function(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),r=kb(2*i),o=0;o<i;o++){var a=Ab(n,t,e,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(r,a,_),b=t.get("showSymbol"),w=b&&!h&&qb(t,a,r),S=this._data;S&&S.eachItemGraphicEl((function(t,e){t.__temp&&(o.remove(t),S.setItemGraphicEl(e,null))})),b||p.remove(),o.add(g);var M,I=!h&&t.get("step");r&&r.getArea&&t.get("clip",!0)&&(null!=(M=r.getArea()).width?(M.x-=.1,M.y-=.1,M.width+=.2,M.height+=.2):M.r0&&(M.r0-=.5,M.r+=.5)),this._clipShapeForSymbol=M,d&&c.type===r.type&&I===this._step?(v&&!f?f=this._newPolygon(u,x):f&&!v&&(g.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(t,r),g.setClipPath($b(this,r,!1,t)),b&&p.updateData(a,{isIgnore:w,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),Yb(this._stackedOnPoints,x)&&Yb(this._points,u)||(y?this._doUpdateAnimation(a,x,r,n,I,m):(I&&(u=jb(u,r,I),x&&(x=jb(x,r,I))),d.setShape({points:u}),f&&f.setShape({points:u,stackedOnPoints:x})))):(b&&p.updateData(a,{isIgnore:w,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),y&&this._initSymbolLabelAnimation(a,r,M),I&&(u=jb(u,r,I),x&&(x=jb(x,r,I))),d=this._newPolyline(u),v&&(f=this._newPolygon(u,x)),h||this._initOrUpdateEndLabel(t,r),g.setClipPath($b(this,r,!0,t)));var C=function(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var i,r,o=n.length-1;o>=0;o--){var a=n[o].dimension,s=t.dimensions[a],l=t.getDimensionInfo(s);if("x"===(i=l&&l.coordDim)||"y"===i){r=n[o];break}}if(r){var u=e.getAxis(i),h=O(r.stops,(function(t){return{offset:0,coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}})),c=h.length,p=r.outerColors.slice();c&&h[0].coord>h[c-1].coord&&(h.reverse(),p.reverse());var d=h[0].coord-10,f=h[c-1].coord+10,g=f-d;if(g<.001)return"transparent";P(h,(function(t){t.offset=(t.coord-d)/g})),h.push({offset:c?h[c-1].offset:.5,color:p[1]||"transparent"}),h.unshift({offset:c?h[0].offset:.5,color:p[0]||"transparent"});var y=new uu(0,0,0,0,h,!0);return y[i]=d,y[i+"2"]=f,y}}}(a,r)||a.getVisual("style")[a.getVisual("drawType")],A=t.get(["emphasis","focus"]),D=t.get(["emphasis","blurScope"]);(d.useStyle(T(s.getLineStyle(),{fill:"none",stroke:C,lineJoin:"bevel"})),nl(d,t,"lineStyle"),d.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(d.getState("emphasis").style.lineWidth=d.style.lineWidth+1);ys(d).seriesIndex=t.seriesIndex,Js(d,A,D);var L=Zb(t.get("smooth")),k=t.get("smoothMonotone"),R=t.get("connectNulls");if(d.setShape({smooth:L,smoothMonotone:k,connectNulls:R}),f){var N=a.getCalculationInfo("stackedOnSeries"),E=0;f.useStyle(T(l.getAreaStyle(),{fill:C,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),N&&(E=Zb(N.get("smooth"))),f.setShape({smooth:L,stackedOnSmooth:E,smoothMonotone:k,connectNulls:R}),nl(f,t,"areaStyle"),ys(f).seriesIndex=t.seriesIndex,Js(f,A,D)}var z=function(t){i._changePolyState(t)};a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=z)})),this._polyline.onHoverStateChange=z,this._data=a,this._coordSys=r,this._stackedOnPoints=x,this._points=u,this._step=I,this._valueOrigin=m},e.prototype.dispose=function(){},e.prototype.highlight=function(t,e,n,i){var r=t.getData(),o=Dr(r,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var a=r.getLayout("points"),s=r.getItemGraphicEl(o);if(!s){var l=a[2*o],u=a[2*o+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;(s=new bb(r,o)).x=l,s.y=u,s.setZ(t.get("zlevel"),t.get("z")),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else yf.prototype.highlight.call(this,t,e,n,i)},e.prototype.downplay=function(t,e,n,i){var r=t.getData(),o=Dr(r,i);if(this._changePolyState("normal"),null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else yf.prototype.downplay.call(this,t,e,n,i)},e.prototype._changePolyState=function(t){var e=this._polygon;Vs(this._polyline,t),e&&Vs(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new zb({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Vb({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var i,r,o=e.getBaseAxis(),a=o.inverse;"cartesian2d"===e.type?(i=o.isHorizontal(),r=!1):"polar"===e.type&&(i="angle"===o.dim,r=!0);var s=t.hostModel,l=s.get("animationDuration");"function"==typeof l&&(l=l(null));var u=s.get("animationDelay")||0,h="function"==typeof u?u(null):u;t.eachItemGraphicEl((function(t,o){var s=t;if(s){var c=[t.x,t.y],p=void 0,d=void 0,f=void 0;if(r){var g=n,y=e.pointToCoord(c);i?(p=g.startAngle,d=g.endAngle,f=-y[1]/180*Math.PI):(p=g.r0,d=g.r,f=y[0])}else{var v=n;i?(p=v.x,d=v.x+v.width,f=t.x):(p=v.y+v.height,d=v.y,f=t.y)}var m=d===p?0:(f-p)/(d-p);a&&(m=1-m);var _="function"==typeof u?u(o):l*m+h,x=s.getSymbolPath(),b=x.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,delay:_}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:_}),x.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e){var n=t.getModel("endLabel");if(n.get("show")){var i=t.getData(),r=this._polyline,o=this._endLabel;o||((o=this._endLabel=new ls({z2:200})).ignoreClip=!0,r.setTextContent(this._endLabel),r.disableLabelAnimation=!0);var a=function(t){for(var e,n,i=t.length/2;i>0&&(e=t[2*i-2],n=t[2*i-1],isNaN(e)||isNaN(n));i--);return i-1}(i.getLayout("points"));a>=0&&(th(r,eh(t,"endLabel"),{labelFetcher:t,labelDataIndex:a,defaultText:function(t,e,n){return null!=n?xb(i,n):_b(i,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),i=n.isHorizontal(),r=n.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||a}}}(n,e)),r.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,i,r,o,a){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==i.originalX&&(i.originalX=s.x,i.originalY=s.y);var u=n.getLayout("points"),h=n.hostModel,c=h.get("connectNulls"),p=o.get("precision"),d=o.get("distance")||0,f=a.getBaseAxis(),g=f.isHorizontal(),y=f.inverse,v=e.shape,m=y?g?v.x:v.y+v.height:g?v.x+v.width:v.y,_=(g?d:0)*(y?-1:1),x=(g?0:-d)*(y?-1:1),b=g?"x":"y",w=function(t,e,n){for(var i,r,o=t.length/2,a="x"===n?0:1,s=0,l=-1,u=0;u<o;u++)if(r=t[2*u+a],!isNaN(r)&&!isNaN(t[2*u+1-a]))if(0!==u){if(i<=e&&r>=e||i>=e&&r<=e){l=u;break}s=u,i=r}else i=r;return{range:[s,l],t:(e-i)/(r-i)}}(u,m,b),S=w.range,M=S[1]-S[0],I=void 0;if(M>=1){if(M>1&&!c){var T=Kb(u,S[0]);s.attr({x:T[0]+_,y:T[1]+x}),r&&(I=h.getRawValue(S[0]))}else{(T=l.getPointOn(m,b))&&s.attr({x:T[0]+_,y:T[1]+x});var C=h.getRawValue(S[0]),A=h.getRawValue(S[1]);r&&(I=Br(n,p,C,A,w.t))}i.lastFrameIndex=S[0]}else{var D=1===t||i.lastFrameIndex>0?S[0]:0;T=Kb(u,D);r&&(I=h.getRawValue(D)),s.attr({x:T[0]+_,y:T[1]+x})}r&&uh(s).setLabelText(I)}},e.prototype._doUpdateAnimation=function(t,e,n,i,r,o){var a=this._polyline,s=this._polygon,l=t.hostModel,u=function(t,e,n,i,r,o,a,s){for(var l=function(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}(t,e),u=[],h=[],c=[],p=[],d=[],f=[],g=[],y=Cb(r,e,a),v=Cb(o,t,s),m=t.getLayout("points")||[],_=e.getLayout("points")||[],x=0;x<l.length;x++){var b=l[x],w=!0,S=void 0,M=void 0;switch(b.cmd){case"=":S=2*b.idx,M=2*b.idx1;var I=m[S],T=m[S+1],C=_[M],A=_[M+1];(isNaN(I)||isNaN(T))&&(I=C,T=A),u.push(I,T),h.push(C,A),c.push(n[S],n[S+1]),p.push(i[M],i[M+1]),g.push(e.getRawIndex(b.idx1));break;case"+":var D=b.idx,L=y.dataDimsForPoint,k=r.dataToPoint([e.get(L[0],D),e.get(L[1],D)]);M=2*D,u.push(k[0],k[1]),h.push(_[M],_[M+1]);var P=Ab(y,r,e,D);c.push(P[0],P[1]),p.push(i[M],i[M+1]),g.push(e.getRawIndex(D));break;case"-":var O=b.idx,R=t.getRawIndex(O),N=v.dataDimsForPoint;if(S=2*O,R!==O){var E=o.dataToPoint([t.get(N[0],O),t.get(N[1],O)]),z=Ab(v,o,t,O);u.push(m[S],m[S+1]),h.push(E[0],E[1]),c.push(n[S],n[S+1]),p.push(z[0],z[1]),g.push(R)}else w=!1}w&&(d.push(b),f.push(f.length))}f.sort((function(t,e){return g[t]-g[e]}));var B=u.length,V=kb(B),F=kb(B),G=kb(B),H=kb(B),W=[];for(x=0;x<f.length;x++){var Y=f[x],X=2*x,U=2*Y;V[X]=u[U],V[X+1]=u[U+1],F[X]=h[U],F[X+1]=h[U+1],G[X]=c[U],G[X+1]=c[U+1],H[X]=p[U],H[X+1]=p[U+1],W[x]=d[Y]}return{current:V,next:F,stackedOnCurrent:G,stackedOnNext:H,status:W}}(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,o),h=u.current,c=u.stackedOnCurrent,p=u.next,d=u.stackedOnNext;if(r&&(h=jb(u.current,n,r),c=jb(u.stackedOnCurrent,n,r),p=jb(u.next,n,r),d=jb(u.stackedOnNext,n,r)),Ub(h,p)>3e3||s&&Ub(c,d)>3e3)return a.setShape({points:p}),void(s&&s.setShape({points:p,stackedOnPoints:d}));a.shape.__points=u.current,a.shape.points=h;var f={shape:{points:p}};u.current!==h&&(f.shape.__points=u.next),a.stopAnimation(),Ou(a,f,l),s&&(s.setShape({points:h,stackedOnPoints:c}),s.stopAnimation(),Ou(s,{shape:{stackedOnPoints:d}},l),a.shape.points!==s.shape.points&&(s.shape.points=a.shape.points));for(var g=[],y=u.status,v=0;v<y.length;v++){if("="===y[v].cmd){var m=t.getItemGraphicEl(y[v].idx1);m&&g.push({el:m,ptIdx:v})}}a.animators&&a.animators.length&&a.animators[0].during((function(){s&&s.dirtyShape();for(var t=a.shape.__points,e=0;e<g.length;e++){var n=g[e].el,i=2*g[e].ptIdx;n.x=t[i],n.y=t[i+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(yf);function Qb(t,e){return{seriesType:t,plan:df(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,r=t.pipelineContext,o=e||r.large;if(i){var a=O(i.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");Fm(n,a[0])&&(a[0]=l),Fm(n,a[1])&&(a[1]=l);var u=n.getDimensionInfo(a[0]),h=n.getDimensionInfo(a[1]),c=u&&u.index,p=h&&h.index;return s&&{progress:function(t,e){for(var n=t.end-t.start,r=o&&kb(n*s),a=[],l=[],u=t.start,h=0;u<t.end;u++){var d=void 0;if(1===s){var f=e.getByDimIdx(c,u);d=i.dataToPoint(f,null,l)}else a[0]=e.getByDimIdx(c,u),a[1]=e.getByDimIdx(p,u),d=i.dataToPoint(a,null,l);o?(r[h++]=d[0],r[h++]=d[1]):e.setItemLayout(u,d.slice())}o&&e.setLayout("points",r)}}}}}}var tw={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},ew=function(t){return Math.round(t.length/2)};function nw(t){return{seriesType:t,reset:function(t,e,n){var i=t.getData(),r=t.get("sampling"),o=t.coordinateSystem,a=i.count();if(a>10&&"cartesian2d"===o.type&&r){var s=o.getBaseAxis(),l=o.getOtherAxis(s),u=s.getExtent(),h=n.getDevicePixelRatio(),c=Math.abs(u[1]-u[0])*(h||1),p=Math.round(a/c);if(p>1){"lttb"===r&&t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/p));var d=void 0;"string"==typeof r?d=tw[r]:"function"==typeof r&&(d=r),d&&t.setData(i.downSample(i.mapDimension(l.dim),1/p,d,ew))}}}}}var iw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(t,e){return Hm(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(rf);rf.registerClass(iw);var rw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(){return Hm(this.getSource(),this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Th(iw.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(iw),ow=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},aw=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return n(e,t),e.prototype.getDefaultShape=function(){return new ow},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-r),s=r+a,l=e.startAngle,u=e.endAngle,h=e.clockwise,c=Math.cos(l),p=Math.sin(l),d=Math.cos(u),f=Math.sin(u);(h?u-l<2*Math.PI:l-u<2*Math.PI)&&(t.moveTo(c*r+n,p*r+i),t.arc(c*s+n,p*s+i,a,-Math.PI+l,l,!h)),t.arc(n,i,o,l,u,!h),t.moveTo(d*o+n,f*o+i),t.arc(d*s+n,f*s+i,a,u-2*Math.PI,u-Math.PI,!h),0!==r&&(t.arc(n,i,r,u,l,h),t.moveTo(c*r+n,f*r+i)),t.closePath()},e}(Za),sw=["itemStyle","borderWidth"],lw=["itemStyle","borderRadius"],uw=[0,0],hw=Math.max,cw=Math.min;var pw=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return n(e,t),e.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var r=t.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._incrementalRenderLarge(t,e)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,i){var r,o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?r=u.isHorizontal():"polar"===l.type&&(r="angle"===u.dim);var h=t.isAnimationEnabled()?t:null,c=function(t,e){var n=t.get("realtimeSort",!0),i=e.getBaseAxis();0;if(n&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,l);c&&this._enableRealtimeSort(c,a,n);var p=t.get("clip",!0)||c,d=function(t,e){var n=t.getArea&&t.getArea();if(Wb(t,"cartesian2d")){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,a);o.removeClipPath();var f=t.get("roundCap",!0),g=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),v=y.get("borderRadius")||0,m=[],_=this._backgroundEls,x=i&&i.isInitSort,b=i&&"changeAxisOrder"===i.type;function w(t){var e=yw[l.type](a,t),n=function(t,e,n){return new("polar"===t.type?Wl:os)({shape:ww(e,n,t),silent:!0,z2:0})}(l,r,e);return n.useStyle(y.getItemStyle()),"cartesian2d"===l.type&&n.setShape("r",v),m[t]=n,n}a.diff(s).add((function(e){var n=a.getItemModel(e),i=yw[l.type](a,e,n);if(g&&w(e),a.hasValue(e)){var s=!1;p&&(s=dw[l.type](d,i));var y=fw[l.type](t,a,e,i,r,h,u.model,!1,f);vw(y,a,e,n,i,t,r,"polar"===l.type),x?y.attr({shape:i}):c?gw(c,h,y,i,e,r,!1,!1):Ru(y,{shape:i},t,e),a.setItemGraphicEl(e,y),o.add(y),y.ignore=s}})).update((function(e,n){var i=a.getItemModel(e),S=yw[l.type](a,e,i);if(g){var M=void 0;0===_.length?M=w(n):((M=_[n]).useStyle(y.getItemStyle()),"cartesian2d"===l.type&&M.setShape("r",v),m[e]=M);var I=yw[l.type](a,e);Ou(M,{shape:ww(r,I,l)},h,e)}var T=s.getItemGraphicEl(n);if(!a.hasValue(e))return o.remove(T),void(T=null);var C=!1;p&&(C=dw[l.type](d,S))&&o.remove(T),T||(T=fw[l.type](t,a,e,S,r,h,u.model,!!T,f)),b||vw(T,a,e,i,S,t,r,"polar"===l.type),x?T.attr({shape:S}):c?gw(c,h,T,S,e,r,!0,b):Ou(T,{shape:S},t,e,null),a.setItemGraphicEl(e,T),T.ignore=C,o.add(T)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&zu(n,t,e)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new zi);S.removeAll();for(var M=0;M<m.length;++M)S.add(m[M]);o.add(S),this._backgroundEls=m,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),xw(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),xw(e,this.group,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)?Hb(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var i=this;if(e.count()){var r=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var o=function(t){var n=e.getItemGraphicEl(t);if(n){var i=n.shape;return(r.isHorizontal()?Math.abs(i.height):Math.abs(i.width))||0}return 0};this._onRendered=function(){i._updateSortWithinSameData(e,o,r,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var i=[];return t.each(t.mapDimension(e.dim),(function(t,e){var r=n(e);r=null==r?NaN:r,i.push({dataIndex:e,mappedValue:r,ordinalNumber:t})})),i.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:O(i,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,r=t.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=i.getOrdinalMeta().categories.length;a<s;++a){var l=t.rawIndexOf(r,i.getRawOrdinalNumber(a)),u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=n.getExtent(),r=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=o;++r)if(t.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,i){if(this._isOrderChangedWithinSameData(t,e,n)){var r=this._dataSort(t,n,e);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},e.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,r=this._dataSort(t,i,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r,animation:{duration:0}})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){zu(e,t,ys(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(yf),dw={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=t.x+t.width,o=t.y+t.height,a=hw(e.x,t.x),s=cw(e.x+e.width,r),l=hw(e.y,t.y),u=cw(e.y+e.height,o),h=s<a,c=u<l;return e.x=h&&a>r?s:a,e.y=c&&l>o?u:l,e.width=h?0:s-a,e.height=c?0:u-l,n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),h||c},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var i=e.r;e.r=e.r0,e.r0=i}var r=cw(e.r,t.r),o=hw(e.r0,t.r0);e.r=r,e.r0=o;var a=r-o<0;if(n<0){i=e.r;e.r=e.r0,e.r0=i}return a}},fw={cartesian2d:function(t,e,n,i,r,o,a,s,l){var u=new os({shape:I({},i),z2:1});(u.__dataIndex=n,u.name="item",o)&&(u.shape[r?"height":"width"]=0);return u},polar:function(t,e,n,i,r,o,a,s,l){var u=i.startAngle<i.endAngle,h=new(!r&&l?aw:Wl)({shape:T({clockwise:u},i),z2:1});if(h.name="item",o){var c=r?"r":"endAngle",p={};h.shape[c]=r?0:i.startAngle,p[c]=i[c],(s?Ou:Ru)(h,{shape:p},o)}return h}};function gw(t,e,n,i,r,o,a,s){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?Ou:Ru)(n,{shape:l},e,r,null),(a?Ou:Ru)(n,{shape:u},e?t.baseAxis.model:null,r)}var yw={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?function(t,e){var n=t.get(sw)||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),r=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,r)}(n,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function vw(t,e,n,i,r,o,a,s){var l=e.getItemVisual(n,"style");s||t.setShape("r",i.get(lw)||0),t.useStyle(l);var u=i.getShallow("cursor");if(u&&t.attr("cursor",u),!s){var h=a?r.height>0?"bottom":"top":r.width>0?"left":"right",c=eh(i);th(t,c,{labelFetcher:o,labelDataIndex:n,defaultText:_b(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h}),hh(t.getTextContent(),c,o.getRawValue(n),(function(t){return xb(e,t)}))}var p=i.getModel(["emphasis"]);Js(t,p.get("focus"),p.get("blurScope")),nl(t,i),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(r)&&(t.style.fill="none",t.style.stroke="none",P(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var mw=function(){},_w=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return n(e,t),e.prototype.getDefaultShape=function(){return new mw},e.prototype.buildPath=function(t,e){for(var n=e.points,i=this.__startPoint,r=this.__baseDimIdx,o=0;o<n.length;o+=2)i[r]=n[o+r],t.moveTo(i[0],i[1]),t.lineTo(n[o],n[o+1])},e}(Za);function xw(t,e,n){var i=t.getData(),r=[],o=i.getLayout("valueAxisHorizontal")?1:0;r[1-o]=i.getLayout("valueAxisStart");var a=i.getLayout("largeDataIndices"),s=i.getLayout("barWidth"),l=t.getModel("backgroundStyle");if(t.get("showBackground",!0)){var u=i.getLayout("largeBackgroundPoints"),h=[];h[1-o]=i.getLayout("backgroundStart");var c=new _w({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.__startPoint=h,c.__baseDimIdx=o,c.__largeDataIndices=a,c.__barWidth=s,function(t,e,n){var i=e.get("borderColor")||e.get("color"),r=e.getItemStyle();t.useStyle(r),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=n.getLayout("barWidth")}(c,l,i),e.add(c)}var p=new _w({shape:{points:i.getLayout("largePoints")},incremental:!!n});p.__startPoint=r,p.__baseDimIdx=o,p.__largeDataIndices=a,p.__barWidth=s,e.add(p),function(t,e,n){var i=n.getVisual("style");t.useStyle(I({},i)),t.style.fill=null,t.style.stroke=i.fill,t.style.lineWidth=n.getLayout("barWidth")}(p,0,i),ys(p).seriesIndex=t.seriesIndex,t.get("silent")||(p.on("mousedown",bw),p.on("mousemove",bw))}var bw=If((function(t){var e=function(t,e,n){var i=t.__baseDimIdx,r=1-i,o=t.shape.points,a=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[r];uw[0]=e,uw[1]=n;for(var u=uw[i],h=uw[1-i],c=u-s,p=u+s,d=0,f=o.length/2;d<f;d++){var g=2*d,y=o[g+i],v=o[g+r];if(y>=c&&y<=p&&(l<=v?h>=l&&h<=v:h>=v&&h<=l))return a[d]}return-1}(this,t.offsetX,t.offsetY);ys(this).dataIndex=e>=0?e:null}),30,!1);function ww(t,e,n){if(Wb(n,"cartesian2d")){var i=e,r=n.getArea();return{x:t?i.x:r.x,y:t?r.y:i.y,width:t?i.width:r.width,height:t?r.height:i.height}}var o=e;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:t?r.r0:o.r0,r:t?r.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:2*Math.PI}}var Sw=2*Math.PI,Mw=Math.PI/180;function Iw(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.getData(),i=e.mapDimension("value"),r=function(t,e){return Ac(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,n),o=t.get("center"),a=t.get("radius");F(a)||(a=[0,a]),F(o)||(o=[o,o]);var s=Zi(r.width,n.getWidth()),l=Zi(r.height,n.getHeight()),u=Math.min(s,l),h=Zi(o[0],s)+r.x,c=Zi(o[1],l)+r.y,p=Zi(a[0],u/2),d=Zi(a[1],u/2),f=-t.get("startAngle")*Mw,g=t.get("minAngle")*Mw,y=0;e.each(i,(function(t){!isNaN(t)&&y++}));var v=e.getSum(i),m=Math.PI/(v||y)*2,_=t.get("clockwise"),x=t.get("roseType"),b=t.get("stillShowZeroSum"),w=e.getDataExtent(i);w[0]=0;var S=Sw,M=0,I=f,T=_?1:-1;if(e.setLayout({viewRect:r,r:d}),e.each(i,(function(t,n){var i;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:h,cy:c,r0:p,r:x?NaN:d});else{(i="area"!==x?0===v&&b?m:t*m:Sw/y)<g?(i=g,S-=g):M+=t;var r=I+T*i;e.setItemLayout(n,{angle:i,startAngle:I,endAngle:r,clockwise:_,cx:h,cy:c,r0:p,r:x?Ui(t,w,[p,d]):d}),I=r}})),S<Sw&&y)if(S<=.001){var C=Sw/y;e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n);i.angle=C,i.startAngle=f+T*n*C,i.endAngle=f+T*(n+1)*C}}))}else m=S/M,I=f,e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n),r=i.angle===g?g:t*m;i.startAngle=I,i.endAngle=I+T*r,I+=T*r}}))}))}function Tw(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var i=t.getData();i.filterSelf((function(t){for(var e=i.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(e))return!1;return!0}))}}}}var Cw=Math.PI/180;function Aw(t,e,n,i,r,o,a,s,l,u){if(!(t.length<2)){for(var h=t.length,c=0;c<h;c++)if("outer"===t[c].position&&"labelLine"===t[c].labelAlignTo){var p=t[c].label.x-u;t[c].linePoints[1][0]+=p,t[c].label.x=u}Fg(t,l,l+a)&&function(t){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<t.length;s++)if("none"===t[s].labelAlignTo){var l=t[s],u=l.label.y>n?a:o,h=Math.abs(l.label.y-n);if(h>u.maxY){var c=l.label.x-e-l.len2*r,p=i+l.len,f=c<p?Math.sqrt(h*h/(1-c*c/p/p)):p;u.rB=f,u.maxY=h}u.list.push(l)}d(o),d(a)}(t)}function d(t){for(var o=t.rB,a=o*o,s=0;s<t.list.length;s++){var l=t.list[s],u=Math.abs(l.label.y-n),h=i+l.len,c=h*h,p=Math.sqrt((1-Math.abs(u*u/a))*c);l.label.x=e+(p+l.len2)*r}}}function Dw(t){return"center"===t.position}function Lw(t){var e,n,i=t.getData(),r=[],o=!1,a=(t.get("minShowLabelAngle")||0)*Cw,s=i.getLayout("viewRect"),l=i.getLayout("r"),u=s.width,h=s.x,c=s.y,p=s.height;function d(t){t.ignore=!0}i.each((function(t){var s=i.getItemGraphicEl(t),c=s.shape,p=s.getTextContent(),f=s.getTextGuideLine(),g=i.getItemModel(t),y=g.getModel("label"),v=y.get("position")||g.get(["emphasis","label","position"]),m=y.get("distanceToLabelLine"),_=y.get("alignTo"),x=Zi(y.get("edgeDistance"),u),b=y.get("bleedMargin"),w=g.getModel("labelLine"),S=w.get("length");S=Zi(S,u);var M=w.get("length2");if(M=Zi(M,u),Math.abs(c.endAngle-c.startAngle)<a)return P(p.states,d),void(p.ignore=!0);if(function(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}(p)){var I,T,C,A,D=(c.startAngle+c.endAngle)/2,L=Math.cos(D),k=Math.sin(D);e=c.cx,n=c.cy;var O,R="inside"===v||"inner"===v;if("center"===v)I=c.cx,T=c.cy,A="center";else{var N=(R?(c.r+c.r0)/2*L:c.r*L)+e,E=(R?(c.r+c.r0)/2*k:c.r*k)+n;if(I=N+3*L,T=E+3*k,!R){var z=N+L*(S+l-c.r),B=E+k*(S+l-c.r),V=z+(L<0?-1:1)*M;I="edge"===_?L<0?h+x:h+u-x:V+(L<0?-m:m),T=B,C=[[N,E],[z,B],[V,B]]}A=R?"center":"edge"===_?L>0?"right":"left":L>0?"left":"right"}var F=y.get("rotate");if(O="number"==typeof F?F*(Math.PI/180):F?L<0?-D+Math.PI:-D:0,o=!!O,p.x=I,p.y=T,p.rotation=O,p.setStyle({verticalAlign:"middle"}),R){p.setStyle({align:A});var G=p.states.select;G&&(G.x+=p.x,G.y+=p.y)}else{var H=p.getBoundingRect().clone();H.applyTransform(p.getComputedTransform());var W=(p.style.margin||0)+2.1;H.y-=W/2,H.height+=W,r.push({label:p,labelLine:f,position:v,len:S,len2:M,minTurnAngle:w.get("minTurnAngle"),maxSurfaceAngle:w.get("maxSurfaceAngle"),surfaceNormal:new In(L,k),linePoints:C,textAlign:A,labelDistance:m,labelAlignTo:_,edgeDistance:x,bleedMargin:b,rect:H})}s.setTextConfig({inside:R})}})),!o&&t.get("avoidLabelOverlap")&&function(t,e,n,i,r,o,a,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,p=0;p<t.length;p++){var d=t[p].label;Dw(t[p])||(d.x<e?(h=Math.min(h,d.x),l.push(t[p])):(c=Math.max(c,d.x),u.push(t[p])))}for(Aw(u,e,n,i,1,0,o,0,s,c),Aw(l,e,n,i,-1,0,o,0,s,h),p=0;p<t.length;p++){var f=t[p];if(d=f.label,!Dw(f)){var g=f.linePoints;if(g){var y="edge"===f.labelAlignTo,v=f.rect.width,m=void 0;(m=y?d.x<e?g[2][0]-f.labelDistance-a-f.edgeDistance:a+r-f.edgeDistance-g[2][0]-f.labelDistance:d.x<e?d.x-a-f.bleedMargin:a+r-d.x-f.bleedMargin)<f.rect.width&&(f.label.style.width=m,"edge"===f.labelAlignTo&&(v=m));var _=g[1][0]-g[2][0];y?d.x<e?g[2][0]=a+f.edgeDistance+v+f.labelDistance:g[2][0]=a+r-f.edgeDistance-v-f.labelDistance:(d.x<e?g[2][0]=d.x+f.labelDistance:g[2][0]=d.x-f.labelDistance,g[1][0]=g[2][0]+_),g[1][1]=g[2][1]=d.y}}}}(r,e,n,l,u,p,h,c);for(var f=0;f<r.length;f++){var g=r[f],y=g.label,v=g.labelLine,m=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign}),m&&(P(y.states,d),y.ignore=!0);var _=y.states.select;_&&(_.x+=y.x,_.y+=y.y)}if(v){var x=g.linePoints;m||!x?(P(v.states,d),v.ignore=!0):(Og(x,g.minTurnAngle),Rg(x,g.surfaceNormal,g.maxSurfaceAngle),v.setShape({points:x}),y.__hostTarget.textGuideLineConfig={anchor:new In(x[0][0],x[0][1])})}}}function kw(t,e){var n=t.get("borderRadius");return null==n?null:(F(n)||(n=[n,n]),{innerCornerRadius:Yn(n[0],e.r0),cornerRadius:Yn(n[1],e.r)})}var Pw=function(t){function e(e,n,i){var r=t.call(this)||this;r.z2=2;var o=new $l,a=new ls;return r.setTextGuideLine(o),r.setTextContent(a),r.updateData(e,n,i,!0),r}return n(e,t),e.prototype.updateData=function(t,e,n,r){var o=this,a=t.hostModel,s=t.getItemModel(e),l=s.getModel("emphasis"),u=t.getItemLayout(e),h=I(kw(s.getModel("itemStyle"),u)||{},u);r?(o.setShape(h),"scale"===a.getShallow("animationType")?(o.shape.r=u.r0,Ru(o,{shape:{r:u.r}},a,e)):null!=n?(o.setShape({startAngle:n,endAngle:n}),Ru(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},a,e)):(o.shape.endAngle=u.startAngle,Ou(o,{shape:{endAngle:u.endAngle}},a,e))):Ou(o,{shape:h},a,e);o.useStyle(t.getItemVisual(e,"style")),nl(o,s);var c=(u.startAngle+u.endAngle)/2,p=a.get("selectedOffset"),d=Math.cos(c)*p,f=Math.sin(c)*p,g=s.getShallow("cursor");g&&o.attr("cursor",g),this._updateLabel(a,t,e),o.ensureState("emphasis").shape=i({r:u.r+(l.get("scale")&&l.get("scaleSize")||0)},kw(l.getModel("itemStyle"),u)),I(o.ensureState("select"),{x:d,y:f,shape:kw(s.getModel(["select","itemStyle"]),u)}),I(o.ensureState("blur"),{shape:kw(s.getModel(["blur","itemStyle"]),u)});var y=o.getTextGuideLine(),v=o.getTextContent();I(y.ensureState("select"),{x:d,y:f}),I(v.ensureState("select"),{x:d,y:f}),Js(this,l.get("focus"),l.get("blurScope"))},e.prototype._updateLabel=function(t,e,n){var i=this,r=e.getItemModel(n),o=r.getModel("labelLine"),a=e.getItemVisual(n,"style"),s=a&&a.fill,l=a&&a.opacity;th(i,eh(r),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null}),u.attr({z2:10}),zg(this,Bg(r),{stroke:s,opacity:et(o.get(["lineStyle","opacity"]),l,1)})},e}(Wl),Ow=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return n(e,t),e.prototype.init=function(){var t=new zi;this._sectorGroup=t},e.prototype.render=function(t,e,n,i){var r,o=t.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(r=l.startAngle)}o.diff(a).add((function(t){var e=new Pw(o,t,r);o.setItemGraphicEl(t,e),s.add(e)})).update((function(t,e){var n=a.getItemGraphicEl(e);n.updateData(o,t,r),n.off("click"),s.add(n),o.setItemGraphicEl(t,n)})).remove((function(e){zu(a.getItemGraphicEl(e),t,e)})).execute(),Lw(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},e.type="pie",e}(yf);function Rw(t,e,n){e=F(e)&&{coordDimensions:e}||I({},e);var i=t.getSource(),r=Nm(i,e),o=new Pm(r,t);return o.initData(i,n),o}var Nw=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),Ew=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.useColorPaletteOnData=!0,e}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nw(B(this.getData,this),B(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Rw(this,{coordDimensions:["value"],encodeDefaulter:V(Qc,this)})},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=[];return n.each(n.mapDimension("value"),(function(t){r.push(t)})),i.percent=Qi(r,e,n.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},e.prototype._defaultLabelLine=function(t){xr(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(rf);var zw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){return Hm(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},e}(rf),Bw=function(){},Vw=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Bw},e.prototype.buildPath=function(t,e){var n=e.points,i=e.size,r=this.symbolProxy,o=r.shape,a=t.getContext?t.getContext():t;if(a&&i[0]<4)this._ctx=a;else{this._ctx=null;for(var s=0;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||(this.softClipShape&&!this.softClipShape.contain(l,u)||(o.x=l-i[0]/2,o.y=u-i[1]/2,o.width=i[0],o.height=i[1],r.buildPath(t,o,!0)))}}},e.prototype.afterBrush=function(){var t=this.shape,e=t.points,n=t.size,i=this._ctx;if(i)for(var r=0;r<e.length;){var o=e[r++],a=e[r++];isNaN(o)||isNaN(a)||(this.softClipShape&&!this.softClipShape.contain(o,a)||i.fillRect(o-n[0]/2,a-n[1]/2,n[0],n[1]))}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-o/2,h=i[l+1]-a/2;if(t>=u&&e>=h&&t<=u+o&&e<=h+a)return s}return-1},e}(Za),Fw=function(){function t(){this.group=new zi}return t.prototype.isPersistent=function(){return!this._incremental},t.prototype.updateData=function(t,e){this.group.removeAll();var n=new Vw({rectHover:!0,cursor:"default"});n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,!1,e),this.group.add(n),this._incremental=null},t.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e)}))}},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new vu({silent:!0})),this.group.add(this._incremental)):this._incremental=null},t.prototype.incrementalUpdate=function(t,e,n){var i;this._incremental?(i=new Vw,this._incremental.addDisplayable(i,!0)):((i=new Vw({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,!!this._incremental,n)},t.prototype._setCommon=function(t,e,n,i){var r=e.hostModel;i=i||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=i.clipShape||null,t.symbolProxy=uy(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;if(l&&t.setColor(l),!n){var u=ys(t);u.seriesIndex=r.seriesIndex,t.on("mousemove",(function(e){u.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(u.dataIndex=n+(t.startIndex||0))}))}},t.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},t.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t}(),Gw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var r=Qb("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,i=e.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new Fw:new Tb,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(yf),Hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Nc),Ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Or).models[0]},e.type="cartesian2dAxis",e}(Nc);L(Ww,j_);var Yw={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Xw=S({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Yw),Uw=S({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Yw),Zw={category:Xw,value:Uw,time:S({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Uw),log:T({scale:!0,logBase:10},Uw)},jw={value:1,category:1,time:1,log:1};function qw(t,e,i,r){P(jw,(function(o,a){var s=S(S({},Zw[a],!0),r,!0),l=function(t){function i(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(this,n)||this;return r.type=e+"Axis."+a,r}return n(i,t),i.prototype.mergeDefaultAndTheme=function(t,e){var n=Lc(this),i=n?Pc(t):{};S(t,e.getTheme().get(a+"Axis")),S(t,this.getDefaultOption()),t.type=Kw(t),n&&kc(t,i,n)},i.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Ym.createByAxisModel(this))},i.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=e+"Axis."+a,i.defaultOption=s,i}(i);t.registerComponentModel(l)})),t.registerSubTypeDefaulter(e+"Axis",Kw)}function Kw(t){return t.type||(t.data?"category":"value")}var $w=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return O(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),N(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),Jw=["x","y"];function Qw(t){return"interval"===t.type||"time"===t.type}var tS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Jw,e}return n(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(Qw(t)&&Qw(e)){var n=t.getExtent(),i=e.getExtent(),r=this.dataToPoint([n[0],i[0]]),o=this.dataToPoint([n[1],i[1]]),a=n[1]-n[0],s=i[1]-i[0];if(a&&s){var l=(o[0]-r[0])/a,u=(o[1]-r[1])/s,h=r[0]-n[0]*l,c=r[1]-i[0]*u,p=this._transform=[l,0,0,u,h,c];this._invTransform=be([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],r=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return Rt(n,t,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(i)),n[1]=a.toGlobalCoord(a.dataToCoord(r)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){if(e=e||[],this._invTransform)return Rt(e,t,this._invTransform);var n=this.getAxis("x"),i=this.getAxis("y");return e[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-n,o=Math.max(e[0],e[1])-i;return new Rn(n,i,r,o)},e}($w),eS=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.index=0,a.type=r||"value",a.position=o||"bottom",a}return n(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(vx);function nS(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=i.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,f="x"===u?[c[2]-d,c[3]+d]:[c[0]-d,c[1]+d];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));f[p.onZero]=Math.max(Math.min(g,f[1]),f[0])}o.position=["y"===u?f[p[l]]:c[0],"x"===u?f[p[l]]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?f[p[s]]-f[p.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Q(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var y=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-y:y,o.z2=1,o}function iS(t){return"cartesian2d"===t.get("coordinateSystem")}function rS(t){var e={xAxisModel:null,yAxisModel:null};return P(e,(function(n,i){var r=i.replace(/Model$/,""),o=t.getReferringComponents(r,Or).models[0];e[i]=o})),e}var oS=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Jw,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),P(n.x,(function(t){F_(t.scale,t.model)})),P(n.y,(function(t){F_(t.scale,t.model)}));var i={};P(n.x,(function(t){sS(n,"y",t,i)})),P(n.y,(function(t){sS(n,"x",t,i)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),r=!n&&t.get("containLabel"),o=Ac(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;function s(){P(a,(function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),function(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?o.x:o.y)}))}s(),r&&(P(a,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=function(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var i,r,o=n.getExtent();r=n instanceof Qm?n.count():(i=n.getTicks()).length;var a,s=t.getLabelModel(),l=H_(t),u=1;r>40&&(u=Math.ceil(r/40));for(var h=0;h<r;h+=u){var c=l(i?i[h]:{value:o[0]+h},h),p=Y_(s.getTextRect(c),s.get("rotate")||0);a?a.union(p):a=p}return a}}(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);o[n]-=e[n]+i,"top"===t.position?o.y+=e.height+i:"left"===t.position&&(o.x+=e.width+i)}}})),s()),P(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}X(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,r=t.xAxisModel||i&&i.getReferringComponents("xAxis",Or).models[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis",Or).models[0],a=t.gridModel,s=this._coordsList;if(i)A(s,e=i.coordinateSystem)<0&&(e=null);else if(r&&o)e=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,i){if(aS(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var u=new eS(e,G_(n),[0,0],n.get("type"),l),h="category"===u.type;u.onBand=h&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=r,u.index=i,r._axesList.push(u),a[e][i]=u,s[e]++}}}this._axesMap=a,P(a.x,(function(e,n){P(a.y,(function(r,o){var a="x"+n+"y"+o,s=new tS(a);s.master=i,s.model=t,i._coordsMap[a]=s,i._coordsList.push(s),s.addAxis(e),s.addAxis(r)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){P(Z_(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}P(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(iS(t)){var i=rS(t),r=i.xAxisModel,o=i.yAxisModel;if(!aS(r,e)||!aS(o,e))return;var a=this.getCartesian(r.componentIndex,o.componentIndex),s=t.getData(),l=a.getAxis("x"),u=a.getAxis("y");"list"===s.type&&(n(s,l),n(s,u))}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return P(this.getCartesians(),(function(i){var r=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(r);A(e,r)<0&&e.push(r),A(n,o)<0&&n.push(o)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var i=[];return e.eachComponent("grid",(function(r,o){var a=new t(r,e,n);a.name="grid_"+o,a.resize(r,n,!0),r.coordinateSystem=a,i.push(a)})),e.eachSeries((function(t){if(iS(t)){var e=rS(t),n=e.xAxisModel,i=e.yAxisModel,r=n.getCoordSysModel();0;var o=r.coordinateSystem;t.coordinateSystem=o.getCartesian(n.componentIndex,i.componentIndex)}})),i},t.dimensions=Jw,t}();function aS(t,e){return t.getCoordSysModel()===e}function sS(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)lS(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&lS(o[u])&&!i[h(o[u])]){r=o[u];break}r&&(i[h(r)]=!0)}function h(t){return t.dim+"_"+t.index}}function lS(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}(t)}var uS=Math.PI,hS=function(){function t(t,e){this.group=new zi,this.opt=e,this.axisModel=t,T(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new zi({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!cS[t]},t.prototype.add=function(t){cS[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var i,r,o=er(e-t);return nr(o)?(r=n>0?"top":"bottom",i="center"):nr(o-uS)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<uS?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),cS={axisLine:function(t,e,n,i){var r=e.get(["axisLine","show"]);if("auto"===r&&t.handleAutoShown&&(r=t.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0];a&&(Rt(s,s,a),Rt(l,l,a));var u=I({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new tu({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});h.anid="line",n.add(h);var c=e.get(["axisLine","symbol"]),p=e.get(["axisLine","symbolSize"]),d=e.get(["axisLine","symbolOffset"])||0;if("number"==typeof d&&(d=[d,d]),null!=c){"string"==typeof c&&(c=[c,c]),"string"!=typeof p&&"number"!=typeof p||(p=[p,p]);var f=p[0],g=p[1];P([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,i){if("none"!==c[i]&&null!=c[i]){var r=uy(c[i],-f/2,-g/2,f,g,u.stroke,!0),o=e.r+e.offset;r.attr({rotation:e.rotate,x:s[0]+o*Math.cos(t.rotation),y:s[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),n.add(r)}}))}}},axisTickLabel:function(t,e,n,i){var r=function(t,e,n,i){var r=n.axis,o=n.getModel("axisTick"),a=o.get("show");"auto"===a&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick"));if(!a||r.scale.isBlank())return;for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=gS(r.getTicksCoords(),e.transform,l,T(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)t.add(u[h]);return u}(n,i,e,t),o=function(t,e,n,i){var r=n.axis;if(!Q(i.axisLabelShow,n.get(["axisLabel","show"]))||r.scale.isBlank())return;var o=n.getModel("axisLabel"),a=o.get("margin"),s=r.getViewLabels(),l=(Q(i.labelRotate,o.get("rotate"))||0)*uS/180,u=hS.innerTextLayout(i.rotation,l,i.labelDirection),h=n.getCategories&&n.getCategories(!0),c=[],p=hS.isLabelSilent(n),d=n.get("triggerEvent");return P(s,(function(s,l){var f="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(s.tickValue):s.tickValue,g=s.formattedLabel,y=s.rawLabel,v=o;if(h&&h[f]){var m=h[f];X(m)&&m.textStyle&&(v=new Sh(m.textStyle,o,n.ecModel))}var _=v.getTextColor()||n.get(["axisLine","lineStyle","color"]),x=r.dataToCoord(f),b=new ls({x:x,y:i.labelOffset+i.labelDirection*a,rotation:u.rotation,silent:p,z2:10,style:nh(v,{text:g,align:v.getShallow("align",!0)||u.textAlign,verticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||u.textVerticalAlign,fill:"function"==typeof _?_("category"===r.type?y:"value"===r.type?f+"":f,l):_})});if(b.anid="label_"+f,d){var w=hS.makeAxisEventDataBase(n);w.targetType="axisLabel",w.value=y,ys(b).eventData=w}e.add(b),b.updateTransform(),c.push(b),t.add(b),b.decomposeTransform()})),c}(n,i,e,t);!function(t,e,n){if(U_(t.axis))return;var i=t.get(["axisLabel","showMinLabel"]),r=t.get(["axisLabel","showMaxLabel"]);n=n||[];var o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],h=n[1],c=n[n.length-1],p=n[n.length-2];!1===i?(pS(o),pS(u)):dS(o,a)&&(i?(pS(a),pS(h)):(pS(o),pS(u)));!1===r?(pS(s),pS(c)):dS(l,s)&&(r?(pS(l),pS(p)):(pS(s),pS(c)))}(e,o,r),function(t,e,n,i){var r=n.axis,o=n.getModel("minorTick");if(!o.get("show")||r.scale.isBlank())return;var a=r.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel("lineStyle"),l=i*o.get("length"),u=T(s.getLineStyle(),T(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),h=0;h<a.length;h++)for(var c=gS(a[h],e.transform,l,u,"minorticks_"+h),p=0;p<c.length;p++)t.add(c[p])}(n,i,e,t.tickDirection)},axisName:function(t,e,n,i){var r=Q(t.axisName,e.get("name"));if(r){var o,a,s=e.get("nameLocation"),l=t.nameDirection,u=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,c=e.axis.getExtent(),p=c[0]>c[1]?-1:1,d=["start"===s?c[0]-p*h:"end"===s?c[1]+p*h:(c[0]+c[1])/2,fS(s)?t.labelOffset+l*h:0],f=e.get("nameRotate");null!=f&&(f=f*uS/180),fS(s)?o=hS.innerTextLayout(t.rotation,null!=f?f:t.rotation,l):(o=function(t,e,n,i){var r,o,a=er(n-t),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;nr(a-uS/2)?(o=l?"bottom":"top",r="center"):nr(a-1.5*uS)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*uS&&a>uS/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:r,textVerticalAlign:o}}(t.rotation,s,f||0,c),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=u.getFont(),y=e.get("nameTruncate",!0)||{},v=y.ellipsis,m=Q(t.nameTruncateMaxWidth,y.maxWidth,a),_=e.get("tooltip",!0),x=e.mainType,b={componentType:x,name:r,$vars:["name"]};b[x+"Index"]=e.componentIndex;var w=new ls({x:d[0],y:d[1],rotation:o.rotation,silent:hS.isLabelSilent(e),style:nh(u,{text:r,font:g,overflow:"truncate",width:m,ellipsis:v,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(w.tooltip=_&&_.show?I({content:r,formatter:function(){return r},formatterParams:b},_):null,w.__fullText=r,w.anid="name",e.get("triggerEvent")){var S=hS.makeAxisEventDataBase(e);S.targetType="axisName",S.name=r,ys(w).eventData=S}i.add(w),w.updateTransform(),n.add(w),w.decomposeTransform()}}};function pS(t){t&&(t.ignore=!0)}function dS(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=ge([]);return _e(r,r,-t.rotation),n.applyTransform(ve([],r,t.getLocalTransform())),i.applyTransform(ve([],r,e.getLocalTransform())),n.intersect(i)}}function fS(t){return"middle"===t||"center"===t}function gS(t,e,n,i,r){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,e&&(Rt(a,a,e),Rt(s,s,e));var h=new tu({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+t[l].tickValue,o.push(h)}return o}function yS(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];P(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=bS(n.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=n;var u=n.model.getModel("tooltip",i);if(P(n.getAxes(),V(d,!1,null)),n.getTooltipAxes&&i&&u.get("show")){var h="axis"===u.get("trigger"),c="cross"===u.get(["axisPointer","type"]),p=n.getTooltipAxes(u.get(["axisPointer","axis"]));(h||c)&&P(p.baseAxes,V(d,!c||"cross",h)),c&&P(p.otherAxes,V(d,"cross",!1))}}function d(i,s,h){var c=h.model.getModel("axisPointer",r),p=c.get("show");if(p&&("auto"!==p||i||xS(c))){null==s&&(s=c.get("triggerTooltip"));var d=(c=i?function(t,e,n,i,r,o){var a=e.getModel("axisPointer"),s={};P(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){s[t]=w(a.get(t))})),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var u=a.get(["label","show"]);if(l.show=null==u||u,!o){var h=s.lineStyle=a.get("crossStyle");h&&T(l,h.textStyle)}}return t.model.getModel("axisPointer",new Sh(s,n,i))}(h,u,r,e,i,s):c).get("snap"),f=bS(h.model),g=s||d||"category"===h.type,y=t.axesInfo[f]={key:f,axis:h,coordSys:n,axisPointerModel:c,triggerTooltip:s,involveSeries:g,snap:d,useHandle:xS(c),seriesModels:[],linkGroup:null};l[f]=y,t.seriesInvolved=t.seriesInvolved||g;var v=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(vS(o[i+"AxisId"],n.id)||vS(o[i+"AxisIndex"],n.componentIndex)||vS(o[i+"AxisName"],n.name))return r}}(o,h);if(null!=v){var m=a[v]||(a[v]={axesInfo:{}});m.axesInfo[f]=y,m.mapper=o[v].mapper,y.linkGroup=m}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),r=e.get(["tooltip","show"],!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get(["axisPointer","show"],!0)&&P(t.coordSysAxesInfo[bS(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(n,t),n}function vS(t,e){return"all"===t||F(t)&&A(t,e)>=0||t===e}function mS(t){var e=_S(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=xS(n);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function _S(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[bS(t)]}function xS(t){return!!t.get(["handle","show"])}function bS(t){return t.type+"||"+t.id}var wS={},SS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(e,n,i,r){this.axisPointerClass&&mS(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},e.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var r=e.getAxisPointerClass(this.axisPointerClass);if(r){var o=function(t){var e=_S(t);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new r)).render(t,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){wS[t]=e},e.getAxisPointerClass=function(t){return t&&wS[t]},e.type="axis",e}(pf),MS=Lr();function IS(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,c=MS(t).splitAreaColors,p=ht(),d=0;if(c)for(var f=0;f<u.length;f++){var g=c.get(u[f].tickValue);if(null!=g){d=(g+(h-1)*f)%h;break}}var y=r.toGlobalCoord(u[0].coord),v=a.getAreaStyle();s=F(s)?s:[s];for(f=1;f<u.length;f++){var m=r.toGlobalCoord(u[f].coord),_=void 0,x=void 0,b=void 0,w=void 0;r.isHorizontal()?(_=y,x=l.y,b=m-_,w=l.height,y=_+b):(_=l.x,x=y,b=l.width,y=x+(w=m-x));var S=u[f-1].tickValue;null!=S&&p.set(S,d),e.add(new os({anid:null!=S?"area_"+S:null,shape:{x:_,y:x,width:b,height:w},style:T({fill:s[d]},v),autoBatch:!0,silent:!0})),d=(d+1)%h}MS(t).splitAreaColors=p}}}function TS(t){MS(t).splitAreaColors=null}var CS=["axisLine","axisTickLabel","axisName"],AS=["splitArea","splitLine","minorSplitLine"],DS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return n(e,t),e.prototype.render=function(e,n,i,r){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new zi,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=nS(a,e),l=new hS(e,I({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),i=0;i<n.length;i++){var r=n[i].getOtherAxis(e.axis).type;if("value"===r||"log"===r)return!0}return!1}},s));P(CS,l.add,l),this._axisGroup.add(l.getGroup()),P(AS,(function(t){e.get([t,"show"])&&LS[t](this,this._axisGroup,e,a)}),this),Wu(o,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)}},e.prototype.remove=function(){TS(this)},e.type="cartesianAxis",e}(SS),LS={splitLine:function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=F(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,c=r.getTicksCoords({tickModel:o}),p=[],d=[],f=a.getLineStyle(),g=0;g<c.length;g++){var y=r.toGlobalCoord(c[g].coord);u?(p[0]=y,p[1]=l.y,d[0]=y,d[1]=l.y+l.height):(p[0]=l.x,p[1]=y,d[0]=l.x+l.width,d[1]=y);var v=h++%s.length,m=c[g].tickValue;e.add(new tu({anid:null!=m?"line_"+c[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:T({stroke:s[v]},f),silent:!0}))}}},minorSplitLine:function(t,e,n,i){var r=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],h=[],c=o.getLineStyle(),p=0;p<l.length;p++)for(var d=0;d<l[p].length;d++){var f=r.toGlobalCoord(l[p][d].coord);s?(u[0]=f,u[1]=a.y,h[0]=f,h[1]=a.y+a.height):(u[0]=a.x,u[1]=f,h[0]=a.x+a.width,h[1]=f),e.add(new tu({anid:"minor_line_"+l[p][d].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:c,silent:!0}))}},splitArea:function(t,e,n,i){IS(t,e,n,i)}},kS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="xAxis",e}(DS),PS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=kS.type,e}return n(e,t),e.type="yAxis",e}(DS),OS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return n(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new os({shape:t.coordinateSystem.getRect(),style:T({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(pf),RS={offset:0};function NS(t){t.registerComponentView(OS),t.registerComponentModel(Hw),t.registerCoordinateSystem("cartesian2d",oS),qw(t,"x",Ww,RS),qw(t,"y",Ww,RS),t.registerComponentView(kS),t.registerComponentView(PS),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function ES(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var r=i.getIndicatorAxes();P(r,(function(t,o){e.each(e.mapDimension(r[o].dim),(function(t,e){n[e]=n[e]||[];var r=i.dataToPoint(t,o);n[e][o]=zS(r)?r:BS(i)}))})),e.each((function(t){var r=E(n[t],(function(t){return zS(t)}))||BS(i);n[t].push(r.slice()),e.setItemLayout(t,n[t])}))}}))}function zS(t){return!isNaN(t[0])&&!isNaN(t[1])}function BS(t){return[t.cx,t.cy]}function VS(t){var e=t.polar;if(e){F(e)||(e=[e]);var n=[];P(e,(function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],F(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}P(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var FS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.coordinateSystem,r=this.group,o=t.getData(),a=this._data;function s(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var i=function(t){return F(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),r=uy(n,-1,-1,2,2),o=t.getItemVisual(e,"symbolRotate")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:o*Math.PI/180||0}),r}}function l(e,n,i,r,o,a){i.removeAll();for(var l=0;l<n.length-1;l++){var u=s(r,o);u&&(u.__dimIdx=l,e[l]?(u.setPosition(e[l]),Ku[a?"initProps":"updateProps"](u,{x:n[l][0],y:n[l][1]},t,o)):u.setPosition(n[l]),i.add(u))}}function u(t){return O(t,(function(t){return[i.cx,i.cy]}))}o.diff(a).add((function(e){var n=o.getItemLayout(e);if(n){var i=new ql,r=new $l,a={shape:{points:n}};i.shape.points=u(n),r.shape.points=u(n),Ru(i,a,t,e),Ru(r,a,t,e);var s=new zi,h=new zi;s.add(r),s.add(i),s.add(h),l(r.shape.points,n,h,o,e,!0),o.setItemGraphicEl(e,s)}})).update((function(e,n){var i=a.getItemGraphicEl(n),r=i.childAt(0),s=i.childAt(1),u=i.childAt(2),h={shape:{points:o.getItemLayout(e)}};h.shape.points&&(l(r.shape.points,h.shape.points,u,o,e,!1),Ou(r,h,t),Ou(s,h,t),o.setItemGraphicEl(e,i))})).remove((function(t){r.remove(a.getItemGraphicEl(t))})).execute(),o.eachItemGraphicEl((function(t,e){var n=o.getItemModel(e),i=t.childAt(0),a=t.childAt(1),s=t.childAt(2),l=o.getItemVisual(e,"style"),u=l.fill;r.add(t),i.useStyle(T(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),nl(i,n,"lineStyle"),nl(a,n,"areaStyle");var h=n.getModel("areaStyle"),c=h.isEmpty()&&h.parentModel.isEmpty();a.ignore=c,P(["emphasis","select","blur"],(function(t){var e=n.getModel([t,"areaStyle"]),i=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=i&&c})),a.useStyle(T(h.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var p=n.getModel("emphasis"),d=p.getModel("itemStyle").getItemStyle();s.eachChild((function(t){if(t instanceof Ja){var i=t.style;t.useStyle(I({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else t.useStyle(l),t.setColor(u);t.ensureState("emphasis").style=w(d);var r=o.get(o.dimensions[t.__dimIdx],e);(null==r||isNaN(r))&&(r=""),th(t,eh(n),{labelFetcher:o.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:r,inheritColor:u,defaultOpacity:l.opacity})})),Js(t,p.get("focus"),p.get("blurScope"))})),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(yf),GS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.useColorPaletteOnData=!0,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nw(B(this.getData,this),B(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return Rw(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(t),a=""===o?this.name:o,s=$d(this,t);return Yd("section",{header:a,sortBlocks:!0,blocks:O(r,(function(e){var n=i.get(i.mapDimension(e.dim),t);return Yd("nameValue",{markerType:"subItem",markerColor:s,name:e.name,value:n,sortParam:n})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(O(n.dimensions,(function(t){return e.mapDimension(t)})),t),r=0,o=i.length;r<o;r++)if(!isNaN(i[r])){var a=n.getIndicatorAxes();return n.coordToPoint(a[r].dataToCoord(i[r]),r)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4},e}(rf),HS=Zw.value;function WS(t,e){return T({show:e},t)}var YS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),h=this.get("triggerEvent"),c=O(this.get("indicator")||[],(function(c){null!=c.max&&c.max>0&&!c.min?c.min=0:null!=c.min&&c.min<0&&!c.max&&(c.max=0);var p=a;null!=c.color&&(p=T({color:c.color},a));var d=S(w(c),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:c.text,nameLocation:"end",nameGap:u,nameTextStyle:p,triggerEvent:h},!1);if(s||(d.name=""),"string"==typeof l){var f=d.name;d.name=l.replace("{value}",null!=f?f:"")}else"function"==typeof l&&(d.name=l(d.name,d));var g=new Sh(d,null,this.ecModel);return L(g,j_.prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g}),this);this._indicatorModels=c},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:S({lineStyle:{color:"#bbb"}},HS.axisLine),axisLabel:WS(HS.axisLabel,!1),axisTick:WS(HS.axisTick,!1),splitLine:WS(HS.splitLine,!0),splitArea:WS(HS.splitArea,!0),indicator:[]},e}(Nc),XS=["axisLine","axisTickLabel","axisName"],US=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem;P(O(e.getIndicatorAxes(),(function(t){return new hS(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(t){P(XS,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get("shape"),r=t.getModel("splitLine"),o=t.getModel("splitArea"),a=r.getModel("lineStyle"),s=o.getModel("areaStyle"),l=r.get("show"),u=o.get("show"),h=a.get("color"),c=s.get("color"),p=F(h)?h:[h],d=F(c)?c:[c],f=[],g=[];if("circle"===i)for(var y=n[0].getTicksCoords(),v=e.cx,m=e.cy,_=0;_<y.length;_++){if(l)f[A(f,p,_)].push(new Tl({shape:{cx:v,cy:m,r:y[_].coord}}));if(u&&_<y.length-1)g[A(g,d,_)].push(new Xl({shape:{cx:v,cy:m,r0:y[_].coord,r:y[_+1].coord}}))}else{var x,b=O(n,(function(t,n){var i=t.getTicksCoords();return x=null==x?i.length-1:Math.min(i.length-1,x),O(i,(function(t){return e.coordToPoint(t.coord,n)}))})),w=[];for(_=0;_<=x;_++){for(var S=[],M=0;M<n.length;M++)S.push(b[M][_]);if(S[0]&&S.push(S[0].slice()),l)f[A(f,p,_)].push(new $l({shape:{points:S}}));if(u&&w)g[A(g,d,_-1)].push(new ql({shape:{points:S.concat(w)}}));w=S.slice().reverse()}}var I=a.getLineStyle(),C=s.getAreaStyle();P(g,(function(t,e){this.group.add(Du(t,{style:T({stroke:"none",fill:d[e%d.length]},C),silent:!0}))}),this),P(f,(function(t,e){this.group.add(Du(t,{style:T({fill:"none",stroke:p[e%p.length]},I),silent:!0}))}),this)}function A(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}},e.type="radar",e}(pf),ZS=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.type="value",r.angle=0,r.name="",r}return n(e,t),e}(vx),jS=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=O(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,i=new ZS(n,new e_);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i}),this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(o-u.angle);h<a&&(r=u,s=l,a=h)}return[s,+(r&&r.coordToData(i))]},t.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r)/2;this.cx=Zi(n[0],i),this.cy=Zi(n[1],r),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");"string"!=typeof a&&"number"!=typeof a||(a=[0,a]),this.r0=Zi(a[0],o),this.r=Zi(a[1],o),P(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;P(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var o=e.getData();P(n,(function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))}))}}),this);var r=i.get("splitNumber");function o(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}P(n,(function(t,e){var n=V_(t.scale,t.model).extent;F_(t.scale,t.model);var i=t.model,a=t.scale,s=B_(a,i.get("min",!0)),l=B_(a,i.get("max",!0)),u=a.getInterval();if(null!=s&&null!=l)a.setExtent(+s,+l),a.setInterval((l-s)/r);else if(null!=s){var h=void 0;do{h=s+u*r,a.setExtent(+s,h),a.setInterval(u),u=o(u)}while(h<n[1]&&isFinite(h)&&isFinite(n[1]))}else if(null!=l){var c=void 0;do{c=l-u*r,a.setExtent(c,+l),a.setInterval(u),u=o(u)}while(c>n[0]&&isFinite(c)&&isFinite(n[0]))}else{a.getTicks().length-1>r&&(u=o(u));c=ji((h=Math.ceil(n[1]/u)*u)-u*r);a.setExtent(c,h),a.setInterval(u)}}))},t.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,n){var i=[];return e.eachComponent("radar",(function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])})),i},t.dimensions=[],t}();function qS(t){t.registerCoordinateSystem("radar",jS),t.registerComponentModel(YS),t.registerComponentView(US)}var KS="\0_ec_interaction_mutex";function $S(t,e){return!!JS(t)[e]}function JS(t){return t[KS]||(t[KS]={})}Yv({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var QS=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var i=B(n._mousedownHandler,n),r=B(n._mousemoveHandler,n),o=B(n._mouseupHandler,n),a=B(n._mousewheelHandler,n),s=B(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=T(w(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",s))},n.disable=function(){e.off("mousedown",i),e.off("mousemove",r),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},n}return n(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(ne(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&nM("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!$S(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,o=e-i,a=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&ee(t.event),eM(this,"pan","moveOnMouseMove",t,{dx:o,dy:a,oldX:i,oldY:r,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){ne(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=nM("zoomOnMouseWheel",t,this._opt),n=nM("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,r=Math.abs(i),o=t.offsetX,a=t.offsetY;if(0!==i&&(e||n)){if(e){var s=r>3?1.4:r>1?1.2:1.1;tM(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var l=Math.abs(i);tM(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){$S(this._zr,"globalPan")||tM(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(Ft);function tM(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(ee(i.event),eM(t,e,n,i,r))}function eM(t,e,n,i,r){r.isAvailableBehavior=B(nM,null,n,i),t.trigger(e,r)}function nM(t,e,n){var i=n[t];return!t||i&&(!H(i)||e.event[i+"Key"])}function iM(t,e,n){var i=t.target;i.x+=e,i.y+=n,i.dirty()}function rM(t,e,n,i){var r=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,r.x-=(n-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var oM={axisPointer:1,tooltip:1,brush:1};function aM(t,e,n){var i=e.getComponentByElement(t.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!oM.hasOwnProperty(i.mainType)&&r&&r.model!==n}for(var sM=[126,25],lM=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],uM=0;uM<lM.length;uM++)for(var hM=0;hM<lM[uM].length;hM++)lM[uM][hM][0]/=10.5,lM[uM][hM][1]/=-14,lM[uM][hM][0]+=sM[0],lM[uM][hM][1]+=sM[1];var cM={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};var pM={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var dM=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var fM=Lr(),gM={load:function(t,e,n){var i=fM(e).parsed;if(i)return i;var r,o=e.specialAreas||{},a=e.geoJSON;try{r=a?ex(a,n):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return function(t,e){"china"===t&&e.push(new Q_("南海诸岛",O(lM,(function(t){return{type:"polygon",exterior:t}})),sM))}(t,r),P(r,(function(e){var n=e.name;!function(t,e){if("china"===t){var n=cM[e.name];if(n){var i=e.center;i[0]+=n[0]/10.5,i[1]+=-n[1]/14}}}(t,e),function(t,e){if("world"===t){var n=pM[e.name];if(n){var i=e.center;i[0]=n[0],i[1]=n[1]}}}(t,e),function(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:dM[0]})}(t,e);var i=o[n];i&&e.transformTo(i.left,i.top,i.width,i.height)})),fM(e).parsed={regions:r,boundingRect:yM(r)}}};function yM(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}var vM,mM=/[\s,]+/,_M=function(){function t(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}return t.prototype.parse=function(t,e){e=e||{};var n=og(t);if(!n)throw new Error("Illegal svg");var i=new zi;this._root=i;var r=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||e.width),a=parseFloat(n.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(a)&&(a=null),MM(n,i,null,!0);for(var s,l,u=n.firstChild;u;)this._parseNode(u,i),u=u.nextSibling;if(r){var h=ot(r).split(mM);h.length>=4&&(s={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(s&&null!=o&&null!=a&&(l=DM(s,o,a),!e.ignoreViewBox)){var c=i;(i=new zi).add(c),c.scaleX=c.scaleY=l.scale,c.x=l.x,c.y=l.y}return e.ignoreRootClip||null==o||null==a||i.setClipPath(new os({shape:{x:0,y:0,width:o,height:a}})),{root:i,width:o,height:a,viewBoxRect:s,viewBoxTransform:l}},t.prototype._parseNode=function(t,e){var n,i,r=t.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){if(i=xM[r]){var o=i.call(this,t),a=t.getAttribute("id");a&&(this._defs[a]=o)}}else(i=vM[r])&&(n=i.call(this,t,e),e.add(n));if(n)for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},t.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var r=new qa({style:{text:t.textContent},x:this._textX||0,y:this._textY||0});bM(e,r),MM(t,r,this._defs);var o=r.style,a=o.fontSize;a&&a<9&&(o.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var s=(o.fontSize||o.fontFamily)&&[o.fontStyle,o.fontWeight,(o.fontSize||12)+"px",o.fontFamily||"sans-serif"].join(" ");o.font=s;var l=r.getBoundingRect();return this._textX+=l.width,e.add(r),r},t.internalField=void(vM={g:function(t,e){var n=new zi;return bM(e,n),MM(t,n,this._defs),n},rect:function(t,e){var n=new os;return bM(e,n),MM(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n},circle:function(t,e){var n=new Tl;return bM(e,n),MM(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n},line:function(t,e){var n=new tu;return bM(e,n),MM(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n},ellipse:function(t,e){var n=new Al;return bM(e,n),MM(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n},polygon:function(t,e){var n,i=t.getAttribute("points");i&&(n=wM(i));var r=new ql({shape:{points:n||[]}});return bM(e,r),MM(t,r,this._defs),r},polyline:function(t,e){var n=new Za;bM(e,n),MM(t,n,this._defs);var i,r=t.getAttribute("points");return r&&(i=wM(r)),new $l({shape:{points:i||[]}})},image:function(t,e){var n=new Ja;return bM(e,n),MM(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",r=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var a=new zi;return bM(e,a),MM(t,a,this._defs),a},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0,a=new zi;return bM(e,a),MM(t,a,this._defs),this._textX+=r,this._textY+=o,a},path:function(t,e){var n=Ml(t.getAttribute("d")||"");return bM(e,n),MM(t,n,this._defs),n}}),t}(),xM={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),i=parseInt(t.getAttribute("x2")||"10",10),r=parseInt(t.getAttribute("y2")||"0",10),o=new uu(e,n,i,r);return function(t,e){var n=t.firstChild;for(;n;){if(1===n.nodeType){var i=n.getAttribute("offset"),r=void 0;r=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o=n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:o})}n=n.nextSibling}}(t,o),o}};function bM(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),T(e.__inheritedStyle,t.__inheritedStyle))}function wM(t){for(var e=ot(t).split(mM),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}var SM={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function MM(t,e,n,i){var r=e,o=r.__inheritedStyle||{};if(1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],r=null;n.replace(CM,(function(t,e,n){return i.push(e,n),""}));for(var o=i.length-1;o>0;o-=2){var a=i[o],s=void 0;switch(r=r||[1,0,0,1,0,0],i[o-1]){case"translate":s=ot(a).split(mM),me(r,r,[parseFloat(s[0]),parseFloat(s[1]||"0")]);break;case"scale":s=ot(a).split(mM),xe(r,r,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=ot(a).split(mM),_e(r,r,parseFloat(s[0]));break;case"skew":s=ot(a).split(mM),console.warn("Skew transform is not supported yet");break;case"matrix":s=ot(a).split(mM),r[0]=parseFloat(s[0]),r[1]=parseFloat(s[1]),r[2]=parseFloat(s[2]),r[3]=parseFloat(s[3]),r[4]=parseFloat(s[4]),r[5]=parseFloat(s[5])}}e.setLocalTransform(r)}}(t,e),I(o,function(t){var e=t.getAttribute("style"),n={};if(!e)return n;var i,r={};AM.lastIndex=0;for(;null!=(i=AM.exec(e));)r[i[1]]=i[2];for(var o in SM)SM.hasOwnProperty(o)&&null!=r[o]&&(n[SM[o]]=r[o]);return n}(t)),!i))for(var a in SM)if(SM.hasOwnProperty(a)){var s=t.getAttribute(a);null!=s&&(o[SM[a]]=s)}r.style=r.style||{},null!=o.fill&&(r.style.fill=TM(o.fill,n)),null!=o.stroke&&(r.style.stroke=TM(o.stroke,n)),P(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=o[t]&&(r.style[t]=parseFloat(o[t]))})),o.textBaseline&&"auto"!==o.textBaseline||(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),P(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(t){null!=o[t]&&(r.style[t]=o[t])})),o.lineDash&&(r.style.lineDash=O(ot(o.lineDash).split(mM),(function(t){return parseFloat(t)}))),r.__inheritedStyle=o}var IM=/url\(\s*#(.*?)\)/;function TM(t,e){var n=e&&t&&t.match(IM);return n?e[ot(n[1])]:t}var CM=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;var AM=/([^\s:;]+)\s*:\s*([^:;]+)/g;function DM(t,e,n){var i=e/t.width,r=n/t.height,o=Math.min(i,r);return{scale:o,x:-(t.x+t.width/2)*o+e/2,y:-(t.y+t.height/2)*o+n/2}}var LM=Lr();function kM(t,e){var n,i,r,o,a=t.svgXML;try{rt(null!=(i=(n=a&&(r=a,o={ignoreViewBox:!0,ignoreRootClip:!0},(new _M).parse(r,o))||{}).root))}catch(t){throw new Error("Invalid svg format\n"+t.message)}var s=n.width,l=n.height,u=n.viewBoxRect;if(e||(e=null==s||null==l?i.getBoundingRect():new Rn(0,0,0,0),null!=s&&(e.width=s),null!=l&&(e.height=l)),u){var h=DM(u,e.width,e.height),c=i;(i=new zi).add(c),c.scaleX=c.scaleY=h.scale,c.x=h.x,c.y=h.y}return i.setClipPath(new os({shape:e.plain()})),{root:i,boundingRect:e}}var PM={geoJSON:gM,svg:{load:function(t,e){var n=LM(e).originRoot;if(n)return{root:n,boundingRect:LM(e).boundingRect};var i=kM(e);return LM(e).originRoot=i.root,LM(e).boundingRect=i.boundingRect,i},makeGraphic:function(t,e,n){var i=LM(e),r=i.rootMap||(i.rootMap=ht()),o=r.get(n);if(o)return o;var a=i.originRoot,s=i.boundingRect;return i.originRootHostKey?o=kM(e,s).root:(i.originRootHostKey=n,o=a),r.set(n,o)},removeGraphic:function(t,e,n){var i=LM(e),r=i.rootMap;r&&r.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}}},OM=function(t,e,n){var i,r=[],o=ht(),a=ht();return P(EM(t),(function(s){var l=PM[s.type].load(t,s,n);P(l.regions,(function(t){var n=t.name;e&&e.hasOwnProperty(n)&&(t=t.cloneShallow(n=e[n])),r.push(t),o.set(n,t),a.set(n,t.center)}));var u=l.boundingRect;u&&(i?i.union(u):i=u.clone())})),{regions:r,regionsMap:o,nameCoordMap:a,boundingRect:i||new Rn(0,0,0,0)}},RM=function(t,e){var n=EM(t),i=[];return P(n,(function(n){var r=PM[n.type].makeGraphic;r&&i.push(r(t,n,e))})),i},NM=function(t,e){P(EM(t),(function(n){var i=PM[n.type].makeGraphic;i&&i(t,n,e)}))};function EM(t){var e=lg(t)||[];return e}function zM(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}var BM=function(){function t(t){var e=new zi;this.uid=Ih("ec_map_draw"),this._controller=new QS(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new zi),e.add(this._backgroundGroup=new zi)}return t.prototype.draw=function(t,e,n,i,r){var o="geo"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},(function(e){a||e.getHostGeoModel()!==t||(a=e.getData())}));var s=t.coordinateSystem;this._updateBackground(s);var l,u,h=this._regionsGroup,c=this.group,p=s.getTransformInfo(),d=!h.childAt(0)||r;if(d)c.transform=p.roamTransform,c.decomposeTransform(),c.dirty();else{var f=new ke;f.transform=p.roamTransform,f.decomposeTransform();var g={scaleX:f.scaleX,scaleY:f.scaleY,x:f.x,y:f.y};l=f.scaleX,u=f.scaleY,Ou(c,g,t)}h.removeAll();var y=ht(),v=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0;P(s.regions,(function(e){var i=y.get(e.name)||y.set(e.name,new zi),r=new su({segmentIgnoreThreshold:1,shape:{paths:[]}});i.add(r);var s,f=t.getRegionModel(e.name)||t,g=f.getModel("itemStyle"),m=f.getModel("emphasis"),_=m.getModel("itemStyle"),x=f.getModel(["blur","itemStyle"]),b=f.getModel(["select","itemStyle"]),w=zM(g),S=zM(_),M=zM(x),I=zM(b);if(a){s=a.indexOfName(e.name);var T=a.getItemVisual(s,"style"),C=a.getItemVisual(s,"decal");v&&T.fill&&(w.fill=T.fill),C&&(w.decal=ky(C,n))}var A=p.rawScaleX,D=p.rawScaleY,L=p.rawX,k=p.rawY,O=function(t){return[t[0]*A+L,t[1]*D+k]};P(e.geometries,(function(t){if("polygon"===t.type){for(var e=[],n=0;n<t.exterior.length;++n)e.push(O(t.exterior[n]));r.shape.paths.push(new ql({segmentIgnoreThreshold:1,shape:{points:e}}));for(n=0;n<(t.interiors?t.interiors.length:0);++n){for(var i=t.interiors[n],o=[],a=0;a<i.length;++a)o.push(O(i[a]));r.shape.paths.push(new ql({segmentIgnoreThreshold:1,shape:{points:o}}))}}})),r.setStyle(w),r.style.strokeNoScale=!0,r.culling=!0,r.ensureState("emphasis").style=S,r.ensureState("blur").style=M,r.ensureState("select").style=I;for(var R=!1,N=0;N<bs.length;N++){var E=bs[N];if(f.get("normal"===E?["label","show"]:[E,"label","show"])){R=!0;break}}var z=a&&isNaN(a.get(a.mapDimension("value"),s)),B=a&&a.getItemLayout(s);if(o||z&&R||B&&B.showLabel){var V=o?e.name:s,F=void 0;(!a||s>=0)&&(F=t);var G=O(e.center),H=new ls({x:G[0],y:G[1],scaleX:1/c.scaleX,scaleY:1/c.scaleY,z2:10,silent:!0});th(H,eh(f),{labelFetcher:F,labelDataIndex:V,defaultText:e.name},{normal:{align:"center",verticalAlign:"middle"}}),r.setTextContent(H),r.setTextConfig({local:!0}),r.disableLabelAnimation=!0,d||Ou(H,{scaleX:1/l,scaleY:1/u},t)}if(a)a.setItemGraphicEl(s,i);else{var W=t.getRegionModel(e.name);ys(r).eventData={componentType:"geo",componentIndex:t.componentIndex,geoIndex:t.componentIndex,name:e.name,region:W&&W.option||{}}}(i.__regions||(i.__regions=[])).push(e),i.highDownSilentOnTouch=!!t.get("selectedMode"),Js(i,m.get("focus"),m.get("blurScope")),h.add(i)})),this._updateController(t,e,n),this._updateMapSelectHandler(t,h,n,i)},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&NM(this._mapName,this.uid),this._mapName=null,this._controllerHost=null},t.prototype._updateBackground=function(t){var e=t.map;this._mapName!==e&&P(RM(e,this.uid),(function(t){this._backgroundGroup.add(t)}),this),this._mapName=e},t.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,r=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),r.enable(t.get("roam")||!1);var a=t.mainType;function s(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}r.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,iM(o,t.dx,t.dy),n.dispatchAction(I(s(),{dx:t.dx,dy:t.dy}))}),this),r.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,rM(o,t.scale,t.originX,t.originY),n.dispatchAction(I(s(),{zoom:t.scale,originX:t.originX,originY:t.originY}));var e=this.group;this._regionsGroup.traverse((function(t){var n=t.getTextContent();n&&(n.scaleX=1/e.scaleX,n.scaleY=1/e.scaleY,n.markRedraw())}))}),this),r.setPointerChecker((function(e,r,o){return i.getViewRectAfterRoam().contain(r,o)&&!aM(e,n,t)}))},t.prototype._updateMapSelectHandler=function(t,e,n,i){var r=this;e.off("mousedown"),t.get("selectedMode")&&(e.on("mousedown",(function(){r._mouseDownFlag=!0})),e.on("click",(function(t){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))},t}(),VM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id)(o=this._mapDraw)&&r.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new BM(n);r.add(o.group),o.draw(t,e,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var i=t.originalData,r=this.group;i.each(i.mapDimension("value"),(function(e,n){if(!isNaN(e)){var o=i.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new Tl({style:{fill:t.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:11)});if(!s){var u=t.mainSeries.getData(),h=i.getName(n),c=u.indexOfName(h),p=i.getItemModel(n),d=p.getModel("label"),f=u.getItemGraphicEl(c);th(l,eh(p),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(c,n)}}}),l.disableLabelAnimation=!0,d.get("position")||l.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(t){l.useState(t)}}r.add(l)}}}))},e.type="map",e}(yf),FM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.center)}},n}return n(e,t),e.prototype.getInitialData=function(t){for(var e=Rw(this,{coordDimensions:["value"],encodeDefaulter:V(Qc,this)}),n=ht(),i=[],r=0,o=e.count();r<o;r++){var a=e.getName(r);n.set(a,!0)}return P(OM(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(t){var e=t.name;n.get(e)||i.push(e)})),e.appendValues([],i),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData(),r=this.getRawValue(t),o=i.getName(t),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(o),h=i.mapDimension("value");isNaN(a[l].originalData.get(h,u))||s.push(a[l].name)}return Yd("section",{header:s.join(", "),noHeader:!s.length,blocks:[Yd("nameValue",{name:o,value:r})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(rf);function GM(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)})),P(e,(function(t,e){for(var n,i,r,o=(n=O(t,(function(t){return t.getData()})),i=t[0].get("mapValueCalculation"),r={},P(n,(function(t){t.each(t.mapDimension("value"),(function(e,n){var i="ec-"+t.getName(n);r[i]=r[i]||[],isNaN(e)||r[i].push(e)}))})),n[0].map(n[0].mapDimension("value"),(function(t,e){for(var o="ec-"+n[0].getName(e),a=0,s=1/0,l=-1/0,u=r[o].length,h=0;h<u;h++)s=Math.min(s,r[o][h]),l=Math.max(l,r[o][h]),a+=r[o][h];return 0===u?NaN:"min"===i?s:"max"===i?l:"average"===i?a/u:a}))),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(o.cloneShallow()),t[a].mainSeries=t[0]}))}function HM(t){var e={};t.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var r={};P(n.seriesGroup,(function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),(function(t,e){var o=i.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=r[o]||0,l=n.dataToPoint(a.center);r[o]=s+1,i.setItemLayout(e,{point:l,offset:s})}}))}));var o=n.getData();o.each((function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!r[e],o.setItemLayout(t,n)})),e[i]=!0}}))}function WM(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,r=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,i=0,r=0;for(;--n>=0;){var o=e[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(t.hierNode.prelim=r.hierNode.prelim+e(t,r),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else r&&(t.hierNode.prelim=r.hierNode.prelim+e(t,r));t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var r=t,o=t,a=o.parentNode.children[0],s=e,l=r.hierNode.modifier,u=o.hierNode.modifier,h=a.hierNode.modifier,c=s.hierNode.modifier;s=ZM(s),o=jM(o),s&&o;){r=ZM(r),a=jM(a),r.hierNode.ancestor=t;var p=s.hierNode.prelim+c-o.hierNode.prelim-u+i(s,o);p>0&&(KM(qM(s,t,n),t,p),u+=p,l+=p),c+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,h+=a.hierNode.modifier}s&&!ZM(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=c-l),o&&!jM(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-h,n=t)}return n}(t,r,t.parentNode.hierNode.defaultAncestor||i[0],e)}function YM(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function XM(t){return arguments.length?t:$M}function UM(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function ZM(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function jM(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function qM(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function KM(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function $M(t,e){return t.parentNode===e.parentNode?1:2}var JM=Rt,QM=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new ke,n._rawTransformable=new ke,n.name=e,n}return n(e,t),e.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new Rn(t,e,n,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,i){this.transformTo(t,e,n,i),this._viewRect=new Rn(t,e,n,i)},e.prototype.transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new Rn(t,e,n,i)),o.decomposeTransform(),this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=Rt([],i,t),n=Rt([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=r,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),ye(this.transform||(this.transform=[]),e.transform||[1,0,0,1,0,0]),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],be(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._roamTransformable.transform,e=this._rawTransformable;return{roamTransform:t?nt(t):[1,0,0,1,0,0],rawScaleX:e.scaleX,rawScaleY:e.scaleY,rawX:e.x,rawY:e.y}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?JM(n,t,i):vt(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?JM([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var i=tI(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=tI(e);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(ke);function tI(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var eI=function(){this.parentPoint=[],this.childPoints=[]},nI=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new eI},e.prototype.buildPath=function(t,e){var n=e.childPoints,i=n.length,r=e.parentPoint,o=n[0],a=n[i-1];if(1===i)return t.moveTo(r[0],r[1]),void t.lineTo(o[0],o[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,u=1-l,h=Zi(e.forkPosition,1),c=[];c[l]=r[l],c[u]=r[u]+(a[u]-r[u])*h,t.moveTo(r[0],r[1]),t.lineTo(c[0],c[1]),t.moveTo(o[0],o[1]),c[l]=o[l],t.lineTo(c[0],c[1]),c[l]=a[l],t.lineTo(c[0],c[1]),t.lineTo(a[0],a[1]);for(var p=1;p<i-1;p++){var d=n[p];t.moveTo(d[0],d[1]),c[l]=d[l],t.lineTo(c[0],c[1])}},e}(Za),iI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new zi,n}return n(e,t),e.prototype.init=function(t,e){this._controller=new QS(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var i=t.getData(),r=t.layoutInfo,o=this._mainGroup;"radial"===t.get("layout")?(o.x=r.x+r.width/2,o.y=r.y+r.height/2):(o.x=r.x,o.y=r.y),this._updateViewCoordSys(t),this._updateController(t,e,n);var a=this._data;i.diff(a).add((function(e){rI(i,e)&&oI(i,e,null,o,t)})).update((function(e,n){var r=a.getItemGraphicEl(n);rI(i,e)?oI(i,e,r,o,t):r&&aI(a,n,r,o,t)})).remove((function(e){var n=a.getItemGraphicEl(e);n&&aI(a,e,n,o,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&i.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))})),this._data=i},e.prototype._updateViewCoordSys=function(t){var e=t.getData(),n=[];e.each((function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])}));var i=[],r=[];ea(n,i,r);var o=this._min,a=this._max;r[0]-i[0]==0&&(i[0]=o?o[0]:i[0]-1,r[0]=a?a[0]:r[0]+1),r[1]-i[1]==0&&(i[1]=o?o[1]:i[1]-1,r[1]=a?a[1]:r[1]+1);var s=t.coordinateSystem=new QM;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=i,this._max=r},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!aM(e,n,t)})),r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(e){iM(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){rM(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scaleX||1;return((e.getZoom()-1)*n+1)/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(yf);function rI(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function oI(t,e,n,i,r){var o=!n,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",h=t.tree.root,c=a.parentNode===h?a:a.parentNode||a,p=t.getItemGraphicEl(c.dataIndex),d=c.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:d,g=a.getLayout();o?((n=new bb(t,e,null,{symbolInnerColor:u,useNameLabel:!0})).x=f.x,n.y=f.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,i.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,Ou(n,{x:g.x,y:g.y},r);var y=n.getSymbolPath();if("radial"===r.get("layout")){var v=h.children[0],m=v.getLayout(),_=v.children.length,x=void 0,b=void 0;if(g.x===m.x&&!0===a.isExpand){var w={x:(v.children[0].getLayout().x+v.children[_-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[_-1].getLayout().y)/2};(x=Math.atan2(w.y-m.y,w.x-m.x))<0&&(x=2*Math.PI+x),(b=w.x<m.x)&&(x-=Math.PI)}else(x=Math.atan2(g.y-m.y,g.x-m.x))<0&&(x=2*Math.PI+x),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(b=g.x<m.x)&&(x-=Math.PI):(b=g.x>m.x)||(x-=Math.PI);var S=b?"left":"right",M=s.getModel("label"),I=M.get("rotate"),C=I*(Math.PI/180),A=y.getTextContent();A&&(y.setTextConfig({position:M.get("position")||S,rotation:null==I?-x:C,origin:"center"}),A.setStyle("verticalAlign","middle"))}var D=s.get(["emphasis","focus"]),L="ancestor"===D?a.getAncestorsIndices():"descendant"===D?a.getDescendantIndices():null;L&&(ys(n).focus=L),function(t,e,n,i,r,o,a,s){var l=e.getModel(),u=t.get("edgeShape"),h=t.get("layout"),c=t.getOrient(),p=t.get(["lineStyle","curveness"]),d=t.get("edgeForkPosition"),f=l.getModel("lineStyle").getLineStyle(),g=i.__edge;if("curve"===u)e.parentNode&&e.parentNode!==n&&(g||(g=i.__edge=new ru({shape:sI(h,c,p,r,r)})),Ou(g,{shape:sI(h,c,p,o,a)},t));else if("polyline"===u)if("orthogonal"===h){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var y=e.children,v=[],m=0;m<y.length;m++){var _=y[m].getLayout();v.push([_.x,_.y])}g||(g=i.__edge=new nI({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:c,forkPosition:d}})),Ou(g,{shape:{parentPoint:[a.x,a.y],childPoints:v}},t)}}else 0;g&&(g.useStyle(T({strokeNoScale:!0,fill:null},f)),nl(g,l,"lineStyle"),Gs(g),s.add(g))}(r,a,h,n,f,d,g,i),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var i=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);i&&1===i.hoverState||Vs(n.__edge,e)}})}function aI(t,e,n,i,r){for(var o,a=t.tree.getNodeByDataIndex(e),s=t.tree.root,l=a.parentNode===s?a:a.parentNode||a;null==(o=l.getLayout());)l=l.parentNode===s?l:l.parentNode||l;var u={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Nu(n,{x:o.x+1,y:o.y+1},r,{cb:function(){i.remove(n),t.setItemGraphicEl(e,null)},removeOpt:u}),n.fadeOut(null,{fadeLabel:!0,animation:u});var h=t.getItemGraphicEl(l.dataIndex).__edge,c=n.__edge||(!1===l.isExpand||1===l.children.length?h:void 0),p=r.get("edgeShape"),d=r.get("layout"),f=r.get("orient"),g=r.get(["lineStyle","curveness"]);c&&("curve"===p?Nu(c,{shape:sI(d,f,g,o,o),style:{opacity:0}},r,{cb:function(){i.remove(c)},removeOpt:u}):"polyline"===p&&"orthogonal"===r.get("layout")&&Nu(c,{shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]]},style:{opacity:0}},r,{cb:function(){i.remove(c)},removeOpt:u}))}function sI(t,e,n,i,r){var o,a,s,l,u,h,c,p;if("radial"===t){u=i.rawX,c=i.rawY,h=r.rawX,p=r.rawY;var d=UM(u,c),f=UM(u,c+(p-c)*n),g=UM(h,p+(c-p)*n),y=UM(h,p);return{x1:d.x||0,y1:d.y||0,x2:y.x||0,y2:y.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=i.x,c=i.y,h=r.x,p=r.y,"LR"!==e&&"RL"!==e||(o=u+(h-u)*n,a=c,s=h+(u-h)*n,l=p),"TB"!==e&&"BT"!==e||(o=u,a=c+(p-c)*n,s=h,l=p+(c-p)*n),{x1:u,y1:c,x2:h,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var lI=Lr();function uI(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,gI(e,n,t),P(n,(function(n){P(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,V(hI,t))}))})),e.wrapMethod("cloneShallow",V(pI,t)),P(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,V(cI,t))})),rt(n[e.dataType]===e)}function hI(t,e){if(lI(i=this).mainData===i){var n=I({},lI(this).datas);n[this.dataType]=e,gI(e,n,t)}else yI(e,this.dataType,lI(this).mainData,t);var i;return e}function cI(t,e){return t.struct&&t.struct.update(),e}function pI(t,e){return P(lI(e).datas,(function(n,i){n!==e&&yI(n.cloneShallow(),i,e,t)})),e}function dI(t){var e=lI(this).mainData;return null==t||null==e?e:lI(e).datas[t]}function fI(){var t=lI(this).mainData;return null==t?[{data:t}]:O(z(lI(t).datas),(function(e){return{type:e,data:lI(t).datas[e]}}))}function gI(t,e,n){lI(t).datas={},P(e,(function(e,i){yI(e,i,t,n)}))}function yI(t,e,n,i){lI(n).datas[e]=t,lI(t).mainData=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=dI,t.getLinkedDataAll=fI}var vI=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),H(t=t||{})&&(t={order:t});var i,r=t.order||"preorder",o=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),mI=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,i){var r=new t(n),o=[],a=1;!function t(e,n){var i=e.value;a=Math.max(a,F(i)?i.length:1),o.push(e);var s=new vI(Tr(e.name,""),r);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(s,n):r.root=s,r._nodes.push(s);var l=e.children;if(l)for(var u=0;u<l.length;u++)t(l[u],s)}(e),r.root.updateDepthAndHeight(0);var s=Nm(o,{coordDimensions:["value"],dimensionsCount:a}),l=new Pm(s,n);return l.initData(o),i&&i(l),uI({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},t}();var _I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return n(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new Sh(n,this,this.ecModel),r=mI.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=r.getNodeByDataIndex(e);return n.children.length&&n.isExpand||(t.parentModel=i),t}))}));var o=0;r.eachNode("preorder",(function(t){t.depth>o&&(o=t.depth)}));var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return r.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a})),r.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData().tree,r=i.root.children[0],o=i.getNodeByDataIndex(t),a=o.getValue(),s=o.name;o&&o!==r;)s=o.parentNode.name+"."+s,o=o.parentNode;return Yd("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.type="series.tree",e.layoutMode="box",e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(rf);function xI(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function bI(t,e){t.eachSeriesByType("tree",(function(t){!function(t,e){var n=function(t,e){return Ac(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=n;var i=t.get("layout"),r=0,o=0,a=null;"radial"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,a=XM((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(r=n.width,o=n.height,a=XM());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,i,r=[e];n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(a)}}(s),function(t,e,n){for(var i,r=[t],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)e(i,n)}(l,WM,a),s.hierNode.modifier=-l.hierNode.prelim,xI(l,YM);var u=l,h=l,c=l;xI(l,(function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>h.getLayout().x&&(h=t),t.depth>c.depth&&(c=t)}));var p=u===h?1:a(u,h)/2,d=p-u.getLayout().x,f=0,g=0,y=0,v=0;if("radial"===i)f=r/(h.getLayout().x+p+d),g=o/(c.depth-1||1),xI(l,(function(t){y=(t.getLayout().x+d)*f,v=(t.depth-1)*g;var e=UM(y,v);t.setLayout({x:e.x,y:e.y,rawX:y,rawY:v},!0)}));else{var m=t.getOrient();"RL"===m||"LR"===m?(g=o/(h.getLayout().x+p+d),f=r/(c.depth-1||1),xI(l,(function(t){v=(t.getLayout().x+d)*g,y="LR"===m?(t.depth-1)*f:r-(t.depth-1)*f,t.setLayout({x:y,y:v},!0)}))):"TB"!==m&&"BT"!==m||(f=r/(h.getLayout().x+p+d),g=o/(c.depth-1||1),xI(l,(function(t){y=(t.getLayout().x+d)*f,v="TB"===m?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:y,y:v},!0)})))}}}(t,e)}))}function wI(t){t.eachSeriesByType("tree",(function(t){var e=t.getData();e.tree.eachNode((function(t){var n=t.getModel().getModel("itemStyle").getItemStyle();I(e.ensureUniqueItemVisual(t.dataIndex,"style"),n)}))}))}function SI(t,e,n){var i=t.getZoom(),r=t.getCenter(),o=e.zoom,a=t.dataToPoint(r);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,t.setCenter(t.pointToData(a))),null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(i*o,l),s)/i}t.scaleX*=o,t.scaleY*=o;var u=(e.originX-t.x)*(o-1),h=(e.originY-t.y)*(o-1);t.x-=u,t.y-=h,t.updateTransform(),t.setCenter(t.pointToData(a)),t.setZoom(o*i)}return{center:t.getCenter(),zoom:t.getZoom()}}function MI(t,e,n){if(t&&A(e,t.type)>=0){var i=n.getData().tree.root,r=t.targetNode;if("string"==typeof r&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=t.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function II(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function TI(t,e){return A(II(t),e)>=0}function CI(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}var AI=function(){},DI=["treemapZoomToNode","treemapRender","treemapMove"];function LI(t){var e=t.getData().tree,n={};e.eachNode((function(e){for(var i=e;i&&i.depth>1;)i=i.parentNode;var r=hp(t.ecModel,i.name||i.dataIndex+"",n);e.setVisual("decal",r)}))}var kI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};PI(n);var i=t.levels||[],r=this.designatedVisualItemStyle={},o=new Sh({itemStyle:r},this,e),a=O((i=t.levels=function(t,e){var n,i,r=_r(e.get("color")),o=_r(e.get(["aria","decal","decals"]));if(!r)return;P(t=t||[],(function(t){var e=new Sh(t),r=e.get("color"),o=e.get("decal");(e.get(["itemStyle","color"])||r&&"none"!==r)&&(n=!0),(e.get(["itemStyle","decal"])||o&&"none"!==o)&&(i=!0)}));var a=t[0]||(t[0]={});n||(a.color=r.slice());!i&&o&&(a.decal=o.slice());return t}(i,e))||[],(function(t){return new Sh(t,o,e)}),this),s=mI.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=s.getNodeByDataIndex(e),i=a[n.depth];return t.parentModel=i||o,t}))}));return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t);return Yd("nameValue",{name:i.getName(t),value:r})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=CI(i,this),n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},I(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=ht(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){LI(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(rf);function PI(t){var e=0;P(t.children,(function(t){PI(t);var n=t.value;F(n)&&(n=n[0]),e+=n}));var n=t.value;F(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),F(t.value)?t.value[0]=n:t.value=n}var OI=function(){function t(t){this.group=new zi,t.add(this.group)}return t.prototype.render=function(t,e,n,i){var r=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var a=r.getModel("itemStyle"),s=a.getModel("textStyle"),l={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,l,s),this._renderContent(t,l,a,s,i),Dc(o,l.pos,l.box)}},t.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var r=Tr(i.getModel().get("name"),""),o=n.getTextRect(r),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:i,text:r,width:a})}},t.prototype._renderContent=function(t,e,n,i,r){for(var o,a,s,l,u,h,c,p,d,f=0,g=e.emptyItemWidth,y=t.get(["breadcrumb","height"]),v=(o=e.pos,a=e.box,l=a.width,u=a.height,h=Zi(o.left,l),c=Zi(o.top,u),p=Zi(o.right,l),d=Zi(o.bottom,u),(isNaN(h)||isNaN(parseFloat(o.left)))&&(h=0),(isNaN(p)||isNaN(parseFloat(o.right)))&&(p=l),(isNaN(c)||isNaN(parseFloat(o.top)))&&(c=0),(isNaN(d)||isNaN(parseFloat(o.bottom)))&&(d=u),s=pc(s||0),{width:Math.max(p-h-s[1]-s[3],0),height:Math.max(d-c-s[0]-s[2],0)}),m=e.totalWidth,_=e.renderList,x=_.length-1;x>=0;x--){var b=_[x],w=b.node,S=b.width,M=b.text;m>v.width&&(m-=S-g,S=g,M=null);var I=new ql({shape:{points:RI(f,0,S,y,x===_.length-1,0===x)},style:T(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new ls({style:{text:M,fill:i.getTextColor(),font:i.getFont()}}),textConfig:{position:"inside"},z:10,onclick:V(r,w)});I.disableLabelAnimation=!0,this.group.add(I),NI(I,t,w),f+=S+8}},t.prototype.remove=function(){this.group.removeAll()},t}();function RI(t,e,n,i,r,o){var a=[[r?t:t-5,e],[t+n,e],[t+n,e+i],[r?t:t-5,e+i]];return!o&&a.splice(2,0,[t+n+5,e+i/2]),!r&&a.push([t,e+i/2]),a}function NI(t,e,n){ys(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&CI(n,e)}}var EI=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,i,r){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:r}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,r=this._storage.length;i<r;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var zI=zi,BI=os,VI="label",FI="upperLabel",GI=qr([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),HI=function(t){var e=GI(t);return e.stroke=e.fill=e.lineWidth=null,e},WI=Lr(),YI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return n(e,t),e.prototype.render=function(t,e,n,i){if(!(A(e.findComponents({mainType:"series",subType:"treemap",query:i}),t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var r=MI(i,["treemapZoomToNode","treemapRootToNode"],t),o=i&&i.type,a=t.layoutInfo,s=!this._oldTree,l=this._storage,u="treemapRootToNode"===o&&r&&l?{rootNodeGroup:l.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(a),c=this._doRender(h,t,u);s||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?c.renderFinally():this._doAnimation(h,c,t,u),this._resetController(n),this._renderBreadcrumb(t,n,r)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new zI,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var i=e.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function u(t,i,r,u){return function(t,e,n,i,r,o,a,s,l,u){if(!a)return;var h=a.getLayout(),c=t.getData(),p=a.getModel();if(c.setItemGraphicEl(a.dataIndex,null),!h||!h.isInView)return;var d=h.width,f=h.height,g=h.borderWidth,y=h.invisible,v=a.getRawIndex(),m=s&&s.getRawIndex(),_=a.viewChildren,x=h.upperHeight,b=_&&_.length,w=p.getModel("itemStyle"),S=p.getModel(["emphasis","itemStyle"]),M=p.getModel(["blur","itemStyle"]),T=p.getModel(["select","itemStyle"]),C=w.get("borderRadius")||0,A=V("nodeGroup",zI);if(!A)return;if(l.add(A),A.x=h.x||0,A.y=h.y||0,A.markRedraw(),WI(A).nodeWidth=d,WI(A).nodeHeight=f,h.isAboveViewRoot)return A;var D=V("background",BI,u,1);D&&R(A,D,b&&h.upperLabelHeight);var L=p.get(["emphasis","focus"]),k=p.get(["emphasis","blurScope"]),P="ancestor"===L?a.getAncestorsIndices():"descendant"===L?a.getDescendantIndices():null;if(b)rl(A)&&il(A,!1),D&&(il(D,!0),c.setItemGraphicEl(a.dataIndex,D),Qs(D,P||L,k));else{var O=V("content",BI,u,2);O&&N(A,O),D&&rl(D)&&il(D,!1),il(A,!0),c.setItemGraphicEl(a.dataIndex,A),Qs(A,P||L,k)}return A;function R(e,n,i){var r=ys(n);if(r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:d,height:f,r:C}),y)E(n);else{n.invisible=!1;var o=a.getVisual("style"),s=o.stroke,l=HI(w);l.fill=s;var u=GI(S);u.fill=S.get("borderColor");var h=GI(M);h.fill=M.get("borderColor");var c=GI(T);if(c.fill=T.get("borderColor"),i){var p=d-2*g;z(n,s,p,x,o.opacity,{x:g,y:0,width:p,height:x})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=h,n.ensureState("select").style=c,Gs(n)}e.add(n)}function N(e,n){var i=ys(n);i.dataIndex=a.dataIndex,i.seriesIndex=t.seriesIndex;var r=Math.max(d-2*g,0),o=Math.max(f-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:r,height:o,r:C}),y)E(n);else{n.invisible=!1;var s=a.getVisual("style"),l=s.fill,u=HI(w);u.fill=l,u.decal=s.decal;var h=GI(S),c=GI(M),p=GI(T);z(n,l,r,s.opacity),n.setStyle(u),n.ensureState("emphasis").style=h,n.ensureState("blur").style=c,n.ensureState("select").style=p,Gs(n)}e.add(n)}function E(t){!t.invisible&&o.push(t)}function z(e,n,i,r,o,s){var l=p.getModel(s?FI:VI),u=Q(t.getFormattedLabel(a.dataIndex,"normal",null,null,l.get("formatter")),Tr(p.get("name"),null));if(!s&&h.isLeafRoot){var c=t.get("drillDownIcon",!0);u=c?c+" "+u:u}var d=l.getShallow("show");th(e,eh(p,s?FI:VI),{defaultText:d?u:null,inheritColor:n,defaultOpacity:i,labelFetcher:t,labelDataIndex:a.dataIndex});var f=e.getTextContent(),g=f.style,y=it(g.padding||0);s&&(e.setTextConfig({layoutRect:s}),f.disableLabelLayout=!0),f.beforeUpdate=function(){var t=Math.max((s?s.width:e.shape.width)-y[1]-y[3],0),n=Math.max((s?s.height:e.shape.height)-y[0]-y[2],0);g.width===t&&g.height===n||f.setStyle({width:t,height:n})},g.truncateMinChar=2,g.lineOverflow="truncate",B(g,s,h);var v=f.getState("emphasis");B(v?v.style:null,s,h)}function B(e,n,i){var r=e?e.text:null;if(!n&&i.isLeafRoot&&null!=r){var o=t.get("drillDownIcon",!0);e.text=o?o+" "+r:r}}function V(t,i,o,a){var s=null!=m&&n[t][m],l=r[t];return s?(n[t][m]=null,F(l,s)):y||((s=new i)instanceof xo&&(s.z=function(t,e){var n=10*t+e;return(n-1)/n}(o,a)),G(l,s)),e[t][v]=s}function F(t,e){var n=t[v]={};e instanceof zI?(n.oldX=e.x,n.oldY=e.y):n.oldShape=I({},e.shape)}function G(t,e){var n=t[v]={},o=a.parentNode,s=e instanceof zi;if(o&&(!i||"drillDown"===i.direction)){var l=0,u=0,h=r.background[o.getRawIndex()];!i&&h&&h.oldShape&&(l=h.oldShape.width,u=h.oldShape.height),s?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!s}}(e,a,s,n,o,l,t,i,r,u)}!function t(e,n,i,r,o){r?(n=e,P(e,(function(t,e){!t.isRemoved()&&s(e,e)}))):new rm(n,e,a,a).add(s).update(s).remove(V(s,null)).execute();function a(t){return t.getId()}function s(a,s){var l=null!=a?e[a]:null,h=null!=s?n[s]:null,c=u(l,h,i,o);c&&t(l&&l.viewChildren||[],h&&h.viewChildren||[],c,r,o+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],t,i===r||!r,0);var h=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&P(t,(function(t,n){var i=e[n];P(t,(function(t){t&&(i.push(t),WI(t).willDelete=!0)}))})),e}(s);return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:h,renderFinally:function(){P(h,(function(t){P(t,(function(t){t.parent&&t.parent.remove(t)}))})),P(l,(function(t){t.invisible=!0,t.dirty()}))}}},e.prototype._doAnimation=function(t,e,n,i){if(n.get("animation")){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=(G(r)?0:r)||0,s=(G(o)?null:o)||"cubicOut",l=new EI;P(e.willDeleteEls,(function(t,e){P(t,(function(t,n){if(!t.invisible){var r,o=t.parent,u=WI(o);if(i&&"drillDown"===i.direction)r=o===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,c=0;u.willDelete||(h=u.nodeWidth/2,c=u.nodeHeight/2),r="nodeGroup"===e?{x:h,y:c,style:{opacity:0}}:{shape:{x:h,y:c,width:0,height:0},style:{opacity:0}}}r&&l.add(t,r,a,0,s)}}))})),P(this._storage,(function(t,n){P(t,(function(t,i){var r=e.lastsForAnimation[n][i],o={};r&&(t instanceof zi?null!=r.oldX&&(o.x=t.x,o.y=t.y,t.x=r.oldX,t.y=r.oldY):(r.oldShape&&(o.shape=I({},t.shape),t.setShape(r.oldShape)),r.fadein?(t.setStyle("opacity",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),l.add(t,o,a,0,s))}))}),this),this._state="animating",l.finished(B((function(){this._state="ready",e.renderFinally()}),this)).start()}},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new QS(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",B(this._onPan,this)),e.on("zoom",B(this._onZoom,this)));var n=new Rn(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return n.contain(e,i)}))},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new Rn(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo,s=[1,0,0,1,0,0];me(s,s,[-(e-=a.x),-(n-=a.y)]),xe(s,s,[t.scale,t.scale]),me(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var i=e.findTarget(t.offsetX,t.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)e._rootToNode(i);else if("zoomToNode"===n)e._zoomToNode(i);else if("link"===n){var o=r.hostTree.data.getItemModel(r.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&wc(a,s)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,n){var i=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new OI(this.group))).render(t,e,n.node,(function(e){"animating"!==i._state&&(TI(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(t,e),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}}),this),n},e.type="treemap",e}(yf);var XI=P,UI=X,ZI=-1,jI=function(){function t(e){var n=e.mappingMethod,i=e.type,r=this.option=w(e);this.type=i,this.mappingMethod=n,this._normalizeData=rT[n];var o=t.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(qI(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,P(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(r)):"category"===n?r.categories?function(t){var e=t.categories,n=t.categoryMap={},i=t.visual;if(XI(e,(function(t,e){n[t]=e})),!F(i)){var r=[];X(i)?XI(i,(function(t,e){var i=n[e];r[null!=i?i:ZI]=t})):r[-1]=i,i=iT(t,r)}for(var o=e.length-1;o>=0;o--)null==i[o]&&(delete n[e[o]],e.pop())}(r):qI(r,!0):(rt("linear"!==n||r.dataExtent),qI(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return B(this._normalizeData,this)},t.listVisualTypes=function(){return z(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){X(t)?P(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,i){var r,o=F(e)?[]:X(e)?{}:(r=!0,null);return t.eachVisual(e,(function(t,e){var a=n.call(i,t,e);r?o=a:o[e]=a})),o},t.retrieveVisuals=function(e){var n,i={};return e&&XI(t.visualHandlers,(function(t,r){e.hasOwnProperty(r)&&(i[r]=e[r],n=!0)})),n?i:null},t.prepareVisualTypes=function(t){if(F(t))t=t.slice();else{if(!UI(t))return[];var e=[];XI(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var i,r=1/0,o=0,a=e.length;o<a;o++){var s=e[o].value;if(null!=s){if(s===t||"string"==typeof s&&s===t+"")return o;n&&c(s,o)}}for(o=0,a=e.length;o<a;o++){var l=e[o],u=l.interval,h=l.close;if(u){if(u[0]===-1/0){if(oT(h[1],t,u[1]))return o}else if(u[1]===1/0){if(oT(h[0],u[0],t))return o}else if(oT(h[0],u[0],t)&&oT(h[1],t,u[1]))return o;n&&c(u[0],o),n&&c(u[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function c(e,n){var o=Math.abs(e-t);o<r&&(r=o,i=n)}},t.visualHandlers={color:{applyVisual:JI("color"),getColorMapper:function(){var t=this.option;return B("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),QI.call(this,t)}:function(e,n,i){var r=!!i;return!n&&(e=this._normalizeData(e)),i=Qe(e,t.parsedVisual,i),r?i:an(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return an(Qe(t,this.option.parsedVisual),"rgba")},category:QI,piecewise:function(t,e){var n=nT.call(this,e);return null==n&&(n=an(Qe(t,this.option.parsedVisual),"rgba")),n},fixed:tT}},colorHue:KI((function(t,e){return rn(t,e)})),colorSaturation:KI((function(t,e){return rn(t,null,e)})),colorLightness:KI((function(t,e){return rn(t,null,null,e)})),colorAlpha:KI((function(t,e){return on(t,e)})),decal:{applyVisual:JI("decal"),_normalizedToVisual:{linear:null,category:QI,piecewise:null,fixed:null}},opacity:{applyVisual:JI("opacity"),_normalizedToVisual:eT([0,1])},liftZ:{applyVisual:JI("liftZ"),_normalizedToVisual:{linear:tT,category:tT,piecewise:tT,fixed:tT}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:$I,category:QI,piecewise:function(t,e){var n=nT.call(this,e);return null==n&&(n=$I.call(this,t)),n},fixed:tT}},symbolSize:{applyVisual:JI("symbolSize"),_normalizedToVisual:eT([0,1])}},t}();function qI(t,e){var n=t.visual,i=[];X(n)?XI(n,(function(t){i.push(t)})):null!=n&&i.push(n);e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),iT(t,i)}function KI(t){return{applyVisual:function(e,n,i){var r=this.mapValueToVisual(e);i("color",t(n("color"),r))},_normalizedToVisual:eT([0,1])}}function $I(t){var e=this.option.visual;return e[Math.round(Ui(t,[0,1],[0,e.length-1],!0))]||{}}function JI(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function QI(t){var e=this.option.visual;return e[this.option.loop&&t!==ZI?t%e.length:t]}function tT(){return this.option.visual[0]}function eT(t){return{linear:function(e){return Ui(e,t,this.option.visual,!0)},category:QI,piecewise:function(e,n){var i=nT.call(this,n);return null==i&&(i=Ui(e,t,this.option.visual,!0)),i},fixed:tT}}function nT(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[jI.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function iT(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=O(e,(function(t){return qe(t)}))),e}var rT={linear:function(t){return Ui(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=jI.findPieceIndex(t,e,!0);if(null!=n)return Ui(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?ZI:e},fixed:ft};function oT(t,e,n){return t?e<=n:e<n}var aT=Lr(),sT={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||lT(e,{},t.getViewRoot().getAncestors(),t)}};function lT(t,e,n,i){var r=t.getModel(),o=t.getLayout(),a=t.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),u=function(t,e,n){var i=I({},e),r=n.designatedVisualItemStyle;return P(["color","colorAlpha","colorSaturation"],(function(n){r[n]=e[n];var o=t.get(n);r[n]=null,null!=o&&(i[n]=o)})),i}(l,e,i),h=a.ensureUniqueItemVisual(t.dataIndex,"style"),c=l.get("borderColor"),p=l.get("borderColorSaturation");null!=p&&(c=function(t,e){return null!=e?rn(e,null,null,t):null}(p,s=uT(u))),h.stroke=c;var d=t.viewChildren;if(d&&d.length){var f=function(t,e,n,i,r,o){if(!o||!o.length)return;var a=cT(e,"color")||null!=r.color&&"none"!==r.color&&(cT(e,"colorAlpha")||cT(e,"colorSaturation"));if(!a)return;var s=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var h=e.get("colorMappingBy"),c={type:a.name,dataExtent:u,visual:a.range};"color"!==c.type||"index"!==h&&"id"!==h?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var p=new jI(c);return aT(p).drColorMappingBy=h,p}(0,r,o,0,u,d);P(d,(function(t,e){if(t.depth>=n.length||t===n[t.depth]){var o=function(t,e,n,i,r,o){var a=I({},e);if(r){var s=r.type,l="color"===s&&aT(r).drColorMappingBy,u="index"===l?i:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=r.mapValueToVisual(u)}return a}(r,u,t,e,f,i);lT(t,o,n,i)}}))}else s=uT(u),h.fill=s}}function uT(t){var e=hT(t,"color");if(e){var n=hT(t,"colorAlpha"),i=hT(t,"colorSaturation");return i&&(e=rn(e,null,null,i)),n&&(e=on(e,n)),e}}function hT(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function cT(t,e){var n=t.get(e);return F(n)&&n.length?{name:e,range:n}:null}var pT=Math.max,dT=Math.min,fT=Q,gT=P,yT=["itemStyle","borderWidth"],vT=["itemStyle","gapWidth"],mT=["upperLabel","show"],_T=["upperLabel","height"],xT={seriesType:"treemap",reset:function(t,e,n,i){var r=n.getWidth(),o=n.getHeight(),a=t.option,s=Ac(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=Zi(fT(s.width,l[0]),r),h=Zi(fT(s.height,l[1]),o),c=i&&i.type,p=MI(i,["treemapZoomToNode","treemapRootToNode"],t),d="treemapRender"===c||"treemapMove"===c?i.rootRect:null,f=t.getViewRoot(),g=II(f);if("treemapMove"!==c){var y="treemapZoomToNode"===c?function(t,e,n,i,r){var o,a=(e||{}).node,s=[i,r];if(!a||a===n)return s;var l=i*r,u=l*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var h=0,c=o.children,p=0,d=c.length;p<d;p++)h+=c[p].getValue();var f=a.getValue();if(0===f)return s;u*=h/f;var g=o.getModel(),y=g.get(yT);(u+=4*y*y+(3*y+Math.max(y,IT(g)))*Math.pow(u,.5))>tr&&(u=tr),a=o}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,r*v]}(t,p,f,u,h):d?[d.width,d.height]:[u,h],v=a.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var m={squareRatio:a.squareRatio,sort:v,leafDepth:a.leafDepth};f.hostTree.clearLayouts();var _={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};f.setLayout(_),bT(f,m,!1,0),_=f.getLayout(),gT(g,(function(t,e){var n=(g[e+1]||f).getValue();t.setLayout(I({dataExtent:[n,n],borderWidth:0,upperHeight:0},_))}))}var x=t.getData().tree.root;x.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var a=[o.width/2,o.height/2],s=r;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,d,p),!0),t.setLayoutInfo(s),MT(x,new Rn(-s.x,-s.y,r,o),g,f,0)}};function bT(t,e,n,i){var r,o;if(!t.isRemoved()){var a=t.getLayout();r=a.width,o=a.height;var s=t.getModel(),l=s.get(yT),u=s.get(vT)/2,h=IT(s),c=Math.max(l,h),p=l-u,d=c-u;t.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0);var f=(r=pT(r-2*p,0))*(o=pT(o-p-d,0)),g=function(t,e,n,i,r,o){var a=t.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return t.viewChildren=[];!function(t,e){e&&t.sort((function(t,n){var i="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}))}(a=N(a,(function(t){return!t.isRemoved()})),s);var u=function(t,e,n){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var a,s=t.get("visualDimension");e&&e.length?"value"===s&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],gT(e,(function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN];return{sum:i,dataExtent:a}}(e,a,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,n,i,r){if(!i)return n;for(var o=t.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var u=r["asc"===i?a-l-1:l].getValue();u/n*e<o&&(s=l,n-=u)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(e,n,u.sum,s,a),0===u.sum)return t.viewChildren=[];for(var h=0,c=a.length;h<c;h++){var p=a[h].getValue()/u.sum*n;a[h].setLayout({area:p})}l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}(t,s,f,e,n,i);if(g.length){var y={x:p,y:d,width:r,height:o},v=dT(r,o),m=1/0,_=[];_.area=0;for(var x=0,b=g.length;x<b;){var w=g[x];_.push(w),_.area+=w.getLayout().area;var S=wT(_,v,e.squareRatio);S<=m?(x++,m=S):(_.area-=_.pop().getLayout().area,ST(_,v,y,u,!1),v=dT(y.width,y.height),_.length=_.area=0,m=1/0)}if(_.length&&ST(_,v,y,u,!0),!n){var M=s.get("childrenVisibleMin");null!=M&&f<M&&(n=!0)}for(x=0,b=g.length;x<b;x++)bT(g[x],e,n,i+1)}}}function wT(t,e,n){for(var i=0,r=1/0,o=0,a=void 0,s=t.length;o<s;o++)(a=t[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=t.area*t.area,u=e*e*n;return l?pT(u*i/l,l/(u*r)):1/0}function ST(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],h=e?t.area/e:0;(r||h>n[l[a]])&&(h=n[l[a]]);for(var c=0,p=t.length;c<p;c++){var d=t[c],f={},g=h?d.getLayout().area/h:0,y=f[l[a]]=pT(h-2*i,0),v=n[s[o]]+n[l[o]]-u,m=c===p-1||v<g?v:g,_=f[l[o]]=pT(m-2*i,0);f[s[a]]=n[s[a]]+dT(i,y/2),f[s[o]]=u+dT(i,_/2),u+=m,d.setLayout(f,!0)}n[s[a]]+=h,n[l[a]]-=h}function MT(t,e,n,i,r){var o=t.getLayout(),a=n[r],s=a&&a===t;if(!(a&&!s||r===n.length&&t!==i)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var l=new Rn(e.x-o.x,e.y-o.y,e.width,e.height);gT(t.viewChildren||[],(function(t){MT(t,l,n,i,r+1)}))}}function IT(t){return t.get(mT)?t.get(_T):0}function TT(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getGraph().data,r=n.mapArray(n.getName);i.filterSelf((function(t){var n=i.getItemModel(t).getShallow("category");if(null!=n){"number"==typeof n&&(n=r[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0}))}))}function CT(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each((function(i){var o=n.getName(i);r["ec-"+o]=i;var a=n.getItemModel(i),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),n.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var h=a.getShallow(l[u],!0);null!=h&&n.setItemVisual(i,l[u],h)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t).getShallow("category");if(null!=e){"string"==typeof e&&(e=r["ec-"+e]);var o=n.getItemVisual(e,"style");I(i.ensureUniqueItemVisual(t,"style"),o);for(var a=["symbol","symbolSize","symbolKeepAspect"],s=0;s<a.length;s++)i.setItemVisual(t,a[s],n.getItemVisual(e,a[s]))}}))}))}function AT(t){return t instanceof Array||(t=[t,t]),t}function DT(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=AT(t.get("edgeSymbol")),r=AT(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),r=e.getEdgeByIndex(t),o=AT(i.getShallow("symbol",!0)),a=AT(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(t,"style");switch(I(l,s),l.stroke){case"source":var u=r.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=r.node2.getVisual("style");l.stroke=u&&u.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),a[0]&&r.setVisual("fromSymbolSize",a[0]),a[1]&&r.setVisual("toSymbolSize",a[1])}))}))}var LT="--\x3e",kT=function(t){return t.get("autoCurveness")||null},PT=function(t,e){var n=kT(t),i=20,r=[];if("number"==typeof n)i=n;else if(F(n))return void(t.__curvenessList=n);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=r},OT=function(t,e,n){var i=[t.id,t.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[n.uid,i,r].join(LT)},RT=function(t){var e=t.split(LT);return[e[0],e[2],e[1]].join(LT)},NT=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function ET(t,e,n,i){var r=kT(e),o=F(r);if(!r)return null;var a=function(t,e){var n=OT(t.node1,t.node2,e);return e.__edgeMap[n]}(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=function(t,e){return NT(OT(t.node1,t.node2,e),e)+NT(OT(t.node2,t.node1,e),e)}(t,e);PT(e,u),t.lineStyle=t.lineStyle||{};var h=OT(t.node1,t.node2,e),c=e.__curvenessList,p=o||u%2?0:1;if(a.isForward)return c[p+s];var d=RT(h),f=NT(d,e),g=c[s+f+p];return i?o?r&&0===r[0]?(f+p)%2?g:-g:((f%2?0:1)+p)%2?g:-g:(f+p)%2?g:-g:c[s+f+p]}function zT(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),BT(n,t)}}function BT(t,e){t.eachEdge((function(t,n){var i=et(t.getModel().get(["lineStyle","curveness"]),-ET(t,e,n,!0),0),r=mt(t.node1.getLayout()),o=mt(t.node2.getLayout()),a=[r,o];+i&&a.push([(r[0]+o[0])/2-(r[1]-o[1])*i,(r[1]+o[1])/2-(o[0]-r[0])*i]),t.setLayout(a)}))}function VT(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),r=[];P(n.dimensions,(function(t){r=r.concat(i.mapDimensionsAll(t))}));for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}BT(i.graph,t)}else e&&"none"!==e||zT(t)}))}function FT(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*n+1)/i}function GT(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var HT=Math.PI,WT=[];function YT(t,e){var n=t.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),r=t.getData(),o=r.graph,a=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(XT[e](t,o,r,l,a,s,u),o.eachEdge((function(e,n){var i,r=et(e.getModel().get(["lineStyle","curveness"]),ET(e,t,n),0),o=mt(e.node1.getLayout()),l=mt(e.node2.getLayout()),u=(o[0]+l[0])/2,h=(o[1]+l[1])/2;+r&&(i=[a*(r*=3)+u*(1-r),s*r+h*(1-r)]),e.setLayout([o,l,i])})))}}var XT={value:function(t,e,n,i,r,o,a){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||a);e.eachNode((function(t){var e=t.getValue("value"),n=u*(l?e:1)/2;s+=n,t.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=n}))},symbolSize:function(t,e,n,i,r,o,a){var s=0;WT.length=a;var l=FT(t);e.eachNode((function(t){var e=GT(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/i);isNaN(n)&&(n=HT/2),WT[t.dataIndex]=n,s+=2*n}));var u=(2*HT-s)/a/2,h=0;e.eachNode((function(t){var e=u+WT[t.dataIndex];h+=e,t.setLayout([i*Math.cos(h)+r,i*Math.sin(h)+o]),h+=e}))}};function UT(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&YT(t,"symbolSize")}))}var ZT=bt;function jT(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),r=i.data,o=i.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?r.each((function(t){var e=r.getId(t);r.setItemLayout(t,n[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&YT(t,"value"):zT(t);var l=r.getDataExtent("value"),u=o.getDataExtent("value"),h=a.get("repulsion"),c=a.get("edgeLength"),p=F(h)?h:[h,h],d=F(c)?c:[c,c];d=[d[1],d[0]];var f=r.mapArray("value",(function(t,e){var n=r.getItemLayout(e),i=Ui(t,l,p);return isNaN(i)&&(i=(p[0]+p[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=o.mapArray("value",(function(e,n){var r=i.getEdgeByIndex(n),o=Ui(e,u,d);isNaN(o)&&(o=(d[0]+d[1])/2);var a=r.getModel(),s=et(r.getModel().get(["lineStyle","curveness"]),-ET(r,t,n,!0),0);return{n1:f[r.node1.dataIndex],n2:f[r.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),y=e.getBoundingRect(),v=function(t,e,n){for(var i=t,r=e,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=null==n.gravity?.1:n.gravity,h=0;h<i.length;h++){var c=i[h];c.p||(c.p=yt(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=mt(c.p),c.edges=null}var p,d,f=null==n.friction?.6:n.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){p=t},afterStep:function(t){d=t},step:function(t){p&&p(i,r);for(var e=[],n=i.length,o=0;o<r.length;o++){var a=r[o];if(!a.ignoreForceLayout){var s=a.n1;wt(e,(y=a.n2).p,s.p);var h=St(e)-a.d,c=y.w/(s.w+y.w);isNaN(c)&&(c=0),At(e,e),!s.fixed&&ZT(s.p,s.p,e,c*h*g),!y.fixed&&ZT(y.p,y.p,e,-(1-c)*h*g)}}for(o=0;o<n;o++)(_=i[o]).fixed||(wt(e,l,_.p),ZT(_.p,_.p,e,u*g));for(o=0;o<n;o++){s=i[o];for(var f=o+1;f<n;f++){var y;wt(e,(y=i[f]).p,s.p),0===(h=St(e))&&(_t(e,Math.random()-.5,Math.random()-.5),h=1);var v=(s.rep+y.rep)/h/h;!s.fixed&&ZT(s.pp,s.pp,e,v),!y.fixed&&ZT(y.pp,y.pp,e,-v)}}var m=[];for(o=0;o<n;o++){var _;(_=i[o]).fixed||(wt(m,_.p,_.pp),ZT(_.p,_.p,m,g),vt(_.pp,_.p))}var x=(g*=.992)<.01;d&&d(i,r,x),t&&t(x)}}}(f,g,{rect:y,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep((function(t,e){for(var n=0,r=t.length;n<r;n++)t[n].fixed&&vt(t[n].p,i.getNodeByIndex(n).getLayout())})),v.afterStep((function(t,e,o){for(var a=0,s=t.length;a<s;a++)t[a].fixed||i.getNodeByIndex(a).setLayout(t[a].p),n[r.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var l=e[a],u=i.getEdgeByIndex(a),h=l.n1.p,c=l.n2.p,p=u.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],vt(p[0],h),vt(p[1],c),+l.curveness&&(p[2]=[(h[0]+c[0])/2-(h[1]-c[1])*l.curveness,(h[1]+c[1])/2-(c[0]-h[0])*l.curveness]),u.setLayout(p)}})),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null}))}function qT(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var i=t.get("coordinateSystem");if(!i||"view"===i){var r=t.getData(),o=[],a=[];ea(r.mapArray((function(t){var e=r.getItemModel(t);return[+e.get("x"),+e.get("y")]})),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(t,e,n){return Ac(I(t.getBoxLayoutParams(),{aspect:n}),{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var u=a[0]-o[0],h=a[1]-o[1],c=l.width,p=l.height,d=t.coordinateSystem=new QM;d.zoomLimit=t.get("scaleLimit"),d.setBoundingRect(o[0],o[1],u,h),d.setViewRect(l.x,l.y,c,p),d.setCenter(t.get("center")),d.setZoom(t.get("zoom")),n.push(d)}})),n}var KT=tu.prototype,$T=ru.prototype,JT=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t)}(JT);function QT(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var tC=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new JT},e.prototype.buildPath=function(t,e){QT(e)?KT.buildPath.call(this,t,e):$T.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return QT(this.shape)?KT.pointAt.call(this,t):$T.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=QT(e)?[e.x2-e.x1,e.y2-e.y1]:$T.tangentAt.call(this,t);return At(n,n)},e}(Za),eC=["fromSymbol","toSymbol"];function nC(t){return"_"+t+"Type"}function iC(t,e,n){var i=e.getItemVisual(n,t);if(i&&"none"!==i){var r=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=F(r)?r:[r,r],s=uy(i,-a[0]/2,-a[1]/2,a[0],a[1]);return s.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,s.name=t,s}}function rC(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var oC=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createLine(e,n,i),r}return n(e,t),e.prototype._createLine=function(t,e,n){var i=t.hostModel,r=function(t){var e=new tC({name:"line",subPixelOptimize:!0});return rC(e.shape,t),e}(t.getItemLayout(e));r.shape.percent=0,Ru(r,{shape:{percent:1}},i,e),this.add(r),P(eC,(function(n){var i=iC(n,t,e);this.add(i),this[nC(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};rC(a.shape,o),Ou(r,a,i,e),P(eC,(function(n){var i=t.getItemVisual(e,n),r=nC(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=iC(n,t,e);this.add(o)}this[r]=i}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels;if(!n||t.hasItemOption){var u=t.getItemModel(e);o=u.getModel(["emphasis","lineStyle"]).getLineStyle(),a=u.getModel(["blur","lineStyle"]).getLineStyle(),s=u.getModel(["select","lineStyle"]).getLineStyle(),l=eh(u)}var h=t.getItemVisual(e,"style"),c=h.stroke;r.useStyle(h),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=a,r.ensureState("select").style=s,P(eC,(function(t){var e=this.childOfName(t);if(e){e.setColor(c),e.style.opacity=h.opacity;for(var n=0;n<xs.length;n++){var i=xs[n],o=r.getState(i);if(o){var a=o.style||{},s=e.ensureState(i),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}}),this);var p=i.getRawValue(e);th(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:c||"#000",defaultOpacity:h.opacity,defaultText:(null==p?t.getName(e):isFinite(p)?ji(p):p)+""});var d=this.getTextContent();if(d){var f=l.normal;d.__align=d.style.align,d.__verticalAlign=d.style.verticalAlign,d.__position=f.get("position")||"middle";var g=f.get("distance");F(g)||(g=[g,g]),d.__labelDistance=g}this.setTextConfig({position:null,local:!0,inside:!1}),Js(this)},e.prototype.highlight=function(){Hs(this)},e.prototype.downplay=function(){Ws(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");rC(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.getTextContent();if(e||n||i&&!i.ignore){for(var r=1,o=this.parent;o;)o.scaleX&&(r/=o.scaleX),o=o.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),h=wt([],u,l);if(At(h,h),e&&(e.setPosition(l),S(e,0),e.scaleX=e.scaleY=r*s,e.markRedraw()),n&&(n.setPosition(u),S(n,1),n.scaleX=n.scaleY=r*s,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var c=void 0,p=void 0,d=i.__labelDistance,f=d[0]*r,g=d[1]*r,y=s/2,v=a.tangentAt(y),m=[v[1],-v[0]],_=a.pointAt(y);m[1]>0&&(m[0]=-m[0],m[1]=-m[1]);var x=v[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var b=-Math.atan2(v[1],v[0]);u[0]<l[0]&&(b=Math.PI+b),i.rotation=b}var w=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-g,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=g,p="top";break;default:w=0,p="middle"}switch(i.__position){case"end":i.x=h[0]*f+u[0],i.y=h[1]*g+u[1],c=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":i.x=-h[0]*f+l[0],i.y=-h[1]*g+l[1],c=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=f*x+l[0],i.y=l[1]+w,c=v[0]<0?"right":"left",i.originX=-f*x,i.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=_[0],i.y=_[1]+w,c="center",i.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-f*x+u[0],i.y=u[1]+w,c=v[0]>=0?"right":"left",i.originX=f*x,i.originY=-w}i.scaleX=i.scaleY=r,i.setStyle({verticalAlign:i.__verticalAlign||p,align:i.__align||c})}}}function S(t,e){var n=t.__specifiedRotation;if(null==n){var i=a.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else t.attr("rotation",n)}},e}(zi),aC=function(){function t(t){this.group=new zi,this._LineCtor=t||oC}return t.prototype.isPersistent=function(){return!0},t.prototype.updateData=function(t){var e=this,n=this,i=n.group,r=n._lineData;n._lineData=t,r||i.removeAll();var o=sC(t);t.diff(r).add((function(n){e._doAdd(t,n,o)})).update((function(n,i){e._doUpdate(r,t,i,n,o)})).remove((function(t){i.remove(r.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=sC(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){if(uC(e.getItemLayout(i))){var r=new this._LineCtor(e,i,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(i,r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype._doAdd=function(t,e,n){if(uC(t.getItemLayout(e))){var i=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,i),this.group.add(i)}},t.prototype._doUpdate=function(t,e,n,i,r){var o=t.getItemGraphicEl(n);uC(e.getItemLayout(i))?(o?o.updateData(e,i,r):o=new this._LineCtor(e,i,r),e.setItemGraphicEl(i,o),this.group.add(o)):this.group.remove(o)},t}();function sC(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:eh(e)}}function lC(t){return isNaN(t[0])||isNaN(t[1])}function uC(t){return!lC(t[0])&&!lC(t[1])}var hC=[],cC=[],pC=[],dC=Go,fC=Pt,gC=Math.abs;function yC(t,e,n){for(var i,r=t[0],o=t[1],a=t[2],s=1/0,l=n*n,u=.1,h=.1;h<=.9;h+=.1){hC[0]=dC(r[0],o[0],a[0],h),hC[1]=dC(r[1],o[1],a[1],h),(d=gC(fC(hC,e)-l))<s&&(s=d,i=h)}for(var c=0;c<32;c++){var p=i+u;cC[0]=dC(r[0],o[0],a[0],i),cC[1]=dC(r[1],o[1],a[1],i),pC[0]=dC(r[0],o[0],a[0],p),pC[1]=dC(r[1],o[1],a[1],p);var d=fC(cC,e)-l;if(gC(d)<.01)break;var f=fC(pC,e)-l;u/=2,d<0?f>=0?i+=u:i-=u:f>=0?i-=u:i+=u}return i}function vC(t,e){var n=[],i=Yo,r=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),u=t.getVisual("fromSymbol"),h=t.getVisual("toSymbol");l.__original||(l.__original=[mt(l[0]),mt(l[1])],l[2]&&l.__original.push(mt(l[2])));var c=l.__original;if(null!=l[2]){if(vt(r[0],c[0]),vt(r[1],c[2]),vt(r[2],c[1]),u&&"none"!==u){var p=GT(t.node1),d=yC(r,c[0],p*e);i(r[0][0],r[1][0],r[2][0],d,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],d,n),r[0][1]=n[3],r[1][1]=n[4]}if(h&&"none"!==h){p=GT(t.node2),d=yC(r,c[1],p*e);i(r[0][0],r[1][0],r[2][0],d,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],d,n),r[1][1]=n[1],r[2][1]=n[2]}vt(l[0],r[0]),vt(l[1],r[2]),vt(l[2],r[1])}else{if(vt(o[0],c[0]),vt(o[1],c[1]),wt(a,o[1],o[0]),At(a,a),u&&"none"!==u){p=GT(t.node1);bt(o[0],o[0],a,p*e)}if(h&&"none"!==h){p=GT(t.node2);bt(o[1],o[1],a,-p*e)}vt(l[0],o[0]),vt(l[1],o[1])}}))}function mC(t){return"view"===t.type}var _C=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){var n=new Tb,i=new aC,r=this.group;this._controller=new QS(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(mC(r)){var l={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?s.attr(l):Ou(s,l,t)}vC(t.getGraph(),FT(t));var u=t.getData();o.updateData(u);var h=t.getEdgeData();a.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var c=t.forceLayout,p=t.get(["force","layoutAnimation"]);c&&this._startForceLayoutIteration(c,p),u.graph.eachNode((function(t){var e=t.dataIndex,n=t.getGraphicEl(),r=t.getModel();n.off("drag").off("dragend");var o=r.get("draggable");o&&n.on("drag",(function(){c&&(c.warmUp(),!i._layouting&&i._startForceLayoutIteration(c,p),c.setFixed(e),u.setItemLayout(e,[n.x,n.y]))})).on("dragend",(function(){c&&c.setUnfixed(e)})),n.setDraggable(o&&!!c),"adjacency"===r.get(["emphasis","focus"])&&(ys(n).focus=t.getAdjacentDataIndices())})),u.graph.eachEdge((function(t){var e=t.getGraphicEl();"adjacency"===t.getModel().get(["emphasis","focus"])&&(ys(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var d="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),f=u.getLayout("cx"),g=u.getLayout("cy");u.eachItemGraphicEl((function(t,e){var n=u.getItemModel(e).get(["label","rotate"])||0,i=t.getSymbolPath();if(d){var r=u.getItemLayout(e),o=Math.atan2(r[1]-g,r[0]-f);o<0&&(o=2*Math.PI+o);var a=r[0]<f;a&&(o-=Math.PI);var s=a?"left":"right";i.setTextConfig({rotation:-o,position:s,origin:"center"});var l=i.ensureState("emphasis");I(l.textConfig||(l.textConfig={}),{position:s})}else i.setTextConfig({rotation:n*=Math.PI/180})})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;!function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))}()},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!aM(e,n,t)})),mC(t.coordinateSystem)?(r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(e){iM(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){rM(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),vC(t.getGraph(),FT(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=FT(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){vC(t.getGraph(),FT(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(yf);function xC(t){return"_EC_"+t}var bC=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[xC(t)]){var i=new wC(t,e);return i.hostGraph=this,this.nodes.push(i),n[xC(t)]=i,i}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[xC(t)]},t.prototype.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof wC||(t=i[xC(t)]),e instanceof wC||(e=i[xC(e)]),t&&e){var o=t.id+"-"+e.id,a=new SC(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),r[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof wC&&(t=t.id),e instanceof wC&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},t.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof wC||(e=this._nodesMap[xC(e)]),e){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var a=[e];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var u=l[o],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(i,h,s))return;a.push(h),h.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf((function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)i[e.getRawIndex(r)].dataIndex=r},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,i=this.edges,r=0;r<n.length;r++)e.addNode(n[r].id,n[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),wC=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),SC=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function MC(t,e){return{getValue:function(n){var i=this[t][e];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}function IC(t,e,n,i,r){for(var o=new bC(i),a=0;a<t.length;a++)o.addNode(Q(t[a].id,t[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<e.length;a++){var h=e[a],c=h.source,p=h.target;o.addEdge(c,p,u)&&(l.push(h),s.push(Q(Tr(h.id,null),c+" > "+p)),u++)}var d,f=n.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)d=Hm(t,n);else{var g=_p.get(f),y=g&&g.dimensions||[];A(y,"value")<0&&y.concat(["value"]);var v=Nm(t,{coordDimensions:y});(d=new Pm(v,n)).initData(t)}var m=new Pm(["value"],n);return m.initData(l,s),r&&r(d,m),uI({mainData:d,struct:o,structAttr:"graph",datas:{node:d,edge:m},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}L(wC,MC("hostGraph","data")),L(SC,MC("hostGraph","edgeData"));var TC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new Nw(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),xr(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n,i=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&i){kT(n=this)&&(n.__curvenessList=[],n.__edgeMap={},PT(n));var a=IC(r,i,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var n=Sh.prototype.getModel;function i(t,e){var i=n.call(this,t,e);return i.resolveParentPath=r,i}function r(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=r,t.getModel=i,t}))}));return P(a.edges,(function(t){!function(t,e,n,i){if(kT(n)){var r=OT(t,e,n),o=n.__edgeMap,a=o[RT(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}(t.node1,t.node2,this,t.dataIndex)}),this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),o=i.graph.getEdgeByIndex(t),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),Yd("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}return tf({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=O(this.option.categories||[],(function(t){return null!=t.value?t:I({value:0},t)})),e=new Pm(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(rf),CC={type:"graphRoam",event:"graphRoam",update:"none"};var AC=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},DC=function(t){function e(e){var n=t.call(this,e)||this;return n.type="pointer",n}return n(e,t),e.prototype.getDefaultShape=function(){return new AC},e.prototype.buildPath=function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=r/3?1:2),l=e.y-i(a)*o*(o>=r/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,l)},e}(Za);function LC(t,e){var n=null==t?"":t+"";return e&&("string"==typeof e?n=e.replace("{value}",n):"function"==typeof e&&(n=e(t))),n}var kC=2*Math.PI,PC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]),r=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r);return{cx:Zi(n[0],e.getWidth()),cy:Zi(n[1],e.getHeight()),r:Zi(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,i,r),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,i,r){for(var o=this.group,a=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,u=t.getModel("axisLine"),h=u.get("roundCap")?aw:Wl,c=u.get("show"),p=u.getModel("lineStyle"),d=p.get("width"),f=(l-s)%kC||l===s?(l-s)%kC:kC,g=s,y=0;c&&y<i.length;y++){var v=new h({shape:{startAngle:g,endAngle:l=s+f*Math.min(Math.max(i[y][0],0),1),cx:r.cx,cy:r.cy,clockwise:a,r0:r.r-d,r:r.r},silent:!0});v.setStyle({fill:i[y][1]}),v.setStyle(p.getLineStyle(["color","width"])),o.add(v),g=l}var m=function(t){if(t<=0)return i[0][1];var e;for(e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!a){var _=s;s=l,l=_}this._renderTicks(t,e,n,m,r,s,l,a,d),this._renderTitleAndDetail(t,e,n,m,r),this._renderAnchor(t,r),this._renderPointer(t,e,n,m,r,s,l,a,d)},e.prototype._renderTicks=function(t,e,n,i,r,o,a,s,l){for(var u,h,c=this.group,p=r.cx,d=r.cy,f=r.r,g=+t.get("min"),y=+t.get("max"),v=t.getModel("splitLine"),m=t.getModel("axisTick"),_=t.getModel("axisLabel"),x=t.get("splitNumber"),b=m.get("splitNumber"),w=Zi(v.get("length"),f),S=Zi(m.get("length"),f),M=o,I=(a-o)/x,T=I/b,C=v.getModel("lineStyle").getLineStyle(),A=m.getModel("lineStyle").getLineStyle(),D=v.get("distance"),L=0;L<=x;L++){if(u=Math.cos(M),h=Math.sin(M),v.get("show")){var k=new tu({shape:{x1:u*(f-(P=D?D+l:l))+p,y1:h*(f-P)+d,x2:u*(f-w-P)+p,y2:h*(f-w-P)+d},style:C,silent:!0});"auto"===C.stroke&&k.setStyle({stroke:i(L/x)}),c.add(k)}if(_.get("show")){var P=_.get("distance")+D,O=LC(ji(L/x*(y-g)+g),_.get("formatter")),R=i(L/x);c.add(new ls({style:nh(_,{text:O,x:u*(f-w-P)+p,y:h*(f-w-P)+d,verticalAlign:h<-.8?"top":h>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:R}),silent:!0}))}if(m.get("show")&&L!==x){P=(P=m.get("distance"))?P+l:l;for(var N=0;N<=b;N++){u=Math.cos(M),h=Math.sin(M);var E=new tu({shape:{x1:u*(f-P)+p,y1:h*(f-P)+d,x2:u*(f-S-P)+p,y2:h*(f-S-P)+d},silent:!0,style:A});"auto"===A.stroke&&E.setStyle({stroke:i((L+N/b)/x)}),c.add(E),M+=T}M-=T}else M+=I}},e.prototype._renderPointer=function(t,e,n,i,r,o,a,s,l){var u=this.group,h=this._data,c=this._progressEls,p=[],d=t.get(["pointer","show"]),f=t.getModel("progress"),g=f.get("show"),y=t.getData(),v=y.mapDimension("value"),m=+t.get("min"),_=+t.get("max"),x=[m,_],b=[o,a];function w(e,n){var i,o=y.getItemModel(e).getModel("pointer"),a=Zi(o.get("width"),r.r),s=Zi(o.get("length"),r.r),l=t.get(["pointer","icon"]),u=o.get("offsetCenter"),h=Zi(u[0],r.r),c=Zi(u[1],r.r),p=o.get("keepAspect");return(i=l?uy(l,h-a/2,c-s,a,s,null,p):new DC({shape:{angle:-Math.PI/2,width:a,r:s,x:h,y:c}})).rotation=-(n+Math.PI/2),i.x=r.cx,i.y=r.cy,i}function S(t,e){var n=f.get("roundCap")?aw:Wl,i=f.get("overlap"),a=i?f.get("width"):l/y.count(),u=i?r.r-a:r.r-(t+1)*a,h=i?r.r:r.r-t*a,c=new n({shape:{startAngle:o,endAngle:e,cx:r.cx,cy:r.cy,clockwise:s,r0:u,r:h}});return i&&(c.z2=_-y.get(v,t)%_),c}(g||d)&&(y.diff(h).add((function(e){if(d){var n=w(e,o);Ru(n,{rotation:-(Ui(y.get(v,e),x,b,!0)+Math.PI/2)},t),u.add(n),y.setItemGraphicEl(e,n)}if(g){var i=S(e,o),r=f.get("clip");Ru(i,{shape:{endAngle:Ui(y.get(v,e),x,b,r)}},t),u.add(i),p[e]=i}})).update((function(e,n){if(d){var i=h.getItemGraphicEl(n),r=i?i.rotation:o,a=w(e,r);a.rotation=r,Ou(a,{rotation:-(Ui(y.get(v,e),x,b,!0)+Math.PI/2)},t),u.add(a),y.setItemGraphicEl(e,a)}if(g){var s=c[n],l=S(e,s?s.shape.endAngle:o),m=f.get("clip");Ou(l,{shape:{endAngle:Ui(y.get(v,e),x,b,m)}},t),u.add(l),p[e]=l}})).execute(),y.each((function(t){var e=y.getItemModel(t),n=e.getModel("emphasis");if(d){var r=y.getItemGraphicEl(t);r.useStyle(y.getItemVisual(t,"style")),r.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===r.style.fill&&r.setStyle("fill",i(Ui(y.get(v,t),x,[0,1],!0))),r.z2EmphasisLift=0,nl(r,e),Js(r,n.get("focus"),n.get("blurScope"))}if(g){var o=p[t];o.useStyle(y.getItemVisual(t,"style")),o.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),o.z2EmphasisLift=0,nl(o,e),Js(o,n.get("focus"),n.get("blurScope"))}})),this._progressEls=p)},e.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor");if(n.get("show")){var i=n.get("size"),r=n.get("icon"),o=n.get("offsetCenter"),a=n.get("keepAspect"),s=uy(r,e.cx-i/2+Zi(o[0],e.r),e.cy-i/2+Zi(o[1],e.r),i,i,null,a);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,n,i,r){var o=this,a=t.getData(),s=a.mapDimension("value"),l=+t.get("min"),u=+t.get("max"),h=new zi,c=[],p=[],d=t.isAnimationEnabled();a.diff(this._data).add((function(t){c[t]=new ls({silent:!0}),p[t]=new ls({silent:!0})})).update((function(t,e){c[t]=o._titleEls[e],p[t]=o._detailEls[e]})).execute(),a.each((function(e){var n=a.getItemModel(e),o=a.get(s,e),f=new zi,g=i(Ui(o,[l,u],[0,1],!0)),y=n.getModel("title");if(y.get("show")){var v=y.get("offsetCenter"),m=r.cx+Zi(v[0],r.r),_=r.cy+Zi(v[1],r.r);(C=c[e]).attr({style:nh(y,{x:m,y:_,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:g})}),f.add(C)}var x=n.getModel("detail");if(x.get("show")){var b=x.get("offsetCenter"),w=r.cx+Zi(b[0],r.r),S=r.cy+Zi(b[1],r.r),M=Zi(x.get("width"),r.r),I=Zi(x.get("height"),r.r),T=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:g,C=p[e],A=x.get("formatter");C.attr({style:nh(x,{x:w,y:S,text:LC(o,A),width:isNaN(M)?null:M,height:isNaN(I)?null:I,align:"center",verticalAlign:"middle"},{inheritColor:T})}),hh(C,{normal:x},o,(function(t){return LC(t,A)})),d&&ch(C,e,a,t,{getFormattedLabel:function(t,e,n,i,r,a){return LC(a?a.interpolatedValue:o,A)}}),f.add(C)}h.add(f)})),this.group.add(h),this._titleEls=c,this._detailEls=p},e.type="gauge",e}(yf),OC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n.useColorPaletteOnData=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){return Rw(this,["value"])},e.type="series.gauge",e.defaultOption={zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(rf);var RC=["itemStyle","opacity"],NC=function(t){function e(e,n){var i=t.call(this)||this,r=i,o=new $l,a=new ls;return r.setTextContent(a),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return n(e,t),e.prototype.updateData=function(t,e,n){var i=this,r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),s=o.getModel("emphasis"),l=o.get(RC);l=null==l?1:l,i.useStyle(t.getItemVisual(e,"style")),i.style.lineJoin="round",n?(i.setShape({points:a.points}),i.style.opacity=0,Ru(i,{style:{opacity:l}},r,e)):Ou(i,{style:{opacity:l},shape:{points:a.points}},r,e),nl(i,o),this._updateLabel(t,e),Js(this,s.get("focus"),s.get("blurScope"))},e.prototype._updateLabel=function(t,e){var n=this,i=this.getTextGuideLine(),r=n.getTextContent(),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"style"),u=l.fill;th(r,eh(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:l.opacity,defaultText:t.getName(e)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var h=s.linePoints;i.setShape({points:h}),n.textGuideLineConfig={anchor:h?new In(h[0][0],h[0][1]):null},Ou(r,{style:{x:s.x,y:s.y}},o,e),r.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),zg(n,Bg(a),{stroke:u})},e}(ql),EC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._data,o=this.group;i.diff(r).add((function(t){var e=new NC(i,t);i.setItemGraphicEl(t,e),o.add(e)})).update((function(t,e){var n=r.getItemGraphicEl(e);n.updateData(i,t),o.add(n),i.setItemGraphicEl(t,n)})).remove((function(e){zu(r.getItemGraphicEl(e),t,e)})).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(yf),zC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.useColorPaletteOnData=!0,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nw(B(this.getData,this),B(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return Rw(this,{coordDimensions:["value"],encodeDefaulter:V(Qc,this)})},e.prototype._defaultLabelLine=function(t){xr(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=n.mapDimension("value"),o=n.getSum(r);return i.percent=o?+(n.get(r,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(rf);function BC(t,e){t.eachSeriesByType("funnel",(function(t){var n=t.getData(),i=n.mapDimension("value"),r=t.get("sort"),o=function(t,e){return Ac(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=t.get("orient"),s=o.width,l=o.height,u=function(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,(function(t){return t})),r=[],o="ascending"===e,a=0,s=t.count();a<s;a++)r[a]=a;return"function"==typeof e?r.sort(e):"none"!==e&&r.sort((function(t,e){return o?i[t]-i[e]:i[e]-i[t]})),r}(n,r),h=o.x,c=o.y,p="horizontal"===a?[Zi(t.get("minSize"),l),Zi(t.get("maxSize"),l)]:[Zi(t.get("minSize"),s),Zi(t.get("maxSize"),s)],d=n.getDataExtent(i),f=t.get("min"),g=t.get("max");null==f&&(f=Math.min(d[0],0)),null==g&&(g=d[1]);var y=t.get("funnelAlign"),v=t.get("gap"),m=(("horizontal"===a?s:l)-v*(n.count()-1))/n.count(),_=function(t,e){if("horizontal"===a){var r=Ui(n.get(i,t)||0,[f,g],p,!0),o=void 0;switch(y){case"top":o=c;break;case"center":o=c+(l-r)/2;break;case"bottom":o=c+(l-r)}return[[e,o],[e,o+r]]}var u,d=Ui(n.get(i,t)||0,[f,g],p,!0);switch(y){case"left":u=h;break;case"center":u=h+(s-d)/2;break;case"right":u=h+s-d}return[[u,e],[u+d,e]]};"ascending"===r&&(m=-m,v=-v,"horizontal"===a?h+=s:c+=l,u=u.reverse());for(var x=0;x<u.length;x++){var b=u[x],w=u[x+1],S=n.getItemModel(b);if("horizontal"===a){var M=S.get(["itemStyle","width"]);null==M?M=m:(M=Zi(M,s),"ascending"===r&&(M=-M));var I=_(b,h),T=_(w,h+M);h+=M+v,n.setItemLayout(b,{points:I.concat(T.slice().reverse())})}else{var C=S.get(["itemStyle","height"]);null==C?C=m:(C=Zi(C,l),"ascending"===r&&(C=-C));I=_(b,c),T=_(w,c+C);c+=C+v,n.setItemLayout(b,{points:I.concat(T.slice().reverse())})}}!function(t){var e=t.hostModel.get("orient");t.each((function(n){var i,r,o,a,s=t.getItemModel(n),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),h=t.getItemLayout(n),c=h.points,p="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(p)"insideLeft"===l?(r=(c[0][0]+c[3][0])/2+5,o=(c[0][1]+c[3][1])/2,i="left"):"insideRight"===l?(r=(c[1][0]+c[2][0])/2-5,o=(c[1][1]+c[2][1])/2,i="right"):(r=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,o=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,i="center"),a=[[r,o],[r,o]];else{var d=void 0,f=void 0,g=void 0,y=void 0,v=u.get("length");"left"===l?(d=(c[3][0]+c[0][0])/2,f=(c[3][1]+c[0][1])/2,r=(g=d-v)-5,i="right"):"right"===l?(d=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,r=(g=d+v)+5,i="left"):"top"===l?(d=(c[3][0]+c[0][0])/2,o=(y=(f=(c[3][1]+c[0][1])/2)-v)-5,i="center"):"bottom"===l?(d=(c[1][0]+c[2][0])/2,o=(y=(f=(c[1][1]+c[2][1])/2)+v)+5,i="center"):"rightTop"===l?(d="horizontal"===e?c[3][0]:c[1][0],f="horizontal"===e?c[3][1]:c[1][1],"horizontal"===e?(o=(y=f-v)-5,i="center"):(r=(g=d+v)+5,i="top")):"rightBottom"===l?(d=c[2][0],f=c[2][1],"horizontal"===e?(o=(y=f+v)+5,i="center"):(r=(g=d+v)+5,i="bottom")):"leftTop"===l?(d=c[0][0],f="horizontal"===e?c[0][1]:c[1][1],"horizontal"===e?(o=(y=f-v)-5,i="center"):(r=(g=d-v)-5,i="right")):"leftBottom"===l?(d="horizontal"===e?c[1][0]:c[3][0],f="horizontal"===e?c[1][1]:c[2][1],"horizontal"===e?(o=(y=f+v)+5,i="center"):(r=(g=d-v)-5,i="right")):(d=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,"horizontal"===e?(o=(y=f+v)+5,i="center"):(r=(g=d+v)+5,i="left")),"horizontal"===e?r=g=d:o=y=f,a=[[d,f],[g,y]]}h.label={linePoints:a,x:r,y:o,verticalAlign:"middle",textAlign:i,inside:p}}))}(n)}))}var VC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new zi,n._initialized=!1,n}return n(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,i){var r=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,l=s.dimensions,u=HC(t);if(o.diff(a).add((function(t){WC(GC(o,r,t,l,s),o,t,u)})).update((function(e,n){var i=a.getItemGraphicEl(n),r=FC(o,e,l,s);o.setItemGraphicEl(e,i),Ou(i,{shape:{points:r}},t,e),WC(i,o,e,u)})).remove((function(t){var e=a.getItemGraphicEl(t);r.remove(e)})).execute(),!this._initialized){this._initialized=!0;var h=function(t,e,n){var i=t.model,r=t.getRect(),o=new os({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),Ru(o,{shape:{width:r.width,height:r.height}},e,n),o}(s,t,(function(){setTimeout((function(){r.removeClipPath()}))}));r.setClipPath(h)}this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,o=r.dimensions,a=HC(e),s=t.start;s<t.end;s++){var l=GC(i,this._dataGroup,s,o,r);l.incremental=!0,WC(l,i,s,a)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(yf);function FC(t,e,n,i){for(var r,o=[],a=0;a<n.length;a++){var s=n[a],l=t.get(t.mapDimension(s),e);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function GC(t,e,n,i,r){var o=FC(t,n,i,r),a=new $l({shape:{points:o},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function HC(t){var e=t.get("smooth",!0);return!0===e&&(e=.3),J(e=hr(e))&&(e=0),{smooth:e}}function WC(t,e,n,i){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",i.smooth);var r=e.getItemModel(n),o=r.getModel("emphasis");nl(t,r,"lineStyle"),Js(t,o.get("focus"),o.get("blurScope"))}var YC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return n(e,t),e.prototype.getInitialData=function(t,e){return Hm(this.getSource(),this,{useEncodeDefaulter:B(XC,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,(function(e,r){t===e&&i.push(n.getRawIndex(r))})),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(rf);function XC(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return P(e.dimensions,(function(t){var e=+t.replace("dim","");n[t]=e})),n}}var UC=["lineStyle","opacity"],ZC={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var r=i[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(n).get(UC,!0);null!=o&&(r=o)}e.ensureUniqueItemVisual(n,"style").opacity=r}),t.start,t.end)}}}};function jC(t){!function(t){if(t.parallel)return;var e=!1;P(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}(t),function(t){P(_r(t.parallelAxis),(function(e){if(X(e)){var n=e.parallelIndex||0,i=_r(t.parallel)[n];i&&i.parallelAxisDefault&&S(e,i.parallelAxisDefault,!1)}}))}(t)}var qC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},P(KC,(function(t,e){n.getZr().on(e,this._handlers[e]=B(t,this))}),this)),Tf(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){P(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(I({type:"parallelAxisExpand"},t))},e.type="parallel",e}(pf),KC={mousedown:function(t){$C(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if($C(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&$C(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function $C(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var JC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&S(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){P(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];P(N(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this),(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Nc),QC=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||"value",a.axisIndex=o,a}return n(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(vx);function tA(t,e,n,i,r,o){t=t||0;var a=n[1]-n[0];if(null!=r&&(r=nA(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=nA(s,[0,a]),r=o=nA(s,[r,o]),i=0}e[0]=nA(e[0],n),e[1]=nA(e[1],n);var l=eA(e,i);e[i]+=t;var u,h=r||0,c=n.slice();return l.sign<0?c[0]+=h:c[1]-=h,e[i]=nA(e[i],c),u=eA(e,i),null!=r&&(u.sign!==l.sign||u.span<r)&&(e[1-i]=e[i]+l.sign*r),u=eA(e,i),null!=o&&u.span>o&&(e[1-i]=e[i]+u.sign*o),e}function eA(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function nA(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var iA=P,rA=Math.min,oA=Math.max,aA=Math.floor,sA=Math.ceil,lA=ji,uA=Math.PI,hA=function(){function t(t,e,n){this.type="parallel",this._axesMap=ht(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=t.dimensions,r=t.parallelAxisIndex;iA(i,(function(t,n){var i=r[n],o=e.getComponent("parallelAxis",i),a=this._axesMap.set(t,new QC(t,G_(o),[0,0],o.get("type"),i)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,o=t[1-r],a=t[r];return o>=n&&o<=n+e.axisLength&&a>=i&&a<=i+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var i=n.getData();iA(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),F_(e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=Ac(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[r[a]],l=[0,s],u=this.dimensions.length,h=cA(e.get("axisExpandWidth"),l),c=cA(e.get("axisExpandCount")||0,[0,u]),p=e.get("axisExpandable")&&u>3&&u>c&&c>1&&h>0&&s>0,d=e.get("axisExpandWindow");d?(t=cA(d[1]-d[0],l),d[1]=d[0]+t):(t=cA(h*(c-1),l),(d=[h*(e.get("axisExpandCenter")||aA(u/2))-t/2])[1]=d[0]+t);var f=(s-t)/(u-c);f<3&&(f=0);var g=[aA(lA(d[0]/h,1))+1,sA(lA(d[1]/h,1))-1],y=f/h*d[0];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:p,axisExpandWidth:h,axisCollapseWidth:f,axisExpandWindow:d,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:y}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;e.each((function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),iA(n,(function(e,n){var o=(i.axisExpandable?dA:pA)(n,i),a={horizontal:{x:o.position,y:i.axisLength},vertical:{x:0,y:o.position}},s={horizontal:uA/2,vertical:0},l=[a[r].x+t.x,a[r].y+t.y],u=s[r],h=[1,0,0,1,0,0];_e(h,h,u),me(h,h,l),this._axesLayout[e]={position:l,rotation:u,transform:h,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var r=this._axesMap,o=this.dimensions,a=[],s=[];P(o,(function(e){a.push(t.mapDimension(e)),s.push(r.get(e).model)}));for(var l=this.hasAxisBrushed(),u=n;u<i;u++){var h=void 0;if(l){h="active";for(var c=t.getValues(a,u),p=0,d=o.length;p<d;p++){if("inactive"===s[p].getActiveState(c[p])){h="inactive";break}}}else h="normal";e(h,u)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){return Fu([t,0],this._axesLayout[e].transform)},t.prototype.getAxisLayout=function(t){return w(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),c=null!=h[0];if(u)c&&u&&s<r*h[0]?(l="jump",a=s-r*h[2]):c&&u&&s>r*(1-h[0])?(l="jump",a=s-r*(1-h[2])):(a=s-r*h[1])>=0&&(a=s-r*(1-h[1]))<=0&&(a=0),(a*=e.axisExpandWidth/u)?tA(a,i,o,"all"):l="none";else{var p=i[1]-i[0];(i=[oA(0,o[1]*s/p-p/2)])[1]=rA(o[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:l}},t}();function cA(t,e){return rA(oA(t,e[0]),e[1])}function pA(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function dA(t,e){var n,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,h=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],u=o,h=!0):(n=r-(a-1-t)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}var fA={create:function(t,e){var n=[];return t.eachComponent("parallel",(function(i,r){var o=new hA(i,t,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,n.push(o)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",Or).models[0];t.coordinateSystem=e.coordinateSystem}})),n}},gA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return n(e,t),e.prototype.getAreaSelectStyle=function(){return qr([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=w(t);if(e)for(var n=e.length-1;n>=0;n--)qi(e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"},e}(Nc);L(gA,j_);var yA=!0,vA=Math.min,mA=Math.max,_A=Math.pow,xA="globalPan",bA={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},wA={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},SA={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},MA=0,IA=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new zi,n._uid="brushController_"+MA++,P(JA,(function(t,e){this._handlers[e]=B(t,this)}),n),n}return n(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,n){JS(t)[e]=n}(e,xA,this._uid),P(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=S(w(SA),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,n){var i=JS(t);i[e]===n&&(i[e]=null)}(t,xA,this._uid),P(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};P(t,(function(t){e[t.panelId]=w(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=O(t,(function(t){return S(w(SA),t,!0)}));var e=this._covers,n=this._covers=[],i=this,r=this._creatingCover;return new rm(e,t,(function(t,e){return o(t.__brushOption,e)}),o).add(a).update(a).remove((function(t){e[t]!==r&&i.group.remove(e[t])})).execute(),this;function o(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function a(o,a){var s=t[o];if(null!=a&&e[a]===r)n[o]=e[a];else{var l=n[o]=null!=a?(e[a].__brushOption=s,e[a]):CA(i,TA(i,s));LA(i,l)}}},e.prototype.unmount=function(){return this.enableBrush(!1),RA(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Ft);function TA(t,e){var n=tD[e.brushType].createCover(t,e);return n.__brushOption=e,DA(n,e),t.group.add(n),n}function CA(t,e){var n=kA(e);return n.endCreating&&(n.endCreating(t,e),DA(e,e.__brushOption)),e}function AA(t,e){var n=e.__brushOption;kA(e).updateCoverShape(t,e,n.range,n)}function DA(t,e){var n=e.z;null==n&&(n=1e4),t.traverse((function(t){t.z=n,t.z2=n}))}function LA(t,e){kA(e).updateCommon(t,e),AA(t,e)}function kA(t){return tD[t.__brushOption.brushType]}function PA(t,e,n){var i,r=t._panels;if(!r)return yA;var o=t._transform;return P(r,(function(t){t.isTargetByCursor(e,n,o)&&(i=t)})),i}function OA(t,e){var n=t._panels;if(!n)return yA;var i=e.__brushOption.panelId;return null!=i?n[i]:yA}function RA(t){var e=t._covers,n=e.length;return P(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function NA(t,e){var n=O(t._covers,(function(t){var e=t.__brushOption,n=w(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function EA(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function zA(t,e,n,i){var r=new zi;return r.add(new os({name:"main",style:GA(n),silent:!0,draggable:!0,cursor:"move",drift:V(YA,t,e,r,["n","s","w","e"]),ondragend:V(NA,e,{isEnd:!0})})),P(i,(function(n){r.add(new os({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:V(YA,t,e,r,n),ondragend:V(NA,e,{isEnd:!0})}))})),r}function BA(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=mA(r,6),a=n[0][0],s=n[1][0],l=a-r/2,u=s-r/2,h=n[0][1],c=n[1][1],p=h-o+r/2,d=c-o+r/2,f=h-a,g=c-s,y=f+r,v=g+r;FA(t,e,"main",a,s,f,g),i.transformable&&(FA(t,e,"w",l,u,o,v),FA(t,e,"e",p,u,o,v),FA(t,e,"n",l,u,y,o),FA(t,e,"s",l,d,y,o),FA(t,e,"nw",l,u,o,o),FA(t,e,"ne",p,u,o,o),FA(t,e,"sw",l,d,o,o),FA(t,e,"se",p,d,o,o))}function VA(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(GA(n)),r.attr({silent:!i,cursor:i?"move":"default"}),P([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var r=e.childOfName(n.join("")),o=1===n.length?WA(t,n[0]):function(t,e){var n=[WA(t,e[0]),WA(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?wA[o]+"-resize":null})}))}function FA(t,e,n,i,r,o,a){var s=e.childOfName(n);s&&s.setShape(function(t){var e=vA(t[0][0],t[1][0]),n=vA(t[0][1],t[1][1]),i=mA(t[0][0],t[1][0]),r=mA(t[0][1],t[1][1]);return{x:e,y:n,width:i-e,height:r-n}}(ZA(t,e,[[i,r],[i+o,r+a]])))}function GA(t){return T({strokeNoScale:!0},t.brushStyle)}function HA(t,e,n,i){var r=[vA(t,n),vA(e,i)],o=[mA(t,n),mA(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function WA(t,e){return{left:"w",right:"e",top:"n",bottom:"s"}[Gu({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return Vu(t.group)}(t))]}function YA(t,e,n,i,r,o){var a=n.__brushOption,s=t.toRectRange(a.range),l=UA(e,r,o);P(i,(function(t){var e=bA[t];s[e[0]][e[1]]+=l[e[0]]})),a.range=t.fromRectRange(HA(s[0][0],s[1][0],s[0][1],s[1][1])),LA(e,n),NA(e,{isEnd:!1})}function XA(t,e,n,i){var r=e.__brushOption.range,o=UA(t,n,i);P(r,(function(t){t[0]+=o[0],t[1]+=o[1]})),LA(t,e),NA(t,{isEnd:!1})}function UA(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function ZA(t,e,n){var i=OA(t,e);return i&&i!==yA?i.clipPath(n,t._transform):w(n)}function jA(t){var e=t.event;e.preventDefault&&e.preventDefault()}function qA(t,e,n){return t.childOfName("main").contain(e,n)}function KA(t,e,n,i){var r,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],o=n[1]-i[1];return _A(r*r+o*o,.5)>6}(t)||o){if(a&&!o){"single"===s.brushMode&&RA(t);var l=w(s);l.brushType=$A(l.brushType,a),l.panelId=a===yA?null:a.panelId,o=t._creatingCover=TA(t,l),t._covers.push(o)}if(o){var u=tD[$A(t._brushType,a)];o.__brushOption.range=u.getCreatingRange(ZA(t,o,t._track)),i&&(CA(t,o),u.updateCommon(t,o)),AA(t,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&PA(t,e,n)&&RA(t)&&(r={isEnd:i,removeOnClick:!0});return r}function $A(t,e){return"auto"===t?e.defaultBrushType:t}var JA={mousedown:function(t){if(this._dragging)QA(this,t);else if(!t.target||!t.target.draggable){jA(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=PA(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var i=t._zr;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}(t,e.offsetX,e.offsetY)){var i=t._zr,r=t._covers,o=PA(t,e,n);if(!t._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===yA||s.panelId===o.panelId)&&tD[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}}(this,t,i),this._dragging){jA(t);var r=KA(this,t,i,!1);r&&NA(this,r)}},mouseup:function(t){QA(this,t)}};function QA(t,e){if(t._dragging){jA(e);var n=e.offsetX,i=e.offsetY,r=t.group.transformCoordToLocal(n,i),o=KA(t,e,r,!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&NA(t,o)}}var tD={lineX:eD(0),lineY:eD(1),rect:{createCover:function(t,e){function n(t){return t}return zA({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=EA(t);return HA(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){BA(t,e,n,i)},updateCommon:VA,contain:qA},polygon:{createCover:function(t,e){var n=new zi;return n.add(new $l({name:"main",style:GA(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new ql({name:"main",draggable:!0,drift:V(XA,t,e),ondragend:V(NA,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:ZA(t,e,n)})},updateCommon:VA,contain:qA}};function eD(t){return{createCover:function(e,n){return zA({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=EA(e);return[vA(n[0][t],n[1][t]),mA(n[0][t],n[1][t])]},updateCoverShape:function(e,n,i,r){var o,a=OA(e,n);if(a!==yA&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,o];t&&l.reverse(),BA(e,n,l,r)},updateCommon:VA,contain:qA}}function nD(t){return t=oD(t),function(e){return Yu(e,t)}}function iD(t,e){return t=oD(t),function(n){var i=null!=e?e:n,r=i?t.width:t.height,o=i?t.x:t.y;return[o,o+(r||0)]}}function rD(t,e,n){var i=oD(t);return function(t,r){return i.contain(r[0],r[1])&&!aM(t,e,n)}}function oD(t){return Rn.create(t)}var aD=["axisLine","axisTickLabel","axisName"],sD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new IA(n.getZr())).on("brush",B(this._onBrush,this))},e.prototype.render=function(t,e,n,i){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new zi,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,u=t.axis.dim,h=I({strokeContainThreshold:l},a.getAxisLayout(u)),c=new hS(t,h);P(aD,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(h,s,t,o,l,n),Wu(r,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=Rn.create({x:a[0],y:-r/2,width:s,height:r});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:nD(u),isTargetByCursor:rD(u,o,i),getLinearBrushOtherExtent:iD(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return O(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,i=n.axis,r=O(e,(function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(pf);var lD={type:"axisAreaSelect",event:"axisAreaSelected"};var uD={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function hD(t){t.registerComponentView(qC),t.registerComponentModel(JC),t.registerCoordinateSystem("parallel",fA),t.registerPreprocessor(jC),t.registerComponentModel(gA),t.registerComponentView(sD),qw(t,"parallel",gA,uD),function(t){t.registerAction(lD,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}(t)}var cD=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},pD=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new cD},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){Hs(this)},e.prototype.downplay=function(){Ws(this)},e}(Za),dD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return n(e,t),e.prototype.render=function(t,e,n){var i=this,r=t.getGraph(),o=this.group,a=t.layoutInfo,s=a.width,l=a.height,u=t.getData(),h=t.getData("edge"),c=t.get("orient");this._model=t,o.removeAll(),o.x=a.x,o.y=a.y,r.eachEdge((function(e){var n=new pD,i=ys(n);i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var r,a,u,p,d,f,g,y,v=e.getModel(),m=v.getModel("lineStyle"),_=m.get("curveness"),x=e.node1.getLayout(),b=e.node1.getModel(),w=b.get("localX"),S=b.get("localY"),M=e.node2.getLayout(),I=e.node2.getModel(),T=I.get("localX"),C=I.get("localY"),A=e.getLayout();switch(n.shape.extent=Math.max(1,A.dy),n.shape.orient=c,"vertical"===c?(r=(null!=w?w*s:x.x)+A.sy,a=(null!=S?S*l:x.y)+x.dy,u=(null!=T?T*s:M.x)+A.ty,d=r,f=a*(1-_)+(p=null!=C?C*l:M.y)*_,g=u,y=a*_+p*(1-_)):(r=(null!=w?w*s:x.x)+x.dx,a=(null!=S?S*l:x.y)+A.sy,d=r*(1-_)+(u=null!=T?T*s:M.x)*_,f=a,g=r*_+u*(1-_),y=p=(null!=C?C*l:M.y)+A.ty),n.setShape({x1:r,y1:a,x2:u,y2:p,cpx1:d,cpy1:f,cpx2:g,cpy2:y}),n.useStyle(m.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color"),n.style.decal=e.node1.getVisual("style").decal;break;case"target":n.style.fill=e.node2.getVisual("color"),n.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var D=e.node1.getVisual("color"),L=e.node2.getVisual("color");"string"==typeof D&&"string"==typeof L&&(n.style.fill=new uu(0,0,1,0,[{color:D,offset:0},{color:L,offset:1}]))}var k=v.getModel("emphasis");nl(n,v,"lineStyle",(function(t){return t.getItemStyle()})),o.add(n),h.setItemGraphicEl(e.dataIndex,n);var P=k.get("focus");Js(n,"adjacency"===P?e.getAdjacentDataIndices():P,k.get("blurScope")),ys(n).dataType="edge"})),r.eachNode((function(e){var n=e.getLayout(),i=e.getModel(),r=i.get("localX"),a=i.get("localY"),h=i.getModel("emphasis"),c=new os({shape:{x:null!=r?r*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle()});th(c,eh(i),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id}),c.disableLabelAnimation=!0,c.setStyle("fill",e.getVisual("color")),c.setStyle("decal",e.getVisual("style").decal),nl(c,i),o.add(c),u.setItemGraphicEl(e.dataIndex,c),ys(c).dataType="node";var p=h.get("focus");Js(c,"adjacency"===p?e.getAdjacentDataIndices():p,h.get("blurScope"))})),u.eachItemGraphicEl((function(e,r){u.getItemModel(r).get("draggable")&&(e.drift=function(e,o){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&o.setClipPath(function(t,e,n){var i=new os({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Ru(i,{shape:{width:t.width+20}},e,n),i}(o.getBoundingRect(),t,(function(){o.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(yf);var fD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,i=t.data||t.nodes,r=t.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a<r.length;a++)null!=r[a].depth&&r[a].depth>=0&&(o[r[a].depth]=new Sh(r[a],this,e));if(i&&n)return IC(i,n,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getData().getItemLayout(e);if(i){var r=i.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t})),e.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getGraph().getEdgeByIndex(e).node1.getLayout();if(i){var r=i.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t}))})).data},e.prototype.setNodePosition=function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function i(t){return isNaN(t)||null==t}if("edge"===n){var r=this.getDataParams(t,n),o=r.data,a=r.value;return Yd("nameValue",{name:o.source+" -- "+o.target,value:a,noValue:i(a)})}var s=this.getGraph().getNodeByIndex(t).getLayout().value,l=this.getDataParams(t,n).data.name;return Yd("nameValue",{name:null!=l?l+"":null,value:s,noValue:i(s)})},e.prototype.optionUpdated=function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},e.prototype.getDataParams=function(e,n){var i=t.prototype.getDataParams.call(this,e,n);if(null==i.value&&"node"===n){var r=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=r}return i},e.type="series.sankey",e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(rf);function gD(t,e){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),r=function(t,e){return Ac(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=r;var o=r.width,a=r.height,s=t.getGraph(),l=s.nodes,u=s.edges;!function(t){P(t,(function(t){var e=ID(t.outEdges,MD),n=ID(t.inEdges,MD),i=t.getValue()||0,r=Math.max(e,n,i);t.setLayout({value:r},!0)}))}(l),function(t,e,n,i,r,o,a,s,l){(function(t,e,n,i,r,o,a){for(var s=[],l=[],u=[],h=[],c=0,p=0;p<e.length;p++)s[p]=1;for(p=0;p<t.length;p++)l[p]=t[p].inEdges.length,0===l[p]&&u.push(t[p]);var d=-1;for(;u.length;){for(var f=0;f<u.length;f++){var g=u[f],y=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=y.depth&&y.depth>=0;v&&y.depth>d&&(d=y.depth),g.setLayout({depth:v?y.depth:c},!0),"vertical"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var m=0;m<g.outEdges.length;m++){var _=g.outEdges[m];s[e.indexOf(_)]=0;var x=_.node2;0==--l[t.indexOf(x)]&&h.indexOf(x)<0&&h.push(x)}}++c,u=h,h=[]}for(p=0;p<s.length;p++)if(1===s[p])throw new Error("Sankey is a DAG, the original data has cycle!");var b=d>c-1?d:c-1;a&&"left"!==a&&function(t,e,n,i){if("right"===e){for(var r=[],o=t,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var h=l.inEdges[u];r.indexOf(h.node1)<0&&r.push(h.node1)}}o=r,r=[],++a}P(t,(function(t){yD(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&function(t,e){P(t,(function(t){yD(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}(t,i)}(t,a,0,b);!function(t,e,n){P(t,(function(t){var i=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)}))}(t,"vertical"===o?(r-n)/b:(i-n)/b,o)})(t,e,n,r,o,s,l),function(t,e,n,i,r,o,a){var s=function(t,e){var n=[],i="vertical"===e?"y":"x",r=zr(t,(function(t){return t.getLayout()[i]}));return r.keys.sort((function(t,e){return t-e})),P(r.keys,(function(t){n.push(r.buckets.get(t))})),n}(t,a);(function(t,e,n,i,r,o){var a=1/0;P(t,(function(t){var e=t.length,s=0;P(t,(function(t){s+=t.getLayout().value}));var l="vertical"===o?(i-(e-1)*r)/s:(n-(e-1)*r)/s;l<a&&(a=l)})),P(t,(function(t){P(t,(function(t,e){var n=t.getLayout().value*a;"vertical"===o?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),P(e,(function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)}))})(s,e,n,i,r,a),vD(s,r,n,i,a);for(var l=1;o>0;o--)mD(s,l*=.99,a),vD(s,r,n,i,a),TD(s,l,a),vD(s,r,n,i,a)}(t,e,o,r,i,a,s),function(t,e){var n="vertical"===e?"x":"y";P(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),P(t,(function(t){var e=0,n=0;P(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),P(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}(t,s)}(l,u,n,i,o,a,0!==N(l,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))}))}function yD(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function vD(t,e,n,i,r){var o="vertical"===r?"x":"y";P(t,(function(t){var a,s,l;t.sort((function(t,e){return t.getLayout()[o]-e.getLayout()[o]}));for(var u=0,h=t.length,c="vertical"===r?"dx":"dy",p=0;p<h;p++)(l=u-(s=t[p]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]+s.getLayout()[c]+e;if((l=u-e-("vertical"===r?i:n))>0){a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a;for(p=h-2;p>=0;--p)(l=(s=t[p]).getLayout()[o]+s.getLayout()[c]+e-u)>0&&(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]}}))}function mD(t,e,n){P(t.slice().reverse(),(function(t){P(t,(function(t){if(t.outEdges.length){var i=ID(t.outEdges,_D,n)/ID(t.outEdges,MD);if(isNaN(i)){var r=t.outEdges.length;i=r?ID(t.outEdges,xD,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-SD(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-SD(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function _D(t,e){return SD(t.node2,e)*t.getValue()}function xD(t,e){return SD(t.node2,e)}function bD(t,e){return SD(t.node1,e)*t.getValue()}function wD(t,e){return SD(t.node1,e)}function SD(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function MD(t){return t.getValue()}function ID(t,e,n){for(var i=0,r=t.length,o=-1;++o<r;){var a=+e(t[o],n);isNaN(a)||(i+=a)}return i}function TD(t,e,n){P(t,(function(t){P(t,(function(t){if(t.inEdges.length){var i=ID(t.inEdges,bD,n)/ID(t.inEdges,MD);if(isNaN(i)){var r=t.inEdges.length;i=r?ID(t.inEdges,wD,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-SD(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-SD(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function CD(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,i=-1/0;P(e,(function(t){var e=t.getLayout().value;e<n&&(n=e),e>i&&(i=e)})),P(e,(function(e){var r=new jI({type:"color",mappingMethod:"linear",dataExtent:[n,i],visual:t.get("color")}).mapValueToVisual(e.getLayout().value),o=e.getModel().get(["itemStyle","color"]);null!=o?(e.setVisual("color",o),e.setVisual("style",{fill:o})):(e.setVisual("color",r),e.setVisual("style",{fill:r}))}))}}))}var AD=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,i,r=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var l=["x","y"],u="horizontal"===t.layout?0:1,h=this._baseAxisDim=l[u],c=l[1-u],p=[r,o],d=p[u].get("type"),f=p[1-u].get("type"),g=t.data;if(g&&i){var y=[];P(g,(function(t,e){var n;F(t)?(n=t.slice(),t.unshift(e)):F(t.value)?(n=t.value.slice(),t.value.unshift(e)):n=t,y.push(n)})),t.data=y}var v=this.defaultValueDimensions,m=[{name:h,type:am(d),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:am(f),dimsDef:v.slice()}];return Rw(this,{coordDimensions:m,dimensionsCount:v.length+1,encodeDefaulter:V(Jc,m,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),DD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return n(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(rf);L(DD,AD,!0);var LD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a="horizontal"===t.get("layout")?1:0;i.diff(o).add((function(t){if(i.hasValue(t)){var e=OD(i.getItemLayout(t),i,t,a,!0);i.setItemGraphicEl(t,e),r.add(e)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?RD(s,n,i,t):n=OD(s,i,t,a),r.add(n),i.setItemGraphicEl(t,n)}else r.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=i},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(yf),kD=function(){},PD=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return n(e,t),e.prototype.getDefaultShape=function(){return new kD},e.prototype.buildPath=function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])},e}(Za);function OD(t,e,n,i,r){var o=t.ends,a=new PD({shape:{points:r?ND(o,i,t):o}});return RD(t,a,e,n,r),a}function RD(t,e,n,i,r){var o=n.hostModel;(0,Ku[r?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,i),e.useStyle(n.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var a=n.getItemModel(i);nl(e,a),Js(e,a.get(["emphasis","focus"]),a.get(["emphasis","blurScope"]))}function ND(t,e,n){return O(t,(function(t){return(t=t.slice())[e]=n.initBaseline,t}))}function ED(t,e){t.eachRawSeriesByType("boxplot",(function(t){t.getData().setVisual("legendSymbol","roundRect")}))}var zD=P;function BD(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var i=t.getBaseAxis(),r=A(n,i);r<0&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)})),e}(t);zD(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n,i=t.axis,r=t.seriesModels,o=r.length,a=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];if("category"===i.type)n=i.getBandWidth();else{var u=0;zD(r,(function(t){u=Math.max(u,t.getData().count())})),e=i.getExtent(),Math.abs(e[1]-e[0])}zD(r,(function(t){var e=t.get("boxWidth");F(e)||(e=[e,e]),l.push([Zi(e[0],n)||0,Zi(e[1],n)||0])}));var h=.8*n-2,c=h/o*.3,p=(h-c*(o-1))/o,d=p/2-h/2;zD(r,(function(t,e){s.push(d),d+=c+p,a.push(Math.min(Math.max(p,l[e][0]),l[e][1]))}))}(t),zD(e,(function(e,n){!function(t,e,n){var i=t.coordinateSystem,r=t.getData(),o=n/2,a="horizontal"===t.get("layout")?0:1,s=1-a,l=["x","y"],u=r.mapDimension(l[a]),h=r.mapDimensionsAll(l[s]);if(null==u||h.length<5)return;for(var c=0;c<r.count();c++){var p=r.get(u,c),d=_(p,h[2],c),f=_(p,h[0],c),g=_(p,h[1],c),y=_(p,h[3],c),v=_(p,h[4],c),m=[];x(m,g,!1),x(m,y,!0),m.push(f,g,v,y),b(m,f),b(m,v),b(m,d),r.setItemLayout(c,{initBaseline:d[s],ends:m})}function _(t,n,o){var l,u=r.get(n,o),h=[];return h[a]=t,h[s]=u,isNaN(t)||isNaN(u)?l=[NaN,NaN]:(l=i.dataToPoint(h))[a]+=e,l}function x(t,e,n){var i=e.slice(),r=e.slice();i[a]+=o,r[a]-=o,n?t.push(i,r):t.push(r,i)}function b(t,e){var n=e.slice(),i=e.slice();n[a]-=o,i[a]+=o,t.push(n,i)}}(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}var VD={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Gc){var n="";0,yr(n)}var i=function(t,e){for(var n=[],i=[],r=(e=e||{}).boundIQR,o="none"===r||0===r,a=0;a<t.length;a++){var s=qi(t[a].slice()),l=lr(s,.25),u=lr(s,.5),h=lr(s,.75),c=s[0],p=s[s.length-1],d=(null==r?1.5:r)*(h-l),f=o?c:Math.max(c,l-d),g=o?p:Math.min(p,h+d),y=e.itemNameFormatter,v=G(y)?y({value:a}):H(y)?y.replace("{value}",a+""):a+"";n.push([v,f,l,u,h,g]);for(var m=0;m<s.length;m++){var _=s[m];if(_<f||_>g){var x=[v,_];i.push(x)}}}return{boxData:n,outliers:i}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};var FD=["color","borderColor"],GD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,i){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,i=this.group,r=e.getLayout("isSimpleBox"),o=t.get("clip",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||i.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var a=e.getItemLayout(n);if(o&&XD(s,a))return;var l=YD(a,n,!0);Ru(l,{shape:{points:a.ends}},t,n),UD(l,e,n,r),i.add(l),e.setItemGraphicEl(n,l)}})).update((function(a,l){var u=n.getItemGraphicEl(l);if(e.hasValue(a)){var h=e.getItemLayout(a);o&&XD(s,h)?i.remove(u):(u?Ou(u,{shape:{points:h.ends}},t,a):u=YD(h),UD(u,e,a,r),i.add(u),e.setItemGraphicEl(a,u))}else i.remove(u)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),KD(t,this.group);var e=t.get("clip",!0)?Hb(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){for(var n,i=e.getData(),r=i.getLayout("isSimpleBox");null!=(n=t.next());){var o=YD(i.getItemLayout(n));UD(o,i,n,r),o.incremental=!0,this.group.add(o)}},e.prototype._incrementalRenderLarge=function(t,e){KD(e,this.group,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(yf),HD=function(){},WD=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return n(e,t),e.prototype.getDefaultShape=function(){return new HD},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(Za);function YD(t,e,n){var i=t.ends;return new WD({shape:{points:n?ZD(i,t):i},z2:100})}function XD(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function UD(t,e,n,i){var r=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=i,nl(t,r)}function ZD(t,e){return O(t,(function(t){return(t=t.slice())[1]=e.initBaseline,t}))}var jD=function(){},qD=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return n(e,t),e.prototype.getDefaultShape=function(){return new jD},e.prototype.buildPath=function(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];t.moveTo(r,n[i++]),t.lineTo(r,n[i++])}else i+=3},e}(Za);function KD(t,e,n){var i=t.getData().getLayout("largePoints"),r=new qD({shape:{points:i},__sign:1});e.add(r);var o=new qD({shape:{points:i},__sign:-1});e.add(o),$D(1,r,t),$D(-1,o,t),n&&(r.incremental=!0,o.incremental=!0)}function $D(t,e,n,i){var r=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]),o=n.getModel("itemStyle").getItemStyle(FD);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var JD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return n(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(rf);function QD(t){t&&F(t.series)&&P(t.series,(function(t){X(t)&&"k"===t.type&&(t.type="candlestick")}))}L(JD,AD,!0);var tL=["itemStyle","borderColor"],eL=["itemStyle","borderColor0"],nL=["itemStyle","color"],iL=["itemStyle","color0"],rL={seriesType:"candlestick",plan:df(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?nL:iL)}function i(t,e){return e.get(t>0?tL:eL)}if(t.getData().setVisual("legendSymbol","roundRect"),!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var r;null!=(r=t.next());){var o=e.getItemModel(r),a=e.getItemLayout(r).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=i(a,o)||s.fill,I(e.ensureUniqueItemVisual(r,"style"),s)}}}}},oL="undefined"!=typeof Float32Array?Float32Array:Array,aL={seriesType:"candlestick",plan:df(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),i=function(t,e){var n,i=t.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=Zi(tt(t.get("barMaxWidth"),r),r),a=Zi(tt(t.get("barMinWidth"),1),r),s=t.get("barWidth");return null!=s?Zi(s,r):Math.max(Math.min(r/2,o),a)}(t,n),r=["x","y"],o=n.mapDimension(r[0]),a=n.mapDimensionsAll(r[1]),s=a[0],l=a[1],u=a[2],h=a[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==o||a.length<4))return{progress:t.pipelineContext.large?function(t,n){var i,r,a=new oL(4*t.count),c=0,p=[],d=[];for(;null!=(r=t.next());){var f=n.get(o,r),g=n.get(s,r),y=n.get(l,r),v=n.get(u,r),m=n.get(h,r);isNaN(f)||isNaN(v)||isNaN(m)?(a[c++]=NaN,c+=3):(a[c++]=sL(n,r,g,y,l),p[0]=f,p[1]=v,i=e.dataToPoint(p,null,d),a[c++]=i?i[0]:NaN,a[c++]=i?i[1]:NaN,p[1]=m,i=e.dataToPoint(p,null,d),a[c++]=i?i[1]:NaN)}n.setLayout("largePoints",a)}:function(t,n){var r;for(;null!=(r=t.next());){var a=n.get(o,r),c=n.get(s,r),p=n.get(l,r),d=n.get(u,r),f=n.get(h,r),g=Math.min(c,p),y=Math.max(c,p),v=w(g,a),m=w(y,a),_=w(d,a),x=w(f,a),b=[];S(b,m,0),S(b,v,1),b.push(I(x),I(m),I(_),I(v)),n.setItemLayout(r,{sign:sL(n,r,c,p,l),initBaseline:c>p?m[1]:v[1],ends:b,brushRect:M(d,f,a)})}function w(t,n){var i=[];return i[0]=n,i[1]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function S(t,e,n){var r=e.slice(),o=e.slice();r[0]=ku(r[0]+i/2,1,!1),o[0]=ku(o[0]-i/2,1,!0),n?t.push(r,o):t.push(o,r)}function M(t,e,n){var r=w(t,n),o=w(e,n);return r[0]-=i/2,o[0]-=i/2,{x:r[0],y:r[1],width:i,height:o[1]-r[1]}}function I(t){return t[0]=ku(t[0],1),t}}}}};function sL(t,e,n,i,r){return n>i?-1:n<i?1:e>0?t.get(r,e-1)<=i?1:-1:1}function lL(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}var uL=function(t){function e(e,n){var i=t.call(this)||this,r=new bb(e,n),o=new zi;return i.add(r),i.add(o),i.updateData(e,n),i}return n(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),r=0;r<3;r++){var o=uy(e,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var a=-r/3*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),i.add(o)}lL(i,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}lL(n,t)},e.prototype.highlight=function(){Hs(this)},e.prototype.downplay=function(){Ws(this)},e.prototype.updateData=function(t,e){var n=this,i=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=function(t){return F(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"style"),u=l&&l.fill;r.setScale(s),r.traverse((function(t){t.setStyle("fill",u)}));var h=o.getShallow("symbolOffset");h&&(r.x=Zi(h[0],s[0]),r.y=Zi(h[1],s[1]));var c=t.getItemVisual(e,"symbolRotate");r.rotation=(c||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=o.get(["rippleEffect","scale"]),p.brushType=o.get(["rippleEffect","brushType"]),p.period=1e3*o.get(["rippleEffect","period"]),p.effectOffset=e/t.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=a,p.color=u,p.rippleEffectColor=o.get(["rippleEffect","color"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==p.showEffectOn&&n.startEffectAnimation(p):"normal"===t&&"render"!==p.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=p,Js(this)},e.prototype.fadeOut=function(t){this.off("mouseover").off("mouseout"),t&&t()},e}(zi);D(uL,zi);var hL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){this._symbolDraw=new Tb(uL)},e.prototype.render=function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i),this.group.add(r.group)},e.prototype.updateTransform=function(t,e,n){var i=t.getData();this.group.dirty();var r=Qb("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=we(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(yf),cL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){return Hm(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10},e}(rf);var pL=function(t){function e(e,n,i){var r=t.call(this)||this;return r.add(r.createLine(e,n,i)),r._updateEffectSymbol(e,n),r}return n(e,t),e.prototype.createLine=function(t,e,n){return new oC(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");F(i)||(i=[i,i]);var o=t.getItemVisual(e,"style"),a=n.get("color")||o&&o.stroke,s=this.childAt(1);this._symbolType!==r&&(this.remove(s),(s=uy(r,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.scaleX=i[0],s.scaleY=i[1],s.setColor(a),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(t,n,e))},e.prototype._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=this,o=t.getItemLayout(n),a=1e3*e.get("period"),s=e.get("loop"),l=e.get("constantSpeed"),u=Q(e.get("delay"),(function(e){return e/t.count()*a/3}));if(i.ignore=!0,this._updateAnimationPoints(i,o),l>0&&(a=this._getLineLength(i)/l*1e3),(a!==this._period||s!==this._loop)&&(i.stopAnimation(),a>0)){var h=void 0;h="function"==typeof u?u(n):u,i.__t>0&&(h=-a*i.__t),i.__t=0;var c=i.animate("",s).when(a,{__t:1}).delay(h).during((function(){r._updateSymbolPosition(i)}));s||c.done((function(){r.remove(i)})),c.start()}this._period=a,this._loop=s}},e.prototype._getLineLength=function(t){return Lt(t.__p1,t.__cp1)+Lt(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,o=[t.x,t.y],a=o.slice(),s=Go,l=Ho;o[0]=s(e[0],i[0],n[0],r),o[1]=s(e[1],i[1],n[1],r);var u=l(e[0],i[0],n[0],r),h=l(e[1],i[1],n[1],r);t.rotation=-Math.atan2(h,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Lt(a,o),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*Lt(e,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(zi),dL=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createPolyline(e,n,i),r}return n(e,t),e.prototype._createPolyline=function(t,e,n){var i=t.getItemLayout(e),r=new $l({shape:{points:i}});this.add(r),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel;Ou(this.childAt(0),{shape:{points:t.getItemLayout(e)}},i,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var i=this.childAt(0),r=t.getItemModel(e),o=n&&n.emphasisLineStyle;n&&!t.hasItemOption||(o=r.getModel(["emphasis","lineStyle"]).getLineStyle()),i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,Js(this)},e.prototype.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},e}(zi),fL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return n(e,t),e.prototype.createLine=function(t,e,n){return new dL(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var o=e[r-1],a=e[r];i+=Lt(o,a),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,a=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(a+1,r-1);o>=0&&!(i[o]<=e);o--);o=Math.min(o,r-2)}else{for(o=a;o<r&&!(i[o]>e);o++);o=Math.min(o-1,r-2)}var s=(e-i[o])/(i[o+1]-i[o]),l=n[o],u=n[o+1];t.x=l[0]*(1-s)+s*u[0],t.y=l[1]*(1-s)+s*u[1];var h=u[0]-l[0],c=u[1]-l[1];t.rotation=-Math.atan2(c,h)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},e}(pL),gL=function(){this.polyline=!1,this.curveness=0,this.segs=[]},yL=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gL},e.prototype.buildPath=function(t,e){var n=e.segs,i=e.curveness;if(e.polyline)for(var r=0;r<n.length;){var o=n[r++];if(o>0){t.moveTo(n[r++],n[r++]);for(var a=1;a<o;a++)t.lineTo(n[r++],n[r++])}}else for(r=0;r<n.length;){var s=n[r++],l=n[r++],u=n[r++],h=n[r++];if(t.moveTo(s,l),i>0){var c=(s+u)/2-(l-h)*i,p=(l+h)/2-(u-s)*i;t.quadraticCurveTo(c,p,u,h)}else t.lineTo(u,h)}},e.prototype.findDataIndex=function(t,e){var n=this.shape,i=n.segs,r=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var u=i[s++],h=i[s++],c=1;c<l;c++){if(Aa(u,h,p=i[s++],d=i[s++],o,t,e))return a}a++}else for(a=0,s=0;s<i.length;){u=i[s++],h=i[s++];var p=i[s++],d=i[s++];if(r>0){if(La(u,h,(u+p)/2-(h-d)*r,(h+d)/2-(p-u)*r,p,d,o,t,e))return a}else if(Aa(u,h,p,d,o,t,e))return a;a++}return-1},e}(Za),vL=function(){function t(){this.group=new zi}return t.prototype.isPersistent=function(){return!this._incremental},t.prototype.updateData=function(t){this.group.removeAll();var e=new yL({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new vu({silent:!0})),this.group.add(this._incremental)):this._incremental=null},t.prototype.incrementalUpdate=function(t,e){var n=new yL;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},t.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var r=e.getVisual("style");if(r&&r.stroke&&t.setStyle("stroke",r.stroke),t.setStyle("fill",null),!n){var o=ys(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){o.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(o.dataIndex=n+t.__startIndex)}))}},t.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t}(),mL={seriesType:"lines",plan:df(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),i=t.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(n){for(var u=0,h=r.start;h<r.end;h++)u+=t.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,p=[];for(h=r.start;h<r.end;h++){var d=t.getLineCoords(h,a);n&&(s[c++]=d);for(var f=0;f<d;f++)p=e.dataToPoint(a[f],!1,p),s[c++]=p[0],s[c++]=p[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var g=o.getItemModel(h),y=(d=t.getLineCoords(h,a),[]);if(n)for(var v=0;v<d;v++)y.push(e.dataToPoint(a[v]));else{y[0]=e.dataToPoint(a[0]),y[1]=e.dataToPoint(a[1]);var m=g.get(["lineStyle","curveness"]);+m&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*m,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*m])}o.setItemLayout(h,y)}}}}},_L=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),o=t.get("zlevel"),a=t.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();(l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a)&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)}));r.updateData(i);var u=t.get("clip",!0)&&Hb(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=mL.reset(t,e,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get("polyline"),o=e.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new vL:new aC(r?i?fL:dL:i?pL:oC),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.type="lines",e}(yf),xL="undefined"==typeof Uint32Array?Array:Uint32Array,bL="undefined"==typeof Float64Array?Array:Float64Array;function wL(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=O(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),M([e,t[0],t[1]])})))}var SL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return n(e,t),e.prototype.init=function(e){e.data=e.data||[],wL(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(wL(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=ct(this._flatCoords,e.flatCoords),this._flatCoordsOffset=ct(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");return n},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(t);for(r=0;r<o.length;r++)e[r]=e[r]||[],e[r][0]=o[r][0],e[r][1]=o[r][1];return o.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,i=new xL(n),r=new bL(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=t[l++];i[a++]=o+e,i[a++]=u;for(var h=0;h<u;h++){var c=t[l++],p=t[l++];r[o++]=c,r[o++]=p}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new Pm(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,i,r){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[r]:o:void 0})),n},e.prototype.formatTooltip=function(t,e,n){var i=this.getData().getItemModel(t),r=i.get("name");if(r)return r;var o=i.get("fromName"),a=i.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),Yd("nameValue",{name:s.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(rf);function ML(t){return t instanceof Array||(t=[t,t]),t}var IL={seriesType:"lines",reset:function(t){var e=ML(t.get("symbol")),n=ML(t.get("symbolSize")),i=t.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?function(t,e){var n=t.getItemModel(e),i=ML(n.getShallow("symbol",!0)),r=ML(n.getShallow("symbolSize",!0));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),r[0]&&t.setItemVisual(e,"fromSymbolSize",r[0]),r[1]&&t.setItemVisual(e,"toSymbolSize",r[1])}:null}}};var TL=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=C();this.canvas=t}return t.prototype.update=function(t,e,n,i,r,o){var a=this._getBrush(),s=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),p=t.length;h.width=e,h.height=n;for(var d=0;d<p;++d){var f=t[d],g=f[0],y=f[1],v=i(f[2]);c.globalAlpha=v,c.drawImage(a,g-u,y-u)}if(!h.width||!h.height)return h;for(var m=c.getImageData(0,0,h.width,h.height),_=m.data,x=0,b=_.length,w=this.minOpacity,S=this.maxOpacity-w;x<b;){v=_[x+3]/256;var M=4*Math.floor(255*v);if(v>0){var I=o(v)?s:l;v>0&&(v=v*S+w),_[x++]=I[M],_[x++]=I[M+1],_[x++]=I[M+2],_[x++]=I[M+3]*v*256}else x+=4}return c.putImageData(m,0,0),h},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=C()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,a=0;a<256;a++)t[e](a/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i},t}();function CL(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var AL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):CL(r)&&this._renderOnGeo(r,t,i,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,i){var r=e.coordinateSystem;r&&(CL(r)?this.render(e,n,i):this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0))},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,r){var o,a,s,l,u=t.coordinateSystem;if(Wb(u,"cartesian2d")){var h=u.getAxis("x"),c=u.getAxis("y");0,o=h.getBandWidth(),a=c.getBandWidth(),s=h.scale.getExtent(),l=c.scale.getExtent()}for(var p=this.group,d=t.getData(),f=t.getModel(["emphasis","itemStyle"]).getItemStyle(),g=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),v=eh(t),m=t.get(["emphasis","focus"]),_=t.get(["emphasis","blurScope"]),x=Wb(u,"cartesian2d")?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")],b=n;b<i;b++){var w=void 0,S=d.getItemVisual(b,"style");if(Wb(u,"cartesian2d")){var M=d.get(x[0],b),I=d.get(x[1],b);if(isNaN(d.get(x[2],b))||M<s[0]||M>s[1]||I<l[0]||I>l[1])continue;var T=u.dataToPoint([M,I]);w=new os({shape:{x:Math.floor(Math.round(T[0])-o/2),y:Math.floor(Math.round(T[1])-a/2),width:Math.ceil(o),height:Math.ceil(a)},style:S})}else{if(isNaN(d.get(x[1],b)))continue;w=new os({z2:1,shape:u.dataToRect([d.get(x[0],b)]).contentShape,style:S})}var C=d.getItemModel(b);if(d.hasItemOption){var A=C.getModel("emphasis");f=A.getModel("itemStyle").getItemStyle(),g=C.getModel(["blur","itemStyle"]).getItemStyle(),y=C.getModel(["select","itemStyle"]).getItemStyle(),m=A.get("focus"),_=A.get("blurScope"),v=eh(C)}var D=t.getRawValue(b),L="-";D&&null!=D[2]&&(L=D[2]+""),th(w,v,{labelFetcher:t,labelDataIndex:b,defaultOpacity:S.opacity,defaultText:L}),w.ensureState("emphasis").style=f,w.ensureState("blur").style=g,w.ensureState("select").style=y,Js(w,m,_),w.incremental=r,r&&(w.states.emphasis.hoverLayer=!0),p.add(w),d.setItemGraphicEl(b,w)}},e.prototype._renderOnGeo=function(t,e,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new TL;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),u=t.getRoamTransform();l.applyTransform(u);var h=Math.max(l.x,0),c=Math.max(l.y,0),p=Math.min(l.width+l.x,i.getWidth()),d=Math.min(l.height+l.y,i.getHeight()),f=p-h,g=d-c,y=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(y,(function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=h,r[1]-=c,r.push(i),r})),m=n.getExtent(),_="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(m,n.option.range):function(t,e,n){var i=t[1]-t[0],r=(e=O(e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}))).length,o=0;return function(t){var i;for(i=o;i<r;i++)if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(m,n.getPieceList(),n.option.selected);s.update(v,f,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},_);var x=new Ja({style:{width:f,height:g,x:h,y:c,image:s.canvas},silent:!0});this.group.add(x)},e.type="heatmap",e}(yf),DL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(t,e){return Hm(this.getSource(),this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=_p.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(rf);var LL=["itemStyle","borderWidth"],kL=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],PL=new Tl,OL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=this.group,r=t.getData(),o=this._data,a=t.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:kL[+s],categoryDim:kL[1-+s]};return r.diff(o).add((function(t){if(r.hasValue(t)){var e=GL(r,t),n=RL(r,t,e,u),o=YL(r,u,n);r.setItemGraphicEl(t,o),i.add(o),qL(o,u,n)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var a=GL(r,t),s=RL(r,t,a,u),l=UL(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var i=n.animationModel,r=n.dataIndex;Ou(t.__pictorialBundle,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,r),n.symbolRepeat?zL(t,e,n,!0):BL(t,e,n,!0);VL(t,n,!0),FL(t,e,n,!0)}(n,u,s):n=YL(r,u,s,!0),r.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,i.add(n),qL(n,u,s)}else i.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&XL(o,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=r,this.group},e.prototype.remove=function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl((function(e){XL(i,ys(e).dataIndex,t,e)})):n.removeAll()},e.type="pictorialBar",e}(yf);function RL(t,e,n,i){var r=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),c={dataIndex:e,layout:r,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?n:null,hoverScale:h&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(t,e,n,i,r){var o,a=i.valueDim,s=t.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-+(n[a.wh]<=0);if(F(s)){var c=[NL(l,s[0])-u,NL(l,s[1])-u];c[1]<c[0]&&c.reverse(),o=c[h]}else o=null!=s?NL(l,s)-u:e?i.coordSysExtent[a.index][h]-u:n[a.wh];r.boundingLength=o,e&&(r.repeatCutLength=n[a.wh]);r.pxSign=o>0?1:o<0?-1:0}(n,o,r,i,c),function(t,e,n,i,r,o,a,s,l,u){var h,c=l.valueDim,p=l.categoryDim,d=Math.abs(n[p.wh]),f=t.getItemVisual(e,"symbolSize");h=F(f)?f.slice():null==f?["100%","100%"]:[f,f];h[p.index]=Zi(h[p.index],d),h[c.index]=Zi(h[c.index],i?d:Math.abs(o)),u.symbolSize=h,(u.symbolScale=[h[0]/s,h[1]/s])[c.index]*=(l.isHorizontal?-1:1)*a}(t,e,r,o,0,c.boundingLength,c.pxSign,u,i,c),function(t,e,n,i,r){var o=t.get(LL)||0;o&&(PL.attr({scaleX:e[0],scaleY:e[1],rotation:n}),PL.updateTransform(),o/=PL.getLineScale(),o*=e[i.valueDim.index]);r.valueLineWidth=o}(n,c.symbolScale,l,i,c);var p=c.symbolSize,d=n.get("symbolOffset");return F(d)&&(d=[Zi(d[0],p[0]),Zi(d[1],p[1])]),function(t,e,n,i,r,o,a,s,l,u,h,c){var p=h.categoryDim,d=h.valueDim,f=c.pxSign,g=Math.max(e[d.index]+s,0),y=g;if(i){var v=Math.abs(l),m=Q(t.get("symbolMargin"),"15%")+"",_=!1;m.lastIndexOf("!")===m.length-1&&(_=!0,m=m.slice(0,m.length-1));var x=Zi(m,e[d.index]),b=Math.max(g+2*x,0),w=_?0:2*x,S=cr(i),M=S?i:KL((v+w)/b);b=g+2*(x=(v-M*g)/2/(_?M:M-1)),w=_?0:2*x,S||"fixed"===i||(M=u?KL((Math.abs(u)+w)/b):0),y=M*b-w,c.repeatTimes=M,c.symbolMargin=x}var T=f*(y/2),C=c.pathPosition=[];C[p.index]=n[p.wh]/2,C[d.index]="start"===a?T:"end"===a?l-T:l/2,o&&(C[0]+=o[0],C[1]+=o[1]);var A=c.bundlePosition=[];A[p.index]=n[p.xy],A[d.index]=n[d.xy];var D=c.barRectShape=I({},n);D[d.wh]=f*Math.max(Math.abs(n[d.wh]),Math.abs(C[d.index]+T)),D[p.wh]=n[p.wh];var L=c.clipShape={};L[p.xy]=-n[p.xy],L[p.wh]=h.ecSize[p.wh],L[d.xy]=0,L[d.wh]=n[d.wh]}(n,p,r,o,0,d,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function NL(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function EL(t){var e=t.symbolPatternSize,n=uy(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function zL(t,e,n,i){var r=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,h=0,c=o[e.valueDim.index]+a+2*n.symbolMargin;for(ZL(t,(function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=u,h<u?jL(t,null,f(h),n,i):jL(t,null,{scaleX:0,scaleY:0},n,i,(function(){r.remove(t)})),h++}));h<u;h++){var p=EL(n);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=u,r.add(p);var d=f(h);jL(p,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},n,i)}function f(t){var e=s.slice(),i=n.pxSign,r=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=u-1-t),e[l.index]=c*(r-u/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function BL(t,e,n,i){var r=t.__pictorialBundle,o=t.__pictorialMainPath;o?jL(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(o=t.__pictorialMainPath=EL(n),r.add(o),jL(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function VL(t,e,n){var i=I({},e.barRectShape),r=t.__pictorialBarRect;r?jL(r,null,{shape:i},e,n):(r=t.__pictorialBarRect=new os({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(r))}function FL(t,e,n,i){if(n.symbolClip){var r=t.__pictorialClipPath,o=I({},n.clipShape),a=e.valueDim,s=n.animationModel,l=n.dataIndex;if(r)Ou(r,{shape:o},s,l);else{o[a.wh]=0,r=new os({shape:o}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r;var u={};u[a.wh]=n.clipShape[a.wh],Ku[i?"updateProps":"initProps"](r,{shape:u},s,l)}}}function GL(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=HL,n.isAnimationEnabled=WL,n}function HL(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function WL(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function YL(t,e,n,i){var r=new zi,o=new zi;return r.add(o),r.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?zL(r,e,n):BL(r,0,n),VL(r,n,i),FL(r,e,n,i),r.__pictorialShapeStr=UL(t,n),r.__pictorialSymbolMeta=n,r}function XL(t,e,n,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];ZL(i,(function(t){o.push(t)})),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),P(o,(function(t){Nu(t,{scaleX:0,scaleY:0},n,e,(function(){i.parent&&i.parent.remove(i)}))})),t.setItemGraphicEl(e,null)}function UL(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function ZL(t,e,n){P(t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(n,i)}))}function jL(t,e,n,i,r,o){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&Ku[r?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,o)}function qL(t,e,n){var i=n.dataIndex,r=n.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),h=o.get("focus"),c=o.get("blurScope"),p=o.get("scale");ZL(t,(function(t){if(t instanceof Ja){var e=t.style;t.useStyle(I({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var i=t.ensureState("emphasis");i.style=a,p&&(i.scaleX=1.1*t.scaleX,i.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=l,u&&(t.cursor=u),t.z2=n.z2}));var d=e.valueDim.posDesc[+(n.boundingLength>0)];th(t.__pictorialBarRect,eh(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:_b(e.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:d}),Js(t,h,c)}function KL(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var $L=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return n(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Th(iw.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(iw);var JL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this,o=this.group,a=t.getLayerSeries(),s=i.getLayout("layoutInfo"),l=s.rect,u=s.boundaryGap;function h(t){return t.name}o.x=0,o.y=l.y+u[0];var c=new rm(this._layersSeries||[],a,h,h),p=[];function d(e,n,s){var l=r._layers;if("remove"!==e){for(var u,h,c=[],d=[],f=a[n].indices,g=0;g<f.length;g++){var y=i.getItemLayout(f[g]),v=y.x,m=y.y0,_=y.y;c.push(v,m),d.push(v,m+_),u=i.getItemVisual(f[g],"style")}var x=i.getItemLayout(f[0]),b=t.getModel("label").get("margin"),w=t.getModel("emphasis");if("add"===e){var S=p[n]=new zi;h=new Vb({shape:{points:c,stackedOnPoints:d,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(h),o.add(S),t.isAnimationEnabled()&&h.setClipPath(function(t,e,n){var i=new os({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Ru(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),i}(h.getBoundingRect(),t,(function(){h.removeClipPath()})))}else{S=l[s];h=S.childAt(0),o.add(S),p[n]=S,Ou(h,{shape:{points:c,stackedOnPoints:d}},t)}th(h,eh(t),{labelDataIndex:f[g-1],defaultText:i.getName(f[g-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),h.setTextConfig({position:null,local:!0});var M=h.getTextContent();M&&(M.x=x.x-b,M.y=x.y0+x.y/2),h.useStyle(u),i.setItemGraphicEl(n,h),nl(h,t),Js(h,w.get("focus"),w.get("blurScope"))}else o.remove(l[n])}c.add(B(d,this,"add")).update(B(d,this,"update")).remove(B(d,this,"remove")).execute(),this._layersSeries=a,this._layers=p},e.type="themeRiver",e}(yf);var QL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.useColorPaletteOnData=!0,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nw(B(this.getData,this),B(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},i=zr(t,(function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]})),r=[];i.buckets.each((function(t,e){r.push({name:e,dataList:t})}));for(var o=r.length,a=0;a<o;++a){for(var s=r[a].name,l=0;l<r[a].dataList.length;++l){var u=r[a].dataList[l][0]+"";n[u]=a}for(var u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,t[e]=[u,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",Or).models[0].get("type"),i=N(t.data,(function(t){return void 0!==t[2]})),r=this.fixData(i||[]),o=[],a=this.nameMap=ht(),s=0,l=0;l<r.length;++l)o.push(r[l][2]),a.get(r[l][2])||(a.set(r[l][2],s),s++);var u=Nm(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:am(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),h=new Pm(u,this);return h.initData(r),h},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var r=t.mapDimension("single"),o=zr(n,(function(e){return t.get("name",e)})),a=[];return o.buckets.each((function(e,n){e.sort((function(e,n){return t.get(r,e)-t.get(r,n)})),a.push({name:n,indices:e})})),a},e.prototype.getAxisTooltipData=function(t,e,n){F(t)||(t=t?[t]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,h=-1,c=o[l].indices.length,p=0;p<c;++p){var d=r.get(t[0],o[l].indices[p]),f=Math.abs(d-e);f<=u&&(i=d,u=f,h=o[l].indices[p])}a.push(h)}return{dataIndices:a,nestestValue:i}},e.prototype.formatTooltip=function(t,e,n){var i=this.getData();return Yd("nameValue",{name:i.getName(t),value:i.get(i.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(rf);function tk(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=t.get("boundaryGap"),a=n.getAxis();(i.boundaryGap=o,"horizontal"===a.orient)?(o[0]=Zi(o[0],r.height),o[1]=Zi(o[1],r.height),ek(e,t,r.height-o[0]-o[1])):(o[0]=Zi(o[0],r.width),o[1]=Zi(o[1],r.width),ek(e,t,r.width-o[0]-o[1]));e.setLayout("layoutInfo",i)}))}function ek(t,e,n){if(t.count())for(var i,r=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),l=O(o,(function(e){return O(e.indices,(function(e){var n=r.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n}))})),u=function(t){for(var e=t.length,n=t[0].length,i=[],r=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<e;++l)s+=t[l][a][1];s>o&&(o=s),i.push(s)}for(var u=0;u<n;++u)r[u]=(o-i[u])/2;o=0;for(var h=0;h<n;++h){var c=i[h]+r[h];c>o&&(o=c)}return{y0:r,max:o}}(l),h=u.y0,c=n/u.max,p=o.length,d=o[0].indices.length,f=0;f<d;++f){i=h[f]*c,t.setItemLayout(o[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i,y:l[0][f][1]*c});for(var g=1;g<p;++g)i+=l[g-1][f][1]*c,t.setItemLayout(o[g].indices[f],{layerIndex:g,x:l[g][f][0],y0:i,y:l[g][f][1]*c})}}var nk=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.z2=2,o.textConfig={inside:!0},ys(o).seriesIndex=n.seriesIndex;var a=new ls({z2:4,silent:e.getModel().get(["label","silent"])});return o.setTextContent(a),o.updateData(!0,e,n,i,r),o}return n(e,t),e.prototype.updateData=function(t,e,n,i,r){this.node=e,e.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var o=this;ys(o).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel("emphasis"),l=e.getLayout(),u=I({},l);u.label=null;var h=e.getVisual("style");h.lineJoin="bevel";var c=e.getVisual("decal");c&&(h.decal=ky(c,r));var p=kw(a.getModel("itemStyle"),u);I(u,p),P(xs,(function(t){var e=o.ensureState(t),n=a.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var i=kw(n,u);i&&(e.shape=i)})),t?(o.setShape(u),o.shape.r=l.r0,Ou(o,{shape:{r:l.r}},n,e.dataIndex)):Ou(o,{shape:u},n),o.useStyle(h),this._updateLabel(n);var d=a.getShallow("cursor");d&&o.attr("cursor",d),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var f=s.get("focus");Js(this,("ancestor"===f?e.getAncestorsIndices():"descendant"===f?e.getDescendantIndices():null)||f,s.get("blurScope"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),i=n.getModel("label"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,a=(r.startAngle+r.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,h=u.getTextContent(),c=this.node.dataIndex,p=i.get("minAngle")/180*Math.PI,d=i.get("show")&&!(null!=p&&Math.abs(o)<p);function f(t,e){var n=t.get(e);return null==n?i.get(e):n}h.ignore=!d,P(bs,(function(i){var o="normal"===i?n.getModel("label"):n.getModel([i,"label"]),p="normal"===i,d=p?h:h.ensureState(i),g=t.getFormattedLabel(c,i);p&&(g=g||e.node.name),d.style=nh(o,{},null,"normal"!==i,!0),g&&(d.style.text=g);var y=o.get("show");null==y||p||(d.ignore=!y);var v,m=f(o,"position"),_=p?u:u.states[i],x=_.style.fill;_.textConfig={outsideFill:"inherit"===o.get("color")?x:null,inside:"outside"!==m};var b=f(o,"distance")||0,w=f(o,"align");"outside"===m?(v=r.r+b,w=a>Math.PI/2?"right":"left"):w&&"center"!==w?"left"===w?(v=r.r0+b,a>Math.PI/2&&(w="right")):"right"===w&&(v=r.r-b,a>Math.PI/2&&(w="left")):(v=(r.r+r.r0)/2,w="center"),d.style.align=w,d.style.verticalAlign=f(o,"verticalAlign")||"middle",d.x=v*s+r.cx,d.y=v*l+r.cy;var S=f(o,"rotate"),M=0;"radial"===S?(M=-a)<-Math.PI/2&&(M+=Math.PI):"tangential"===S?(M=Math.PI/2-a)>Math.PI/2?M-=Math.PI:M<-Math.PI/2&&(M+=Math.PI):"number"==typeof S&&(M=S*Math.PI/180),d.rotation=M})),h.dirtyStyle()},e}(Wl),ik="sunburstRootToNode",rk="sunburstHighlight";var ok=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){var r=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),l=this.group,u=t.get("renderLabelForZeroData"),h=[];s.eachNode((function(t){h.push(t)}));var c=this._oldChildren||[];!function(i,r){if(0===i.length&&0===r.length)return;function s(t){return t.getId()}function h(s,h){!function(i,r){u||!i||i.getValue()||(i=null);if(i!==a&&r!==a)if(r&&r.piece)i?(r.piece.updateData(!1,i,t,e,n),o.setItemGraphicEl(i.dataIndex,r.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(r);else if(i){var s=new nk(i,t,e,n);l.add(s),o.setItemGraphicEl(i.dataIndex,s)}}(null==s?null:i[s],null==h?null:r[h])}new rm(r,i,s,s).add(h).update(h).remove(V(h,null)).execute()}(h,c),function(i,o){o.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,t,e,n):(r.virtualPiece=new nk(i,t,e,n),l.add(r.virtualPiece)),o.piece.off("click"),r.virtualPiece.on("click",(function(t){r._rootToNode(o.parentNode)}))):r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=h},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var n=!1;t.seriesModel.getViewRoot().eachNode((function(i){if(!n&&i.piece&&i.piece===e.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)t._rootToNode(i);else if("link"===r){var o=i.getModel(),a=o.get("link");if(a)wc(a,o.get("target",!0)||"_blank")}n=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ik,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},e.type="sunburst",e}(yf),ak=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};sk(n);var i=O(t.levels||[],(function(t){return new Sh(t,this,e)}),this),r=mI.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=r.getNodeByDataIndex(e),o=i[n.depth];return o&&(t.parentModel=o),t}))}));return r.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=CI(i,this),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){LI(this)},e.type="series.sunburst",e.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],levels:[],sort:"desc"},e}(rf);function sk(t){var e=0;P(t.children,(function(t){sk(t);var n=t.value;F(n)&&(n=n[0]),e+=n}));var n=t.value;F(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),F(t.value)?t.value[0]=n:t.value=n}var lk=Math.PI/180;function uk(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get("center"),i=t.get("radius");F(i)||(i=[0,i]),F(e)||(e=[e,e]);var r=n.getWidth(),o=n.getHeight(),a=Math.min(r,o),s=Zi(e[0],r),l=Zi(e[1],o),u=Zi(i[0],a/2),h=Zi(i[1],a/2),c=-t.get("startAngle")*lk,p=t.get("minAngle")*lk,d=t.getData().tree.root,f=t.getViewRoot(),g=f.depth,y=t.get("sort");null!=y&&hk(f,y);var v=0;P(f.children,(function(t){!isNaN(t.getValue())&&v++}));var m=f.getValue(),_=Math.PI/(m||v)*2,x=f.depth>0,b=f.height-(x?-1:1),w=(h-u)/(b||1),S=t.get("clockwise"),M=t.get("stillShowZeroSum"),I=S?1:-1,T=function(t,e){if(t){var n=e;if(t!==d){var i=t.getValue(),r=0===m&&M?_:i*_;r<p&&(r=p),n=e+I*r;var o=t.depth-g-(x?-1:1),h=u+w*o,c=u+w*(o+1),f=t.getModel();null!=f.get("r0")&&(h=Zi(f.get("r0"),a/2)),null!=f.get("r")&&(c=Zi(f.get("r"),a/2)),t.setLayout({angle:r,startAngle:e,endAngle:n,clockwise:S,cx:s,cy:l,r0:h,r:c})}if(t.children&&t.children.length){var y=0;P(t.children,(function(t){y+=T(t,e+y)}))}return n-e}};if(x){var C=u,A=u+w,D=2*Math.PI;d.setLayout({angle:D,startAngle:c,endAngle:c+D,clockwise:S,cx:s,cy:l,r0:C,r:A})}T(f,c)}))}function hk(t,e){var n=t.children||[];t.children=function(t,e){if("function"==typeof e){var n=O(t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}));return n.sort((function(t,n){return e(t.params,n.params)})),O(n,(function(e){return t[e.index]}))}var i="asc"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n}))}(n,e),n.length&&P(t.children,(function(t){hk(t,e)}))}function ck(t){var e={};t.eachSeriesByType("sunburst",(function(t){var n=t.getData(),i=n.tree;i.eachNode((function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(t,n,i){for(var r=t;r&&r.depth>1;)r=r.parentNode;var o=n.getColorFromPalette(r.name||r.dataIndex+"",e);return t.depth>1&&"string"==typeof o&&(o=$e(o,(t.depth-1)/(i-1)*.5)),o}(r,t,i.root.height)),I(n.ensureUniqueItemVisual(r.dataIndex,"style"),o)}))}))}function pk(t,e){return e=e||[0,0],O(["x","y"],(function(n,i){var r=this.getAxis(n),o=e[i],a=t[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))}),this)}function dk(t,e){return e=e||[0,0],O([0,1],(function(n){var i=e[n],r=t[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}function fk(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function gk(t,e){return e=e||[0,0],O(["Radius","Angle"],(function(n,i){var r=this["get"+n+"Axis"](),o=e[i],a=t[i]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}function yk(t,e,n,i){return t&&(t.legacy||!1!==t.legacy&&!n&&!i&&"tspan"!==e&&("text"===e||dt(t,"text")))}function vk(t,e,n){var i,r,o,a=t;if("text"===e)o=a;else{o={},dt(a,"text")&&(o.text=a.text),dt(a,"rich")&&(o.rich=a.rich),dt(a,"textFill")&&(o.fill=a.textFill),dt(a,"textStroke")&&(o.stroke=a.textStroke),r={type:"text",style:o,silent:!0},i={};var s=dt(a,"textPosition");n?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),dt(a,"textPosition")&&(i.position=a.textPosition),dt(a,"textOffset")&&(i.offset=a.textOffset),dt(a,"textRotation")&&(i.rotation=a.textRotation),dt(a,"textDistance")&&(i.distance=a.textDistance)}return mk(o,t),P(o.rich,(function(t){mk(t,t)})),{textConfig:i,textContent:r}}function mk(t,e){e&&(e.font=e.textFont||e.font,dt(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),dt(e,"textAlign")&&(t.align=e.textAlign),dt(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),dt(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),dt(e,"textWidth")&&(t.width=e.textWidth),dt(e,"textHeight")&&(t.height=e.textHeight),dt(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),dt(e,"textPadding")&&(t.padding=e.textPadding),dt(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),dt(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),dt(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),dt(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),dt(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),dt(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),dt(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function _k(t,e,n){var i=t;i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var r=i.textPosition.indexOf("inside")>=0,o=t.fill||"#000";xk(i,e);var a=null==i.textFill;return r?a&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.outsideFill||o),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=e.text,i.rich=e.rich,P(e.rich,(function(t){xk(t,t)})),i}function xk(t,e){e&&(dt(e,"fill")&&(t.textFill=e.fill),dt(e,"stroke")&&(t.textStroke=e.fill),dt(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),dt(e,"font")&&(t.font=e.font),dt(e,"fontStyle")&&(t.fontStyle=e.fontStyle),dt(e,"fontWeight")&&(t.fontWeight=e.fontWeight),dt(e,"fontSize")&&(t.fontSize=e.fontSize),dt(e,"fontFamily")&&(t.fontFamily=e.fontFamily),dt(e,"align")&&(t.textAlign=e.align),dt(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),dt(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),dt(e,"width")&&(t.textWidth=e.width),dt(e,"height")&&(t.textHeight=e.height),dt(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),dt(e,"padding")&&(t.textPadding=e.padding),dt(e,"borderColor")&&(t.textBorderColor=e.borderColor),dt(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),dt(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),dt(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),dt(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),dt(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),dt(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),dt(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),dt(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),dt(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),dt(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var bk=Ca.CMD,wk=2*Math.PI,Sk=["x","y"],Mk=["width","height"],Ik=[];function Tk(t,e){return Math.abs(t-e)<1e-5}function Ck(t){var e,n,i,r,o,a=t.data,s=t.len(),l=[],u=0,h=0,c=0,p=0;function d(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function f(t,n,i,r){Tk(t,i)&&Tk(n,r)||e.push(t,n,i,r,i,r)}function g(t,n,i,r,o,a){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,u=n<t?-1:1,h=Math.cos(t),c=Math.sin(t),p=Math.cos(n),d=Math.sin(n),f=h*o+i,g=c*a+r,y=p*o+i,v=d*a+r,m=o*l*u,_=a*l*u;e.push(f-m*c,g+_*h,y+m*d,v-_*p,y,v)}for(var y=0;y<s;){var v=a[y++],m=1===y;switch(m&&(c=u=a[y],p=h=a[y+1],v!==bk.L&&v!==bk.C&&v!==bk.Q||(e=[c,p])),v){case bk.M:u=c=a[y++],h=p=a[y++],d(c,p);break;case bk.L:f(u,h,n=a[y++],i=a[y++]),u=n,h=i;break;case bk.C:e.push(a[y++],a[y++],a[y++],a[y++],u=a[y++],h=a[y++]);break;case bk.Q:n=a[y++],i=a[y++],r=a[y++],o=a[y++],e.push(u+2/3*(n-u),h+2/3*(i-h),r+2/3*(n-r),o+2/3*(i-o),r,o),u=r,h=o;break;case bk.A:var _=a[y++],x=a[y++],b=a[y++],w=a[y++],S=a[y++],M=a[y++]+S;y+=1;var I=!a[y++];n=Math.cos(S)*b+_,i=Math.sin(S)*w+x,m?d(c=n,p=i):f(u,h,n,i),u=Math.cos(M)*b+_,h=Math.sin(M)*w+x;for(var T=(I?-1:1)*Math.PI/2,C=S;I?C>M:C<M;C+=T){g(C,I?Math.max(C+T,M):Math.min(C+T,M),_,x,b,w)}break;case bk.R:c=u=a[y++],p=h=a[y++],n=c+a[y++],i=p+a[y++],d(n,p),f(n,p,n,i),f(n,i,c,i),f(c,i,c,p),f(c,p,n,p);break;case bk.Z:e&&f(u,h,c,p),u=c,h=p}}return e&&e.length>2&&l.push(e),l}function Ak(t,e){var n=t.length,i=e.length;if(n===i)return[t,e];for(var r=n<i?t:e,o=Math.min(n,i),a=Math.abs(i-n)/6,s=(o-2)/6,l=Math.ceil(a/s)+1,u=[r[0],r[1]],h=a,c=[],p=[],d=2;d<o;){var f=r[d-2],g=r[d-1],y=r[d++],v=r[d++],m=r[d++],_=r[d++],x=r[d++],b=r[d++];if(h<=0)u.push(y,v,m,_,x,b);else{for(var w=Math.min(h,l-1)+1,S=1;S<=w;S++){var M=S/w;Bo(f,y,m,x,M,c),Bo(g,v,_,b,M,p),f=c[3],g=p[3],u.push(c[1],p[1],c[2],p[2],f,g),y=c[5],v=p[5],m=c[6],_=p[6]}h-=w-1}}return r===t?[u,e]:[t,u]}function Dk(t,e){for(var n=t.length,i=t[n-2],r=t[n-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function Lk(t){for(var e=0,n=0,i=0,r=t.length,o=0,a=r-2;o<r;a=o,o+=2){var s=t[a],l=t[a+1],u=t[o],h=t[o+1],c=s*h-u*l;e+=c,n+=(s+u)*c,i+=(l+h)*c}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,i/e/3,e]}function kk(t,e,n,i){for(var r=(t.length-2)/6,o=1/0,a=0,s=t.length,l=s-2,u=0;u<r;u++){for(var h=6*u,c=0,p=0;p<s;p+=2){var d=0===p?h:(h+p-2)%l+2,f=t[d]-n[0],g=t[d+1]-n[1],y=e[p]-i[0]-f,v=e[p+1]-i[1]-g;c+=y*y+v*v}c<o&&(o=c,a=u)}return a}function Pk(t){for(var e=[],n=t.length,i=0;i<n;i+=2)e[i]=t[n-i-2],e[i+1]=t[n-i-1];return e}function Ok(t,e,n){var i,r;if(!t||!e)return e;!t.path&&t.createPathProxy(),(i=t.path).beginPath(),t.buildPath(i,t.shape),!e.path&&e.createPathProxy(),(r=e.path)===i&&(r=new Ca(!1)),r.beginPath(),Ek(e)?e.__oldBuildPath(r,e.shape):e.buildPath(r,e.shape);var o=function(t,e){for(var n,i,r,o=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],h=void 0,c=void 0;l?u?(i=h=(n=Ak(l,u))[0],r=c=n[1]):(c=Dk(r||l,l),h=l):(h=Dk(i||u,u),c=u),o.push(h),a.push(c)}return[o,a]}(Ck(i),Ck(r)),a=function(t,e,n,i){for(var r,o=[],a=0;a<t.length;a++){var s=t[a],l=e[a],u=Lk(s),h=Lk(l);null==r&&(r=u[2]<0!=h[2]<0);var c=[],p=[],d=0,f=1/0,g=[],y=s.length;r&&(s=Pk(s));for(var v=6*kk(s,l,u,h),m=y-2,_=0;_<m;_+=2){var x=(v+_)%m+2;c[_+2]=s[x]-u[0],c[_+3]=s[x+1]-u[1]}if(c[0]=s[v]-u[0],c[1]=s[v+1]-u[1],n>0)for(var b=i/n,w=-i/2;w<=i/2;w+=b){var S=Math.sin(w),M=Math.cos(w),I=0;for(_=0;_<s.length;_+=2){var T=c[_],C=c[_+1],A=l[_]-h[0],D=l[_+1]-h[1],L=A*M-D*S,k=A*S+D*M;g[_]=L,g[_+1]=k;var P=L-T,O=k-C;I+=P*P+O*O}if(I<f){f=I,d=w;for(var R=0;R<g.length;R++)p[R]=g[R]}}else for(var N=0;N<y;N+=2)p[N]=l[N]-h[0],p[N+1]=l[N+1]-h[1];o.push({from:c,to:p,fromCp:u,toCp:h,rotation:-d})}return o}(o[0],o[1],10,Math.PI);!function(t,e,n){if(Ek(t))return void Nk(t,e,n);var i=t;i.__oldBuildPath=i.buildPath,i.buildPath=Rk,Nk(i,e,n)}(e,a,0);var s=n&&n.done,l=n&&n.aborted,u=n&&n.during;return e.animateTo({__morphT:1},T({during:function(t){e.dirtyShape(),u&&u(t)},done:function(){var t;Ek(t=e)&&(t.buildPath=t.__oldBuildPath,t.__oldBuildPath=t.__morphingData=null),e.createPathProxy(),e.dirtyShape(),s&&s()},aborted:function(){l&&l()}},n)),e}function Rk(t){for(var e=this.__morphingData,n=this.__morphT,i=1-n,r=[],o=0;o<e.length;o++){var a=e[o],s=a.from,l=a.to,u=a.rotation*n,h=a.fromCp,c=a.toCp,p=Math.sin(u),d=Math.cos(u);Ot(r,h,c,n);for(var f=0;f<s.length;f+=2){var g=s[f],y=s[f+1],v=g*i+l[f]*n,m=y*i+l[f+1]*n;Ik[f]=v*d-m*p+r[0],Ik[f+1]=v*p+m*d+r[1]}for(f=0;f<s.length;)0===f&&t.moveTo(Ik[f++],Ik[f++]),t.bezierCurveTo(Ik[f++],Ik[f++],Ik[f++],Ik[f++],Ik[f++],Ik[f++])}}function Nk(t,e,n){t.__morphingData=e,t.__morphT=n}function Ek(t){return null!=t.__oldBuildPath}function zk(t){return!!t.__combiningSubList}function Bk(t,e,n,i){for(var r=[],o=0,a=0;a<t.length;a++){var s=t[a];if(zk(s)){for(var l=s.__combiningSubList,u=0;u<l.length;u++)r.push(l[u]);o+=l.length}else r.push(s),o++}if(o){var h=n?n.dividingMethod:null,c=Yk(e,o,h);rt(c.length===o);var p=n&&n.done,d=n&&n.aborted,f=n&&n.during,g=0,y=!1,v=T({during:function(t){f&&f(t)},done:function(){++g===c.length&&(!function(t){if(!zk(t))return;var e=t;Vk(e,null),e.addSelfToZr=e.__oldAddSelfToZr,e.removeSelfFromZr=e.__oldRemoveSelfFromZr,e.buildPath=e.__oldBuildPath,e.childrenRef=e.__combiningSubList=e.__oldAddSelfToZr=e.__oldRemoveSelfFromZr=e.__oldBuildPath=null}(e),p&&p())},aborted:function(){y||(y=!0,d&&d())}},n);for(a=0;a<o;a++){var m=r[a],_=c[a];i&&i(e,_,!0),Ok(m,_,v)}return function(t,e){if(zk(t))return void Vk(t,e);var n=t;Vk(n,e),n.__oldAddSelfToZr=t.addSelfToZr,n.__oldRemoveSelfFromZr=t.removeSelfFromZr,n.addSelfToZr=Fk,n.removeSelfFromZr=Hk,n.__oldBuildPath=n.buildPath,n.buildPath=ft,n.childrenRef=Wk}(e,c),{fromIndividuals:r,toIndividuals:c,count:o}}}function Vk(t,e){if(t.__combiningSubList!==e){if(Gk(t,"removeSelfFromZr"),t.__combiningSubList=e,e)for(var n=0;n<e.length;n++)e[n].parent=t;Gk(t,"addSelfToZr")}}function Fk(t){this.__oldAddSelfToZr(t),Gk(this,"addSelfToZr")}function Gk(t,e){var n=t.__combiningSubList,i=t.__zr;if(n&&i)for(var r=0;r<n.length;r++){n[r][e](i)}}function Hk(t){this.__oldRemoveSelfFromZr(t);for(var e=this.__combiningSubList,n=0;n<e.length;n++){e[n].removeSelfFromZr(t)}}function Wk(){return this.__combiningSubList}function Yk(t,e,n){return"duplicate"===n?Xk(t,e):function(t,e){var n=[];if(e<=0)return n;if(1===e)return Xk(t,e);if(t instanceof os)for(var i=(c=t.shape).height>c.width?1:0,r=Mk[i],o=Sk[i],a=c[r]/e,s=c[o],l=0;l<e;l++,s+=a){var u={x:c.x,y:c.y,width:c.width,height:c.height};u[o]=s,u[r]=l<e-1?a:c[o]+c[r]-s;var h=new os({shape:u});n.push(h)}else{if(!(t instanceof Wl))return Xk(t,e);var c,p=(c=t.shape).clockwise,d=c.startAngle,f=c.endAngle,g=(function(t,e,n){return e+wk*Math[n?"ceil":"floor"]((t-e)/wk)}(d,c.endAngle,p)-d)/e,y=d;for(l=0;l<e;l++,y+=g){h=new Wl({shape:{cx:c.cx,cy:c.cy,r:c.r,r0:c.r0,clockwise:p,startAngle:y,endAngle:l===e-1?f:y+g}});n.push(h)}}return n}(t,e)}function Xk(t,e){var n=[];if(e<=0)return n;for(var i=t.constructor,r=0;r<e;r++){var o=new i({shape:w(t.shape)});n.push(o)}return n}var Uk=Lr(),Zk={x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1},jk=(z(Zk).join(", "),{color:"fill",borderColor:"stroke"}),qk={symbol:1,symbolSize:1,symbolKeepAspect:1,legendSymbol:1,visualMeta:1,liftZ:1,decal:1},Kk="emphasis",$k="normal",Jk="blur",Qk="select",tP=[$k,Kk,Jk,Qk],eP={normal:["itemStyle"],emphasis:[Kk,"itemStyle"],blur:[Jk,"itemStyle"],select:[Qk,"itemStyle"]},nP={normal:["label"],emphasis:[Kk,"label"],blur:[Jk,"label"],select:[Qk,"label"]},iP={normal:{},emphasis:{},blur:{},select:{}},rP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},oP=new ke,aP={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:B(pk,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:B(dk,t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:B(fk,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r=e.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=t.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a},size:B(gk,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}},sP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return Hm(this.getSource(),this)},e.prototype.getDataParams=function(e,n,i){var r=t.prototype.getDataParams.call(this,e,n);return i&&(r.info=Uk(i).info),r},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},e}(rf),lP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){var r=this._data,o=t.getData(),a=this.group,s=AP(t,o,e,n),l=t.__transientTransitionOpt;if(!l||null!=l.from&&null!=l.to){var u=new WP(t,l),h=l?"multiple":"oneToOne";new rm(r?r.getIndices():[],o.getIndices(),uP(r,h,l&&l.from),uP(o,h,l&&l.to),null,h).add((function(e){LP(n,null,e,s(e,i),t,a,o,null)})).remove((function(e){VP(r.getItemGraphicEl(e),t,a)})).update((function(e,l){u.reset("oneToOne");var h=r.getItemGraphicEl(l);u.findAndAddFrom(h),u.hasFrom()&&(HP(h,a),h=null),LP(n,h,e,s(e,i),t,a,o,u),u.applyMorphing()})).updateManyToOne((function(e,l){u.reset("manyToOne");for(var h=0;h<l.length;h++){var c=r.getItemGraphicEl(l[h]);u.findAndAddFrom(c),HP(c,a)}LP(n,null,e,s(e,i),t,a,o,u),u.applyMorphing()})).updateOneToMany((function(e,l){u.reset("oneToMany");var h=e.length,c=r.getItemGraphicEl(l);u.findAndAddFrom(c),HP(c,a);for(var p=0;p<h;p++)LP(n,null,e[p],s(e[p],i),t,a,o,u);u.applyMorphing()})).execute()}else r&&r.each((function(e){VP(r.getItemGraphicEl(e),t,a)})),o.each((function(e){LP(n,null,e,s(e,i),t,a,o,null)}));var c=t.get("clip",!0)?Hb(t.coordinateSystem,!1,t):null;c?a.setClipPath(c):a.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,i,r){var o=e.getData(),a=AP(e,o,n,i);function s(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var l=t.start;l<t.end;l++){LP(null,null,l,a(l,r),e,this.group,o,null).traverse(s)}},e.prototype.filterForExposedEvent=function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},e.type="custom",e}(yf);function uP(t,e,n){if(t){if("oneToOne"===e)return function(e,n){return t.getId(n)};var i=t.getDimension(n),r=t.getDimensionInfo(i);if(!r){var o="";0,yr(o)}var a=r.ordinalMeta;return function(e,n){var r=t.get(i,n);return a&&(r=a.categories[r]),null==r||J(r)?e+"":"_ec_"+r}}}function hP(t){var e,n=t.type;if("path"===n){var i=t.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=FP(i);e=Tu(o,null,r,i.layout||"center"),Uk(e).customPathData=o}else if("image"===n)e=new Ja({}),Uk(e).customImagePath=t.style.image;else if("text"===n)e=new ls({});else if("group"===n)e=new zi;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=Iu(n);if(!a){var s="";0,yr(s)}e=new a}return Uk(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function cP(t,e,n,i,r,o,a,s,l,u){var h={},c={},p=e.isGroup?null:e;!n&&fP("shape",e,null,r,h,l),gP("shape",r,c),!n&&fP("extra",e,null,r,h,l),gP("extra",r,c),!n&&yP(e,null,r,h,l),function(t,e){IP(t,e,"position"),IP(t,e,"scale"),IP(t,e,"origin"),TP(t,e,"x"),TP(t,e,"y"),TP(t,e,"scaleX"),TP(t,e,"scaleY"),TP(t,e,"originX"),TP(t,e,"originY"),TP(t,e,"rotation")}(r,c);var d=a&&a.normal.cfg;if(d&&e.setTextConfig(d),"text"===e.type&&o){var f=o;dt(f,"textFill")&&(f.fill=f.textFill),dt(f,"textStroke")&&(f.stroke=f.textStroke)}if(o){var g=void 0,y=GP(e)?o.decal:null;t&&y&&(y.dirty=!0,g=ky(y,t)),o.__decalPattern=g}return!n&&vP(e,null,r,o,h,l),p&&dt(r,"invisible")&&(p.invisible=r.invisible),n||(pP(e,c,o),dP(e,i,r,s,h,l)),dt(r,"silent")&&(e.silent=r.silent),dt(r,"ignore")&&(e.ignore=r.ignore),u||dt(r,"info")&&(Uk(e).info=r.info),o?e.dirty():e.markRedraw(),n?c:null}function pP(t,e,n){var i=t.isGroup?null:t;if(i&&n){var r=n.__decalPattern,o=void 0;r&&(o=n.decal,n.decal=r),i.useStyle(n),r&&(n.decal=o);for(var a=i.animators,s=0;s<a.length;s++){var l=a[s];"style"===l.targetName&&l.changeTarget(i.style)}}e&&t.attr(e)}function dP(t,e,n,i,r,o){if(r){var a=n.during;Uk(t).userDuring=a;var s={dataIndex:e,isFrom:!0,during:a?B(wP,{el:t,userDuring:a}):null};o?Ru(t,r,i,s):Ou(t,r,i,s)}}function fP(t,e,n,i,r,o){var a=i[t];if(a){var s,l=e[t],u=a.enterFrom;if(o&&u){!s&&(s=r[t]={});for(var h=z(u),c=0;c<h.length;c++){s[_=h[c]]=u[_]}}if(!o&&l&&(null==n||"shape"!==t))if(a.transition){!s&&(s=r[t]={});var p=_r(a.transition);for(c=0;c<p.length;c++){var d=l[_=p[c]];0,s[_]=d}}else if(A(i.transition,t)>=0){!s&&(s=r[t]={});var f=z(l);for(c=0;c<f.length;c++){d=l[_=f[c]];mP(a[_],d)&&(s[_]=d)}}var g=a.leaveTo;if(g){var y=_P(e),v=y[t]||(y[t]={}),m=z(g);for(c=0;c<m.length;c++){var _;v[_=m[c]]=g[_]}}}}function gP(t,e,n){var i=e[t];if(i)for(var r=n[t]={},o=z(i),a=0;a<o.length;a++){var s=o[a];r[s]=mn(i[s])}}function yP(t,e,n,i,r){var o=n.enterFrom;if(r&&o)for(var a=z(o),s=0;s<a.length;s++){0,i[f=a[s]]=o[f]}if(!r)if(e){var l=function(t,e){if(!t||t===e||t.parent===e.parent)return t;var n=oP.transform||(oP.transform=ge([])),i=t.getComputedTransform();i?ye(n,i):ge(n);var r=e.parent;r&&r.getComputedTransform();return oP.originX=t.originX,oP.originY=t.originY,oP.parent=r,oP.decomposeTransform(),oP}(e,t);CP(i,"x",l),CP(i,"y",l),CP(i,"scaleX",l),CP(i,"scaleY",l),CP(i,"originX",l),CP(i,"originY",l),CP(i,"rotation",l)}else if(n.transition){var u=_r(n.transition);for(s=0;s<u.length;s++){if("style"!==(f=u[s])&&"shape"!==f&&"extra"!==f){var h=t[f];0,i[f]=h}}}else CP(i,"x",t),CP(i,"y",t);var c=n.leaveTo;if(c){var p=_P(t),d=z(c);for(s=0;s<d.length;s++){var f;0,p[f=d[s]]=c[f]}}}function vP(t,e,n,i,r,o){if(i){var a,s=(e||t).style,l=i.enterFrom;if(o&&l){var u=z(l);!a&&(a=r.style={});for(var h=0;h<u.length;h++){a[x=u[h]]=l[x]}}if(!o&&s)if(i.transition){var c=_r(i.transition);!a&&(a=r.style={});for(h=0;h<c.length;h++){var p=s[x=c[h]];a[x]=p}}else if(t.getAnimationStyleProps&&A(n.transition,"style")>=0){var d=t.getAnimationStyleProps(),f=d?d.style:null;if(f){!a&&(a=r.style={});var g=z(i);for(h=0;h<g.length;h++){if(f[x=g[h]]){p=s[x];a[x]=p}}}}var y=i.leaveTo;if(y){var v=z(y),m=_P(t),_=m.style||(m.style={});for(h=0;h<v.length;h++){var x;_[x=v[h]]=y[x]}}}}function mP(t,e){return k(t)?t!==e:null!=t&&isFinite(t)}function _P(t){var e=Uk(t);return e.leaveToProps||(e.leaveToProps={})}var xP={},bP={setTransform:function(t,e){return xP.el[t]=e,this},getTransform:function(t){return xP.el[t]},setShape:function(t,e){return(xP.el.shape||(xP.el.shape={}))[t]=e,xP.isShapeDirty=!0,this},getShape:function(t){var e=xP.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=xP.el.style;return n&&(n[t]=e,xP.isStyleDirty=!0),this},getStyle:function(t){var e=xP.el.style;if(e)return e[t]},setExtra:function(t,e){return(xP.el.extra||(xP.el.extra={}))[t]=e,this},getExtra:function(t){var e=xP.el.extra;if(e)return e[t]}};function wP(){var t=this,e=t.el;if(e){var n=Uk(e).userDuring,i=t.userDuring;n===i?(xP.el=e,xP.isShapeDirty=!1,xP.isStyleDirty=!1,i(bP),xP.isShapeDirty&&e.dirtyShape&&e.dirtyShape(),xP.isStyleDirty&&e.dirtyStyle&&e.dirtyStyle()):t.el=t.userDuring=null}}function SP(t,e,n,i,r,o,a){var s=e.isGroup?null:e,l=r&&r[t].cfg;if(s){var u=s.ensureState(t);if(!1===i){var h=s.getState(t);h&&(h.style=null)}else u.style=i||null;l&&(u.textConfig=l),Gs(s)}}function MP(t,e,n){var i=n===$k,r=i?e:RP(e,n),o=r?r.z2:null;null!=o&&((i?t:t.ensureState(n)).z2=o||0)}function IP(t,e,n,i){var r=t[n],o=rP[n];r&&(i?(e[o[0]]=i[o[0]],e[o[1]]=i[o[1]]):(e[o[0]]=r[0],e[o[1]]=r[1]))}function TP(t,e,n,i){null!=t[n]&&(e[n]=i?i[n]:t[n])}function CP(t,e,n){n&&(t[e]=n[e])}function AP(t,e,n,i){var r=t.get("renderItem"),o=t.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):aP[o.type](o));for(var s,l,u=T({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(t,n){return null==n&&(n=s),e.get(e.getDimension(t||0),n)},style:function(n,i){0;null==i&&(i=s);var r=e.getItemVisual(i,"style"),o=r&&r.fill,a=r&&r.opacity,l=m(i,$k).getItemStyle();null!=o&&(l.fill=o),null!=a&&(l.opacity=a);var u={inheritColor:H(o)?o:"#000"},h=_(i,$k),c=nh(h,null,u,!1,!0);c.text=h.getShallow("show")?tt(t.getFormattedLabel(i,$k),_b(e,i)):null;var p=ih(h,u,!1);return b(n,l),l=_k(l,c,p),n&&x(l,n),l.legacy=!0,l},ordinalRawValue:function(t,n){null==n&&(n=s);var i=e.getDimensionInfo(t||0);if(!i)return;var r=e.get(i.name,n),o=i&&i.ordinalMeta;return o?o.categories[r]:r},styleEmphasis:function(n,i){0;null==i&&(i=s);var r=m(i,Kk).getItemStyle(),o=_(i,Kk),a=nh(o,null,null,!0,!0);a.text=o.getShallow("show")?et(t.getFormattedLabel(i,Kk),t.getFormattedLabel(i,$k),_b(e,i)):null;var l=ih(o,null,!0);return b(n,r),r=_k(r,a,l),n&&x(r,n),r.legacy=!0,r},visual:function(t,n){if(null==n&&(n=s),dt(jk,t)){var i=e.getItemVisual(n,"style");return i?i[jk[t]]:null}if(dt(qk,t))return e.getItemVisual(n,t)},barLayout:function(t){if("cartesian2d"===o.type){return function(t){var e=[],n=t.axis,i="axis0";if("category"===n.type){for(var r=n.getBandWidth(),o=0;o<t.count;o++)e.push(T({bandWidth:r,axisKey:i,stackId:n_+o},t));var a=l_(e),s=[];for(o=0;o<t.count;o++){var l=a.axis0[n_+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(T({axis:o.getBaseAxis()},t))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return lh(t,n)}},a.api||{}),h={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:DP(t.getData())},c={},p={},d={},f={},g=0;g<tP.length;g++){var y=tP[g];d[y]=t.getModel(eP[y]),f[y]=t.getModel(nP[y])}function v(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function m(t,n){return e.hasItemOption?t===s?c[n]||(c[n]=v(t).getModel(eP[n])):v(t).getModel(eP[n]):d[n]}function _(t,n){return e.hasItemOption?t===s?p[n]||(p[n]=v(t).getModel(nP[n])):v(t).getModel(nP[n]):f[n]}return function(t,n){return s=t,l=null,c={},p={},r&&r(T({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},h),u)};function x(t,e){for(var n in e)dt(e,n)&&(t[n]=e[n])}function b(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}}function DP(t){var e={};return P(t.dimensions,(function(n,i){var r=t.getDimensionInfo(n);if(!r.isExtraCoord){var o=r.coordDim;(e[o]=e[o]||[])[r.coordDimIndex]=i}})),e}function LP(t,e,n,i,r,o,a,s){if(i)return(e=kP(t,e,n,i,r,o,!0,s))&&a.setItemGraphicEl(n,e),Js(e,i.focus,i.blurScope),e;HP(e,o)}function kP(t,e,n,i,r,o,a,s){var l=-1;e&&PP(e,i)&&(l=o.childrenRef().indexOf(e),e=null);var u=!e;e?e.clearStates():e=hP(i);var h=(Uk(e).canMorph=i.morph&&GP(e))&&s&&s.hasFrom(),c=u&&!h;iP.normal.cfg=iP.normal.conOpt=iP.emphasis.cfg=iP.emphasis.conOpt=iP.blur.cfg=iP.blur.conOpt=iP.select.cfg=iP.select.conOpt=null,iP.isLegacy=!1,function(t,e,n,i,r,o){if(t.isGroup)return;OP(n,null,o),OP(n,Kk,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=a||null!=s||null!=u||null!=l){var h=t.getTextContent();if(!1===a)h&&t.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},h?h.clearStates():(h=hP(a),t.setTextContent(h));var c=a&&a.style;cP(null,h,null,e,a,c,null,i,r,!0);for(var p=0;p<tP.length;p++){var d=tP[p];if(d!==$k){var f=o[d].conOpt;SP(d,h,0,NP(a,f,d),null)}}c?h.dirty():h.markRedraw()}}}(e,n,i,r,c,iP),function(t,e,n,i,r){var o=n.clipPath;if(!1===o)t&&t.getClipPath()&&t.removeClipPath();else if(o){var a=t.getClipPath();a&&PP(a,o)&&(a=null),a||(a=hP(o),t.setClipPath(a)),cP(null,a,null,e,o,null,null,i,r,!1)}}(e,n,i,r,c);var p=cP(t,e,h,n,i,i.style,iP,r,c,!1);h&&s.addTo(e,i,n,p);for(var d=0;d<tP.length;d++){var f=tP[d];if(f!==$k){var g=RP(i,f);SP(f,e,0,NP(i,g,f),iP)}}return function(t,e,n,i){if(!t.isGroup){var r=t,o=n.currentZ,a=n.currentZLevel;r.z=o,r.zlevel=a;var s=e.z2;null!=s&&(r.z2=s||0);for(var l=0;l<tP.length;l++)MP(r,e,tP[l])}}(e,i,r),"group"===i.type&&function(t,e,n,i,r,o){var a=i.children,s=a?a.length:0,l=i.$mergeChildren,u="byName"===l||i.diffChildrenByName,h=!1===l;if(!s&&!u&&!h)return;if(u)return c={api:t,oldChildren:e.children()||[],newChildren:a||[],dataIndex:n,seriesModel:r,group:e,morphPreparation:o},void new rm(c.oldChildren,c.newChildren,EP,EP,c).add(zP).update(zP).remove(BP).execute();var c;h&&e.removeAll();for(var p=0;p<s;p++)a[p]&&kP(t,e.childAt(p),n,a[p],r,e,!1,o);for(var d=e.childCount()-1;d>=p;d--)VP(e.childAt(d),r,e)}(t,e,n,i,r,s),l>=0?o.replaceAt(e,l):o.add(e),e}function PP(t,e){var n,i=Uk(t),r=e.type,o=e.shape,a=e.style;return null!=r&&r!==i.customGraphicType||"path"===r&&((n=o)&&(dt(n,"pathData")||dt(n,"d")))&&FP(o)!==i.customPathData||"image"===r&&dt(a,"image")&&a.image!==i.customImagePath}function OP(t,e,n){var i=e?RP(t,e):t,r=e?NP(t,i,Kk):t.style,o=t.type,a=i?i.textConfig:null,s=t.textContent,l=s?e?RP(s,e):s:null;if(r&&(n.isLegacy||yk(r,o,!!a,!!l))){n.isLegacy=!0;var u=vk(r,o,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var h=l;!h.type&&(h.type="text")}var c=e?n[e]:n.normal;c.cfg=a,c.conOpt=l}function RP(t,e){return e?t?t[e]:null:t}function NP(t,e,n){var i=e&&e.style;return null==i&&n===Kk&&t&&(i=t.styleEmphasis),i}function EP(t,e){var n=t&&t.name;return null!=n?n:"e\0\0"+e}function zP(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null,r=null!=e?n.oldChildren[e]:null;kP(n.api,r,n.dataIndex,i,n.seriesModel,n.group,0,n.morphPreparation)}function BP(t){var e=this.context;VP(e.oldChildren[t],e.seriesModel,e.group)}function VP(t,e,n){if(t){var i=Uk(t).leaveToProps;i?Ou(t,i,e,{cb:function(){n.remove(t)}}):n.remove(t)}}function FP(t){return t&&(t.pathData||t.d)}function GP(t){return t&&t instanceof Za}function HP(t,e){t&&e.remove(t)}var WP=function(){function t(t,e){this._fromList=[],this._toList=[],this._toElOptionList=[],this._allPropsFinalList=[],this._toDataIndices=[],this._morphConfigList=[],this._seriesModel=t,this._transOpt=e}return t.prototype.hasFrom=function(){return!!this._fromList.length},t.prototype.findAndAddFrom=function(t){if(t&&(Uk(t).canMorph&&this._fromList.push(t),t.isGroup))for(var e=t.childrenRef(),n=0;n<e.length;n++)this.findAndAddFrom(e[n])},t.prototype.addTo=function(t,e,n,i){t&&(this._toList.push(t),this._toElOptionList.push(e),this._toDataIndices.push(n),this._allPropsFinalList.push(i))},t.prototype.applyMorphing=function(){var t=this._type,e=this._fromList,n=this._toList.length,i=e.length;if(i&&n)if("oneToOne"===t)for(var r=0;r<n;r++)this._oneToOneForSingleTo(r,r);else if("manyToOne"===t)for(var o=Math.max(1,Math.floor(i/n)),a=(r=0,0);r<n;r++,a+=o){var s=r+1>=n?i-a:o;this._manyToOneForSingleTo(r,a>=i?null:a,s)}else if("oneToMany"===t)for(var l=Math.max(1,Math.floor(n/i)),u=0,h=0;u<n;u+=l,h++){var c=u+l>=n?n-u:l;this._oneToManyForSingleFrom(u,c,h>=i?null:h)}},t.prototype._oneToOneForSingleTo=function(t,e){var n,i=this._toList[t],r=this._toElOptionList[t],o=this._toDataIndices[t],a=this._allPropsFinalList[t],s=this._fromList[e],l=this._getOrCreateMorphConfig(o),u=l.duration;if(s&&zk(s)){if(pP(i,a,r.style),u){var h=Bk([s],i,l,YP);this._processResultIndividuals(h,t,null)}}else{var c=u&&s&&(s!==i||(Ek(n=s)||zk(n)))?s:null,p={};fP("shape",i,c,r,p,!1),fP("extra",i,c,r,p,!1),yP(i,c,r,p,!1),vP(i,c,r,r.style,p,!1),pP(i,a,r.style),c&&Ok(c,i,l),dP(i,o,r,this._seriesModel,p,!1)}},t.prototype._manyToOneForSingleTo=function(t,e,n){var i=this._toList[t],r=this._toElOptionList[t];pP(i,this._allPropsFinalList[t],r.style);var o=this._getOrCreateMorphConfig(this._toDataIndices[t]);if(o.duration&&null!=e){for(var a=[],s=e;s<n;s++)a.push(this._fromList[s]);var l=Bk(a,i,o,YP);this._processResultIndividuals(l,t,null)}},t.prototype._oneToManyForSingleFrom=function(t,e,n){for(var i=null==n?null:this._fromList[n],r=this._toList,o=[],a=t;a<e;a++){var s=r[a];pP(s,this._allPropsFinalList[a],this._toElOptionList[a].style),o.push(s)}var l=this._getOrCreateMorphConfig(this._toDataIndices[t]);if(l.duration&&i){var u=function(t,e,n,i){var r,o=e.length,a=n?n.dividingMethod:null,s=!1;if(zk(t)){var l=t.__combiningSubList;l.length===o?r=l:(r=Yk(t,o,a),s=!0)}else r=Yk(t,o,a),s=!0;rt(r.length===o);for(var u=0;u<o;u++)s&&i&&i(t,r[u],!1),Ok(r[u],e[u],n);return{fromIndividuals:r,toIndividuals:e,count:o}}(i,o,l,YP);this._processResultIndividuals(u,t,e)}},t.prototype._processResultIndividuals=function(t,e,n){for(var i=null!=n,r=0;r<t.count;r++){var o=t.fromIndividuals[r],a=t.toIndividuals[r],s=e+(i?r:0),l=this._toElOptionList[s],u=this._toDataIndices[s],h={};yP(a,o,l,h,!1),vP(a,o,l,l.style,h,!1),dP(a,u,l,this._seriesModel,h,!1)}},t.prototype._getOrCreateMorphConfig=function(t){var e,n,i,r=this._morphConfigList,o=r[t];if(o)return o;var a=this._seriesModel,s=this._transOpt;if(a.isAnimationEnabled()){var l=void 0;if(a&&a.ecModel){var u=a.ecModel.getUpdatePayload();l=u&&u.animation}if(l)e=l.duration||0,n=l.easing||"cubicOut",i=l.delay||0;else{n=a.get("animationEasingUpdate");var h=a.get("animationDelayUpdate");i=G(h)?h(t):h;var c=a.get("animationDurationUpdate");e=G(c)?c(t):c}}return o={duration:e||0,delay:i,easing:n,dividingMethod:s?s.dividingMethod:null},r[t]=o,o},t.prototype.reset=function(t){this._type=t,this._fromList.length=this._toList.length=this._toElOptionList.length=this._allPropsFinalList.length=this._toDataIndices.length=0},t}();function YP(t,e,n){e.style=n?w(t.style):t.style,e.zlevel=t.zlevel,e.z=t.z,e.z2=t.z2}var XP=Lr(),UP=w,ZP=B,jP=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,i){var r=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(a){var c=V(qP,e,h);this.updatePointerEl(a,l,c),this.updateLabelEl(a,l,c,e)}else a=this._group=new zi,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),n.getZr().add(a);QP(a,e,!0),this._renderHandle(r)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=_S(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,i,r){},t.prototype.createPointerEl=function(t,e,n,i){var r=e.pointer;if(r){var o=XP(t).pointerEl=new Ku[r.type](UP(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,n,i){if(e.label){var r=XP(t).labelEl=new ls(UP(e.label));t.add(r),$P(r,i)}},t.prototype.updatePointerEl=function(t,e,n){var i=XP(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,i){var r=XP(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{x:e.label.x,y:e.label.y}),$P(r,i))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Uu(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){ee(t.event)},onmousedown:ZP(this._onHandleDragMove,this,0,0),drift:ZP(this._onHandleDragMove,this),ondragend:ZP(this._onHandleDragEnd,this)}),i.add(r)),QP(r,n,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");F(s)||(s=[s,s]),r.scaleX=s[0]/2,r.scaleY=s[1]/2,Tf(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){qP(this._axisPointerModel,!e&&this._moveAnimation,this._handle,JP(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(JP(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(JP(i)),XP(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},t}();function qP(t,e,n,i){KP(XP(n).lastProp,i)||(XP(n).lastProp=i,e?Ou(n,i,t):(n.stopAnimation(),n.attr(i)))}function KP(t,e){if(X(t)&&X(e)){var n=!0;return P(e,(function(e,i){n=n&&KP(t[i],e)})),!!n}return t===e}function $P(t,e){t[e.get(["label","show"])?"show":"hide"]()}function JP(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function QP(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)}))}function tO(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle()).fill=null:"shadow"===n&&((e=i.getAreaStyle()).stroke=null),e}function eO(t,e,n,i,r){var o=nO(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=pc(a.get("padding")||0),l=a.getFont(),u=Fn(o,l),h=r.position,c=u.width+s[1]+s[3],p=u.height+s[0]+s[2],d=r.align;"right"===d&&(h[0]-=c),"center"===d&&(h[0]-=c/2);var f=r.verticalAlign;"bottom"===f&&(h[1]-=p),"middle"===f&&(h[1]-=p/2),function(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,c,p,i);var g=a.get("backgroundColor");g&&"auto"!==g||(g=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:nh(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function nO(t,e,n,i,r){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:r.precision}),a=r.formatter;if(a){var s={value:W_(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};P(i,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&s.seriesData.push(r)})),H(a)?o=a.replace("{value}",o):G(a)&&(o=a(s))}return o}function iO(t,e,n){var i=[1,0,0,1,0,0];return _e(i,i,n.rotation),me(i,i,n.position),Fu([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function rO(t,e,n,i,r,o){var a=hS.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),eO(e,i,r,o,{position:iO(i.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function oO(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function aO(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function sO(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}var lO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.grid,s=i.get("type"),l=uO(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var h=tO(i),c=hO[s](o,u,l);c.style=h,t.graphicKey=c.type,t.pointer=c}rO(e,t,nS(a.model,n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=nS(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=iO(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=uO(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(jP);function uO(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var hO={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:oO([e,n[0]],[e,n[1]],cO(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:aO([e-i/2,n[0]],[i,r],cO(t))}}};function cO(t){return"x"===t.dim?0:1}var pO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Nc),dO=Lr(),fO=P;function gO(t,e,n){if(!a.node){var i=e.getZr();dO(i).records||(dO(i).records={}),function(t,e){if(dO(t).initialized)return;function n(n,i){t.on(n,(function(n){var r=function(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}(e);fO(dO(t).records,(function(t){t&&i(t,n,r.dispatchAction)})),function(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,e)}))}dO(t).initialized=!0,n("click",V(vO,"click")),n("mousemove",V(vO,"mousemove")),n("globalout",yO)}(i,e),(dO(i).records[t]||(dO(i).records[t]={})).handler=n}}function yO(t,e,n){t.handler("leave",null,n)}function vO(t,e,n,i){e.handler(t,n,i)}function mO(t,e){if(!a.node){var n=e.getZr();(dO(n).records||{})[t]&&(dO(n).records[t]=null)}}var _O=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=e.getComponent("tooltip"),r=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";gO("axisPointer",n,(function(t,e,n){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){mO("axisPointer",e)},e.prototype.dispose=function(t,e){mO("axisPointer",e)},e.type="axisPointer",e}(pf);function xO(t,e){var n,i=[],r=t.seriesIndex;if(null==r||!(n=e.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=Dr(o,t);if(null==a||a<0||F(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,c=u.dim,p="x"===h||"radius"===h?1:0,d=o.mapDimension(c),f=[];f[p]=o.get(d,a),f[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=l.dataToPoint(f)||[]}else i=l.dataToPoint(o.getValues(O(l.dimensions,(function(t){return o.mapDimension(t)})),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),i=[g.x+g.width/2,g.y+g.height/2]}return{point:i,el:s}}var bO=Lr();function wO(t,e,n){var i=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||B(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){CO(r)&&(r=xO({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=CO(r),u=o.axesInfo,h=s.axesInfo,c="leave"===i||CO(r),p={},d={},f={list:[],map:{}},g={showPointer:V(MO,d),showTooltip:V(IO,f)};P(s.coordSysMap,(function(t,e){var n=l||t.containPoint(r);P(s.coordSysAxesInfo[e],(function(t,e){var i=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);if(!c&&n&&(!u||o)){var a=o&&o.value;null!=a||l||(a=i.pointToData(r)),null!=a&&SO(t,a,g,!1,p)}}))}));var y={};return P(h,(function(t,e){var n=t.linkGroup;n&&!d[e]&&P(n.axesInfo,(function(e,i){var r=d[i];if(e!==t&&r){var o=r.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,TO(e),TO(t)))),y[t.key]=o}}))})),P(y,(function(t,e){SO(h[e],t,g,!0,p)})),function(t,e,n){var i=n.axesInfo=[];P(e,(function(e,n){var r=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}(d,h,p),function(t,e,n,i){if(CO(e)||!t.list.length)return void i({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(f,r,t,a),function(t,e,n){var i=n.getZr(),r="axisPointerLastHighlights",o=bO(i)[r]||{},a=bO(i)[r]={};P(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&P(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var s=[],l=[];P(o,(function(t,e){!a[e]&&l.push(t)})),P(a,(function(t,e){!o[e]&&s.push(t)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(h,0,n),p}}function SO(t,e,n,i,r){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,i=n.dim,r=t,o=[],a=Number.MAX_VALUE,s=-1;return P(e.seriesModels,(function(e,l){var u,h,c=e.getData().mapDimensionsAll(i);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(c,t,n);h=p.dataIndices,u=p.nestestValue}else{if(!(h=e.getData().indicesOfNearest(c[0],t,"category"===n.type?.5:null)).length)return;u=e.getData().get(c[0],h[0])}if(null!=u&&isFinite(u)){var d=t-u,f=Math.abs(d);f<=a&&((f<a||d>=0&&s<0)&&(a=f,s=d,r=u,o.length=0),P(h,(function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:o,snapToValue:r}}(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&I(r,s[0]),!i&&t.snap&&o.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}else n.showPointer(t,e)}function MO(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function IO(t,e,n,i){var r=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,u=bS(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function TO(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function CO(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function AO(t){SS.registerAxisPointerClass("CartesianAxisPointer",lO),t.registerComponentModel(pO),t.registerComponentView(_O),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!F(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=yS(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},wO)}var DO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),l=o.dataToCoord(e),u=i.get("type");if(u&&"none"!==u){var h=tO(i),c=LO[u](o,a,l,s);c.style=h,t.graphicKey=c.type,t.pointer=c}var p=function(t,e,n,i,r){var o=e.axis,a=o.dataToCoord(t),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,h,c=i.getRadiusAxis().getExtent();if("radius"===o.dim){var p=[1,0,0,1,0,0];_e(p,p,s),me(p,p,[i.cx,i.cy]),l=Fu([a,-r],p);var d=e.getModel("axisLabel").get("rotate")||0,f=hS.innerTextLayout(s,d*Math.PI/180,-1);u=f.textAlign,h=f.textVerticalAlign}else{var g=c[1];l=i.coordToPoint([g+r,a]);var y=i.cx,v=i.cy;u=Math.abs(l[0]-y)/g<.3?"center":l[0]>y?"left":"right",h=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:h}}(e,n,0,a,i.get(["label","margin"]));eO(t,n,i,r,p)},e}(jP);var LO={line:function(t,e,n,i){return"angle"===t.dim?{type:"Line",shape:oO(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i){var r=Math.max(1,t.getBandWidth()),o=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:sO(e.cx,e.cy,i[0],i[1],(-n-r/2)*o,(r/2-n)*o)}:{type:"Sector",shape:sO(e.cx,e.cy,n-r/2,n+r/2,0,2*Math.PI)}}},kO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},e}(Nc),PO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Or).models[0]},e.type="polarAxis",e}(Nc);L(PO,j_);var OO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="angleAxis",e}(PO),RO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="radiusAxis",e}(PO),NO=function(t){function e(e,n){return t.call(this,"radius",e,n)||this}return n(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(vx);NO.prototype.dataToRadius=vx.prototype.dataToCoord,NO.prototype.radiusToData=vx.prototype.coordToData;var EO=Lr(),zO=function(t){function e(e,n){return t.call(this,"angle",e,n||[0,360])||this}return n(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),n=t.scale,i=n.getExtent(),r=n.count();if(i[1]-i[0]<1)return 0;var o=i[0],a=t.dataToCoord(o+1)-t.dataToCoord(o),s=Math.abs(a),l=Fn(null==o?"":o+"",e.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var h=Math.max(0,Math.floor(u)),c=EO(t.model),p=c.lastAutoInterval,d=c.lastTickCount;return null!=p&&null!=d&&Math.abs(p-h)<=1&&Math.abs(d-r)<=1&&p>h?h=p:(c.lastTickCount=r,c.lastAutoInterval=h),h},e}(vx);zO.prototype.dataToAngle=vx.prototype.dataToCoord,zO.prototype.angleToData=vx.prototype.coordToData;var BO=function(){function t(t){this.dimensions=["radius","angle"],this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new NO,this._angleAxis=new zO,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,u=l<o?1:-1;l<o||l>a;)l+=360*u;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,r=n*n+i*i,o=this.r,a=this.r0;return r<=o*o&&r>=a*a}}},t.prototype.convertToPixel=function(t,e,n){return VO(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return VO(e)===this?this.pointToData(n):null},t}();function VO(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}function FO(t,e){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var e=t.getData();P(Z_(e,"radius"),(function(t){r.scale.unionExtentFromData(e,t)})),P(Z_(e,"angle"),(function(t){i.scale.unionExtentFromData(e,t)}))}})),F_(i.scale,i.model),F_(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function GO(t,e){if(t.type=e.get("type"),t.scale=G_(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),function(t){return"angleAxis"===t.mainType}(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var HO={dimensions:BO.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,i){var r=new BO(i+"");r.update=FO;var o=r.getRadiusAxis(),a=r.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");GO(o,s),GO(a,l),function(t,e,n){var i=e.get("center"),r=n.getWidth(),o=n.getHeight();t.cx=Zi(i[0],r),t.cy=Zi(i[1],o);var a=t.getRadiusAxis(),s=Math.min(r,o)/2,l=e.get("radius");null==l?l=[0,"100%"]:F(l)||(l=[0,l]);var u=[Zi(l[0],s),Zi(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}(r,t,e),n.push(r),t.coordinateSystem=r,r.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",Or).models[0];0,t.coordinateSystem=e.coordinateSystem}})),n}},WO=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function YO(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function XO(t){return t.getRadiusAxis().inverse?0:1}function UO(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var ZO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return n(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=O(n.getViewLabels(),(function(t){t=w(t);var e=n.scale,i="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(i),t}));UO(s),UO(o),P(WO,(function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||jO[e](this.group,t,i,o,a,r,s)}),this)}},e.type="angleAxis",e}(SS),jO={axisLine:function(t,e,n,i,r,o){var a,s=e.getModel(["axisLine","lineStyle"]),l=XO(n),u=l?0:1;(a=0===o[u]?new Tl({shape:{cx:n.cx,cy:n.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new Xl({shape:{cx:n.cx,cy:n.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(a)},axisTick:function(t,e,n,i,r,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[XO(n)],u=O(i,(function(t){return new tu({shape:YO(n,[l,l+s],t.coord)})}));t.add(Du(u,{style:T(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[XO(n)],h=[],c=0;c<r.length;c++)for(var p=0;p<r[c].length;p++)h.push(new tu({shape:YO(n,[u,u+l],r[c][p].coord)}));t.add(Du(h,{style:T(s.getModel("lineStyle").getLineStyle(),T(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,i,r,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),h=e.get("triggerEvent");P(a,(function(i,r){var a=l,c=i.tickValue,p=o[XO(n)],d=n.coordToPoint([p+u,i.coord]),f=n.cx,g=n.cy,y=Math.abs(d[0]-f)/p<.3?"center":d[0]>f?"left":"right",v=Math.abs(d[1]-g)/p<.3?"middle":d[1]>g?"top":"bottom";if(s&&s[c]){var m=s[c];X(m)&&m.textStyle&&(a=new Sh(m.textStyle,l,l.ecModel))}var _=new ls({silent:hS.isLabelSilent(e),style:nh(a,{x:d[0],y:d[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:y,verticalAlign:v})});if(t.add(_),h){var x=hS.makeAxisEventDataBase(e);x.targetType="axisLabel",x.value=i.rawLabel,ys(_).eventData=x}}),this)},splitLine:function(t,e,n,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<i.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new tu({shape:YO(n,o,i[h].coord)}))}for(h=0;h<u.length;h++)t.add(Du(u[h],{style:T({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new tu({shape:YO(n,o,r[l][u].coord)}));t.add(Du(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,i,r,o){if(i.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=Math.PI/180,c=-i[0].coord*h,p=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),f=e.get("clockwise"),g=1,y=i.length;g<=y;g++){var v=g===y?i[0].coord:i[g].coord,m=l++%s.length;u[m]=u[m]||[],u[m].push(new Wl({shape:{cx:n.cx,cy:n.cy,r0:p,r:d,startAngle:c,endAngle:-v*h,clockwise:f},silent:!0})),c=-v*h}for(g=0;g<u.length;g++)t.add(Du(u[g],{style:T({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},qO=["axisLine","axisTickLabel","axisName"],KO=["splitLine","splitArea","minorSplitLine"],$O=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return n(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=this._axisGroup,i=this._axisGroup=new zi;this.group.add(i);var r=t.axis,o=r.polar,a=o.getAngleAxis(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=a.getExtent()[0],h=r.getExtent(),c=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(o,t,u),p=new hS(t,c);P(qO,p.add,p),i.add(p.getGroup()),Wu(n,i,t),P(KO,(function(e){t.get([e,"show"])&&!r.scale.isBlank()&&JO[e](this.group,t,o,u,h,s,l)}),this)}},e.type="radiusAxis",e}(SS),JO={splitLine:function(t,e,n,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<o.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new Tl({shape:{cx:n.cx,cy:n.cy,r:o[h].coord}}))}for(h=0;h<u.length;h++)t.add(Du(u[h],{style:T({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,i,r,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)l.push(new Tl({shape:{cx:n.cx,cy:n.cy,r:a[u][h].coord}}));t.add(Du(l,{style:T({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,i,r,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c<o.length;c++){var p=l++%s.length;u[p]=u[p]||[],u[p].push(new Wl({shape:{cx:n.cx,cy:n.cy,r0:h,r:o[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[c].coord}for(c=0;c<u.length;c++)t.add(Du(u[c],{style:T({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}}};function QO(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function tR(t,e){return e.dim+t.model.componentIndex}function eR(t,e,n){var i={},r=function(t){var e={};P(t,(function(t,n){var i=t.getData(),r=t.coordinateSystem,o=r.getBaseAxis(),a=tR(r,o),s=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/i.count(),u=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=u.stacks;e[a]=u;var c=QO(t);h[c]||u.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var p=Zi(t.get("barWidth"),l),d=Zi(t.get("barMaxWidth"),l),f=t.get("barGap"),g=t.get("barCategoryGap");p&&!h[c].width&&(p=Math.min(u.remainedWidth,p),h[c].width=p,u.remainedWidth-=p),d&&(h[c].maxWidth=d),null!=f&&(u.gap=f),null!=g&&(u.categoryGap=g)}));var n={};return P(e,(function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=Zi(t.categoryGap,r),a=Zi(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-o)/(l+(l-1)*a);u=Math.max(u,0),P(i,(function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)})),u=(s-o)/(l+(l-1)*a),u=Math.max(u,0);var h,c=0;P(i,(function(t,e){t.width||(t.width=u),h=t,c+=t.width*(1+a)})),h&&(c-=h.width*a);var p=-c/2;P(i,(function(t,i){n[e][i]=n[e][i]||{offset:p,width:t.width},p+=t.width*(1+a)}))})),n}(N(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=tR(n,o),s=QO(t),l=r[a][s],u=l.offset,h=l.width,c=n.getOtherAxis(o),p=t.coordinateSystem.cx,d=t.coordinateSystem.cy,f=t.get("barMinHeight")||0,g=t.get("barMinAngle")||0;i[s]=i[s]||[];for(var y=e.mapDimension(c.dim),v=e.mapDimension(o.dim),m=Fm(e,y),_="radius"!==o.dim||!t.get("roundCap",!0),x=c.dataToCoord(0),b=0,w=e.count();b<w;b++){var S=e.get(y,b),M=e.get(v,b),I=S>=0?"p":"n",T=x;m&&(i[s][M]||(i[s][M]={p:x,n:x}),T=i[s][M][I]);var C=void 0,A=void 0,D=void 0,L=void 0;if("radius"===c.dim){var k=c.dataToCoord(S)-x,P=o.dataToCoord(M);Math.abs(k)<f&&(k=(k<0?-1:1)*f),C=T,A=T+k,L=(D=P-u)-h,m&&(i[s][M][I]=A)}else{var O=c.dataToCoord(S,_)-x,R=o.dataToCoord(M);Math.abs(O)<g&&(O=(O<0?-1:1)*g),A=(C=R+u)+h,D=T,L=T+O,m&&(i[s][M][I]=L)}e.setItemLayout(b,{cx:p,cy:d,r0:C,r:A,startAngle:-D*Math.PI/180,endAngle:-L*Math.PI/180})}}}))}var nR={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},iR={splitNumber:5},rR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="polar",e}(pf);var oR=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;o.dimensions=["lng","lat"],o.type="geo",o.map=n;var a=OM(n,i);return o._nameCoordMap=a.nameCoordMap,o._regionsMap=a.regionsMap,o._invertLongitute=null==r||r,o.regions=a.regions,o._rect=a.boundingRect,o}return n(e,t),e.prototype.containCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},e.prototype.transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var a=this._rawTransformable;a.transform=r.calculateTransform(new Rn(t,e,n,i)),a.decomposeTransform(),o&&(a.scaleY=-a.scaleY),a.updateTransform(),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){return this._nameCoordMap.get(t)},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.dataToPoint=function(t,e,n){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return QM.prototype.dataToPoint.call(this,t,e,n)},e.prototype.convertToPixel=function(t,e,n){var i=aR(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=aR(e);return i===this?i.pointToData(n):null},e}(QM);function aR(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Or).models[0]||{}).coordinateSystem:null}function sR(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,a,s,l=this.getBoundingRect(),u=t.get("layoutCenter"),h=t.get("layoutSize"),c=e.getWidth(),p=e.getHeight(),d=l.width/l.height*this.aspectScale,f=!1;if(u&&h&&(o=[Zi(u[0],c),Zi(u[1],p)],a=Zi(h,Math.min(c,p)),isNaN(o[0])||isNaN(o[1])||isNaN(a)||(f=!0)),f)s={},d>1?(s.width=a,s.height=a/d):(s.height=a,s.width=a*d),s.y=o[1]-s.height/2,s.x=o[0]-s.width/2;else{var g=t.getBoxLayoutParams();g.aspect=d,s=Ac(g,{width:c,height:p})}this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}L(oR,QM);var lR=new(function(){function t(){this.dimensions=oR.prototype.dimensions}return t.prototype.create=function(t,e){var n=[];t.eachComponent("geo",(function(t,i){var r=t.get("map"),o=t.get("aspectScale"),a=!0,s=lg(r);s&&s[0]&&"svg"===s[0].type?(null==o&&(o=1),a=!1):null==o&&(o=.75);var l=new oR(r+i,r,t.get("nameMap"),a);l.aspectScale=o,l.zoomLimit=t.get("scaleLimit"),n.push(l),t.coordinateSystem=l,l.model=t,l.resize=sR,l.resize(t,e)})),t.eachSeries((function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}}));var i={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();i[e]=i[e]||[],i[e].push(t)}})),P(i,(function(t,i){var r=O(t,(function(t){return t.get("nameMap")})),o=new oR(i,i,M(r));o.zoomLimit=Q.apply(null,O(t,(function(t){return t.get("scaleLimit")}))),n.push(o),o.resize=sR,o.aspectScale=t[0].get("aspectScale"),o.resize(t[0],e),P(t,(function(t){t.coordinateSystem=o,function(t,e){P(e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}(o,t)}))})),n},t.prototype.getFilledRegions=function(t,e,n){for(var i=(t||[]).slice(),r=ht(),o=0;o<i.length;o++)r.set(i[o].name,i[o]);return P(OM(e,n).regions,(function(t){var e=t.name;!r.get(e)&&i.push({name:e})})),i},t}()),uR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(e,n,i){t.prototype.init.call(this,e,n,i),xr(e,"label",["show"])},e.prototype.optionUpdated=function(){var t=this.option,e=this;t.regions=lR.getFilledRegions(t.regions,t.map,t.nameMap);var n={};this._optionModelMap=R(t.regions||[],(function(t,i){var r=i.name;return r&&(t.set(r,new Sh(i,e)),i.selected&&(n[r]=!0)),t}),ht()),t.selectedMap||(t.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Sh(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),i="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),r={name:t};return"function"==typeof i?(r.status=e,i(r)):"string"==typeof i?i.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;n&&("multiple"!==n&&(e.selectedMap=null),(e.selectedMap||(e.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.prototype._initSelectedMapFromData=function(){},e.type="geo",e.layoutMode="box",e.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Nc),hR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){var n=new BM(e);this._mapDraw=n,this.group.add(n.group),this._api=e},e.prototype.render=function(t,e,n,i){var r=this._mapDraw;t.get("show")?r.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),r.group.on("click",this._handleRegionClick,this),r.group.silent=t.get("silent"),this._model=t,this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){for(var e,n=t.target;n&&null==(e=ys(n).eventData);)n=n.__hostTarget||n.parent;e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var i=this;this._mapDraw.group.traverse((function(t){var e=ys(t).eventData;if(e)return i._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(pf);function cR(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,r={},o=i.position,a=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Q(e.labelInside,t.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=e.rotate;return null==h&&(h=t.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var pR=["axisLine","axisTickLabel","axisName"],dR=["splitArea","splitLine"],fR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return n(e,t),e.prototype.render=function(e,n,i,r){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new zi;var s=cR(e),l=new hS(e,s);P(pR,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),P(dR,(function(t){e.get([t,"show"])&&gR[t](this,this.group,this._axisGroup,e)}),this),Wu(a,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)},e.prototype.remove=function(){TS(this)},e.type="singleAxis",e}(SS),gR={splitLine:function(t,e,n,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=[],c=0,p=r.getTicksCoords({tickModel:o}),d=[],f=[],g=0;g<p.length;++g){var y=r.toGlobalCoord(p[g].coord);u?(d[0]=y,d[1]=l.y,f[0]=y,f[1]=l.y+l.height):(d[0]=l.x,d[1]=y,f[0]=l.x+l.width,f[1]=y);var v=c++%s.length;h[v]=h[v]||[],h[v].push(new tu({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},silent:!0}))}var m=a.getLineStyle(["color"]);for(g=0;g<h.length;++g)e.add(Du(h[g],{style:T({stroke:s[g%s.length]},m),silent:!0}))}},splitArea:function(t,e,n,i){IS(t,n,i,i)}},yR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Nc);L(yR,j_.prototype);var vR=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||"value",a.position=o||"bottom",a}return n(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(vx),mR=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=["single"],this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=this.dimension,r=new vR(i,G_(t),[0,0],t.get("type"),t.get("position")),o="category"===r.type;r.onBand=o&&t.get("boundaryGap"),r.inverse=t.get("inverse"),r.orient=t.get("orient"),t.axis=r,r.model=t,r.coordinateSystem=this,this._axis=r},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();P(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),F_(this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=Ac({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i},t.prototype.convertToPixel=function(t,e,n){return _R(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return _R(e)===this?this.pointToData(n):null},t}();function _R(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var xR={create:function(t,e){var n=[];return t.eachComponent("singleAxis",(function(i,r){var o=new mR(i,t,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,n.push(o)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",Or).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),n},dimensions:mR.prototype.dimensions},bR=["x","y"],wR=["width","height"],SR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.coordinateSystem,s=TR(a,1-IR(o)),l=a.dataToPoint(e)[0],u=i.get("type");if(u&&"none"!==u){var h=tO(i),c=MR[u](o,l,s);c.style=h,t.graphicKey=c.type,t.pointer=c}rO(e,t,cR(n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=cR(e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=iO(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.coordinateSystem,a=IR(r),s=TR(o,a),l=[t.x,t.y];l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=TR(o,1-a),h=(u[1]+u[0])/2,c=[h,h];return c[a]=l[a],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}},e}(jP),MR={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:oO([e,n[0]],[e,n[1]],IR(t))}},shadow:function(t,e,n){var i=t.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:aO([e-i/2,n[0]],[i,r],IR(t))}}};function IR(t){return t.isHorizontal()?0:1}function TR(t,e){var n=t.getRect();return[n[bR[e]],n[bR[e]]+n[wR[e]]]}var CR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="single",e}(pf);var AR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(e,n,i){var r=Pc(e);t.prototype.init.apply(this,arguments),DR(e,r)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),DR(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Nc);function DR(t,e){var n,i=t.cellSize;1===(n=F(i)?i:t.cellSize=[i,i]).length&&(n[1]=n[0]);var r=O([0,1],(function(t){return function(t,e){return null!=t[Ic[e][0]]||null!=t[Ic[e][1]]&&null!=t[Ic[e][2]]}(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));kc(t,e,{type:"box",ignoreSize:r})}var LR={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},kR={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},PR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient();this._renderDayRect(t,o,i),this._renderLines(t,o,a,i),this._renderYearText(t,o,a,i),this._renderMonthText(t,a,i),this._renderWeekText(t,o,a,i)},e.prototype._renderDayRect=function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new os({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:r});n.add(u)}},e.prototype._renderLines=function(t,e,n,i){var r=this,o=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,h=0;u.time<=e.end.time;h++){p(u.formatedDate),0===h&&(u=o.getDateInfo(e.start.y+"-"+e.start.m));var c=u.date;c.setMonth(c.getMonth()+1),u=o.getDateInfo(c)}function p(e){r._firstDayOfMonth.push(o.getDateInfo(e)),r._firstDayPoints.push(o.dataToRect([e],!1).tl);var l=r._getLinePointsOfOneWeek(t,e,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,a,i)}p(o.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},e.prototype._getEdgesPoints=function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},e.prototype._drawSplitline=function(t,e,n){var i=new $l({z2:20,shape:{points:t},style:e});n.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var i=t.coordinateSystem,r=i.getDateInfo(e),o=[],a=0;a<7;a++){var s=i.getNextNDay(r.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,e){return"string"==typeof t&&t?(n=t,P(e,(function(t,e){n=n.replace("{"+e+"}",i?gc(t):t)})),n):"function"==typeof t?t(e):e.nameMap;var n,i},e.prototype._yearTextPositionControl=function(t,e,n,i,r){var o=e[0],a=e[1],s=["center","bottom"];"bottom"===i?(a+=r,s=["center","top"]):"left"===i?o-=r:"right"===i?(o+=r,s=["center","top"]):a-=r;var l=0;return"left"!==i&&"right"!==i||(l=Math.PI/2),{rotation:l,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,i){var r=t.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),a=r.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,h="horizontal"===n?0:1,c={top:[l,s[h][1]],bottom:[l,s[1-h][1]],left:[s[1-h][0],u],right:[s[h][0],u]},p=e.start.y;+e.end.y>+e.start.y&&(p=p+"-"+e.end.y);var d=r.get("formatter"),f={start:e.start.y,end:e.end.y,nameMap:p},g=this._formatterLabel(d,f),y=new ls({z2:30,style:nh(r,{text:g})});y.attr(this._yearTextPositionControl(y,c[a],n,a,o)),i.add(y)}},e.prototype._monthTextPositionControl=function(t,e,n,i,r){var o="left",a="top",s=t[0],l=t[1];return"horizontal"===n?(l+=r,e&&(o="center"),"start"===i&&(a="bottom")):(s+=r,e&&(a="middle"),"start"===i&&(o="right")),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,n){var i=t.getModel("monthLabel");if(i.get("show")){var r=i.get("nameMap"),o=i.get("margin"),a=i.get("position"),s=i.get("align"),l=[this._tlpoints,this._blpoints];H(r)&&(r=LR[r.toUpperCase()]||[]);var u="start"===a?0:1,h="horizontal"===e?0:1;o="start"===a?-o:o;for(var c="center"===s,p=0;p<l[u].length-1;p++){var d=l[u][p].slice(),f=this._firstDayOfMonth[p];if(c){var g=this._firstDayPoints[p];d[h]=(g[h]+l[0][p+1][h])/2}var y=i.get("formatter"),v=r[+f.m-1],m={yyyy:f.y,yy:(f.y+"").slice(2),MM:f.m,M:+f.m,nameMap:v},_=this._formatterLabel(y,m),x=new ls({z2:30,style:I(nh(i,{text:_}),this._monthTextPositionControl(d,c,e,a,o))});n.add(x)}}},e.prototype._weekTextPositionControl=function(t,e,n,i,r){var o="center",a="middle",s=t[0],l=t[1],u="start"===n;return"horizontal"===e?(s=s+i+(u?1:-1)*r[0]/2,o=u?"right":"left"):(l=l+i+(u?1:-1)*r[1]/2,a=u?"bottom":"top"),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,n,i){var r=t.getModel("dayLabel");if(r.get("show")){var o=t.coordinateSystem,a=r.get("position"),s=r.get("nameMap"),l=r.get("margin"),u=o.getFirstDayOfWeek();H(s)&&(s=kR[s.toUpperCase()]||[]);var h=o.getNextNDay(e.end.time,7-e.lweek).time,c=[o.getCellWidth(),o.getCellHeight()];l=Zi(l,c["horizontal"===n?0:1]),"start"===a&&(h=o.getNextNDay(e.start.time,-(7+e.fweek)).time,l=-l);for(var p=0;p<7;p++){var d,f=o.getNextNDay(h,p),g=o.dataToRect([f.time],!1).center;d=Math.abs((p+u)%7);var y=new ls({z2:30,style:I(nh(r,{text:s[d]}),this._weekTextPositionControl(g,n,a,l,c))});i.add(y)}}},e.type="calendar",e}(pf),OR=864e5,RR=function(){function t(e,n,i){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=rr(t)).getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,r=t.getDate(),o=r<10?"0"+r:""+r,a=t.getDay();return{y:e+"",m:i,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];P([0,1],(function(t){u(r,t)&&(o[i[t]]=r[t]*a[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=Ac(o,s);function u(t,e){return null!=t[e]&&"auto"!==t[e]}P([0,1],(function(t){u(r,t)||(r[t]=l[i[t]]/a[t])})),this._sw=r[0],this._sh=r[1]},t.prototype.dataToPoint=function(t,e){F(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,r=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+OR))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([i.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},t.prototype.convertToPixel=function(t,e,n){var i=NR(e);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=NR(e);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(F(e)&&1===e.length&&(e=e[0]),F(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),r=i.date;r.setMonth(r.getMonth()+1);var o=this.getNextNDay(r,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var i=Math.floor(n[1].time/OR)-Math.floor(n[0].time/OR)+1,r=new Date(n[0].time),o=r.getDate(),a=n[1].date.getDate();r.setDate(o+i-1);var s=r.getDate();if(s!==a)for(var l=r.getTime()-n[1].time>0?1:-1;(s=r.getDate())!==a&&(r.getTime()-n[1].time)*l>0;)i-=l,r.setDate(s-l);var u=Math.floor((i+n[0].day+6)/7),h=e?1-u:u-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:u,nthWeek:h,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var r=7*(t-1)-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+r),this.getDateInfo(o)},t.create=function(e,n){var i=[];return e.eachComponent("calendar",(function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])})),i},t.dimensions=["time","value"],t}();function NR(t){var e=t.calendarModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem:null}var ER=Lr(),zR={path:null,compoundPath:null,group:zi,image:Ja,text:ls},BR=function(t){var e=t.graphic;F(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])},VR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,o=[];this._flatten(i,o,null);var a=Sr(r,o,"normalMerge"),s=this._elOptionsToUpdate=[];P(a,(function(t,e){var n=t.newOption;n&&(s.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var i=I({},n),r=t[e],o=n.$action||"merge";if("merge"===o){if(r)S(r,i,!0),kc(r,i,{ignoreSize:!0}),Oc(n,r);else t[e]=i}else"replace"===o?t[e]=i:"remove"===o&&r&&(t[e]=null)}(r,e,n),function(t,e){if(!t)return;if(t.hv=e.hv=[WR(e,["left","right"]),WR(e,["top","bottom"])],"group"===t.type){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(r[e],n))}),this);for(var l=r.length-1;l>=0;l--)null==r[l]?r.splice(l,1):delete r[l].$action},e.prototype._flatten=function(t,e,n){P(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Nc),FR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){this._elMap=ht()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group;P(e,(function(e){var r=Tr(e.id,null),o=null!=r?n.get(r):null,a=Tr(e.parentId,null),s=null!=a?n.get(a):i,l=e.type,u=e.style;"text"===l&&u&&e.hv&&e.hv[1]&&(u.textVerticalAlign=u.textBaseline=u.verticalAlign=u.align=null);var h=e.textContent,c=e.textConfig;if(u&&yk(u,l,!!c,!!h)){var p=vk(u,l,!0);!c&&p.textConfig&&(c=e.textConfig=p.textConfig),!h&&p.textContent&&(h=p.textContent)}var d=function(t){return t=I({},t),P(["id","parentId","$action","hv","bounding","textContent"].concat(Mc),(function(e){delete t[e]})),t}(e);var f=e.$action||"merge";"merge"===f?o?o.attr(d):GR(r,s,d,n):"replace"===f?(HR(o,n),GR(r,s,d,n)):"remove"===f&&HR(o,n);var g=n.get(r);if(g&&h)if("merge"===f){var y=g.getTextContent();y?y.attr(h):g.setTextContent(new ls(h))}else"replace"===f&&g.setTextContent(new ls(h));if(g){var v=ER(g);v.__ecGraphicWidthOption=e.width,v.__ecGraphicHeightOption=e.height,function(t,e,n){var i=ys(t).eventData;t.silent||t.ignore||i||(i=ys(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});i&&(i.info=n.info)}(g,t,e)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,o=e.getWidth(),a=e.getHeight(),s=0;s<n.length;s++){if((d=null!=(p=Tr((c=n[s]).id,null))?r.get(p):null)&&d.isGroup){var l=(f=d.parent)===i,u=ER(d),h=ER(f);u.__ecGraphicWidth=Zi(u.__ecGraphicWidthOption,l?o:h.__ecGraphicWidth)||0,u.__ecGraphicHeight=Zi(u.__ecGraphicHeightOption,l?a:h.__ecGraphicHeight)||0}}for(s=n.length-1;s>=0;s--){var c,p,d;if(d=null!=(p=Tr((c=n[s]).id,null))?r.get(p):null){var f=d.parent;h=ER(f);Dc(d,c,f===i?{width:o,height:a}:{width:h.__ecGraphicWidth,height:h.__ecGraphicHeight},null,{hv:c.hv,boundingMode:c.bounding})}}},e.prototype._clear=function(){var t=this._elMap;t.each((function(e){HR(e,t)})),this._elMap=ht()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(pf);function GR(t,e,n,i){var r=n.type;var o=dt(zR,r)?zR[r]:Iu(r);var a=new o(n);e.add(a),i.set(t,a),ER(a).__ecGraphicId=t}function HR(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse((function(t){HR(t,e)})),e.removeKey(ER(t).__ecGraphicId),n.remove(t))}function WR(t,e){var n;return P(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}var YR=["x","y","radius","angle","single"],XR=["cartesian2d","polar","singleAxis"];function UR(t){return t+"Axis"}function ZR(t,e){var n,i=ht(),r=[],o=ht();t.eachComponent({mainType:"dataZoom",query:e},(function(t){o.get(t.uid)||s(t)}));do{n=!1,t.eachComponent("dataZoom",a)}while(n);function a(t){!o.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis((function(t,n){var r=i.get(t);r&&r[n]&&(e=!0)})),e}(t)&&(s(t),n=!0)}function s(t){o.set(t.uid,!0),r.push(t),t.eachTargetAxis((function(t,e){(i.get(t)||i.set(t,[]))[e]=!0}))}return r}function jR(t){var e=t.ecModel,n={infoList:[],infoMap:ht()};return t.eachTargetAxis((function(t,i){var r=e.getComponent(UR(t),i);if(r){var o=r.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(r)}}})),n}var qR=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),KR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return n(e,t),e.prototype.init=function(t,e,n){var i=$R(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},e.prototype.mergeOption=function(t){var e=$R(t);S(this.option,t,!0),S(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;P([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=ht();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return P(YR,(function(n){var i=this.getReferringComponents(UR(n),Rr);if(i.specified){e=!0;var r=new qR;P(i.models,(function(t){r.add(t.componentIndex)})),t.set(n,r)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,i=!0;if(i){var r="vertical"===e?"y":"x";o(n.findComponents({mainType:r+"Axis"}),r)}i&&o(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function o(e,n){var r=e[0];if(r){var o=new qR;if(o.add(r.componentIndex),t.set(n,o),i=!1,"x"===n||"y"===n){var a=r.getReferringComponents("grid",Or).models[0];a&&P(e,(function(t){r.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",Or).models[0]&&o.add(t.componentIndex)}))}}}i&&P(YR,(function(e){if(i){var r=n.findComponents({mainType:UR(e),filter:function(t){return"category"===t.get("type",!0)}});if(r[0]){var o=new qR;o.add(r[0].componentIndex),t.set(e,o),i=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");P([["start","startValue"],["end","endValue"]],(function(i,r){var o=null!=t[i[0]],a=null!=t[i[1]];o&&!a?e[r]="percent":!o&&a?e[r]="value":n?e[r]=n[r]:o&&(e[r]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(UR(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,i){P(n.indexList,(function(n){t.call(e,i,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(UR(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;P([["start","startValue"],["end","endValue"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;P(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var r=n[i],o=this._targetAxisInfoMap.get(r),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(r,o.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},e}(Nc);function $R(t){var e={};return P(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var JR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="dataZoom.select",e}(KR),QR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(pf),tN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="dataZoom.select",e}(QR),eN=P,nN=qi,iN=function(){function t(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(function(t){var e=t.get("coordinateSystem");return A(XR,e)>=0}(e)){var n=UR(this._dimName),i=e.getReferringComponents(n,Or).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return w(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];eN(["start","end"],(function(l,u){var h=t[l],c=t[l+"Value"];"percent"===r[u]?(null==h&&(h=o[u]),c=i.parse(Ui(h,o,n))):(e=!0,h=Ui(c=null==c?n[u]:i.parse(c),n,o)),s[u]=c,a[u]=h})),nN(s),nN(a);var l=this._minMaxSpan;function u(t,e,n,r,o){var a=o?"Span":"ValueSpan";tA(0,t,n,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)e[s]=Ui(t[s],n,r,!0),o&&(e[s]=i.parse(e[s]))}return e?u(s,a,n,o,!1):u(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var i=[1/0,-1/0];eN(n,(function(t){!function(t,e,n){e&&P(Z_(e,n),(function(n){var i=e.getApproximateExtent(n);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])}))}(i,t.getData(),e)}));var r=t.getAxisModel(),o=z_(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),o=this._valueWindow;"none"!==r&&eN(i,(function(t){var e=t.getData(),i=e.mapDimensionsAll(n);i.length&&("weakFilter"===r?e.filterSelf((function(t){for(var n,r,a,s=0;s<i.length;s++){var l=e.get(i[s],t),u=!isNaN(l),h=l<o[0],c=l>o[1];if(u&&!h&&!c)return!0;u&&(a=!0),h&&(n=!0),c&&(r=!0)}return a&&n&&r})):eN(i,(function(n){if("empty"===r)t.setData(e=e.map(n,(function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN})));else{var i={};i[n]=o,e.selectRange(i)}})),eN(i,(function(t){e.setApproximateExtent(o,t)})))}))}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;eN(["min","max"],(function(i){var r=e.get(i+"Span"),o=e.get(i+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?r=Ui(n[0]+o,n,[0,100],!0):null!=r&&(o=Ui(r,[0,100],n,!0)-n[0]),t[i+"Span"]=r,t[i+"ValueSpan"]=o}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=Ji(n,[0,500]);i=Math.min(i,20);var r=t.axis.scale.rawExtentInfo;0!==e[0]&&r.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==e[1]&&r.setDeterminedMinMax("max",+n[1].toFixed(i)),r.freeze()}},t}();var rN={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,r){var o=t.getComponent(UR(i),r);e(i,r,o,n)}))}))}e((function(t,e,n,i){n.__dzAxisProxy=null}));var n=[];e((function(e,i,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new iN(e,i,o,t),n.push(r.__dzAxisProxy))}));var i=ht();return P(n,(function(t){P(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))})),i},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,i){t.getAxisProxy(n,i).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}};var oN=!1;function aN(t){oN||(oN=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,rN),function(t){t.registerAction("dataZoom",(function(t,e){P(ZR(e,t),(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function sN(t){t.registerComponentModel(JR),t.registerComponentView(tN),aN(t)}var lN=function(){},uN={};function hN(t,e){uN[t]=e}function cN(t){return uN[t]}var pN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;P(this.option.feature,(function(t,n){var i=cN(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),S(t,i.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}},e}(Nc);function dN(t,e){var n=pc(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new os({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var fN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(t,e,n,i){var r=this.group;if(r.removeAll(),t.get("show")){var o=+t.get("itemSize"),a=t.get("feature")||{},s=this._features||(this._features={}),l=[];P(a,(function(t,e){l.push(e)})),new rm(this._featureNames||[],l).add(u).update(u).remove(V(u,null)).execute(),this._featureNames=l,function(t,e,n){var i=e.getBoxLayoutParams(),r=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=Ac(i,o,r);Cc(e.get("orient"),t,e.get("itemGap"),a.width,a.height),Dc(t,i,o,r)}(r,t,n),r.add(dN(r.getBoundingRect(),t)),r.eachChild((function(t){var e=t.__title,i=t.ensureState("emphasis"),a=i.textConfig||(i.textConfig={}),s=t.getTextContent(),l=s&&s.states.emphasis;if(l&&!G(l)&&e){var u=l.style||(l.style={}),h=Fn(e,ls.makeFont(u)),c=t.x+r.x,p=!1;t.y+r.y+o+h.height>n.getHeight()&&(a.position="top",p=!0);var d=p?-5-h.height:o+8;c+h.width/2>n.getWidth()?(a.position=["100%",d],u.align="right"):c-h.width/2<0&&(a.position=[0,d],u.align="left")}}))}function u(u,h){var c,p=l[u],d=l[h],f=a[p],g=new Sh(f,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===p&&(f.title=i.newTitle),p&&!d){if(function(t){return 0===t.indexOf("my")}(p))c={onclick:g.option.onclick,featureName:p};else{var y=cN(p);if(!y)return;c=new y}s[p]=c}else if(!(c=s[d]))return;if(c.uid=Ih("toolbox-feature"),c.model=g,c.ecModel=e,c.api=n,c instanceof lN){if(!p&&d)return void(c.dispose&&c.dispose(e,n));if(!g.get("show")||c.unusable)return void(c.remove&&c.remove(e,n))}!function(i,a,s){var l,u,h=i.getModel("iconStyle"),c=i.getModel(["emphasis","iconStyle"]),p=a instanceof lN&&a.getIcons?a.getIcons():i.get("icon"),d=i.get("title")||{};"string"==typeof p?(l={})[s]=p:l=p;"string"==typeof d?(u={})[s]=d:u=d;var f=i.iconPaths={};P(l,(function(s,l){var p=Uu(s,{},{x:-o/2,y:-o/2,width:o,height:o});p.setStyle(h.getItemStyle()),p.ensureState("emphasis").style=c.getItemStyle();var d=new ls({style:{text:u[l],align:c.get("textAlign"),borderRadius:c.get("textBorderRadius"),padding:c.get("textPadding"),fill:null},ignore:!0});p.setTextContent(d);var g=t.getModel("tooltip");g&&g.get("show")&&(p.tooltip=I({content:u[l],formatter:g.get("formatter",!0)||function(){return u[l]},formatterParams:{componentType:"toolbox",name:l,title:u[l],$vars:["name","title"]},position:g.get("position",!0)||"bottom"},g.option)),p.__title=u[l],p.on("mouseover",(function(){var e=c.getItemStyle(),n="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";d.setStyle({fill:c.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:c.get("textBackgroundColor")}),p.setTextConfig({position:c.get("textPosition")||n}),d.ignore=!t.get("showTitle"),Hs(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",l])&&Ws(this),d.hide()})),("emphasis"===i.get(["iconStatus",l])?Hs:Ws)(p),r.add(p),p.on("click",B(a.onclick,a,e,n,l)),f[l]=p}))}(g,c,p),g.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&("emphasis"===e?Hs:Ws)(i[t])},c instanceof lN&&c.render&&c.render(g,e,n,i)}},e.prototype.updateView=function(t,e,n,i){P(this._features,(function(t){t instanceof lN&&t.updateView&&t.updateView(t.model,e,n,i)}))},e.prototype.remove=function(t,e){P(this._features,(function(n){n instanceof lN&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){P(this._features,(function(n){n instanceof lN&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(pf);var gN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",r="svg"===e.getZr().painter.getType(),o=r?"svg":n.get("type",!0)||"png",s=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||!a.browser.newEdge&&(a.browser.ie||a.browser.edge))if(window.navigator.msSaveOrOpenBlob||r){var l=s.split(","),u=l[0].indexOf("base64")>-1,h=r?decodeURIComponent(l[1]):l[1];u&&(h=atob(h));var c=i+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var p=h.length,d=new Uint8Array(p);p--;)d[p]=h.charCodeAt(p);var f=new Blob([d]);window.navigator.msSaveOrOpenBlob(f,c)}else{var g=document.createElement("iframe");document.body.appendChild(g);var y=g.contentWindow,v=y.document;v.open("image/svg+xml","replace"),v.write(h),v.close(),y.focus(),v.execCommand("SaveAs",!0,c),document.body.removeChild(g)}}else{var m=n.get("lang"),_='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(m&&m[0]||"")+'" /></body>',x=window.open();x.document.write(_),x.document.title=i}else{var b=document.createElement("a");b.download=i+"."+o,b.target="_blank",b.href=s;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(w)}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:t.getLocale(["toolbox","saveAsImage","lang"])}},e}(lN);gN.prototype.unusable=!a.canvasSupported;var yN="__ec_magicType_stack__",vN=[["line","bar"],["stack"]],mN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return P(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var i=this.model,r=i.get(["seriesIndex",n]);if(_N[n]){var o,a={series:[]};P(vN,(function(t){A(t,n)>=0&&P(t,(function(t){i.setIconStatus(t,"normal")}))})),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},(function(t){var e=t.subType,r=t.id,o=_N[n](e,r,t,i);o&&(T(o,t.option),a.series.push(o));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",h=t.getReferringComponents(u,Or).models[0].componentIndex;a[u]=a[u]||[];for(var c=0;c<=h;c++)a[u][h]=a[u][h]||{};a[u][h].boundaryGap="bar"===n}}})),"stack"===n&&(o=S({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title)),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:a,newTitle:o,featureName:"magicType"})}},e}(lN),_N={line:function(t,e,n,i){if("bar"===t)return S({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,n,i){if("line"===t)return S({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,n,i){var r=n.get("stack")===yN;if("line"===t||"bar"===t)return i.setIconStatus("stack",r?"normal":"emphasis"),S({id:e,stack:r?"":yN},i.get(["option","stack"])||{},!0)}};Yv({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var xN=new Array(60).join("-"),bN="\t";function wN(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var SN=new RegExp("[\t]+","g");function MN(t,e){var n=t.split(new RegExp("\n*"+xN+"\n*","g")),i={series:[]};return P(n,(function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(bN)>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\n+/g),n=[],i=O(wN(e.shift()).split(SN),(function(t){return{name:t,data:[]}})),r=0;r<e.length;r++){var o=wN(e[r]).split(SN);n.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(t),o=e[n],a=o.axisDim+"Axis";o&&(i[a]=i[a]||[],i[a][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{r=function(t){for(var e=t.split(/\n+/g),n=wN(e.shift()),i=[],r=0;r<e.length;r++){var o=wN(e[r]);if(o){var a=o.split(SN),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var h=0;h<a.length;h++)l.push(+a[h]);1===l.length&&(u?i[r].value=l[0]:i[r]=l[0])}}return{name:n,data:i}}(t);i.series.push(r)}})),i}var IN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onclick=function(t,e){var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",r.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=i.get("lang")||[];o.innerHTML=a[0]||i.get("title"),o.style.cssText="margin: 10px 20px;",o.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=i.get("optionToContent"),h=i.get("contentToOption"),c=function(t){var e,n,i,r=function(t){var e={},n=[],i=[];return t.eachRawSeries((function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:i}}(t);return{value:N([(n=r.seriesGroupByCategoryAxis,i=[],P(n,(function(t,e){var n=t.categoryAxis,r=t.valueAxis.dim,o=[" "].concat(O(t.series,(function(t){return t.name}))),a=[n.model.getCategories()];P(t.series,(function(t){var e=t.getRawData();a.push(t.getRawData().mapArray(e.mapDimension(r),(function(t){return t})))}));for(var s=[o.join(bN)],l=0;l<a[0].length;l++){for(var u=[],h=0;h<a.length;h++)u.push(a[h][l]);s.push(u.join(bN))}i.push(s.join("\n"))})),i.join("\n\n"+xN+"\n\n")),(e=r.other,O(e,(function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;a<t-1;a++)i[a]=arguments[a];n.push((o?o+bN:"")+i.join(bN))})),n.join("\n")})).join("\n\n"+xN+"\n\n"))],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+xN+"\n\n"),meta:r.meta}}(t);if("function"==typeof u){var p=u(e.getOption());"string"==typeof p?s.innerHTML=p:j(p)&&s.appendChild(p)}else s.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=c.value;var d=c.meta,f=document.createElement("div");f.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),v=document.createElement("div");g+=";background-color:"+i.get("buttonColor"),g+=";color:"+i.get("buttonTextColor");var m=this;function _(){n.removeChild(r),m._dom=null}te(y,"click",_),te(v,"click",(function(){if(null==h&&null!=u||null!=h&&null==u)_();else{var t;try{t="function"==typeof h?h(s,e.getOption()):MN(l.value,d)}catch(t){throw _(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),_()}})),y.innerHTML=a[1],v.innerHTML=a[2],v.style.cssText=g,y.style.cssText=g,!i.get("readOnly")&&f.appendChild(v),f.appendChild(y),r.appendChild(o),r.appendChild(s),r.appendChild(f),s.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocale(["toolbox","dataView","title"]),lang:t.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(lN);function TN(t,e){return O(t,(function(t,n){var i=e&&e[n];if(X(i)&&!F(i)){X(t)&&!F(t)||(t={value:t});var r=null!=i.name&&null==t.name;return t=T(t,i),r&&delete t.name,t}return t}))}Yv({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];P(t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get("data");n.push({name:t.name,data:TN(t.data,r)})}else n.push(I({type:"scatter"},t))})),e.mergeOption(T({series:n},t.newOption))}));var CN=P,AN=Lr();function DN(t){var e=AN(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var LN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onclick=function(t,e){!function(t){AN(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocale(["toolbox","restore","title"])}},e}(lN);Yv({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var kN=["dataToPoint","pointToData"],PN=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ON=function(){function t(t,e,n){var i=this;this._targetInfoList=[];var r=NN(e,t);P(EN,(function(t,e){(!n||!n.include||A(n.include,e)>=0)&&t(r,i._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=VN[t.brushType](0,n,e);t.__rangeOffset={offset:GN[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){P(t,(function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&P(i.coordSyses,(function(i){var r=VN[t.brushType](1,i,t.range);n(t,r.values,i,e)}))}),this)},t.prototype.setInputRanges=function(t,e){P(t,(function(t){var n,i,r,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=VN[t.brushType](0,s.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?GN[t.brushType](l.values,u.offset,(n=l.xyMinMax,i=u.xyMinMax,r=WN(n),o=WN(i),a=[r[0]/o[0],r[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},t.prototype.makePanelOpts=function(t,e){return O(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:nD(i),isTargetByCursor:rD(i,t,n.coordSysModel),getLinearBrushOtherExtent:iD(i)}}))},t.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&A(i.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=NN(e,t),r=0;r<n.length;r++){var o=n[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<zN.length;s++)if(zN[s](i,o))return o}return!0},t}();function RN(t){return t[0]>t[1]&&t.reverse(),t}function NN(t,e){return Pr(t,e,{includeMainTypes:PN})}var EN={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,r=t.gridModels,o=ht(),a={},s={};(n||i||r)&&(P(n,(function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0})),P(i,(function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0})),P(r,(function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0})),o.each((function(t){var r=t.coordinateSystem,o=[];P(r.getCartesians(),(function(t,e){(A(n,t.getAxis("x").model)>=0||A(i,t.getAxis("y").model)>=0)&&o.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:BN.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){P(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:BN.geo})}))}},zN=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],BN={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Vu(t)),e}},VN={lineX:V(FN,0),lineY:V(FN,1),rect:function(t,e,n){var i=e[kN[t]]([n[0][0],n[1][0]]),r=e[kN[t]]([n[0][1],n[1][1]]),o=[RN([i[0],r[0]]),RN([i[1],r[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:O(n,(function(n){var r=e[kN[t]](n);return i[0][0]=Math.min(i[0][0],r[0]),i[1][0]=Math.min(i[1][0],r[1]),i[0][1]=Math.max(i[0][1],r[0]),i[1][1]=Math.max(i[1][1],r[1]),r})),xyMinMax:i}}};function FN(t,e,n,i){var r=n.getAxis(["x","y"][t]),o=RN(O([0,1],(function(t){return e?r.coordToData(r.toLocalCoord(i[t])):r.toGlobalCoord(r.dataToCoord(i[t]))}))),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var GN={lineX:V(HN,0),lineY:V(HN,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return O(t,(function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]}))}};function HN(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function WN(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var YN,XN,UN=P,ZN=mr+"toolbox-dataZoom_",jN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(t,e,n,i){this.brushController||(this.brushController=new IA(n.getZr()),this.brushController.on("brush",B(this._onBrush,this)).mount()),function(t,e,n,i,r){var o=n.isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n.isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new ON(KN(t),e,{include:["grid"]}).makePanelOpts(r,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n.brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,i,n),function(t,e){t.setIconStatus("back",function(t){return DN(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,n){qN[n].call(this)},e.prototype.remove=function(t,e){this.brushController.unmount()},e.prototype.dispose=function(t,e){this.brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},i=this.ecModel;this.brushController.updateCovers([]),new ON(KN(this.model),i,{include:["grid"]}).matchOutputRanges(e,i,(function(t,e,n){if("cartesian2d"===n.type){var i=t.brushType;"rect"===i?(r("x",n,e[0]),r("y",n,e[1])):r({lineX:"x",lineY:"y"}[i],n,e)}})),function(t,e){var n=DN(t);CN(e,(function(e,i){for(var r=n.length-1;r>=0&&!n[r][i];r--);if(r<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var a=o.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}})),n.push(e)}(i,n),this._dispatchZoomAction(n)}function r(t,e,r){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(t,e.componentIndex)&&(i=n)})),i}(t,a,i),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(r=tA(0,r.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];UN(t,(function(t,n){e.push(w(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(lN),qN={zoom:function(){var t=!this.isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=DN(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return CN(n,(function(t,n){for(var r=e.length-1;r>=0;r--)if(t=e[r][n]){i[n]=t;break}})),i}(this.ecModel))}};function KN(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}YN="dataZoom",XN=function(t){var e=t.getComponent("toolbox",0);if(e){var n=e.getModel(["feature","dataZoom"]),i=[],r=Pr(t,KN(n));return UN(r.xAxisModels,(function(t){return o(t,"xAxis","xAxisIndex")})),UN(r.yAxisModels,(function(t){return o(t,"yAxis","yAxisIndex")})),i}function o(t,e,r){var o=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:ZN+e+o};a[r]=o,i.push(a)}},rt(null==ip.get(YN)&&XN),ip.set(YN,XN);var $N=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Nc);function JN(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}var QN=["-ms-","-moz-","-o-","-webkit-",""];function tE(t,e,n){var i=[],r=t.get("transitionDuration"),o=t.get("backgroundColor"),s=t.get("shadowBlur"),l=t.get("shadowColor"),u=t.get("shadowOffsetX"),h=t.get("shadowOffsetY"),c=t.getModel("textStyle"),p=Jd(t,"html"),d=u+"px "+h+"px "+s+"px "+l;return i.push("box-shadow:"+d),e&&r&&i.push(function(t,e){var n="cubic-bezier(0.23, 1, 0.32, 1)",i="opacity "+t/2+"s "+n+",visibility "+t/2+"s "+n;return e||(i+=",left "+t+"s "+n+",top "+t+"s "+n),O(QN,(function(t){return t+"transition:"+i})).join(";")}(r,n)),o&&(a.canvasSupported?i.push("background-Color:"+o):(i.push("background-Color:#"+Je(o)),i.push("filter:alpha(opacity=70)"))),P(["width","color","radius"],(function(e){var n="border-"+e,r=cc(n),o=t.get(r);null!=o&&i.push(n+":"+o+("color"===e?"":"px"))})),i.push(function(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+r),P(["decoration","align"],(function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)})),e.join(";")}(c)),null!=p&&i.push("padding:"+pc(p).join("px ")+"px"),i.join(";")+";"}function eE(t,e,n,i,r){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&function(t,e,n,i,r){Xt(Yt,e,i,r,!0)&&Xt(t,n,Yt[0],Yt[1])}(t,a,document.body,i,r)}else{t[0]=i,t[1]=r;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var nE=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,a.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),o=this._appendToBody=n&&n.appendToBody;eE(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(i):t.appendChild(i),this._container=t;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!s._enterable){var e=r.handler;Qt(r.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(t){var e=this._container,n=e.currentStyle||document.defaultView.getComputedStyle(e),i=e.style;"absolute"!==i.position&&"absolute"!==n.position&&(i.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=this._styleCoord,r=n.offsetHeight/2;e=bc(e),n.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+tE(t,!this._firstShow,this._longHide)+";left:"+i[0]+"px;top:"+(i[1]-r)+"px;border-color: "+e+";"+(t.get("extraCssText")||""),n.style.display=n.innerHTML?"block":"none",n.style.pointerEvents=this._enterable?"auto":"none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,i,r){if(null!=t){var o=this.el;if(H(r)&&"item"===n.get("trigger")&&!JN(n)&&(t+=function(t,e,n){if(!H(n)||"inside"===n)return"";e=bc(e);var i,r="left"===(i=n)?"right":"right"===i?"left":"top"===i?"bottom":"top",o="",a="";return A(["left","right"],r)>-1?(o=r+":-6px;top:50%;",a="translateY(-50%) rotate("+("left"===r?-225:-45)+"deg)"):(o=r+":-6px;left:50%;",a="translateX(-50%) rotate("+("top"===r?225:45)+"deg)"),'<div style="'+["position:absolute;width:10px;height:10px;",""+o+(a=O(QN,(function(t){return t+"transform:"+a})).join(";"))+";","border-bottom: "+e+" solid 1px;","border-right: "+e+" solid 1px;","background-color: "+t+";","box-shadow: 8px 8px 16px -3px #000;"].join("")+'"></div>'}(n.get("backgroundColor"),i,r)),H(t))o.innerHTML=t;else if(t){o.innerHTML="",F(t)||(t=[t]);for(var a=0;a<t.length;a++)j(t[a])&&t[a].parentNode!==o&&o.appendChild(t[a])}}},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.clientWidth,t.clientHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(eE(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var i=this.el.style;i.left=n[0].toFixed(0)+"px",i.top=n[1].toFixed(0)+"px"}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this;this.el.style.visibility="hidden",this.el.style.opacity="0",this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(B(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t.prototype.getOuterSize=function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}},t}(),iE=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),aE(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,i,r){X(t)&&yr(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new ls({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:n.get("backgroundColor"),borderRadius:n.get("borderRadius"),borderWidth:1,borderColor:i,shadowColor:n.get("shadowColor"),shadowBlur:n.get("shadowBlur"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY"),textShadowColor:o.get("textShadowColor"),textShadowBlur:o.get("textShadowBlur")||0,textShadowOffsetX:o.get("textShadowOffsetX")||0,textShadowOffsetY:o.get("textShadowOffsetY")||0,fill:n.get(["textStyle","color"]),padding:Jd(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),this._zr.add(this.el);var a=this;this.el.on("mouseover",(function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0})),this.el.on("mouseout",(function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=oE(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;aE(i,this._zr,t,e),t=i[0],e=i[1];var r=n.style,o=rE(r.borderWidth||0),a=oE(r);n.x=t+o+a.left,n.y=e+o+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(B(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.getOuterSize=function(){var t=this.getSize();return{width:t[0],height:t[1]}},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function rE(t){return Math.max(0,t)}function oE(t){var e=rE(t.shadowBlur||0),n=rE(t.shadowOffsetX||0),i=rE(t.shadowOffsetY||0);return{left:rE(e-n),right:rE(e+n),top:rE(e-i),bottom:rE(e+i)}}function aE(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var sE=B,lE=P,uE=Zi,hE=new os({shape:{x:-1,y:-1,width:2,height:2}}),cE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){if(!a.node){var n,i=t.getComponent("tooltip"),r=i.get("renderMode");this._renderMode="auto"===(n=r)?a.domSupported?"html":"richText":n||"html",this._tooltipContent="richText"===this._renderMode?new iE(e):new nE(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!a.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");gO("itemTooltip",this._api,sE((function(e,n,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):"leave"===e&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,i){if(i.from!==this.uid&&!a.node){var r=dE(i,n);this._ticket="";var o=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=hE;s.x=i.x,s.y=i.y,s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var l=xO(i,e),u=l.point[0],h=l.point[1];null!=u&&null!=h&&this._tryShow({offsetX:u,offsetY:h,position:i.position,target:l.el},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(dE(i,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s)if("axis"===pE([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,t]).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},e.prototype._tryShow=function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,t):n&&Jg(n,(function(t){return null!=ys(t).dataIndex}),!0)?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=B(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,r=[e.offsetX,e.offsetY],o=pE([e.tooltipOption,i]),a=this._renderMode,s=[],l=Yd("section",{blocks:[],noHeader:!0}),u=[],h=new Qd;lE(t,(function(t){lE(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value;if(e&&null!=i){var r=nO(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),o=Yd("section",{header:r,noHeader:!ot(r),sortBlocks:!0,blocks:[]});l.blocks.push(o),P(t.seriesDataIndices,(function(l){var c=n.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,d=c.getDataParams(p);d.axisDim=t.axisDim,d.axisIndex=t.axisIndex,d.axisType=t.axisType,d.axisId=t.axisId,d.axisValue=W_(e.axis,{value:i}),d.axisValueLabel=r,d.marker=h.makeTooltipMarker("item",bc(d.color),a);var f=vd(c.formatTooltip(p,!0,null));f.markupFragment&&o.blocks.push(f.markupFragment),f.markupText&&u.push(f.markupText),s.push(d)}))}}))})),l.blocks.reverse(),u.reverse();var c=e.position,p=o.get("order"),d=Zd(l,h,a,p,n.get("useUTC"),o.get("textStyle"));d&&u.unshift(d);var f="richText"===a?"\n\n":"<br/>",g=u.join(f);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(o,c,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+"",r[0],r[1],c,null,h)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var i=Jg(e,(function(t){return null!=ys(t).dataIndex}),!0),r=this._ecModel,o=ys(i),a=o.seriesIndex,s=r.getSeriesByIndex(a),l=o.dataModel||s,u=o.dataIndex,h=o.dataType,c=l.getData(h),p=this._renderMode,d=pE([c.getItemModel(u),l,s&&(s.coordinateSystem||{}).model,this._tooltipModel]),f=d.get("trigger");if(null==f||"item"===f){var g=l.getDataParams(u,h),y=new Qd;g.marker=y.makeTooltipMarker("item",bc(g.color),p);var v=vd(l.formatTooltip(u,!1,h)),m=d.get("order"),_=v.markupFragment?Zd(v.markupFragment,y,p,m,r.get("useUTC"),d.get("textStyle")):v.markupText,x="item_"+l.name+"_"+u;this._showOrMove(d,(function(){this._showTooltipContent(d,_,g,x,t.offsetX,t.offsetY,t.position,t.target,y)})),n({type:"showTip",dataIndexInside:u,dataIndex:c.getRawIndex(u),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var i=e.tooltip;if(H(i)){i={content:i,formatter:i}}var r=new Sh(i,this._tooltipModel,this._ecModel),o=r.get("content"),a=Math.random()+"",s=new Qd;this._showOrMove(r,(function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e,s)})),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,i,r,o,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,h=t.get("formatter");a=a||t.get("position");var c=e,p=this._getNearestPoint([r,o],n,t.get("trigger"),t.get("borderColor"));if(h&&H(h)){var d=t.ecModel.get("useUTC"),f=F(n)?n[0]:n;c=h,f&&f.axisType&&f.axisType.indexOf("time")>=0&&(c=Zh(f.axisValue,c,d)),c=_c(c,n,!0)}else if(G(h)){var g=sE((function(e,i){e===this._ticket&&(u.setContent(i,l,t,p.color,a),this._updatePosition(t,a,r,o,u,n,s))}),this);this._ticket=i,c=h(n,i,g)}u.setContent(c,l,t,p.color,a),u.show(t,p.color),this._updatePosition(t,a,r,o,u,n,s)}},e.prototype._getNearestPoint=function(t,e,n,i){return"axis"===n||F(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:F(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=r.getSize(),h=t.get("align"),c=t.get("verticalAlign"),p=a&&a.getBoundingRect().clone();if(a&&p.applyTransform(a.transform),G(e)&&(e=e([n,i],o,r.el,p,{viewSize:[s,l],contentSize:u.slice()})),F(e))n=uE(e[0],s),i=uE(e[1],l);else if(X(e)){var d=e;d.width=u[0],d.height=u[1];var f=Ac(d,{width:s,height:l});n=f.x,i=f.y,h=null,c=null}else if(H(e)&&a){var g=function(t,e,n){var i=n[0],r=n[1],o=10,a=5,s=0,l=0,u=e.width,h=e.height;switch(t){case"inside":s=e.x+u/2-i/2,l=e.y+h/2-r/2;break;case"top":s=e.x+u/2-i/2,l=e.y-r-o;break;case"bottom":s=e.x+u/2-i/2,l=e.y+h+o;break;case"left":s=e.x-i-o-a,l=e.y+h/2-r/2;break;case"right":s=e.x+u+o+a,l=e.y+h/2-r/2}return[s,l]}(e,p,u);n=g[0],i=g[1]}else{g=function(t,e,n,i,r,o,a){var s=n.getOuterSize(),l=s.width,u=s.height;null!=o&&(t+l+o+2>i?t-=l+o:t+=o);null!=a&&(e+u+a>r?e-=u+a:e+=a);return[t,e]}(n,i,r,s,l,h?null:20,c?null:20);n=g[0],i=g[1]}if(h&&(n-=fE(h)?u[0]/2:"right"===h?u[0]:0),c&&(i-=fE(c)?u[1]/2:"bottom"===c?u[1]:0),JN(t)){g=function(t,e,n,i,r){var o=n.getOuterSize(),a=o.width,s=o.height;return t=Math.min(t+a,i)-a,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,i,r,s,l);n=g[0],i=g[1]}r.moveTo(n,i)},e.prototype._updateContentNotChangedOnAxis=function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&lE(e,(function(e,i){var r=e.dataByAxis||[],o=(t[i]||{}).dataByAxis||[];(n=n&&r.length===o.length)&&lE(r,(function(t,e){var i=o[e]||{},r=t.seriesDataIndices||[],a=i.seriesDataIndices||[];(n=n&&t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&r.length===a.length)&&lE(r,(function(t,e){var i=a[e];n=n&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex}))}))})),this._lastDataByCoordSys=t,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){a.node||(this._tooltipContent.dispose(),mO("itemTooltip",e))},e.type="tooltip",e}(pf);function pE(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(n instanceof Sh&&(n=n.get("tooltip",!0)),H(n)&&(n={formatter:n}),e=new Sh(n,e,e.ecModel))}return e}function dE(t,e){return t.dispatchAction||B(e.dispatchAction,e)}function fE(t){return"center"===t||"middle"===t}var gE=["rect","polygon","keep","clear"];function yE(t,e){var n=_r(t?t.brush:[]);if(n.length){var i=[];P(n,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))}));var r=t&&t.toolbox;F(r)&&(r=r[0]),r||(r={feature:{}},t.toolbox=[r]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function(t){var e={};P(t,(function(t){e[t]=1})),t.length=0,P(e,(function(e,n){t.push(n)}))}(s),e&&!s.length&&s.push.apply(s,gE)}}var vE=P;function mE(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function _E(t,e,n){var i={};return vE(e,(function(e){var r,o=i[e]=((r=function(){}).prototype.__hidden=r.prototype,new r);vE(t[e],(function(t,i){if(jI.isValidType(i)){var r={type:i,visual:t};n&&n(r,e),o[i]=new jI(r),"opacity"===i&&((r=w(r)).type="colorAlpha",o.__hidden.__alphaForOpacity=new jI(r))}}))})),i}function xE(t,e,n){var i;P(n,(function(t){e.hasOwnProperty(t)&&mE(e[t])&&(i=!0)})),i&&P(n,(function(n){e.hasOwnProperty(n)&&mE(e[n])?t[n]=w(e[n]):delete t[n]}))}var bE={lineX:wE(0),lineY:wE(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&J_(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var r=t.x,o=t.y,a=t.width,s=t.height,l=i[0];return!!(J_(i,r,o)||J_(i,r+a,o)||J_(i,r,o+s)||J_(i,r+a,o+s)||Rn.create(t).contain(l[0],l[1])||Zu(r,o,r+a,o,i)||Zu(r,o,r,o+s,i)||Zu(r+a,o,r+a,o+s,i)||Zu(r,o+s,r+a,o+s,i))||void 0}}};function wE(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e){var r=i.range;return SE(e[t],r)}},rect:function(i,r,o){if(i){var a=o.range,s=[i[e[t]],i[e[t]]+i[n[t]]];return s[1]<s[0]&&s.reverse(),SE(s[0],a)||SE(s[1],a)||SE(a[0],s)||SE(a[1],s)}}}}function SE(t,e){return e[0]<=t&&t<=e[1]}var ME=["inBrush","outOfBrush"],IE="__ecBrushSelect",TE="__ecInBrushSelectEvent";function CE(t){t.eachComponent({mainType:"brush"},(function(e){(e.brushTargetManager=new ON(e.option,t)).setInputRanges(e.areas,t)}))}function AE(t,e,n){var i,r,o=[];t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),CE(t),t.eachComponent({mainType:"brush"},(function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:w(e.areas),selected:[]};o.push(a);var s=e.option,l=s.brushLink,u=[],h=[],c=[],p=!1;n||(i=s.throttleType,r=s.throttleDelay);var d=O(e.areas,(function(t){var e=kE[t.brushType],n=T({boundingRect:e?e(t):void 0},t);return n.selectors=function(t){var e=t.brushType,n={point:function(i){return bE[e].point(i,n,t)},rect:function(i){return bE[e].rect(i,n,t)}};return n}(n),n})),f=_E(e.option,ME,(function(t){t.mappingMethod="fixed"}));function g(t){return"all"===l||!!u[t]}function y(t){return!!t.length}F(l)&&P(l,(function(t){u[t]=1})),t.eachSeries((function(n,i){var r=c[i]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;p=p||n.hasAxisBrushed(),g(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(h[e]=1)}))}(n,i):function(n,i,r){if(!n.brushSelector||function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(F(n)?A(n,e)<0:e!==n)}(e,i))return;if(P(d,(function(i){e.brushTargetManager.controlSeries(i,n,t)&&r.push(i),p=p||y(r)})),g(i)&&y(r)){var o=n.getData();o.each((function(t){LE(n,r,o,t)&&(h[t]=1)}))}}(n,i,r)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(n);var i=c[e],r=t.getData(),o=g(e)?function(t){return h[t]?(n.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return LE(t,i,r,e)?(n.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"};(g(e)?p:y(i))&&function(t,e,n,i,r,o){var a,s={};function l(t){return pg(n,a,t)}function u(t,e){fg(n,a,t,e)}function h(t,h){a=null==o?t:h;var c=n.getRawDataItem(a);if(!c||!1!==c.visualMap)for(var p=i.call(r,t),d=e[p],f=s[p],g=0,y=f.length;g<y;g++){var v=f[g];d[v]&&d[v].applyVisual(t,l,u)}}P(t,(function(t){var n=jI.prepareVisualTypes(e[t]);s[t]=n})),null==o?n.each(h):n.each([o],h)}(ME,f,r,o)}))})),function(t,e,n,i,r){if(!r)return;var o=t.getZr();if(o[TE])return;o.__ecBrushSelect||(o.__ecBrushSelect=DE);Tf(o,IE,n,e)(t,i)}(e,i,r,o,n)}function DE(t,e){if(!t.isDisposed()){var n=t.getZr();n[TE]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[TE]=!1}}function LE(t,e,n,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t.brushSelector(i,n,a.selectors,a))return!0}}var kE={rect:function(t){return PE(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&PE(e)}};function PE(t){return new Rn(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var OE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new IA(e.getZr())).on("brush",B(this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,i){this.model=t,this._updateController(t,e,n,i)},e.prototype.updateTransform=function(t,e,n,i){CE(e),this._updateController(t,e,n,i)},e.prototype.updateVisual=function(t,e,n,i){this.updateTransform(t,e,n,i)},e.prototype.updateView=function(t,e,n,i){this._updateController(t,e,n,i)},e.prototype._updateController=function(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:w(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:w(n),$from:e})},e.type="brush",e}(pf),RE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return n(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&xE(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=O(t,(function(t){return NE(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=NE(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Nc);function NE(t,e){return S({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Sh(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var EE=["rect","polygon","lineX","lineY","keep","clear"],zE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(t,e,n){var i,r,o;e.eachComponent({mainType:"brush"},(function(t){i=t.brushType,r=t.brushOption.brushMode||"single",o=o||!!t.areas.length})),this._brushType=i,this._brushMode=r,P(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===r:"clear"===e?o:e===i)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return P(t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},e.prototype.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},e.getDefaultOption=function(t){return{show:!0,type:EE.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocale(["toolbox","brush","title"])}},e}(lN);var BE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return n(e,t),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Nc),VE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,r=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=tt(t.get("textBaseline"),t.get("textVerticalAlign")),l=new ls({style:nh(r,{text:t.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),h=t.get("subtext"),c=new ls({style:nh(o,{text:h,fill:o.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),d=t.get("sublink"),f=t.get("triggerEvent",!0);l.silent=!p&&!f,c.silent=!d&&!f,p&&l.on("click",(function(){wc(p,"_"+t.get("target"))})),d&&c.on("click",(function(){wc(d,"_"+t.get("subtarget"))})),ys(l).eventData=ys(c).eventData=f?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(l),h&&i.add(c);var g=i.getBoundingRect(),y=t.getBoxLayoutParams();y.width=g.width,y.height=g.height;var v=Ac(y,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),i.x=v.x,i.y=v.y,i.markRedraw();var m={align:a,verticalAlign:s};l.setStyle(m),c.setStyle(m),g=i.getBoundingRect();var _=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var b=new os({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g.height+_[0]+_[2],r:t.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});i.add(b)}},e.type="title",e}(pf);var FE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],i=e.axisType,r=this._names=[];"category"===i?(t=[],P(n,(function(e,n){var i,o=Tr(wr(e),"");X(e)?(i=w(e)).value=n:i=n,t.push(i),r.push(o)}))):t=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number";(this._data=new Pm([{name:"value",type:o}],this)).initData(t,r)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Nc),GE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="timeline.slider",e.defaultOption=Th(FE.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(FE);L(GE,yd.prototype);var HE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="timeline",e}(pf),WE=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i)||this;return o.type=r||"value",o}return n(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(vx),YE=Math.PI,XE=Lr(),UE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),r=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return Yd("nameValue",{noName:!0,value:a.scale.getLabel({value:t})})},P(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](i,r,a,t)}),this),this._renderAxisLabel(i,o,a,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,i,r,o,a=t.get(["label","position"]),s=t.get("orient"),l=function(t,e){return Ac(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e),u={horizontal:"center",vertical:(n=null==a||"auto"===a?"horizontal"===s?l.y+l.height/2<e.getHeight()/2?"-":"+":l.x+l.width/2<e.getWidth()/2?"+":"-":H(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===n?"left":"right"},h={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:YE/2},p="vertical"===s?l.height:l.width,d=t.getModel("controlStyle"),f=d.get("show",!0),g=f?d.get("itemSize"):0,y=f?d.get("itemGap"):0,v=g+y,m=t.get(["label","rotate"])||0;m=m*YE/180;var _=d.get("position",!0),x=f&&d.get("showPlayBtn",!0),b=f&&d.get("showPrevBtn",!0),w=f&&d.get("showNextBtn",!0),S=0,M=p;"left"===_||"bottom"===_?(x&&(i=[0,0],S+=v),b&&(r=[S,0],S+=v),w&&(o=[M-g,0],M-=v)):(x&&(i=[M-g,0],M-=v),b&&(r=[0,0],S+=v),w&&(o=[M-g,0],M-=v));var I=[S,M];return t.get("inverse")&&I.reverse(),{viewRect:l,mainLength:p,orient:s,rotation:c[s],labelRotation:m,labelPosOpt:n,labelAlign:t.get(["label","align"])||u[s],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||h[s],playPosition:i,prevBtnPosition:r,nextBtnPosition:o,axisExtent:I,controlSize:g,controlGap:y}},e.prototype._position=function(t,e){var n=this._mainGroup,i=this._labelGroup,r=t.viewRect;if("vertical"===t.orient){var o=[1,0,0,1,0,0],a=r.x,s=r.y+r.height;me(o,o,[-a,-s]),_e(o,o,-YE/2),me(o,o,[a,s]),(r=r.clone()).applyTransform(o)}var l=y(r),u=y(n.getBoundingRect()),h=y(i.getBoundingRect()),c=[n.x,n.y],p=[i.x,i.y];p[0]=c[0]=l[0][0];var d,f=t.labelPosOpt;null==f||H(f)?(v(c,u,l,1,d="+"===f?0:1),v(p,h,l,1,1-d)):(v(c,u,l,1,d=f>=0?0:1),p[1]=c[1]+f);function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}n.setPosition(c),i.setPosition(p),n.rotation=i.rotation=t.rotation,g(n),g(i)},e.prototype._createAxis=function(t,e){var n=e.getData(),i=e.get("axisType"),r=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new Qm({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new g_({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new e_}}(e,i);r.getTicks=function(){return n.mapArray(["value"],(function(t){return{value:t}}))};var o=n.getDataExtent("value");r.setExtent(o[0],o[1]),r.niceTicks();var a=new WE("value",r,t.axisExtent,i);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new zi;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,i){var r=n.getExtent();if(i.get(["lineStyle","show"])){var o=new tu({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:I({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(o);var a=this._progressLine=new tu({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:T({lineCap:"round",lineWidth:o.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,n,i){var r=this,o=i.getData(),a=n.scale.getTicks();this._tickSymbols=[],P(a,(function(t){var a=n.dataToCoord(t.value),s=o.getItemModel(t.value),l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),h=s.getModel(["progress","itemStyle"]),c={x:a,y:0,onclick:B(r._changeTimeline,r,t.value)},p=ZE(s,l,e,c);p.ensureState("emphasis").style=u.getItemStyle(),p.ensureState("progress").style=h.getItemStyle(),Js(p);var d=ys(p);s.get("tooltip")?(d.dataIndex=t.value,d.dataModel=i):d.dataIndex=d.dataModel=null,r._tickSymbols.push(p)}))},e.prototype._renderAxisLabel=function(t,e,n,i){var r=this;if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();this._tickLabels=[],P(a,(function(i){var a=i.tickValue,s=o.getItemModel(a),l=s.getModel("label"),u=s.getModel(["emphasis","label"]),h=s.getModel(["progress","label"]),c=n.dataToCoord(i.tickValue),p=new ls({x:c,y:0,rotation:t.labelRotation-t.rotation,onclick:B(r._changeTimeline,r,a),silent:!1,style:nh(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});p.ensureState("emphasis").style=nh(u),p.ensureState("progress").style=nh(h),e.add(p),Js(p),XE(p).dataIndex=a,r._tickLabels.push(p)}))}},e.prototype._renderControl=function(t,e,n,i){var r=t.controlSize,o=t.rotation,a=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),u=i.get("inverse",!0);function h(t,n,l,u){if(t){var h=Yn(tt(i.get(["controlStyle",n+"BtnSize"]),r),r),c=function(t,e,n,i){var r=i.style,o=Uu(t.get(["controlStyle",e]),i||{},new Rn(n[0],n[1],n[2],n[3]));r&&o.setStyle(r);return o}(i,n+"Icon",[0,-h/2,h,h],{position:t,origin:[r/2,0],rotation:u?-o:0,rectHover:!0,style:a,onclick:l});c.ensureState("emphasis").style=s,e.add(c),Js(c)}}h(t.nextBtnPosition,"next",B(this._changeTimeline,this,u?"-":"+")),h(t.prevBtnPosition,"prev",B(this._changeTimeline,this,u?"+":"-")),h(t.playPosition,l?"stop":"play",B(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=B(s._handlePointerDrag,s),t.ondragend=B(s._handlePointerDragend,s),jE(t,s._progressLine,o,n,i,!0)},onUpdate:function(t){jE(t,s._progressLine,o,n,i)}};this._currentPointer=ZE(a,a,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],i=qi(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var r=this._findNearestTick(n),o=this.model;(e||r!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(r)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return Fu(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],(function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-t);s<i&&(i=s,e=o)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var i=0;i<e.length;i++)e&&e[i]&&e[i].toggleState("progress",i<t);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",XE(n[i]).dataIndex<=t)},e.type="timeline.slider",e}(HE);function ZE(t,e,n,i,r,o){var a=e.get("color");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=uy(t.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r));var s=e.getItemStyle(["color"]);r.setStyle(s),i=S({rectHover:!0,z2:100},i,!0);var l=t.get("symbolSize");l=l instanceof Array?l.slice():[+l,+l],i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=t.get("symbolOffset");u&&(i.x=i.x||0,i.y=i.y||0,i.x+=Zi(u[0],l[0]),i.y+=Zi(u[1],l[1]));var h=t.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function jE(t,e,n,i,r,o){if(!t.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",n));if(o||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function qE(t){var e=t&&t.timeline;F(e)||(e=e?[e]:[]),P(e,(function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};n[e]&&(t.axisType=n[e],delete t.type);if(KE(t),$E(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});$E(i,"position")||(i.position=t.controlPosition),"none"!==i.position||$E(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}P(t.data||[],(function(t){X(t)&&!F(t)&&(!$E(t,"value")&&$E(t,"name")&&(t.value=t.name),KE(t))}))}(t)}))}function KE(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};P(i,(function(t,e){o[e]||$E(r,e)||(r[e]=t)})),n.label&&!$E(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function $E(t,e){return t.hasOwnProperty(e)}function JE(t){xr(t,"label",["show"])}var QE=Lr(),tz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(a.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,i){var r=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),o=QE(t)[r];n&&n.data?(o?o._mergeOption(n,e,!0):(i&&JE(n),P(n.data,(function(t){t instanceof Array?(JE(t[0]),JE(t[1])):JE(t)})),I(o=this.createMarkerModelFromSeries(n,this,e),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),o.__hostSeries=t),QE(t)[r]=o):QE(t)[r]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t),o=i.getName(t);return Yd("section",{header:this.name,blocks:[Yd("nameValue",{name:o,value:r,noName:!o,noValue:null==r})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return QE(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Nc);L(tz,yd.prototype);var ez=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(tz);function nz(t,e,n,i,r,o){var a=[],s=Fm(e,i)?e.getCalculationInfo("stackResultDimension"):i,l=lz(e,s,t),u=e.indicesOfNearest(s,l)[0];a[r]=e.get(n,u),a[o]=e.get(s,u);var h=e.get(i,u),c=Ki(e.get(i,u));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),[a,h]}var iz={min:V(nz,"min"),max:V(nz,"max"),average:V(nz,"average"),median:V(nz,"median")};function rz(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!F(e.coord)&&i){var r=i.dimensions,o=oz(e,n,i,t);if((e=w(e)).type&&iz[e.type]&&o.baseAxis&&o.valueAxis){var a=A(r,o.baseAxis.dim),s=A(r,o.valueAxis.dim),l=iz[e.type](n,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],h=0;h<2;h++)iz[u[h]]&&(u[h]=lz(n,n.mapDimension(r[h]),u[h]));e.coord=u}}return e}function oz(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(function(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var r=0;r<i.length;r++){var o=n.getDimensionInfo(i[r]);if(o.name===e)return o.coordDim}}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function az(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)}function sz(t,e,n,i){return i<2?t.coord&&t.coord[i]:t.value}function lz(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,(function(t,e){isNaN(t)||(i+=t,r++)})),i/r}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var uz=Lr(),hz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){this.markerGroupMap=ht()},e.prototype.render=function(t,e,n){var i=this,r=this.markerGroupMap;r.each((function(t){uz(t).keep=!1})),e.eachSeries((function(t){var r=tz.getMarkerModelFromSeries(t,i.type);r&&i.renderSeries(t,r,e,n)})),r.each((function(t){!uz(t).keep&&i.group.remove(t.group)}))},e.prototype.markKeep=function(t){uz(t).keep=!0},e.prototype.blurSeries=function(t){var e=this;P(t,(function(t){var n=tz.getMarkerModelFromSeries(t,e.type);n&&n.getData().eachItemGraphicEl((function(t){t&&Ys(t)}))}))},e.type="marker",e}(pf);function cz(t,e,n){var i=e.coordinateSystem;t.each((function(r){var o,a=t.getItemModel(r),s=Zi(a.get("x"),n.getWidth()),l=Zi(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var u=t.get(i.dimensions[0],r),h=t.get(i.dimensions[1],r);o=i.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),t.setItemLayout(r,o)}))}var pz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=tz.getMarkerModelFromSeries(t,"markPoint");e&&(cz(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new Tb),u=function(t,e,n){var i;i=t?O(t&&t.dimensions,(function(t){return T({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})})):[{name:"value",type:"float"}];var r=new Pm(i,n),o=O(n.get("data"),V(rz,e));t&&(o=N(o,V(az,t)));return r.initData(o,null,t?sz:function(t){return t.value}),r}(r,t,e);e.setData(u),cz(e.getData(),t,i),u.each((function(t){var n=u.getItemModel(t),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate");if(G(i)||G(r)||G(o)){var s=e.getRawValue(t),l=e.getDataParams(t);G(i)&&(i=i(s,l)),G(r)&&(r=r(s,l)),G(o)&&(o=o(s,l))}var h=n.getModel("itemStyle").getItemStyle(),c=dg(a,"color");h.fill||(h.fill=c),u.setItemVisual(t,{symbol:i,symbolSize:r,symbolRotate:o,style:h})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(t){t.traverse((function(t){ys(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(hz);var dz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(tz),fz=Lr(),gz=function(t,e,n,i){var r,o=t.getData();if(F(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),l=Q(i.yAxis,i.xAxis);else{var u=oz(i,o,e,t);s=u.valueAxis,l=lz(o,Gm(o,u.valueDataDim),a)}var h="x"===s.dim?0:1,c=1-h,p=w(i),d={coord:[]};p.type=null,p.coord=[],p.coord[c]=-1/0,d.coord[c]=1/0;var f=n.get("precision");f>=0&&"number"==typeof l&&(l=+l.toFixed(Math.min(f,20))),p.coord[h]=d.coord[h]=l,r=[p,d,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var g=[rz(t,r[0]),rz(t,r[1]),I({},r[2])];return g[2].type=g[2].type||null,S(g[2],g[0]),S(g[2],g[1]),g};function yz(t){return!isNaN(t)&&!isFinite(t)}function vz(t,e,n,i){var r=1-t,o=i.dimensions[t];return yz(e[r])&&yz(n[r])&&e[t]===n[t]&&i.getAxis(o).containData(e[t])}function mz(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(vz(1,n,i,t)||vz(0,n,i,t)))return!0}return az(t,e[0])&&az(t,e[1])}function _z(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=Zi(s.get("x"),r.getWidth()),u=Zi(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var h=a.dimensions,c=t.get(h[0],e),p=t.get(h[1],e);o=a.dataToPoint([c,p])}if(Wb(a,"cartesian2d")){var d=a.getAxis("x"),f=a.getAxis("y");h=a.dimensions;yz(t.get(h[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[n?0:1]):yz(t.get(h[1],e))&&(o[1]=f.toGlobalCoord(f.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];t.setItemLayout(e,o)}var xz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=tz.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData(),r=fz(e).from,o=fz(e).to;r.each((function(e){_z(r,e,!0,t,n),_z(o,e,!1,t,n)})),i.each((function(t){i.setItemLayout(t,[r.getItemLayout(t),o.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new aC);this.group.add(l.group);var u=function(t,e,n){var i;i=t?O(t&&t.dimensions,(function(t){return T({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})})):[{name:"value",type:"float"}];var r=new Pm(i,n),o=new Pm(i,n),a=new Pm([],n),s=O(n.get("data"),V(gz,e,t,n));t&&(s=N(s,V(mz,t)));var l=t?sz:function(t){return t.value};return r.initData(O(s,(function(t){return t[0]})),null,l),o.initData(O(s,(function(t){return t[1]})),null,l),a.initData(O(s,(function(t){return t[2]}))),a.hasItemOption=!0,{from:r,to:o,line:a}}(r,t,e),h=u.from,c=u.to,p=u.line;fz(e).from=h,fz(e).to=c,e.setData(p);var d=e.get("symbol"),f=e.get("symbolSize");function g(e,n,r){var o=e.getItemModel(n);_z(e,n,r,t,i);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=dg(a,"color")),e.setItemVisual(n,{symbolRotate:o.get("symbolRotate"),symbolSize:o.get("symbolSize")||f[r?0:1],symbol:o.get("symbol",!0)||d[r?0:1],style:s})}F(d)||(d=[d,d]),F(f)||(f=[f,f]),u.from.each((function(t){g(h,t,!0),g(c,t,!1)})),p.each((function(t){var e=p.getItemModel(t).getModel("lineStyle").getLineStyle();p.setItemLayout(t,[h.getItemLayout(t),c.getItemLayout(t)]),null==e.stroke&&(e.stroke=h.getItemVisual(t,"style").fill),p.setItemVisual(t,{fromSymbolRotate:h.getItemVisual(t,"symbolRotate"),fromSymbolSize:h.getItemVisual(t,"symbolSize"),fromSymbol:h.getItemVisual(t,"symbol"),toSymbolRotate:c.getItemVisual(t,"symbolRotate"),toSymbolSize:c.getItemVisual(t,"symbolSize"),toSymbol:c.getItemVisual(t,"symbol"),style:e})})),l.updateData(p),u.line.eachItemGraphicEl((function(t,n){t.traverse((function(t){ys(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(hz);var bz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(tz),wz=Lr(),Sz=function(t,e,n,i){var r=rz(t,i[0]),o=rz(t,i[1]),a=r.coord,s=o.coord;a[0]=Q(a[0],-1/0),a[1]=Q(a[1],-1/0),s[0]=Q(s[0],1/0),s[1]=Q(s[1],1/0);var l=M([{},r,o]);return l.coord=[r.coord,o.coord],l.x0=r.x,l.y0=r.y,l.x1=o.x,l.y1=o.y,l};function Mz(t){return!isNaN(t)&&!isFinite(t)}function Iz(t,e,n,i){var r=1-t;return Mz(e[r])&&Mz(n[r])}function Tz(t,e){var n=e.coord[0],i=e.coord[1];return!!(Wb(t,"cartesian2d")&&n&&i&&(Iz(1,n,i)||Iz(0,n,i)))||(az(t,{coord:n,x:e.x0,y:e.y0})||az(t,{coord:i,x:e.x1,y:e.y1}))}function Cz(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=Zi(s.get(n[0]),r.getWidth()),u=Zi(s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(n,e));else{var h=[d=t.get(n[0],e),f=t.get(n[1],e)];a.clampData&&a.clampData(h,h),o=a.dataToPoint(h,!0)}if(Wb(a,"cartesian2d")){var c=a.getAxis("x"),p=a.getAxis("y"),d=t.get(n[0],e),f=t.get(n[1],e);Mz(d)?o[0]=c.toGlobalCoord(c.getExtent()["x0"===n[0]?0:1]):Mz(f)&&(o[1]=p.toGlobalCoord(p.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var Az=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Dz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=tz.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each((function(e){var r=O(Az,(function(r){return Cz(i,e,r,t,n)}));i.setItemLayout(e,r),i.getItemGraphicEl(e).setShape("points",r)}))}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new zi});this.group.add(l.group),this.markKeep(l);var u=function(t,e,n){var i,r,o=["x0","y0","x1","y1"];t?(i=O(t&&t.dimensions,(function(t){var n=e.getData();return T({name:t},n.getDimensionInfo(n.mapDimension(t))||{})})),r=new Pm(O(o,(function(t,e){return{name:t,type:i[e%2].type}})),n)):r=new Pm(i=[{name:"value",type:"float"}],n);var a=O(n.get("data"),V(Sz,e,t,n));t&&(a=N(a,V(Tz,t)));var s=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return r.initData(a,null,s),r.hasItemOption=!0,r}(r,t,e);e.setData(u),u.each((function(e){var n=O(Az,(function(n){return Cz(u,e,n,t,i)})),o=!0;P(Az,(function(t){if(o){var n=u.get(t[0],e),i=u.get(t[1],e);(Mz(n)||r.getAxis("x").containData(n))&&(Mz(i)||r.getAxis("y").containData(i))&&(o=!1)}})),u.setItemLayout(e,{points:n,allClipped:o});var s=u.getItemModel(e).getModel("itemStyle").getItemStyle(),l=dg(a,"color");s.fill||(s.fill=l,"string"==typeof s.fill&&(s.fill=on(s.fill,.4))),s.stroke||(s.stroke=l),u.setItemVisual(e,"style",s)})),u.diff(wz(l).data).add((function(t){var e=u.getItemLayout(t);if(!e.allClipped){var n=new ql({shape:{points:e.points}});u.setItemGraphicEl(t,n),l.group.add(n)}})).update((function(t,n){var i=wz(l).data.getItemGraphicEl(n),r=u.getItemLayout(t);r.allClipped?i&&l.group.remove(i):(i?Ou(i,{shape:{points:r.points}},e,t):i=new ql({shape:{points:r.points}}),u.setItemGraphicEl(t,i),l.group.add(i))})).remove((function(t){var e=wz(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),u.eachItemGraphicEl((function(t,n){var i=u.getItemModel(n),r=u.getItemVisual(n,"style");t.useStyle(u.getItemVisual(n,"style")),th(t,eh(i),{labelFetcher:e,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:"string"==typeof r.fill?on(r.fill,1):"#000"}),nl(t,i),Js(t),ys(t).dataModel=e})),wz(l).data=u,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(hz);var Lz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),F(e)&&P(e,(function(t,i){H(t)&&(t={type:t}),e[i]=S(t,function(t,e){return"all"===e?{type:"all",title:t.getLocale(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocale(["legend","selector","inverse"])}:void 0}(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(a)),a.length?e=e.concat(a):r=!0}else r=!0;r&&Cr(i)&&e.push(i.name)})),this._availableNames=n;var i=O(this.get("data")||e,(function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new Sh(t,this,this.ecModel)}),this);this._data=i},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&P(this._data,(function(t){e[t.get("name")]=!1}));e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;P(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;P(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&A(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Nc),kz=V,Pz=P,Oz=zi,Rz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return n(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new Oz),this.group.add(this._selectorGroup=new Oz),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),o=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===o?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(r,t,e,n,a,o,s);var l=t.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},h=t.get("padding"),c=Ac(l,u,h),p=this.layoutInner(t,r,c,i,a,s),d=Ac(T({width:p.width,height:p.height},l),u,h);this.group.x=d.x-p.x,this.group.y=d.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=dN(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,i,r,o,a){var s=this.getContentGroup(),l=ht(),u=e.get("selectedMode"),h=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&h.push(t.id)})),Pz(e.getData(),(function(r,o){var a=r.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var c=new Oz;return c.newline=!0,void s.add(c)}var p=n.getSeriesByName(a)[0];if(!l.get(a)){if(p){var d=p.getData(),f=d.getVisual("style"),g=f[d.getVisual("drawType")]||f.fill,y=f.stroke,v=f.decal,m=d.getVisual("legendSymbol")||"roundRect",_=d.getVisual("symbol");this._createItem(a,o,r,e,m,_,t,g,y,v,u).on("click",kz(Ez,a,null,i,h)).on("mouseover",kz(Bz,p.name,null,i,h)).on("mouseout",kz(Vz,p.name,null,i,h)),l.set(a,!0)}else n.eachRawSeries((function(n){if(!l.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var c=s.indexOfName(a),p=s.getItemVisual(c,"style"),d=p.stroke,f=p.decal,g=p.fill,y=qe(p.fill);y&&0===y[3]&&(y[3]=.2,g=an(y,"rgba"));this._createItem(a,o,r,e,"roundRect",null,t,g,d,f,u).on("click",kz(Ez,null,a,i,h)).on("mouseover",kz(Bz,null,a,i,h)).on("mouseout",kz(Vz,null,a,i,h)),l.set(a,!0)}}),this);0}}),this),r&&this._createSelector(r,e,i,o,a)},e.prototype._createSelector=function(t,e,n,i,r){var o=this.getSelectorGroup();Pz(t,(function(t){var i=t.type,r=new ls({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r),th(r,{normal:e.getModel("selectorLabel"),emphasis:e.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),Js(r)}))},e.prototype._createItem=function(t,e,n,i,r,o,a,s,l,u,h){var c=i.get("itemWidth"),p=i.get("itemHeight"),d=i.get("inactiveColor"),f=i.get("inactiveBorderColor"),g=i.get("symbolKeepAspect"),y=i.getModel("itemStyle"),v=i.isSelected(t),m=new Oz,_=n.getModel("textStyle"),x=n.get("icon"),b=n.getModel("tooltip"),w=b.parentModel,S=uy(r=x||r,0,0,c,p,v?s:d,null==g||g);if(m.add(Nz(S,r,y,l,f,u,v)),!x&&o&&(o!==r||"none"===o)){var M=.8*p;"none"===o&&(o="circle");var T=uy(o,(c-M)/2,(p-M)/2,M,M,v?s:d,null==g||g);m.add(Nz(T,o,y,l,f,u,v))}var C="left"===a?c+5:-5,A=a,D=i.get("formatter"),L=t;"string"==typeof D&&D?L=D.replace("{name}",null!=t?t:""):"function"==typeof D&&(L=D(t)),m.add(new ls({style:nh(_,{text:L,x:C,y:p/2,fill:v?_.getTextColor():d,align:A,verticalAlign:"middle"})}));var k=new os({shape:m.getBoundingRect(),invisible:!0});if(b.get("show")){var P={componentType:"legend",legendIndex:i.componentIndex,name:t,$vars:["name"]};k.tooltip=I({content:t,formatter:w.get("formatter",!0)||function(t){return t.name},formatterParams:P},b.option)}return m.add(k),m.eachChild((function(t){t.silent=!0})),k.silent=!h,this.getContentGroup().add(m),Js(m),m.__legendDataIndex=e,m},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();Cc(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),r){Cc("horizontal",s,t.get("selectorItemGap",!0));var h=s.getBoundingRect(),c=[-h.x,-h.y],p=t.get("selectorButtonGap",!0),d=t.getOrient().index,f=0===d?"width":"height",g=0===d?"height":"width",y=0===d?"y":"x";"end"===o?c[d]+=l[f]+p:u[d]+=h[f]+p,c[1-d]+=l[g]/2-h[g]/2,s.x=c[0],s.y=c[1],a.x=u[0],a.y=u[1];var v={x:0,y:0};return v[f]=l[f]+p+h[f],v[g]=Math.max(l[g],h[g]),v[y]=Math.min(0,h[y]+c[1-d]),v}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(pf);function Nz(t,e,n,i,r,o,a){var s;return"line"!==e&&e.indexOf("empty")<0?(s=n.getItemStyle(),t.style.stroke=i,t.style.decal=o,a||(s.stroke=r)):s=n.getItemStyle(["borderWidth","borderColor"]),t.setStyle(s),t}function Ez(t,e,n,i){Vz(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),Bz(t,e,n,i)}function zz(t){for(var e,n=t.getZr().storage.getDisplayList(),i=0,r=n.length;i<r&&!(e=n[i].states.emphasis);)i++;return e&&e.hoverLayer}function Bz(t,e,n,i){zz(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function Vz(t,e,n,i){zz(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}function Fz(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function Gz(t,e,n){var i,r={},o="toggleSelected"===t;return n.eachComponent("legend",(function(n){o&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name)),P(n.getData(),(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&i:r[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}function Hz(t){t.registerComponentModel(Lz),t.registerComponentView(Rz),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,Fz),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",V(Gz,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",V(Gz,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",V(Gz,"inverseSelect")),t.registerAction("legendSelect","legendselected",V(Gz,"select")),t.registerAction("legendUnSelect","legendunselected",V(Gz,"unSelect"))}(t)}var Wz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,i){var r=Pc(e);t.prototype.init.call(this,e,n,i),Yz(this,e,r)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Yz(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Th(Lz.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Lz);function Yz(t,e,n){var i=[1,1];i[t.getOrient().index]=0,kc(e,n,{type:"box",ignoreSize:!!i})}var Xz=zi,Uz=["width","height"],Zz=["x","y"],jz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Xz),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Xz)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,i,r,o,a,s){var l=this;t.prototype.renderInner.call(this,e,n,i,r,o,a,s);var u=this._controllerGroup,h=n.get("pageIconSize",!0),c=F(h)?h:[h,h];d("pagePrev",0);var p=n.getModel("pageTextStyle");function d(t,e){var i=t+"DataIndex",o=Uu(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:B(l._pageGo,l,i,n,r)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});o.name=t,u.add(o)}u.add(new ls({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1)},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getSelectorGroup(),s=t.getOrient().index,l=Uz[s],u=Zz[s],h=Uz[1-s],c=Zz[1-s];r&&Cc("horizontal",a,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),d=a.getBoundingRect(),f=[-d.x,-d.y],g=w(n);r&&(g[l]=n[l]-d[l]-p);var y=this._layoutContentAndController(t,i,g,s,l,h,c,u);if(r){if("end"===o)f[s]+=y[l]+p;else{var v=d[l]+p;f[s]-=v,y[u]-=v}y[l]+=d[l]+p,f[1-s]+=y[c]+y[h]/2-d[h]/2,y[h]=Math.max(y[h],d[h]),y[c]=Math.min(y[c],d[c]+f[1-s]),a.x=f[0],a.y=f[1],a.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,e,n,i,r,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,h=this._controllerGroup;Cc(t.get("orient"),l,t.get("itemGap"),i?n.width:null,i?null:n.height),Cc("horizontal",h,t.get("pageButtonItemGap",!0));var c=l.getBoundingRect(),p=h.getBoundingRect(),d=this._showController=c[r]>n[r],f=[-c.x,-c.y];e||(f[i]=l[s]);var g=[0,0],y=[-p.x,-p.y],v=tt(t.get("pageButtonGap",!0),t.get("itemGap",!0));d&&("end"===t.get("pageButtonPosition",!0)?y[i]+=n[r]-p[r]:g[i]+=p[r]+v);y[1-i]+=c[o]/2-p[o]/2,l.setPosition(f),u.setPosition(g),h.setPosition(y);var m={x:0,y:0};if(m[r]=d?n[r]:c[r],m[o]=Math.max(c[o],p[o]),m[a]=Math.min(0,p[a]+y[1-i]),u.__rectSize=n[r],d){var _={x:0,y:0};_[r]=Math.max(n[r]-p[r]-v,0),_[o]=m[o],u.setClipPath(new os({shape:_})),u.__rectSize=_[r]}else h.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var x=this._getPageInfo(t);return null!=x.pageIndex&&Ou(l,{x:x.contentPosition[0],y:x.contentPosition[1]},d?t:null),this._updatePageInfoView(t,x),m},e.prototype._pageGo=function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;P(["pagePrev","pageNext"],(function(i){var r=null!=e[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var i=n.childOfName("pageText"),r=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;i&&r&&i.setStyle("text",H(r)?r.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):r({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,o=Uz[r],a=Zz[r],s=this._findTargetItemIndex(e),l=n.children(),u=l[s],h=l.length,c=h?1:0,p={contentPosition:[n.x,n.y],pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return p;var d=m(u);p.contentPosition[r]=-d.s;for(var f=s+1,g=d,y=d,v=null;f<=h;++f)(!(v=m(l[f]))&&y.e>g.s+i||v&&!_(v,g.s))&&(g=y.i>g.i?y:v)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=g.i),++p.pageCount),y=v;for(f=s-1,g=d,y=d,v=null;f>=-1;--f)(v=m(l[f]))&&_(y,v.s)||!(g.i<y.i)||(y=g,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=v;return p;function m(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+i}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===t&&(e=r)})),null!=e?e:n):0;var e,n},e.type="legend.scroll",e}(Rz);function qz(t){em(Hz),t.registerComponentModel(Wz),t.registerComponentView(jz),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}(t)}var Kz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="dataZoom.inside",e.defaultOption=Th(KR.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(KR),$z=Lr();function Jz(t,e,n){$z(t).coordSysRecordMap.each((function(t){var i=t.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)}))}function Qz(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function tB(t,e){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function eB(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}function nB(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=$z(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=ht());i.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){P(jR(t).infoList,(function(n){var r=n.model.uid,o=i.get(r)||i.set(r,function(t,e){var n={model:e,containsPoint:V(eB,e),dispatchAction:V(tB,t),dataZoomInfoMap:null,controller:null},i=n.controller=new QS(t.getZr());return P(["pan","zoom","scrollMove"],(function(t){i.on(t,(function(e){var i=[];n.dataZoomInfoMap.each((function(r){if(e.isAvailableBehavior(r.model.option)){var o=(r.getRange||{})[t],a=o&&o(r.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!r.model.get("disabled",!0)&&a&&i.push({dataZoomId:r.model.id,start:a[0],end:a[1]})}})),i.length&&n.dispatchAction(i)}))})),n}(e,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=ht())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),i.each((function(t){var e,n=t.controller,r=t.dataZoomInfoMap;if(r){var o=r.keys()[0];null!=o&&(e=r.get(o))}if(e){var a=function(t){var e,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return t.each((function(t){var o=t.model,a=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");i[n+a]>i[n+e]&&(e=a),r=r&&o.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(r);n.enable(a.controlType,a.opt),n.setPointerChecker(t.containsPoint),Tf(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else Qz(i,t)}))}))}var iB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return n(e,t),e.prototype.render=function(e,n,i){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),Jz(i,e,{pan:B(rB.pan,this),zoom:B(rB.zoom,this),scrollMove:B(rB.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=$z(t).coordSysRecordMap,i=n.keys(),r=0;r<i.length;r++){var o=i[r],a=n.get(o),s=a.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||Qz(n,a))}}}(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(QR),rB={zoom:function(t,e,n,i){var r=this.range,o=r.slice(),a=t.axisModels[0];if(a){var s=aB[e](null,[i.originX,i.originY],a,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return tA(0,o,[0,100],0,h.minSpan,h.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:oB((function(t,e,n,i,r,o){var a=aB[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength})),scrollMove:oB((function(t,e,n,i,r,o){return aB[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,n).signal*(t[1]-t[0])*o.scrollDelta}))};function oB(t){return function(e,n,i,r){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s)return tA(t(a,s,e,n,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var aB={grid:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function sB(t){aN(t),t.registerComponentModel(Kz),t.registerComponentView(iB),nB(t)}var lB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Th(KR.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(KR),uB=os,hB="horizontal",cB="vertical",pB=["line","bar","candlestick","scatter"],dB={easing:"cubicOut",duration:100},fB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return n(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=B(this._onBrush,this),this._onBrushEnd=B(this._onBrushEnd,this)},e.prototype.render=function(e,n,i,r){if(t.prototype.render.apply(this,arguments),Tf(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){var t,e,n;(n=(t=this)[e="_dispatchZoomAction"])&&n[wf]&&(t[e]=n[wf]);var i=this.api.getZr();i.off("mousemove",this._onBrush),i.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new zi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,i=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},o=this._orient===hB?{right:r.width-i.x-i.width,top:r.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=Pc(t.option);P(["right","top","width","height"],(function(t){"ph"===a[t]&&(a[t]=o[t])}));var s=Ac(a,r);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===cB&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==hB||r?n===hB&&r?{scaleY:a?1:-1,scaleX:-1}:n!==cB||r?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=t.getBoundingRect([o]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new uB({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var r=new uB({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:B(this._onClickPanel,this)}),o=this.api.getZr();i?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(r)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=t.series,i=n.getRawData(),r=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=r){var o=i.getDataExtent(r),a=.3*(o[1]-o[0]);o=[o[0]-a,o[1]+a];var s,l=[0,e[1]],u=[0,e[0]],h=[[e[0],0],[0,0]],c=[],p=u[1]/(i.count()-1),d=0,f=Math.round(i.count()/e[0]);i.each([r],(function(t,e){if(f>0&&e%f)d+=p;else{var n=null==t||isNaN(t)||""===t,i=n?0:Ui(t,o,l,!0);n&&!s&&e?(h.push([h[h.length-1][0],0]),c.push([c[c.length-1][0],0])):!n&&s&&(h.push([d,0]),c.push([d,0])),h.push([d,i]),c.push([d,i]),d+=p,s=n}}));for(var g=this.dataZoomModel,y=0;y<3;y++){var v=m(1===y);this._displayables.sliderGroup.add(v),this._displayables.dataShadowSegs.push(v)}}}function m(t){var e=g.getModel(t?"selectedDataBackground":"dataBackground"),n=new zi,i=new ql({shape:{points:h},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),r=new $l({shape:{points:c},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(r),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,i=this.ecModel;return t.eachTargetAxis((function(r,o){P(t.getAxisProxy(r,o).getTargetSeriesModels(),(function(t){if(!(n||!0!==e&&A(pB,t.get("type"))<0)){var a,s=i.getComponent(UR(r),o).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[r],u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(a=u.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:r,otherDim:l,otherAxisInverse:a}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],i=e.handleLabels=[null,null],r=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,l=a.get("borderRadius")||0,u=a.get("brushSelect"),h=e.filler=new uB({silent:u,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});r.add(h),r.add(new uB({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),P([0,1],(function(e){var o=a.get("handleIcon");!ay[o]&&o.indexOf("path://")<0&&(o="path://"+o);var s=uy(o,-1,0,2,2,null,!0);s.attr({cursor:gB(this._orient),draggable:!0,drift:B(this._onDragMove,this,e),ondragend:B(this._onDragEnd,this),onmouseover:B(this._showDataInfo,this,!0),onmouseout:B(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),u=a.get("handleSize");this._handleHeight=Zi(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),Js(s);var h=a.get("handleColor");null!=h&&(s.style.fill=h),r.add(n[e]=s);var c=a.getModel("textStyle");t.add(i[e]=new ls({silent:!0,invisible:!0,style:{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:c.getTextColor(),font:c.getFont()},z2:10}))}),this);var c=h;if(u){var p=Zi(a.get("moveHandleSize"),o[1]),d=e.moveHandle=new os({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:p}}),f=.8*p,g=e.moveHandleIcon=uy(a.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);g.silent=!0,g.y=o[1]+p/2-.5,d.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(o[1]/2,Math.max(p,10));(c=e.moveZone=new os({invisible:!0,shape:{y:o[1]-y,height:p+y}})).on("mouseover",(function(){s.enterEmphasis(d)})).on("mouseout",(function(){s.leaveEmphasis(d)})),r.add(d),r.add(g),r.add(c)}c.attr({draggable:!0,cursor:gB(this._orient),drift:B(this._onDragMove,this,"all"),ondragstart:B(this._showDataInfo,this,!0),ondragend:B(this._onDragEnd,this),onmouseover:B(this._showDataInfo,this,!0),onmouseout:B(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Ui(t[0],[0,100],e,!0),Ui(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];tA(e,i,r,n.get("zoomLock")?"all":t,null!=o.minSpan?Ui(o.minSpan,a,r,!0):null,null!=o.maxSpan?Ui(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=qi([Ui(i[0],r,a,!0),Ui(i[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,i=qi(n.slice()),r=this._size;P([0,1],(function(t){var i=e.handles[t],o=this._handleHeight;i.attr({scaleX:o/2,scaleY:o/2,x:n[t]+(t?-1:1),y:r[1]/2-o/2})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]});var o={x:i[0],width:i[1]-i[0]};e.moveHandle&&(e.moveHandle.setShape(o),e.moveZone.setShape(o),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",o.x+o.width/2));for(var a=e.dataShadowSegs,s=[0,i[0],i[1],r[0]],l=0;l<a.length;l++){var u=a[l],h=u.getClipPath();h||(h=new os,u.setClipPath(h)),h.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,o=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,u=t?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var h=qi(this._handleEnds.slice());function c(t){var e=Vu(n.handles[t].parent,this.group),a=Gu(0===t?"right":"left",e),s=this._handleWidth/2+5,l=Fu([h[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:r===hB?"middle":a,align:r===hB?a:"center",text:o[t]})}c.call(this,0),c.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(r,20));return G(i)?i(t,o):H(i)?i.replace("{value}",o):o},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,ee(i.event);var r=Fu([e,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(t,r[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval("all",n[0]-r);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new In(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),r=[0,100];this._range=qi([Ui(n.x,i,r,!0),Ui(n.x+n.width,i,r,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(ee(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new uB({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(t,e),l=a.transformCoordToLocal(o.x,o.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),r.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?dB:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=jR(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var i=this.api.getWidth(),r=this.api.getHeight();t={x:.2*i,y:.2*r,width:.6*i,height:.6*r}}return t},e.type="dataZoom.slider",e}(QR);function gB(t){return"vertical"===t?"ns-resize":"ew-resize"}function yB(t){t.registerComponentModel(lB),t.registerComponentView(fB),aN(t)}var vB=function(t,e,n){var i=w((mB[t]||{})[e]);return n&&F(i)?i[i.length-1]:i},mB={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},_B=jI.mapVisual,xB=jI.eachVisual,bB=F,wB=P,SB=qi,MB=Ui,IB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;a.canvasSupported||(n.realtime=!1),!e&&xE(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=B(t,this),this.controllerVisuals=_E(this.option.controller,e,t),this.targetVisuals=_E(this.option.target,e,t)},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=_r(t),e},e.prototype.eachTargetSeries=function(t,e){P(this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&t.call(e,i)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var i,r=this.option,o=r.precision,a=this.dataBound,s=r.formatter;n=n||["<",">"],F(t)&&(t=t.slice(),i=!0);var l=e?t:i?[u(t[0]),u(t[1])]:u(t);return H(s)?s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):G(s)?i?s(t[0],t[1]):s(t):i?t[0]===a[0]?n[0]+" "+l[1]:t[1]===a[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function u(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,e=SB([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimension=function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var i=t.dimensions,r=i.length-1;r>=0;r--){var o=i[r];if(!t.getDimensionInfo(o).isCalculationCoord)return o}}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),r=e.controller||(e.controller={});S(i,n),S(r,n);var o=this.isCategory();function a(n){bB(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}a.call(this,i),a.call(this,r),function(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},wB(i,(function(t,e){if(jI.isValidType(e)){var n=vB(e,"inactive",o);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor");wB(this.stateList,(function(r){var a=this.itemSize,s=t[r];s||(s=t[r]={color:o?i:[i]}),null==s.symbol&&(s.symbol=e&&w(e)||(o?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&w(n)||(o?a[0]:[a[0],a[0]])),s.symbol=_B(s.symbol,(function(t){return"none"===t||"square"===t?"roundRect":t}));var l=s.symbolSize;if(null!=l){var u=-1/0;xB(l,(function(t){t>u&&(u=t)})),s.symbolSize=_B(l,(function(t){return MB(t,[0,u],[0,a[0]],!0)}))}}),this)}.call(this,r)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Nc),TB=[20,140],CB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=TB[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=TB[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):F(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),P(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=qi((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),(function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},e.prototype.getVisualMeta=function(t){var e=AB(this,"outOfRange",this.getExtent()),n=AB(this,"inRange",this.option.range.slice()),i=[];function r(e,n){i.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,l=e.length;a<l&&(!n.length||e[a]<=n[0]);a++)e[a]<n[o]&&r(e[a],"outOfRange");for(var u=1;o<s;o++,u=0)u&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<e[a])&&(u&&(i.length&&r(i[i.length-1].value,"outOfRange"),u=0),r(e[a],"outOfRange"));var h=i.length;return{stops:i,outerColors:[h?i[0].color:"transparent",h?i[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Th(IB.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(IB);function AB(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}var DB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return n(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,i):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=pc(e.get("padding")||0),i=t.getBoundingRect();t.add(new os({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var i=(n=n||{}).forceState,r=this.visualMapModel,o={};if("symbol"===e&&(o.symbol=r.get("itemSymbol")),"color"===e){var a=r.get("contentColor");o.color=a}function s(t){return o[t]}function l(t,e){o[t]=e}var u=r.controllerVisuals[i||r.getValueState(t)];return P(jI.prepareVisualTypes(u),(function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),jI.dependsOn(i,e)&&r&&r.applyVisual(t,s,l)})),o[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;Dc(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,i){},e.type="visualMap",e}(pf),LB=[["left","right","width"],["top","bottom","height"]];function kB(t,e,n){var i=t.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===i.orient?1:0,s=LB[a],l=[0,null,10],u={},h=0;h<3;h++)u[LB[1-a][h]]=l[h],u[s[h]]=2===h?n[0]:i[s[h]];var c=[["x","width",3],["y","height",0]][a],p=Ac(u,o,i.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+.5*p[c[1]]<.5*o[c[1]]?0:1]}function PB(t,e){return P(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var OB=Ui,RB=P,NB=Math.min,EB=Math.max,zB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return n(e,t),e.prototype.doRender=function(t,e,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),u=this._applyTransform(0===n?"bottom":"top",s),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new ls({style:{x:l[0],y:l[1],verticalAlign:"horizontal"===h?"middle":u,align:"horizontal"===h?u:"center",text:i,font:c.getFont(),fill:c.getTextColor()}}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,o=this._useHandle,a=kB(e,this.api,i),s=n.mainGroup=this._createBarGroup(a),l=new zi;s.add(l),l.add(n.outOfRange=BB()),l.add(n.inRange=BB(null,o?FB(this._orient):null,B(this._dragHandle,this,"all",!1),B(this._dragHandle,this,"all",!0))),l.setClipPath(new os({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect("国"),h=EB(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,i,h,r),this._createHandle(e,s,1,i,h,r)),this._createIndicator(e,s,i,h,r),t.add(s)},e.prototype._createHandle=function(t,e,n,i,r,o){var a=B(this._dragHandle,this,n,!1),s=B(this._dragHandle,this,n,!0),l=Yn(t.get("handleSize"),i[0]),u=uy(t.get("handleIcon"),-l/2,-l/2,l,l,null,!0),h=FB(this._orient);u.attr({cursor:h,draggable:!0,drift:a,ondragend:s,onmousemove:function(t){ee(t.event)}}),u.x=i[0]/2,u.useStyle(t.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),il(u,!0),e.add(u);var c=this.visualMapModel.textStyleModel,p=new ls({cursor:h,draggable:!0,drift:a,onmousemove:function(t){ee(t.event)},ondragend:s,style:{x:0,y:0,text:"",font:c.getFont(),fill:c.getTextColor()}});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var d=[l,0],f=this._shapes;f.handleThumbs[n]=u,f.handleLabelPoints[n]=d,f.handleLabels[n]=p},e.prototype._createIndicator=function(t,e,n,i,r){var o=Yn(t.get("indicatorSize"),n[0]),a=uy(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(a instanceof Ja){var l=a.style;a.useStyle(I({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);e.add(a);var u=this.visualMapModel.textStyleModel,h=new ls({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:u.getFont(),fill:u.getTextColor()}});this.group.add(h);var c=[("horizontal"===r?i/2:6)+n[0]/2,0],p=this._shapes;p.indicator=a,p.indicatorLabel=h,p.indicatorLabelPoint=c,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():VB(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[OB(e[0],n,i,!0),OB(e[1],n,i,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];tA(e,i,r,t,0);var o=n.getExtent();this._dataInterval=[OB(i[0],r,o,!0),OB(i[1],r,o,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},e.prototype._createBarVisual=function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new uu(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<100;r++){var o=t[0]+i*r;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new zi("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,a=i.itemSize,s=i.getExtent();RB([0,1],(function(l){var u=r[l];u.setStyle("fill",e.handlesColor[l]),u.y=t[l];var h=OB(t[l],[0,a[1]],s,!0),c=this.getControllerVisual(h,"symbolSize");u.scaleX=u.scaleY=c/a[0],u.x=a[0]-c/2;var p=Fu(n.handleLabelPoints[l],Vu(u,this.group));o[l].setStyle({x:p[0],y:p[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var h=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),c=this.getControllerVisual(t,"symbolSize"),p=OB(t,o,s,!0),d=a[0]-c/2,f={x:u.x,y:u.y};u.y=p,u.x=d;var g=Fu(l.indicatorLabelPoint,Vu(u,this.group)),y=l.indicatorLabel;y.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),m="horizontal"===this._orient;y.setStyle({text:(n||"")+r.formatValueText(e),verticalAlign:m?v:"middle",align:m?"center":v});var _={x:d,y:p,style:{fill:h}},x={style:{x:g[0],y:g[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var b={duration:100,easing:"cubicInOut",additive:!0};u.x=f.x,u.y=f.y,u.animateTo(_,b),y.animateTo(x,b)}else u.attr(_),y.attr(x);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var S=0;S<w.length;S++)this._api.enterBlur(w[S])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);i[1]=NB(EB(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=NB(EB(r[0],t),r[1]);var a=function(t,e,n){var i=6,r=t.get("hoverLinkDataSize");r&&(i=OB(r,e,n,!0)/2);return i}(n,o,r),s=[t-a,t+a],l=OB(t,r,o,!0),u=[OB(s[0],r,o,!0),OB(s[1],r,o,!0)];s[0]<r[0]&&(u[0]=-1/0),s[1]>r[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var h=this._hoverLinkDataIndices,c=[];(e||VB(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var p=function(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[o(n),o(i)];function r(t,e,n){for(var i=0,r=t.length;i<r;i++){var o=Tr(t[i].seriesId,null);if(null==o)return;for(var a=_r(t[i].dataIndex),s=n&&n[o],l=0,u=a.length;l<u;l++){var h=a[l];s&&s[h]?s[h]=null:(e[o]||(e[o]={}))[h]=1}}}function o(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var r=o(t[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}(h,c);this._dispatchHighDown("downplay",PB(p[0],n)),this._dispatchHighDown("highlight",PB(p[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=ys(e).dataIndex){var i=ys(e),r=this.ecModel.getSeriesByIndex(i.seriesIndex);if(n.isTargetSeries(r)){var o=r.getData(i.dataType),a=o.get(n.getDataDimension(o),i.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",PB(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,i){var r=Vu(e,i?null:this.group);return F(t)?Fu(t,r,n):Gu(t,r,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(DB);function BB(t,e,n,i){return new ql({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){ee(t.event)},ondragend:i})}function VB(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function FB(t){return"vertical"===t?"ns-resize":"ew-resize"}var GB={type:"selectDataRange",event:"dataRangeSelected",update:"update"},HB=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},WB=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var i,r,o,a,s,l=t.pipelineContext;!e.isTargetSeries(t)||l&&l.large||n.push((i=e.stateList,r=e.targetVisuals,o=B(e.getValueState,e),a=e.getDataDimension(t.getData()),s={},P(i,(function(t){var e=jI.prepareVisualTypes(r[t]);s[t]=e})),{progress:function(t,e){var n,i;function l(t){return pg(e,i,t)}function u(t,n){fg(e,i,t,n)}for(null!=a&&(n=e.getDimension(a));null!=(i=t.next());){var h=e.getRawDataItem(i);if(!h||!1!==h.visualMap)for(var c=null!=a?e.get(n,i):i,p=o(c),d=r[p],f=s[p],g=0,y=f.length;g<y;g++){var v=f[g];d[v]&&d[v].applyVisual(c,l,u)}}}}))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(B(YB,null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimension(n),a=n.getDimensionInfo(o);null!=a&&(r.dimension=a.index,i.push(r))}})),t.getData().setVisual("visualMeta",i)}}];function YB(t,e,n,i){for(var r=e.targetVisuals[i],o=jI.prepareVisualTypes(r),a={color:dg(t.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],h=r["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(n,c,p)}return a.color;function c(t){return a[t]}function p(t,e){a[t]=e}}var XB=P;function UB(t){var e=t&&t.visualMap;F(e)||(e=e?[e]:[]),XB(e,(function(t){if(t){ZB(t,"splitList")&&!ZB(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&F(e)&&XB(e,(function(t){X(t)&&(ZB(t,"start")&&!ZB(t,"min")&&(t.min=t.start),ZB(t,"end")&&!ZB(t,"max")&&(t.max=t.end))}))}}))}function ZB(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var jB=!1;function qB(t){jB||(jB=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(GB,HB),P(WB,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(UB))}function KB(t){t.registerComponentModel(CB),t.registerComponentView(zB),qB(t)}var $B=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return n(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],JB[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual((function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=w(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=O(this._pieceList,(function(t){return t=w(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},i=jI.listVisualTypes(),r=this.isCategory();function o(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}P(e.pieces,(function(t){P(i,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),P(n,(function(t,n){var i=!1;P(this.stateList,(function(t){i=i||o(e,t,n)||o(e.target,t,n)}),this),!i&&P(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=vB(n,"inRange"===t?"active":"inactive",r)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,P(i,(function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var o=!1;P(i,(function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(o?r[n]=!1:o=!0)}),this)}},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=w(t)},e.prototype.getValueState=function(t){var e=jI.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(i){var r=[],o=i.getData();o.each(this.getDataDimension(o),(function(e,i){jI.findPieceIndex(e,n)===t&&r.push(i)}),this),e.push({seriesId:i.id,dataIndex:r})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],i=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return P(r,(function(t){var e=t.interval;e&&(e[0]>a&&s([a,e[0]],"outOfRange"),s(e.slice()),a=e[1])}),this),{stops:e,outerColors:n}}function s(r,o){var a=i.getRepresentValue({interval:r});o||(o=i.getValueState(a));var s=t(a,o);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:e.push({value:r[0],color:s},{value:r[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=Th(IB.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(IB),JB={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++){var l=a===r-1?i[1]:s+o;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),ur(t),P(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;P(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),QB(e,t)},pieces:function(t){var e=this.option;P(e.pieces,(function(e,n){X(e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],h=0;h<2;h++){for(var c=[["gte","gt","min"],["lte","lt","max"]][h],p=0;p<3&&null==o[h];p++)o[h]=e[c[p]],a[h]=s[p],u[h]=2===p;null==o[h]&&(o[h]=l[h])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=jI.retrieveVisuals(e),t.push(i)}),this),QB(e,t),ur(t),P(t,(function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function QB(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var tV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),i=e.textStyleModel,r=i.getFont(),o=i.getTextColor(),a=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),u=l.endsText,h=Q(e.get("showLabel",!0),!u);u&&this._renderEndsText(t,u[0],s,h,a),P(l.viewPieceList,(function(i){var l=i.piece,u=new zi;u.onclick=B(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var c=e.getRepresentValue(l);if(this._createItemSymbol(u,c,[0,0,s[0],s[1]]),h){var p=this.visualMapModel.getValueState(c);u.add(new ls({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:r,fill:o,opacity:"outOfRange"===p?.5:1}}))}t.add(u)}),this),u&&this._renderEndsText(t,u[1],s,h,a),Cc(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:PB(i.findTargetDataIndices(e),i)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return kB(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,i,r){if(e){var o=new zi,a=this.visualMapModel.textStyleModel;o.add(new ls({style:{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:e,font:a.getFont(),fill:a.getTextColor()}})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=O(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),i=t.get("orient"),r=t.get("inverse");return("horizontal"===i?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(uy(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,i=w(n.selected),r=e.getSelectedMapKey(t);"single"===n.selectedMode?(i[r]=!0,P(i,(function(t,e){i[e]=e===r}))):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})},e.type="visualMap.piecewise",e}(DB);function eV(t){t.registerComponentModel($B),t.registerComponentView(tV),qB(t)}var nV={label:{enabled:!0},decal:{show:!1}},iV=Lr(),rV={};function oV(t,e){var n=t.getModel("aria");if(n.get("enabled")){var i=w(nV);S(i.label,t.getLocaleModel().get("aria"),!1),S(n.option,i,!1),function(){if(n.getModel("decal").get("show")){var e=ht();t.eachSeries((function(t){if(t.useColorPaletteOnData){var n=e.get(t.type);n||(n={},e.set(t.type,n)),iV(t).scope=n}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if("function"!=typeof e.enableAriaDecal){var n=e.getData();if(e.useColorPaletteOnData){var i=e.getRawData(),r={},o=iV(e).scope;n.each((function(t){var e=n.getRawIndex(t);r[e]=t}));var a=i.count();i.each((function(t){var s=r[t],l=i.getName(t)||t+"",h=hp(e.ecModel,l,o,a),c=n.getItemVisual(s,"decal");n.setItemVisual(s,"decal",u(c,h))}))}else{var s=hp(e.ecModel,e.name,rV,t.getSeriesCount()),l=n.getVisual("decal");n.setVisual("decal",u(l,s))}}else e.enableAriaDecal();function u(t,e){var n=t?I(I({},e),t):e;return n.dirty=!0,n}}))}}(),function(){var i=t.getLocaleModel().get("aria"),o=n.getModel("label");if(o.option=T(o.option,i),!o.get("enabled"))return;var a=e.getZr().dom;if(o.get("description"))return void a.setAttribute("aria-label",o.get("description"));var s,l=t.getSeriesCount(),u=o.get(["data","maxCount"])||10,h=o.get(["series","maxCount"])||10,c=Math.min(l,h);if(l<1)return;var p=function(){var e=t.get("title");e&&e.length&&(e=e[0]);return e&&e.text}();if(p){var d=o.get(["general","withTitle"]);s=r(d,{title:p})}else s=o.get(["general","withoutTitle"]);var f=[],g=l>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]);s+=r(g,{seriesCount:l}),t.eachSeries((function(e,n){if(n<c){var i=void 0,a=e.get("name")?"withName":"withoutName";i=r(i=l>1?o.get(["series","multiple",a]):o.get(["series","single",a]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(_=e.subType,t.getLocaleModel().get(["series","typeNames"])[_]||"自定义图")});var s=e.getData();if(s.count()>u)i+=r(o.get(["data","partialData"]),{displayCnt:u});else i+=o.get(["data","allData"]);for(var h=[],p=0;p<s.count();p++)if(p<u){var d=s.getName(p),g=fd(s,p),y=o.get(["data",d?"withName":"withoutName"]);h.push(r(y,{name:d,value:g}))}var v=o.get(["data","separator","middle"]),m=o.get(["data","separator","end"]);i+=h.join(v)+m,f.push(i)}var _}));var y=o.getModel(["series","multiple","separator"]),v=y.get("middle"),m=y.get("end");s+=f.join(v)+m,a.setAttribute("aria-label",s)}()}function r(t,e){if("string"!=typeof t)return t;var n=t;return P(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}}function aV(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},P(["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}var sV={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},lV=function(){function t(t){if(null==(this._condVal=H(t)?new RegExp(t):$(t)?t:null)){var e="";0,yr(e)}}return t.prototype.evaluate=function(t){var e=typeof t;return"string"===e?this._condVal.test(t):"number"===e&&this._condVal.test(t+"")},t}(),uV=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),hV=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),cV=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),pV=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),dV=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:e))return!1;return!0},t}();function fV(t,e){if(!0===t||!1===t){var n=new uV;return n.value=t,n}var i="";return yV(t)||yr(i),t.and?gV("and",t,e):t.or?gV("or",t,e):t.not?function(t,e){var n=t.not,i="";0;yV(n)||yr(i);var r=new pV;r.child=fV(n,e),r.child||yr(i);return r}(t,e):function(t,e){for(var n="",i=e.prepareGetValue(t),r=[],o=z(t),a=t.parser,s=a?Sd(a):null,l=0;l<o.length;l++){var u=o[l];if("parser"!==u&&!e.valueGetterAttrMap.get(u)){var h=dt(sV,u)?sV[u]:u,c=t[u],p=s?s(c):c,d=Ad(h,p)||"reg"===h&&new lV(p);d||yr(n),r.push(d)}}r.length||yr(n);var f=new dV;return f.valueGetterParam=i,f.valueParser=s,f.getValue=e.getValue,f.subCondList=r,f}(t,e)}function gV(t,e,n){var i=e[t],r="";F(i)||yr(r),i.length||yr(r);var o="and"===t?new hV:new cV;return o.children=O(i,(function(t){return fV(t,n)})),o.children.length||yr(r),o}function yV(t){return X(t)&&!k(t)}var vV=function(){function t(t,e){this._cond=fV(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var mV={type:"echarts:filter",transform:function(t){for(var e,n,i,r=t.upstream,o=(n=t.config,i={valueGetterAttrMap:ht({dimension:!0}),prepareGetValue:function(t){var e="",n=t.dimension;dt(t,"dimension")||yr(e);var i=r.getDimensionInfo(n);return i||yr(e),{dimIdx:i.index}},getValue:function(t){return r.retrieveValueFromItem(e,t.dimIdx)}},new vV(n,i)),a=[],s=0,l=r.count();s<l;s++)e=r.getRawDataItem(s),o.evaluate()&&a.push(e);return{data:a}}};var _V={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,i="",r=_r(n);r.length||yr(i);var o=[];P(r,(function(t){var n=t.dimension,r=t.order,a=t.parser,s=t.incomparable;if(null==n&&yr(i),"asc"!==r&&"desc"!==r&&yr(i),s&&"min"!==s&&"max"!==s){var l="";0,yr(l)}if("asc"!==r&&"desc"!==r){var u="";0,yr(u)}var h=e.getDimensionInfo(n);h||yr(i);var c=a?Sd(a):null;a&&!c&&yr(i),o.push({dimIdx:h.index,parser:c,comparator:new Td(r,s)})}));var a=e.sourceFormat;a!==Gc&&a!==Hc&&yr(i);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,n){for(var i=0;i<o.length;i++){var r=o[i],a=e.retrieveValueFromItem(t,r.dimIdx),s=e.retrieveValueFromItem(n,r.dimIdx);r.parser&&(a=r.parser(a),s=r.parser(s));var l=r.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}};var xV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return n(e,t),e.prototype.init=function(e,n,i){t.prototype.init.call(this,e,n,i),this._sourceManager=new zd(this),Bd(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Bd(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Uc},e}(Nc),bV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return n(e,t),e.type="dataset",e}(pf);em([function(t){t.registerPainter("canvas",vb)}]),em([function(t){t.registerPainter("svg",lb)}]),em([function(t){t.registerChartView(Jb),t.registerSeriesModel(mb),t.registerLayout(Qb("line",!0)),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,nw("line"))},function(t){t.registerChartView(pw),t.registerSeriesModel(rw),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,V(h_,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,c_),t.registerVisual({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,nw("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))},function(t){t.registerChartView(Ow),t.registerSeriesModel(Ew),Kg("pie",t.registerAction),t.registerLayout(V(Iw,"pie")),t.registerProcessor(Tw("pie"))},function(t){em(NS),t.registerSeriesModel(zw),t.registerChartView(Gw),t.registerLayout(Qb("scatter"))},function(t){em(qS),t.registerChartView(FS),t.registerSeriesModel(GS),t.registerLayout(ES),t.registerProcessor(Tw("radar")),t.registerPreprocessor(VS)},function(t){t.registerChartView(VM),t.registerSeriesModel(FM),t.registerLayout(HM),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,GM),Kg("map",t.registerAction)},function(t){t.registerChartView(iI),t.registerSeriesModel(_I),t.registerLayout(bI),t.registerVisual(wI),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,i=e.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=SI(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)}))}))}(t)},function(t){t.registerSeriesModel(kI),t.registerChartView(YI),t.registerVisual(sT),t.registerLayout(xT),function(t){for(var e=0;e<DI.length;e++)t.registerAction({type:DI[e],update:"updateView"},AI);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,n){var i=MI(t,["treemapZoomToNode","treemapRootToNode"],e);if(i){var r=e.getViewRoot();r&&(t.direction=TI(r,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}))}))}(t)},function(t){t.registerChartView(_C),t.registerSeriesModel(TC),t.registerProcessor(TT),t.registerVisual(CT),t.registerVisual(DT),t.registerLayout(VT),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,UT),t.registerLayout(jT),t.registerCoordinateSystem("graphView",{dimensions:QM.dimensions,create:qT}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){})),t.registerAction(CC,(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var n=SI(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)}))}))},function(t){t.registerChartView(PC),t.registerSeriesModel(OC)},function(t){t.registerChartView(EC),t.registerSeriesModel(zC),t.registerLayout(BC),t.registerProcessor(Tw("funnel"))},function(t){em(hD),t.registerChartView(VC),t.registerSeriesModel(YC),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,ZC)},function(t){t.registerChartView(dD),t.registerSeriesModel(fD),t.registerLayout(gD),t.registerVisual(CD),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))},function(t){t.registerSeriesModel(DD),t.registerChartView(LD),t.registerVisual(ED),t.registerLayout(BD),t.registerTransform(VD)},function(t){t.registerChartView(GD),t.registerSeriesModel(JD),t.registerPreprocessor(QD),t.registerVisual(rL),t.registerLayout(aL)},function(t){t.registerChartView(hL),t.registerSeriesModel(cL),t.registerLayout(Qb("effectScatter"))},function(t){t.registerChartView(_L),t.registerSeriesModel(SL),t.registerLayout(mL),t.registerVisual(IL)},function(t){t.registerChartView(AL),t.registerSeriesModel(DL)},function(t){t.registerChartView(OL),t.registerSeriesModel($L),t.registerLayout(V(h_,"pictorialBar"))},function(t){t.registerChartView(JL),t.registerSeriesModel(QL),t.registerLayout(tk),t.registerProcessor(Tw("themeRiver"))},function(t){t.registerChartView(ok),t.registerSeriesModel(ak),t.registerLayout(V(uk,"sunburst")),t.registerProcessor(V(Tw,"sunburst")),t.registerVisual(ck),function(t){t.registerAction({type:ik,update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,n){var i=MI(t,[ik],e);if(i){var r=e.getViewRoot();r&&(t.direction=TI(r,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}))})),t.registerAction({type:rk,update:"none"},(function(t,e,n){t=I({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e){var n=MI(t,[rk],e);n&&(t.dataIndex=n.node.dataIndex)})),n.dispatchAction(I(t,{type:"highlight"}))})),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(t,e,n){t=I({},t),n.dispatchAction(I(t,{type:"downplay"}))}))}(t)},function(t){t.registerChartView(lP),t.registerSeriesModel(sP)}]),em((function(t){em(NS),em(AO)})),em((function(t){em(AO),SS.registerAxisPointerClass("PolarAxisPointer",DO),t.registerCoordinateSystem("polar",HO),t.registerComponentModel(kO),t.registerComponentView(rR),qw(t,"angle",OO,nR),qw(t,"radius",RO,iR),t.registerComponentView(ZO),t.registerComponentView($O),t.registerLayout(V(eR,"bar"))})),em((function(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,(function(t,n){var i={};return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name),P(n.coordinateSystem.regions,(function(t){i[t.name]=n.isSelected(t.name)||!1}))})),{selected:i,name:t.name}}))}t.registerCoordinateSystem("geo",lR),t.registerComponentModel(uR),t.registerComponentView(hR),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){var i=e.coordinateSystem;if("geo"===i.type){var r=SI(i,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom),"series"===n&&P(e.seriesGroup,(function(t){t.setCenter(r.center),t.setZoom(r.zoom)}))}}))}))})),em((function(t){em(AO),SS.registerAxisPointerClass("SingleAxisPointer",SR),t.registerComponentView(CR),t.registerComponentView(fR),t.registerComponentModel(yR),qw(t,"single",yR,yR.defaultOption),t.registerCoordinateSystem("single",xR)})),em(hD),em((function(t){t.registerComponentModel(AR),t.registerComponentView(PR),t.registerCoordinateSystem("calendar",RR)})),em((function(t){t.registerComponentModel(VR),t.registerComponentView(FR),t.registerPreprocessor(BR)})),em((function(t){t.registerComponentModel(pN),t.registerComponentView(fN),hN("saveAsImage",gN),hN("magicType",mN),hN("dataView",IN),hN("dataZoom",jN),hN("restore",LN),em(sN)})),em((function(t){em(AO),t.registerComponentModel($N),t.registerComponentView(cE),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))})),em(AO),em((function(t){t.registerComponentView(OE),t.registerComponentModel(RE),t.registerPreprocessor(yE),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,AE),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},(function(){})),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},(function(){})),hN("brush",zE)})),em((function(t){t.registerComponentModel(BE),t.registerComponentView(VE)})),em((function(t){t.registerComponentModel(GE),t.registerComponentView(UE),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),T({currentIndex:n.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))}(t),t.registerPreprocessor(qE)})),em((function(t){t.registerComponentModel(ez),t.registerComponentView(pz),t.registerPreprocessor((function(t){t.markPoint=t.markPoint||{}}))})),em((function(t){t.registerComponentModel(dz),t.registerComponentView(xz),t.registerPreprocessor((function(t){t.markLine=t.markLine||{}}))})),em((function(t){t.registerComponentModel(bz),t.registerComponentView(Dz),t.registerPreprocessor((function(t){t.markArea=t.markArea||{}}))})),em((function(t){em(Hz),em(qz)})),em((function(t){em(sB),em(yB)})),em(sB),em(yB),em((function(t){em(KB),em(eV)})),em(KB),em(eV),em((function(t){t.registerPreprocessor(aV),t.registerVisual(t.PRIORITY.VISUAL.ARIA,oV)})),em((function(t){t.registerTransform(mV),t.registerTransform(_V)})),em((function(t){t.registerComponentModel(xV),t.registerComponentView(bV)})),t.Axis=vx,t.ChartView=yf,t.ComponentModel=Nc,t.ComponentView=pf,t.List=Pm,t.Model=Sh,t.PRIORITY=Wy,t.SeriesModel=rf,t.color=ln,t.connect=function(t){if(F(t)){var e=t;t=null,Ey(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+Rv++,Ey(e,(function(e){e.group=t}))}return Pv[t]=!0,t},t.dataTool={},t.dependencies={zrender:"5.0.3"},t.disConnect=Ev,t.disconnect=zv,t.dispose=function(t){"string"==typeof t?t=kv[t]:t instanceof mv||(t=Bv(t)),t instanceof mv&&!t.isDisposed()&&t.dispose()},t.env=a,t.extendChartView=function(t){var e=yf.extend(t);return yf.registerClass(e),e},t.extendComponentModel=function(t){var e=Nc.extend(t);return Nc.registerClass(e),e},t.extendComponentView=function(t){var e=pf.extend(t);return pf.registerClass(e),e},t.extendSeriesModel=function(t){var e=rf.extend(t);return rf.registerClass(e),e},t.format=ox,t.getCoordinateSystemDimensions=function(t){var e=_p.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.getInstanceByDom=Bv,t.getInstanceById=function(t){return kv[t]},t.getMap=function(t){var e=lg(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},t.graphic=rx,t.helper=K_,t.init=function(t,e,n){var i=Bv(t);if(i)return i;var r=new mv(t,e,n);return r.id="ec_"+Ov++,kv[r.id]=r,Er(t,Nv,r.id),pv(r),Ey(Tv,(function(t){t(r)})),r},t.innerDrawElementOnCanvas=Ty,t.matrix=Se,t.number=nx,t.parseGeoJSON=ex,t.parseGeoJson=ex,t.registerAction=Yv,t.registerCoordinateSystem=Xv,t.registerLayout=Uv,t.registerLoading=Kv,t.registerLocale=Oh,t.registerMap=$v,t.registerPostInit=Hv,t.registerPostUpdate=Wv,t.registerPreprocessor=Fv,t.registerProcessor=Gv,t.registerTheme=Vv,t.registerTransform=Jv,t.registerVisual=Zv,t.setCanvasCreator=function(t){m("createCanvas",t)},t.throttle=If,t.time=ix,t.use=em,t.util=ax,t.vector=zt,t.version="5.0.1",t.zrUtil=gt,t.zrender=Yi,Object.defineProperty(t,"__esModule",{value:!0})}));
(function($){
  $.fn.rowGrid = function( options ) {
    return this.each(function() {
      $this = $(this);
      if(options === 'appended') {
        options = $this.data('grid-options');
        var $lastRow = $this.children('.' + options.lastRowClass);
        var items = $lastRow.nextAll(options.itemSelector).add($lastRow);
        layout(this, options, items);
      } else {
        options = $.extend( {}, $.fn.rowGrid.defaults, options );
        $this.data('grid-options', options);
        layout(this, options);
        
        if(options.resize) {
          $(window).on('resize.rowGrid', {container: this}, function(event) {
            layout(event.data.container, options);
          });
        }
      }
    });
  };
  
  $.fn.rowGrid.defaults = {
    minMargin: null,
    maxMargin: null,
    resize: true,
    lastRowClass: 'last-row',
    firstItemClass: null
  };
 
  function layout(container, options, items) {
    var rowWidth = 0,
        rowElems = [],
        items = jQuery.makeArray(items || container.querySelectorAll(options.itemSelector)),
        itemsSize = items.length;
    // read
    var containerWidth = container.clientWidth-parseFloat($(container).css('padding-left'))-parseFloat($(container).css('padding-right'))-1;
    var itemAttrs = [];
    var theImage, w, h;
    for(var i = 0; i < itemsSize; ++i) {
      theImage = items[i].getElementsByTagName('img')[0];
      if (!theImage) {
        items.splice(i, 1);
        --i;
        --itemsSize;
        continue;
      }
      // get width and height via attribute or js value
      if (!(w = parseInt(theImage.getAttribute('width')))) {
        theImage.setAttribute('width', w = theImage.offsetWidth);
      } 
      if (!(h = parseInt(theImage.getAttribute('height')))) {
        theImage.setAttribute('height', h = theImage.offsetHeight);
      } 
      
      itemAttrs[i] = {
        width: w,
        height: h
      };
    }
    itemsSize = items.length;

    // write
    for(var index = 0; index < itemsSize; ++index) {
      if (items[index].classList) {
        items[index].classList.remove(options.firstItemClass);
        items[index].classList.remove(options.lastRowClass);
      } else {
        // IE <10
        items[index].className = items[index].className.replace(new RegExp('(^|\\b)' + options.firstItemClass + '|' + options.lastRowClass + '(\\b|$)', 'gi'), ' ');
      }

      rowWidth += itemAttrs[index].width;
      rowElems.push(items[index]);
      
      // check if it is the last element
      if(index === itemsSize - 1) {
        for(var rowElemIndex = 0; rowElemIndex<rowElems.length; rowElemIndex++) {
          // if first element in row
          if(rowElemIndex === 0) {
            rowElems[rowElemIndex].className += ' ' + options.lastRowClass;
          }
          rowElems[rowElemIndex].style.cssText =
              'width: ' + itemAttrs[index+parseInt(rowElemIndex)-rowElems.length+1].width + 'px;' +
              'height: ' + itemAttrs[index+parseInt(rowElemIndex)-rowElems.length+1].height + 'px;' +
              'margin-right:' + ((rowElemIndex < rowElems.length - 1)?options.minMargin+'px' : 0);
        }
      }      
      
      // check whether width of row is too high
      if(rowWidth + options.maxMargin * (rowElems.length - 1) > containerWidth) {
        var diff = rowWidth + options.maxMargin * (rowElems.length - 1) - containerWidth;
        var nrOfElems = rowElems.length;
        // change margin
        var maxSave = (options.maxMargin - options.minMargin) * (nrOfElems - 1);
        if(maxSave < diff) {
          var rowMargin = options.minMargin;
          diff -= (options.maxMargin - options.minMargin) * (nrOfElems - 1);
        } else {
          var rowMargin = options.maxMargin - diff / (nrOfElems - 1);
          diff = 0;
        }
        var rowElem,
          widthDiff = 0;
        for(var rowElemIndex = 0; rowElemIndex<rowElems.length; rowElemIndex++) {
          rowElem = rowElems[rowElemIndex];
          var rowElemWidth = itemAttrs[index+parseInt(rowElemIndex)-rowElems.length+1].width;
          var newWidth = rowElemWidth - (rowElemWidth / rowWidth) * diff;
          var newHeight = Math.round(itemAttrs[index+parseInt(rowElemIndex)-rowElems.length+1].height * (newWidth / rowElemWidth));
          if (widthDiff + 1 - newWidth % 1 >= 0.5 ) {
            widthDiff -= newWidth % 1;
            newWidth = Math.floor(newWidth);
          } else {
            widthDiff += 1 - newWidth % 1;
            newWidth = Math.ceil(newWidth);
          }
          rowElem.style.cssText =
              'width: ' + newWidth + 'px;' +
              'height: ' + newHeight + 'px;' +
              'margin-right: ' + ((rowElemIndex < rowElems.length - 1)?rowMargin : 0) + 'px';
          if(rowElemIndex === 0) {
            rowElem.className += ' ' + options.firstItemClass;
          }
        }
        rowElems = [],
          rowWidth = 0;
      }
    }
  }
})(jQuery);
/**
 * Owl Carousel v2.3.4
 * Copyright 2013-2018 David Deutsch
 * Licensed under: SEE LICENSE IN https://github.com/OwlCarousel2/OwlCarousel2/blob/master/LICENSE
 */
!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g>0;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i,g-=1;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],e.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(a("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},e.prototype.initializeItems=function(){var b=this.$element.find(".owl-item");if(b.length)return this._items=b.get().map(function(b){return a(b)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var a,b,c;a=this.$element.find("img"),b=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,c=this.$element.children(b).width(),a.length&&c<=0&&this.preloadAutoWidthImages(a)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var e=-1,f=30,g=this.width(),h=this.coordinates();return this.settings.freeDrag||a.each(h,a.proxy(function(a,i){return"left"===c&&b>i-f&&b<i+f?e=a:"right"===c&&b>i-g-f&&b<i-g+f?e=a+1:this.op(b,"<",i)&&this.op(b,">",h[a+1]!==d?h[a+1]:i-g)&&(e="left"===c?a+1:a),-1===e},this)),this.settings.loop||(this.op(b,">",h[this.minimum()])?e=b=this.minimum():this.op(b,"<",h[this.maximum()])&&(e=b=this.maximum())),e},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){(a=this.normalize(a))!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){if(b=this._items.length)for(c=this._items[--b].width(),d=this.$element.width();b--&&!((c+=this._items[b].width()+this.settings.margin)>d););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2==0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=-1*f*g),a=c+e,(d=((a-h)%g+g)%g+h)!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.isVisible()&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){(a=this.normalize(a,!0))!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),!1!==this.settings.responsive&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&-1!==a.namespace.indexOf("owl")?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type)){var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&-1*e||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);for(c.lazyLoadEager>0&&(e+=c.lazyLoadEager,c.loop&&(g-=c.lazyLoadEager,e++));f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src")||f.attr("data-srcset");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):f.is("source")?f.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("srcset",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(c){this._core=c,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"===a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var d=this;a(b).on("load",function(){d._core.settings.autoHeight&&d.update()}),a(b).resize(function(){d._core.settings.autoHeight&&(null!=d._intervalId&&clearTimeout(d._intervalId),d._intervalId=setTimeout(function(){d.update()},250))})};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.settings.lazyLoad,e=this._core.$stage.children().toArray().slice(b,c),f=[],g=0;a.each(e,function(b,c){f.push(a(c).height())}),g=Math.max.apply(null,f),g<=1&&d&&this._previousHeight&&(g=this._previousHeight),this._previousHeight=g,this._core.$stage.parent().height(g).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?"width:"+c.width+"px;height:"+c.height+"px;":"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(c){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?a("<div/>",{class:"owl-video-tn "+j,srcType:c}):a("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+c+")"}),b.after(d),b.after(e)};if(b.wrap(a("<div/>",{class:"owl-video-wrapper",style:g})),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),c=a('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),c.attr("height",h),c.attr("width",g),"youtube"===f.type?c.attr("src","//www.youtube.com/embed/"+f.id+"?autoplay=1&rel=0&v="+f.id):"vimeo"===f.type?c.attr("src","//player.vimeo.com/video/"+f.id+"?autoplay=1"):"vzaar"===f.type&&c.attr("src","//view.vzaar.com/"+f.id+"/player?autoplay=true"),a(c).wrap('<div class="owl-video-frame" />').insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,
animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype._next=function(d){this._call=b.setTimeout(a.proxy(this._next,this,d),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||c.hidden||this._core.next(d||this._core.settings.autoplaySpeed)},e.prototype.read=function(){return(new Date).getTime()-this._time},e.prototype.play=function(c,d){var e;this._core.is("rotating")||this._core.enter("rotating"),c=c||this._core.settings.autoplayTimeout,e=Math.min(this._time%(this._timeout||c),c),this._paused?(this._time=this.read(),this._paused=!1):b.clearTimeout(this._call),this._time+=this.read()%c-e,this._timeout=c,this._call=b.setTimeout(a.proxy(this._next,this,d),c-e)},e.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,b.clearTimeout(this._call),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,b.clearTimeout(this._call))},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a('<button role="button">').addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d,e;e=this._core.settings;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)"$relative"===b&&e.navContainer?this._controls[b].html(""):this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);

let index = $('.attention_content ul li.active').index();
let suggestionUrl = 'http://192.168.190.122:1876/dam-api/search/suggestion';
$(function(){
    //$(".recommend_content_two").css("height", $(".recommend_content_one").height());
    $('#searchWords,#searchWordsM').typeahead({
        source: function (query, process) {
            //query是输入值
            let data=[]
            $.ajax({
                url: suggestionUrl + "/" + query, // 目标资源
                cache: false, //true 如果当前请求有缓存的话，直接使用缓存。如果该属性设置为 false，则每次都会向服务器请求
                async: false, //默认是true，即为异步方式-
                dataType: "json", // 服务器响应的数据类型
                type: "get", // 请求方式
                contentType: "application/json;charset=utf-8",
                success: function (obj) {
                    data = obj.data
                }
            })
            process(data);
        },
        updater: function (item) {
            return item.replace(/<[^>]+>/g,""); //这里一定要return，否则选中不显示
        },
        afterSelect: function (item) {
            //选择项之后的时间，item是当前选中的项
            //alert(item);
        },
        items: 8, //显示8条
        delay: 500 //延迟时间
    });
    /*$('.bottom_ul li').click(function(){
      $(this).siblings('li').removeClass('active');
      $(this).addClass('active');
      if ($(this).index() === 1) {
          $(".nav_ul").removeClass('show_drop');
      } else {
          $(".nav_ul").addClass('show_drop');
      }
    })*/

    $('body').click(function(event){
        if($(event.target).hasClass("position-relative")){
            if(!$(".nav_ul").hasClass("show_drop")){
                $(".nav_ul").addClass('show_drop');
            }else{
                $(".nav_ul").removeClass('show_drop');
            }
        }else{
            if(!$(".nav_ul").hasClass("show_drop")){
                $(".nav_ul").addClass('show_drop');
            }
        }
        if($(event.target).attr("src")!=undefined){
            if($(event.target).attr("src").indexOf("guanzhu.png")>-1){
                $(event.target).attr("src","images/index/guanzhu_b.png")
            }else if($(event.target).attr("src").indexOf("guanzhu_b.png")>-1){
                $(event.target).attr("src","images/index/guanzhu.png")
            }
            if($(event.target).attr("src").indexOf("myCollect.png")>-1){
                $(event.target).attr("src",$(event.target).attr("src").replace("myCollect","myCollect_b"))
            }else if($(event.target).attr("src").indexOf("myCollect_b.png")>-1){
                $(event.target).attr("src",$(event.target).attr("src").replace("myCollect_b","myCollect"))
            }
            if($(event.target).attr("src").indexOf("collect.png")>-1){
                $(event.target).attr("src",$(event.target).attr("src").replace("collect","collect_b"))
            }else if($(event.target).attr("src").indexOf("collect_b.png")>-1){
                $(event.target).attr("src",$(event.target).attr("src").replace("collect_b","collect"))
            }
        }
    })
    $(".top_profile_img").bind("click",function(event){
        event.stopPropagation()
        event.preventDefault()
        $('#dropdownMenuLink').trigger("click")
    })
})
function click_head(){
    window.location.href="index.html";
}
function click_head_ma(){
    window.location.href="material.html";
}
function open_menu(){
    $(".overlay").show();
    $(".navbar-box").css("width","220px")
}
function close_menu(){
    $(".overlay").hide();
    $(".navbar-box").css("width","0px")
}


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS0zLjEuMS5taW4uanMiLCJwb3BwZXIubWluLmpzIiwiYm9vdHN0cmFwLmpzIiwiYm9vdHN0cmFwMy10eXBlYWhlYWQuanMiLCJjbGlwYm9hcmQuanMiLCJlY2hhcnRzLmpzIiwianF1ZXJ5LnJvdy1ncmlkLmpzIiwib3dsLmNhcm91c2VsLm1pbi5qcyIsIm1lbnUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2wwSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzlVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJwZXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIGpRdWVyeeWOn+eQhiB2My4xLjEgfCAoYykgalF1ZXJ55Y6f55CGIEZvdW5kYXRpb24gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbiFmdW5jdGlvbihhLGIpe1widXNlIHN0cmljdFwiO1wib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ55Y6f55CGIHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gYihhKX06YihhKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe1widXNlIHN0cmljdFwiO3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPU9iamVjdC5nZXRQcm90b3R5cGVPZixmPWMuc2xpY2UsZz1jLmNvbmNhdCxoPWMucHVzaCxpPWMuaW5kZXhPZixqPXt9LGs9ai50b1N0cmluZyxsPWouaGFzT3duUHJvcGVydHksbT1sLnRvU3RyaW5nLG49bS5jYWxsKE9iamVjdCksbz17fTtmdW5jdGlvbiBwKGEsYil7Yj1ifHxkO3ZhciBjPWIuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtjLnRleHQ9YSxiLmhlYWQuYXBwZW5kQ2hpbGQoYykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX12YXIgcT1cIjMuMS4xXCIscj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgci5mbi5pbml0KGEsYil9LHM9L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLHQ9L14tbXMtLyx1PS8tKFthLXpdKS9nLHY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtyLmZuPXIucHJvdG90eXBlPXtqcXVlcnk6cSxjb25zdHJ1Y3RvcjpyLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/Zi5jYWxsKHRoaXMpOmE8MD90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV19LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1yLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYn0sZWFjaDpmdW5jdGlvbihhKXtyZXR1cm4gci5lYWNoKHRoaXMsYSl9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soci5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhmLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKGE8MD9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZjPGI/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcigpfSxwdXNoOmgsc29ydDpjLnNvcnQsc3BsaWNlOmMuc3BsaWNlfSxyLmV4dGVuZD1yLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPWFyZ3VtZW50c1swXXx8e30saD0xLGk9YXJndW1lbnRzLmxlbmd0aCxqPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksXCJvYmplY3RcIj09dHlwZW9mIGd8fHIuaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aDxpO2grKylpZihudWxsIT0oYT1hcmd1bWVudHNbaF0pKWZvcihiIGluIGEpYz1nW2JdLGQ9YVtiXSxnIT09ZCYmKGomJmQmJihyLmlzUGxhaW5PYmplY3QoZCl8fChlPXIuaXNBcnJheShkKSkpPyhlPyhlPSExLGY9YyYmci5pc0FycmF5KGMpP2M6W10pOmY9YyYmci5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1yLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sci5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisocStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihhKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1yLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7dmFyIGI9ci50eXBlKGEpO3JldHVybihcIm51bWJlclwiPT09Ynx8XCJzdHJpbmdcIj09PWIpJiYhaXNOYU4oYS1wYXJzZUZsb2F0KGEpKX0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiEoIWF8fFwiW29iamVjdCBPYmplY3RdXCIhPT1rLmNhbGwoYSkpJiYoIShiPWUoYSkpfHwoYz1sLmNhbGwoYixcImNvbnN0cnVjdG9yXCIpJiZiLmNvbnN0cnVjdG9yLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMmJm0uY2FsbChjKT09PW4pKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYT9qW2suY2FsbChhKV18fFwib2JqZWN0XCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7cChhKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodCxcIm1zLVwiKS5yZXBsYWNlKHUsdil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MDtpZih3KGEpKXtmb3IoYz1hLmxlbmd0aDtkPGM7ZCsrKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVha31lbHNlIGZvcihkIGluIGEpaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6KGErXCJcIikucmVwbGFjZShzLFwiXCIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHcoT2JqZWN0KGEpKT9yLm1lcmdlKGMsXCJzdHJpbmdcIj09dHlwZW9mIGE/W2FdOmEpOmguY2FsbChjLGEpKSxjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbD09Yj8tMTppLmNhbGwoYixhLGMpfSxtZXJnZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7ZDxjO2QrKylhW2UrK109YltkXTtyZXR1cm4gYS5sZW5ndGg9ZSxhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aCxoPSFjO2Y8ZztmKyspZD0hYihhW2ZdLGYpLGQhPT1oJiZlLnB1c2goYVtmXSk7cmV0dXJuIGV9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPTAsaD1bXTtpZih3KGEpKWZvcihkPWEubGVuZ3RoO2Y8ZDtmKyspZT1iKGFbZl0sZixjKSxudWxsIT1lJiZoLnB1c2goZSk7ZWxzZSBmb3IoZiBpbiBhKWU9YihhW2ZdLGYsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO3JldHVybiBnLmFwcGx5KFtdLGgpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGImJihjPWFbYl0sYj1hLGE9Yyksci5pc0Z1bmN0aW9uKGEpKXJldHVybiBkPWYuY2FsbChhcmd1bWVudHMsMiksZT1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsZC5jb25jYXQoZi5jYWxsKGFyZ3VtZW50cykpKX0sZS5ndWlkPWEuZ3VpZD1hLmd1aWR8fHIuZ3VpZCsrLGV9LG5vdzpEYXRlLm5vdyxzdXBwb3J0Om99KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihyLmZuW1N5bWJvbC5pdGVyYXRvcl09Y1tTeW1ib2wuaXRlcmF0b3JdKSxyLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2pbXCJbb2JqZWN0IFwiK2IrXCJdXCJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHcoYSl7dmFyIGI9ISFhJiZcImxlbmd0aFwiaW4gYSYmYS5sZW5ndGgsYz1yLnR5cGUoYSk7cmV0dXJuXCJmdW5jdGlvblwiIT09YyYmIXIuaXNXaW5kb3coYSkmJihcImFycmF5XCI9PT1jfHwwPT09Ynx8XCJudW1iZXJcIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGEpfXZhciB4PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9aGEoKSx6PWhhKCksQT1oYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPXt9Lmhhc093blByb3BlcnR5LEQ9W10sRT1ELnBvcCxGPUQucHVzaCxHPUQucHVzaCxIPUQuc2xpY2UsST1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSj1cImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsSz1cIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsTD1cIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcMC1cXFxceGEwXSkrXCIsTT1cIlxcXFxbXCIrSytcIiooXCIrTCtcIikoPzpcIitLK1wiKihbKl4kfCF+XT89KVwiK0srXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIitMK1wiKSl8KVwiK0srXCIqXFxcXF1cIixOPVwiOihcIitMK1wiKSg/OlxcXFwoKCgnKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitNK1wiKSopfC4qKVxcXFwpfClcIixPPW5ldyBSZWdFeHAoSytcIitcIixcImdcIiksUD1uZXcgUmVnRXhwKFwiXlwiK0srXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK0srXCIrJFwiLFwiZ1wiKSxRPW5ldyBSZWdFeHAoXCJeXCIrSytcIiosXCIrSytcIipcIiksUj1uZXcgUmVnRXhwKFwiXlwiK0srXCIqKFs+K35dfFwiK0srXCIpXCIrSytcIipcIiksUz1uZXcgUmVnRXhwKFwiPVwiK0srXCIqKFteXFxcXF0nXFxcIl0qPylcIitLK1wiKlxcXFxdXCIsXCJnXCIpLFQ9bmV3IFJlZ0V4cChOKSxVPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiRcIiksVj17SUQ6bmV3IFJlZ0V4cChcIl4jKFwiK0wrXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIrTCtcIilcIiksVEFHOm5ldyBSZWdFeHAoXCJeKFwiK0wrXCJ8WypdKVwiKSxBVFRSOm5ldyBSZWdFeHAoXCJeXCIrTSksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrTiksQ0hJTEQ6bmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrSytcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK0srXCIqKD86KFsrLV18KVwiK0srXCIqKFxcXFxkKyl8KSlcIitLK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpuZXcgUmVnRXhwKFwiXig/OlwiK0orXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIitLK1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitLK1wiKigoPzotXFxcXGQpP1xcXFxkKilcIitLK1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxXPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWD0vXmhcXGQkL2ksWT0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFo9L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sJD0vWyt+XS8sXz1uZXcgUmVnRXhwKFwiXFxcXFxcXFwoW1xcXFxkYS1mXXsxLDZ9XCIrSytcIj98KFwiK0srXCIpfC4pXCIsXCJpZ1wiKSxhYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9XCIweFwiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6ZDwwP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfSxiYT0vKFtcXDAtXFx4MWZcXHg3Zl18Xi0/XFxkKXxeLSR8W15cXDAtXFx4MWZcXHg3Zi1cXHVGRkZGXFx3LV0vZyxjYT1mdW5jdGlvbihhLGIpe3JldHVybiBiP1wiXFwwXCI9PT1hP1wiXFx1ZmZmZFwiOmEuc2xpY2UoMCwtMSkrXCJcXFxcXCIrYS5jaGFyQ29kZUF0KGEubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KStcIiBcIjpcIlxcXFxcIithfSxkYT1mdW5jdGlvbigpe20oKX0sZWE9dGEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMCYmKFwiZm9ybVwiaW4gYXx8XCJsYWJlbFwiaW4gYSl9LHtkaXI6XCJwYXJlbnROb2RlXCIsbmV4dDpcImxlZ2VuZFwifSk7dHJ5e0cuYXBwbHkoRD1ILmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLERbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZmEpe0c9e2FwcGx5OkQubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Ri5hcHBseShhLEguY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGdhKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHM9YiYmYi5vd25lckRvY3VtZW50LHc9Yj9iLm5vZGVUeXBlOjk7aWYoZD1kfHxbXSxcInN0cmluZ1wiIT10eXBlb2YgYXx8IWF8fDEhPT13JiY5IT09dyYmMTEhPT13KXJldHVybiBkO2lmKCFlJiYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4scCkpe2lmKDExIT09dyYmKGw9Wi5leGVjKGEpKSlpZihmPWxbMV0pe2lmKDk9PT13KXtpZighKGo9Yi5nZXRFbGVtZW50QnlJZChmKSkpcmV0dXJuIGQ7aWYoai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2UgaWYocyYmKGo9cy5nZXRFbGVtZW50QnlJZChmKSkmJnQoYixqKSYmai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2V7aWYobFsyXSlyZXR1cm4gRy5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGY9bFszXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBHLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYpKSxkfWlmKGMucXNhJiYhQVthK1wiIFwiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXcpcz1iLHI9YTtlbHNlIGlmKFwib2JqZWN0XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpeyhrPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpP2s9ay5yZXBsYWNlKGJhLGNhKTpiLnNldEF0dHJpYnV0ZShcImlkXCIsaz11KSxvPWcoYSksaD1vLmxlbmd0aDt3aGlsZShoLS0pb1toXT1cIiNcIitrK1wiIFwiK3NhKG9baF0pO3I9by5qb2luKFwiLFwiKSxzPSQudGVzdChhKSYmcWEoYi5wYXJlbnROb2RlKXx8Yn1pZihyKXRyeXtyZXR1cm4gRy5hcHBseShkLHMucXVlcnlTZWxlY3RvckFsbChyKSksZH1jYXRjaCh4KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiBpKGEucmVwbGFjZShQLFwiJDFcIiksYixkLGUpfWZ1bmN0aW9uIGhhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYytcIiBcIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrXCIgXCJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaWEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBqYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWEuc3BsaXQoXCJ8XCIpLGU9Yy5sZW5ndGg7d2hpbGUoZS0tKWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGxhKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmYS5zb3VyY2VJbmRleC1iLnNvdXJjZUluZGV4O2lmKGQpcmV0dXJuIGQ7aWYoYyl3aGlsZShjPWMubmV4dFNpYmxpbmcpaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PWN8fFwiYnV0dG9uXCI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gb2EoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVyblwiZm9ybVwiaW4gYj9iLnBhcmVudE5vZGUmJmIuZGlzYWJsZWQ9PT0hMT9cImxhYmVsXCJpbiBiP1wibGFiZWxcImluIGIucGFyZW50Tm9kZT9iLnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1hOmIuZGlzYWJsZWQ9PT1hOmIuaXNEaXNhYmxlZD09PWF8fGIuaXNEaXNhYmxlZCE9PSFhJiZlYShiKT09PWE6Yi5kaXNhYmxlZD09PWE6XCJsYWJlbFwiaW4gYiYmYi5kaXNhYmxlZD09PWF9fWZ1bmN0aW9uIHBhKGEpe3JldHVybiBpYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixpYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIHFhKGEpe3JldHVybiBhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYX1jPWdhLnN1cHBvcnQ9e30sZj1nYS5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuISFiJiZcIkhUTUxcIiE9PWIubm9kZU5hbWV9LG09Z2Euc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksdiE9PW4mJihlPW4uZGVmYXVsdFZpZXcpJiZlLnRvcCE9PWUmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGRhKSksYy5hdHRyaWJ1dGVzPWphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT1cImlcIiwhYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudChcIlwiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1ZLnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9amEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoXyxhYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImlkXCIpPT09Yn19LGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRCeUlkJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjP1tjXTpbXX19KTooZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKF8sYWEpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSxkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGMsZCxlLGY9Yi5nZXRFbGVtZW50QnlJZChhKTtpZihmKXtpZihjPWYuZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpLGMmJmMudmFsdWU9PT1hKXJldHVybltmXTtlPWIuZ2V0RWxlbWVudHNCeU5hbWUoYSksZD0wO3doaWxlKGY9ZVtkKytdKWlmKGM9Zi5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIiksYyYmYy52YWx1ZT09PWEpcmV0dXJuW2ZdfXJldHVybltdfX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnApcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKX0scj1bXSxxPVtdLChjLnFzYT1ZLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihqYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD1cIjxhIGlkPSdcIit1K1wiJz48L2E+PHNlbGVjdCBpZD0nXCIrdStcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmcS5wdXNoKFwiWypeJF09XCIrSytcIiooPzonJ3xcXFwiXFxcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHEucHVzaChcIlxcXFxbXCIrSytcIiooPzp2YWx1ZXxcIitKK1wiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK3UrXCItXVwiKS5sZW5ndGh8fHEucHVzaChcIn49XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmNoZWNrZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIit1K1wiKypcIikubGVuZ3RofHxxLnB1c2goXCIuIy4rWyt+XVwiKX0pLGphKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPVwiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7dmFyIGI9bi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmcS5wdXNoKFwibmFtZVwiK0srXCIqWypeJHwhfl0/PVwiKSwyIT09YS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoJiZxLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLG8uYXBwZW5kQ2hpbGQoYSkuZGlzYWJsZWQ9ITAsMiE9PWEucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGgmJnEucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxxLnB1c2goXCIsLio6XCIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj1ZLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmphKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsXCIqXCIpLHMuY2FsbChhLFwiW3MhPScnXTp4XCIpLHIucHVzaChcIiE9XCIsTil9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbihcInxcIikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKFwifFwiKSksYj1ZLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxZLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SShrLGEpLUkoayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9JKGssYSktSShrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGxhKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9sYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZ2EubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBnYShhLG51bGwsbnVsbCxiKX0sZ2EubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFMsXCI9JyQxJ11cIiksYy5tYXRjaGVzU2VsZWN0b3ImJnAmJiFBW2IrXCIgXCJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBnYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxnYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGdhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZDLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxnYS5lc2NhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuKGErXCJcIikucmVwbGFjZShiYSxjYSl9LGdhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2EpfSxnYS51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe3ZhciBiLGQ9W10sZT0wLGY9MDtpZihsPSFjLmRldGVjdER1cGxpY2F0ZXMsaz0hYy5zb3J0U3RhYmxlJiZhLnNsaWNlKDApLGEuc29ydChCKSxsKXt3aGlsZShiPWFbZisrXSliPT09YVtmXSYmKGU9ZC5wdXNoKGYpKTt3aGlsZShlLS0pYS5zcGxpY2UoZFtlXSwxKX1yZXR1cm4gaz1udWxsLGF9LGU9Z2EuZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYixjPVwiXCIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1nYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzppYSxtYXRjaDpWLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKF8sYWEpLGFbM109KGFbM118fGFbNF18fGFbNV18fFwiXCIpLnJlcGxhY2UoXyxhYSksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8Z2EuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZ2EuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFYuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZULnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoXyxhYSkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWE/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWJ9fSxDTEFTUzpmdW5jdGlvbihhKXt2YXIgYj15W2ErXCIgXCJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKFwiKF58XCIrSytcIilcIithK1wiKFwiK0srXCJ8JClcIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdChcInN0cmluZ1wiPT10eXBlb2YgYS5jbGFzc05hbWUmJmEuY2xhc3NOYW1lfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1nYS5hdHRyKGQsYSk7cmV0dXJuIG51bGw9PWU/XCIhPVwiPT09YjohYnx8KGUrPVwiXCIsXCI9XCI9PT1iP2U9PT1jOlwiIT1cIj09PWI/ZSE9PWM6XCJePVwiPT09Yj9jJiYwPT09ZS5pbmRleE9mKGMpOlwiKj1cIj09PWI/YyYmZS5pbmRleE9mKGMpPi0xOlwiJD1cIj09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09YzpcIn49XCI9PT1iPyhcIiBcIitlLnJlcGxhY2UoTyxcIiBcIikrXCIgXCIpLmluZGV4T2YoYyk+LTE6XCJ8PVwiPT09YiYmKGU9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiKSl9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPVwibnRoXCIhPT1hLnNsaWNlKDAsMyksZz1cImxhc3RcIiE9PWEuc2xpY2UoLTQpLGg9XCJvZi10eXBlXCI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz9cIm5leHRTaWJsaW5nXCI6XCJwcmV2aW91c1NpYmxpbmdcIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaCx0PSExO2lmKHEpe2lmKGYpe3doaWxlKHApe209Yjt3aGlsZShtPW1bcF0paWYoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKXJldHVybiExO289cD1cIm9ubHlcIj09PWEmJiFvJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe209cSxsPW1bdV18fChtW3VdPXt9KSxrPWxbbS51bmlxdWVJRF18fChsW20udW5pcXVlSURdPXt9KSxqPWtbYV18fFtdLG49alswXT09PXcmJmpbMV0sdD1uJiZqWzJdLG09biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKDE9PT1tLm5vZGVUeXBlJiYrK3QmJm09PT1iKXtrW2FdPVt3LG4sdF07YnJlYWt9fWVsc2UgaWYocyYmKG09YixsPW1bdV18fChtW3VdPXt9KSxrPWxbbS51bmlxdWVJRF18fChsW20udW5pcXVlSURdPXt9KSxqPWtbYV18fFtdLG49alswXT09PXcmJmpbMV0sdD1uKSx0PT09ITEpd2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoKGg/bS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bS5ub2RlVHlwZSkmJisrdCYmKHMmJihsPW1bdV18fChtW3VdPXt9KSxrPWxbbS51bmlxdWVJRF18fChsW20udW5pcXVlSURdPXt9KSxrW2FdPVt3LHRdKSxtPT09YikpYnJlYWs7cmV0dXJuIHQtPWUsdD09PWR8fHQlZD09PTAmJnQvZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGdhLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSxcIlwiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2lhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1JKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmlhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShQLFwiJDFcIikpO3JldHVybiBkW3VdP2lhKGZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmLGc9ZChhLG51bGwsZSxbXSksaD1hLmxlbmd0aDt3aGlsZShoLS0pKGY9Z1toXSkmJihhW2hdPSEoYltoXT1mKSl9KTpmdW5jdGlvbihhLGUsZil7cmV0dXJuIGJbMF09YSxkKGIsbnVsbCxmLGMpLGJbMF09bnVsbCwhYy5wb3AoKX19KSxoYXM6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBnYShhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShfLGFhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzppYShmdW5jdGlvbihhKXtyZXR1cm4gVS50ZXN0KGF8fFwiXCIpfHxnYS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2EpLGE9YS5yZXBsYWNlKF8sYWEpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHxiLmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErXCItXCIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6b2EoITEpLGRpc2FibGVkOm9hKCEwKSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiYhIWEuY2hlY2tlZHx8XCJvcHRpb25cIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmXCJidXR0b25cIj09PWEudHlwZXx8XCJidXR0b25cIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuXCJpbnB1dFwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fFwidGV4dFwiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6cGEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OnBhKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpwYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuW2M8MD9jK2I6Y119KSxldmVuOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxiO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7YzxiO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6cGEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1jPDA/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpwYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWM8MD9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bWEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bmEoYik7ZnVuY3Rpb24gcmEoKXt9cmEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyByYSxnPWdhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErXCIgXCJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7YyYmIShlPVEuZXhlYyhoKSl8fChlJiYoaD1oLnNsaWNlKGVbMF0ubGVuZ3RoKXx8aCksaS5wdXNoKGY9W10pKSxjPSExLChlPVIuZXhlYyhoKSkmJihjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTplWzBdLnJlcGxhY2UoUCxcIiBcIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9VltnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2dhLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX07ZnVuY3Rpb24gc2EoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aCxkPVwiXCI7YjxjO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHRhKGEsYixjKXt2YXIgZD1iLmRpcixlPWIubmV4dCxmPWV8fGQsZz1jJiZcInBhcmVudE5vZGVcIj09PWYsaD14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGUpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZylyZXR1cm4gYShiLGMsZSk7cmV0dXJuITF9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbT1bdyxoXTtpZihpKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxnKSYmYShiLGMsaSkpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGcpaWYobD1iW3VdfHwoYlt1XT17fSksaz1sW2IudW5pcXVlSURdfHwobFtiLnVuaXF1ZUlEXT17fSksZSYmZT09PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSliPWJbZF18fGI7ZWxzZXtpZigoaj1rW2ZdKSYmalswXT09PXcmJmpbMV09PT1oKXJldHVybiBtWzJdPWpbMl07aWYoa1tmXT1tLG1bMl09YShiLGMsaSkpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHVhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHZhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2Q8ZTtkKyspZ2EoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHdhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2g8aTtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24geGEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9eGEoZCkpLGUmJiFlW3VdJiYoZT14YShlLGYpKSxpYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx2YShifHxcIipcIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOndhKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj13YShyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10pJiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJihqPWU/SShmLGwpOm1ba10pPi0xJiYoZltqXT0hKGdbal09bCkpfX1lbHNlIHI9d2Eocj09PWc/ci5zcGxpY2UobyxyLmxlbmd0aCk6ciksZT9lKG51bGwsZyxyLGkpOkcuYXBwbHkoZyxyKX0pfWZ1bmN0aW9uIHlhKGEpe2Zvcih2YXIgYixjLGUsZj1hLmxlbmd0aCxnPWQucmVsYXRpdmVbYVswXS50eXBlXSxoPWd8fGQucmVsYXRpdmVbXCIgXCJdLGk9Zz8xOjAsaz10YShmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9dGEoZnVuY3Rpb24oYSl7cmV0dXJuIEkoYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2k8ZjtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bdGEodWEobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7ZTxmO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHhhKGk+MSYmdWEobSksaT4xJiZzYShhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOlwiIFwiPT09YVtpLTJdLnR5cGU/XCIqXCI6XCJcIn0pKS5yZXBsYWNlKFAsXCIkMVwiKSxjLGk8ZSYmeWEoYS5zbGljZShpLGUpKSxlPGYmJnlhKGE9YS5zbGljZShlKSksZTxmJiZzYShhKSl9bS5wdXNoKGMpfXJldHVybiB1YShtKX1mdW5jdGlvbiB6YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9XCIwXCIsdD1mJiZbXSx1PVtdLHY9aix4PWZ8fGUmJmQuZmluZC5UQUcoXCIqXCIsaykseT13Kz1udWxsPT12PzE6TWF0aC5yYW5kb20oKXx8LjEsej14Lmxlbmd0aDtmb3IoayYmKGo9Zz09PW58fGd8fGspO3MhPT16JiZudWxsIT0obD14W3NdKTtzKyspe2lmKGUmJmwpe289MCxnfHxsLm93bmVyRG9jdW1lbnQ9PT1ufHwobShsKSxoPSFwKTt3aGlsZShxPWFbbysrXSlpZihxKGwsZ3x8bixoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXkpfWMmJigobD0hcSYmbCkmJnItLSxmJiZ0LnB1c2gobCkpfWlmKHIrPXMsYyYmcyE9PXIpe289MDt3aGlsZShxPWJbbysrXSlxKHQsdSxnLGgpO2lmKGYpe2lmKHI+MCl3aGlsZShzLS0pdFtzXXx8dVtzXXx8KHVbc109RS5jYWxsKGkpKTt1PXdhKHUpfUcuYXBwbHkoaSx1KSxrJiYhZiYmdS5sZW5ndGg+MCYmcitiLmxlbmd0aD4xJiZnYS51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz15LGo9diksdH07cmV0dXJuIGM/aWEoZik6Zn1yZXR1cm4gaD1nYS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthK1wiIFwiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj15YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEsemEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWdhLnNlbGVjdD1mdW5jdGlvbihhLGIsYyxlKXt2YXIgZixpLGosayxsLG09XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYSxuPSFlJiZnKGE9bS5zZWxlY3Rvcnx8YSk7aWYoYz1jfHxbXSwxPT09bi5sZW5ndGgpe2lmKGk9blswXT1uWzBdLnNsaWNlKDApLGkubGVuZ3RoPjImJlwiSURcIj09PShqPWlbMF0pLnR5cGUmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2lbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChqLm1hdGNoZXNbMF0ucmVwbGFjZShfLGFhKSxiKXx8W10pWzBdLCFiKXJldHVybiBjO20mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGkuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWY9Vi5uZWVkc0NvbnRleHQudGVzdChhKT8wOmkubGVuZ3RoO3doaWxlKGYtLSl7aWYoaj1pW2ZdLGQucmVsYXRpdmVbaz1qLnR5cGVdKWJyZWFrO2lmKChsPWQuZmluZFtrXSkmJihlPWwoai5tYXRjaGVzWzBdLnJlcGxhY2UoXyxhYSksJC50ZXN0KGlbMF0udHlwZSkmJnFhKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoaS5zcGxpY2UoZiwxKSxhPWUubGVuZ3RoJiZzYShpKSwhYSlyZXR1cm4gRy5hcHBseShjLGUpLGM7YnJlYWt9fX1yZXR1cm4obXx8aChhLG4pKShlLGIsIXAsYywhYnx8JC50ZXN0KGEpJiZxYShiLnBhcmVudE5vZGUpfHxiKSxjfSxjLnNvcnRTdGFibGU9dS5zcGxpdChcIlwiKS5zb3J0KEIpLmpvaW4oXCJcIik9PT11LGMuZGV0ZWN0RHVwbGljYXRlcz0hIWwsbSgpLGMuc29ydERldGFjaGVkPWphKGZ1bmN0aW9uKGEpe3JldHVybiAxJmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24obi5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIikpfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGEgaHJlZj0nIyc+PC9hPlwiLFwiI1wiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIil9KXx8a2EoXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsZnVuY3Rpb24oYSxiLGMpe2lmKCFjKXJldHVybiBhLmdldEF0dHJpYnV0ZShiLFwidHlwZVwiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxrYShcInZhbHVlXCIsZnVuY3Rpb24oYSxiLGMpe2lmKCFjJiZcImlucHV0XCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGEuZGVmYXVsdFZhbHVlfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIil9KXx8a2EoSixmdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoIWMpcmV0dXJuIGFbYl09PT0hMD9iLnRvTG93ZXJDYXNlKCk6KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZC5zcGVjaWZpZWQ/ZC52YWx1ZTpudWxsfSksZ2F9KGEpO3IuZmluZD14LHIuZXhwcj14LnNlbGVjdG9ycyxyLmV4cHJbXCI6XCJdPXIuZXhwci5wc2V1ZG9zLHIudW5pcXVlU29ydD1yLnVuaXF1ZT14LnVuaXF1ZVNvcnQsci50ZXh0PXguZ2V0VGV4dCxyLmlzWE1MRG9jPXguaXNYTUwsci5jb250YWlucz14LmNvbnRhaW5zLHIuZXNjYXBlU2VsZWN0b3I9eC5lc2NhcGU7dmFyIHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9dm9pZCAwIT09Yzt3aGlsZSgoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGUpaWYoMT09PWEubm9kZVR5cGUpe2lmKGUmJnIoYSkuaXMoYykpYnJlYWs7ZC5wdXNoKGEpfXJldHVybiBkfSx6PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfSxBPXIuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsQj0vXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSxDPS9eLlteOiNcXFtcXC4sXSokLztmdW5jdGlvbiBEKGEsYixjKXtyZXR1cm4gci5pc0Z1bmN0aW9uKGIpP3IuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuISFiLmNhbGwoYSxkLGEpIT09Y30pOmIubm9kZVR5cGU/ci5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pOlwic3RyaW5nXCIhPXR5cGVvZiBiP3IuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBpLmNhbGwoYixhKT4tMSE9PWN9KTpDLnRlc3QoYik/ci5maWx0ZXIoYixhLGMpOihiPXIuZmlsdGVyKGIsYSksci5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGkuY2FsbChiLGEpPi0xIT09YyYmMT09PWEubm9kZVR5cGV9KSl9ci5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPVwiOm5vdChcIithK1wiKVwiKSwxPT09Yi5sZW5ndGgmJjE9PT1kLm5vZGVUeXBlP3IuZmluZC5tYXRjaGVzU2VsZWN0b3IoZCxhKT9bZF06W106ci5maW5kLm1hdGNoZXMoYSxyLmdyZXAoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV9KSl9LHIuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLmxlbmd0aCxlPXRoaXM7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKHIoYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtiPGQ7YisrKWlmKHIuY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYz10aGlzLnB1c2hTdGFjayhbXSksYj0wO2I8ZDtiKyspci5maW5kKGEsZVtiXSxjKTtyZXR1cm4gZD4xP3IudW5pcXVlU29ydChjKTpjfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEQodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEQodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIUQodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgYSYmQS50ZXN0KGEpP3IoYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgRSxGPS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSspKSQvLEc9ci5mbi5pbml0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmO2lmKCFhKXJldHVybiB0aGlzO2lmKGM9Y3x8RSxcInN0cmluZ1wiPT10eXBlb2YgYSl7aWYoZT1cIjxcIj09PWFbMF0mJlwiPlwiPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTpGLmV4ZWMoYSksIWV8fCFlWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8YykuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoZVsxXSl7aWYoYj1iIGluc3RhbmNlb2Ygcj9iWzBdOmIsci5tZXJnZSh0aGlzLHIucGFyc2VIVE1MKGVbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6ZCwhMCkpLEIudGVzdChlWzFdKSYmci5pc1BsYWluT2JqZWN0KGIpKWZvcihlIGluIGIpci5pc0Z1bmN0aW9uKHRoaXNbZV0pP3RoaXNbZV0oYltlXSk6dGhpcy5hdHRyKGUsYltlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiYodGhpc1swXT1mLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXNbMF09YSx0aGlzLmxlbmd0aD0xLHRoaXMpOnIuaXNGdW5jdGlvbihhKT92b2lkIDAhPT1jLnJlYWR5P2MucmVhZHkoYSk6YShyKTpyLm1ha2VBcnJheShhLHRoaXMpfTtHLnByb3RvdHlwZT1yLmZuLEU9cihkKTt2YXIgSD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxJPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O3IuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9cihhLHRoaXMpLGM9Yi5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxjO2ErKylpZihyLmNvbnRhaW5zKHRoaXMsYlthXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MCxlPXRoaXMubGVuZ3RoLGY9W10sZz1cInN0cmluZ1wiIT10eXBlb2YgYSYmcihhKTtpZighQS50ZXN0KGEpKWZvcig7ZDxlO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJnIuZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9yLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhP1wic3RyaW5nXCI9PXR5cGVvZiBhP2kuY2FsbChyKGEpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soci51bmlxdWVTb3J0KHIubWVyZ2UodGhpcy5nZXQoKSxyKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEooYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfXIuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4geShhLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4geShhLFwicGFyZW50Tm9kZVwiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBKKGEsXCJuZXh0U2libGluZ1wiKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gSihhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB5KGEsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4geShhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB5KGEsXCJuZXh0U2libGluZ1wiLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB5KGEsXCJwcmV2aW91c1NpYmxpbmdcIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHooKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB6KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8ci5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtyLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9ci5tYXAodGhpcyxiLGMpO3JldHVyblwiVW50aWxcIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiZcInN0cmluZ1wiPT10eXBlb2YgZCYmKGU9ci5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKElbYV18fHIudW5pcXVlU29ydChlKSxILnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgSz0vW15cXHgyMFxcdFxcclxcblxcZl0rL2c7ZnVuY3Rpb24gTChhKXt2YXIgYj17fTtyZXR1cm4gci5lYWNoKGEubWF0Y2goSyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9ci5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT1cInN0cmluZ1wiPT10eXBlb2YgYT9MKGEpOnIuZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGY9W10sZz1bXSxoPS0xLGk9ZnVuY3Rpb24oKXtmb3IoZT1hLm9uY2UsZD1iPSEwO2cubGVuZ3RoO2g9LTEpe2M9Zy5zaGlmdCgpO3doaWxlKCsraDxmLmxlbmd0aClmW2hdLmFwcGx5KGNbMF0sY1sxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSYmKGg9Zi5sZW5ndGgsYz0hMSl9YS5tZW1vcnl8fChjPSExKSxiPSExLGUmJihmPWM/W106XCJcIil9LGo9e2FkZDpmdW5jdGlvbigpe3JldHVybiBmJiYoYyYmIWImJihoPWYubGVuZ3RoLTEsZy5wdXNoKGMpKSxmdW5jdGlvbiBkKGIpe3IuZWFjaChiLGZ1bmN0aW9uKGIsYyl7ci5pc0Z1bmN0aW9uKGMpP2EudW5pcXVlJiZqLmhhcyhjKXx8Zi5wdXNoKGMpOmMmJmMubGVuZ3RoJiZcInN0cmluZ1wiIT09ci50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1yLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGM8PWgmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9yLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPVwiXCIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hZn0sbG9jazpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sY3x8Ynx8KGY9Yz1cIlwiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfTtmdW5jdGlvbiBNKGEpe3JldHVybiBhfWZ1bmN0aW9uIE4oYSl7dGhyb3cgYX1mdW5jdGlvbiBPKGEsYixjKXt2YXIgZDt0cnl7YSYmci5pc0Z1bmN0aW9uKGQ9YS5wcm9taXNlKT9kLmNhbGwoYSkuZG9uZShiKS5mYWlsKGMpOmEmJnIuaXNGdW5jdGlvbihkPWEudGhlbik/ZC5jYWxsKGEsYixjKTpiLmNhbGwodm9pZCAwLGEpfWNhdGNoKGEpe2MuY2FsbCh2b2lkIDAsYSl9fXIuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihiKXt2YXIgYz1bW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLHIuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLHIuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLDJdLFtcInJlc29sdmVcIixcImRvbmVcIixyLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksMCxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLHIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksci5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwxLFwicmVqZWN0ZWRcIl1dLGQ9XCJwZW5kaW5nXCIsZT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZH0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIGUudGhlbihudWxsLGEpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiByLkRlZmVycmVkKGZ1bmN0aW9uKGIpe3IuZWFjaChjLGZ1bmN0aW9uKGMsZCl7dmFyIGU9ci5pc0Z1bmN0aW9uKGFbZFs0XV0pJiZhW2RbNF1dO2ZbZFsxXV0oZnVuY3Rpb24oKXt2YXIgYT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZyLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhiLm5vdGlmeSkuZG9uZShiLnJlc29sdmUpLmZhaWwoYi5yZWplY3QpOmJbZFswXStcIldpdGhcIl0odGhpcyxlP1thXTphcmd1bWVudHMpfSl9KSxhPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24oYixkLGUpe3ZhciBmPTA7ZnVuY3Rpb24gZyhiLGMsZCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaD10aGlzLGk9YXJndW1lbnRzLGo9ZnVuY3Rpb24oKXt2YXIgYSxqO2lmKCEoYjxmKSl7aWYoYT1kLmFwcGx5KGgsaSksYT09PWMucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIik7aj1hJiYoXCJvYmplY3RcIj09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGEpJiZhLnRoZW4sci5pc0Z1bmN0aW9uKGopP2U/ai5jYWxsKGEsZyhmLGMsTSxlKSxnKGYsYyxOLGUpKTooZisrLGouY2FsbChhLGcoZixjLE0sZSksZyhmLGMsTixlKSxnKGYsYyxNLGMubm90aWZ5V2l0aCkpKTooZCE9PU0mJihoPXZvaWQgMCxpPVthXSksKGV8fGMucmVzb2x2ZVdpdGgpKGgsaSkpfX0saz1lP2o6ZnVuY3Rpb24oKXt0cnl7aigpfWNhdGNoKGEpe3IuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayYmci5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGEsay5zdGFja1RyYWNlKSxiKzE+PWYmJihkIT09TiYmKGg9dm9pZCAwLGk9W2FdKSxjLnJlamVjdFdpdGgoaCxpKSl9fTtiP2soKTooci5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihrLnN0YWNrVHJhY2U9ci5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksYS5zZXRUaW1lb3V0KGspKX19cmV0dXJuIHIuRGVmZXJyZWQoZnVuY3Rpb24oYSl7Y1swXVszXS5hZGQoZygwLGEsci5pc0Z1bmN0aW9uKGUpP2U6TSxhLm5vdGlmeVdpdGgpKSxjWzFdWzNdLmFkZChnKDAsYSxyLmlzRnVuY3Rpb24oYik/YjpNKSksY1syXVszXS5hZGQoZygwLGEsci5pc0Z1bmN0aW9uKGQpP2Q6TikpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP3IuZXh0ZW5kKGEsZSk6ZX19LGY9e307cmV0dXJuIHIuZWFjaChjLGZ1bmN0aW9uKGEsYil7dmFyIGc9YlsyXSxoPWJbNV07ZVtiWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2Q9aH0sY1szLWFdWzJdLmRpc2FibGUsY1swXVsyXS5sb2NrKSxnLmFkZChiWzNdLmZpcmUpLGZbYlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZltiWzBdK1wiV2l0aFwiXSh0aGlzPT09Zj92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGZbYlswXStcIldpdGhcIl09Zy5maXJlV2l0aH0pLGUucHJvbWlzZShmKSxiJiZiLmNhbGwoZixmKSxmfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGgsYz1iLGQ9QXJyYXkoYyksZT1mLmNhbGwoYXJndW1lbnRzKSxnPXIuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtkW2FdPXRoaXMsZVthXT1hcmd1bWVudHMubGVuZ3RoPjE/Zi5jYWxsKGFyZ3VtZW50cyk6YywtLWJ8fGcucmVzb2x2ZVdpdGgoZCxlKX19O2lmKGI8PTEmJihPKGEsZy5kb25lKGgoYykpLnJlc29sdmUsZy5yZWplY3QpLFwicGVuZGluZ1wiPT09Zy5zdGF0ZSgpfHxyLmlzRnVuY3Rpb24oZVtjXSYmZVtjXS50aGVuKSkpcmV0dXJuIGcudGhlbigpO3doaWxlKGMtLSlPKGVbY10saChjKSxnLnJlamVjdCk7cmV0dXJuIGcucHJvbWlzZSgpfX0pO3ZhciBQPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO3IuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbihiLGMpe2EuY29uc29sZSYmYS5jb25zb2xlLndhcm4mJmImJlAudGVzdChiLm5hbWUpJiZhLmNvbnNvbGUud2FybihcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiK2IubWVzc2FnZSxiLnN0YWNrLGMpfSxyLnJlYWR5RXhjZXB0aW9uPWZ1bmN0aW9uKGIpe2Euc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGJ9KX07dmFyIFE9ci5EZWZlcnJlZCgpO3IuZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIFEudGhlbihhKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe3IucmVhZHlFeGNlcHRpb24oYSl9KSx0aGlzfSxyLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9yLnJlYWR5V2FpdCsrOnIucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tci5yZWFkeVdhaXQ6ci5pc1JlYWR5KXx8KHIuaXNSZWFkeT0hMCxhIT09ITAmJi0tci5yZWFkeVdhaXQ+MHx8US5yZXNvbHZlV2l0aChkLFtyXSkpfX0pLHIucmVhZHkudGhlbj1RLnRoZW47ZnVuY3Rpb24gUigpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixSKSxcbmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixSKSxyLnJlYWR5KCl9XCJjb21wbGV0ZVwiPT09ZC5yZWFkeVN0YXRlfHxcImxvYWRpbmdcIiE9PWQucmVhZHlTdGF0ZSYmIWQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP2Euc2V0VGltZW91dChyLnJlYWR5KTooZC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFIpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixSKSk7dmFyIFM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZihcIm9iamVjdFwiPT09ci50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpUyhhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxyLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwocihhKSxjKX0pKSxiKSlmb3IoO2g8aTtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfSxUPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gVSgpe3RoaXMuZXhwYW5kbz1yLmV4cGFuZG8rVS51aWQrK31VLnVpZD0xLFUucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LFQoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWVbci5jYW1lbENhc2UoYildPWM7ZWxzZSBmb3IoZCBpbiBiKWVbci5jYW1lbENhc2UoZCldPWJbZF07cmV0dXJuIGV9LGdldDpmdW5jdGlvbihhLGIpe3JldHVybiB2b2lkIDA9PT1iP3RoaXMuY2FjaGUoYSk6YVt0aGlzLmV4cGFuZG9dJiZhW3RoaXMuZXhwYW5kb11bci5jYW1lbENhc2UoYildfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB2b2lkIDA9PT1ifHxiJiZcInN0cmluZ1wiPT10eXBlb2YgYiYmdm9pZCAwPT09Yz90aGlzLmdldChhLGIpOih0aGlzLnNldChhLGIsYyksdm9pZCAwIT09Yz9jOmIpfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWFbdGhpcy5leHBhbmRvXTtpZih2b2lkIDAhPT1kKXtpZih2b2lkIDAhPT1iKXtyLmlzQXJyYXkoYik/Yj1iLm1hcChyLmNhbWVsQ2FzZSk6KGI9ci5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIubWF0Y2goSyl8fFtdKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZFtiW2NdXX0odm9pZCAwPT09Ynx8ci5pc0VtcHR5T2JqZWN0KGQpKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgYVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT1iJiYhci5pc0VtcHR5T2JqZWN0KGIpfX07dmFyIFY9bmV3IFUsVz1uZXcgVSxYPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxZPS9bQS1aXS9nO2Z1bmN0aW9uIFooYSl7cmV0dXJuXCJ0cnVlXCI9PT1hfHxcImZhbHNlXCIhPT1hJiYoXCJudWxsXCI9PT1hP251bGw6YT09PSthK1wiXCI/K2E6WC50ZXN0KGEpP0pTT04ucGFyc2UoYSk6YSl9ZnVuY3Rpb24gJChhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD1cImRhdGEtXCIrYi5yZXBsYWNlKFksXCItJCZcIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1aKGMpfWNhdGNoKGUpe31XLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31yLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gVy5oYXNEYXRhKGEpfHxWLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBXLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtXLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFYuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtWLnJlbW92ZShhLGIpfX0pLHIuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9Vy5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFWLmdldChmLFwiaGFzRGF0YUF0dHJzXCIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSYmKGQ9ci5jYW1lbENhc2UoZC5zbGljZSg1KSksJChmLGQsZVtkXSkpKTtWLnNldChmLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBlfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe1cuc2V0KHRoaXMsYSl9KTpTKHRoaXMsZnVuY3Rpb24oYil7dmFyIGM7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1XLmdldChmLGEpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz0kKGYsYSksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe1cuc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtXLnJlbW92ZSh0aGlzLGEpfSl9fSksci5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihhKXJldHVybiBiPShifHxcImZ4XCIpK1wicXVldWVcIixkPVYuZ2V0KGEsYiksYyYmKCFkfHxyLmlzQXJyYXkoYyk/ZD1WLmFjY2VzcyhhLGIsci5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W119LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fFwiZnhcIjt2YXIgYz1yLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPXIuX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7ci5kZXF1ZXVlKGEsYil9O1wiaW5wcm9ncmVzc1wiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKFwiZnhcIj09PWImJmMudW5zaGlmdChcImlucHJvZ3Jlc3NcIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YitcInF1ZXVlSG9va3NcIjtyZXR1cm4gVi5nZXQoYSxjKXx8Vi5hY2Nlc3MoYSxjLHtlbXB0eTpyLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpe1YucmVtb3ZlKGEsW2IrXCJxdWV1ZVwiLGNdKX0pfSl9fSksci5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPVwiZnhcIixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9yLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPXIucXVldWUodGhpcyxhLGIpO3IuX3F1ZXVlSG9va3ModGhpcyxhKSxcImZ4XCI9PT1hJiZcImlucHJvZ3Jlc3NcIiE9PWNbMF0mJnIuZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3IuZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8XCJmeFwiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPXIuRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8XCJmeFwiO3doaWxlKGctLSljPVYuZ2V0KGZbZ10sYStcInF1ZXVlSG9va3NcIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIF89L1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8uc291cmNlLGFhPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK18rXCIpKFthLXolXSopJFwiLFwiaVwiKSxiYT1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sY2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifHxhLFwibm9uZVwiPT09YS5zdHlsZS5kaXNwbGF5fHxcIlwiPT09YS5zdHlsZS5kaXNwbGF5JiZyLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKSYmXCJub25lXCI9PT1yLmNzcyhhLFwiZGlzcGxheVwiKX0sZGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXt9O2ZvcihmIGluIGIpZ1tmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuYXBwbHkoYSxkfHxbXSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWdbZl07cmV0dXJuIGV9O2Z1bmN0aW9uIGVhKGEsYixjLGQpe3ZhciBlLGY9MSxnPTIwLGg9ZD9mdW5jdGlvbigpe3JldHVybiBkLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiByLmNzcyhhLGIsXCJcIil9LGk9aCgpLGo9YyYmY1szXXx8KHIuY3NzTnVtYmVyW2JdP1wiXCI6XCJweFwiKSxrPShyLmNzc051bWJlcltiXXx8XCJweFwiIT09aiYmK2kpJiZhYS5leGVjKHIuY3NzKGEsYikpO2lmKGsmJmtbM10hPT1qKXtqPWp8fGtbM10sYz1jfHxbXSxrPStpfHwxO2RvIGY9Znx8XCIuNVwiLGsvPWYsci5zdHlsZShhLGIsaytqKTt3aGlsZShmIT09KGY9aCgpL2kpJiYxIT09ZiYmLS1nKX1yZXR1cm4gYyYmKGs9K2t8fCtpfHwwLGU9Y1sxXT9rKyhjWzFdKzEpKmNbMl06K2NbMl0sZCYmKGQudW5pdD1qLGQuc3RhcnQ9ayxkLmVuZD1lKSksZX12YXIgZmE9e307ZnVuY3Rpb24gZ2EoYSl7dmFyIGIsYz1hLm93bmVyRG9jdW1lbnQsZD1hLm5vZGVOYW1lLGU9ZmFbZF07cmV0dXJuIGU/ZTooYj1jLmJvZHkuYXBwZW5kQ2hpbGQoYy5jcmVhdGVFbGVtZW50KGQpKSxlPXIuY3NzKGIsXCJkaXNwbGF5XCIpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxcIm5vbmVcIj09PWUmJihlPVwiYmxvY2tcIiksZmFbZF09ZSxlKX1mdW5jdGlvbiBoYShhLGIpe2Zvcih2YXIgYyxkLGU9W10sZj0wLGc9YS5sZW5ndGg7ZjxnO2YrKylkPWFbZl0sZC5zdHlsZSYmKGM9ZC5zdHlsZS5kaXNwbGF5LGI/KFwibm9uZVwiPT09YyYmKGVbZl09Vi5nZXQoZCxcImRpc3BsYXlcIil8fG51bGwsZVtmXXx8KGQuc3R5bGUuZGlzcGxheT1cIlwiKSksXCJcIj09PWQuc3R5bGUuZGlzcGxheSYmY2EoZCkmJihlW2ZdPWdhKGQpKSk6XCJub25lXCIhPT1jJiYoZVtmXT1cIm5vbmVcIixWLnNldChkLFwiZGlzcGxheVwiLGMpKSk7Zm9yKGY9MDtmPGc7ZisrKW51bGwhPWVbZl0mJihhW2ZdLnN0eWxlLmRpc3BsYXk9ZVtmXSk7cmV0dXJuIGF9ci5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gaGEodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gaGEodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtjYSh0aGlzKT9yKHRoaXMpLnNob3coKTpyKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBpYT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxqYT0vPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSspL2ksa2E9L14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxsYT17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O2xhLm9wdGdyb3VwPWxhLm9wdGlvbixsYS50Ym9keT1sYS50Zm9vdD1sYS5jb2xncm91cD1sYS5jYXB0aW9uPWxhLnRoZWFkLGxhLnRoPWxhLnRkO2Z1bmN0aW9uIG1hKGEsYil7dmFyIGM7cmV0dXJuIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHxcIipcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8XCIqXCIpOltdLHZvaWQgMD09PWJ8fGImJnIubm9kZU5hbWUoYSxiKT9yLm1lcmdlKFthXSxjKTpjfWZ1bmN0aW9uIG5hKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKVYuc2V0KGFbY10sXCJnbG9iYWxFdmFsXCIsIWJ8fFYuZ2V0KGJbY10sXCJnbG9iYWxFdmFsXCIpKX12YXIgb2E9Lzx8JiM/XFx3KzsvO2Z1bmN0aW9uIHBhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxsPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG09W10sbj0wLG89YS5sZW5ndGg7bjxvO24rKylpZihmPWFbbl0sZnx8MD09PWYpaWYoXCJvYmplY3RcIj09PXIudHlwZShmKSlyLm1lcmdlKG0sZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihvYS50ZXN0KGYpKXtnPWd8fGwuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxoPShqYS5leGVjKGYpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxpPWxhW2hdfHxsYS5fZGVmYXVsdCxnLmlubmVySFRNTD1pWzFdK3IuaHRtbFByZWZpbHRlcihmKStpWzJdLGs9aVswXTt3aGlsZShrLS0pZz1nLmxhc3RDaGlsZDtyLm1lcmdlKG0sZy5jaGlsZE5vZGVzKSxnPWwuZmlyc3RDaGlsZCxnLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBtLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShmKSk7bC50ZXh0Q29udGVudD1cIlwiLG49MDt3aGlsZShmPW1bbisrXSlpZihkJiZyLmluQXJyYXkoZixkKT4tMSllJiZlLnB1c2goZik7ZWxzZSBpZihqPXIuY29udGFpbnMoZi5vd25lckRvY3VtZW50LGYpLGc9bWEobC5hcHBlbmRDaGlsZChmKSxcInNjcmlwdFwiKSxqJiZuYShnKSxjKXtrPTA7d2hpbGUoZj1nW2srK10pa2EudGVzdChmLnR5cGV8fFwiXCIpJiZjLnB1c2goZil9cmV0dXJuIGx9IWZ1bmN0aW9uKCl7dmFyIGE9ZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksYz1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhZGlvXCIpLGMuc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLFwiY2hlY2tlZFwiKSxjLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcInRcIiksYi5hcHBlbmRDaGlsZChjKSxvLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsYi5pbm5lckhUTUw9XCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCIsby5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBxYT1kLmRvY3VtZW50RWxlbWVudCxyYT0vXmtleS8sc2E9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLHRhPS9eKFteLl0qKSg/OlxcLiguKyl8KS87ZnVuY3Rpb24gdWEoKXtyZXR1cm4hMH1mdW5jdGlvbiB2YSgpe3JldHVybiExfWZ1bmN0aW9uIHdhKCl7dHJ5e3JldHVybiBkLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1mdW5jdGlvbiB4YShhLGIsYyxkLGUsZil7dmFyIGcsaDtpZihcIm9iamVjdFwiPT10eXBlb2YgYil7XCJzdHJpbmdcIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpeGEoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoXCJzdHJpbmdcIj09dHlwZW9mIGM/KGU9ZCxkPXZvaWQgMCk6KGU9ZCxkPWMsYz12b2lkIDApKSxlPT09ITEpZT12YTtlbHNlIGlmKCFlKXJldHVybiBhO3JldHVybiAxPT09ZiYmKGc9ZSxlPWZ1bmN0aW9uKGEpe3JldHVybiByKCkub2ZmKGEpLGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmd1aWQ9Zy5ndWlkfHwoZy5ndWlkPXIuZ3VpZCsrKSksYS5lYWNoKGZ1bmN0aW9uKCl7ci5ldmVudC5hZGQodGhpcyxiLGUsZCxjKX0pfXIuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9Vi5nZXQoYSk7aWYocSl7Yy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksZSYmci5maW5kLm1hdGNoZXNTZWxlY3RvcihxYSxlKSxjLmd1aWR8fChjLmd1aWQ9ci5ndWlkKyspLChpPXEuZXZlbnRzKXx8KGk9cS5ldmVudHM9e30pLChnPXEuaGFuZGxlKXx8KGc9cS5oYW5kbGU9ZnVuY3Rpb24oYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJnIuZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP3IuZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fFwiXCIpLm1hdGNoKEspfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paD10YS5leGVjKGJbal0pfHxbXSxuPXA9aFsxXSxvPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG4mJihsPXIuZXZlbnQuc3BlY2lhbFtuXXx8e30sbj0oZT9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8bixsPXIuZXZlbnQuc3BlY2lhbFtuXXx8e30saz1yLmV4dGVuZCh7dHlwZTpuLG9yaWdUeXBlOnAsZGF0YTpkLGhhbmRsZXI6YyxndWlkOmMuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZyLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOm8uam9pbihcIi5cIil9LGYpLChtPWlbbl0pfHwobT1pW25dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGwuc2V0dXAmJmwuc2V0dXAuY2FsbChhLGQsbyxnKSE9PSExfHxhLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihuLGcpKSxsLmFkZCYmKGwuYWRkLmNhbGwoYSxrKSxrLmhhbmRsZXIuZ3VpZHx8KGsuaGFuZGxlci5ndWlkPWMuZ3VpZCkpLGU/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxrKTptLnB1c2goayksci5ldmVudC5nbG9iYWxbbl09ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLG8scCxxPVYuaGFzRGF0YShhKSYmVi5nZXQoYSk7aWYocSYmKGk9cS5ldmVudHMpKXtiPShifHxcIlwiKS5tYXRjaChLKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9dGEuZXhlYyhiW2pdKXx8W10sbj1wPWhbMV0sbz0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxuKXtsPXIuZXZlbnQuc3BlY2lhbFtuXXx8e30sbj0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8bixtPWlbbl18fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK28uam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpLGc9Zj1tLmxlbmd0aDt3aGlsZShmLS0paz1tW2ZdLCFlJiZwIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJihcIioqXCIhPT1kfHwhay5zZWxlY3Rvcil8fChtLnNwbGljZShmLDEpLGsuc2VsZWN0b3ImJm0uZGVsZWdhdGVDb3VudC0tLGwucmVtb3ZlJiZsLnJlbW92ZS5jYWxsKGEsaykpO2cmJiFtLmxlbmd0aCYmKGwudGVhcmRvd24mJmwudGVhcmRvd24uY2FsbChhLG8scS5oYW5kbGUpIT09ITF8fHIucmVtb3ZlRXZlbnQoYSxuLHEuaGFuZGxlKSxkZWxldGUgaVtuXSl9ZWxzZSBmb3IobiBpbiBpKXIuZXZlbnQucmVtb3ZlKGEsbitiW2pdLGMsZCwhMCk7ci5pc0VtcHR5T2JqZWN0KGkpJiZWLnJlbW92ZShhLFwiaGFuZGxlIGV2ZW50c1wiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZhciBiPXIuZXZlbnQuZml4KGEpLGMsZCxlLGYsZyxoLGk9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGo9KFYuZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVtiLnR5cGVdfHxbXSxrPXIuZXZlbnQuc3BlY2lhbFtiLnR5cGVdfHx7fTtmb3IoaVswXT1iLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWlbY109YXJndW1lbnRzW2NdO2lmKGIuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYikhPT0hMSl7aD1yLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxiLGopLGM9MDt3aGlsZSgoZj1oW2MrK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXtiLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGQ9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2QrK10pJiYhYi5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWIucm5hbWVzcGFjZSYmIWIucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGIuaGFuZGxlT2JqPWcsYi5kYXRhPWcuZGF0YSxlPSgoci5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1lJiYoYi5yZXN1bHQ9ZSk9PT0hMSYmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYiksYi5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaD1bXSxpPWIuZGVsZWdhdGVDb3VudCxqPWEudGFyZ2V0O2lmKGkmJmoubm9kZVR5cGUmJiEoXCJjbGlja1wiPT09YS50eXBlJiZhLmJ1dHRvbj49MSkpZm9yKDtqIT09dGhpcztqPWoucGFyZW50Tm9kZXx8dGhpcylpZigxPT09ai5ub2RlVHlwZSYmKFwiY2xpY2tcIiE9PWEudHlwZXx8ai5kaXNhYmxlZCE9PSEwKSl7Zm9yKGY9W10sZz17fSxjPTA7YzxpO2MrKylkPWJbY10sZT1kLnNlbGVjdG9yK1wiIFwiLHZvaWQgMD09PWdbZV0mJihnW2VdPWQubmVlZHNDb250ZXh0P3IoZSx0aGlzKS5pbmRleChqKT4tMTpyLmZpbmQoZSx0aGlzLG51bGwsW2pdKS5sZW5ndGgpLGdbZV0mJmYucHVzaChkKTtmLmxlbmd0aCYmaC5wdXNoKHtlbGVtOmosaGFuZGxlcnM6Zn0pfXJldHVybiBqPXRoaXMsaTxiLmxlbmd0aCYmaC5wdXNoKHtlbGVtOmosaGFuZGxlcnM6Yi5zbGljZShpKX0pLGh9LGFkZFByb3A6ZnVuY3Rpb24oYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoci5FdmVudC5wcm90b3R5cGUsYSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OnIuaXNGdW5jdGlvbihiKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gYih0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W2FdfSxzZXQ6ZnVuY3Rpb24oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsYSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfX0pfSxmaXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbci5leHBhbmRvXT9hOm5ldyByLkV2ZW50KGEpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09d2EoKSYmdGhpcy5mb2N1cylyZXR1cm4gdGhpcy5mb2N1cygpLCExfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzPT09d2EoKSYmdGhpcy5ibHVyKXJldHVybiB0aGlzLmJsdXIoKSwhMX0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZihcImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJnIubm9kZU5hbWUodGhpcyxcImlucHV0XCIpKXJldHVybiB0aGlzLmNsaWNrKCksITF9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe3JldHVybiByLm5vZGVOYW1lKGEudGFyZ2V0LFwiYVwiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19fSxyLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMpfSxyLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiByLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT91YTp2YSx0aGlzLnRhcmdldD1hLnRhcmdldCYmMz09PWEudGFyZ2V0Lm5vZGVUeXBlP2EudGFyZ2V0LnBhcmVudE5vZGU6YS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWEuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9YS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9YSxiJiZyLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxyLm5vdygpLHZvaWQodGhpc1tyLmV4cGFuZG9dPSEwKSk6bmV3IHIuRXZlbnQoYSxiKX0sci5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOnZhLGlzUHJvcGFnYXRpb25TdG9wcGVkOnZhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOnZhLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXVhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXVhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD11YSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sci5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLFwiY2hhclwiOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYnV0dG9uO3JldHVybiBudWxsPT1hLndoaWNoJiZyYS50ZXN0KGEudHlwZSk/bnVsbCE9YS5jaGFyQ29kZT9hLmNoYXJDb2RlOmEua2V5Q29kZTohYS53aGljaCYmdm9pZCAwIT09YiYmc2EudGVzdChhLnR5cGUpPzEmYj8xOjImYj8zOjQmYj8yOjA6YS53aGljaH19LHIuZXZlbnQuYWRkUHJvcCksci5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGEsYil7ci5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4gZSYmKGU9PT1kfHxyLmNvbnRhaW5zKGQsZSkpfHwoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxyLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHhhKHRoaXMsYSxiLGMsZCl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4geGEodGhpcyxhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmoscihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZStcIi5cIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoZSBpbiBhKXRoaXMub2ZmKGUsYixhW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gYiE9PSExJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPXZhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfX0pO3ZhciB5YT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSx6YT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxBYT0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLEJhPS9edHJ1ZVxcLyguKikvLENhPS9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztmdW5jdGlvbiBEYShhLGIpe3JldHVybiByLm5vZGVOYW1lKGEsXCJ0YWJsZVwiKSYmci5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsXCJ0clwiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF18fGE6YX1mdW5jdGlvbiBFYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKStcIi9cIithLnR5cGUsYX1mdW5jdGlvbiBGYShhKXt2YXIgYj1CYS5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGF9ZnVuY3Rpb24gR2EoYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqO2lmKDE9PT1iLm5vZGVUeXBlKXtpZihWLmhhc0RhdGEoYSkmJihmPVYuYWNjZXNzKGEpLGc9Vi5zZXQoYixmKSxqPWYuZXZlbnRzKSl7ZGVsZXRlIGcuaGFuZGxlLGcuZXZlbnRzPXt9O2ZvcihlIGluIGopZm9yKGM9MCxkPWpbZV0ubGVuZ3RoO2M8ZDtjKyspci5ldmVudC5hZGQoYixlLGpbZV1bY10pfVcuaGFzRGF0YShhKSYmKGg9Vy5hY2Nlc3MoYSksaT1yLmV4dGVuZCh7fSxoKSxXLnNldChiLGkpKX19ZnVuY3Rpb24gSGEoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJpbnB1dFwiPT09YyYmaWEudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6XCJpbnB1dFwiIT09YyYmXCJ0ZXh0YXJlYVwiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiBJYShhLGIsYyxkKXtiPWcuYXBwbHkoW10sYik7dmFyIGUsZixoLGksaixrLGw9MCxtPWEubGVuZ3RoLG49bS0xLHE9YlswXSxzPXIuaXNGdW5jdGlvbihxKTtpZihzfHxtPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBxJiYhby5jaGVja0Nsb25lJiZBYS50ZXN0KHEpKXJldHVybiBhLmVhY2goZnVuY3Rpb24oZSl7dmFyIGY9YS5lcShlKTtzJiYoYlswXT1xLmNhbGwodGhpcyxlLGYuaHRtbCgpKSksSWEoZixiLGMsZCl9KTtpZihtJiYoZT1wYShiLGFbMF0ub3duZXJEb2N1bWVudCwhMSxhLGQpLGY9ZS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT1mKSxmfHxkKSl7Zm9yKGg9ci5tYXAobWEoZSxcInNjcmlwdFwiKSxFYSksaT1oLmxlbmd0aDtsPG07bCsrKWo9ZSxsIT09biYmKGo9ci5jbG9uZShqLCEwLCEwKSxpJiZyLm1lcmdlKGgsbWEoaixcInNjcmlwdFwiKSkpLGMuY2FsbChhW2xdLGosbCk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsci5tYXAoaCxGYSksbD0wO2w8aTtsKyspaj1oW2xdLGthLnRlc3Qoai50eXBlfHxcIlwiKSYmIVYuYWNjZXNzKGosXCJnbG9iYWxFdmFsXCIpJiZyLmNvbnRhaW5zKGssaikmJihqLnNyYz9yLl9ldmFsVXJsJiZyLl9ldmFsVXJsKGouc3JjKTpwKGoudGV4dENvbnRlbnQucmVwbGFjZShDYSxcIlwiKSxrKSl9cmV0dXJuIGF9ZnVuY3Rpb24gSmEoYSxiLGMpe2Zvcih2YXIgZCxlPWI/ci5maWx0ZXIoYixhKTphLGY9MDtudWxsIT0oZD1lW2ZdKTtmKyspY3x8MSE9PWQubm9kZVR5cGV8fHIuY2xlYW5EYXRhKG1hKGQpKSxkLnBhcmVudE5vZGUmJihjJiZyLmNvbnRhaW5zKGQub3duZXJEb2N1bWVudCxkKSYmbmEobWEoZCxcInNjcmlwdFwiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1yLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHlhLFwiPCQxPjwvJDI+XCIpfSxjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNsb25lTm9kZSghMCksaT1yLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZighKG8ubm9DbG9uZUNoZWNrZWR8fDEhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGV8fHIuaXNYTUxEb2MoYSkpKWZvcihnPW1hKGgpLGY9bWEoYSksZD0wLGU9Zi5sZW5ndGg7ZDxlO2QrKylIYShmW2RdLGdbZF0pO2lmKGIpaWYoYylmb3IoZj1mfHxtYShhKSxnPWd8fG1hKGgpLGQ9MCxlPWYubGVuZ3RoO2Q8ZTtkKyspR2EoZltkXSxnW2RdKTtlbHNlIEdhKGEsaCk7cmV0dXJuIGc9bWEoaCxcInNjcmlwdFwiKSxnLmxlbmd0aD4wJiZuYShnLCFpJiZtYShhLFwic2NyaXB0XCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZCxlPXIuZXZlbnQuc3BlY2lhbCxmPTA7dm9pZCAwIT09KGM9YVtmXSk7ZisrKWlmKFQoYykpe2lmKGI9Y1tWLmV4cGFuZG9dKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cyllW2RdP3IuZXZlbnQucmVtb3ZlKGMsZCk6ci5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO2NbVi5leHBhbmRvXT12b2lkIDB9Y1tXLmV4cGFuZG9dJiYoY1tXLmV4cGFuZG9dPXZvaWQgMCl9fX0pLHIuZm4uZXh0ZW5kKHtkZXRhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIEphKHRoaXMsYSwhMCl9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gSmEodGhpcyxhKX0sdGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gUyh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3IudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHwodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiBJYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9RGEodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIElhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1EYSh0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIElhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIElhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihyLmNsZWFuRGF0YShtYShhLCExKSksYS50ZXh0Q29udGVudD1cIlwiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsIT1hJiZhLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gci5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gUyh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmIXphLnRlc3QoYSkmJiFsYVsoamEuZXhlYyhhKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPXIuaHRtbFByZWZpbHRlcihhKTt0cnl7Zm9yKDtjPGQ7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihyLmNsZWFuRGF0YShtYShiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiBJYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihiKXt2YXIgYz10aGlzLnBhcmVudE5vZGU7ci5pbkFycmF5KHRoaXMsYSk8MCYmKHIuY2xlYW5EYXRhKG1hKHRoaXMpKSxjJiZjLnJlcGxhY2VDaGlsZChiLHRoaXMpKX0sYSl9fSksci5lYWNoKHthcHBlbmRUbzpcImFwcGVuZFwiLHByZXBlbmRUbzpcInByZXBlbmRcIixpbnNlcnRCZWZvcmU6XCJiZWZvcmVcIixpbnNlcnRBZnRlcjpcImFmdGVyXCIscmVwbGFjZUFsbDpcInJlcGxhY2VXaXRoXCJ9LGZ1bmN0aW9uKGEsYil7ci5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1bXSxlPXIoYSksZj1lLmxlbmd0aC0xLGc9MDtnPD1mO2crKyljPWc9PT1mP3RoaXM6dGhpcy5jbG9uZSghMCkscihlW2ddKVtiXShjKSxoLmFwcGx5KGQsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQpfX0pO3ZhciBLYT0vXm1hcmdpbi8sTGE9bmV3IFJlZ0V4cChcIl4oXCIrXytcIikoPyFweClbYS16JV0rJFwiLFwiaVwiKSxNYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9OyFmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtpZihpKXtpLnN0eWxlLmNzc1RleHQ9XCJib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jazttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3RvcDoxJTt3aWR0aDo1MCVcIixpLmlubmVySFRNTD1cIlwiLHFhLmFwcGVuZENoaWxkKGgpO3ZhciBiPWEuZ2V0Q29tcHV0ZWRTdHlsZShpKTtjPVwiMSVcIiE9PWIudG9wLGc9XCIycHhcIj09PWIubWFyZ2luTGVmdCxlPVwiNHB4XCI9PT1iLndpZHRoLGkuc3R5bGUubWFyZ2luUmlnaHQ9XCI1MCVcIixmPVwiNHB4XCI9PT1iLm1hcmdpblJpZ2h0LHFhLnJlbW92ZUNoaWxkKGgpLGk9bnVsbH19dmFyIGMsZSxmLGcsaD1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaT1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZSYmKGkuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGkuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLG8uY2xlYXJDbG9uZVN0eWxlPVwiY29udGVudC1ib3hcIj09PWkuc3R5bGUuYmFja2dyb3VuZENsaXAsaC5zdHlsZS5jc3NUZXh0PVwiYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIixoLmFwcGVuZENoaWxkKGkpLHIuZXh0ZW5kKG8se3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGN9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxlfSxwaXhlbE1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxmfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGd9fSkpfSgpO2Z1bmN0aW9uIE5hKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8TWEoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdLFwiXCIhPT1nfHxyLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9ci5zdHlsZShhLGIpKSwhby5waXhlbE1hcmdpblJpZ2h0KCkmJkxhLnRlc3QoZykmJkthLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLHZvaWQgMCE9PWc/ZytcIlwiOmd9ZnVuY3Rpb24gT2EoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIFBhPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxRYT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sUmE9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxTYT1bXCJXZWJraXRcIixcIk1velwiLFwibXNcIl0sVGE9ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO2Z1bmN0aW9uIFVhKGEpe2lmKGEgaW4gVGEpcmV0dXJuIGE7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksYz1TYS5sZW5ndGg7d2hpbGUoYy0tKWlmKGE9U2FbY10rYixhIGluIFRhKXJldHVybiBhfWZ1bmN0aW9uIFZhKGEsYixjKXt2YXIgZD1hYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsyXS0oY3x8MCkpKyhkWzNdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gV2EoYSxiLGMsZCxlKXt2YXIgZixnPTA7Zm9yKGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjA7Zjw0O2YrPTIpXCJtYXJnaW5cIj09PWMmJihnKz1yLmNzcyhhLGMrYmFbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPXIuY3NzKGEsXCJwYWRkaW5nXCIrYmFbZl0sITAsZSkpLFwibWFyZ2luXCIhPT1jJiYoZy09ci5jc3MoYSxcImJvcmRlclwiK2JhW2ZdK1wiV2lkdGhcIiwhMCxlKSkpOihnKz1yLmNzcyhhLFwicGFkZGluZ1wiK2JhW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPXIuY3NzKGEsXCJib3JkZXJcIitiYVtmXStcIldpZHRoXCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBYYShhLGIsYyl7dmFyIGQsZT0hMCxmPU1hKGEpLGc9XCJib3JkZXItYm94XCI9PT1yLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZik7aWYoYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKGQ9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtiXSksZDw9MHx8bnVsbD09ZCl7aWYoZD1OYShhLGIsZiksKGQ8MHx8bnVsbD09ZCkmJihkPWEuc3R5bGVbYl0pLExhLnRlc3QoZCkpcmV0dXJuIGQ7ZT1nJiYoby5ib3hTaXppbmdSZWxpYWJsZSgpfHxkPT09YS5zdHlsZVtiXSksZD1wYXJzZUZsb2F0KGQpfHwwfXJldHVybiBkK1dhKGEsYixjfHwoZz9cImJvcmRlclwiOlwiY29udGVudFwiKSxlLGYpK1wicHhcIn1yLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPU5hKGEsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1jP1wiMVwiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjpcImNzc0Zsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9ci5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPXIuY3NzUHJvcHNbaF18fChyLmNzc1Byb3BzW2hdPVVhKGgpfHxoKSxnPXIuY3NzSG9va3NbYl18fHIuY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiZcImdldFwiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1hYS5leGVjKGMpKSYmZVsxXSYmKGM9ZWEoYSxiLGUpLGY9XCJudW1iZXJcIiksbnVsbCE9YyYmYz09PWMmJihcIm51bWJlclwiPT09ZiYmKGMrPWUmJmVbM118fChyLmNzc051bWJlcltoXT9cIlwiOlwicHhcIikpLG8uY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09Y3x8MCE9PWIuaW5kZXhPZihcImJhY2tncm91bmRcIil8fChpW2JdPVwiaW5oZXJpdFwiKSxnJiZcInNldFwiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9ci5jYW1lbENhc2UoYik7cmV0dXJuIGI9ci5jc3NQcm9wc1toXXx8KHIuY3NzUHJvcHNbaF09VWEoaCl8fGgpLGc9ci5jc3NIb29rc1tiXXx8ci5jc3NIb29rc1toXSxnJiZcImdldFwiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9TmEoYSxiLGQpKSxcIm5vcm1hbFwiPT09ZSYmYiBpbiBSYSYmKGU9UmFbYl0pLFwiXCI9PT1jfHxjPyhmPXBhcnNlRmxvYXQoZSksYz09PSEwfHxpc0Zpbml0ZShmKT9mfHwwOmUpOmV9fSksci5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oYSxiKXtyLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe2lmKGMpcmV0dXJuIVBhLnRlc3Qoci5jc3MoYSxcImRpc3BsYXlcIikpfHxhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP1hhKGEsYixkKTpkYShhLFFhLGZ1bmN0aW9uKCl7cmV0dXJuIFhhKGEsYixkKX0pfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGY9ZCYmTWEoYSksZz1kJiZXYShhLGIsZCxcImJvcmRlci1ib3hcIj09PXIuY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKSxmKTtyZXR1cm4gZyYmKGU9YWEuZXhlYyhjKSkmJlwicHhcIiE9PShlWzNdfHxcInB4XCIpJiYoYS5zdHlsZVtiXT1jLGM9ci5jc3MoYSxiKSksVmEoYSxjLGcpfX19KSxyLmNzc0hvb2tzLm1hcmdpbkxlZnQ9T2Eoby5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybihwYXJzZUZsb2F0KE5hKGEsXCJtYXJnaW5MZWZ0XCIpKXx8YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWRhKGEse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpK1wicHhcIn0pLHIuZWFjaCh7bWFyZ2luOlwiXCIscGFkZGluZzpcIlwiLGJvcmRlcjpcIldpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7ci5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Muc3BsaXQoXCIgXCIpOltjXTtkPDQ7ZCsrKWVbYStiYVtkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxLYS50ZXN0KGEpfHwoci5jc3NIb29rc1thK2JdLnNldD1WYSl9KSxyLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFModGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihyLmlzQXJyYXkoYikpe2ZvcihkPU1hKGEpLGU9Yi5sZW5ndGg7ZzxlO2crKylmW2JbZ11dPXIuY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9yLnN0eWxlKGEsYixjKTpyLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX19KTtmdW5jdGlvbiBZYShhLGIsYyxkLGUpe3JldHVybiBuZXcgWWEucHJvdG90eXBlLmluaXQoYSxiLGMsZCxlKX1yLlR3ZWVuPVlhLFlhLnByb3RvdHlwZT17Y29uc3RydWN0b3I6WWEsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8ci5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPWIsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWQsdGhpcy51bml0PWZ8fChyLmNzc051bWJlcltjXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPVlhLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpZYS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1ZYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9ci5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOllhLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LFlhLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1ZYS5wcm90b3R5cGUsWWEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9ci5jc3MoYS5lbGVtLGEucHJvcCxcIlwiKSxiJiZcImF1dG9cIiE9PWI/YjowKX0sc2V0OmZ1bmN0aW9uKGEpe3IuZnguc3RlcFthLnByb3BdP3IuZnguc3RlcFthLnByb3BdKGEpOjEhPT1hLmVsZW0ubm9kZVR5cGV8fG51bGw9PWEuZWxlbS5zdHlsZVtyLmNzc1Byb3BzW2EucHJvcF1dJiYhci5jc3NIb29rc1thLnByb3BdP2EuZWxlbVthLnByb3BdPWEubm93OnIuc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpfX19LFlhLnByb3BIb29rcy5zY3JvbGxUb3A9WWEucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sci5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfSxfZGVmYXVsdDpcInN3aW5nXCJ9LHIuZng9WWEucHJvdG90eXBlLmluaXQsci5meC5zdGVwPXt9O3ZhciBaYSwkYSxfYT0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sYWI9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBiYigpeyRhJiYoYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYmIpLHIuZngudGljaygpKX1mdW5jdGlvbiBjYigpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaYT12b2lkIDB9KSxaYT1yLm5vdygpfWZ1bmN0aW9uIGRiKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDtkPDQ7ZCs9Mi1iKWM9YmFbZF0sZVtcIm1hcmdpblwiK2NdPWVbXCJwYWRkaW5nXCIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gZWIoYSxiLGMpe2Zvcih2YXIgZCxlPShoYi50d2VlbmVyc1tiXXx8W10pLmNvbmNhdChoYi50d2VlbmVyc1tcIipcIl0pLGY9MCxnPWUubGVuZ3RoO2Y8ZztmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIGZiKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9XCJ3aWR0aFwiaW4gYnx8XCJoZWlnaHRcImluIGIsbT10aGlzLG49e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmY2EoYSkscT1WLmdldChhLFwiZnhzaG93XCIpO2MucXVldWV8fChnPXIuX3F1ZXVlSG9va3MoYSxcImZ4XCIpLG51bGw9PWcudW5xdWV1ZWQmJihnLnVucXVldWVkPTAsaD1nLmVtcHR5LmZpcmUsZy5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7Zy51bnF1ZXVlZHx8aCgpfSksZy51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtnLnVucXVldWVkLS0sci5xdWV1ZShhLFwiZnhcIikubGVuZ3RofHxnLmVtcHR5LmZpcmUoKX0pfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLF9hLnRlc3QoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8XCJ0b2dnbGVcIj09PWUsZT09PShwP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1lfHwhcXx8dm9pZCAwPT09cVtkXSljb250aW51ZTtwPSEwfW5bZF09cSYmcVtkXXx8ci5zdHlsZShhLGQpfWlmKGk9IXIuaXNFbXB0eU9iamVjdChiKSxpfHwhci5pc0VtcHR5T2JqZWN0KG4pKXtsJiYxPT09YS5ub2RlVHlwZSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9cSYmcS5kaXNwbGF5LG51bGw9PWomJihqPVYuZ2V0KGEsXCJkaXNwbGF5XCIpKSxrPXIuY3NzKGEsXCJkaXNwbGF5XCIpLFwibm9uZVwiPT09ayYmKGo/az1qOihoYShbYV0sITApLGo9YS5zdHlsZS5kaXNwbGF5fHxqLGs9ci5jc3MoYSxcImRpc3BsYXlcIiksaGEoW2FdKSkpLChcImlubGluZVwiPT09a3x8XCJpbmxpbmUtYmxvY2tcIj09PWsmJm51bGwhPWopJiZcIm5vbmVcIj09PXIuY3NzKGEsXCJmbG9hdFwiKSYmKGl8fChtLmRvbmUoZnVuY3Rpb24oKXtvLmRpc3BsYXk9an0pLG51bGw9PWomJihrPW8uZGlzcGxheSxqPVwibm9uZVwiPT09az9cIlwiOmspKSxvLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLGMub3ZlcmZsb3cmJihvLm92ZXJmbG93PVwiaGlkZGVuXCIsbS5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpLGk9ITE7Zm9yKGQgaW4gbilpfHwocT9cImhpZGRlblwiaW4gcSYmKHA9cS5oaWRkZW4pOnE9Vi5hY2Nlc3MoYSxcImZ4c2hvd1wiLHtkaXNwbGF5Omp9KSxmJiYocS5oaWRkZW49IXApLHAmJmhhKFthXSwhMCksbS5kb25lKGZ1bmN0aW9uKCl7cHx8aGEoW2FdKSxWLnJlbW92ZShhLFwiZnhzaG93XCIpO2ZvcihkIGluIG4pci5zdHlsZShhLGQsbltkXSl9KSksaT1lYihwP3FbZF06MCxkLG0pLGQgaW4gcXx8KHFbZF09aS5zdGFydCxwJiYoaS5lbmQ9aS5zdGFydCxpLnN0YXJ0PTApKX19ZnVuY3Rpb24gZ2IoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1yLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLHIuaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9ci5jc3NIb29rc1tkXSxnJiZcImV4cGFuZFwiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIGhiKGEsYixjKXt2YXIgZCxlLGY9MCxnPWhiLnByZWZpbHRlcnMubGVuZ3RoLGg9ci5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9WmF8fGNiKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2c8aTtnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSxmPDEmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOnIuZXh0ZW5kKHt9LGIpLG9wdHM6ci5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOnIuZWFzaW5nLl9kZWZhdWx0fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6WmF8fGNiKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1yLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2M8ZDtjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiPyhoLm5vdGlmeVdpdGgoYSxbaiwxLDBdKSxoLnJlc29sdmVXaXRoKGEsW2osYl0pKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKGdiKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2Y8ZztmKyspaWYoZD1oYi5wcmVmaWx0ZXJzW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gci5pc0Z1bmN0aW9uKGQuc3RvcCkmJihyLl9xdWV1ZUhvb2tzKGouZWxlbSxqLm9wdHMucXVldWUpLnN0b3A9ci5wcm94eShkLnN0b3AsZCkpLGQ7cmV0dXJuIHIubWFwKGssZWIsaiksci5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksci5meC50aW1lcihyLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1yLkFuaW1hdGlvbj1yLmV4dGVuZChoYix7dHdlZW5lcnM6e1wiKlwiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKTtyZXR1cm4gZWEoYy5lbGVtLGEsYWEuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtyLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVtcIipcIl0pOmE9YS5tYXRjaChLKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyljPWFbZF0saGIudHdlZW5lcnNbY109aGIudHdlZW5lcnNbY118fFtdLGhiLnR3ZWVuZXJzW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcnM6W2ZiXSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP2hiLnByZWZpbHRlcnMudW5zaGlmdChhKTpoYi5wcmVmaWx0ZXJzLnB1c2goYSl9fSksci5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGU9YSYmXCJvYmplY3RcIj09dHlwZW9mIGE/ci5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxyLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIXIuaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIHIuZngub2ZmfHxkLmhpZGRlbj9lLmR1cmF0aW9uPTA6XCJudW1iZXJcIiE9dHlwZW9mIGUuZHVyYXRpb24mJihlLmR1cmF0aW9uIGluIHIuZnguc3BlZWRzP2UuZHVyYXRpb249ci5meC5zcGVlZHNbZS5kdXJhdGlvbl06ZS5kdXJhdGlvbj1yLmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ZS5xdWV1ZSYmZS5xdWV1ZSE9PSEwfHwoZS5xdWV1ZT1cImZ4XCIpLGUub2xkPWUuY29tcGxldGUsZS5jb21wbGV0ZT1mdW5jdGlvbigpe3IuaXNGdW5jdGlvbihlLm9sZCkmJmUub2xkLmNhbGwodGhpcyksZS5xdWV1ZSYmci5kZXF1ZXVlKHRoaXMsZS5xdWV1ZSl9LGV9LHIuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKGNhKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXIuaXNFbXB0eU9iamVjdChhKSxmPXIuc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1oYih0aGlzLHIuZXh0ZW5kKHt9LGEpLGYpOyhlfHxWLmdldCh0aGlzLFwiZmluaXNoXCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhK1wicXVldWVIb29rc1wiLGY9ci50aW1lcnMsZz1WLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZhYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxyLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPVYuZ2V0KHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9ci50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLHIucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2I8ZztiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksci5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPXIuZm5bYl07ci5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoZGIoYiwhMCksYSxkLGUpfX0pLHIuZWFjaCh7c2xpZGVEb3duOmRiKFwic2hvd1wiKSxzbGlkZVVwOmRiKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpkYihcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7ci5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxyLnRpbWVycz1bXSxyLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1yLnRpbWVycztmb3IoWmE9ci5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxyLmZ4LnN0b3AoKSxaYT12b2lkIDB9LHIuZngudGltZXI9ZnVuY3Rpb24oYSl7ci50aW1lcnMucHVzaChhKSxhKCk/ci5meC5zdGFydCgpOnIudGltZXJzLnBvcCgpfSxyLmZ4LmludGVydmFsPTEzLHIuZnguc3RhcnQ9ZnVuY3Rpb24oKXskYXx8KCRhPWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2EucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGJiKTphLnNldEludGVydmFsKHIuZngudGljayxyLmZ4LmludGVydmFsKSl9LHIuZnguc3RvcD1mdW5jdGlvbigpe2EuY2FuY2VsQW5pbWF0aW9uRnJhbWU/YS5jYW5jZWxBbmltYXRpb25GcmFtZSgkYSk6YS5jbGVhckludGVydmFsKCRhKSwkYT1udWxsfSxyLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxyLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9ci5meD9yLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8XCJmeFwiLHRoaXMucXVldWUoYyxmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2V0VGltZW91dChjLGIpO2Quc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJUaW1lb3V0KGUpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9ZC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsby5jaGVja09uPVwiXCIhPT1hLnZhbHVlLG8ub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGEudmFsdWU9XCJ0XCIsYS50eXBlPVwicmFkaW9cIixvLnJhZGlvVmFsdWU9XCJ0XCI9PT1hLnZhbHVlfSgpO3ZhciBpYixqYj1yLmV4cHIuYXR0ckhhbmRsZTtyLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBTKHRoaXMsci5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtyLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLHIuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmdldEF0dHJpYnV0ZT9yLnByb3AoYSxiLGMpOigxPT09ZiYmci5pc1hNTERvYyhhKXx8KGU9ci5hdHRySG9va3NbYi50b0xvd2VyQ2FzZSgpXXx8KHIuZXhwci5tYXRjaC5ib29sLnRlc3QoYik/aWI6dm9pZCAwKSksXG52b2lkIDAhPT1jP251bGw9PT1jP3ZvaWQgci5yZW1vdmVBdHRyKGEsYik6ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjK1wiXCIpLGMpOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDooZD1yLmZpbmQuYXR0cihhLGIpLG51bGw9PWQ/dm9pZCAwOmQpKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighby5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT1iJiZyLm5vZGVOYW1lKGEsXCJpbnB1dFwiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYiksYyYmKGEudmFsdWU9YyksYn19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MCxlPWImJmIubWF0Y2goSyk7aWYoZSYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1lW2QrK10pYS5yZW1vdmVBdHRyaWJ1dGUoYyl9fSksaWI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9yLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxyLmVhY2goci5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9amJbYl18fHIuZmluZC5hdHRyO2piW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmLGc9Yi50b0xvd2VyQ2FzZSgpO3JldHVybiBkfHwoZj1qYltnXSxqYltnXT1lLGU9bnVsbCE9YyhhLGIsZCk/ZzpudWxsLGpiW2ddPWYpLGV9fSk7dmFyIGtiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksbGI9L14oPzphfGFyZWEpJC9pO3IuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFModGhpcyxyLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW3IucHJvcEZpeFthXXx8YV19KX19KSxyLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gMT09PWYmJnIuaXNYTUxEb2MoYSl8fChiPXIucHJvcEZpeFtiXXx8YixlPXIucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJlwic2V0XCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9ci5maW5kLmF0dHIoYSxcInRhYmluZGV4XCIpO3JldHVybiBiP3BhcnNlSW50KGIsMTApOmtiLnRlc3QoYS5ub2RlTmFtZSl8fGxiLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOi0xfX19LHByb3BGaXg6e1wiZm9yXCI6XCJodG1sRm9yXCIsXCJjbGFzc1wiOlwiY2xhc3NOYW1lXCJ9fSksby5vcHRTZWxlY3RlZHx8KHIucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7YiYmKGIuc2VsZWN0ZWRJbmRleCxiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxyLmVhY2goW1widGFiSW5kZXhcIixcInJlYWRPbmx5XCIsXCJtYXhMZW5ndGhcIixcImNlbGxTcGFjaW5nXCIsXCJjZWxsUGFkZGluZ1wiLFwicm93U3BhblwiLFwiY29sU3BhblwiLFwidXNlTWFwXCIsXCJmcmFtZUJvcmRlclwiLFwiY29udGVudEVkaXRhYmxlXCJdLGZ1bmN0aW9uKCl7ci5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO2Z1bmN0aW9uIG1iKGEpe3ZhciBiPWEubWF0Y2goSyl8fFtdO3JldHVybiBiLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIG5iKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIn1yLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKHIuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYixuYih0aGlzKSkpfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChLKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1uYihjKSxkPTE9PT1jLm5vZGVUeXBlJiZcIiBcIittYihlKStcIiBcIil7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZihcIiBcIitmK1wiIFwiKTwwJiYoZCs9ZitcIiBcIik7aD1tYihkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGgpfX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKHIuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYixuYih0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cihcImNsYXNzXCIsXCJcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChLKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1uYihjKSxkPTE9PT1jLm5vZGVUeXBlJiZcIiBcIittYihlKStcIiBcIil7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZihcIiBcIitmK1wiIFwiKT4tMSlkPWQucmVwbGFjZShcIiBcIitmK1wiIFwiLFwiIFwiKTtoPW1iKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYiYmXCJzdHJpbmdcIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6ci5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtyKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsbmIodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZihcInN0cmluZ1wiPT09Yyl7ZD0wLGU9cih0aGlzKSxmPWEubWF0Y2goSyl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2Ugdm9pZCAwIT09YSYmXCJib29sZWFuXCIhPT1jfHwoYj1uYih0aGlzKSxiJiZWLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLGIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYnx8YT09PSExP1wiXCI6Vi5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQ9MDtiPVwiIFwiK2ErXCIgXCI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJihcIiBcIittYihuYihjKSkrXCIgXCIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIG9iPS9cXHIvZztyLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9ci5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLHIodGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIGU/ZSs9XCJcIjpyLmlzQXJyYXkoZSkmJihlPXIubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjphK1wiXCJ9KSksYj1yLnZhbEhvb2tzW3RoaXMudHlwZV18fHIudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcInNldFwiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLFwidmFsdWVcIil8fCh0aGlzLnZhbHVlPWUpKX0pO2lmKGUpcmV0dXJuIGI9ci52YWxIb29rc1tlLnR5cGVdfHxyLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJnZXRcImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsXCJ2YWx1ZVwiKSk/YzooYz1lLnZhbHVlLFwic3RyaW5nXCI9PXR5cGVvZiBjP2MucmVwbGFjZShvYixcIlwiKTpudWxsPT1jP1wiXCI6Yyl9fX0pLHIuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9ci5maW5kLmF0dHIoYSxcInZhbHVlXCIpO3JldHVybiBudWxsIT1iP2I6bWIoci50ZXh0KGEpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPWEub3B0aW9ucyxmPWEuc2VsZWN0ZWRJbmRleCxnPVwic2VsZWN0LW9uZVwiPT09YS50eXBlLGg9Zz9udWxsOltdLGk9Zz9mKzE6ZS5sZW5ndGg7Zm9yKGQ9ZjwwP2k6Zz9mOjA7ZDxpO2QrKylpZihjPWVbZF0sKGMuc2VsZWN0ZWR8fGQ9PT1mKSYmIWMuZGlzYWJsZWQmJighYy5wYXJlbnROb2RlLmRpc2FibGVkfHwhci5ub2RlTmFtZShjLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKGI9cihjKS52YWwoKSxnKXJldHVybiBiO2gucHVzaChiKX1yZXR1cm4gaH0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPXIubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1yLmluQXJyYXkoci52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPi0xKSYmKGM9ITApO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxmfX19fSksci5lYWNoKFtcInJhZGlvXCIsXCJjaGVja2JveFwiXSxmdW5jdGlvbigpe3IudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe2lmKHIuaXNBcnJheShiKSlyZXR1cm4gYS5jaGVja2VkPXIuaW5BcnJheShyKGEpLnZhbCgpLGIpPi0xfX0sby5jaGVja09ufHwoci52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjphLnZhbHVlfSl9KTt2YXIgcGI9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO3IuZXh0ZW5kKHIuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosayxtLG4sbz1bZXx8ZF0scD1sLmNhbGwoYixcInR5cGVcIik/Yi50eXBlOmIscT1sLmNhbGwoYixcIm5hbWVzcGFjZVwiKT9iLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoaD1pPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFwYi50ZXN0KHArci5ldmVudC50cmlnZ2VyZWQpJiYocC5pbmRleE9mKFwiLlwiKT4tMSYmKHE9cC5zcGxpdChcIi5cIikscD1xLnNoaWZ0KCkscS5zb3J0KCkpLGs9cC5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrcCxiPWJbci5leHBhbmRvXT9iOm5ldyByLkV2ZW50KHAsXCJvYmplY3RcIj09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWY/MjozLGIubmFtZXNwYWNlPXEuam9pbihcIi5cIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitxLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWUpLGM9bnVsbD09Yz9bYl06ci5tYWtlQXJyYXkoYyxbYl0pLG49ci5ldmVudC5zcGVjaWFsW3BdfHx7fSxmfHwhbi50cmlnZ2VyfHxuLnRyaWdnZXIuYXBwbHkoZSxjKSE9PSExKSl7aWYoIWYmJiFuLm5vQnViYmxlJiYhci5pc1dpbmRvdyhlKSl7Zm9yKGo9bi5kZWxlZ2F0ZVR5cGV8fHAscGIudGVzdChqK3ApfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpby5wdXNoKGgpLGk9aDtpPT09KGUub3duZXJEb2N1bWVudHx8ZCkmJm8ucHVzaChpLmRlZmF1bHRWaWV3fHxpLnBhcmVudFdpbmRvd3x8YSl9Zz0wO3doaWxlKChoPW9bZysrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWc+MT9qOm4uYmluZFR5cGV8fHAsbT0oVi5nZXQoaCxcImV2ZW50c1wiKXx8e30pW2IudHlwZV0mJlYuZ2V0KGgsXCJoYW5kbGVcIiksbSYmbS5hcHBseShoLGMpLG09ayYmaFtrXSxtJiZtLmFwcGx5JiZUKGgpJiYoYi5yZXN1bHQ9bS5hcHBseShoLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGIudHlwZT1wLGZ8fGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG4uX2RlZmF1bHQmJm4uX2RlZmF1bHQuYXBwbHkoby5wb3AoKSxjKSE9PSExfHwhVChlKXx8ayYmci5pc0Z1bmN0aW9uKGVbcF0pJiYhci5pc1dpbmRvdyhlKSYmKGk9ZVtrXSxpJiYoZVtrXT1udWxsKSxyLmV2ZW50LnRyaWdnZXJlZD1wLGVbcF0oKSxyLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaSYmKGVba109aSkpLGIucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXIuZXh0ZW5kKG5ldyByLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO3IuZXZlbnQudHJpZ2dlcihkLG51bGwsYil9fSksci5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07aWYoYylyZXR1cm4gci5ldmVudC50cmlnZ2VyKGEsYixjLCEwKX19KSxyLmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7ci5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksci5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfX0pLG8uZm9jdXNpbj1cIm9uZm9jdXNpblwiaW4gYSxvLmZvY3VzaW58fHIuZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7ci5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LHIuZXZlbnQuZml4KGEpKX07ci5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPVYuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksVi5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1WLmFjY2VzcyhkLGIpLTE7ZT9WLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLFYucmVtb3ZlKGQsYikpfX19KTt2YXIgcWI9YS5sb2NhdGlvbixyYj1yLm5vdygpLHNiPS9cXD8vO3IucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGM7aWYoIWJ8fFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXtjPShuZXcgYS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhiLFwidGV4dC94bWxcIil9Y2F0Y2goZCl7Yz12b2lkIDB9cmV0dXJuIGMmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RofHxyLmVycm9yKFwiSW52YWxpZCBYTUw6IFwiK2IpLGN9O3ZhciB0Yj0vXFxbXFxdJC8sdWI9L1xccj9cXG4vZyx2Yj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksd2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlO2lmKHIuaXNBcnJheShiKSlyLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fHRiLnRlc3QoYSk/ZChhLGUpOnhiKGErXCJbXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6XCJcIikrXCJdXCIsZSxjLGQpfSk7ZWxzZSBpZihjfHxcIm9iamVjdFwiIT09ci50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpeGIoYStcIltcIitlK1wiXVwiLGJbZV0sYyxkKX1yLnBhcmFtPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ci5pc0Z1bmN0aW9uKGIpP2IoKTpiO2RbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQobnVsbD09Yz9cIlwiOmMpfTtpZihyLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhci5pc1BsYWluT2JqZWN0KGEpKXIuZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpeGIoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIil9LHIuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gci5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXIucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/ci5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhcih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmd2IudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXZiLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFpYS50ZXN0KGEpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPXIodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PWM/bnVsbDpyLmlzQXJyYXkoYyk/ci5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKHViLFwiXFxyXFxuXCIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UodWIsXCJcXHJcXG5cIil9fSkuZ2V0KCl9fSk7dmFyIHliPS8lMjAvZyx6Yj0vIy4qJC8sQWI9LyhbPyZdKV89W14mXSovLEJiPS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvZ20sQ2I9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sRGI9L14oPzpHRVR8SEVBRCkkLyxFYj0vXlxcL1xcLy8sRmI9e30sR2I9e30sSGI9XCIqL1wiLmNvbmNhdChcIipcIiksSWI9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTtJYi5ocmVmPXFiLmhyZWY7ZnVuY3Rpb24gSmIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWIsYj1cIipcIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEspfHxbXTtpZihyLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pXCIrXCI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fFwiKlwiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gS2IoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09R2I7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxyLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Yganx8Znx8ZVtqXT9mPyEoaT1qKTp2b2lkIDA6KGIuZGF0YVR5cGVzLnVuc2hpZnQoaiksZyhqKSwhMSl9KSxpfXJldHVybiBnKGIuZGF0YVR5cGVzWzBdKXx8IWVbXCIqXCJdJiZnKFwiKlwiKX1mdW5jdGlvbiBMYihhLGIpe3ZhciBjLGQsZT1yLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZyLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24gTWIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKFwiKlwiPT09aVswXSlpLnNoaWZ0KCksdm9pZCAwPT09ZCYmKGQ9YS5taW1lVHlwZXx8Yi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZStcIiBcIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31pZihmKXJldHVybiBmIT09aVswXSYmaS51bnNoaWZ0KGYpLGNbZl19ZnVuY3Rpb24gTmIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZihcIipcIj09PWYpZj1pO2Vsc2UgaWYoXCIqXCIhPT1pJiZpIT09Zil7aWYoZz1qW2krXCIgXCIrZl18fGpbXCIqIFwiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KFwiIFwiKSxoWzFdPT09ZiYmKGc9altpK1wiIFwiK2hbMF1dfHxqW1wiKiBcIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbXCJ0aHJvd3NcIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOmc/bDpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIitpK1wiIHRvIFwiK2Z9fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTpifX1yLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6cWIuaHJlZix0eXBlOlwiR0VUXCIsaXNMb2NhbDpDYi50ZXN0KHFiLnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixhY2NlcHRzOntcIipcIjpIYix0ZXh0OlwidGV4dC9wbGFpblwiLGh0bWw6XCJ0ZXh0L2h0bWxcIix4bWw6XCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsanNvbjpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwifSxjb250ZW50czp7eG1sOi9cXGJ4bWxcXGIvLGh0bWw6L1xcYmh0bWwvLGpzb246L1xcYmpzb25cXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOlwicmVzcG9uc2VYTUxcIix0ZXh0OlwicmVzcG9uc2VUZXh0XCIsanNvbjpcInJlc3BvbnNlSlNPTlwifSxjb252ZXJ0ZXJzOntcIiogdGV4dFwiOlN0cmluZyxcInRleHQgaHRtbFwiOiEwLFwidGV4dCBqc29uXCI6SlNPTi5wYXJzZSxcInRleHQgeG1sXCI6ci5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/TGIoTGIoYSxyLmFqYXhTZXR0aW5ncyksYik6TGIoci5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6SmIoRmIpLGFqYXhUcmFuc3BvcnQ6SmIoR2IpLGFqYXg6ZnVuY3Rpb24oYixjKXtcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZSxmLGcsaCxpLGosayxsLG0sbixvPXIuYWpheFNldHVwKHt9LGMpLHA9by5jb250ZXh0fHxvLHE9by5jb250ZXh0JiYocC5ub2RlVHlwZXx8cC5qcXVlcnkpP3IocCk6ci5ldmVudCxzPXIuRGVmZXJyZWQoKSx0PXIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksdT1vLnN0YXR1c0NvZGV8fHt9LHY9e30sdz17fSx4PVwiY2FuY2VsZWRcIix5PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoayl7aWYoIWgpe2g9e307d2hpbGUoYj1CYi5leGVjKGcpKWhbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9aFthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWsmJihhPXdbYS50b0xvd2VyQ2FzZSgpXT13W2EudG9Mb3dlckNhc2UoKV18fGEsdlthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1rJiYoby5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoayl5LmFsd2F5cyhhW3kuc3RhdHVzXSk7ZWxzZSBmb3IoYiBpbiBhKXVbYl09W3VbYl0sYVtiXV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHg7cmV0dXJuIGUmJmUuYWJvcnQoYiksQSgwLGIpLHRoaXN9fTtpZihzLnByb21pc2UoeSksby51cmw9KChifHxvLnVybHx8cWIuaHJlZikrXCJcIikucmVwbGFjZShFYixxYi5wcm90b2NvbCtcIi8vXCIpLG8udHlwZT1jLm1ldGhvZHx8Yy50eXBlfHxvLm1ldGhvZHx8by50eXBlLG8uZGF0YVR5cGVzPShvLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChLKXx8W1wiXCJdLG51bGw9PW8uY3Jvc3NEb21haW4pe2o9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTt0cnl7ai5ocmVmPW8udXJsLGouaHJlZj1qLmhyZWYsby5jcm9zc0RvbWFpbj1JYi5wcm90b2NvbCtcIi8vXCIrSWIuaG9zdCE9ai5wcm90b2NvbCtcIi8vXCIrai5ob3N0fWNhdGNoKHope28uY3Jvc3NEb21haW49ITB9fWlmKG8uZGF0YSYmby5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIG8uZGF0YSYmKG8uZGF0YT1yLnBhcmFtKG8uZGF0YSxvLnRyYWRpdGlvbmFsKSksS2IoRmIsbyxjLHkpLGspcmV0dXJuIHk7bD1yLmV2ZW50JiZvLmdsb2JhbCxsJiYwPT09ci5hY3RpdmUrKyYmci5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLG8udHlwZT1vLnR5cGUudG9VcHBlckNhc2UoKSxvLmhhc0NvbnRlbnQ9IURiLnRlc3Qoby50eXBlKSxmPW8udXJsLnJlcGxhY2UoemIsXCJcIiksby5oYXNDb250ZW50P28uZGF0YSYmby5wcm9jZXNzRGF0YSYmMD09PShvLmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiYoby5kYXRhPW8uZGF0YS5yZXBsYWNlKHliLFwiK1wiKSk6KG49by51cmwuc2xpY2UoZi5sZW5ndGgpLG8uZGF0YSYmKGYrPShzYi50ZXN0KGYpP1wiJlwiOlwiP1wiKStvLmRhdGEsZGVsZXRlIG8uZGF0YSksby5jYWNoZT09PSExJiYoZj1mLnJlcGxhY2UoQWIsXCIkMVwiKSxuPShzYi50ZXN0KGYpP1wiJlwiOlwiP1wiKStcIl89XCIrcmIrKyArbiksby51cmw9ZituKSxvLmlmTW9kaWZpZWQmJihyLmxhc3RNb2RpZmllZFtmXSYmeS5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixyLmxhc3RNb2RpZmllZFtmXSksci5ldGFnW2ZdJiZ5LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsci5ldGFnW2ZdKSksKG8uZGF0YSYmby5oYXNDb250ZW50JiZvLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ5LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixvLmNvbnRlbnRUeXBlKSx5LnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixvLmRhdGFUeXBlc1swXSYmby5hY2NlcHRzW28uZGF0YVR5cGVzWzBdXT9vLmFjY2VwdHNbby5kYXRhVHlwZXNbMF1dKyhcIipcIiE9PW8uZGF0YVR5cGVzWzBdP1wiLCBcIitIYitcIjsgcT0wLjAxXCI6XCJcIik6by5hY2NlcHRzW1wiKlwiXSk7Zm9yKG0gaW4gby5oZWFkZXJzKXkuc2V0UmVxdWVzdEhlYWRlcihtLG8uaGVhZGVyc1ttXSk7aWYoby5iZWZvcmVTZW5kJiYoby5iZWZvcmVTZW5kLmNhbGwocCx5LG8pPT09ITF8fGspKXJldHVybiB5LmFib3J0KCk7aWYoeD1cImFib3J0XCIsdC5hZGQoby5jb21wbGV0ZSkseS5kb25lKG8uc3VjY2VzcykseS5mYWlsKG8uZXJyb3IpLGU9S2IoR2IsbyxjLHkpKXtpZih5LnJlYWR5U3RhdGU9MSxsJiZxLnRyaWdnZXIoXCJhamF4U2VuZFwiLFt5LG9dKSxrKXJldHVybiB5O28uYXN5bmMmJm8udGltZW91dD4wJiYoaT1hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt5LmFib3J0KFwidGltZW91dFwiKX0sby50aW1lb3V0KSk7dHJ5e2s9ITEsZS5zZW5kKHYsQSl9Y2F0Y2goeil7aWYoayl0aHJvdyB6O0EoLTEseil9fWVsc2UgQSgtMSxcIk5vIFRyYW5zcG9ydFwiKTtmdW5jdGlvbiBBKGIsYyxkLGgpe3ZhciBqLG0sbix2LHcseD1jO2t8fChrPSEwLGkmJmEuY2xlYXJUaW1lb3V0KGkpLGU9dm9pZCAwLGc9aHx8XCJcIix5LnJlYWR5U3RhdGU9Yj4wPzQ6MCxqPWI+PTIwMCYmYjwzMDB8fDMwND09PWIsZCYmKHY9TWIobyx5LGQpKSx2PU5iKG8sdix5LGopLGo/KG8uaWZNb2RpZmllZCYmKHc9eS5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKHIubGFzdE1vZGlmaWVkW2ZdPXcpLHc9eS5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIiksdyYmKHIuZXRhZ1tmXT13KSksMjA0PT09Ynx8XCJIRUFEXCI9PT1vLnR5cGU/eD1cIm5vY29udGVudFwiOjMwND09PWI/eD1cIm5vdG1vZGlmaWVkXCI6KHg9di5zdGF0ZSxtPXYuZGF0YSxuPXYuZXJyb3Isaj0hbikpOihuPXgsIWImJnh8fCh4PVwiZXJyb3JcIixiPDAmJihiPTApKSkseS5zdGF0dXM9Yix5LnN0YXR1c1RleHQ9KGN8fHgpK1wiXCIsaj9zLnJlc29sdmVXaXRoKHAsW20seCx5XSk6cy5yZWplY3RXaXRoKHAsW3kseCxuXSkseS5zdGF0dXNDb2RlKHUpLHU9dm9pZCAwLGwmJnEudHJpZ2dlcihqP1wiYWpheFN1Y2Nlc3NcIjpcImFqYXhFcnJvclwiLFt5LG8saj9tOm5dKSx0LmZpcmVXaXRoKHAsW3kseF0pLGwmJihxLnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIixbeSxvXSksLS1yLmFjdGl2ZXx8ci5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIikpKX1yZXR1cm4geX0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHIuZ2V0KGEsYixjLFwianNvblwiKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHIuZ2V0KGEsdm9pZCAwLGIsXCJzY3JpcHRcIil9fSksci5lYWNoKFtcImdldFwiLFwicG9zdFwiXSxmdW5jdGlvbihhLGIpe3JbYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIHIuaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLHIuYWpheChyLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sci5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksci5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gci5hamF4KHt1cmw6YSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxyLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gdGhpc1swXSYmKHIuaXNGdW5jdGlvbihhKSYmKGE9YS5jYWxsKHRoaXNbMF0pKSxiPXIoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiByLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXIodGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9ci5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7cih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcmVudChhKS5ub3QoXCJib2R5XCIpLmVhY2goZnVuY3Rpb24oKXtyKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLHIuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4hci5leHByLnBzZXVkb3MudmlzaWJsZShhKX0sci5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hIShhLm9mZnNldFdpZHRofHxhLm9mZnNldEhlaWdodHx8YS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LHIuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX07dmFyIE9iPXswOjIwMCwxMjIzOjIwNH0sUGI9ci5hamF4U2V0dGluZ3MueGhyKCk7by5jb3JzPSEhUGImJlwid2l0aENyZWRlbnRpYWxzXCJpbiBQYixvLmFqYXg9UGI9ISFQYixyLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYil7dmFyIGMsZDtpZihvLmNvcnN8fFBiJiYhYi5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe3ZhciBnLGg9Yi54aHIoKTtpZihoLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZyBpbiBiLnhockZpZWxkcyloW2ddPWIueGhyRmllbGRzW2ddO2IubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGVbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKTtmb3IoZyBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihnLGVbZ10pO2M9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YyYmKGM9ZD1oLm9ubG9hZD1oLm9uZXJyb3I9aC5vbmFib3J0PWgub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsXCJhYm9ydFwiPT09YT9oLmFib3J0KCk6XCJlcnJvclwiPT09YT9cIm51bWJlclwiIT10eXBlb2YgaC5zdGF0dXM/ZigwLFwiZXJyb3JcIik6ZihoLnN0YXR1cyxoLnN0YXR1c1RleHQpOmYoT2JbaC5zdGF0dXNdfHxoLnN0YXR1cyxoLnN0YXR1c1RleHQsXCJ0ZXh0XCIhPT0oaC5yZXNwb25zZVR5cGV8fFwidGV4dFwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGgucmVzcG9uc2VUZXh0P3tiaW5hcnk6aC5yZXNwb25zZX06e3RleHQ6aC5yZXNwb25zZVRleHR9LGguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGgub25sb2FkPWMoKSxkPWgub25lcnJvcj1jKFwiZXJyb3JcIiksdm9pZCAwIT09aC5vbmFib3J0P2gub25hYm9ydD1kOmgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWgucmVhZHlTdGF0ZSYmYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyYmZCgpfSl9LGM9YyhcImFib3J0XCIpO3RyeXtoLnNlbmQoYi5oYXNDb250ZW50JiZiLmRhdGF8fG51bGwpfWNhdGNoKGkpe2lmKGMpdGhyb3cgaX19LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19KSxyLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oYSl7YS5jcm9zc0RvbWFpbiYmKGEuY29udGVudHMuc2NyaXB0PSExKX0pLHIuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGEpe3JldHVybiByLmdsb2JhbEV2YWwoYSksYX19fSksci5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9XCJHRVRcIil9KSxyLmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7Yj1yKFwiPHNjcmlwdD5cIikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oXCJsb2FkIGVycm9yXCIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZmKFwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxkLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIFFiPVtdLFJiPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87ci5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9UWIucG9wKCl8fHIuZXhwYW5kbytcIl9cIityYisrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksci5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihSYi50ZXN0KGIudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJjA9PT0oYi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmUmIudGVzdChiLmRhdGEpJiZcImRhdGFcIik7aWYoaHx8XCJqc29ucFwiPT09Yi5kYXRhVHlwZXNbMF0pcmV0dXJuIGU9Yi5qc29ucENhbGxiYWNrPXIuaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKFJiLFwiJDFcIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KHNiLnRlc3QoYi51cmwpP1wiJlwiOlwiP1wiKStiLmpzb25wK1wiPVwiK2UpLGIuY29udmVydGVyc1tcInNjcmlwdCBqc29uXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIGd8fHIuZXJyb3IoZStcIiB3YXMgbm90IGNhbGxlZFwiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT1cImpzb25cIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWY/cihhKS5yZW1vdmVQcm9wKGUpOmFbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxRYi5wdXNoKGUpKSxnJiZyLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLFwic2NyaXB0XCJ9KSxvLmNyZWF0ZUhUTUxEb2N1bWVudD1mdW5jdGlvbigpe3ZhciBhPWQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLmJvZHk7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIiwyPT09YS5jaGlsZE5vZGVzLmxlbmd0aH0oKSxyLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuW107XCJib29sZWFuXCI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpO3ZhciBlLGYsZztyZXR1cm4gYnx8KG8uY3JlYXRlSFRNTERvY3VtZW50PyhiPWQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLGU9Yi5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKSxlLmhyZWY9ZC5sb2NhdGlvbi5ocmVmLGIuaGVhZC5hcHBlbmRDaGlsZChlKSk6Yj1kKSxmPUIuZXhlYyhhKSxnPSFjJiZbXSxmP1tiLmNyZWF0ZUVsZW1lbnQoZlsxXSldOihmPXBhKFthXSxiLGcpLGcmJmcubGVuZ3RoJiZyKGcpLnJlbW92ZSgpLHIubWVyZ2UoW10sZi5jaGlsZE5vZGVzKSl9LHIuZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+LTEmJihkPW1iKGEuc2xpY2UoaCkpLGE9YS5zbGljZSgwLGgpKSxyLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihlPVwiUE9TVFwiKSxnLmxlbmd0aD4wJiZyLmFqYXgoe3VybDphLHR5cGU6ZXx8XCJHRVRcIixkYXRhVHlwZTpcImh0bWxcIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP3IoXCI8ZGl2PlwiKS5hcHBlbmQoci5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5hbHdheXMoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSl9KSx0aGlzfSxyLmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihhLGIpe3IuZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxyLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gci5ncmVwKHIudGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTtmdW5jdGlvbiBTYihhKXtyZXR1cm4gci5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fXIub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9ci5jc3MoYSxcInBvc2l0aW9uXCIpLGw9cihhKSxtPXt9O1wic3RhdGljXCI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLGg9bC5vZmZzZXQoKSxmPXIuY3NzKGEsXCJ0b3BcIiksaT1yLmNzcyhhLFwibGVmdFwiKSxqPShcImFic29sdXRlXCI9PT1rfHxcImZpeGVkXCI9PT1rKSYmKGYraSkuaW5kZXhPZihcImF1dG9cIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLHIuaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxyLmV4dGVuZCh7fSxoKSkpLG51bGwhPWIudG9wJiYobS50b3A9Yi50b3AtaC50b3ArZyksbnVsbCE9Yi5sZWZ0JiYobS5sZWZ0PWIubGVmdC1oLmxlZnQrZSksXCJ1c2luZ1wiaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LHIuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtyLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkLGUsZj10aGlzWzBdO2lmKGYpcmV0dXJuIGYuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg/KGQ9Zi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxkLndpZHRofHxkLmhlaWdodD8oZT1mLm93bmVyRG9jdW1lbnQsYz1TYihlKSxiPWUuZG9jdW1lbnRFbGVtZW50LHt0b3A6ZC50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVudFRvcCxsZWZ0OmQubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmQpOnt0b3A6MCxsZWZ0OjB9fSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuXCJmaXhlZFwiPT09ci5jc3MoYyxcInBvc2l0aW9uXCIpP2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxyLm5vZGVOYW1lKGFbMF0sXCJodG1sXCIpfHwoZD1hLm9mZnNldCgpKSxkPXt0b3A6ZC50b3Arci5jc3MoYVswXSxcImJvcmRlclRvcFdpZHRoXCIsITApLGxlZnQ6ZC5sZWZ0K3IuY3NzKGFbMF0sXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCl9KSx7dG9wOmIudG9wLWQudG9wLXIuY3NzKGMsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LXIuY3NzKGMsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGEmJlwic3RhdGljXCI9PT1yLmNzcyhhLFwicG9zaXRpb25cIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8cWF9KX19KSxyLmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9XCJwYWdlWU9mZnNldFwiPT09YjtyLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBTKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmPVNiKGEpO3JldHVybiB2b2lkIDA9PT1lP2Y/ZltiXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/Zi5wYWdlWE9mZnNldDplLGM/ZTpmLnBhZ2VZT2Zmc2V0KTphW2RdPWUpfSxhLGQsYXJndW1lbnRzLmxlbmd0aCl9fSksci5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihhLGIpe3IuY3NzSG9va3NbYl09T2Eoby5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7aWYoYylyZXR1cm4gYz1OYShhLGIpLExhLnRlc3QoYyk/cihhKS5wb3NpdGlvbigpW2JdK1wicHhcIjpjfSl9KSxyLmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtyLmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2EsY29udGVudDpiLFwiXCI6XCJvdXRlclwiK2F9LGZ1bmN0aW9uKGMsZCl7ci5mbltkXT1mdW5jdGlvbihlLGYpe3ZhciBnPWFyZ3VtZW50cy5sZW5ndGgmJihjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGUpLGg9Y3x8KGU9PT0hMHx8Zj09PSEwP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIFModGhpcyxmdW5jdGlvbihiLGMsZSl7dmFyIGY7cmV0dXJuIHIuaXNXaW5kb3coYik/MD09PWQuaW5kZXhPZihcIm91dGVyXCIpP2JbXCJpbm5lclwiK2FdOmIuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrYV06OT09PWIubm9kZVR5cGU/KGY9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5W1wic2Nyb2xsXCIrYV0sZltcInNjcm9sbFwiK2FdLGIuYm9keVtcIm9mZnNldFwiK2FdLGZbXCJvZmZzZXRcIithXSxmW1wiY2xpZW50XCIrYV0pKTp2b2lkIDA9PT1lP3IuY3NzKGIsYyxoKTpyLnN0eWxlKGIsYyxlLGgpfSxiLGc/ZTp2b2lkIDAsZyl9fSl9KSxyLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSxcIioqXCIpOnRoaXMub2ZmKGIsYXx8XCIqKlwiLGMpfX0pLHIucGFyc2VKU09OPUpTT04ucGFyc2UsXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiByfSk7dmFyIFRiPWEualF1ZXJ5LFViPWEuJDtyZXR1cm4gci5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1yJiYoYS4kPVViKSxiJiZhLmpRdWVyeT09PXImJihhLmpRdWVyeT1UYikscn0sYnx8KGEualF1ZXJ5PWEuJD1yKSxyfSk7XG4iLCIvKlxyXG4gQ29weXJpZ2h0IChDKSBGZWRlcmljbyBaaXZvbG8gMjAxOFxyXG4gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChsaWNlbnNlIHRlcm1zIGFyZSBhdCBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUKS5cclxuICovKGZ1bmN0aW9uKGUsdCl7J29iamVjdCc9PXR5cGVvZiBleHBvcnRzJiYndW5kZWZpbmVkJyE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6J2Z1bmN0aW9uJz09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6ZS5Qb3BwZXI9dCgpfSkodGhpcyxmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBlKGUpe3JldHVybiBlJiYnW29iamVjdCBGdW5jdGlvbl0nPT09e30udG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiB0KGUsdCl7aWYoMSE9PWUubm9kZVR5cGUpcmV0dXJuW107dmFyIG89Z2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpO3JldHVybiB0P29bdF06b31mdW5jdGlvbiBvKGUpe3JldHVybidIVE1MJz09PWUubm9kZU5hbWU/ZTplLnBhcmVudE5vZGV8fGUuaG9zdH1mdW5jdGlvbiBuKGUpe2lmKCFlKXJldHVybiBkb2N1bWVudC5ib2R5O3N3aXRjaChlLm5vZGVOYW1lKXtjYXNlJ0hUTUwnOmNhc2UnQk9EWSc6cmV0dXJuIGUub3duZXJEb2N1bWVudC5ib2R5O2Nhc2UnI2RvY3VtZW50JzpyZXR1cm4gZS5ib2R5O312YXIgaT10KGUpLHI9aS5vdmVyZmxvdyxwPWkub3ZlcmZsb3dYLHM9aS5vdmVyZmxvd1k7cmV0dXJuIC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3QocitzK3ApP2U6bihvKGUpKX1mdW5jdGlvbiByKGUpe2lmKCFlKXJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Zm9yKHZhciBvPWllKDEwKT9kb2N1bWVudC5ib2R5Om51bGwsbj1lLm9mZnNldFBhcmVudDtuPT09byYmZS5uZXh0RWxlbWVudFNpYmxpbmc7KW49KGU9ZS5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDt2YXIgaT1uJiZuLm5vZGVOYW1lO3JldHVybiBpJiYnQk9EWSchPT1pJiYnSFRNTCchPT1pPy0xIT09WydURCcsJ1RBQkxFJ10uaW5kZXhPZihuLm5vZGVOYW1lKSYmJ3N0YXRpYyc9PT10KG4sJ3Bvc2l0aW9uJyk/cihuKTpuOmU/ZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLm5vZGVOYW1lO3JldHVybidCT0RZJyE9PXQmJignSFRNTCc9PT10fHxyKGUuZmlyc3RFbGVtZW50Q2hpbGQpPT09ZSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gbnVsbD09PWUucGFyZW50Tm9kZT9lOnMoZS5wYXJlbnROb2RlKX1mdW5jdGlvbiBkKGUsdCl7aWYoIWV8fCFlLm5vZGVUeXBlfHwhdHx8IXQubm9kZVR5cGUpcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt2YXIgbz1lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HLG49bz9lOnQsaT1vP3Q6ZSxhPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7YS5zZXRTdGFydChuLDApLGEuc2V0RW5kKGksMCk7dmFyIGw9YS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtpZihlIT09bCYmdCE9PWx8fG4uY29udGFpbnMoaSkpcmV0dXJuIHAobCk/bDpyKGwpO3ZhciBmPXMoZSk7cmV0dXJuIGYuaG9zdD9kKGYuaG9zdCx0KTpkKGUscyh0KS5ob3N0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTondG9wJyxvPSd0b3AnPT09dD8nc2Nyb2xsVG9wJzonc2Nyb2xsTGVmdCcsbj1lLm5vZGVOYW1lO2lmKCdCT0RZJz09PW58fCdIVE1MJz09PW4pe3ZhciBpPWUub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQscj1lLm93bmVyRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudHx8aTtyZXR1cm4gcltvXX1yZXR1cm4gZVtvXX1mdW5jdGlvbiBsKGUsdCl7dmFyIG89Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxuPWEodCwndG9wJyksaT1hKHQsJ2xlZnQnKSxyPW8/LTE6MTtyZXR1cm4gZS50b3ArPW4qcixlLmJvdHRvbSs9bipyLGUubGVmdCs9aSpyLGUucmlnaHQrPWkqcixlfWZ1bmN0aW9uIGYoZSx0KXt2YXIgbz0neCc9PT10PydMZWZ0JzonVG9wJyxuPSdMZWZ0Jz09bz8nUmlnaHQnOidCb3R0b20nO3JldHVybiBwYXJzZUZsb2F0KGVbJ2JvcmRlcicrbysnV2lkdGgnXSwxMCkrcGFyc2VGbG9hdChlWydib3JkZXInK24rJ1dpZHRoJ10sMTApfWZ1bmN0aW9uIG0oZSx0LG8sbil7cmV0dXJuIFEodFsnb2Zmc2V0JytlXSx0WydzY3JvbGwnK2VdLG9bJ2NsaWVudCcrZV0sb1snb2Zmc2V0JytlXSxvWydzY3JvbGwnK2VdLGllKDEwKT9vWydvZmZzZXQnK2VdK25bJ21hcmdpbicrKCdIZWlnaHQnPT09ZT8nVG9wJzonTGVmdCcpXStuWydtYXJnaW4nKygnSGVpZ2h0Jz09PWU/J0JvdHRvbSc6J1JpZ2h0JyldOjApfWZ1bmN0aW9uIGgoKXt2YXIgZT1kb2N1bWVudC5ib2R5LHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG89aWUoMTApJiZnZXRDb21wdXRlZFN0eWxlKHQpO3JldHVybntoZWlnaHQ6bSgnSGVpZ2h0JyxlLHQsbyksd2lkdGg6bSgnV2lkdGgnLGUsdCxvKX19ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZGUoe30sZSx7cmlnaHQ6ZS5sZWZ0K2Uud2lkdGgsYm90dG9tOmUudG9wK2UuaGVpZ2h0fSl9ZnVuY3Rpb24gZyhlKXt2YXIgbz17fTt0cnl7aWYoaWUoMTApKXtvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIG49YShlLCd0b3AnKSxpPWEoZSwnbGVmdCcpO28udG9wKz1uLG8ubGVmdCs9aSxvLmJvdHRvbSs9bixvLnJpZ2h0Kz1pfWVsc2Ugbz1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKHQpe312YXIgcj17bGVmdDpvLmxlZnQsdG9wOm8udG9wLHdpZHRoOm8ucmlnaHQtby5sZWZ0LGhlaWdodDpvLmJvdHRvbS1vLnRvcH0scD0nSFRNTCc9PT1lLm5vZGVOYW1lP2goKTp7fSxzPXAud2lkdGh8fGUuY2xpZW50V2lkdGh8fHIucmlnaHQtci5sZWZ0LGQ9cC5oZWlnaHR8fGUuY2xpZW50SGVpZ2h0fHxyLmJvdHRvbS1yLnRvcCxsPWUub2Zmc2V0V2lkdGgtcyxtPWUub2Zmc2V0SGVpZ2h0LWQ7aWYobHx8bSl7dmFyIGc9dChlKTtsLT1mKGcsJ3gnKSxtLT1mKGcsJ3knKSxyLndpZHRoLT1sLHIuaGVpZ2h0LT1tfXJldHVybiBjKHIpfWZ1bmN0aW9uIHUoZSxvKXt2YXIgaT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLHI9aWUoMTApLHA9J0hUTUwnPT09by5ub2RlTmFtZSxzPWcoZSksZD1nKG8pLGE9bihlKSxmPXQobyksbT1wYXJzZUZsb2F0KGYuYm9yZGVyVG9wV2lkdGgsMTApLGg9cGFyc2VGbG9hdChmLmJvcmRlckxlZnRXaWR0aCwxMCk7aSYmJ0hUTUwnPT09by5ub2RlTmFtZSYmKGQudG9wPVEoZC50b3AsMCksZC5sZWZ0PVEoZC5sZWZ0LDApKTt2YXIgdT1jKHt0b3A6cy50b3AtZC50b3AtbSxsZWZ0OnMubGVmdC1kLmxlZnQtaCx3aWR0aDpzLndpZHRoLGhlaWdodDpzLmhlaWdodH0pO2lmKHUubWFyZ2luVG9wPTAsdS5tYXJnaW5MZWZ0PTAsIXImJnApe3ZhciBiPXBhcnNlRmxvYXQoZi5tYXJnaW5Ub3AsMTApLHk9cGFyc2VGbG9hdChmLm1hcmdpbkxlZnQsMTApO3UudG9wLT1tLWIsdS5ib3R0b20tPW0tYix1LmxlZnQtPWgteSx1LnJpZ2h0LT1oLXksdS5tYXJnaW5Ub3A9Yix1Lm1hcmdpbkxlZnQ9eX1yZXR1cm4ociYmIWk/by5jb250YWlucyhhKTpvPT09YSYmJ0JPRFknIT09YS5ub2RlTmFtZSkmJih1PWwodSxvKSksdX1mdW5jdGlvbiBiKGUpe3ZhciB0PTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sbz1lLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG49dShlLG8pLGk9UShvLmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSxyPVEoby5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxwPXQ/MDphKG8pLHM9dD8wOmEobywnbGVmdCcpLGQ9e3RvcDpwLW4udG9wK24ubWFyZ2luVG9wLGxlZnQ6cy1uLmxlZnQrbi5tYXJnaW5MZWZ0LHdpZHRoOmksaGVpZ2h0OnJ9O3JldHVybiBjKGQpfWZ1bmN0aW9uIHkoZSl7dmFyIG49ZS5ub2RlTmFtZTtyZXR1cm4nQk9EWSc9PT1ufHwnSFRNTCc9PT1uPyExOidmaXhlZCc9PT10KGUsJ3Bvc2l0aW9uJyl8fHkobyhlKSl9ZnVuY3Rpb24gdyhlKXtpZighZXx8IWUucGFyZW50RWxlbWVudHx8aWUoKSlyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Zvcih2YXIgbz1lLnBhcmVudEVsZW1lbnQ7byYmJ25vbmUnPT09dChvLCd0cmFuc2Zvcm0nKTspbz1vLnBhcmVudEVsZW1lbnQ7cmV0dXJuIG98fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiBFKGUsdCxpLHIpe3ZhciBwPTQ8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0scz17dG9wOjAsbGVmdDowfSxhPXA/dyhlKTpkKGUsdCk7aWYoJ3ZpZXdwb3J0Jz09PXIpcz1iKGEscCk7ZWxzZXt2YXIgbDsnc2Nyb2xsUGFyZW50Jz09PXI/KGw9bihvKHQpKSwnQk9EWSc9PT1sLm5vZGVOYW1lJiYobD1lLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSk6J3dpbmRvdyc9PT1yP2w9ZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDpsPXI7dmFyIGY9dShsLGEscCk7aWYoJ0hUTUwnPT09bC5ub2RlTmFtZSYmIXkoYSkpe3ZhciBtPWgoKSxjPW0uaGVpZ2h0LGc9bS53aWR0aDtzLnRvcCs9Zi50b3AtZi5tYXJnaW5Ub3Ascy5ib3R0b209YytmLnRvcCxzLmxlZnQrPWYubGVmdC1mLm1hcmdpbkxlZnQscy5yaWdodD1nK2YubGVmdH1lbHNlIHM9Zn1yZXR1cm4gcy5sZWZ0Kz1pLHMudG9wKz1pLHMucmlnaHQtPWkscy5ib3R0b20tPWksc31mdW5jdGlvbiB2KGUpe3ZhciB0PWUud2lkdGgsbz1lLmhlaWdodDtyZXR1cm4gdCpvfWZ1bmN0aW9uIHgoZSx0LG8sbixpKXt2YXIgcj01PGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MDtpZigtMT09PWUuaW5kZXhPZignYXV0bycpKXJldHVybiBlO3ZhciBwPUUobyxuLHIsaSkscz17dG9wOnt3aWR0aDpwLndpZHRoLGhlaWdodDp0LnRvcC1wLnRvcH0scmlnaHQ6e3dpZHRoOnAucmlnaHQtdC5yaWdodCxoZWlnaHQ6cC5oZWlnaHR9LGJvdHRvbTp7d2lkdGg6cC53aWR0aCxoZWlnaHQ6cC5ib3R0b20tdC5ib3R0b219LGxlZnQ6e3dpZHRoOnQubGVmdC1wLmxlZnQsaGVpZ2h0OnAuaGVpZ2h0fX0sZD1PYmplY3Qua2V5cyhzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGRlKHtrZXk6ZX0sc1tlXSx7YXJlYTp2KHNbZV0pfSl9KS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuYXJlYS1lLmFyZWF9KSxhPWQuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PWUud2lkdGgsbj1lLmhlaWdodDtyZXR1cm4gdD49by5jbGllbnRXaWR0aCYmbj49by5jbGllbnRIZWlnaHR9KSxsPTA8YS5sZW5ndGg/YVswXS5rZXk6ZFswXS5rZXksZj1lLnNwbGl0KCctJylbMV07cmV0dXJuIGwrKGY/Jy0nK2Y6JycpfWZ1bmN0aW9uIE8oZSx0LG8pe3ZhciBuPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsLGk9bj93KHQpOmQodCxvKTtyZXR1cm4gdShvLGksbil9ZnVuY3Rpb24gTChlKXt2YXIgdD1nZXRDb21wdXRlZFN0eWxlKGUpLG89cGFyc2VGbG9hdCh0Lm1hcmdpblRvcCkrcGFyc2VGbG9hdCh0Lm1hcmdpbkJvdHRvbSksbj1wYXJzZUZsb2F0KHQubWFyZ2luTGVmdCkrcGFyc2VGbG9hdCh0Lm1hcmdpblJpZ2h0KSxpPXt3aWR0aDplLm9mZnNldFdpZHRoK24saGVpZ2h0OmUub2Zmc2V0SGVpZ2h0K299O3JldHVybiBpfWZ1bmN0aW9uIFMoZSl7dmFyIHQ9e2xlZnQ6J3JpZ2h0JyxyaWdodDonbGVmdCcsYm90dG9tOid0b3AnLHRvcDonYm90dG9tJ307cmV0dXJuIGUucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KX1mdW5jdGlvbiBUKGUsdCxvKXtvPW8uc3BsaXQoJy0nKVswXTt2YXIgbj1MKGUpLGk9e3dpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0fSxyPS0xIT09WydyaWdodCcsJ2xlZnQnXS5pbmRleE9mKG8pLHA9cj8ndG9wJzonbGVmdCcscz1yPydsZWZ0JzondG9wJyxkPXI/J2hlaWdodCc6J3dpZHRoJyxhPXI/J3dpZHRoJzonaGVpZ2h0JztyZXR1cm4gaVtwXT10W3BdK3RbZF0vMi1uW2RdLzIsaVtzXT1vPT09cz90W3NdLW5bYV06dFtTKHMpXSxpfWZ1bmN0aW9uIEQoZSx0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbmQ/ZS5maW5kKHQpOmUuZmlsdGVyKHQpWzBdfWZ1bmN0aW9uIEMoZSx0LG8pe2lmKEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgpcmV0dXJuIGUuZmluZEluZGV4KGZ1bmN0aW9uKGUpe3JldHVybiBlW3RdPT09b30pO3ZhciBuPUQoZSxmdW5jdGlvbihlKXtyZXR1cm4gZVt0XT09PW99KTtyZXR1cm4gZS5pbmRleE9mKG4pfWZ1bmN0aW9uIE4odCxvLG4pe3ZhciBpPXZvaWQgMD09PW4/dDp0LnNsaWNlKDAsQyh0LCduYW1lJyxuKSk7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbih0KXt0WydmdW5jdGlvbiddJiZjb25zb2xlLndhcm4oJ2Btb2RpZmllci5mdW5jdGlvbmAgaXMgZGVwcmVjYXRlZCwgdXNlIGBtb2RpZmllci5mbmAhJyk7dmFyIG49dFsnZnVuY3Rpb24nXXx8dC5mbjt0LmVuYWJsZWQmJmUobikmJihvLm9mZnNldHMucG9wcGVyPWMoby5vZmZzZXRzLnBvcHBlciksby5vZmZzZXRzLnJlZmVyZW5jZT1jKG8ub2Zmc2V0cy5yZWZlcmVuY2UpLG89bihvLHQpKX0pLG99ZnVuY3Rpb24gaygpe2lmKCF0aGlzLnN0YXRlLmlzRGVzdHJveWVkKXt2YXIgZT17aW5zdGFuY2U6dGhpcyxzdHlsZXM6e30sYXJyb3dTdHlsZXM6e30sYXR0cmlidXRlczp7fSxmbGlwcGVkOiExLG9mZnNldHM6e319O2Uub2Zmc2V0cy5yZWZlcmVuY2U9Tyh0aGlzLnN0YXRlLHRoaXMucG9wcGVyLHRoaXMucmVmZXJlbmNlLHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKSxlLnBsYWNlbWVudD14KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsZS5vZmZzZXRzLnJlZmVyZW5jZSx0aGlzLnBvcHBlcix0aGlzLnJlZmVyZW5jZSx0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAuYm91bmRhcmllc0VsZW1lbnQsdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpLGUub3JpZ2luYWxQbGFjZW1lbnQ9ZS5wbGFjZW1lbnQsZS5wb3NpdGlvbkZpeGVkPXRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkLGUub2Zmc2V0cy5wb3BwZXI9VCh0aGlzLnBvcHBlcixlLm9mZnNldHMucmVmZXJlbmNlLGUucGxhY2VtZW50KSxlLm9mZnNldHMucG9wcGVyLnBvc2l0aW9uPXRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkPydmaXhlZCc6J2Fic29sdXRlJyxlPU4odGhpcy5tb2RpZmllcnMsZSksdGhpcy5zdGF0ZS5pc0NyZWF0ZWQ/dGhpcy5vcHRpb25zLm9uVXBkYXRlKGUpOih0aGlzLnN0YXRlLmlzQ3JlYXRlZD0hMCx0aGlzLm9wdGlvbnMub25DcmVhdGUoZSkpfX1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuIGUuc29tZShmdW5jdGlvbihlKXt2YXIgbz1lLm5hbWUsbj1lLmVuYWJsZWQ7cmV0dXJuIG4mJm89PT10fSl9ZnVuY3Rpb24gVyhlKXtmb3IodmFyIHQ9WyExLCdtcycsJ1dlYmtpdCcsJ01veicsJ08nXSxvPWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0scj1pPycnK2krbzplO2lmKCd1bmRlZmluZWQnIT10eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVtyXSlyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBCKCl7cmV0dXJuIHRoaXMuc3RhdGUuaXNEZXN0cm95ZWQ9ITAsUCh0aGlzLm1vZGlmaWVycywnYXBwbHlTdHlsZScpJiYodGhpcy5wb3BwZXIucmVtb3ZlQXR0cmlidXRlKCd4LXBsYWNlbWVudCcpLHRoaXMucG9wcGVyLnN0eWxlLnBvc2l0aW9uPScnLHRoaXMucG9wcGVyLnN0eWxlLnRvcD0nJyx0aGlzLnBvcHBlci5zdHlsZS5sZWZ0PScnLHRoaXMucG9wcGVyLnN0eWxlLnJpZ2h0PScnLHRoaXMucG9wcGVyLnN0eWxlLmJvdHRvbT0nJyx0aGlzLnBvcHBlci5zdHlsZS53aWxsQ2hhbmdlPScnLHRoaXMucG9wcGVyLnN0eWxlW1coJ3RyYW5zZm9ybScpXT0nJyksdGhpcy5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLm9wdGlvbnMucmVtb3ZlT25EZXN0cm95JiZ0aGlzLnBvcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wcGVyKSx0aGlzfWZ1bmN0aW9uIEgoZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50O3JldHVybiB0P3QuZGVmYXVsdFZpZXc6d2luZG93fWZ1bmN0aW9uIEEoZSx0LG8saSl7dmFyIHI9J0JPRFknPT09ZS5ub2RlTmFtZSxwPXI/ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OmU7cC5hZGRFdmVudExpc3RlbmVyKHQsbyx7cGFzc2l2ZTohMH0pLHJ8fEEobihwLnBhcmVudE5vZGUpLHQsbyxpKSxpLnB1c2gocCl9ZnVuY3Rpb24gSShlLHQsbyxpKXtvLnVwZGF0ZUJvdW5kPWksSChlKS5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLG8udXBkYXRlQm91bmQse3Bhc3NpdmU6ITB9KTt2YXIgcj1uKGUpO3JldHVybiBBKHIsJ3Njcm9sbCcsby51cGRhdGVCb3VuZCxvLnNjcm9sbFBhcmVudHMpLG8uc2Nyb2xsRWxlbWVudD1yLG8uZXZlbnRzRW5hYmxlZD0hMCxvfWZ1bmN0aW9uIE0oKXt0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWR8fCh0aGlzLnN0YXRlPUkodGhpcy5yZWZlcmVuY2UsdGhpcy5vcHRpb25zLHRoaXMuc3RhdGUsdGhpcy5zY2hlZHVsZVVwZGF0ZSkpfWZ1bmN0aW9uIEYoZSx0KXtyZXR1cm4gSChlKS5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLHQudXBkYXRlQm91bmQpLHQuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyx0LnVwZGF0ZUJvdW5kKX0pLHQudXBkYXRlQm91bmQ9bnVsbCx0LnNjcm9sbFBhcmVudHM9W10sdC5zY3JvbGxFbGVtZW50PW51bGwsdC5ldmVudHNFbmFibGVkPSExLHR9ZnVuY3Rpb24gUigpe3RoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCYmKGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc2NoZWR1bGVVcGRhdGUpLHRoaXMuc3RhdGU9Rih0aGlzLnJlZmVyZW5jZSx0aGlzLnN0YXRlKSl9ZnVuY3Rpb24gVShlKXtyZXR1cm4nJyE9PWUmJiFpc05hTihwYXJzZUZsb2F0KGUpKSYmaXNGaW5pdGUoZSl9ZnVuY3Rpb24gWShlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIG49Jyc7LTEhPT1bJ3dpZHRoJywnaGVpZ2h0JywndG9wJywncmlnaHQnLCdib3R0b20nLCdsZWZ0J10uaW5kZXhPZihvKSYmVSh0W29dKSYmKG49J3B4JyksZS5zdHlsZVtvXT10W29dK259KX1mdW5jdGlvbiBqKGUsdCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgbj10W29dOyExPT09bj9lLnJlbW92ZUF0dHJpYnV0ZShvKTplLnNldEF0dHJpYnV0ZShvLHRbb10pfSl9ZnVuY3Rpb24gcShlLHQsbyl7dmFyIG49RChlLGZ1bmN0aW9uKGUpe3ZhciBvPWUubmFtZTtyZXR1cm4gbz09PXR9KSxpPSEhbiYmZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT1vJiZlLmVuYWJsZWQmJmUub3JkZXI8bi5vcmRlcn0pO2lmKCFpKXt2YXIgcj0nYCcrdCsnYCc7Y29uc29sZS53YXJuKCdgJytvKydgJysnIG1vZGlmaWVyIGlzIHJlcXVpcmVkIGJ5ICcrcisnIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgJytyKychJyl9cmV0dXJuIGl9ZnVuY3Rpb24gSyhlKXtyZXR1cm4nZW5kJz09PWU/J3N0YXJ0Jzonc3RhcnQnPT09ZT8nZW5kJzplfWZ1bmN0aW9uIFYoZSl7dmFyIHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxvPWxlLmluZGV4T2YoZSksbj1sZS5zbGljZShvKzEpLmNvbmNhdChsZS5zbGljZSgwLG8pKTtyZXR1cm4gdD9uLnJldmVyc2UoKTpufWZ1bmN0aW9uIHooZSx0LG8sbil7dmFyIGk9ZS5tYXRjaCgvKCg/OlxcLXxcXCspP1xcZCpcXC4/XFxkKikoLiopLykscj0raVsxXSxwPWlbMl07aWYoIXIpcmV0dXJuIGU7aWYoMD09PXAuaW5kZXhPZignJScpKXt2YXIgcztzd2l0Y2gocCl7Y2FzZSclcCc6cz1vO2JyZWFrO2Nhc2UnJSc6Y2FzZSclcic6ZGVmYXVsdDpzPW47fXZhciBkPWMocyk7cmV0dXJuIGRbdF0vMTAwKnJ9aWYoJ3ZoJz09PXB8fCd2dyc9PT1wKXt2YXIgYTtyZXR1cm4gYT0ndmgnPT09cD9RKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKTpRKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksYS8xMDAqcn1yZXR1cm4gcn1mdW5jdGlvbiBHKGUsdCxvLG4pe3ZhciBpPVswLDBdLHI9LTEhPT1bJ3JpZ2h0JywnbGVmdCddLmluZGV4T2YobikscD1lLnNwbGl0KC8oXFwrfFxcLSkvKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkscz1wLmluZGV4T2YoRChwLGZ1bmN0aW9uKGUpe3JldHVybi0xIT09ZS5zZWFyY2goLyx8XFxzLyl9KSk7cFtzXSYmLTE9PT1wW3NdLmluZGV4T2YoJywnKSYmY29uc29sZS53YXJuKCdPZmZzZXRzIHNlcGFyYXRlZCBieSB3aGl0ZSBzcGFjZShzKSBhcmUgZGVwcmVjYXRlZCwgdXNlIGEgY29tbWEgKCwpIGluc3RlYWQuJyk7dmFyIGQ9L1xccyosXFxzKnxcXHMrLyxhPS0xPT09cz9bcF06W3Auc2xpY2UoMCxzKS5jb25jYXQoW3Bbc10uc3BsaXQoZClbMF1dKSxbcFtzXS5zcGxpdChkKVsxXV0uY29uY2F0KHAuc2xpY2UocysxKSldO3JldHVybiBhPWEubWFwKGZ1bmN0aW9uKGUsbil7dmFyIGk9KDE9PT1uPyFyOnIpPydoZWlnaHQnOid3aWR0aCcscD0hMTtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4nJz09PWVbZS5sZW5ndGgtMV0mJi0xIT09WycrJywnLSddLmluZGV4T2YodCk/KGVbZS5sZW5ndGgtMV09dCxwPSEwLGUpOnA/KGVbZS5sZW5ndGgtMV0rPXQscD0hMSxlKTplLmNvbmNhdCh0KX0sW10pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4geihlLGksdCxvKX0pfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5mb3JFYWNoKGZ1bmN0aW9uKG8sbil7VShvKSYmKGlbdF0rPW8qKCctJz09PWVbbi0xXT8tMToxKSl9KX0pLGl9ZnVuY3Rpb24gXyhlLHQpe3ZhciBvLG49dC5vZmZzZXQsaT1lLnBsYWNlbWVudCxyPWUub2Zmc2V0cyxwPXIucG9wcGVyLHM9ci5yZWZlcmVuY2UsZD1pLnNwbGl0KCctJylbMF07cmV0dXJuIG89VSgrbik/WytuLDBdOkcobixwLHMsZCksJ2xlZnQnPT09ZD8ocC50b3ArPW9bMF0scC5sZWZ0LT1vWzFdKToncmlnaHQnPT09ZD8ocC50b3ArPW9bMF0scC5sZWZ0Kz1vWzFdKTondG9wJz09PWQ/KHAubGVmdCs9b1swXSxwLnRvcC09b1sxXSk6J2JvdHRvbSc9PT1kJiYocC5sZWZ0Kz1vWzBdLHAudG9wKz1vWzFdKSxlLnBvcHBlcj1wLGV9Zm9yKHZhciBYPU1hdGgubWluLEo9TWF0aC5mbG9vcixRPU1hdGgubWF4LFo9J3VuZGVmaW5lZCchPXR5cGVvZiB3aW5kb3cmJid1bmRlZmluZWQnIT10eXBlb2YgZG9jdW1lbnQsJD1bJ0VkZ2UnLCdUcmlkZW50JywnRmlyZWZveCddLGVlPTAsdGU9MDt0ZTwkLmxlbmd0aDt0ZSs9MSlpZihaJiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJFt0ZV0pKXtlZT0xO2JyZWFrfXZhciBpPVomJndpbmRvdy5Qcm9taXNlLG9lPWk/ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7dHx8KHQ9ITAsd2luZG93LlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt0PSExLGUoKX0pKX19OmZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe3R8fCh0PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0PSExLGUoKX0sZWUpKX19LG5lPXt9LGllPWZ1bmN0aW9uKCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOidhbGwnO3JldHVybihlPWUudG9TdHJpbmcoKSxuZS5oYXNPd25Qcm9wZXJ0eShlKSk/bmVbZV06KCcxMSc9PT1lP25lW2VdPS0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50Jyk6JzEwJz09PWU/bmVbZV09LTEhPT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCdNU0lFIDEwJyk6J2FsbCc9PT1lP25lW2VdPS0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50Jyl8fC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdNU0lFJyk6dm9pZCAwLG5lLmFsbD1uZS5hbGx8fE9iamVjdC5rZXlzKG5lKS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBuZVtlXX0pLG5lW2VdKX0scmU9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKX0scGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBvLG49MDtuPHQubGVuZ3RoO24rKylvPXRbbl0sby5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsJ3ZhbHVlJ2luIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX1yZXR1cm4gZnVuY3Rpb24odCxvLG4pe3JldHVybiBvJiZlKHQucHJvdG90eXBlLG8pLG4mJmUodCxuKSx0fX0oKSxzZT1mdW5jdGlvbihlLHQsbyl7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpvLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1vLGV9LGRlPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxvPTE7bzxhcmd1bWVudHMubGVuZ3RoO28rKylmb3IodmFyIG4gaW4gdD1hcmd1bWVudHNbb10sdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGV9LGFlPVsnYXV0by1zdGFydCcsJ2F1dG8nLCdhdXRvLWVuZCcsJ3RvcC1zdGFydCcsJ3RvcCcsJ3RvcC1lbmQnLCdyaWdodC1zdGFydCcsJ3JpZ2h0JywncmlnaHQtZW5kJywnYm90dG9tLWVuZCcsJ2JvdHRvbScsJ2JvdHRvbS1zdGFydCcsJ2xlZnQtZW5kJywnbGVmdCcsJ2xlZnQtc3RhcnQnXSxsZT1hZS5zbGljZSgzKSxmZT17RkxJUDonZmxpcCcsQ0xPQ0tXSVNFOidjbG9ja3dpc2UnLENPVU5URVJDTE9DS1dJU0U6J2NvdW50ZXJjbG9ja3dpc2UnfSxtZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQobyxuKXt2YXIgaT10aGlzLHI9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JlKHRoaXMsdCksdGhpcy5zY2hlZHVsZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaS51cGRhdGUpfSx0aGlzLnVwZGF0ZT1vZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKSx0aGlzLm9wdGlvbnM9ZGUoe30sdC5EZWZhdWx0cyxyKSx0aGlzLnN0YXRlPXtpc0Rlc3Ryb3llZDohMSxpc0NyZWF0ZWQ6ITEsc2Nyb2xsUGFyZW50czpbXX0sdGhpcy5yZWZlcmVuY2U9byYmby5qcXVlcnk/b1swXTpvLHRoaXMucG9wcGVyPW4mJm4uanF1ZXJ5P25bMF06bix0aGlzLm9wdGlvbnMubW9kaWZpZXJzPXt9LE9iamVjdC5rZXlzKGRlKHt9LHQuRGVmYXVsdHMubW9kaWZpZXJzLHIubW9kaWZpZXJzKSkuZm9yRWFjaChmdW5jdGlvbihlKXtpLm9wdGlvbnMubW9kaWZpZXJzW2VdPWRlKHt9LHQuRGVmYXVsdHMubW9kaWZpZXJzW2VdfHx7fSxyLm1vZGlmaWVycz9yLm1vZGlmaWVyc1tlXTp7fSl9KSx0aGlzLm1vZGlmaWVycz1PYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMubW9kaWZpZXJzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGRlKHtuYW1lOmV9LGkub3B0aW9ucy5tb2RpZmllcnNbZV0pfSkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLm9yZGVyLXQub3JkZXJ9KSx0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZW5hYmxlZCYmZSh0Lm9uTG9hZCkmJnQub25Mb2FkKGkucmVmZXJlbmNlLGkucG9wcGVyLGkub3B0aW9ucyx0LGkuc3RhdGUpfSksdGhpcy51cGRhdGUoKTt2YXIgcD10aGlzLm9wdGlvbnMuZXZlbnRzRW5hYmxlZDtwJiZ0aGlzLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkPXB9cmV0dXJuIHBlKHQsW3trZXk6J3VwZGF0ZScsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gay5jYWxsKHRoaXMpfX0se2tleTonZGVzdHJveScsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQi5jYWxsKHRoaXMpfX0se2tleTonZW5hYmxlRXZlbnRMaXN0ZW5lcnMnLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE0uY2FsbCh0aGlzKX19LHtrZXk6J2Rpc2FibGVFdmVudExpc3RlbmVycycsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUi5jYWxsKHRoaXMpfX1dKSx0fSgpO3JldHVybiBtZS5VdGlscz0oJ3VuZGVmaW5lZCc9PXR5cGVvZiB3aW5kb3c/Z2xvYmFsOndpbmRvdykuUG9wcGVyVXRpbHMsbWUucGxhY2VtZW50cz1hZSxtZS5EZWZhdWx0cz17cGxhY2VtZW50Oidib3R0b20nLHBvc2l0aW9uRml4ZWQ6ITEsZXZlbnRzRW5hYmxlZDohMCxyZW1vdmVPbkRlc3Ryb3k6ITEsb25DcmVhdGU6ZnVuY3Rpb24oKXt9LG9uVXBkYXRlOmZ1bmN0aW9uKCl7fSxtb2RpZmllcnM6e3NoaWZ0OntvcmRlcjoxMDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihlKXt2YXIgdD1lLnBsYWNlbWVudCxvPXQuc3BsaXQoJy0nKVswXSxuPXQuc3BsaXQoJy0nKVsxXTtpZihuKXt2YXIgaT1lLm9mZnNldHMscj1pLnJlZmVyZW5jZSxwPWkucG9wcGVyLHM9LTEhPT1bJ2JvdHRvbScsJ3RvcCddLmluZGV4T2YobyksZD1zPydsZWZ0JzondG9wJyxhPXM/J3dpZHRoJzonaGVpZ2h0JyxsPXtzdGFydDpzZSh7fSxkLHJbZF0pLGVuZDpzZSh7fSxkLHJbZF0rclthXS1wW2FdKX07ZS5vZmZzZXRzLnBvcHBlcj1kZSh7fSxwLGxbbl0pfXJldHVybiBlfX0sb2Zmc2V0OntvcmRlcjoyMDAsZW5hYmxlZDohMCxmbjpfLG9mZnNldDowfSxwcmV2ZW50T3ZlcmZsb3c6e29yZGVyOjMwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKGUsdCl7dmFyIG89dC5ib3VuZGFyaWVzRWxlbWVudHx8cihlLmluc3RhbmNlLnBvcHBlcik7ZS5pbnN0YW5jZS5yZWZlcmVuY2U9PT1vJiYobz1yKG8pKTt2YXIgbj1FKGUuaW5zdGFuY2UucG9wcGVyLGUuaW5zdGFuY2UucmVmZXJlbmNlLHQucGFkZGluZyxvLGUucG9zaXRpb25GaXhlZCk7dC5ib3VuZGFyaWVzPW47dmFyIGk9dC5wcmlvcml0eSxwPWUub2Zmc2V0cy5wb3BwZXIscz17cHJpbWFyeTpmdW5jdGlvbihlKXt2YXIgbz1wW2VdO3JldHVybiBwW2VdPG5bZV0mJiF0LmVzY2FwZVdpdGhSZWZlcmVuY2UmJihvPVEocFtlXSxuW2VdKSksc2Uoe30sZSxvKX0sc2Vjb25kYXJ5OmZ1bmN0aW9uKGUpe3ZhciBvPSdyaWdodCc9PT1lPydsZWZ0JzondG9wJyxpPXBbb107cmV0dXJuIHBbZV0+bltlXSYmIXQuZXNjYXBlV2l0aFJlZmVyZW5jZSYmKGk9WChwW29dLG5bZV0tKCdyaWdodCc9PT1lP3Aud2lkdGg6cC5oZWlnaHQpKSksc2Uoe30sbyxpKX19O3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9LTE9PT1bJ2xlZnQnLCd0b3AnXS5pbmRleE9mKGUpPydzZWNvbmRhcnknOidwcmltYXJ5JztwPWRlKHt9LHAsc1t0XShlKSl9KSxlLm9mZnNldHMucG9wcGVyPXAsZX0scHJpb3JpdHk6WydsZWZ0JywncmlnaHQnLCd0b3AnLCdib3R0b20nXSxwYWRkaW5nOjUsYm91bmRhcmllc0VsZW1lbnQ6J3Njcm9sbFBhcmVudCd9LGtlZXBUb2dldGhlcjp7b3JkZXI6NDAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vZmZzZXRzLG89dC5wb3BwZXIsbj10LnJlZmVyZW5jZSxpPWUucGxhY2VtZW50LnNwbGl0KCctJylbMF0scj1KLHA9LTEhPT1bJ3RvcCcsJ2JvdHRvbSddLmluZGV4T2YoaSkscz1wPydyaWdodCc6J2JvdHRvbScsZD1wPydsZWZ0JzondG9wJyxhPXA/J3dpZHRoJzonaGVpZ2h0JztyZXR1cm4gb1tzXTxyKG5bZF0pJiYoZS5vZmZzZXRzLnBvcHBlcltkXT1yKG5bZF0pLW9bYV0pLG9bZF0+cihuW3NdKSYmKGUub2Zmc2V0cy5wb3BwZXJbZF09cihuW3NdKSksZX19LGFycm93OntvcmRlcjo1MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihlLG8pe3ZhciBuO2lmKCFxKGUuaW5zdGFuY2UubW9kaWZpZXJzLCdhcnJvdycsJ2tlZXBUb2dldGhlcicpKXJldHVybiBlO3ZhciBpPW8uZWxlbWVudDtpZignc3RyaW5nJz09dHlwZW9mIGkpe2lmKGk9ZS5pbnN0YW5jZS5wb3BwZXIucXVlcnlTZWxlY3RvcihpKSwhaSlyZXR1cm4gZTt9ZWxzZSBpZighZS5pbnN0YW5jZS5wb3BwZXIuY29udGFpbnMoaSkpcmV0dXJuIGNvbnNvbGUud2FybignV0FSTklORzogYGFycm93LmVsZW1lbnRgIG11c3QgYmUgY2hpbGQgb2YgaXRzIHBvcHBlciBlbGVtZW50IScpLGU7dmFyIHI9ZS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXSxwPWUub2Zmc2V0cyxzPXAucG9wcGVyLGQ9cC5yZWZlcmVuY2UsYT0tMSE9PVsnbGVmdCcsJ3JpZ2h0J10uaW5kZXhPZihyKSxsPWE/J2hlaWdodCc6J3dpZHRoJyxmPWE/J1RvcCc6J0xlZnQnLG09Zi50b0xvd2VyQ2FzZSgpLGg9YT8nbGVmdCc6J3RvcCcsZz1hPydib3R0b20nOidyaWdodCcsdT1MKGkpW2xdO2RbZ10tdTxzW21dJiYoZS5vZmZzZXRzLnBvcHBlclttXS09c1ttXS0oZFtnXS11KSksZFttXSt1PnNbZ10mJihlLm9mZnNldHMucG9wcGVyW21dKz1kW21dK3Utc1tnXSksZS5vZmZzZXRzLnBvcHBlcj1jKGUub2Zmc2V0cy5wb3BwZXIpO3ZhciBiPWRbbV0rZFtsXS8yLXUvMix5PXQoZS5pbnN0YW5jZS5wb3BwZXIpLHc9cGFyc2VGbG9hdCh5WydtYXJnaW4nK2ZdLDEwKSxFPXBhcnNlRmxvYXQoeVsnYm9yZGVyJytmKydXaWR0aCddLDEwKSx2PWItZS5vZmZzZXRzLnBvcHBlclttXS13LUU7cmV0dXJuIHY9UShYKHNbbF0tdSx2KSwwKSxlLmFycm93RWxlbWVudD1pLGUub2Zmc2V0cy5hcnJvdz0obj17fSxzZShuLG0sTWF0aC5yb3VuZCh2KSksc2UobixoLCcnKSxuKSxlfSxlbGVtZW50OidbeC1hcnJvd10nfSxmbGlwOntvcmRlcjo2MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihlLHQpe2lmKFAoZS5pbnN0YW5jZS5tb2RpZmllcnMsJ2lubmVyJykpcmV0dXJuIGU7aWYoZS5mbGlwcGVkJiZlLnBsYWNlbWVudD09PWUub3JpZ2luYWxQbGFjZW1lbnQpcmV0dXJuIGU7dmFyIG89RShlLmluc3RhbmNlLnBvcHBlcixlLmluc3RhbmNlLnJlZmVyZW5jZSx0LnBhZGRpbmcsdC5ib3VuZGFyaWVzRWxlbWVudCxlLnBvc2l0aW9uRml4ZWQpLG49ZS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXSxpPVMobikscj1lLnBsYWNlbWVudC5zcGxpdCgnLScpWzFdfHwnJyxwPVtdO3N3aXRjaCh0LmJlaGF2aW9yKXtjYXNlIGZlLkZMSVA6cD1bbixpXTticmVhaztjYXNlIGZlLkNMT0NLV0lTRTpwPVYobik7YnJlYWs7Y2FzZSBmZS5DT1VOVEVSQ0xPQ0tXSVNFOnA9VihuLCEwKTticmVhaztkZWZhdWx0OnA9dC5iZWhhdmlvcjt9cmV0dXJuIHAuZm9yRWFjaChmdW5jdGlvbihzLGQpe2lmKG4hPT1zfHxwLmxlbmd0aD09PWQrMSlyZXR1cm4gZTtuPWUucGxhY2VtZW50LnNwbGl0KCctJylbMF0saT1TKG4pO3ZhciBhPWUub2Zmc2V0cy5wb3BwZXIsbD1lLm9mZnNldHMucmVmZXJlbmNlLGY9SixtPSdsZWZ0Jz09PW4mJmYoYS5yaWdodCk+ZihsLmxlZnQpfHwncmlnaHQnPT09biYmZihhLmxlZnQpPGYobC5yaWdodCl8fCd0b3AnPT09biYmZihhLmJvdHRvbSk+ZihsLnRvcCl8fCdib3R0b20nPT09biYmZihhLnRvcCk8ZihsLmJvdHRvbSksaD1mKGEubGVmdCk8ZihvLmxlZnQpLGM9ZihhLnJpZ2h0KT5mKG8ucmlnaHQpLGc9ZihhLnRvcCk8ZihvLnRvcCksdT1mKGEuYm90dG9tKT5mKG8uYm90dG9tKSxiPSdsZWZ0Jz09PW4mJmh8fCdyaWdodCc9PT1uJiZjfHwndG9wJz09PW4mJmd8fCdib3R0b20nPT09biYmdSx5PS0xIT09Wyd0b3AnLCdib3R0b20nXS5pbmRleE9mKG4pLHc9ISF0LmZsaXBWYXJpYXRpb25zJiYoeSYmJ3N0YXJ0Jz09PXImJmh8fHkmJidlbmQnPT09ciYmY3x8IXkmJidzdGFydCc9PT1yJiZnfHwheSYmJ2VuZCc9PT1yJiZ1KTsobXx8Ynx8dykmJihlLmZsaXBwZWQ9ITAsKG18fGIpJiYobj1wW2QrMV0pLHcmJihyPUsocikpLGUucGxhY2VtZW50PW4rKHI/Jy0nK3I6JycpLGUub2Zmc2V0cy5wb3BwZXI9ZGUoe30sZS5vZmZzZXRzLnBvcHBlcixUKGUuaW5zdGFuY2UucG9wcGVyLGUub2Zmc2V0cy5yZWZlcmVuY2UsZS5wbGFjZW1lbnQpKSxlPU4oZS5pbnN0YW5jZS5tb2RpZmllcnMsZSwnZmxpcCcpKX0pLGV9LGJlaGF2aW9yOidmbGlwJyxwYWRkaW5nOjUsYm91bmRhcmllc0VsZW1lbnQ6J3ZpZXdwb3J0J30saW5uZXI6e29yZGVyOjcwMCxlbmFibGVkOiExLGZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGxhY2VtZW50LG89dC5zcGxpdCgnLScpWzBdLG49ZS5vZmZzZXRzLGk9bi5wb3BwZXIscj1uLnJlZmVyZW5jZSxwPS0xIT09WydsZWZ0JywncmlnaHQnXS5pbmRleE9mKG8pLHM9LTE9PT1bJ3RvcCcsJ2xlZnQnXS5pbmRleE9mKG8pO3JldHVybiBpW3A/J2xlZnQnOid0b3AnXT1yW29dLShzP2lbcD8nd2lkdGgnOidoZWlnaHQnXTowKSxlLnBsYWNlbWVudD1TKHQpLGUub2Zmc2V0cy5wb3BwZXI9YyhpKSxlfX0saGlkZTp7b3JkZXI6ODAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24oZSl7aWYoIXEoZS5pbnN0YW5jZS5tb2RpZmllcnMsJ2hpZGUnLCdwcmV2ZW50T3ZlcmZsb3cnKSlyZXR1cm4gZTt2YXIgdD1lLm9mZnNldHMucmVmZXJlbmNlLG89RChlLmluc3RhbmNlLm1vZGlmaWVycyxmdW5jdGlvbihlKXtyZXR1cm4ncHJldmVudE92ZXJmbG93Jz09PWUubmFtZX0pLmJvdW5kYXJpZXM7aWYodC5ib3R0b208by50b3B8fHQubGVmdD5vLnJpZ2h0fHx0LnRvcD5vLmJvdHRvbXx8dC5yaWdodDxvLmxlZnQpe2lmKCEwPT09ZS5oaWRlKXJldHVybiBlO2UuaGlkZT0hMCxlLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXT0nJ31lbHNle2lmKCExPT09ZS5oaWRlKXJldHVybiBlO2UuaGlkZT0hMSxlLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXT0hMX1yZXR1cm4gZX19LGNvbXB1dGVTdHlsZTp7b3JkZXI6ODUwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24oZSx0KXt2YXIgbz10Lngsbj10LnksaT1lLm9mZnNldHMucG9wcGVyLHA9RChlLmluc3RhbmNlLm1vZGlmaWVycyxmdW5jdGlvbihlKXtyZXR1cm4nYXBwbHlTdHlsZSc9PT1lLm5hbWV9KS5ncHVBY2NlbGVyYXRpb247dm9pZCAwIT09cCYmY29uc29sZS53YXJuKCdXQVJOSU5HOiBgZ3B1QWNjZWxlcmF0aW9uYCBvcHRpb24gbW92ZWQgdG8gYGNvbXB1dGVTdHlsZWAgbW9kaWZpZXIgYW5kIHdpbGwgbm90IGJlIHN1cHBvcnRlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgUG9wcGVyLmpzIScpO3ZhciBzLGQsYT12b2lkIDA9PT1wP3QuZ3B1QWNjZWxlcmF0aW9uOnAsbD1yKGUuaW5zdGFuY2UucG9wcGVyKSxmPWcobCksbT17cG9zaXRpb246aS5wb3NpdGlvbn0saD17bGVmdDpKKGkubGVmdCksdG9wOkooaS50b3ApLGJvdHRvbTpKKGkuYm90dG9tKSxyaWdodDpKKGkucmlnaHQpfSxjPSdib3R0b20nPT09bz8ndG9wJzonYm90dG9tJyx1PSdyaWdodCc9PT1uPydsZWZ0JzoncmlnaHQnLGI9VygndHJhbnNmb3JtJyk7aWYoZD0nYm90dG9tJz09Yz8tZi5oZWlnaHQraC5ib3R0b206aC50b3Ascz0ncmlnaHQnPT11Py1mLndpZHRoK2gucmlnaHQ6aC5sZWZ0LGEmJmIpbVtiXT0ndHJhbnNsYXRlM2QoJytzKydweCwgJytkKydweCwgMCknLG1bY109MCxtW3VdPTAsbS53aWxsQ2hhbmdlPSd0cmFuc2Zvcm0nO2Vsc2V7dmFyIHk9J2JvdHRvbSc9PWM/LTE6MSx3PSdyaWdodCc9PXU/LTE6MTttW2NdPWQqeSxtW3VdPXMqdyxtLndpbGxDaGFuZ2U9YysnLCAnK3V9dmFyIEU9e1wieC1wbGFjZW1lbnRcIjplLnBsYWNlbWVudH07cmV0dXJuIGUuYXR0cmlidXRlcz1kZSh7fSxFLGUuYXR0cmlidXRlcyksZS5zdHlsZXM9ZGUoe30sbSxlLnN0eWxlcyksZS5hcnJvd1N0eWxlcz1kZSh7fSxlLm9mZnNldHMuYXJyb3csZS5hcnJvd1N0eWxlcyksZX0sZ3B1QWNjZWxlcmF0aW9uOiEwLHg6J2JvdHRvbScseToncmlnaHQnfSxhcHBseVN0eWxlOntvcmRlcjo5MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihlKXtyZXR1cm4gWShlLmluc3RhbmNlLnBvcHBlcixlLnN0eWxlcyksaihlLmluc3RhbmNlLnBvcHBlcixlLmF0dHJpYnV0ZXMpLGUuYXJyb3dFbGVtZW50JiZPYmplY3Qua2V5cyhlLmFycm93U3R5bGVzKS5sZW5ndGgmJlkoZS5hcnJvd0VsZW1lbnQsZS5hcnJvd1N0eWxlcyksZX0sb25Mb2FkOmZ1bmN0aW9uKGUsdCxvLG4saSl7dmFyIHI9TyhpLHQsZSxvLnBvc2l0aW9uRml4ZWQpLHA9eChvLnBsYWNlbWVudCxyLHQsZSxvLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LG8ubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7cmV0dXJuIHQuc2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcscCksWSh0LHtwb3NpdGlvbjpvLnBvc2l0aW9uRml4ZWQ/J2ZpeGVkJzonYWJzb2x1dGUnfSksb30sZ3B1QWNjZWxlcmF0aW9uOnZvaWQgMH19fSxtZX0pO1xyXG5cclxuIiwiLyohXG4gICogQm9vdHN0cmFwIHY0LjUuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLylcbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIwIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ2pxdWVyeScpLCByZXF1aXJlKCdwb3BwZXIuanMnKSkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJywgJ2pxdWVyeScsICdwb3BwZXIuanMnXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbC5ib290c3RyYXAgPSB7fSwgZ2xvYmFsLmpRdWVyeSwgZ2xvYmFsLlBvcHBlcikpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMsICQsIFBvcHBlcikgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0TGVnYWN5IChlKSB7IHJldHVybiBlICYmIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gZSA/IGUgOiB7ICdkZWZhdWx0JzogZSB9OyB9XG5cbiAgdmFyICRfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KCQpO1xuICB2YXIgUG9wcGVyX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShQb3BwZXIpO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NC41LjMpOiB1dGlsLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBQcml2YXRlIFRyYW5zaXRpb25FbmQgSGVscGVyc1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFRSQU5TSVRJT05fRU5EID0gJ3RyYW5zaXRpb25lbmQnO1xuICB2YXIgTUFYX1VJRCA9IDEwMDAwMDA7XG4gIHZhciBNSUxMSVNFQ09ORFNfTVVMVElQTElFUiA9IDEwMDA7IC8vIFNob3V0b3V0IEFuZ3VzQ3JvbGwgKGh0dHBzOi8vZ29vLmdsL3B4d1FHcClcblxuICBmdW5jdGlvbiB0b1R5cGUob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIFwiXCIgKyBvYmo7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKS5tYXRjaCgvXFxzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJpbmRUeXBlOiBUUkFOU0lUSU9OX0VORCxcbiAgICAgIGRlbGVnYXRlVHlwZTogVFJBTlNJVElPTl9FTkQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZShldmVudCkge1xuICAgICAgICBpZiAoJF9fZGVmYXVsdFsnZGVmYXVsdCddKGV2ZW50LnRhcmdldCkuaXModGhpcykpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRFbXVsYXRvcihkdXJhdGlvbikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZChfdGhpcyk7XG4gICAgICB9XG4gICAgfSwgZHVyYXRpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZEVtdWxhdG9yO1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5ldmVudC5zcGVjaWFsW1V0aWwuVFJBTlNJVElPTl9FTkRdID0gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpO1xuICB9XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBQdWJsaWMgVXRpbCBBcGlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICB2YXIgVXRpbCA9IHtcbiAgICBUUkFOU0lUSU9OX0VORDogJ2JzVHJhbnNpdGlvbkVuZCcsXG4gICAgZ2V0VUlEOiBmdW5jdGlvbiBnZXRVSUQocHJlZml4KSB7XG4gICAgICBkbyB7XG4gICAgICAgIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogTUFYX1VJRCk7IC8vIFwifn5cIiBhY3RzIGxpa2UgYSBmYXN0ZXIgTWF0aC5mbG9vcigpIGhlcmVcbiAgICAgIH0gd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO1xuXG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH0sXG4gICAgZ2V0U2VsZWN0b3JGcm9tRWxlbWVudDogZnVuY3Rpb24gZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcblxuICAgICAgaWYgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gJyMnKSB7XG4gICAgICAgIHZhciBocmVmQXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgIHNlbGVjdG9yID0gaHJlZkF0dHIgJiYgaHJlZkF0dHIgIT09ICcjJyA/IGhyZWZBdHRyLnRyaW0oKSA6ICcnO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgPyBzZWxlY3RvciA6IG51bGw7XG4gICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gLy8gR2V0IHRyYW5zaXRpb24tZHVyYXRpb24gb2YgdGhlIGVsZW1lbnRcblxuXG4gICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicpO1xuICAgICAgdmFyIHRyYW5zaXRpb25EZWxheSA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShlbGVtZW50KS5jc3MoJ3RyYW5zaXRpb24tZGVsYXknKTtcbiAgICAgIHZhciBmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIHZhciBmbG9hdFRyYW5zaXRpb25EZWxheSA9IHBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KTsgLy8gUmV0dXJuIDAgaWYgZWxlbWVudCBvciB0cmFuc2l0aW9uIGR1cmF0aW9uIGlzIG5vdCBmb3VuZFxuXG4gICAgICBpZiAoIWZsb2F0VHJhbnNpdGlvbkR1cmF0aW9uICYmICFmbG9hdFRyYW5zaXRpb25EZWxheSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gLy8gSWYgbXVsdGlwbGUgZHVyYXRpb25zIGFyZSBkZWZpbmVkLCB0YWtlIHRoZSBmaXJzdFxuXG5cbiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdCgnLCcpWzBdO1xuICAgICAgdHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5LnNwbGl0KCcsJylbMF07XG4gICAgICByZXR1cm4gKHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKSArIHBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KSkgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUjtcbiAgICB9LFxuICAgIHJlZmxvdzogZnVuY3Rpb24gcmVmbG93KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB9LFxuICAgIHRyaWdnZXJUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmlnZ2VyVHJhbnNpdGlvbkVuZChlbGVtZW50KSB7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkudHJpZ2dlcihUUkFOU0lUSU9OX0VORCk7XG4gICAgfSxcbiAgICBzdXBwb3J0c1RyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKFRSQU5TSVRJT05fRU5EKTtcbiAgICB9LFxuICAgIGlzRWxlbWVudDogZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICAgICAgcmV0dXJuIChvYmpbMF0gfHwgb2JqKS5ub2RlVHlwZTtcbiAgICB9LFxuICAgIHR5cGVDaGVja0NvbmZpZzogZnVuY3Rpb24gdHlwZUNoZWNrQ29uZmlnKGNvbXBvbmVudE5hbWUsIGNvbmZpZywgY29uZmlnVHlwZXMpIHtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGNvbmZpZ1R5cGVzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29uZmlnVHlwZXMsIHByb3BlcnR5KSkge1xuICAgICAgICAgIHZhciBleHBlY3RlZFR5cGVzID0gY29uZmlnVHlwZXNbcHJvcGVydHldO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ1twcm9wZXJ0eV07XG4gICAgICAgICAgdmFyIHZhbHVlVHlwZSA9IHZhbHVlICYmIFV0aWwuaXNFbGVtZW50KHZhbHVlKSA/ICdlbGVtZW50JyA6IHRvVHlwZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAoIW5ldyBSZWdFeHAoZXhwZWN0ZWRUeXBlcykudGVzdCh2YWx1ZVR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY29tcG9uZW50TmFtZS50b1VwcGVyQ2FzZSgpICsgXCI6IFwiICsgKFwiT3B0aW9uIFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIHByb3ZpZGVkIHR5cGUgXFxcIlwiICsgdmFsdWVUeXBlICsgXCJcXFwiIFwiKSArIChcImJ1dCBleHBlY3RlZCB0eXBlIFxcXCJcIiArIGV4cGVjdGVkVHlwZXMgKyBcIlxcXCIuXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbmRTaGFkb3dSb290OiBmdW5jdGlvbiBmaW5kU2hhZG93Um9vdChlbGVtZW50KSB7XG4gICAgICBpZiAoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRhY2hTaGFkb3cpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IC8vIENhbiBmaW5kIHRoZSBzaGFkb3cgcm9vdCBvdGhlcndpc2UgaXQnbGwgcmV0dXJuIHRoZSBkb2N1bWVudFxuXG5cbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5nZXRSb290Tm9kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcm9vdCA9IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKTtcbiAgICAgICAgcmV0dXJuIHJvb3QgaW5zdGFuY2VvZiBTaGFkb3dSb290ID8gcm9vdCA6IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH0gLy8gd2hlbiB3ZSBkb24ndCBmaW5kIGEgc2hhZG93IHJvb3RcblxuXG4gICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFV0aWwuZmluZFNoYWRvd1Jvb3QoZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICB9LFxuICAgIGpRdWVyeURldGVjdGlvbjogZnVuY3Rpb24galF1ZXJ5RGV0ZWN0aW9uKCkge1xuICAgICAgaWYgKHR5cGVvZiAkX19kZWZhdWx0WydkZWZhdWx0J10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkuIGpRdWVyeSBtdXN0IGJlIGluY2x1ZGVkIGJlZm9yZSBCb290c3RyYXBcXCdzIEphdmFTY3JpcHQuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2ZXJzaW9uID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuLmpxdWVyeS5zcGxpdCgnICcpWzBdLnNwbGl0KCcuJyk7XG4gICAgICB2YXIgbWluTWFqb3IgPSAxO1xuICAgICAgdmFyIGx0TWFqb3IgPSAyO1xuICAgICAgdmFyIG1pbk1pbm9yID0gOTtcbiAgICAgIHZhciBtaW5QYXRjaCA9IDE7XG4gICAgICB2YXIgbWF4TWFqb3IgPSA0O1xuXG4gICAgICBpZiAodmVyc2lvblswXSA8IGx0TWFqb3IgJiYgdmVyc2lvblsxXSA8IG1pbk1pbm9yIHx8IHZlcnNpb25bMF0gPT09IG1pbk1ham9yICYmIHZlcnNpb25bMV0gPT09IG1pbk1pbm9yICYmIHZlcnNpb25bMl0gPCBtaW5QYXRjaCB8fCB2ZXJzaW9uWzBdID49IG1heE1ham9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSB2MS45LjEgYnV0IGxlc3MgdGhhbiB2NC4wLjAnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFV0aWwualF1ZXJ5RGV0ZWN0aW9uKCk7XG4gIHNldFRyYW5zaXRpb25FbmRTdXBwb3J0KCk7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FID0gJ2FsZXJ0JztcbiAgdmFyIFZFUlNJT04gPSAnNC41LjMnO1xuICB2YXIgREFUQV9LRVkgPSAnYnMuYWxlcnQnO1xuICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUVdO1xuICB2YXIgU0VMRUNUT1JfRElTTUlTUyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nO1xuICB2YXIgRVZFTlRfQ0xPU0UgPSBcImNsb3NlXCIgKyBFVkVOVF9LRVk7XG4gIHZhciBFVkVOVF9DTE9TRUQgPSBcImNsb3NlZFwiICsgRVZFTlRfS0VZO1xuICB2YXIgRVZFTlRfQ0xJQ0tfREFUQV9BUEkgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVk7XG4gIHZhciBDTEFTU19OQU1FX0FMRVJUID0gJ2FsZXJ0JztcbiAgdmFyIENMQVNTX05BTUVfRkFERSA9ICdmYWRlJztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyA9ICdzaG93JztcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgQWxlcnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFsZXJ0KGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gQWxlcnQucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoZWxlbWVudCkge1xuICAgICAgdmFyIHJvb3RFbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgcm9vdEVsZW1lbnQgPSB0aGlzLl9nZXRSb290RWxlbWVudChlbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1c3RvbUV2ZW50ID0gdGhpcy5fdHJpZ2dlckNsb3NlRXZlbnQocm9vdEVsZW1lbnQpO1xuXG4gICAgICBpZiAoY3VzdG9tRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZW1vdmVFbGVtZW50KHJvb3RFbGVtZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRSb290RWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRSb290RWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB2YXIgcGFyZW50ID0gZmFsc2U7XG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLmNsb3Nlc3QoXCIuXCIgKyBDTEFTU19OQU1FX0FMRVJUKVswXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl90cmlnZ2VyQ2xvc2VFdmVudCA9IGZ1bmN0aW9uIF90cmlnZ2VyQ2xvc2VFdmVudChlbGVtZW50KSB7XG4gICAgICB2YXIgY2xvc2VFdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9DTE9TRSk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkudHJpZ2dlcihjbG9zZUV2ZW50KTtcbiAgICAgIHJldHVybiBjbG9zZUV2ZW50O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3JlbW92ZUVsZW1lbnQgPSBmdW5jdGlvbiBfcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XKTtcblxuICAgICAgaWYgKCEkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFKSkge1xuICAgICAgICB0aGlzLl9kZXN0cm95RWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9kZXN0cm95RWxlbWVudChlbGVtZW50LCBldmVudCk7XG4gICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2Rlc3Ryb3lFbGVtZW50ID0gZnVuY3Rpb24gX2Rlc3Ryb3lFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShlbGVtZW50KS5kZXRhY2goKS50cmlnZ2VyKEVWRU5UX0NMT1NFRCkucmVtb3ZlKCk7XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBBbGVydC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBBbGVydCh0aGlzKTtcbiAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcgPT09ICdjbG9zZScpIHtcbiAgICAgICAgICBkYXRhW2NvbmZpZ10odGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBBbGVydC5faGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uIF9oYW5kbGVEaXNtaXNzKGFsZXJ0SW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFsZXJ0SW5zdGFuY2UuY2xvc2UodGhpcyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWxlcnQsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbGVydDtcbiAgfSgpO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudCkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEksIFNFTEVDVE9SX0RJU01JU1MsIEFsZXJ0Ll9oYW5kbGVEaXNtaXNzKG5ldyBBbGVydCgpKSk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogalF1ZXJ5XG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRV0gPSBBbGVydC5falF1ZXJ5SW50ZXJmYWNlO1xuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBBbGVydDtcblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgcmV0dXJuIEFsZXJ0Ll9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FJDEgPSAnYnV0dG9uJztcbiAgdmFyIFZFUlNJT04kMSA9ICc0LjUuMyc7XG4gIHZhciBEQVRBX0tFWSQxID0gJ2JzLmJ1dHRvbic7XG4gIHZhciBFVkVOVF9LRVkkMSA9IFwiLlwiICsgREFUQV9LRVkkMTtcbiAgdmFyIERBVEFfQVBJX0tFWSQxID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkMSA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDFdO1xuICB2YXIgQ0xBU1NfTkFNRV9BQ1RJVkUgPSAnYWN0aXZlJztcbiAgdmFyIENMQVNTX05BTUVfQlVUVE9OID0gJ2J0bic7XG4gIHZhciBDTEFTU19OQU1FX0ZPQ1VTID0gJ2ZvY3VzJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFX0NBUlJPVCA9ICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFUyA9ICdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFID0gJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvblwiXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1RPR0dMRVNfQlVUVE9OUyA9ICdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdIC5idG4nO1xuICB2YXIgU0VMRUNUT1JfSU5QVVQgPSAnaW5wdXQ6bm90KFt0eXBlPVwiaGlkZGVuXCJdKSc7XG4gIHZhciBTRUxFQ1RPUl9BQ1RJVkUgPSAnLmFjdGl2ZSc7XG4gIHZhciBTRUxFQ1RPUl9CVVRUT04gPSAnLmJ0bic7XG4gIHZhciBFVkVOVF9DTElDS19EQVRBX0FQSSQxID0gXCJjbGlja1wiICsgRVZFTlRfS0VZJDEgKyBEQVRBX0FQSV9LRVkkMTtcbiAgdmFyIEVWRU5UX0ZPQ1VTX0JMVVJfREFUQV9BUEkgPSBcImZvY3VzXCIgKyBFVkVOVF9LRVkkMSArIERBVEFfQVBJX0tFWSQxICsgXCIgXCIgKyAoXCJibHVyXCIgKyBFVkVOVF9LRVkkMSArIERBVEFfQVBJX0tFWSQxKTtcbiAgdmFyIEVWRU5UX0xPQURfREFUQV9BUEkgPSBcImxvYWRcIiArIEVWRU5UX0tFWSQxICsgREFUQV9BUElfS0VZJDE7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIEJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnV0dG9uKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5zaG91bGRBdm9pZFRyaWdnZXJDaGFuZ2UgPSBmYWxzZTtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IEJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgdmFyIHRyaWdnZXJDaGFuZ2VFdmVudCA9IHRydWU7XG4gICAgICB2YXIgYWRkQXJpYVByZXNzZWQgPSB0cnVlO1xuICAgICAgdmFyIHJvb3RFbGVtZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QoU0VMRUNUT1JfREFUQV9UT0dHTEVTKVswXTtcblxuICAgICAgaWYgKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIHZhciBpbnB1dCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9JTlBVVCk7XG5cbiAgICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGVja2VkICYmIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfQUNUSVZFKSkge1xuICAgICAgICAgICAgICB0cmlnZ2VyQ2hhbmdlRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gcm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9BQ1RJVkUpO1xuXG4gICAgICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IGEgcmFkaW8gYnV0dG9uIG9yIGNoZWNrYm94IGRvbid0IGFkZCBhIHBvaW50bGVzcy9pbnZhbGlkIGNoZWNrZWQgcHJvcGVydHkgdG8gdGhlIGlucHV0XG4gICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBpbnB1dC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSAhdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkQXZvaWRUcmlnZ2VyQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShpbnB1dCkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICBhZGRBcmlhUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghKHRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpIHx8IHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSkge1xuICAgICAgICBpZiAoYWRkQXJpYVByZXNzZWQpIHtcbiAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgIXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfQUNUSVZFKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJpZ2dlckNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSQxKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgQnV0dG9uLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZywgYXZvaWRUcmlnZ2VyQ2hhbmdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMpO1xuICAgICAgICB2YXIgZGF0YSA9ICRlbGVtZW50LmRhdGEoREFUQV9LRVkkMSk7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBCdXR0b24odGhpcyk7XG4gICAgICAgICAgJGVsZW1lbnQuZGF0YShEQVRBX0tFWSQxLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuc2hvdWxkQXZvaWRUcmlnZ2VyQ2hhbmdlID0gYXZvaWRUcmlnZ2VyQ2hhbmdlO1xuXG4gICAgICAgIGlmIChjb25maWcgPT09ICd0b2dnbGUnKSB7XG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQnV0dG9uLCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiQxO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCdXR0b247XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10oZG9jdW1lbnQpLm9uKEVWRU5UX0NMSUNLX0RBVEFfQVBJJDEsIFNFTEVDVE9SX0RBVEFfVE9HR0xFX0NBUlJPVCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGJ1dHRvbiA9IGV2ZW50LnRhcmdldDtcbiAgICB2YXIgaW5pdGlhbEJ1dHRvbiA9IGJ1dHRvbjtcblxuICAgIGlmICghJF9fZGVmYXVsdFsnZGVmYXVsdCddKGJ1dHRvbikuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9CVVRUT04pKSB7XG4gICAgICBidXR0b24gPSAkX19kZWZhdWx0WydkZWZhdWx0J10oYnV0dG9uKS5jbG9zZXN0KFNFTEVDVE9SX0JVVFRPTilbMF07XG4gICAgfVxuXG4gICAgaWYgKCFidXR0b24gfHwgYnV0dG9uLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSB8fCBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyB3b3JrIGFyb3VuZCBGaXJlZm94IGJ1ZyAjMTU0MDk5NVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaW5wdXRCdG4gPSBidXR0b24ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9JTlBVVCk7XG5cbiAgICAgIGlmIChpbnB1dEJ0biAmJiAoaW5wdXRCdG4uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpIHx8IGlucHV0QnRuLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gd29yayBhcm91bmQgRmlyZWZveCBidWcgIzE1NDA5OTVcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbml0aWFsQnV0dG9uLnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgYnV0dG9uLnRhZ05hbWUgIT09ICdMQUJFTCcpIHtcbiAgICAgICAgQnV0dG9uLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkX19kZWZhdWx0WydkZWZhdWx0J10oYnV0dG9uKSwgJ3RvZ2dsZScsIGluaXRpYWxCdXR0b24udGFnTmFtZSA9PT0gJ0lOUFVUJyk7XG4gICAgICB9XG4gICAgfVxuICB9KS5vbihFVkVOVF9GT0NVU19CTFVSX0RBVEFfQVBJLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRV9DQVJST1QsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBidXR0b24gPSAkX19kZWZhdWx0WydkZWZhdWx0J10oZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFNFTEVDVE9SX0JVVFRPTilbMF07XG4gICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGJ1dHRvbikudG9nZ2xlQ2xhc3MoQ0xBU1NfTkFNRV9GT0NVUywgL15mb2N1cyhpbik/JC8udGVzdChldmVudC50eXBlKSk7XG4gIH0pO1xuICAkX19kZWZhdWx0WydkZWZhdWx0J10od2luZG93KS5vbihFVkVOVF9MT0FEX0RBVEFfQVBJLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gZW5zdXJlIGNvcnJlY3QgYWN0aXZlIGNsYXNzIGlzIHNldCB0byBtYXRjaCB0aGUgY29udHJvbHMnIGFjdHVhbCB2YWx1ZXMvc3RhdGVzXG4gICAgLy8gZmluZCBhbGwgY2hlY2tib3hlcy9yZWFkaW8gYnV0dG9ucyBpbnNpZGUgZGF0YS10b2dnbGUgZ3JvdXBzXG4gICAgdmFyIGJ1dHRvbnMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfREFUQV9UT0dHTEVTX0JVVFRPTlMpKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBidXR0b25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgYnV0dG9uID0gYnV0dG9uc1tpXTtcbiAgICAgIHZhciBpbnB1dCA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0lOUFVUKTtcblxuICAgICAgaWYgKGlucHV0LmNoZWNrZWQgfHwgaW5wdXQuaGFzQXR0cmlidXRlKCdjaGVja2VkJykpIHtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgICAgfVxuICAgIH0gLy8gZmluZCBhbGwgYnV0dG9uIHRvZ2dsZXNcblxuXG4gICAgYnV0dG9ucyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1RPR0dMRSkpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfbGVuID0gYnV0dG9ucy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgdmFyIF9idXR0b24gPSBidXR0b25zW19pXTtcblxuICAgICAgaWYgKF9idXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIF9idXR0b24uY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogalF1ZXJ5XG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQxXSA9IEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlO1xuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQxXS5Db25zdHJ1Y3RvciA9IEJ1dHRvbjtcblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQxXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDFdID0gSlFVRVJZX05PX0NPTkZMSUNUJDE7XG4gICAgcmV0dXJuIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSQyID0gJ2Nhcm91c2VsJztcbiAgdmFyIFZFUlNJT04kMiA9ICc0LjUuMyc7XG4gIHZhciBEQVRBX0tFWSQyID0gJ2JzLmNhcm91c2VsJztcbiAgdmFyIEVWRU5UX0tFWSQyID0gXCIuXCIgKyBEQVRBX0tFWSQyO1xuICB2YXIgREFUQV9BUElfS0VZJDIgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQyID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkMl07XG4gIHZhciBBUlJPV19MRUZUX0tFWUNPREUgPSAzNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgbGVmdCBhcnJvdyBrZXlcblxuICB2YXIgQVJST1dfUklHSFRfS0VZQ09ERSA9IDM5OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciByaWdodCBhcnJvdyBrZXlcblxuICB2YXIgVE9VQ0hFVkVOVF9DT01QQVRfV0FJVCA9IDUwMDsgLy8gVGltZSBmb3IgbW91c2UgY29tcGF0IGV2ZW50cyB0byBmaXJlIGFmdGVyIHRvdWNoXG5cbiAgdmFyIFNXSVBFX1RIUkVTSE9MRCA9IDQwO1xuICB2YXIgRGVmYXVsdCA9IHtcbiAgICBpbnRlcnZhbDogNTAwMCxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBzbGlkZTogZmFsc2UsXG4gICAgcGF1c2U6ICdob3ZlcicsXG4gICAgd3JhcDogdHJ1ZSxcbiAgICB0b3VjaDogdHJ1ZVxuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgaW50ZXJ2YWw6ICcobnVtYmVyfGJvb2xlYW4pJyxcbiAgICBrZXlib2FyZDogJ2Jvb2xlYW4nLFxuICAgIHNsaWRlOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gICAgcGF1c2U6ICcoc3RyaW5nfGJvb2xlYW4pJyxcbiAgICB3cmFwOiAnYm9vbGVhbicsXG4gICAgdG91Y2g6ICdib29sZWFuJ1xuICB9O1xuICB2YXIgRElSRUNUSU9OX05FWFQgPSAnbmV4dCc7XG4gIHZhciBESVJFQ1RJT05fUFJFViA9ICdwcmV2JztcbiAgdmFyIERJUkVDVElPTl9MRUZUID0gJ2xlZnQnO1xuICB2YXIgRElSRUNUSU9OX1JJR0hUID0gJ3JpZ2h0JztcbiAgdmFyIEVWRU5UX1NMSURFID0gXCJzbGlkZVwiICsgRVZFTlRfS0VZJDI7XG4gIHZhciBFVkVOVF9TTElEID0gXCJzbGlkXCIgKyBFVkVOVF9LRVkkMjtcbiAgdmFyIEVWRU5UX0tFWURPV04gPSBcImtleWRvd25cIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfTU9VU0VFTlRFUiA9IFwibW91c2VlbnRlclwiICsgRVZFTlRfS0VZJDI7XG4gIHZhciBFVkVOVF9NT1VTRUxFQVZFID0gXCJtb3VzZWxlYXZlXCIgKyBFVkVOVF9LRVkkMjtcbiAgdmFyIEVWRU5UX1RPVUNIU1RBUlQgPSBcInRvdWNoc3RhcnRcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfVE9VQ0hNT1ZFID0gXCJ0b3VjaG1vdmVcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfVE9VQ0hFTkQgPSBcInRvdWNoZW5kXCIgKyBFVkVOVF9LRVkkMjtcbiAgdmFyIEVWRU5UX1BPSU5URVJET1dOID0gXCJwb2ludGVyZG93blwiICsgRVZFTlRfS0VZJDI7XG4gIHZhciBFVkVOVF9QT0lOVEVSVVAgPSBcInBvaW50ZXJ1cFwiICsgRVZFTlRfS0VZJDI7XG4gIHZhciBFVkVOVF9EUkFHX1NUQVJUID0gXCJkcmFnc3RhcnRcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfTE9BRF9EQVRBX0FQSSQxID0gXCJsb2FkXCIgKyBFVkVOVF9LRVkkMiArIERBVEFfQVBJX0tFWSQyO1xuICB2YXIgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMiA9IFwiY2xpY2tcIiArIEVWRU5UX0tFWSQyICsgREFUQV9BUElfS0VZJDI7XG4gIHZhciBDTEFTU19OQU1FX0NBUk9VU0VMID0gJ2Nhcm91c2VsJztcbiAgdmFyIENMQVNTX05BTUVfQUNUSVZFJDEgPSAnYWN0aXZlJztcbiAgdmFyIENMQVNTX05BTUVfU0xJREUgPSAnc2xpZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9SSUdIVCA9ICdjYXJvdXNlbC1pdGVtLXJpZ2h0JztcbiAgdmFyIENMQVNTX05BTUVfTEVGVCA9ICdjYXJvdXNlbC1pdGVtLWxlZnQnO1xuICB2YXIgQ0xBU1NfTkFNRV9ORVhUID0gJ2Nhcm91c2VsLWl0ZW0tbmV4dCc7XG4gIHZhciBDTEFTU19OQU1FX1BSRVYgPSAnY2Fyb3VzZWwtaXRlbS1wcmV2JztcbiAgdmFyIENMQVNTX05BTUVfUE9JTlRFUl9FVkVOVCA9ICdwb2ludGVyLWV2ZW50JztcbiAgdmFyIFNFTEVDVE9SX0FDVElWRSQxID0gJy5hY3RpdmUnO1xuICB2YXIgU0VMRUNUT1JfQUNUSVZFX0lURU0gPSAnLmFjdGl2ZS5jYXJvdXNlbC1pdGVtJztcbiAgdmFyIFNFTEVDVE9SX0lURU0gPSAnLmNhcm91c2VsLWl0ZW0nO1xuICB2YXIgU0VMRUNUT1JfSVRFTV9JTUcgPSAnLmNhcm91c2VsLWl0ZW0gaW1nJztcbiAgdmFyIFNFTEVDVE9SX05FWFRfUFJFViA9ICcuY2Fyb3VzZWwtaXRlbS1uZXh0LCAuY2Fyb3VzZWwtaXRlbS1wcmV2JztcbiAgdmFyIFNFTEVDVE9SX0lORElDQVRPUlMgPSAnLmNhcm91c2VsLWluZGljYXRvcnMnO1xuICB2YXIgU0VMRUNUT1JfREFUQV9TTElERSA9ICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1JJREUgPSAnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJztcbiAgdmFyIFBvaW50ZXJUeXBlID0ge1xuICAgIFRPVUNIOiAndG91Y2gnLFxuICAgIFBFTjogJ3BlbidcbiAgfTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgQ2Fyb3VzZWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhcm91c2VsKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgdGhpcy5faXRlbXMgPSBudWxsO1xuICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgdGhpcy5fYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnRvdWNoVGltZW91dCA9IG51bGw7XG4gICAgICB0aGlzLnRvdWNoU3RhcnRYID0gMDtcbiAgICAgIHRoaXMudG91Y2hEZWx0YVggPSAwO1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX2luZGljYXRvcnNFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0lORElDQVRPUlMpO1xuICAgICAgdGhpcy5fdG91Y2hTdXBwb3J0ZWQgPSAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMDtcbiAgICAgIHRoaXMuX3BvaW50ZXJFdmVudCA9IEJvb2xlYW4od2luZG93LlBvaW50ZXJFdmVudCB8fCB3aW5kb3cuTVNQb2ludGVyRXZlbnQpO1xuXG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gQ2Fyb3VzZWwucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLm5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgaWYgKCF0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgICAgdGhpcy5fc2xpZGUoRElSRUNUSU9OX05FWFQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ubmV4dFdoZW5WaXNpYmxlID0gZnVuY3Rpb24gbmV4dFdoZW5WaXNpYmxlKCkge1xuICAgICAgdmFyICRlbGVtZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpOyAvLyBEb24ndCBjYWxsIG5leHQgd2hlbiB0aGUgcGFnZSBpc24ndCB2aXNpYmxlXG4gICAgICAvLyBvciB0aGUgY2Fyb3VzZWwgb3IgaXRzIHBhcmVudCBpc24ndCB2aXNpYmxlXG5cbiAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuICYmICRlbGVtZW50LmlzKCc6dmlzaWJsZScpICYmICRlbGVtZW50LmNzcygndmlzaWJpbGl0eScpICE9PSAnaGlkZGVuJykge1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnByZXYgPSBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgaWYgKCF0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgICAgdGhpcy5fc2xpZGUoRElSRUNUSU9OX1BSRVYpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ucGF1c2UgPSBmdW5jdGlvbiBwYXVzZShldmVudCkge1xuICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfTkVYVF9QUkVWKSkge1xuICAgICAgICBVdGlsLnRyaWdnZXJUcmFuc2l0aW9uRW5kKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICB0aGlzLmN5Y2xlKHRydWUpO1xuICAgICAgfVxuXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTtcbiAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmN5Y2xlID0gZnVuY3Rpb24gY3ljbGUoZXZlbnQpIHtcbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2ludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuaW50ZXJ2YWwgJiYgIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA/IHRoaXMubmV4dFdoZW5WaXNpYmxlIDogdGhpcy5uZXh0KS5iaW5kKHRoaXMpLCB0aGlzLl9jb25maWcuaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udG8gPSBmdW5jdGlvbiB0byhpbmRleCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5fYWN0aXZlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9BQ1RJVkVfSVRFTSk7XG5cbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9hY3RpdmVFbGVtZW50KTtcblxuICAgICAgaWYgKGluZGV4ID4gdGhpcy5faXRlbXMubGVuZ3RoIC0gMSB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vbmUoRVZFTlRfU0xJRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy50byhpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGlvbiA9IGluZGV4ID4gYWN0aXZlSW5kZXggPyBESVJFQ1RJT05fTkVYVCA6IERJUkVDVElPTl9QUkVWO1xuXG4gICAgICB0aGlzLl9zbGlkZShkaXJlY3Rpb24sIHRoaXMuX2l0ZW1zW2luZGV4XSk7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vZmYoRVZFTlRfS0VZJDIpO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkMik7XG4gICAgICB0aGlzLl9pdGVtcyA9IG51bGw7XG4gICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1BhdXNlZCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1NsaWRpbmcgPSBudWxsO1xuICAgICAgdGhpcy5fYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCA9IG51bGw7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX2V4dGVuZHMoe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FJDIsIGNvbmZpZywgRGVmYXVsdFR5cGUpO1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9oYW5kbGVTd2lwZSA9IGZ1bmN0aW9uIF9oYW5kbGVTd2lwZSgpIHtcbiAgICAgIHZhciBhYnNEZWx0YXggPSBNYXRoLmFicyh0aGlzLnRvdWNoRGVsdGFYKTtcblxuICAgICAgaWYgKGFic0RlbHRheCA8PSBTV0lQRV9USFJFU0hPTEQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGlyZWN0aW9uID0gYWJzRGVsdGF4IC8gdGhpcy50b3VjaERlbHRhWDtcbiAgICAgIHRoaXMudG91Y2hEZWx0YVggPSAwOyAvLyBzd2lwZSBsZWZ0XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XG4gICAgICAgIHRoaXMucHJldigpO1xuICAgICAgfSAvLyBzd2lwZSByaWdodFxuXG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPCAwKSB7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2FkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcua2V5Ym9hcmQpIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0tFWURPV04sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2tleWRvd24oZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkub24oRVZFTlRfTU9VU0VFTlRFUiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5wYXVzZShldmVudCk7XG4gICAgICAgIH0pLm9uKEVWRU5UX01PVVNFTEVBVkUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuY3ljbGUoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy50b3VjaCkge1xuICAgICAgICB0aGlzLl9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fYWRkVG91Y2hFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIF9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5fdG91Y2hTdXBwb3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbiBzdGFydChldmVudCkge1xuICAgICAgICBpZiAoX3RoaXMzLl9wb2ludGVyRXZlbnQgJiYgUG9pbnRlclR5cGVbZXZlbnQub3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZS50b1VwcGVyQ2FzZSgpXSkge1xuICAgICAgICAgIF90aGlzMy50b3VjaFN0YXJ0WCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2xpZW50WDtcbiAgICAgICAgfSBlbHNlIGlmICghX3RoaXMzLl9wb2ludGVyRXZlbnQpIHtcbiAgICAgICAgICBfdGhpczMudG91Y2hTdGFydFggPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIG1vdmUgPSBmdW5jdGlvbiBtb3ZlKGV2ZW50KSB7XG4gICAgICAgIC8vIGVuc3VyZSBzd2lwaW5nIHdpdGggb25lIHRvdWNoIGFuZCBub3QgcGluY2hpbmdcbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIF90aGlzMy50b3VjaERlbHRhWCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMzLnRvdWNoRGVsdGFYID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFggLSBfdGhpczMudG91Y2hTdGFydFg7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBlbmQgPSBmdW5jdGlvbiBlbmQoZXZlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzMy5fcG9pbnRlckV2ZW50ICYmIFBvaW50ZXJUeXBlW2V2ZW50Lm9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUudG9VcHBlckNhc2UoKV0pIHtcbiAgICAgICAgICBfdGhpczMudG91Y2hEZWx0YVggPSBldmVudC5vcmlnaW5hbEV2ZW50LmNsaWVudFggLSBfdGhpczMudG91Y2hTdGFydFg7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuX2hhbmRsZVN3aXBlKCk7XG5cbiAgICAgICAgaWYgKF90aGlzMy5fY29uZmlnLnBhdXNlID09PSAnaG92ZXInKSB7XG4gICAgICAgICAgLy8gSWYgaXQncyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlLCBtb3VzZWVudGVyL2xlYXZlIGFyZSBmaXJlZCBhc1xuICAgICAgICAgIC8vIHBhcnQgb2YgdGhlIG1vdXNlIGNvbXBhdGliaWxpdHkgZXZlbnRzIG9uIGZpcnN0IHRhcCAtIHRoZSBjYXJvdXNlbFxuICAgICAgICAgIC8vIHdvdWxkIHN0b3AgY3ljbGluZyB1bnRpbCB1c2VyIHRhcHBlZCBvdXQgb2YgaXQ7XG4gICAgICAgICAgLy8gaGVyZSwgd2UgbGlzdGVuIGZvciB0b3VjaGVuZCwgZXhwbGljaXRseSBwYXVzZSB0aGUgY2Fyb3VzZWxcbiAgICAgICAgICAvLyAoYXMgaWYgaXQncyB0aGUgc2Vjb25kIHRpbWUgd2UgdGFwIG9uIGl0LCBtb3VzZWVudGVyIGNvbXBhdCBldmVudFxuICAgICAgICAgIC8vIGlzIE5PVCBmaXJlZCkgYW5kIGFmdGVyIGEgdGltZW91dCAodG8gYWxsb3cgZm9yIG1vdXNlIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAvLyBldmVudHMgdG8gZmlyZSkgd2UgZXhwbGljaXRseSByZXN0YXJ0IGN5Y2xpbmdcbiAgICAgICAgICBfdGhpczMucGF1c2UoKTtcblxuICAgICAgICAgIGlmIChfdGhpczMudG91Y2hUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMzLnRvdWNoVGltZW91dCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMzLnRvdWNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLmN5Y2xlKGV2ZW50KTtcbiAgICAgICAgICB9LCBUT1VDSEVWRU5UX0NPTVBBVF9XQUlUICsgX3RoaXMzLl9jb25maWcuaW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0lURU1fSU1HKSkub24oRVZFTlRfRFJBR19TVEFSVCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5fcG9pbnRlckV2ZW50KSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9QT0lOVEVSRE9XTiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9QT0lOVEVSVVAsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBlbmQoZXZlbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9QT0lOVEVSX0VWRU5UKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9UT1VDSFNUQVJULCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnQoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX1RPVUNITU9WRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG1vdmUoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX1RPVUNIRU5ELCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZW5kKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fa2V5ZG93biA9IGZ1bmN0aW9uIF9rZXlkb3duKGV2ZW50KSB7XG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgIGNhc2UgQVJST1dfTEVGVF9LRVlDT0RFOlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5wcmV2KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBBUlJPV19SSUdIVF9LRVlDT0RFOlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gX2dldEl0ZW1JbmRleChlbGVtZW50KSB7XG4gICAgICB0aGlzLl9pdGVtcyA9IGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlID8gW10uc2xpY2UuY2FsbChlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9JVEVNKSkgOiBbXTtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5pbmRleE9mKGVsZW1lbnQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldEl0ZW1CeURpcmVjdGlvbiA9IGZ1bmN0aW9uIF9nZXRJdGVtQnlEaXJlY3Rpb24oZGlyZWN0aW9uLCBhY3RpdmVFbGVtZW50KSB7XG4gICAgICB2YXIgaXNOZXh0RGlyZWN0aW9uID0gZGlyZWN0aW9uID09PSBESVJFQ1RJT05fTkVYVDtcbiAgICAgIHZhciBpc1ByZXZEaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT09IERJUkVDVElPTl9QUkVWO1xuXG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgoYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgIHZhciBsYXN0SXRlbUluZGV4ID0gdGhpcy5faXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBpc0dvaW5nVG9XcmFwID0gaXNQcmV2RGlyZWN0aW9uICYmIGFjdGl2ZUluZGV4ID09PSAwIHx8IGlzTmV4dERpcmVjdGlvbiAmJiBhY3RpdmVJbmRleCA9PT0gbGFzdEl0ZW1JbmRleDtcblxuICAgICAgaWYgKGlzR29pbmdUb1dyYXAgJiYgIXRoaXMuX2NvbmZpZy53cmFwKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmVFbGVtZW50O1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVsdGEgPSBkaXJlY3Rpb24gPT09IERJUkVDVElPTl9QUkVWID8gLTEgOiAxO1xuICAgICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuX2l0ZW1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBpdGVtSW5kZXggPT09IC0xID8gdGhpcy5faXRlbXNbdGhpcy5faXRlbXMubGVuZ3RoIC0gMV0gOiB0aGlzLl9pdGVtc1tpdGVtSW5kZXhdO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3RyaWdnZXJTbGlkZUV2ZW50ID0gZnVuY3Rpb24gX3RyaWdnZXJTbGlkZUV2ZW50KHJlbGF0ZWRUYXJnZXQsIGV2ZW50RGlyZWN0aW9uTmFtZSkge1xuICAgICAgdmFyIHRhcmdldEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgICB2YXIgZnJvbUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9BQ1RJVkVfSVRFTSkpO1xuXG4gICAgICB2YXIgc2xpZGVFdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9TTElERSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgICBkaXJlY3Rpb246IGV2ZW50RGlyZWN0aW9uTmFtZSxcbiAgICAgICAgZnJvbTogZnJvbUluZGV4LFxuICAgICAgICB0bzogdGFyZ2V0SW5kZXhcbiAgICAgIH0pO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZGVFdmVudCk7XG4gICAgICByZXR1cm4gc2xpZGVFdmVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50ID0gZnVuY3Rpb24gX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMuX2luZGljYXRvcnNFbGVtZW50KSB7XG4gICAgICAgIHZhciBpbmRpY2F0b3JzID0gW10uc2xpY2UuY2FsbCh0aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0FDVElWRSQxKSk7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShpbmRpY2F0b3JzKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxKTtcblxuICAgICAgICB2YXIgbmV4dEluZGljYXRvciA9IHRoaXMuX2luZGljYXRvcnNFbGVtZW50LmNoaWxkcmVuW3RoaXMuX2dldEl0ZW1JbmRleChlbGVtZW50KV07XG5cbiAgICAgICAgaWYgKG5leHRJbmRpY2F0b3IpIHtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10obmV4dEluZGljYXRvcikuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zbGlkZSA9IGZ1bmN0aW9uIF9zbGlkZShkaXJlY3Rpb24sIGVsZW1lbnQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9BQ1RJVkVfSVRFTSk7XG5cbiAgICAgIHZhciBhY3RpdmVFbGVtZW50SW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgoYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgIHZhciBuZXh0RWxlbWVudCA9IGVsZW1lbnQgfHwgYWN0aXZlRWxlbWVudCAmJiB0aGlzLl9nZXRJdGVtQnlEaXJlY3Rpb24oZGlyZWN0aW9uLCBhY3RpdmVFbGVtZW50KTtcblxuICAgICAgdmFyIG5leHRFbGVtZW50SW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgobmV4dEVsZW1lbnQpO1xuXG4gICAgICB2YXIgaXNDeWNsaW5nID0gQm9vbGVhbih0aGlzLl9pbnRlcnZhbCk7XG4gICAgICB2YXIgZGlyZWN0aW9uYWxDbGFzc05hbWU7XG4gICAgICB2YXIgb3JkZXJDbGFzc05hbWU7XG4gICAgICB2YXIgZXZlbnREaXJlY3Rpb25OYW1lO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT05fTkVYVCkge1xuICAgICAgICBkaXJlY3Rpb25hbENsYXNzTmFtZSA9IENMQVNTX05BTUVfTEVGVDtcbiAgICAgICAgb3JkZXJDbGFzc05hbWUgPSBDTEFTU19OQU1FX05FWFQ7XG4gICAgICAgIGV2ZW50RGlyZWN0aW9uTmFtZSA9IERJUkVDVElPTl9MRUZUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlyZWN0aW9uYWxDbGFzc05hbWUgPSBDTEFTU19OQU1FX1JJR0hUO1xuICAgICAgICBvcmRlckNsYXNzTmFtZSA9IENMQVNTX05BTUVfUFJFVjtcbiAgICAgICAgZXZlbnREaXJlY3Rpb25OYW1lID0gRElSRUNUSU9OX1JJR0hUO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV4dEVsZW1lbnQgJiYgJF9fZGVmYXVsdFsnZGVmYXVsdCddKG5leHRFbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxKSkge1xuICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2xpZGVFdmVudCA9IHRoaXMuX3RyaWdnZXJTbGlkZUV2ZW50KG5leHRFbGVtZW50LCBldmVudERpcmVjdGlvbk5hbWUpO1xuXG4gICAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghYWN0aXZlRWxlbWVudCB8fCAhbmV4dEVsZW1lbnQpIHtcbiAgICAgICAgLy8gU29tZSB3ZWlyZG5lc3MgaXMgaGFwcGVuaW5nLCBzbyB3ZSBiYWlsXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNTbGlkaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKGlzQ3ljbGluZykge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQobmV4dEVsZW1lbnQpO1xuXG4gICAgICB2YXIgc2xpZEV2ZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX1NMSUQsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogbmV4dEVsZW1lbnQsXG4gICAgICAgIGRpcmVjdGlvbjogZXZlbnREaXJlY3Rpb25OYW1lLFxuICAgICAgICBmcm9tOiBhY3RpdmVFbGVtZW50SW5kZXgsXG4gICAgICAgIHRvOiBuZXh0RWxlbWVudEluZGV4XG4gICAgICB9KTtcblxuICAgICAgaWYgKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NMSURFKSkge1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10obmV4dEVsZW1lbnQpLmFkZENsYXNzKG9yZGVyQ2xhc3NOYW1lKTtcbiAgICAgICAgVXRpbC5yZWZsb3cobmV4dEVsZW1lbnQpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oYWN0aXZlRWxlbWVudCkuYWRkQ2xhc3MoZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10obmV4dEVsZW1lbnQpLmFkZENsYXNzKGRpcmVjdGlvbmFsQ2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIG5leHRFbGVtZW50SW50ZXJ2YWwgPSBwYXJzZUludChuZXh0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW50ZXJ2YWwnKSwgMTApO1xuXG4gICAgICAgIGlmIChuZXh0RWxlbWVudEludGVydmFsKSB7XG4gICAgICAgICAgdGhpcy5fY29uZmlnLmRlZmF1bHRJbnRlcnZhbCA9IHRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWwgfHwgdGhpcy5fY29uZmlnLmludGVydmFsO1xuICAgICAgICAgIHRoaXMuX2NvbmZpZy5pbnRlcnZhbCA9IG5leHRFbGVtZW50SW50ZXJ2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY29uZmlnLmludGVydmFsID0gdGhpcy5fY29uZmlnLmRlZmF1bHRJbnRlcnZhbCB8fCB0aGlzLl9jb25maWcuaW50ZXJ2YWw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChhY3RpdmVFbGVtZW50KTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGFjdGl2ZUVsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKG5leHRFbGVtZW50KS5yZW1vdmVDbGFzcyhkaXJlY3Rpb25hbENsYXNzTmFtZSArIFwiIFwiICsgb3JkZXJDbGFzc05hbWUpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShhY3RpdmVFbGVtZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxICsgXCIgXCIgKyBvcmRlckNsYXNzTmFtZSArIFwiIFwiICsgZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuICAgICAgICAgIF90aGlzNC5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJF9fZGVmYXVsdFsnZGVmYXVsdCddKF90aGlzNC5fZWxlbWVudCkudHJpZ2dlcihzbGlkRXZlbnQpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10obmV4dEVsZW1lbnQpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ3ljbGluZykge1xuICAgICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgICB9XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzKS5kYXRhKERBVEFfS0VZJDIpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gX2V4dGVuZHMoe30sIERlZmF1bHQsICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzKS5kYXRhKCkpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIF9jb25maWcgPSBfZXh0ZW5kcyh7fSwgX2NvbmZpZywgY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3Rpb24gPSB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyA/IGNvbmZpZyA6IF9jb25maWcuc2xpZGU7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcykuZGF0YShEQVRBX0tFWSQyLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGRhdGEudG8oY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVthY3Rpb25dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBhY3Rpb24gKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVthY3Rpb25dKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5pbnRlcnZhbCAmJiBfY29uZmlnLnJpZGUpIHtcbiAgICAgICAgICBkYXRhLnBhdXNlKCk7XG4gICAgICAgICAgZGF0YS5jeWNsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2Fyb3VzZWwuX2RhdGFBcGlDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiBfZGF0YUFwaUNsaWNrSGFuZGxlcihldmVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpO1xuXG4gICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRhcmdldCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShzZWxlY3RvcilbMF07XG5cbiAgICAgIGlmICghdGFyZ2V0IHx8ICEkX19kZWZhdWx0WydkZWZhdWx0J10odGFyZ2V0KS5oYXNDbGFzcyhDTEFTU19OQU1FX0NBUk9VU0VMKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSBfZXh0ZW5kcyh7fSwgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRhcmdldCkuZGF0YSgpLCAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcykuZGF0YSgpKTtcblxuICAgICAgdmFyIHNsaWRlSW5kZXggPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1zbGlkZS10bycpO1xuXG4gICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICBjb25maWcuaW50ZXJ2YWwgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0YXJnZXQpLCBjb25maWcpO1xuXG4gICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGFyZ2V0KS5kYXRhKERBVEFfS0VZJDIpLnRvKHNsaWRlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2Fyb3VzZWwsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2Fyb3VzZWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10oZG9jdW1lbnQpLm9uKEVWRU5UX0NMSUNLX0RBVEFfQVBJJDIsIFNFTEVDVE9SX0RBVEFfU0xJREUsIENhcm91c2VsLl9kYXRhQXBpQ2xpY2tIYW5kbGVyKTtcbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHdpbmRvdykub24oRVZFTlRfTE9BRF9EQVRBX0FQSSQxLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhcm91c2VscyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1JJREUpKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYXJvdXNlbHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkX19kZWZhdWx0WydkZWZhdWx0J10oY2Fyb3VzZWxzW2ldKTtcblxuICAgICAgQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDJdID0gQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkMl0uQ29uc3RydWN0b3IgPSBDYXJvdXNlbDtcblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQyXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDJdID0gSlFVRVJZX05PX0NPTkZMSUNUJDI7XG4gICAgcmV0dXJuIENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FJDMgPSAnY29sbGFwc2UnO1xuICB2YXIgVkVSU0lPTiQzID0gJzQuNS4zJztcbiAgdmFyIERBVEFfS0VZJDMgPSAnYnMuY29sbGFwc2UnO1xuICB2YXIgRVZFTlRfS0VZJDMgPSBcIi5cIiArIERBVEFfS0VZJDM7XG4gIHZhciBEQVRBX0FQSV9LRVkkMyA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJDMgPSAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQzXTtcbiAgdmFyIERlZmF1bHQkMSA9IHtcbiAgICB0b2dnbGU6IHRydWUsXG4gICAgcGFyZW50OiAnJ1xuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkMSA9IHtcbiAgICB0b2dnbGU6ICdib29sZWFuJyxcbiAgICBwYXJlbnQ6ICcoc3RyaW5nfGVsZW1lbnQpJ1xuICB9O1xuICB2YXIgRVZFTlRfU0hPVyA9IFwic2hvd1wiICsgRVZFTlRfS0VZJDM7XG4gIHZhciBFVkVOVF9TSE9XTiA9IFwic2hvd25cIiArIEVWRU5UX0tFWSQzO1xuICB2YXIgRVZFTlRfSElERSA9IFwiaGlkZVwiICsgRVZFTlRfS0VZJDM7XG4gIHZhciBFVkVOVF9ISURERU4gPSBcImhpZGRlblwiICsgRVZFTlRfS0VZJDM7XG4gIHZhciBFVkVOVF9DTElDS19EQVRBX0FQSSQzID0gXCJjbGlja1wiICsgRVZFTlRfS0VZJDMgKyBEQVRBX0FQSV9LRVkkMztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyQxID0gJ3Nob3cnO1xuICB2YXIgQ0xBU1NfTkFNRV9DT0xMQVBTRSA9ICdjb2xsYXBzZSc7XG4gIHZhciBDTEFTU19OQU1FX0NPTExBUFNJTkcgPSAnY29sbGFwc2luZyc7XG4gIHZhciBDTEFTU19OQU1FX0NPTExBUFNFRCA9ICdjb2xsYXBzZWQnO1xuICB2YXIgRElNRU5TSU9OX1dJRFRIID0gJ3dpZHRoJztcbiAgdmFyIERJTUVOU0lPTl9IRUlHSFQgPSAnaGVpZ2h0JztcbiAgdmFyIFNFTEVDVE9SX0FDVElWRVMgPSAnLnNob3csIC5jb2xsYXBzaW5nJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDEgPSAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENsYXNzIERlZmluaXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBDb2xsYXBzZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29sbGFwc2UoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl90cmlnZ2VyQXJyYXkgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1baHJlZj1cXFwiI1wiICsgZWxlbWVudC5pZCArIFwiXFxcIl0sXCIgKyAoXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1bZGF0YS10YXJnZXQ9XFxcIiNcIiArIGVsZW1lbnQuaWQgKyBcIlxcXCJdXCIpKSk7XG4gICAgICB2YXIgdG9nZ2xlTGlzdCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1RPR0dMRSQxKSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0b2dnbGVMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtID0gdG9nZ2xlTGlzdFtpXTtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW0pO1xuICAgICAgICB2YXIgZmlsdGVyRWxlbWVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmZpbHRlcihmdW5jdGlvbiAoZm91bmRFbGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGZvdW5kRWxlbSA9PT0gZWxlbWVudDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBudWxsICYmIGZpbHRlckVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG5cbiAgICAgICAgICB0aGlzLl90cmlnZ2VyQXJyYXkucHVzaChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9wYXJlbnQgPSB0aGlzLl9jb25maWcucGFyZW50ID8gdGhpcy5fZ2V0UGFyZW50KCkgOiBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMuX2NvbmZpZy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuX2VsZW1lbnQsIHRoaXMuX3RyaWdnZXJBcnJheSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcudG9nZ2xlKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICB9XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBDb2xsYXBzZS5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgaWYgKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckMSkpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDEpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGl2ZXM7XG4gICAgICB2YXIgYWN0aXZlc0RhdGE7XG5cbiAgICAgIGlmICh0aGlzLl9wYXJlbnQpIHtcbiAgICAgICAgYWN0aXZlcyA9IFtdLnNsaWNlLmNhbGwodGhpcy5fcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfQUNUSVZFUykpLmZpbHRlcihmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMuX2NvbmZpZy5wYXJlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFyZW50JykgPT09IF90aGlzLl9jb25maWcucGFyZW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBlbGVtLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0NPTExBUFNFKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGFjdGl2ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZXMpIHtcbiAgICAgICAgYWN0aXZlc0RhdGEgPSAkX19kZWZhdWx0WydkZWZhdWx0J10oYWN0aXZlcykubm90KHRoaXMuX3NlbGVjdG9yKS5kYXRhKERBVEFfS0VZJDMpO1xuXG4gICAgICAgIGlmIChhY3RpdmVzRGF0YSAmJiBhY3RpdmVzRGF0YS5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX1NIT1cpO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc3RhcnRFdmVudCk7XG5cbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZXMpIHtcbiAgICAgICAgQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXShhY3RpdmVzKS5ub3QodGhpcy5fc2VsZWN0b3IpLCAnaGlkZScpO1xuXG4gICAgICAgIGlmICghYWN0aXZlc0RhdGEpIHtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oYWN0aXZlcykuZGF0YShEQVRBX0tFWSQzLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5fZ2V0RGltZW5zaW9uKCk7XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFKS5hZGRDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNJTkcpO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gMDtcblxuICAgICAgaWYgKHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX3RyaWdnZXJBcnJheSkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTRUQpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uaW5nKHRydWUpO1xuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKF90aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNJTkcpLmFkZENsYXNzKENMQVNTX05BTUVfQ09MTEFQU0UgKyBcIiBcIiArIENMQVNTX05BTUVfU0hPVyQxKTtcbiAgICAgICAgX3RoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9ICcnO1xuXG4gICAgICAgIF90aGlzLnNldFRyYW5zaXRpb25pbmcoZmFsc2UpO1xuXG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShfdGhpcy5fZWxlbWVudCkudHJpZ2dlcihFVkVOVF9TSE9XTik7XG4gICAgICB9O1xuXG4gICAgICB2YXIgY2FwaXRhbGl6ZWREaW1lbnNpb24gPSBkaW1lbnNpb25bMF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSgxKTtcbiAgICAgIHZhciBzY3JvbGxTaXplID0gXCJzY3JvbGxcIiArIGNhcGl0YWxpemVkRGltZW5zaW9uO1xuICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gdGhpcy5fZWxlbWVudFtzY3JvbGxTaXplXSArIFwicHhcIjtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcgfHwgISRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckMSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9ISURFKTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHN0YXJ0RXZlbnQpO1xuXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLl9nZXREaW1lbnNpb24oKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gdGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtkaW1lbnNpb25dICsgXCJweFwiO1xuICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTSU5HKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFICsgXCIgXCIgKyBDTEFTU19OQU1FX1NIT1ckMSk7XG4gICAgICB2YXIgdHJpZ2dlckFycmF5TGVuZ3RoID0gdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHRyaWdnZXJBcnJheUxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlnZ2VyQXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB0cmlnZ2VyID0gdGhpcy5fdHJpZ2dlckFycmF5W2ldO1xuICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0cmlnZ2VyKTtcblxuICAgICAgICAgIGlmIChzZWxlY3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyICRlbGVtID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKTtcblxuICAgICAgICAgICAgaWYgKCEkZWxlbS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckMSkpIHtcbiAgICAgICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRyaWdnZXIpLmFkZENsYXNzKENMQVNTX05BTUVfQ09MTEFQU0VEKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFRyYW5zaXRpb25pbmcodHJ1ZSk7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICBfdGhpczIuc2V0VHJhbnNpdGlvbmluZyhmYWxzZSk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKF90aGlzMi5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTSU5HKS5hZGRDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFKS50cmlnZ2VyKEVWRU5UX0hJRERFTik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcbiAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNldFRyYW5zaXRpb25pbmcgPSBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uaW5nKGlzVHJhbnNpdGlvbmluZykge1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gaXNUcmFuc2l0aW9uaW5nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSQzKTtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl90cmlnZ2VyQXJyYXkgPSBudWxsO1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gbnVsbDtcbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSBfZXh0ZW5kcyh7fSwgRGVmYXVsdCQxLCBjb25maWcpO1xuICAgICAgY29uZmlnLnRvZ2dsZSA9IEJvb2xlYW4oY29uZmlnLnRvZ2dsZSk7IC8vIENvZXJjZSBzdHJpbmcgdmFsdWVzXG5cbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUkMywgY29uZmlnLCBEZWZhdWx0VHlwZSQxKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0RGltZW5zaW9uID0gZnVuY3Rpb24gX2dldERpbWVuc2lvbigpIHtcbiAgICAgIHZhciBoYXNXaWR0aCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhESU1FTlNJT05fV0lEVEgpO1xuICAgICAgcmV0dXJuIGhhc1dpZHRoID8gRElNRU5TSU9OX1dJRFRIIDogRElNRU5TSU9OX0hFSUdIVDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRQYXJlbnQgPSBmdW5jdGlvbiBfZ2V0UGFyZW50KCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBwYXJlbnQ7XG5cbiAgICAgIGlmIChVdGlsLmlzRWxlbWVudCh0aGlzLl9jb25maWcucGFyZW50KSkge1xuICAgICAgICBwYXJlbnQgPSB0aGlzLl9jb25maWcucGFyZW50OyAvLyBJdCdzIGEgalF1ZXJ5IG9iamVjdFxuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLnBhcmVudC5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcGFyZW50ID0gdGhpcy5fY29uZmlnLnBhcmVudFswXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcucGFyZW50KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGVjdG9yID0gXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1bZGF0YS1wYXJlbnQ9XFxcIlwiICsgdGhpcy5fY29uZmlnLnBhcmVudCArIFwiXFxcIl1cIjtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdLnNsaWNlLmNhbGwocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShjaGlsZHJlbikuZWFjaChmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICAgICBfdGhpczMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhDb2xsYXBzZS5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQoZWxlbWVudCksIFtlbGVtZW50XSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhlbGVtZW50LCB0cmlnZ2VyQXJyYXkpIHtcbiAgICAgIHZhciBpc09wZW4gPSAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDEpO1xuXG4gICAgICBpZiAodHJpZ2dlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odHJpZ2dlckFycmF5KS50b2dnbGVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFRCwgIWlzT3BlbikuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3Blbik7XG4gICAgICB9XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBDb2xsYXBzZS5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQgPSBmdW5jdGlvbiBfZ2V0VGFyZ2V0RnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIHNlbGVjdG9yID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgOiBudWxsO1xuICAgIH07XG5cbiAgICBDb2xsYXBzZS5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShEQVRBX0tFWSQzKTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IF9leHRlbmRzKHt9LCBEZWZhdWx0JDEsICRlbGVtZW50LmRhdGEoKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiBfY29uZmlnLnRvZ2dsZSAmJiB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyAmJiAvc2hvd3xoaWRlLy50ZXN0KGNvbmZpZykpIHtcbiAgICAgICAgICBfY29uZmlnLnRvZ2dsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZJDMsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhDb2xsYXBzZSwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kMztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDE7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbGxhcHNlO1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQzLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQxLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBwcmV2ZW50RGVmYXVsdCBvbmx5IGZvciA8YT4gZWxlbWVudHMgKHdoaWNoIGNoYW5nZSB0aGUgVVJMKSBub3QgaW5zaWRlIHRoZSBjb2xsYXBzaWJsZSBlbGVtZW50XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciAkdHJpZ2dlciA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzKTtcbiAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG4gICAgdmFyIHNlbGVjdG9ycyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShzZWxlY3RvcnMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0YXJnZXQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcyk7XG4gICAgICB2YXIgZGF0YSA9ICR0YXJnZXQuZGF0YShEQVRBX0tFWSQzKTtcbiAgICAgIHZhciBjb25maWcgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdHJpZ2dlci5kYXRhKCk7XG5cbiAgICAgIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkdGFyZ2V0LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDNdID0gQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkM10uQ29uc3RydWN0b3IgPSBDb2xsYXBzZTtcblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQzXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDNdID0gSlFVRVJZX05PX0NPTkZMSUNUJDM7XG4gICAgcmV0dXJuIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FJDQgPSAnZHJvcGRvd24nO1xuICB2YXIgVkVSU0lPTiQ0ID0gJzQuNS4zJztcbiAgdmFyIERBVEFfS0VZJDQgPSAnYnMuZHJvcGRvd24nO1xuICB2YXIgRVZFTlRfS0VZJDQgPSBcIi5cIiArIERBVEFfS0VZJDQ7XG4gIHZhciBEQVRBX0FQSV9LRVkkNCA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJDQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ0XTtcbiAgdmFyIEVTQ0FQRV9LRVlDT0RFID0gMjc7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIEVzY2FwZSAoRXNjKSBrZXlcblxuICB2YXIgU1BBQ0VfS0VZQ09ERSA9IDMyOyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBzcGFjZSBrZXlcblxuICB2YXIgVEFCX0tFWUNPREUgPSA5OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciB0YWIga2V5XG5cbiAgdmFyIEFSUk9XX1VQX0tFWUNPREUgPSAzODsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgdXAgYXJyb3cga2V5XG5cbiAgdmFyIEFSUk9XX0RPV05fS0VZQ09ERSA9IDQwOyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBkb3duIGFycm93IGtleVxuXG4gIHZhciBSSUdIVF9NT1VTRV9CVVRUT05fV0hJQ0ggPSAzOyAvLyBNb3VzZUV2ZW50LndoaWNoIHZhbHVlIGZvciB0aGUgcmlnaHQgYnV0dG9uIChhc3N1bWluZyBhIHJpZ2h0LWhhbmRlZCBtb3VzZSlcblxuICB2YXIgUkVHRVhQX0tFWURPV04gPSBuZXcgUmVnRXhwKEFSUk9XX1VQX0tFWUNPREUgKyBcInxcIiArIEFSUk9XX0RPV05fS0VZQ09ERSArIFwifFwiICsgRVNDQVBFX0tFWUNPREUpO1xuICB2YXIgRVZFTlRfSElERSQxID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkNDtcbiAgdmFyIEVWRU5UX0hJRERFTiQxID0gXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ0O1xuICB2YXIgRVZFTlRfU0hPVyQxID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkNDtcbiAgdmFyIEVWRU5UX1NIT1dOJDEgPSBcInNob3duXCIgKyBFVkVOVF9LRVkkNDtcbiAgdmFyIEVWRU5UX0NMSUNLID0gXCJjbGlja1wiICsgRVZFTlRfS0VZJDQ7XG4gIHZhciBFVkVOVF9DTElDS19EQVRBX0FQSSQ0ID0gXCJjbGlja1wiICsgRVZFTlRfS0VZJDQgKyBEQVRBX0FQSV9LRVkkNDtcbiAgdmFyIEVWRU5UX0tFWURPV05fREFUQV9BUEkgPSBcImtleWRvd25cIiArIEVWRU5UX0tFWSQ0ICsgREFUQV9BUElfS0VZJDQ7XG4gIHZhciBFVkVOVF9LRVlVUF9EQVRBX0FQSSA9IFwia2V5dXBcIiArIEVWRU5UX0tFWSQ0ICsgREFUQV9BUElfS0VZJDQ7XG4gIHZhciBDTEFTU19OQU1FX0RJU0FCTEVEID0gJ2Rpc2FibGVkJztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyQyID0gJ3Nob3cnO1xuICB2YXIgQ0xBU1NfTkFNRV9EUk9QVVAgPSAnZHJvcHVwJztcbiAgdmFyIENMQVNTX05BTUVfRFJPUFJJR0hUID0gJ2Ryb3ByaWdodCc7XG4gIHZhciBDTEFTU19OQU1FX0RST1BMRUZUID0gJ2Ryb3BsZWZ0JztcbiAgdmFyIENMQVNTX05BTUVfTUVOVVJJR0hUID0gJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnO1xuICB2YXIgQ0xBU1NfTkFNRV9QT1NJVElPTl9TVEFUSUMgPSAncG9zaXRpb24tc3RhdGljJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDIgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nO1xuICB2YXIgU0VMRUNUT1JfRk9STV9DSElMRCA9ICcuZHJvcGRvd24gZm9ybSc7XG4gIHZhciBTRUxFQ1RPUl9NRU5VID0gJy5kcm9wZG93bi1tZW51JztcbiAgdmFyIFNFTEVDVE9SX05BVkJBUl9OQVYgPSAnLm5hdmJhci1uYXYnO1xuICB2YXIgU0VMRUNUT1JfVklTSUJMRV9JVEVNUyA9ICcuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpub3QoLmRpc2FibGVkKTpub3QoOmRpc2FibGVkKSc7XG4gIHZhciBQTEFDRU1FTlRfVE9QID0gJ3RvcC1zdGFydCc7XG4gIHZhciBQTEFDRU1FTlRfVE9QRU5EID0gJ3RvcC1lbmQnO1xuICB2YXIgUExBQ0VNRU5UX0JPVFRPTSA9ICdib3R0b20tc3RhcnQnO1xuICB2YXIgUExBQ0VNRU5UX0JPVFRPTUVORCA9ICdib3R0b20tZW5kJztcbiAgdmFyIFBMQUNFTUVOVF9SSUdIVCA9ICdyaWdodC1zdGFydCc7XG4gIHZhciBQTEFDRU1FTlRfTEVGVCA9ICdsZWZ0LXN0YXJ0JztcbiAgdmFyIERlZmF1bHQkMiA9IHtcbiAgICBvZmZzZXQ6IDAsXG4gICAgZmxpcDogdHJ1ZSxcbiAgICBib3VuZGFyeTogJ3Njcm9sbFBhcmVudCcsXG4gICAgcmVmZXJlbmNlOiAndG9nZ2xlJyxcbiAgICBkaXNwbGF5OiAnZHluYW1pYycsXG4gICAgcG9wcGVyQ29uZmlnOiBudWxsXG4gIH07XG4gIHZhciBEZWZhdWx0VHlwZSQyID0ge1xuICAgIG9mZnNldDogJyhudW1iZXJ8c3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgZmxpcDogJ2Jvb2xlYW4nLFxuICAgIGJvdW5kYXJ5OiAnKHN0cmluZ3xlbGVtZW50KScsXG4gICAgcmVmZXJlbmNlOiAnKHN0cmluZ3xlbGVtZW50KScsXG4gICAgZGlzcGxheTogJ3N0cmluZycsXG4gICAgcG9wcGVyQ29uZmlnOiAnKG51bGx8b2JqZWN0KSdcbiAgfTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgRHJvcGRvd24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERyb3Bkb3duKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl9tZW51ID0gdGhpcy5fZ2V0TWVudUVsZW1lbnQoKTtcbiAgICAgIHRoaXMuX2luTmF2YmFyID0gdGhpcy5fZGV0ZWN0TmF2YmFyKCk7XG5cbiAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBEcm9wZG93bi5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQuZGlzYWJsZWQgfHwgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRElTQUJMRUQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzQWN0aXZlID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQyKTtcblxuICAgICAgRHJvcGRvd24uX2NsZWFyTWVudXMoKTtcblxuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zaG93KHRydWUpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3codXNlUG9wcGVyKSB7XG4gICAgICBpZiAodXNlUG9wcGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgdXNlUG9wcGVyID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LmRpc2FibGVkIHx8ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0RJU0FCTEVEKSB8fCAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fbWVudSkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMuX2VsZW1lbnRcbiAgICAgIH07XG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX1NIT1ckMSwgcmVsYXRlZFRhcmdldCk7XG5cbiAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShwYXJlbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIERpc2FibGUgdG90YWxseSBQb3BwZXIuanMgZm9yIERyb3Bkb3duIGluIE5hdmJhclxuXG5cbiAgICAgIGlmICghdGhpcy5faW5OYXZiYXIgJiYgdXNlUG9wcGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBmb3IgUG9wcGVyIGRlcGVuZGVuY3lcbiAgICAgICAgICogUG9wcGVyIC0gaHR0cHM6Ly9wb3BwZXIuanMub3JnXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodHlwZW9mIFBvcHBlcl9fZGVmYXVsdFsnZGVmYXVsdCddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgZHJvcGRvd25zIHJlcXVpcmUgUG9wcGVyLmpzIChodHRwczovL3BvcHBlci5qcy5vcmcvKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZmVyZW5jZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcucmVmZXJlbmNlID09PSAncGFyZW50Jykge1xuICAgICAgICAgIHJlZmVyZW5jZUVsZW1lbnQgPSBwYXJlbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoVXRpbC5pc0VsZW1lbnQodGhpcy5fY29uZmlnLnJlZmVyZW5jZSkpIHtcbiAgICAgICAgICByZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5fY29uZmlnLnJlZmVyZW5jZTsgLy8gQ2hlY2sgaWYgaXQncyBqUXVlcnkgZWxlbWVudFxuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcucmVmZXJlbmNlLmpxdWVyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZUVsZW1lbnQgPSB0aGlzLl9jb25maWcucmVmZXJlbmNlWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBJZiBib3VuZGFyeSBpcyBub3QgYHNjcm9sbFBhcmVudGAsIHRoZW4gc2V0IHBvc2l0aW9uIHRvIGBzdGF0aWNgXG4gICAgICAgIC8vIHRvIGFsbG93IHRoZSBtZW51IHRvIFwiZXNjYXBlXCIgdGhlIHNjcm9sbCBwYXJlbnQncyBib3VuZGFyaWVzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMjQyNTFcblxuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuYm91bmRhcnkgIT09ICdzY3JvbGxQYXJlbnQnKSB7XG4gICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHBhcmVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9QT1NJVElPTl9TVEFUSUMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9wcGVyID0gbmV3IFBvcHBlcl9fZGVmYXVsdFsnZGVmYXVsdCddKHJlZmVyZW5jZUVsZW1lbnQsIHRoaXMuX21lbnUsIHRoaXMuX2dldFBvcHBlckNvbmZpZygpKTtcbiAgICAgIH0gLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIGFkZCBleHRyYVxuICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB0byB0aGUgYm9keSdzIGltbWVkaWF0ZSBjaGlsZHJlbjtcbiAgICAgIC8vIG9ubHkgbmVlZGVkIGJlY2F1c2Ugb2YgYnJva2VuIGV2ZW50IGRlbGVnYXRpb24gb24gaU9TXG4gICAgICAvLyBodHRwczovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTQvMDIvbW91c2VfZXZlbnRfYnViLmh0bWxcblxuXG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShwYXJlbnQpLmNsb3Nlc3QoU0VMRUNUT1JfTkFWQkFSX05BVikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9uKCdtb3VzZW92ZXInLCBudWxsLCAkX19kZWZhdWx0WydkZWZhdWx0J10ubm9vcCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX21lbnUpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfU0hPVyQyKTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShwYXJlbnQpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfU0hPVyQyKS50cmlnZ2VyKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9TSE9XTiQxLCByZWxhdGVkVGFyZ2V0KSk7XG4gICAgfTtcblxuICAgIF9wcm90by5oaWRlID0gZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LmRpc2FibGVkIHx8ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0RJU0FCTEVEKSB8fCAhJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLl9lbGVtZW50XG4gICAgICB9O1xuICAgICAgdmFyIGhpZGVFdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9ISURFJDEsIHJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgICB2YXIgcGFyZW50ID0gRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ocGFyZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9tZW51KS50b2dnbGVDbGFzcyhDTEFTU19OQU1FX1NIT1ckMik7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ocGFyZW50KS50b2dnbGVDbGFzcyhDTEFTU19OQU1FX1NIT1ckMikudHJpZ2dlcigkX19kZWZhdWx0WydkZWZhdWx0J10uRXZlbnQoRVZFTlRfSElEREVOJDEsIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkNCk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0tFWSQ0KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fbWVudSA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgdGhpcy5faW5OYXZiYXIgPSB0aGlzLl9kZXRlY3ROYXZiYXIoKTtcblxuICAgICAgaWYgKHRoaXMuX3BvcHBlciAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wb3BwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2FkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0NMSUNLLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX2V4dGVuZHMoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLmRhdGEoKSwgY29uZmlnKTtcbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUkNCwgY29uZmlnLCB0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRUeXBlKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0TWVudUVsZW1lbnQgPSBmdW5jdGlvbiBfZ2V0TWVudUVsZW1lbnQoKSB7XG4gICAgICBpZiAoIXRoaXMuX21lbnUpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgdGhpcy5fbWVudSA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX01FTlUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9tZW51O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldFBsYWNlbWVudCA9IGZ1bmN0aW9uIF9nZXRQbGFjZW1lbnQoKSB7XG4gICAgICB2YXIgJHBhcmVudERyb3Bkb3duID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICB2YXIgcGxhY2VtZW50ID0gUExBQ0VNRU5UX0JPVFRPTTsgLy8gSGFuZGxlIGRyb3B1cFxuXG4gICAgICBpZiAoJHBhcmVudERyb3Bkb3duLmhhc0NsYXNzKENMQVNTX05BTUVfRFJPUFVQKSkge1xuICAgICAgICBwbGFjZW1lbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fbWVudSkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9NRU5VUklHSFQpID8gUExBQ0VNRU5UX1RPUEVORCA6IFBMQUNFTUVOVF9UT1A7XG4gICAgICB9IGVsc2UgaWYgKCRwYXJlbnREcm9wZG93bi5oYXNDbGFzcyhDTEFTU19OQU1FX0RST1BSSUdIVCkpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gUExBQ0VNRU5UX1JJR0hUO1xuICAgICAgfSBlbHNlIGlmICgkcGFyZW50RHJvcGRvd24uaGFzQ2xhc3MoQ0xBU1NfTkFNRV9EUk9QTEVGVCkpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gUExBQ0VNRU5UX0xFRlQ7XG4gICAgICB9IGVsc2UgaWYgKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9tZW51KS5oYXNDbGFzcyhDTEFTU19OQU1FX01FTlVSSUdIVCkpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gUExBQ0VNRU5UX0JPVFRPTUVORDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBsYWNlbWVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9kZXRlY3ROYXZiYXIgPSBmdW5jdGlvbiBfZGV0ZWN0TmF2YmFyKCkge1xuICAgICAgcmV0dXJuICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5jbG9zZXN0KCcubmF2YmFyJykubGVuZ3RoID4gMDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRPZmZzZXQgPSBmdW5jdGlvbiBfZ2V0T2Zmc2V0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvZmZzZXQgPSB7fTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcub2Zmc2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9mZnNldC5mbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgZGF0YS5vZmZzZXRzID0gX2V4dGVuZHMoe30sIGRhdGEub2Zmc2V0cywgX3RoaXMyLl9jb25maWcub2Zmc2V0KGRhdGEub2Zmc2V0cywgX3RoaXMyLl9lbGVtZW50KSB8fCB7fSk7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmZzZXQub2Zmc2V0ID0gdGhpcy5fY29uZmlnLm9mZnNldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRQb3BwZXJDb25maWcgPSBmdW5jdGlvbiBfZ2V0UG9wcGVyQ29uZmlnKCkge1xuICAgICAgdmFyIHBvcHBlckNvbmZpZyA9IHtcbiAgICAgICAgcGxhY2VtZW50OiB0aGlzLl9nZXRQbGFjZW1lbnQoKSxcbiAgICAgICAgbW9kaWZpZXJzOiB7XG4gICAgICAgICAgb2Zmc2V0OiB0aGlzLl9nZXRPZmZzZXQoKSxcbiAgICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0aGlzLl9jb25maWcuZmxpcFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgICAgICAgICBib3VuZGFyaWVzRWxlbWVudDogdGhpcy5fY29uZmlnLmJvdW5kYXJ5XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9OyAvLyBEaXNhYmxlIFBvcHBlci5qcyBpZiB3ZSBoYXZlIGEgc3RhdGljIGRpc3BsYXlcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5kaXNwbGF5ID09PSAnc3RhdGljJykge1xuICAgICAgICBwb3BwZXJDb25maWcubW9kaWZpZXJzLmFwcGx5U3R5bGUgPSB7XG4gICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwb3BwZXJDb25maWcsIHRoaXMuX2NvbmZpZy5wb3BwZXJDb25maWcpO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcykuZGF0YShEQVRBX0tFWSQ0KTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbDtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzKS5kYXRhKERBVEFfS0VZJDQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIERyb3Bkb3duLl9jbGVhck1lbnVzID0gZnVuY3Rpb24gX2NsZWFyTWVudXMoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudCAmJiAoZXZlbnQud2hpY2ggPT09IFJJR0hUX01PVVNFX0JVVFRPTl9XSElDSCB8fCBldmVudC50eXBlID09PSAna2V5dXAnICYmIGV2ZW50LndoaWNoICE9PSBUQUJfS0VZQ09ERSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdG9nZ2xlcyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1RPR0dMRSQyKSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0b2dnbGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodG9nZ2xlc1tpXSk7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odG9nZ2xlc1tpXSkuZGF0YShEQVRBX0tFWSQ0KTtcbiAgICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldDogdG9nZ2xlc1tpXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC50eXBlID09PSAnY2xpY2snKSB7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldC5jbGlja0V2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkcm9wZG93bk1lbnUgPSBjb250ZXh0Ll9tZW51O1xuXG4gICAgICAgIGlmICghJF9fZGVmYXVsdFsnZGVmYXVsdCddKHBhcmVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDIpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdjbGljaycgJiYgL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC53aGljaCA9PT0gVEFCX0tFWUNPREUpICYmICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5jb250YWlucyhwYXJlbnQsIGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoaWRlRXZlbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10uRXZlbnQoRVZFTlRfSElERSQxLCByZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHBhcmVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgICAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHdlIGFkZGVkIGZvciBpT1Mgc3VwcG9ydFxuXG5cbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9mZignbW91c2VvdmVyJywgbnVsbCwgJF9fZGVmYXVsdFsnZGVmYXVsdCddLm5vb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9nZ2xlc1tpXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICBpZiAoY29udGV4dC5fcG9wcGVyKSB7XG4gICAgICAgICAgY29udGV4dC5fcG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkcm9wZG93bk1lbnUpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQyKTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHBhcmVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDIpLnRyaWdnZXIoJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX0hJRERFTiQxLCByZWxhdGVkVGFyZ2V0KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRQYXJlbnRGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgcGFyZW50O1xuICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnQgfHwgZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbiAgICA7XG5cbiAgICBEcm9wZG93bi5fZGF0YUFwaUtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gX2RhdGFBcGlLZXlkb3duSGFuZGxlcihldmVudCkge1xuICAgICAgLy8gSWYgbm90IGlucHV0L3RleHRhcmVhOlxuICAgICAgLy8gIC0gQW5kIG5vdCBhIGtleSBpbiBSRUdFWFBfS0VZRE9XTiA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgICAvLyBJZiBpbnB1dC90ZXh0YXJlYTpcbiAgICAgIC8vICAtIElmIHNwYWNlIGtleSA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgICAvLyAgLSBJZiBrZXkgaXMgb3RoZXIgdGhhbiBlc2NhcGVcbiAgICAgIC8vICAgIC0gSWYga2V5IGlzIG5vdCB1cCBvciBkb3duID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgIC8vICAgIC0gSWYgdHJpZ2dlciBpbnNpZGUgdGhlIG1lbnUgPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpID8gZXZlbnQud2hpY2ggPT09IFNQQUNFX0tFWUNPREUgfHwgZXZlbnQud2hpY2ggIT09IEVTQ0FQRV9LRVlDT0RFICYmIChldmVudC53aGljaCAhPT0gQVJST1dfRE9XTl9LRVlDT0RFICYmIGV2ZW50LndoaWNoICE9PSBBUlJPV19VUF9LRVlDT0RFIHx8ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShldmVudC50YXJnZXQpLmNsb3Nlc3QoU0VMRUNUT1JfTUVOVSkubGVuZ3RoKSA6ICFSRUdFWFBfS0VZRE9XTi50ZXN0KGV2ZW50LndoaWNoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzKS5oYXNDbGFzcyhDTEFTU19OQU1FX0RJU0FCTEVEKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICAgIHZhciBpc0FjdGl2ZSA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShwYXJlbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQyKTtcblxuICAgICAgaWYgKCFpc0FjdGl2ZSAmJiBldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGlmICghaXNBY3RpdmUgfHwgZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFIHx8IGV2ZW50LndoaWNoID09PSBTUEFDRV9LRVlDT0RFKSB7XG4gICAgICAgIGlmIChldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUpIHtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ocGFyZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfREFUQV9UT0dHTEUkMikpLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgIH1cblxuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXRlbXMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX1ZJU0lCTEVfSVRFTVMpKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShpdGVtKS5pcygnOnZpc2libGUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4ID0gaXRlbXMuaW5kZXhPZihldmVudC50YXJnZXQpO1xuXG4gICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEFSUk9XX1VQX0tFWUNPREUgJiYgaW5kZXggPiAwKSB7XG4gICAgICAgIC8vIFVwXG4gICAgICAgIGluZGV4LS07XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gQVJST1dfRE9XTl9LRVlDT0RFICYmIGluZGV4IDwgaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAvLyBEb3duXG4gICAgICAgIGluZGV4Kys7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgfVxuXG4gICAgICBpdGVtc1tpbmRleF0uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKERyb3Bkb3duLCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiQ0O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQkMjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGUkMjtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHJvcGRvd247XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10oZG9jdW1lbnQpLm9uKEVWRU5UX0tFWURPV05fREFUQV9BUEksIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDIsIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKEVWRU5UX0tFWURPV05fREFUQV9BUEksIFNFTEVDVE9SX01FTlUsIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKEVWRU5UX0NMSUNLX0RBVEFfQVBJJDQgKyBcIiBcIiArIEVWRU5UX0tFWVVQX0RBVEFfQVBJLCBEcm9wZG93bi5fY2xlYXJNZW51cykub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNCwgU0VMRUNUT1JfREFUQV9UT0dHTEUkMiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcyksICd0b2dnbGUnKTtcbiAgfSkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNCwgU0VMRUNUT1JfRk9STV9DSElMRCwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDRdID0gRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkNF0uQ29uc3RydWN0b3IgPSBEcm9wZG93bjtcblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ0XS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDRdID0gSlFVRVJZX05PX0NPTkZMSUNUJDQ7XG4gICAgcmV0dXJuIERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FJDUgPSAnbW9kYWwnO1xuICB2YXIgVkVSU0lPTiQ1ID0gJzQuNS4zJztcbiAgdmFyIERBVEFfS0VZJDUgPSAnYnMubW9kYWwnO1xuICB2YXIgRVZFTlRfS0VZJDUgPSBcIi5cIiArIERBVEFfS0VZJDU7XG4gIHZhciBEQVRBX0FQSV9LRVkkNSA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJDUgPSAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ1XTtcbiAgdmFyIEVTQ0FQRV9LRVlDT0RFJDEgPSAyNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgRXNjYXBlIChFc2MpIGtleVxuXG4gIHZhciBEZWZhdWx0JDMgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgZm9jdXM6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkMyA9IHtcbiAgICBiYWNrZHJvcDogJyhib29sZWFufHN0cmluZyknLFxuICAgIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gICAgZm9jdXM6ICdib29sZWFuJyxcbiAgICBzaG93OiAnYm9vbGVhbidcbiAgfTtcbiAgdmFyIEVWRU5UX0hJREUkMiA9IFwiaGlkZVwiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9ISURFX1BSRVZFTlRFRCA9IFwiaGlkZVByZXZlbnRlZFwiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9ISURERU4kMiA9IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX1NIT1ckMiA9IFwic2hvd1wiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9TSE9XTiQyID0gXCJzaG93blwiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9GT0NVU0lOID0gXCJmb2N1c2luXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX1JFU0laRSA9IFwicmVzaXplXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0NMSUNLX0RJU01JU1MgPSBcImNsaWNrLmRpc21pc3NcIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfS0VZRE9XTl9ESVNNSVNTID0gXCJrZXlkb3duLmRpc21pc3NcIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfTU9VU0VVUF9ESVNNSVNTID0gXCJtb3VzZXVwLmRpc21pc3NcIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfTU9VU0VET1dOX0RJU01JU1MgPSBcIm1vdXNlZG93bi5kaXNtaXNzXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDUgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkNSArIERBVEFfQVBJX0tFWSQ1O1xuICB2YXIgQ0xBU1NfTkFNRV9TQ1JPTExBQkxFID0gJ21vZGFsLWRpYWxvZy1zY3JvbGxhYmxlJztcbiAgdmFyIENMQVNTX05BTUVfU0NST0xMQkFSX01FQVNVUkVSID0gJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJztcbiAgdmFyIENMQVNTX05BTUVfQkFDS0RST1AgPSAnbW9kYWwtYmFja2Ryb3AnO1xuICB2YXIgQ0xBU1NfTkFNRV9PUEVOID0gJ21vZGFsLW9wZW4nO1xuICB2YXIgQ0xBU1NfTkFNRV9GQURFJDEgPSAnZmFkZSc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1ckMyA9ICdzaG93JztcbiAgdmFyIENMQVNTX05BTUVfU1RBVElDID0gJ21vZGFsLXN0YXRpYyc7XG4gIHZhciBTRUxFQ1RPUl9ESUFMT0cgPSAnLm1vZGFsLWRpYWxvZyc7XG4gIHZhciBTRUxFQ1RPUl9NT0RBTF9CT0RZID0gJy5tb2RhbC1ib2R5JztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDMgPSAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nO1xuICB2YXIgU0VMRUNUT1JfREFUQV9ESVNNSVNTID0gJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXSc7XG4gIHZhciBTRUxFQ1RPUl9GSVhFRF9DT05URU5UID0gJy5maXhlZC10b3AsIC5maXhlZC1ib3R0b20sIC5pcy1maXhlZCwgLnN0aWNreS10b3AnO1xuICB2YXIgU0VMRUNUT1JfU1RJQ0tZX0NPTlRFTlQgPSAnLnN0aWNreS10b3AnO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENsYXNzIERlZmluaXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kYWwoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fZGlhbG9nID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0RJQUxPRyk7XG4gICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9zY3JvbGxiYXJXaWR0aCA9IDA7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBNb2RhbC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3cocmVsYXRlZFRhcmdldCk7XG4gICAgfTtcblxuICAgIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdyhyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93biB8fCB0aGlzLl9pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQxKSkge1xuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX1NIT1ckMiwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0XG4gICAgICB9KTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duIHx8IHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuXG4gICAgICB0aGlzLl9jaGVja1Njcm9sbGJhcigpO1xuXG4gICAgICB0aGlzLl9zZXRTY3JvbGxiYXIoKTtcblxuICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG5cbiAgICAgIHRoaXMuX3NldEVzY2FwZUV2ZW50KCk7XG5cbiAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9DTElDS19ESVNNSVNTLCBTRUxFQ1RPUl9EQVRBX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGlkZShldmVudCk7XG4gICAgICB9KTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9kaWFsb2cpLm9uKEVWRU5UX01PVVNFRE9XTl9ESVNNSVNTLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShfdGhpcy5fZWxlbWVudCkub25lKEVWRU5UX01PVVNFVVBfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXShldmVudC50YXJnZXQpLmlzKF90aGlzLl9lbGVtZW50KSkge1xuICAgICAgICAgICAgX3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBoaWRlRXZlbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10uRXZlbnQoRVZFTlRfSElERSQyKTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmICghdGhpcy5faXNTaG93biB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0ZBREUkMSk7XG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldEVzY2FwZUV2ZW50KCk7XG5cbiAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudCkub2ZmKEVWRU5UX0ZPQ1VTSU4pO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQzKTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vZmYoRVZFTlRfQ0xJQ0tfRElTTUlTUyk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZGlhbG9nKS5vZmYoRVZFTlRfTU9VU0VET1dOX0RJU01JU1MpO1xuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLl9oaWRlTW9kYWwoZXZlbnQpO1xuICAgICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGlkZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIFt3aW5kb3csIHRoaXMuX2VsZW1lbnQsIHRoaXMuX2RpYWxvZ10uZm9yRWFjaChmdW5jdGlvbiAoaHRtbEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShodG1sRWxlbWVudCkub2ZmKEVWRU5UX0tFWSQ1KTtcbiAgICAgIH0pO1xuICAgICAgLyoqXG4gICAgICAgKiBgZG9jdW1lbnRgIGhhcyAyIGV2ZW50cyBgRVZFTlRfRk9DVVNJTmAgYW5kIGBFVkVOVF9DTElDS19EQVRBX0FQSWBcbiAgICAgICAqIERvIG5vdCBtb3ZlIGBkb2N1bWVudGAgaW4gYGh0bWxFbGVtZW50c2AgYXJyYXlcbiAgICAgICAqIEl0IHdpbGwgcmVtb3ZlIGBFVkVOVF9DTElDS19EQVRBX0FQSWAgZXZlbnQgdGhhdCBzaG91bGQgcmVtYWluXG4gICAgICAgKi9cblxuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGRvY3VtZW50KS5vZmYoRVZFTlRfRk9DVVNJTik7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSQ1KTtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2RpYWxvZyA9IG51bGw7XG4gICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1Nob3duID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBudWxsO1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuX2FkanVzdERpYWxvZygpO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9leHRlbmRzKHt9LCBEZWZhdWx0JDMsIGNvbmZpZyk7XG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FJDUsIGNvbmZpZywgRGVmYXVsdFR5cGUkMyk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24gPSBmdW5jdGlvbiBfdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICB2YXIgaGlkZUV2ZW50UHJldmVudGVkID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX0hJREVfUFJFVkVOVEVEKTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50UHJldmVudGVkKTtcblxuICAgICAgICBpZiAoaGlkZUV2ZW50UHJldmVudGVkLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgICBpZiAoIWlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TVEFUSUMpO1xuXG4gICAgICAgIHZhciBtb2RhbFRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZGlhbG9nKTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9mZihVdGlsLlRSQU5TSVRJT05fRU5EKTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TVEFUSUMpO1xuXG4gICAgICAgICAgaWYgKCFpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShfdGhpczMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzMy5fZWxlbWVudC5zdHlsZS5vdmVyZmxvd1kgPSAnJztcbiAgICAgICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKF90aGlzMy5fZWxlbWVudCwgbW9kYWxUcmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQobW9kYWxUcmFuc2l0aW9uRHVyYXRpb24pO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3Nob3dFbGVtZW50ID0gZnVuY3Rpb24gX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0ZBREUkMSk7XG4gICAgICB2YXIgbW9kYWxCb2R5ID0gdGhpcy5fZGlhbG9nID8gdGhpcy5fZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfTU9EQUxfQk9EWSkgOiBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSB8fCB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIC8vIERvbid0IG1vdmUgbW9kYWwncyBET00gcG9zaXRpb25cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLW1vZGFsJywgdHJ1ZSk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2RpYWxvZycpO1xuXG4gICAgICBpZiAoJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2RpYWxvZykuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TQ1JPTExBQkxFKSAmJiBtb2RhbEJvZHkpIHtcbiAgICAgICAgbW9kYWxCb2R5LnNjcm9sbFRvcCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDMpO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2VuZm9yY2VGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd25FdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9TSE9XTiQyLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdHJhbnNpdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24gdHJhbnNpdGlvbkNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoX3RoaXM0Ll9jb25maWcuZm9jdXMpIHtcbiAgICAgICAgICBfdGhpczQuX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNC5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShfdGhpczQuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd25FdmVudCk7XG4gICAgICB9O1xuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9kaWFsb2cpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZGlhbG9nKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgdHJhbnNpdGlvbkNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gX2VuZm9yY2VGb2N1cygpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZG9jdW1lbnQpLm9mZihFVkVOVF9GT0NVU0lOKSAvLyBHdWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbihFVkVOVF9GT0NVU0lOLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50ICE9PSBldmVudC50YXJnZXQgJiYgX3RoaXM1Ll9lbGVtZW50ICE9PSBldmVudC50YXJnZXQgJiYgJF9fZGVmYXVsdFsnZGVmYXVsdCddKF90aGlzNS5fZWxlbWVudCkuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgX3RoaXM1Ll9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldEVzY2FwZUV2ZW50ID0gZnVuY3Rpb24gX3NldEVzY2FwZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9LRVlET1dOX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChfdGhpczYuX2NvbmZpZy5rZXlib2FyZCAmJiBldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUkMSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgX3RoaXM2LmhpZGUoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpczYuX2NvbmZpZy5rZXlib2FyZCAmJiBldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUkMSkge1xuICAgICAgICAgICAgX3RoaXM2Ll90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9LRVlET1dOX0RJU01JU1MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldFJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gX3NldFJlc2l6ZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh3aW5kb3cpLm9uKEVWRU5UX1JFU0laRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNy5oYW5kbGVVcGRhdGUoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh3aW5kb3cpLm9mZihFVkVOVF9SRVNJWkUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2hpZGVNb2RhbCA9IGZ1bmN0aW9uIF9oaWRlTW9kYWwoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcblxuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX09QRU4pO1xuXG4gICAgICAgIF90aGlzOC5fcmVzZXRBZGp1c3RtZW50cygpO1xuXG4gICAgICAgIF90aGlzOC5fcmVzZXRTY3JvbGxiYXIoKTtcblxuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oX3RoaXM4Ll9lbGVtZW50KS50cmlnZ2VyKEVWRU5UX0hJRERFTiQyKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3JlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gX3JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgaWYgKHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9iYWNrZHJvcCkucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zaG93QmFja2Ryb3AgPSBmdW5jdGlvbiBfc2hvd0JhY2tkcm9wKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgICAgdmFyIGFuaW1hdGUgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDEpID8gQ0xBU1NfTkFNRV9GQURFJDEgOiAnJztcblxuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgdGhpcy5fY29uZmlnLmJhY2tkcm9wKSB7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTmFtZSA9IENMQVNTX05BTUVfQkFDS0RST1A7XG5cbiAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKGFuaW1hdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2JhY2tkcm9wKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0NMSUNLX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChfdGhpczkuX2lnbm9yZUJhY2tkcm9wQ2xpY2spIHtcbiAgICAgICAgICAgIF90aGlzOS5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczkuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICBVdGlsLnJlZmxvdyh0aGlzLl9iYWNrZHJvcCk7XG4gICAgICAgIH1cblxuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKENMQVNTX05BTUVfU0hPVyQzKTtcblxuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbmltYXRlKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2JhY2tkcm9wKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY2FsbGJhY2spLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGJhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24gJiYgdGhpcy5fYmFja2Ryb3ApIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX1NIT1ckMyk7XG5cbiAgICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gY2FsbGJhY2tSZW1vdmUoKSB7XG4gICAgICAgICAgX3RoaXM5Ll9yZW1vdmVCYWNrZHJvcCgpO1xuXG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQxKSkge1xuICAgICAgICAgIHZhciBfYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtcblxuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9iYWNrZHJvcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNhbGxiYWNrUmVtb3ZlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChfYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyB0aGUgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgdG8gaGFuZGxlIG92ZXJmbG93aW5nIG1vZGFsc1xuICAgIC8vIHRvZG8gKGZhdCk6IHRoZXNlIHNob3VsZCBwcm9iYWJseSBiZSByZWZhY3RvcmVkIG91dCBvZiBtb2RhbC5qc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICA7XG5cbiAgICBfcHJvdG8uX2FkanVzdERpYWxvZyA9IGZ1bmN0aW9uIF9hZGp1c3REaWFsb2coKSB7XG4gICAgICB2YXIgaXNNb2RhbE92ZXJmbG93aW5nID0gdGhpcy5fZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICBpZiAoIXRoaXMuX2lzQm9keU92ZXJmbG93aW5nICYmIGlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCI7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiAhaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fcmVzZXRBZGp1c3RtZW50cyA9IGZ1bmN0aW9uIF9yZXNldEFkanVzdG1lbnRzKCkge1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcnO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uIF9jaGVja1Njcm9sbGJhcigpIHtcbiAgICAgIHZhciByZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gTWF0aC5yb3VuZChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSA8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSB0aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9zZXRTY3JvbGxiYXIoKSB7XG4gICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZykge1xuICAgICAgICAvLyBOb3RlOiBET01Ob2RlLnN0eWxlLnBhZGRpbmdSaWdodCByZXR1cm5zIHRoZSBhY3R1YWwgdmFsdWUgb3IgJycgaWYgbm90IHNldFxuICAgICAgICAvLyAgIHdoaWxlICQoRE9NTm9kZSkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgcmV0dXJucyB0aGUgY2FsY3VsYXRlZCB2YWx1ZSBvciAwIGlmIG5vdCBzZXRcbiAgICAgICAgdmFyIGZpeGVkQ29udGVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9GSVhFRF9DT05URU5UKSk7XG4gICAgICAgIHZhciBzdGlja3lDb250ZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX1NUSUNLWV9DT05URU5UKSk7IC8vIEFkanVzdCBmaXhlZCBjb250ZW50IHBhZGRpbmdcblxuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZml4ZWRDb250ZW50KS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgIHZhciBhY3R1YWxQYWRkaW5nID0gZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ7XG4gICAgICAgICAgdmFyIGNhbGN1bGF0ZWRQYWRkaW5nID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLmNzcygncGFkZGluZy1yaWdodCcpO1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShlbGVtZW50KS5kYXRhKCdwYWRkaW5nLXJpZ2h0JywgYWN0dWFsUGFkZGluZykuY3NzKCdwYWRkaW5nLXJpZ2h0JywgcGFyc2VGbG9hdChjYWxjdWxhdGVkUGFkZGluZykgKyBfdGhpczEwLl9zY3JvbGxiYXJXaWR0aCArIFwicHhcIik7XG4gICAgICAgIH0pOyAvLyBBZGp1c3Qgc3RpY2t5IGNvbnRlbnQgbWFyZ2luXG5cbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHN0aWNreUNvbnRlbnQpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGFjdHVhbE1hcmdpbiA9IGVsZW1lbnQuc3R5bGUubWFyZ2luUmlnaHQ7XG4gICAgICAgICAgdmFyIGNhbGN1bGF0ZWRNYXJnaW4gPSAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkuY3NzKCdtYXJnaW4tcmlnaHQnKTtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkuZGF0YSgnbWFyZ2luLXJpZ2h0JywgYWN0dWFsTWFyZ2luKS5jc3MoJ21hcmdpbi1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZE1hcmdpbikgLSBfdGhpczEwLl9zY3JvbGxiYXJXaWR0aCArIFwicHhcIik7XG4gICAgICAgIH0pOyAvLyBBZGp1c3QgYm9keSBwYWRkaW5nXG5cbiAgICAgICAgdmFyIGFjdHVhbFBhZGRpbmcgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodDtcbiAgICAgICAgdmFyIGNhbGN1bGF0ZWRQYWRkaW5nID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGRvY3VtZW50LmJvZHkpLmNzcygncGFkZGluZy1yaWdodCcpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZG9jdW1lbnQuYm9keSkuZGF0YSgncGFkZGluZy1yaWdodCcsIGFjdHVhbFBhZGRpbmcpLmNzcygncGFkZGluZy1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZFBhZGRpbmcpICsgdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgfVxuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9PUEVOKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9yZXNldFNjcm9sbGJhcigpIHtcbiAgICAgIC8vIFJlc3RvcmUgZml4ZWQgY29udGVudCBwYWRkaW5nXG4gICAgICB2YXIgZml4ZWRDb250ZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0ZJWEVEX0NPTlRFTlQpKTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShmaXhlZENvbnRlbnQpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLmRhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLnJlbW92ZURhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nID8gcGFkZGluZyA6ICcnO1xuICAgICAgfSk7IC8vIFJlc3RvcmUgc3RpY2t5IGNvbnRlbnRcblxuICAgICAgdmFyIGVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiXCIgKyBTRUxFQ1RPUl9TVElDS1lfQ09OVEVOVCkpO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnRzKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgICB2YXIgbWFyZ2luID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLmRhdGEoJ21hcmdpbi1yaWdodCcpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbWFyZ2luICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShlbGVtZW50KS5jc3MoJ21hcmdpbi1yaWdodCcsIG1hcmdpbikucmVtb3ZlRGF0YSgnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBSZXN0b3JlIGJvZHkgcGFkZGluZ1xuXG4gICAgICB2YXIgcGFkZGluZyA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudC5ib2R5KS5kYXRhKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZG9jdW1lbnQuYm9keSkucmVtb3ZlRGF0YSgncGFkZGluZy1yaWdodCcpO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nID8gcGFkZGluZyA6ICcnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gX2dldFNjcm9sbGJhcldpZHRoKCkge1xuICAgICAgLy8gdGh4IGQud2Fsc2hcbiAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSBDTEFTU19OQU1FX1NDUk9MTEJBUl9NRUFTVVJFUjtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZywgcmVsYXRlZFRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMpLmRhdGEoREFUQV9LRVkkNSk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSBfZXh0ZW5kcyh7fSwgRGVmYXVsdCQzLCAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcykuZGF0YSgpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBNb2RhbCh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcykuZGF0YShEQVRBX0tFWSQ1LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICB9IGVsc2UgaWYgKF9jb25maWcuc2hvdykge1xuICAgICAgICAgIGRhdGEuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kNTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE1vZGFsO1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQ1LCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQzLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICB2YXIgdGFyZ2V0O1xuICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgdmFyIGNvbmZpZyA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0YXJnZXQpLmRhdGEoREFUQV9LRVkkNSkgPyAndG9nZ2xlJyA6IF9leHRlbmRzKHt9LCAkX19kZWZhdWx0WydkZWZhdWx0J10odGFyZ2V0KS5kYXRhKCksICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzKS5kYXRhKCkpO1xuXG4gICAgaWYgKHRoaXMudGFnTmFtZSA9PT0gJ0EnIHx8IHRoaXMudGFnTmFtZSA9PT0gJ0FSRUEnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciAkdGFyZ2V0ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRhcmdldCkub25lKEVWRU5UX1NIT1ckMiwgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAvLyBPbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJHRhcmdldC5vbmUoRVZFTlRfSElEREVOJDIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXShfdGhpczExKS5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgIF90aGlzMTEuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRhcmdldCksIGNvbmZpZywgdGhpcyk7XG4gIH0pO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkNV0gPSBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ1XS5Db25zdHJ1Y3RvciA9IE1vZGFsO1xuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkNV0gPSBKUVVFUllfTk9fQ09ORkxJQ1QkNTtcbiAgICByZXR1cm4gTW9kYWwuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NC41LjMpOiB0b29scy9zYW5pdGl6ZXIuanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICB2YXIgdXJpQXR0cnMgPSBbJ2JhY2tncm91bmQnLCAnY2l0ZScsICdocmVmJywgJ2l0ZW10eXBlJywgJ2xvbmdkZXNjJywgJ3Bvc3RlcicsICdzcmMnLCAneGxpbms6aHJlZiddO1xuICB2YXIgQVJJQV9BVFRSSUJVVEVfUEFUVEVSTiA9IC9eYXJpYS1bXFx3LV0qJC9pO1xuICB2YXIgRGVmYXVsdFdoaXRlbGlzdCA9IHtcbiAgICAvLyBHbG9iYWwgYXR0cmlidXRlcyBhbGxvd2VkIG9uIGFueSBzdXBwbGllZCBlbGVtZW50IGJlbG93LlxuICAgICcqJzogWydjbGFzcycsICdkaXInLCAnaWQnLCAnbGFuZycsICdyb2xlJywgQVJJQV9BVFRSSUJVVEVfUEFUVEVSTl0sXG4gICAgYTogWyd0YXJnZXQnLCAnaHJlZicsICd0aXRsZScsICdyZWwnXSxcbiAgICBhcmVhOiBbXSxcbiAgICBiOiBbXSxcbiAgICBicjogW10sXG4gICAgY29sOiBbXSxcbiAgICBjb2RlOiBbXSxcbiAgICBkaXY6IFtdLFxuICAgIGVtOiBbXSxcbiAgICBocjogW10sXG4gICAgaDE6IFtdLFxuICAgIGgyOiBbXSxcbiAgICBoMzogW10sXG4gICAgaDQ6IFtdLFxuICAgIGg1OiBbXSxcbiAgICBoNjogW10sXG4gICAgaTogW10sXG4gICAgaW1nOiBbJ3NyYycsICdzcmNzZXQnLCAnYWx0JywgJ3RpdGxlJywgJ3dpZHRoJywgJ2hlaWdodCddLFxuICAgIGxpOiBbXSxcbiAgICBvbDogW10sXG4gICAgcDogW10sXG4gICAgcHJlOiBbXSxcbiAgICBzOiBbXSxcbiAgICBzbWFsbDogW10sXG4gICAgc3BhbjogW10sXG4gICAgc3ViOiBbXSxcbiAgICBzdXA6IFtdLFxuICAgIHN0cm9uZzogW10sXG4gICAgdTogW10sXG4gICAgdWw6IFtdXG4gIH07XG4gIC8qKlxuICAgKiBBIHBhdHRlcm4gdGhhdCByZWNvZ25pemVzIGEgY29tbW9ubHkgdXNlZnVsIHN1YnNldCBvZiBVUkxzIHRoYXQgYXJlIHNhZmUuXG4gICAqXG4gICAqIFNob3V0b3V0IHRvIEFuZ3VsYXIgNyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2Jsb2IvNy4yLjQvcGFja2FnZXMvY29yZS9zcmMvc2FuaXRpemF0aW9uL3VybF9zYW5pdGl6ZXIudHNcbiAgICovXG5cbiAgdmFyIFNBRkVfVVJMX1BBVFRFUk4gPSAvXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlKTp8W14jJi86P10qKD86WyMvP118JCkpL2dpO1xuICAvKipcbiAgICogQSBwYXR0ZXJuIHRoYXQgbWF0Y2hlcyBzYWZlIGRhdGEgVVJMcy4gT25seSBtYXRjaGVzIGltYWdlLCB2aWRlbyBhbmQgYXVkaW8gdHlwZXMuXG4gICAqXG4gICAqIFNob3V0b3V0IHRvIEFuZ3VsYXIgNyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2Jsb2IvNy4yLjQvcGFja2FnZXMvY29yZS9zcmMvc2FuaXRpemF0aW9uL3VybF9zYW5pdGl6ZXIudHNcbiAgICovXG5cbiAgdmFyIERBVEFfVVJMX1BBVFRFUk4gPSAvXmRhdGE6KD86aW1hZ2VcXC8oPzpibXB8Z2lmfGpwZWd8anBnfHBuZ3x0aWZmfHdlYnApfHZpZGVvXFwvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXFwvKD86bXAzfG9nYXxvZ2d8b3B1cykpO2Jhc2U2NCxbXFxkKy9hLXpdKz0qJC9pO1xuXG4gIGZ1bmN0aW9uIGFsbG93ZWRBdHRyaWJ1dGUoYXR0ciwgYWxsb3dlZEF0dHJpYnV0ZUxpc3QpIHtcbiAgICB2YXIgYXR0ck5hbWUgPSBhdHRyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoYWxsb3dlZEF0dHJpYnV0ZUxpc3QuaW5kZXhPZihhdHRyTmFtZSkgIT09IC0xKSB7XG4gICAgICBpZiAodXJpQXR0cnMuaW5kZXhPZihhdHRyTmFtZSkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKGF0dHIubm9kZVZhbHVlLm1hdGNoKFNBRkVfVVJMX1BBVFRFUk4pIHx8IGF0dHIubm9kZVZhbHVlLm1hdGNoKERBVEFfVVJMX1BBVFRFUk4pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHJlZ0V4cCA9IGFsbG93ZWRBdHRyaWJ1dGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoYXR0clJlZ2V4KSB7XG4gICAgICByZXR1cm4gYXR0clJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwO1xuICAgIH0pOyAvLyBDaGVjayBpZiBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB2YWxpZGF0ZXMgdGhlIGF0dHJpYnV0ZS5cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZWdFeHAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChhdHRyTmFtZS5tYXRjaChyZWdFeHBbaV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhbml0aXplSHRtbCh1bnNhZmVIdG1sLCB3aGl0ZUxpc3QsIHNhbml0aXplRm4pIHtcbiAgICBpZiAodW5zYWZlSHRtbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bnNhZmVIdG1sO1xuICAgIH1cblxuICAgIGlmIChzYW5pdGl6ZUZuICYmIHR5cGVvZiBzYW5pdGl6ZUZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2FuaXRpemVGbih1bnNhZmVIdG1sKTtcbiAgICB9XG5cbiAgICB2YXIgZG9tUGFyc2VyID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKTtcbiAgICB2YXIgY3JlYXRlZERvY3VtZW50ID0gZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyh1bnNhZmVIdG1sLCAndGV4dC9odG1sJyk7XG4gICAgdmFyIHdoaXRlbGlzdEtleXMgPSBPYmplY3Qua2V5cyh3aGl0ZUxpc3QpO1xuICAgIHZhciBlbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoY3JlYXRlZERvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbCgnKicpKTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGksIGxlbikge1xuICAgICAgdmFyIGVsID0gZWxlbWVudHNbaV07XG4gICAgICB2YXIgZWxOYW1lID0gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKHdoaXRlbGlzdEtleXMuaW5kZXhPZihlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICB9XG5cbiAgICAgIHZhciBhdHRyaWJ1dGVMaXN0ID0gW10uc2xpY2UuY2FsbChlbC5hdHRyaWJ1dGVzKTtcbiAgICAgIHZhciB3aGl0ZWxpc3RlZEF0dHJpYnV0ZXMgPSBbXS5jb25jYXQod2hpdGVMaXN0WycqJ10gfHwgW10sIHdoaXRlTGlzdFtlbE5hbWVdIHx8IFtdKTtcbiAgICAgIGF0dHJpYnV0ZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBpZiAoIWFsbG93ZWRBdHRyaWJ1dGUoYXR0ciwgd2hpdGVsaXN0ZWRBdHRyaWJ1dGVzKSkge1xuICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyLm5vZGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIF9yZXQgPSBfbG9vcChpKTtcblxuICAgICAgaWYgKF9yZXQgPT09IFwiY29udGludWVcIikgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZWREb2N1bWVudC5ib2R5LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSQ2ID0gJ3Rvb2x0aXAnO1xuICB2YXIgVkVSU0lPTiQ2ID0gJzQuNS4zJztcbiAgdmFyIERBVEFfS0VZJDYgPSAnYnMudG9vbHRpcCc7XG4gIHZhciBFVkVOVF9LRVkkNiA9IFwiLlwiICsgREFUQV9LRVkkNjtcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQ2ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkNl07XG4gIHZhciBDTEFTU19QUkVGSVggPSAnYnMtdG9vbHRpcCc7XG4gIHZhciBCU0NMU19QUkVGSVhfUkVHRVggPSBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBDTEFTU19QUkVGSVggKyBcIlxcXFxTK1wiLCAnZycpO1xuICB2YXIgRElTQUxMT1dFRF9BVFRSSUJVVEVTID0gWydzYW5pdGl6ZScsICd3aGl0ZUxpc3QnLCAnc2FuaXRpemVGbiddO1xuICB2YXIgRGVmYXVsdFR5cGUkNCA9IHtcbiAgICBhbmltYXRpb246ICdib29sZWFuJyxcbiAgICB0ZW1wbGF0ZTogJ3N0cmluZycsXG4gICAgdGl0bGU6ICcoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pJyxcbiAgICB0cmlnZ2VyOiAnc3RyaW5nJyxcbiAgICBkZWxheTogJyhudW1iZXJ8b2JqZWN0KScsXG4gICAgaHRtbDogJ2Jvb2xlYW4nLFxuICAgIHNlbGVjdG9yOiAnKHN0cmluZ3xib29sZWFuKScsXG4gICAgcGxhY2VtZW50OiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICAgIG9mZnNldDogJyhudW1iZXJ8c3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgY29udGFpbmVyOiAnKHN0cmluZ3xlbGVtZW50fGJvb2xlYW4pJyxcbiAgICBmYWxsYmFja1BsYWNlbWVudDogJyhzdHJpbmd8YXJyYXkpJyxcbiAgICBib3VuZGFyeTogJyhzdHJpbmd8ZWxlbWVudCknLFxuICAgIHNhbml0aXplOiAnYm9vbGVhbicsXG4gICAgc2FuaXRpemVGbjogJyhudWxsfGZ1bmN0aW9uKScsXG4gICAgd2hpdGVMaXN0OiAnb2JqZWN0JyxcbiAgICBwb3BwZXJDb25maWc6ICcobnVsbHxvYmplY3QpJ1xuICB9O1xuICB2YXIgQXR0YWNobWVudE1hcCA9IHtcbiAgICBBVVRPOiAnYXV0bycsXG4gICAgVE9QOiAndG9wJyxcbiAgICBSSUdIVDogJ3JpZ2h0JyxcbiAgICBCT1RUT006ICdib3R0b20nLFxuICAgIExFRlQ6ICdsZWZ0J1xuICB9O1xuICB2YXIgRGVmYXVsdCQ0ID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj4nICsgJzxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLFxuICAgIHRyaWdnZXI6ICdob3ZlciBmb2N1cycsXG4gICAgdGl0bGU6ICcnLFxuICAgIGRlbGF5OiAwLFxuICAgIGh0bWw6IGZhbHNlLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIG9mZnNldDogMCxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIGZhbGxiYWNrUGxhY2VtZW50OiAnZmxpcCcsXG4gICAgYm91bmRhcnk6ICdzY3JvbGxQYXJlbnQnLFxuICAgIHNhbml0aXplOiB0cnVlLFxuICAgIHNhbml0aXplRm46IG51bGwsXG4gICAgd2hpdGVMaXN0OiBEZWZhdWx0V2hpdGVsaXN0LFxuICAgIHBvcHBlckNvbmZpZzogbnVsbFxuICB9O1xuICB2YXIgSE9WRVJfU1RBVEVfU0hPVyA9ICdzaG93JztcbiAgdmFyIEhPVkVSX1NUQVRFX09VVCA9ICdvdXQnO1xuICB2YXIgRXZlbnQgPSB7XG4gICAgSElERTogXCJoaWRlXCIgKyBFVkVOVF9LRVkkNixcbiAgICBISURERU46IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVkkNixcbiAgICBTSE9XOiBcInNob3dcIiArIEVWRU5UX0tFWSQ2LFxuICAgIFNIT1dOOiBcInNob3duXCIgKyBFVkVOVF9LRVkkNixcbiAgICBJTlNFUlRFRDogXCJpbnNlcnRlZFwiICsgRVZFTlRfS0VZJDYsXG4gICAgQ0xJQ0s6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSQ2LFxuICAgIEZPQ1VTSU46IFwiZm9jdXNpblwiICsgRVZFTlRfS0VZJDYsXG4gICAgRk9DVVNPVVQ6IFwiZm9jdXNvdXRcIiArIEVWRU5UX0tFWSQ2LFxuICAgIE1PVVNFRU5URVI6IFwibW91c2VlbnRlclwiICsgRVZFTlRfS0VZJDYsXG4gICAgTU9VU0VMRUFWRTogXCJtb3VzZWxlYXZlXCIgKyBFVkVOVF9LRVkkNlxuICB9O1xuICB2YXIgQ0xBU1NfTkFNRV9GQURFJDIgPSAnZmFkZSc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1ckNCA9ICdzaG93JztcbiAgdmFyIFNFTEVDVE9SX1RPT0xUSVBfSU5ORVIgPSAnLnRvb2x0aXAtaW5uZXInO1xuICB2YXIgU0VMRUNUT1JfQVJST1cgPSAnLmFycm93JztcbiAgdmFyIFRSSUdHRVJfSE9WRVIgPSAnaG92ZXInO1xuICB2YXIgVFJJR0dFUl9GT0NVUyA9ICdmb2N1cyc7XG4gIHZhciBUUklHR0VSX0NMSUNLID0gJ2NsaWNrJztcbiAgdmFyIFRSSUdHRVJfTUFOVUFMID0gJ21hbnVhbCc7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFRvb2x0aXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRvb2x0aXAoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICBpZiAodHlwZW9mIFBvcHBlcl9fZGVmYXVsdFsnZGVmYXVsdCddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb290c3RyYXBcXCdzIHRvb2x0aXBzIHJlcXVpcmUgUG9wcGVyLmpzIChodHRwczovL3BvcHBlci5qcy5vcmcvKScpO1xuICAgICAgfSAvLyBwcml2YXRlXG5cblxuICAgICAgdGhpcy5faXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3RpbWVvdXQgPSAwO1xuICAgICAgdGhpcy5faG92ZXJTdGF0ZSA9ICcnO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlciA9IHt9O1xuICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDsgLy8gUHJvdGVjdGVkXG5cbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy50aXAgPSBudWxsO1xuXG4gICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IFRvb2x0aXAucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBfcHJvdG8udG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uIHRvZ2dsZUVuYWJsZWQoKSB7XG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSAhdGhpcy5faXNFbmFibGVkO1xuICAgIH07XG5cbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMuX2lzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgY29udGV4dCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpO1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlci5jbGljayA9ICFjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrO1xuXG4gICAgICAgIGlmIChjb250ZXh0Ll9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkpIHtcbiAgICAgICAgICBjb250ZXh0Ll9lbnRlcihudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0Ll9sZWF2ZShudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDQpKSB7XG4gICAgICAgICAgdGhpcy5fbGVhdmUobnVsbCwgdGhpcyk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbnRlcihudWxsLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZURhdGEodGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLmVsZW1lbnQpLm9mZih0aGlzLmNvbnN0cnVjdG9yLkVWRU5UX0tFWSk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5lbGVtZW50KS5jbG9zZXN0KCcubW9kYWwnKS5vZmYoJ2hpZGUuYnMubW9kYWwnLCB0aGlzLl9oaWRlTW9kYWxIYW5kbGVyKTtcblxuICAgICAgaWYgKHRoaXMudGlwKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLnRpcCkucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IG51bGw7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSBudWxsO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlciA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLl9wb3BwZXIpIHtcbiAgICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XG4gICAgICB0aGlzLnRpcCA9IG51bGw7XG4gICAgfTtcblxuICAgIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICgkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5lbGVtZW50KS5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHVzZSBzaG93IG9uIHZpc2libGUgZWxlbWVudHMnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNob3dFdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1cpO1xuXG4gICAgICBpZiAodGhpcy5pc1dpdGhDb250ZW50KCkgJiYgdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcbiAgICAgICAgdmFyIHNoYWRvd1Jvb3QgPSBVdGlsLmZpbmRTaGFkb3dSb290KHRoaXMuZWxlbWVudCk7XG4gICAgICAgIHZhciBpc0luVGhlRG9tID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLmNvbnRhaW5zKHNoYWRvd1Jvb3QgIT09IG51bGwgPyBzaGFkb3dSb290IDogdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWlzSW5UaGVEb20pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICAgIHZhciB0aXBJZCA9IFV0aWwuZ2V0VUlEKHRoaXMuY29uc3RydWN0b3IuTkFNRSk7XG4gICAgICAgIHRpcC5zZXRBdHRyaWJ1dGUoJ2lkJywgdGlwSWQpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpO1xuICAgICAgICB0aGlzLnNldENvbnRlbnQoKTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRpcCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLCB0aXAsIHRoaXMuZWxlbWVudCkgOiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQ7XG5cbiAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSB0aGlzLl9nZXRBdHRhY2htZW50KHBsYWNlbWVudCk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRhY2htZW50Q2xhc3MoYXR0YWNobWVudCk7XG5cbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2dldENvbnRhaW5lcigpO1xuXG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aXApLmRhdGEodGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCEkX19kZWZhdWx0WydkZWZhdWx0J10uY29udGFpbnModGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLnRpcCkpIHtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGlwKS5hcHBlbmRUbyhjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuZWxlbWVudCkudHJpZ2dlcih0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LklOU0VSVEVEKTtcbiAgICAgICAgdGhpcy5fcG9wcGVyID0gbmV3IFBvcHBlcl9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuZWxlbWVudCwgdGlwLCB0aGlzLl9nZXRQb3BwZXJDb25maWcoYXR0YWNobWVudCkpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGlwKS5hZGRDbGFzcyhDTEFTU19OQU1FX1NIT1ckNCk7IC8vIElmIHRoaXMgaXMgYSB0b3VjaC1lbmFibGVkIGRldmljZSB3ZSBhZGQgZXh0cmFcbiAgICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB0byB0aGUgYm9keSdzIGltbWVkaWF0ZSBjaGlsZHJlbjtcbiAgICAgICAgLy8gb25seSBuZWVkZWQgYmVjYXVzZSBvZiBicm9rZW4gZXZlbnQgZGVsZWdhdGlvbiBvbiBpT1NcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDE0LzAyL21vdXNlX2V2ZW50X2J1Yi5odG1sXG5cbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9uKCdtb3VzZW92ZXInLCBudWxsLCAkX19kZWZhdWx0WydkZWZhdWx0J10ubm9vcCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgX3RoaXMuX2ZpeFRyYW5zaXRpb24oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJldkhvdmVyU3RhdGUgPSBfdGhpcy5faG92ZXJTdGF0ZTtcbiAgICAgICAgICBfdGhpcy5faG92ZXJTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKF90aGlzLmVsZW1lbnQpLnRyaWdnZXIoX3RoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPV04pO1xuXG4gICAgICAgICAgaWYgKHByZXZIb3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9PVVQpIHtcbiAgICAgICAgICAgIF90aGlzLl9sZWF2ZShudWxsLCBfdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy50aXApLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQyKSkge1xuICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMudGlwKTtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy50aXApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5oaWRlID0gZnVuY3Rpb24gaGlkZShjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgIHZhciBoaWRlRXZlbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10uRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5ISURFKTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczIuX2hvdmVyU3RhdGUgIT09IEhPVkVSX1NUQVRFX1NIT1cgJiYgdGlwLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLl9jbGVhblRpcENsYXNzKCk7XG5cbiAgICAgICAgX3RoaXMyLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKF90aGlzMi5lbGVtZW50KS50cmlnZ2VyKF90aGlzMi5jb25zdHJ1Y3Rvci5FdmVudC5ISURERU4pO1xuXG4gICAgICAgIGlmIChfdGhpczIuX3BvcHBlciAhPT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzMi5fcG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgaWYgKGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aXApLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQ0KTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIHJlbW92ZSB0aGUgZXh0cmFcbiAgICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgd2UgYWRkZWQgZm9yIGlPUyBzdXBwb3J0XG5cbiAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub2ZmKCdtb3VzZW92ZXInLCBudWxsLCAkX19kZWZhdWx0WydkZWZhdWx0J10ubm9vcCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXJbVFJJR0dFUl9DTElDS10gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXJbVFJJR0dFUl9GT0NVU10gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXJbVFJJR0dFUl9IT1ZFUl0gPSBmYWxzZTtcblxuICAgICAgaWYgKCRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLnRpcCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDIpKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRpcCk7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aXApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSAnJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSAvLyBQcm90ZWN0ZWRcbiAgICA7XG5cbiAgICBfcHJvdG8uaXNXaXRoQ29udGVudCA9IGZ1bmN0aW9uIGlzV2l0aENvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmdldFRpdGxlKCkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYWRkQXR0YWNobWVudENsYXNzID0gZnVuY3Rpb24gYWRkQXR0YWNobWVudENsYXNzKGF0dGFjaG1lbnQpIHtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLmdldFRpcEVsZW1lbnQoKSkuYWRkQ2xhc3MoQ0xBU1NfUFJFRklYICsgXCItXCIgKyBhdHRhY2htZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmdldFRpcEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUaXBFbGVtZW50KCkge1xuICAgICAgdGhpcy50aXAgPSB0aGlzLnRpcCB8fCAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5jb25maWcudGVtcGxhdGUpWzBdO1xuICAgICAgcmV0dXJuIHRoaXMudGlwO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2V0Q29udGVudCA9IGZ1bmN0aW9uIHNldENvbnRlbnQoKSB7XG4gICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICB0aGlzLnNldEVsZW1lbnRDb250ZW50KCRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aXAucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9UT09MVElQX0lOTkVSKSksIHRoaXMuZ2V0VGl0bGUoKSk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGlwKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0ZBREUkMiArIFwiIFwiICsgQ0xBU1NfTkFNRV9TSE9XJDQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2V0RWxlbWVudENvbnRlbnQgPSBmdW5jdGlvbiBzZXRFbGVtZW50Q29udGVudCgkZWxlbWVudCwgY29udGVudCkge1xuICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0JyAmJiAoY29udGVudC5ub2RlVHlwZSB8fCBjb250ZW50LmpxdWVyeSkpIHtcbiAgICAgICAgLy8gQ29udGVudCBpcyBhIERPTSBub2RlIG9yIGEgalF1ZXJ5XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5odG1sKSB7XG4gICAgICAgICAgaWYgKCEkX19kZWZhdWx0WydkZWZhdWx0J10oY29udGVudCkucGFyZW50KCkuaXMoJGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpLmFwcGVuZChjb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVsZW1lbnQudGV4dCgkX19kZWZhdWx0WydkZWZhdWx0J10oY29udGVudCkudGV4dCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29uZmlnLmh0bWwpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNhbml0aXplKSB7XG4gICAgICAgICAgY29udGVudCA9IHNhbml0aXplSHRtbChjb250ZW50LCB0aGlzLmNvbmZpZy53aGl0ZUxpc3QsIHRoaXMuY29uZmlnLnNhbml0aXplRm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgJGVsZW1lbnQuaHRtbChjb250ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRlbGVtZW50LnRleHQoY29udGVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5nZXRUaXRsZSA9IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuICAgICAgdmFyIHRpdGxlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScpO1xuXG4gICAgICBpZiAoIXRpdGxlKSB7XG4gICAgICAgIHRpdGxlID0gdHlwZW9mIHRoaXMuY29uZmlnLnRpdGxlID09PSAnZnVuY3Rpb24nID8gdGhpcy5jb25maWcudGl0bGUuY2FsbCh0aGlzLmVsZW1lbnQpIDogdGhpcy5jb25maWcudGl0bGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2dldFBvcHBlckNvbmZpZyA9IGZ1bmN0aW9uIF9nZXRQb3BwZXJDb25maWcoYXR0YWNobWVudCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBkZWZhdWx0QnNDb25maWcgPSB7XG4gICAgICAgIHBsYWNlbWVudDogYXR0YWNobWVudCxcbiAgICAgICAgbW9kaWZpZXJzOiB7XG4gICAgICAgICAgb2Zmc2V0OiB0aGlzLl9nZXRPZmZzZXQoKSxcbiAgICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgICBiZWhhdmlvcjogdGhpcy5jb25maWcuZmFsbGJhY2tQbGFjZW1lbnRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFycm93OiB7XG4gICAgICAgICAgICBlbGVtZW50OiBTRUxFQ1RPUl9BUlJPV1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgICAgICAgICBib3VuZGFyaWVzRWxlbWVudDogdGhpcy5jb25maWcuYm91bmRhcnlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZShkYXRhKSB7XG4gICAgICAgICAgaWYgKGRhdGEub3JpZ2luYWxQbGFjZW1lbnQgIT09IGRhdGEucGxhY2VtZW50KSB7XG4gICAgICAgICAgICBfdGhpczMuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZShkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZShkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5faGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZWZhdWx0QnNDb25maWcsIHRoaXMuY29uZmlnLnBvcHBlckNvbmZpZyk7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gX2dldE9mZnNldCgpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgb2Zmc2V0ID0ge307XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5jb25maWcub2Zmc2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9mZnNldC5mbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgZGF0YS5vZmZzZXRzID0gX2V4dGVuZHMoe30sIGRhdGEub2Zmc2V0cywgX3RoaXM0LmNvbmZpZy5vZmZzZXQoZGF0YS5vZmZzZXRzLCBfdGhpczQuZWxlbWVudCkgfHwge30pO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Zmc2V0Lm9mZnNldCA9IHRoaXMuY29uZmlnLm9mZnNldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRDb250YWluZXIgPSBmdW5jdGlvbiBfZ2V0Q29udGFpbmVyKCkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmNvbnRhaW5lciA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgICB9XG5cbiAgICAgIGlmIChVdGlsLmlzRWxlbWVudCh0aGlzLmNvbmZpZy5jb250YWluZXIpKSB7XG4gICAgICAgIHJldHVybiAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5jb25maWcuY29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShkb2N1bWVudCkuZmluZCh0aGlzLmNvbmZpZy5jb250YWluZXIpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldEF0dGFjaG1lbnQgPSBmdW5jdGlvbiBfZ2V0QXR0YWNobWVudChwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiBBdHRhY2htZW50TWFwW3BsYWNlbWVudC50b1VwcGVyQ2FzZSgpXTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfc2V0TGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmlnZ2VycyA9IHRoaXMuY29uZmlnLnRyaWdnZXIuc3BsaXQoJyAnKTtcbiAgICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgaWYgKHRyaWdnZXIgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oX3RoaXM1LmVsZW1lbnQpLm9uKF90aGlzNS5jb25zdHJ1Y3Rvci5FdmVudC5DTElDSywgX3RoaXM1LmNvbmZpZy5zZWxlY3RvciwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1LnRvZ2dsZShldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPT0gVFJJR0dFUl9NQU5VQUwpIHtcbiAgICAgICAgICB2YXIgZXZlbnRJbiA9IHRyaWdnZXIgPT09IFRSSUdHRVJfSE9WRVIgPyBfdGhpczUuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUiA6IF90aGlzNS5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU0lOO1xuICAgICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT09IFRSSUdHRVJfSE9WRVIgPyBfdGhpczUuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VMRUFWRSA6IF90aGlzNS5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU09VVDtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oX3RoaXM1LmVsZW1lbnQpLm9uKGV2ZW50SW4sIF90aGlzNS5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5fZW50ZXIoZXZlbnQpO1xuICAgICAgICAgIH0pLm9uKGV2ZW50T3V0LCBfdGhpczUuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczUuX2xlYXZlKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2hpZGVNb2RhbEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczUuZWxlbWVudCkge1xuICAgICAgICAgIF90aGlzNS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLmVsZW1lbnQpLmNsb3Nlc3QoJy5tb2RhbCcpLm9uKCdoaWRlLmJzLm1vZGFsJywgdGhpcy5faGlkZU1vZGFsSGFuZGxlcik7XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IF9leHRlbmRzKHt9LCB0aGlzLmNvbmZpZywge1xuICAgICAgICAgIHRyaWdnZXI6ICdtYW51YWwnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2ZpeFRpdGxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fZml4VGl0bGUgPSBmdW5jdGlvbiBfZml4VGl0bGUoKSB7XG4gICAgICB2YXIgdGl0bGVUeXBlID0gdHlwZW9mIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcblxuICAgICAgaWYgKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgdGl0bGVUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCAnJyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2VudGVyID0gZnVuY3Rpb24gX2VudGVyKGV2ZW50LCBjb250ZXh0KSB7XG4gICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG4gICAgICBjb250ZXh0ID0gY29udGV4dCB8fCAkX19kZWZhdWx0WydkZWZhdWx0J10oZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSwgY29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyW2V2ZW50LnR5cGUgPT09ICdmb2N1c2luJyA/IFRSSUdHRVJfRk9DVVMgOiBUUklHR0VSX0hPVkVSXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICgkX19kZWZhdWx0WydkZWZhdWx0J10oY29udGV4dC5nZXRUaXBFbGVtZW50KCkpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQ0KSB8fCBjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9TSE9XKSB7XG4gICAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIT1ZFUl9TVEFURV9TSE9XO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dChjb250ZXh0Ll90aW1lb3V0KTtcbiAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIT1ZFUl9TVEFURV9TSE9XO1xuXG4gICAgICBpZiAoIWNvbnRleHQuY29uZmlnLmRlbGF5IHx8ICFjb250ZXh0LmNvbmZpZy5kZWxheS5zaG93KSB7XG4gICAgICAgIGNvbnRleHQuc2hvdygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhPVkVSX1NUQVRFX1NIT1cpIHtcbiAgICAgICAgICBjb250ZXh0LnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuc2hvdyk7XG4gICAgfTtcblxuICAgIF9wcm90by5fbGVhdmUgPSBmdW5jdGlvbiBfbGVhdmUoZXZlbnQsIGNvbnRleHQpIHtcbiAgICAgIHZhciBkYXRhS2V5ID0gdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXJbZXZlbnQudHlwZSA9PT0gJ2ZvY3Vzb3V0JyA/IFRSSUdHRVJfRk9DVVMgOiBUUklHR0VSX0hPVkVSXSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhPVkVSX1NUQVRFX09VVDtcblxuICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSkge1xuICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9PVVQpIHtcbiAgICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSk7XG4gICAgfTtcblxuICAgIF9wcm90by5faXNXaXRoQWN0aXZlVHJpZ2dlciA9IGZ1bmN0aW9uIF9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkge1xuICAgICAgZm9yICh2YXIgdHJpZ2dlciBpbiB0aGlzLl9hY3RpdmVUcmlnZ2VyKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVUcmlnZ2VyW3RyaWdnZXJdKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICB2YXIgZGF0YUF0dHJpYnV0ZXMgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5lbGVtZW50KS5kYXRhKCk7XG4gICAgICBPYmplY3Qua2V5cyhkYXRhQXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUF0dHIpIHtcbiAgICAgICAgaWYgKERJU0FMTE9XRURfQVRUUklCVVRFUy5pbmRleE9mKGRhdGFBdHRyKSAhPT0gLTEpIHtcbiAgICAgICAgICBkZWxldGUgZGF0YUF0dHJpYnV0ZXNbZGF0YUF0dHJdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbmZpZyA9IF9leHRlbmRzKHt9LCB0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsIGRhdGFBdHRyaWJ1dGVzLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25maWcuZGVsYXkgPSB7XG4gICAgICAgICAgc2hvdzogY29uZmlnLmRlbGF5LFxuICAgICAgICAgIGhpZGU6IGNvbmZpZy5kZWxheVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy50aXRsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uZmlnLnRpdGxlID0gY29uZmlnLnRpdGxlLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmNvbnRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmZpZy5jb250ZW50ID0gY29uZmlnLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSQ2LCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuXG4gICAgICBpZiAoY29uZmlnLnNhbml0aXplKSB7XG4gICAgICAgIGNvbmZpZy50ZW1wbGF0ZSA9IHNhbml0aXplSHRtbChjb25maWcudGVtcGxhdGUsIGNvbmZpZy53aGl0ZUxpc3QsIGNvbmZpZy5zYW5pdGl6ZUZuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXREZWxlZ2F0ZUNvbmZpZyA9IGZ1bmN0aW9uIF9nZXREZWxlZ2F0ZUNvbmZpZygpIHtcbiAgICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNvbmZpZykge1xuICAgICAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRba2V5XSAhPT0gdGhpcy5jb25maWdba2V5XSkge1xuICAgICAgICAgICAgY29uZmlnW2tleV0gPSB0aGlzLmNvbmZpZ1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2NsZWFuVGlwQ2xhc3MgPSBmdW5jdGlvbiBfY2xlYW5UaXBDbGFzcygpIHtcbiAgICAgIHZhciAkdGlwID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuZ2V0VGlwRWxlbWVudCgpKTtcbiAgICAgIHZhciB0YWJDbGFzcyA9ICR0aXAuYXR0cignY2xhc3MnKS5tYXRjaChCU0NMU19QUkVGSVhfUkVHRVgpO1xuXG4gICAgICBpZiAodGFiQ2xhc3MgIT09IG51bGwgJiYgdGFiQ2xhc3MubGVuZ3RoKSB7XG4gICAgICAgICR0aXAucmVtb3ZlQ2xhc3ModGFiQ2xhc3Muam9pbignJykpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UocG9wcGVyRGF0YSkge1xuICAgICAgdGhpcy50aXAgPSBwb3BwZXJEYXRhLmluc3RhbmNlLnBvcHBlcjtcblxuICAgICAgdGhpcy5fY2xlYW5UaXBDbGFzcygpO1xuXG4gICAgICB0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyh0aGlzLl9nZXRBdHRhY2htZW50KHBvcHBlckRhdGEucGxhY2VtZW50KSk7XG4gICAgfTtcblxuICAgIF9wcm90by5fZml4VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIF9maXhUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgdmFyIGluaXRDb25maWdBbmltYXRpb24gPSB0aGlzLmNvbmZpZy5hbmltYXRpb247XG5cbiAgICAgIGlmICh0aXAuZ2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcpICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRpcCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDIpO1xuICAgICAgdGhpcy5jb25maWcuYW5pbWF0aW9uID0gZmFsc2U7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgdGhpcy5jb25maWcuYW5pbWF0aW9uID0gaW5pdENvbmZpZ0FuaW1hdGlvbjtcbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMpO1xuICAgICAgICB2YXIgZGF0YSA9ICRlbGVtZW50LmRhdGEoREFUQV9LRVkkNik7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWc7XG5cbiAgICAgICAgaWYgKCFkYXRhICYmIC9kaXNwb3NlfGhpZGUvLnRlc3QoY29uZmlnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZJDYsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUb29sdGlwLCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiQ2O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQkNDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiTkFNRVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBOQU1FJDY7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRBVEFfS0VZXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERBVEFfS0VZJDY7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkV2ZW50XCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJFVkVOVF9LRVlcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRVZFTlRfS0VZJDY7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRUeXBlXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlJDQ7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRvb2x0aXA7XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkNl0gPSBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2U7XG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDZdLkNvbnN0cnVjdG9yID0gVG9vbHRpcDtcblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ2XS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDZdID0gSlFVRVJZX05PX0NPTkZMSUNUJDY7XG4gICAgcmV0dXJuIFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUkNyA9ICdwb3BvdmVyJztcbiAgdmFyIFZFUlNJT04kNyA9ICc0LjUuMyc7XG4gIHZhciBEQVRBX0tFWSQ3ID0gJ2JzLnBvcG92ZXInO1xuICB2YXIgRVZFTlRfS0VZJDcgPSBcIi5cIiArIERBVEFfS0VZJDc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkNyA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDddO1xuICB2YXIgQ0xBU1NfUFJFRklYJDEgPSAnYnMtcG9wb3Zlcic7XG4gIHZhciBCU0NMU19QUkVGSVhfUkVHRVgkMSA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIENMQVNTX1BSRUZJWCQxICsgXCJcXFxcUytcIiwgJ2cnKTtcblxuICB2YXIgRGVmYXVsdCQ1ID0gX2V4dGVuZHMoe30sIFRvb2x0aXAuRGVmYXVsdCwge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPicgKyAnPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+JyArICc8aDMgY2xhc3M9XCJwb3BvdmVyLWhlYWRlclwiPjwvaDM+JyArICc8ZGl2IGNsYXNzPVwicG9wb3Zlci1ib2R5XCI+PC9kaXY+PC9kaXY+J1xuICB9KTtcblxuICB2YXIgRGVmYXVsdFR5cGUkNSA9IF9leHRlbmRzKHt9LCBUb29sdGlwLkRlZmF1bHRUeXBlLCB7XG4gICAgY29udGVudDogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknXG4gIH0pO1xuXG4gIHZhciBDTEFTU19OQU1FX0ZBREUkMyA9ICdmYWRlJztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyQ1ID0gJ3Nob3cnO1xuICB2YXIgU0VMRUNUT1JfVElUTEUgPSAnLnBvcG92ZXItaGVhZGVyJztcbiAgdmFyIFNFTEVDVE9SX0NPTlRFTlQgPSAnLnBvcG92ZXItYm9keSc7XG4gIHZhciBFdmVudCQxID0ge1xuICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZJDcsXG4gICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZJDcsXG4gICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVkkNyxcbiAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZJDcsXG4gICAgSU5TRVJURUQ6IFwiaW5zZXJ0ZWRcIiArIEVWRU5UX0tFWSQ3LFxuICAgIENMSUNLOiBcImNsaWNrXCIgKyBFVkVOVF9LRVkkNyxcbiAgICBGT0NVU0lOOiBcImZvY3VzaW5cIiArIEVWRU5UX0tFWSQ3LFxuICAgIEZPQ1VTT1VUOiBcImZvY3Vzb3V0XCIgKyBFVkVOVF9LRVkkNyxcbiAgICBNT1VTRUVOVEVSOiBcIm1vdXNlZW50ZXJcIiArIEVWRU5UX0tFWSQ3LFxuICAgIE1PVVNFTEVBVkU6IFwibW91c2VsZWF2ZVwiICsgRVZFTlRfS0VZJDdcbiAgfTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgUG9wb3ZlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Rvb2x0aXApIHtcbiAgICBfaW5oZXJpdHNMb29zZShQb3BvdmVyLCBfVG9vbHRpcCk7XG5cbiAgICBmdW5jdGlvbiBQb3BvdmVyKCkge1xuICAgICAgcmV0dXJuIF9Ub29sdGlwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gUG9wb3Zlci5wcm90b3R5cGU7XG5cbiAgICAvLyBPdmVycmlkZXNcbiAgICBfcHJvdG8uaXNXaXRoQ29udGVudCA9IGZ1bmN0aW9uIGlzV2l0aENvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuX2dldENvbnRlbnQoKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmFkZEF0dGFjaG1lbnRDbGFzcyA9IGZ1bmN0aW9uIGFkZEF0dGFjaG1lbnRDbGFzcyhhdHRhY2htZW50KSB7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKENMQVNTX1BSRUZJWCQxICsgXCItXCIgKyBhdHRhY2htZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmdldFRpcEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUaXBFbGVtZW50KCkge1xuICAgICAgdGhpcy50aXAgPSB0aGlzLnRpcCB8fCAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5jb25maWcudGVtcGxhdGUpWzBdO1xuICAgICAgcmV0dXJuIHRoaXMudGlwO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2V0Q29udGVudCA9IGZ1bmN0aW9uIHNldENvbnRlbnQoKSB7XG4gICAgICB2YXIgJHRpcCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLmdldFRpcEVsZW1lbnQoKSk7IC8vIFdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcblxuICAgICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkdGlwLmZpbmQoU0VMRUNUT1JfVElUTEUpLCB0aGlzLmdldFRpdGxlKCkpO1xuXG4gICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENvbnRlbnQoKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LmNhbGwodGhpcy5lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkdGlwLmZpbmQoU0VMRUNUT1JfQ09OVEVOVCksIGNvbnRlbnQpO1xuICAgICAgJHRpcC5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0ZBREUkMyArIFwiIFwiICsgQ0xBU1NfTkFNRV9TSE9XJDUpO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29udGVudCA9IGZ1bmN0aW9uIF9nZXRDb250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29udGVudCcpIHx8IHRoaXMuY29uZmlnLmNvbnRlbnQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2xlYW5UaXBDbGFzcyA9IGZ1bmN0aW9uIF9jbGVhblRpcENsYXNzKCkge1xuICAgICAgdmFyICR0aXAgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5nZXRUaXBFbGVtZW50KCkpO1xuICAgICAgdmFyIHRhYkNsYXNzID0gJHRpcC5hdHRyKCdjbGFzcycpLm1hdGNoKEJTQ0xTX1BSRUZJWF9SRUdFWCQxKTtcblxuICAgICAgaWYgKHRhYkNsYXNzICE9PSBudWxsICYmIHRhYkNsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJHRpcC5yZW1vdmVDbGFzcyh0YWJDbGFzcy5qb2luKCcnKSk7XG4gICAgICB9XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMpLmRhdGEoREFUQV9LRVkkNyk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IG51bGw7XG5cbiAgICAgICAgaWYgKCFkYXRhICYmIC9kaXNwb3NlfGhpZGUvLnRlc3QoY29uZmlnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgUG9wb3Zlcih0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcykuZGF0YShEQVRBX0tFWSQ3LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUG9wb3ZlciwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAvLyBHZXR0ZXJzXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kNztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIk5BTUVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gTkFNRSQ3O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEQVRBX0tFWVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEQVRBX0tFWSQ3O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJFdmVudFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBFdmVudCQxO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJFVkVOVF9LRVlcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRVZFTlRfS0VZJDc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRUeXBlXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlJDU7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBvcG92ZXI7XG4gIH0oVG9vbHRpcCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogalF1ZXJ5XG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDddID0gUG9wb3Zlci5falF1ZXJ5SW50ZXJmYWNlO1xuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ3XS5Db25zdHJ1Y3RvciA9IFBvcG92ZXI7XG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkN10ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ3XSA9IEpRVUVSWV9OT19DT05GTElDVCQ3O1xuICAgIHJldHVybiBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FJDggPSAnc2Nyb2xsc3B5JztcbiAgdmFyIFZFUlNJT04kOCA9ICc0LjUuMyc7XG4gIHZhciBEQVRBX0tFWSQ4ID0gJ2JzLnNjcm9sbHNweSc7XG4gIHZhciBFVkVOVF9LRVkkOCA9IFwiLlwiICsgREFUQV9LRVkkODtcbiAgdmFyIERBVEFfQVBJX0tFWSQ2ID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkOCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDhdO1xuICB2YXIgRGVmYXVsdCQ2ID0ge1xuICAgIG9mZnNldDogMTAsXG4gICAgbWV0aG9kOiAnYXV0bycsXG4gICAgdGFyZ2V0OiAnJ1xuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkNiA9IHtcbiAgICBvZmZzZXQ6ICdudW1iZXInLFxuICAgIG1ldGhvZDogJ3N0cmluZycsXG4gICAgdGFyZ2V0OiAnKHN0cmluZ3xlbGVtZW50KSdcbiAgfTtcbiAgdmFyIEVWRU5UX0FDVElWQVRFID0gXCJhY3RpdmF0ZVwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9TQ1JPTEwgPSBcInNjcm9sbFwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9MT0FEX0RBVEFfQVBJJDIgPSBcImxvYWRcIiArIEVWRU5UX0tFWSQ4ICsgREFUQV9BUElfS0VZJDY7XG4gIHZhciBDTEFTU19OQU1FX0RST1BET1dOX0lURU0gPSAnZHJvcGRvd24taXRlbSc7XG4gIHZhciBDTEFTU19OQU1FX0FDVElWRSQyID0gJ2FjdGl2ZSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1NQWSA9ICdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nO1xuICB2YXIgU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVAgPSAnLm5hdiwgLmxpc3QtZ3JvdXAnO1xuICB2YXIgU0VMRUNUT1JfTkFWX0xJTktTID0gJy5uYXYtbGluayc7XG4gIHZhciBTRUxFQ1RPUl9OQVZfSVRFTVMgPSAnLm5hdi1pdGVtJztcbiAgdmFyIFNFTEVDVE9SX0xJU1RfSVRFTVMgPSAnLmxpc3QtZ3JvdXAtaXRlbSc7XG4gIHZhciBTRUxFQ1RPUl9EUk9QRE9XTiA9ICcuZHJvcGRvd24nO1xuICB2YXIgU0VMRUNUT1JfRFJPUERPV05fSVRFTVMgPSAnLmRyb3Bkb3duLWl0ZW0nO1xuICB2YXIgU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFID0gJy5kcm9wZG93bi10b2dnbGUnO1xuICB2YXIgTUVUSE9EX09GRlNFVCA9ICdvZmZzZXQnO1xuICB2YXIgTUVUSE9EX1BPU0lUSU9OID0gJ3Bvc2l0aW9uJztcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgU2Nyb2xsU3B5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX3Njcm9sbEVsZW1lbnQgPSBlbGVtZW50LnRhZ05hbWUgPT09ICdCT0RZJyA/IHdpbmRvdyA6IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX3NlbGVjdG9yID0gdGhpcy5fY29uZmlnLnRhcmdldCArIFwiIFwiICsgU0VMRUNUT1JfTkFWX0xJTktTICsgXCIsXCIgKyAodGhpcy5fY29uZmlnLnRhcmdldCArIFwiIFwiICsgU0VMRUNUT1JfTElTVF9JVEVNUyArIFwiLFwiKSArICh0aGlzLl9jb25maWcudGFyZ2V0ICsgXCIgXCIgKyBTRUxFQ1RPUl9EUk9QRE9XTl9JVEVNUyk7XG4gICAgICB0aGlzLl9vZmZzZXRzID0gW107XG4gICAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gMDtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9zY3JvbGxFbGVtZW50KS5vbihFVkVOVF9TQ1JPTEwsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX3Byb2Nlc3MoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlZnJlc2goKTtcblxuICAgICAgdGhpcy5fcHJvY2VzcygpO1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gU2Nyb2xsU3B5LnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgYXV0b01ldGhvZCA9IHRoaXMuX3Njcm9sbEVsZW1lbnQgPT09IHRoaXMuX3Njcm9sbEVsZW1lbnQud2luZG93ID8gTUVUSE9EX09GRlNFVCA6IE1FVEhPRF9QT1NJVElPTjtcbiAgICAgIHZhciBvZmZzZXRNZXRob2QgPSB0aGlzLl9jb25maWcubWV0aG9kID09PSAnYXV0bycgPyBhdXRvTWV0aG9kIDogdGhpcy5fY29uZmlnLm1ldGhvZDtcbiAgICAgIHZhciBvZmZzZXRCYXNlID0gb2Zmc2V0TWV0aG9kID09PSBNRVRIT0RfUE9TSVRJT04gPyB0aGlzLl9nZXRTY3JvbGxUb3AoKSA6IDA7XG4gICAgICB0aGlzLl9vZmZzZXRzID0gW107XG4gICAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgICB0aGlzLl9zY3JvbGxIZWlnaHQgPSB0aGlzLl9nZXRTY3JvbGxIZWlnaHQoKTtcbiAgICAgIHZhciB0YXJnZXRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NlbGVjdG9yKSk7XG4gICAgICB0YXJnZXRzLm1hcChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgdGFyZ2V0O1xuICAgICAgICB2YXIgdGFyZ2V0U2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHRhcmdldFNlbGVjdG9yKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgdmFyIHRhcmdldEJDUiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgIGlmICh0YXJnZXRCQ1Iud2lkdGggfHwgdGFyZ2V0QkNSLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gVE9ETyAoZmF0KTogcmVtb3ZlIHNrZXRjaCByZWxpYW5jZSBvbiBqUXVlcnkgcG9zaXRpb24vb2Zmc2V0XG4gICAgICAgICAgICByZXR1cm4gWyRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0YXJnZXQpW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCB0YXJnZXRTZWxlY3Rvcl07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhWzBdIC0gYlswXTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgX3RoaXMyLl9vZmZzZXRzLnB1c2goaXRlbVswXSk7XG5cbiAgICAgICAgX3RoaXMyLl90YXJnZXRzLnB1c2goaXRlbVsxXSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkOCk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fc2Nyb2xsRWxlbWVudCkub2ZmKEVWRU5UX0tFWSQ4KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy5fc2VsZWN0b3IgPSBudWxsO1xuICAgICAgdGhpcy5fb2Zmc2V0cyA9IG51bGw7XG4gICAgICB0aGlzLl90YXJnZXRzID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZVRhcmdldCA9IG51bGw7XG4gICAgICB0aGlzLl9zY3JvbGxIZWlnaHQgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9leHRlbmRzKHt9LCBEZWZhdWx0JDYsIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcudGFyZ2V0ICE9PSAnc3RyaW5nJyAmJiBVdGlsLmlzRWxlbWVudChjb25maWcudGFyZ2V0KSkge1xuICAgICAgICB2YXIgaWQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10oY29uZmlnLnRhcmdldCkuYXR0cignaWQnKTtcblxuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgaWQgPSBVdGlsLmdldFVJRChOQU1FJDgpO1xuICAgICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShjb25maWcudGFyZ2V0KS5hdHRyKCdpZCcsIGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy50YXJnZXQgPSBcIiNcIiArIGlkO1xuICAgICAgfVxuXG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FJDgsIGNvbmZpZywgRGVmYXVsdFR5cGUkNik7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldFNjcm9sbFRvcCA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxUb3AoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudCA9PT0gd2luZG93ID8gdGhpcy5fc2Nyb2xsRWxlbWVudC5wYWdlWU9mZnNldCA6IHRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudC5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldE9mZnNldEhlaWdodCA9IGZ1bmN0aW9uIF9nZXRPZmZzZXRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudCA9PT0gd2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogdGhpcy5fc2Nyb2xsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fcHJvY2VzcyA9IGZ1bmN0aW9uIF9wcm9jZXNzKCkge1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuX2dldFNjcm9sbFRvcCgpICsgdGhpcy5fY29uZmlnLm9mZnNldDtcblxuICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuX2dldFNjcm9sbEhlaWdodCgpO1xuXG4gICAgICB2YXIgbWF4U2Nyb2xsID0gdGhpcy5fY29uZmlnLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuX2dldE9mZnNldEhlaWdodCgpO1xuXG4gICAgICBpZiAodGhpcy5fc2Nyb2xsSGVpZ2h0ICE9PSBzY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXRzW3RoaXMuX3RhcmdldHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgdGhpcy5fYWN0aXZhdGUodGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPCB0aGlzLl9vZmZzZXRzWzBdICYmIHRoaXMuX29mZnNldHNbMF0gPiAwKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fY2xlYXIoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9vZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICB2YXIgaXNBY3RpdmVUYXJnZXQgPSB0aGlzLl9hY3RpdmVUYXJnZXQgIT09IHRoaXMuX3RhcmdldHNbaV0gJiYgc2Nyb2xsVG9wID49IHRoaXMuX29mZnNldHNbaV0gJiYgKHR5cGVvZiB0aGlzLl9vZmZzZXRzW2kgKyAxXSA9PT0gJ3VuZGVmaW5lZCcgfHwgc2Nyb2xsVG9wIDwgdGhpcy5fb2Zmc2V0c1tpICsgMV0pO1xuXG4gICAgICAgIGlmIChpc0FjdGl2ZVRhcmdldCkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2YXRlKHRoaXMuX3RhcmdldHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fYWN0aXZhdGUgPSBmdW5jdGlvbiBfYWN0aXZhdGUodGFyZ2V0KSB7XG4gICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgIHRoaXMuX2NsZWFyKCk7XG5cbiAgICAgIHZhciBxdWVyaWVzID0gdGhpcy5fc2VsZWN0b3Iuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RvciArIFwiW2RhdGEtdGFyZ2V0PVxcXCJcIiArIHRhcmdldCArIFwiXFxcIl0sXCIgKyBzZWxlY3RvciArIFwiW2hyZWY9XFxcIlwiICsgdGFyZ2V0ICsgXCJcXFwiXVwiO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciAkbGluayA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcmllcy5qb2luKCcsJykpKSk7XG5cbiAgICAgIGlmICgkbGluay5oYXNDbGFzcyhDTEFTU19OQU1FX0RST1BET1dOX0lURU0pKSB7XG4gICAgICAgICRsaW5rLmNsb3Nlc3QoU0VMRUNUT1JfRFJPUERPV04pLmZpbmQoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFKS5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgICAgJGxpbmsuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTZXQgdHJpZ2dlcmVkIGxpbmsgYXMgYWN0aXZlXG4gICAgICAgICRsaW5rLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDIpOyAvLyBTZXQgdHJpZ2dlcmVkIGxpbmtzIHBhcmVudHMgYXMgYWN0aXZlXG4gICAgICAgIC8vIFdpdGggYm90aCA8dWw+IGFuZCA8bmF2PiBtYXJrdXAgYSBwYXJlbnQgaXMgdGhlIHByZXZpb3VzIHNpYmxpbmcgb2YgYW55IG5hdiBhbmNlc3RvclxuXG4gICAgICAgICRsaW5rLnBhcmVudHMoU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVApLnByZXYoU0VMRUNUT1JfTkFWX0xJTktTICsgXCIsIFwiICsgU0VMRUNUT1JfTElTVF9JVEVNUykuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7IC8vIEhhbmRsZSBzcGVjaWFsIGNhc2Ugd2hlbiAubmF2LWxpbmsgaXMgaW5zaWRlIC5uYXYtaXRlbVxuXG4gICAgICAgICRsaW5rLnBhcmVudHMoU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVApLnByZXYoU0VMRUNUT1JfTkFWX0lURU1TKS5jaGlsZHJlbihTRUxFQ1RPUl9OQVZfTElOS1MpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDIpO1xuICAgICAgfVxuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fc2Nyb2xsRWxlbWVudCkudHJpZ2dlcihFVkVOVF9BQ1RJVkFURSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiB0YXJnZXRcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2NsZWFyID0gZnVuY3Rpb24gX2NsZWFyKCkge1xuICAgICAgW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NlbGVjdG9yKSkuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMpLmRhdGEoREFUQV9LRVkkOCk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWc7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMpLmRhdGEoREFUQV9LRVkkOCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFNjcm9sbFNweSwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kODtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDY7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNjcm9sbFNweTtcbiAgfSgpO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh3aW5kb3cpLm9uKEVWRU5UX0xPQURfREFUQV9BUEkkMiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxTcHlzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0RBVEFfU1BZKSk7XG4gICAgdmFyIHNjcm9sbFNweXNMZW5ndGggPSBzY3JvbGxTcHlzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSBzY3JvbGxTcHlzTGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgJHNweSA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShzY3JvbGxTcHlzW2ldKTtcblxuICAgICAgU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDhdID0gU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2U7XG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDhdLkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5O1xuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDhdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkOF0gPSBKUVVFUllfTk9fQ09ORkxJQ1QkODtcbiAgICByZXR1cm4gU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FJDkgPSAndGFiJztcbiAgdmFyIFZFUlNJT04kOSA9ICc0LjUuMyc7XG4gIHZhciBEQVRBX0tFWSQ5ID0gJ2JzLnRhYic7XG4gIHZhciBFVkVOVF9LRVkkOSA9IFwiLlwiICsgREFUQV9LRVkkOTtcbiAgdmFyIERBVEFfQVBJX0tFWSQ3ID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkOSA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJDldO1xuICB2YXIgRVZFTlRfSElERSQzID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkOTtcbiAgdmFyIEVWRU5UX0hJRERFTiQzID0gXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ5O1xuICB2YXIgRVZFTlRfU0hPVyQzID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkOTtcbiAgdmFyIEVWRU5UX1NIT1dOJDMgPSBcInNob3duXCIgKyBFVkVOVF9LRVkkOTtcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDYgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkOSArIERBVEFfQVBJX0tFWSQ3O1xuICB2YXIgQ0xBU1NfTkFNRV9EUk9QRE9XTl9NRU5VID0gJ2Ryb3Bkb3duLW1lbnUnO1xuICB2YXIgQ0xBU1NfTkFNRV9BQ1RJVkUkMyA9ICdhY3RpdmUnO1xuICB2YXIgQ0xBU1NfTkFNRV9ESVNBQkxFRCQxID0gJ2Rpc2FibGVkJztcbiAgdmFyIENMQVNTX05BTUVfRkFERSQ0ID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDYgPSAnc2hvdyc7XG4gIHZhciBTRUxFQ1RPUl9EUk9QRE9XTiQxID0gJy5kcm9wZG93bic7XG4gIHZhciBTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCQxID0gJy5uYXYsIC5saXN0LWdyb3VwJztcbiAgdmFyIFNFTEVDVE9SX0FDVElWRSQyID0gJy5hY3RpdmUnO1xuICB2YXIgU0VMRUNUT1JfQUNUSVZFX1VMID0gJz4gbGkgPiAuYWN0aXZlJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDQgPSAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdLCBbZGF0YS10b2dnbGU9XCJsaXN0XCJdJztcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSQxID0gJy5kcm9wZG93bi10b2dnbGUnO1xuICB2YXIgU0VMRUNUT1JfRFJPUERPV05fQUNUSVZFX0NISUxEID0gJz4gLmRyb3Bkb3duLW1lbnUgLmFjdGl2ZSc7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFRhYiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGFiKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gVGFiLnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUgJiYgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMykgfHwgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRElTQUJMRUQkMSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0O1xuICAgICAgdmFyIHByZXZpb3VzO1xuICAgICAgdmFyIGxpc3RFbGVtZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QoU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVAkMSlbMF07XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgIGlmIChsaXN0RWxlbWVudCkge1xuICAgICAgICB2YXIgaXRlbVNlbGVjdG9yID0gbGlzdEVsZW1lbnQubm9kZU5hbWUgPT09ICdVTCcgfHwgbGlzdEVsZW1lbnQubm9kZU5hbWUgPT09ICdPTCcgPyBTRUxFQ1RPUl9BQ1RJVkVfVUwgOiBTRUxFQ1RPUl9BQ1RJVkUkMjtcbiAgICAgICAgcHJldmlvdXMgPSAkX19kZWZhdWx0WydkZWZhdWx0J10ubWFrZUFycmF5KCRfX2RlZmF1bHRbJ2RlZmF1bHQnXShsaXN0RWxlbWVudCkuZmluZChpdGVtU2VsZWN0b3IpKTtcbiAgICAgICAgcHJldmlvdXMgPSBwcmV2aW91c1twcmV2aW91cy5sZW5ndGggLSAxXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpZGVFdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9ISURFJDMsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgICAgfSk7XG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX1NIT1ckMywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ocHJldmlvdXMpLnRyaWdnZXIoaGlkZUV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsIGxpc3RFbGVtZW50KTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIHZhciBoaWRkZW5FdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9ISURERU4kMywge1xuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IF90aGlzLl9lbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc2hvd25FdmVudCA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5FdmVudChFVkVOVF9TSE9XTiQzLCB7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICAgICAgfSk7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShwcmV2aW91cykudHJpZ2dlcihoaWRkZW5FdmVudCk7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXShfdGhpcy5fZWxlbWVudCkudHJpZ2dlcihzaG93bkV2ZW50KTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGUodGFyZ2V0LCB0YXJnZXQucGFyZW50Tm9kZSwgY29tcGxldGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkOSk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2FjdGl2YXRlID0gZnVuY3Rpb24gX2FjdGl2YXRlKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgYWN0aXZlRWxlbWVudHMgPSBjb250YWluZXIgJiYgKGNvbnRhaW5lci5ub2RlTmFtZSA9PT0gJ1VMJyB8fCBjb250YWluZXIubm9kZU5hbWUgPT09ICdPTCcpID8gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGNvbnRhaW5lcikuZmluZChTRUxFQ1RPUl9BQ1RJVkVfVUwpIDogJF9fZGVmYXVsdFsnZGVmYXVsdCddKGNvbnRhaW5lcikuY2hpbGRyZW4oU0VMRUNUT1JfQUNUSVZFJDIpO1xuICAgICAgdmFyIGFjdGl2ZSA9IGFjdGl2ZUVsZW1lbnRzWzBdO1xuICAgICAgdmFyIGlzVHJhbnNpdGlvbmluZyA9IGNhbGxiYWNrICYmIGFjdGl2ZSAmJiAkX19kZWZhdWx0WydkZWZhdWx0J10oYWN0aXZlKS5oYXNDbGFzcyhDTEFTU19OQU1FX0ZBREUkNCk7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLl90cmFuc2l0aW9uQ29tcGxldGUoZWxlbWVudCwgYWN0aXZlLCBjYWxsYmFjayk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoYWN0aXZlICYmIGlzVHJhbnNpdGlvbmluZykge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChhY3RpdmUpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oYWN0aXZlKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX1NIT1ckNikub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl90cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiBfdHJhbnNpdGlvbkNvbXBsZXRlKGVsZW1lbnQsIGFjdGl2ZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGFjdGl2ZSkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMyk7XG4gICAgICAgIHZhciBkcm9wZG93bkNoaWxkID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddKGFjdGl2ZS5wYXJlbnROb2RlKS5maW5kKFNFTEVDVE9SX0RST1BET1dOX0FDVElWRV9DSElMRClbMF07XG5cbiAgICAgICAgaWYgKGRyb3Bkb3duQ2hpbGQpIHtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZHJvcGRvd25DaGlsZCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlLmdldEF0dHJpYnV0ZSgncm9sZScpID09PSAndGFiJykge1xuICAgICAgICAgIGFjdGl2ZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGVsZW1lbnQpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDMpO1xuXG4gICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ3RhYicpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgVXRpbC5yZWZsb3coZWxlbWVudCk7XG5cbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0ZBREUkNCkpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQ2KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAmJiAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudC5wYXJlbnROb2RlKS5oYXNDbGFzcyhDTEFTU19OQU1FX0RST1BET1dOX01FTlUpKSB7XG4gICAgICAgIHZhciBkcm9wZG93bkVsZW1lbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10oZWxlbWVudCkuY2xvc2VzdChTRUxFQ1RPUl9EUk9QRE9XTiQxKVswXTtcblxuICAgICAgICBpZiAoZHJvcGRvd25FbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duVG9nZ2xlTGlzdCA9IFtdLnNsaWNlLmNhbGwoZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFJDEpKTtcbiAgICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oZHJvcGRvd25Ub2dnbGVMaXN0KS5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgVGFiLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzKTtcbiAgICAgICAgdmFyIGRhdGEgPSAkdGhpcy5kYXRhKERBVEFfS0VZJDkpO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgVGFiKHRoaXMpO1xuICAgICAgICAgICR0aGlzLmRhdGEoREFUQV9LRVkkOSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYiwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kOTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGFiO1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQ2LCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQ0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgVGFiLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcyksICdzaG93Jyk7XG4gIH0pO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkOV0gPSBUYWIuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkOV0uQ29uc3RydWN0b3IgPSBUYWI7XG5cbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkOV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSQ5XSA9IEpRVUVSWV9OT19DT05GTElDVCQ5O1xuICAgIHJldHVybiBUYWIuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUkYSA9ICd0b2FzdCc7XG4gIHZhciBWRVJTSU9OJGEgPSAnNC41LjMnO1xuICB2YXIgREFUQV9LRVkkYSA9ICdicy50b2FzdCc7XG4gIHZhciBFVkVOVF9LRVkkYSA9IFwiLlwiICsgREFUQV9LRVkkYTtcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCRhID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkYV07XG4gIHZhciBFVkVOVF9DTElDS19ESVNNSVNTJDEgPSBcImNsaWNrLmRpc21pc3NcIiArIEVWRU5UX0tFWSRhO1xuICB2YXIgRVZFTlRfSElERSQ0ID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIEVWRU5UX0hJRERFTiQ0ID0gXCJoaWRkZW5cIiArIEVWRU5UX0tFWSRhO1xuICB2YXIgRVZFTlRfU0hPVyQ0ID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIEVWRU5UX1NIT1dOJDQgPSBcInNob3duXCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIENMQVNTX05BTUVfRkFERSQ1ID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9ISURFID0gJ2hpZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDcgPSAnc2hvdyc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1dJTkcgPSAnc2hvd2luZyc7XG4gIHZhciBEZWZhdWx0VHlwZSQ3ID0ge1xuICAgIGFuaW1hdGlvbjogJ2Jvb2xlYW4nLFxuICAgIGF1dG9oaWRlOiAnYm9vbGVhbicsXG4gICAgZGVsYXk6ICdudW1iZXInXG4gIH07XG4gIHZhciBEZWZhdWx0JDcgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIGF1dG9oaWRlOiB0cnVlLFxuICAgIGRlbGF5OiA1MDBcbiAgfTtcbiAgdmFyIFNFTEVDVE9SX0RBVEFfRElTTUlTUyQxID0gJ1tkYXRhLWRpc21pc3M9XCJ0b2FzdFwiXSc7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFRvYXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb2FzdChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcblxuICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBUb2FzdC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJF9fZGVmYXVsdFsnZGVmYXVsdCddLkV2ZW50KEVWRU5UX1NIT1ckNCk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2xlYXJUaW1lb3V0KCk7XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0ZBREUkNSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICBfdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPV0lORyk7XG5cbiAgICAgICAgX3RoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1ckNyk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKF90aGlzLl9lbGVtZW50KS50cmlnZ2VyKEVWRU5UX1NIT1dOJDQpO1xuXG4gICAgICAgIGlmIChfdGhpcy5fY29uZmlnLmF1dG9oaWRlKSB7XG4gICAgICAgICAgX3RoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgICAgICB9LCBfdGhpcy5fY29uZmlnLmRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfSElERSk7XG5cbiAgICAgIFV0aWwucmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XSU5HKTtcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBpZiAoIXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVyQ3KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBoaWRlRXZlbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10uRXZlbnQoRVZFTlRfSElERSQ0KTtcbiAgICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB0aGlzLl9jbGVhclRpbWVvdXQoKTtcblxuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVyQ3KSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XJDcpO1xuICAgICAgfVxuXG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0NMSUNLX0RJU01JU1MkMSk7XG4gICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSRhKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSBfZXh0ZW5kcyh7fSwgRGVmYXVsdCQ3LCAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkuZGF0YSgpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FJGEsIGNvbmZpZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldExpc3RlbmVycyA9IGZ1bmN0aW9uIF9zZXRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgJF9fZGVmYXVsdFsnZGVmYXVsdCddKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0NMSUNLX0RJU01JU1MkMSwgU0VMRUNUT1JfREFUQV9ESVNNSVNTJDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5oaWRlKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9jbG9zZSA9IGZ1bmN0aW9uIF9jbG9zZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgX3RoaXMzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9ISURFKTtcblxuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10oX3RoaXMzLl9lbGVtZW50KS50cmlnZ2VyKEVWRU5UX0hJRERFTiQ0KTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckNyk7XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9jbGVhclRpbWVvdXQgPSBmdW5jdGlvbiBfY2xlYXJUaW1lb3V0KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBUb2FzdC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkX19kZWZhdWx0WydkZWZhdWx0J10odGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShEQVRBX0tFWSRhKTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZztcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IFRvYXN0KHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICRlbGVtZW50LmRhdGEoREFUQV9LRVkkYSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUb2FzdCwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kYTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGUkNztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDc7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRvYXN0O1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogalF1ZXJ5XG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJGFdID0gVG9hc3QuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFsnZGVmYXVsdCddLmZuW05BTUUkYV0uQ29uc3RydWN0b3IgPSBUb2FzdDtcblxuICAkX19kZWZhdWx0WydkZWZhdWx0J10uZm5bTkFNRSRhXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbJ2RlZmF1bHQnXS5mbltOQU1FJGFdID0gSlFVRVJZX05PX0NPTkZMSUNUJGE7XG4gICAgcmV0dXJuIFRvYXN0Ll9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgZXhwb3J0cy5BbGVydCA9IEFsZXJ0O1xuICBleHBvcnRzLkJ1dHRvbiA9IEJ1dHRvbjtcbiAgZXhwb3J0cy5DYXJvdXNlbCA9IENhcm91c2VsO1xuICBleHBvcnRzLkNvbGxhcHNlID0gQ29sbGFwc2U7XG4gIGV4cG9ydHMuRHJvcGRvd24gPSBEcm9wZG93bjtcbiAgZXhwb3J0cy5Nb2RhbCA9IE1vZGFsO1xuICBleHBvcnRzLlBvcG92ZXIgPSBQb3BvdmVyO1xuICBleHBvcnRzLlNjcm9sbHNweSA9IFNjcm9sbFNweTtcbiAgZXhwb3J0cy5UYWIgPSBUYWI7XG4gIGV4cG9ydHMuVG9hc3QgPSBUb2FzdDtcbiAgZXhwb3J0cy5Ub29sdGlwID0gVG9vbHRpcDtcbiAgZXhwb3J0cy5VdGlsID0gVXRpbDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuXG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBib290c3RyYXAtdHlwZWFoZWFkLmpzIHYyLjMuMlxuICogaHR0cDovL3R3YnMuZ2l0aHViLmNvbS9ib290c3RyYXAvamF2YXNjcmlwdC5odG1sI3R5cGVhaGVhZFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTMgVHdpdHRlciwgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuIWZ1bmN0aW9uKCQpe1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7IC8vIGpzaGludCA7XztcbiAgXG4gIFxuICAgLyogVFlQRUFIRUFEIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgXG4gICAgdmFyIFR5cGVhaGVhZCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4udHlwZWFoZWFkLmRlZmF1bHRzLCBvcHRpb25zKVxuICAgICAgdGhpcy5tYXRjaGVyID0gdGhpcy5vcHRpb25zLm1hdGNoZXIgfHwgdGhpcy5tYXRjaGVyXG4gICAgICB0aGlzLnNvcnRlciA9IHRoaXMub3B0aW9ucy5zb3J0ZXIgfHwgdGhpcy5zb3J0ZXJcbiAgICAgIHRoaXMuaGlnaGxpZ2h0ZXIgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0ZXIgfHwgdGhpcy5oaWdobGlnaHRlclxuICAgICAgdGhpcy51cGRhdGVyID0gdGhpcy5vcHRpb25zLnVwZGF0ZXIgfHwgdGhpcy51cGRhdGVyXG4gICAgICB0aGlzLnNvdXJjZSA9IHRoaXMub3B0aW9ucy5zb3VyY2VcbiAgICAgIHRoaXMuJG1lbnUgPSAkKHRoaXMub3B0aW9ucy5tZW51KVxuICAgICAgdGhpcy5zaG93biA9IGZhbHNlXG4gICAgICB0aGlzLmxpc3RlbigpXG4gICAgfVxuICBcbiAgICBUeXBlYWhlYWQucHJvdG90eXBlID0ge1xuICBcbiAgICAgIGNvbnN0cnVjdG9yOiBUeXBlYWhlYWRcbiAgXG4gICAgLCBzZWxlY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuJG1lbnUuZmluZCgnLmFjdGl2ZScpLmF0dHIoJ2RhdGEtdmFsdWUnKVxuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnZhbCh0aGlzLnVwZGF0ZXIodmFsKSlcbiAgICAgICAgICAuY2hhbmdlKClcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZSgpXG4gICAgICB9XG4gIFxuICAgICwgdXBkYXRlcjogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH1cbiAgXG4gICAgLCBzaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb3MgPSAkLmV4dGVuZCh7fSwgdGhpcy4kZWxlbWVudC5wb3NpdGlvbigpLCB7XG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLiRlbGVtZW50WzBdLm9mZnNldEhlaWdodFxuICAgICAgICB9KVxuICBcbiAgICAgICAgdGhpcy4kbWVudVxuICAgICAgICAgIC5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KVxuICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodFxuICAgICAgICAgICwgbGVmdDogcG9zLmxlZnRcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5zaG93KClcbiAgXG4gICAgICAgIHRoaXMuc2hvd24gPSB0cnVlXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgICB9XG4gIFxuICAgICwgaGlkZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLiRtZW51LmhpZGUoKVxuICAgICAgICB0aGlzLnNob3duID0gZmFsc2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH1cbiAgXG4gICAgLCBsb29rdXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgaXRlbXNcbiAgXG4gICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLiRlbGVtZW50LnZhbCgpXG4gIFxuICAgICAgICBpZiAoIXRoaXMucXVlcnkgfHwgdGhpcy5xdWVyeS5sZW5ndGggPCB0aGlzLm9wdGlvbnMubWluTGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXNcbiAgICAgICAgfVxuICBcbiAgICAgICAgaXRlbXMgPSAkLmlzRnVuY3Rpb24odGhpcy5zb3VyY2UpID8gdGhpcy5zb3VyY2UodGhpcy5xdWVyeSwgJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpKSA6IHRoaXMuc291cmNlXG4gIFxuICAgICAgICByZXR1cm4gaXRlbXMgPyB0aGlzLnByb2Nlc3MoaXRlbXMpIDogdGhpc1xuICAgICAgfVxuICBcbiAgICAsIHByb2Nlc3M6IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXNcbiAgXG4gICAgICAgIGl0ZW1zID0gJC5ncmVwKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiB0aGF0Lm1hdGNoZXIoaXRlbSlcbiAgICAgICAgfSlcbiAgXG4gICAgICAgIGl0ZW1zID0gdGhpcy5zb3J0ZXIoaXRlbXMpXG4gIFxuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzXG4gICAgICAgIH1cbiAgXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcihpdGVtcy5zbGljZSgwLCB0aGlzLm9wdGlvbnMuaXRlbXMpKS5zaG93KClcbiAgICAgIH1cbiAgXG4gICAgLCBtYXRjaGVyOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gfml0ZW0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMucXVlcnkudG9Mb3dlckNhc2UoKSlcbiAgICAgIH1cbiAgXG4gICAgLCBzb3J0ZXI6IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICB2YXIgYmVnaW5zd2l0aCA9IFtdXG4gICAgICAgICAgLCBjYXNlU2Vuc2l0aXZlID0gW11cbiAgICAgICAgICAsIGNhc2VJbnNlbnNpdGl2ZSA9IFtdXG4gICAgICAgICAgLCBpdGVtXG4gIFxuICAgICAgICB3aGlsZSAoaXRlbSA9IGl0ZW1zLnNoaWZ0KCkpIHtcbiAgICAgICAgICBpZiAoIWl0ZW0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMucXVlcnkudG9Mb3dlckNhc2UoKSkpIGJlZ2luc3dpdGgucHVzaChpdGVtKVxuICAgICAgICAgIGVsc2UgaWYgKH5pdGVtLmluZGV4T2YodGhpcy5xdWVyeSkpIGNhc2VTZW5zaXRpdmUucHVzaChpdGVtKVxuICAgICAgICAgIGVsc2UgY2FzZUluc2Vuc2l0aXZlLnB1c2goaXRlbSlcbiAgICAgICAgfVxuICBcbiAgICAgICAgcmV0dXJuIGJlZ2luc3dpdGguY29uY2F0KGNhc2VTZW5zaXRpdmUsIGNhc2VJbnNlbnNpdGl2ZSlcbiAgICAgIH1cbiAgXG4gICAgLCBoaWdobGlnaHRlcjogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeS5yZXBsYWNlKC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpXG4gICAgICAgIHJldHVybiBpdGVtLnJlcGxhY2UobmV3IFJlZ0V4cCgnKCcgKyBxdWVyeSArICcpJywgJ2lnJyksIGZ1bmN0aW9uICgkMSwgbWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gJzxzdHJvbmc+JyArIG1hdGNoICsgJzwvc3Ryb25nPidcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgXG4gICAgLCByZW5kZXI6IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXNcbiAgXG4gICAgICAgIGl0ZW1zID0gJChpdGVtcykubWFwKGZ1bmN0aW9uIChpLCBpdGVtKSB7XG4gICAgICAgICAgaSA9ICQodGhhdC5vcHRpb25zLml0ZW0pLmF0dHIoJ2RhdGEtdmFsdWUnLCBpdGVtKVxuICAgICAgICAgIGkuZmluZCgnYScpLmh0bWwodGhhdC5oaWdobGlnaHRlcihpdGVtKSlcbiAgICAgICAgICByZXR1cm4gaVswXVxuICAgICAgICB9KVxuICBcbiAgICAgICAgaXRlbXMuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdGhpcy4kbWVudS5odG1sKGl0ZW1zKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgfVxuICBcbiAgICAsIG5leHQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgYWN0aXZlID0gdGhpcy4kbWVudS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgLCBuZXh0ID0gYWN0aXZlLm5leHQoKVxuICBcbiAgICAgICAgaWYgKCFuZXh0Lmxlbmd0aCkge1xuICAgICAgICAgIG5leHQgPSAkKHRoaXMuJG1lbnUuZmluZCgnbGknKVswXSlcbiAgICAgICAgfVxuICBcbiAgICAgICAgbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgXG4gICAgLCBwcmV2OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuJG1lbnUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICwgcHJldiA9IGFjdGl2ZS5wcmV2KClcbiAgXG4gICAgICAgIGlmICghcHJldi5sZW5ndGgpIHtcbiAgICAgICAgICBwcmV2ID0gdGhpcy4kbWVudS5maW5kKCdsaScpLmxhc3QoKVxuICAgICAgICB9XG4gIFxuICAgICAgICBwcmV2LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICBcbiAgICAsIGxpc3RlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLm9uKCdmb2N1cycsICAgICQucHJveHkodGhpcy5mb2N1cywgdGhpcykpXG4gICAgICAgICAgLm9uKCdibHVyJywgICAgICQucHJveHkodGhpcy5ibHVyLCB0aGlzKSlcbiAgICAgICAgICAub24oJ2tleXByZXNzJywgJC5wcm94eSh0aGlzLmtleXByZXNzLCB0aGlzKSlcbiAgICAgICAgICAub24oJ2tleXVwJywgICAgJC5wcm94eSh0aGlzLmtleXVwLCB0aGlzKSlcbiAgXG4gICAgICAgIGlmICh0aGlzLmV2ZW50U3VwcG9ydGVkKCdrZXlkb3duJykpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICAgICAgICB9XG4gIFxuICAgICAgICB0aGlzLiRtZW51XG4gICAgICAgICAgLm9uKCdjbGljaycsICQucHJveHkodGhpcy5jbGljaywgdGhpcykpXG4gICAgICAgICAgLm9uKCdtb3VzZWVudGVyJywgJ2xpJywgJC5wcm94eSh0aGlzLm1vdXNlZW50ZXIsIHRoaXMpKVxuICAgICAgICAgIC5vbignbW91c2VsZWF2ZScsICdsaScsICQucHJveHkodGhpcy5tb3VzZWxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgXG4gICAgLCBldmVudFN1cHBvcnRlZDogZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgICAgIHZhciBpc1N1cHBvcnRlZCA9IGV2ZW50TmFtZSBpbiB0aGlzLiRlbGVtZW50XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47JylcbiAgICAgICAgICBpc1N1cHBvcnRlZCA9IHR5cGVvZiB0aGlzLiRlbGVtZW50W2V2ZW50TmFtZV0gPT09ICdmdW5jdGlvbidcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNTdXBwb3J0ZWRcbiAgICAgIH1cbiAgXG4gICAgLCBtb3ZlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIXRoaXMuc2hvd24pIHJldHVyblxuICBcbiAgICAgICAgc3dpdGNoKGUua2V5Q29kZSkge1xuICAgICAgICAgIGNhc2UgOTogLy8gdGFiXG4gICAgICAgICAgY2FzZSAxMzogLy8gZW50ZXJcbiAgICAgICAgICBjYXNlIDI3OiAvLyBlc2NhcGVcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgYnJlYWtcbiAgXG4gICAgICAgICAgY2FzZSAzODogLy8gdXAgYXJyb3dcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgdGhpcy5wcmV2KClcbiAgICAgICAgICAgIGJyZWFrXG4gIFxuICAgICAgICAgIGNhc2UgNDA6IC8vIGRvd24gYXJyb3dcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgdGhpcy5uZXh0KClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIH1cbiAgXG4gICAgLCBrZXlkb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLnN1cHByZXNzS2V5UHJlc3NSZXBlYXQgPSB+JC5pbkFycmF5KGUua2V5Q29kZSwgWzQwLDM4LDksMTMsMjddKVxuICAgICAgICB0aGlzLm1vdmUoZSlcbiAgICAgIH1cbiAgXG4gICAgLCBrZXlwcmVzczogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VwcHJlc3NLZXlQcmVzc1JlcGVhdCkgcmV0dXJuXG4gICAgICAgIHRoaXMubW92ZShlKVxuICAgICAgfVxuICBcbiAgICAsIGtleXVwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2goZS5rZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSA0MDogLy8gZG93biBhcnJvd1xuICAgICAgICAgIGNhc2UgMzg6IC8vIHVwIGFycm93XG4gICAgICAgICAgY2FzZSAxNjogLy8gc2hpZnRcbiAgICAgICAgICBjYXNlIDE3OiAvLyBjdHJsXG4gICAgICAgICAgY2FzZSAxODogLy8gYWx0XG4gICAgICAgICAgICBicmVha1xuICBcbiAgICAgICAgICBjYXNlIDk6IC8vIHRhYlxuICAgICAgICAgIGNhc2UgMTM6IC8vIGVudGVyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvd24pIHJldHVyblxuICAgICAgICAgICAgdGhpcy5zZWxlY3QoKVxuICAgICAgICAgICAgYnJlYWtcbiAgXG4gICAgICAgICAgY2FzZSAyNzogLy8gZXNjYXBlXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvd24pIHJldHVyblxuICAgICAgICAgICAgdGhpcy5oaWRlKClcbiAgICAgICAgICAgIGJyZWFrXG4gIFxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLmxvb2t1cCgpXG4gICAgICAgIH1cbiAgXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuICBcbiAgICAsIGZvY3VzOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLmZvY3VzZWQgPSB0cnVlXG4gICAgICB9XG4gIFxuICAgICwgYmx1cjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5mb2N1c2VkID0gZmFsc2VcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlZG92ZXIgJiYgdGhpcy5zaG93bikgdGhpcy5oaWRlKClcbiAgICAgIH1cbiAgXG4gICAgLCBjbGljazogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgdGhpcy5zZWxlY3QoKVxuICAgICAgICB0aGlzLiRlbGVtZW50LmZvY3VzKClcbiAgICAgIH1cbiAgXG4gICAgLCBtb3VzZWVudGVyOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLm1vdXNlZG92ZXIgPSB0cnVlXG4gICAgICAgIHRoaXMuJG1lbnUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gIFxuICAgICwgbW91c2VsZWF2ZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5tb3VzZWRvdmVyID0gZmFsc2VcbiAgICAgICAgaWYgKCF0aGlzLmZvY3VzZWQgJiYgdGhpcy5zaG93bikgdGhpcy5oaWRlKClcbiAgICAgIH1cbiAgXG4gICAgfVxuICBcbiAgXG4gICAgLyogVFlQRUFIRUFEIFBMVUdJTiBERUZJTklUSU9OXG4gICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICAgIHZhciBvbGQgPSAkLmZuLnR5cGVhaGVhZFxuICBcbiAgICAkLmZuLnR5cGVhaGVhZCA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICAgICAgLCBkYXRhID0gJHRoaXMuZGF0YSgndHlwZWFoZWFkJylcbiAgICAgICAgICAsIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuICAgICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ3R5cGVhaGVhZCcsIChkYXRhID0gbmV3IFR5cGVhaGVhZCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgICAgfSlcbiAgICB9XG4gIFxuICAgICQuZm4udHlwZWFoZWFkLmRlZmF1bHRzID0ge1xuICAgICAgc291cmNlOiBbXVxuICAgICwgaXRlbXM6IDhcbiAgICAsIG1lbnU6ICc8dWwgY2xhc3M9XCJ0eXBlYWhlYWQgZHJvcGRvd24tbWVudVwiPjwvdWw+J1xuICAgICwgaXRlbTogJzxsaT48YSBocmVmPVwiI1wiPjwvYT48L2xpPidcbiAgICAsIG1pbkxlbmd0aDogMVxuICAgIH1cbiAgXG4gICAgJC5mbi50eXBlYWhlYWQuQ29uc3RydWN0b3IgPSBUeXBlYWhlYWRcbiAgXG4gIFxuICAgLyogVFlQRUFIRUFEIE5PIENPTkZMSUNUXG4gICAgKiA9PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICAgICQuZm4udHlwZWFoZWFkLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmZuLnR5cGVhaGVhZCA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgIC8qIFRZUEVBSEVBRCBEQVRBLUFQSVxuICAgICogPT09PT09PT09PT09PT09PT09ICovXG4gIFxuICAgICQoZG9jdW1lbnQpLm9uKCdmb2N1cy50eXBlYWhlYWQuZGF0YS1hcGknLCAnW2RhdGEtcHJvdmlkZT1cInR5cGVhaGVhZFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICBpZiAoJHRoaXMuZGF0YSgndHlwZWFoZWFkJykpIHJldHVyblxuICAgICAgJHRoaXMudHlwZWFoZWFkKCR0aGlzLmRhdGEoKSlcbiAgICB9KVxuICBcbiAgfSh3aW5kb3cualF1ZXJ5KTsiLCIvKiFcbiAqIGNsaXBib2FyZC5qcyB2Mi4wLjZcbiAqIGh0dHBzOi8vY2xpcGJvYXJkanMuY29tL1xuICogXG4gKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYVxuICovXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkNsaXBib2FyZEpTPWUoKTp0LkNsaXBib2FyZEpTPWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBvPXt9LHIubT1uPVtmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZTtpZihcIlNFTEVDVFwiPT09dC5ub2RlTmFtZSl0LmZvY3VzKCksZT10LnZhbHVlO2Vsc2UgaWYoXCJJTlBVVFwiPT09dC5ub2RlTmFtZXx8XCJURVhUQVJFQVwiPT09dC5ub2RlTmFtZSl7dmFyIG49dC5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTtufHx0LnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsXCJcIiksdC5zZWxlY3QoKSx0LnNldFNlbGVjdGlvblJhbmdlKDAsdC52YWx1ZS5sZW5ndGgpLG58fHQucmVtb3ZlQXR0cmlidXRlKFwicmVhZG9ubHlcIiksZT10LnZhbHVlfWVsc2V7dC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJnQuZm9jdXMoKTt2YXIgbz13aW5kb3cuZ2V0U2VsZWN0aW9uKCkscj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3Iuc2VsZWN0Tm9kZUNvbnRlbnRzKHQpLG8ucmVtb3ZlQWxsUmFuZ2VzKCksby5hZGRSYW5nZShyKSxlPW8udG9TdHJpbmcoKX1yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe31uLnByb3RvdHlwZT17b246ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMuZXx8KHRoaXMuZT17fSk7cmV0dXJuKG9bdF18fChvW3RdPVtdKSkucHVzaCh7Zm46ZSxjdHg6bn0pLHRoaXN9LG9uY2U6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXM7ZnVuY3Rpb24gcigpe28ub2ZmKHQsciksZS5hcHBseShuLGFyZ3VtZW50cyl9cmV0dXJuIHIuXz1lLHRoaXMub24odCxyLG4pfSxlbWl0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuPSgodGhpcy5lfHwodGhpcy5lPXt9KSlbdF18fFtdKS5zbGljZSgpLG89MCxyPW4ubGVuZ3RoO288cjtvKyspbltvXS5mbi5hcHBseShuW29dLmN0eCxlKTtyZXR1cm4gdGhpc30sb2ZmOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5lfHwodGhpcy5lPXt9KSxvPW5bdF0scj1bXTtpZihvJiZlKWZvcih2YXIgaT0wLGE9by5sZW5ndGg7aTxhO2krKylvW2ldLmZuIT09ZSYmb1tpXS5mbi5fIT09ZSYmci5wdXNoKG9baV0pO3JldHVybiByLmxlbmd0aD9uW3RdPXI6ZGVsZXRlIG5bdF0sdGhpc319LHQuZXhwb3J0cz1uLHQuZXhwb3J0cy5UaW55RW1pdHRlcj1ufSxmdW5jdGlvbih0LGUsbil7dmFyIGQ9bigzKSxoPW4oNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZighdCYmIWUmJiFuKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnRzXCIpO2lmKCFkLnN0cmluZyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmdcIik7aWYoIWQuZm4obikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvblwiKTtpZihkLm5vZGUodCkpcmV0dXJuIHM9ZSxmPW4sKHU9dCkuYWRkRXZlbnRMaXN0ZW5lcihzLGYpLHtkZXN0cm95OmZ1bmN0aW9uKCl7dS5yZW1vdmVFdmVudExpc3RlbmVyKHMsZil9fTtpZihkLm5vZGVMaXN0KHQpKXJldHVybiBhPXQsYz1lLGw9bixBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24odCl7dC5hZGRFdmVudExpc3RlbmVyKGMsbCl9KSx7ZGVzdHJveTpmdW5jdGlvbigpe0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxsKX0pfX07aWYoZC5zdHJpbmcodCkpcmV0dXJuIG89dCxyPWUsaT1uLGgoZG9jdW1lbnQuYm9keSxvLHIsaSk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3RcIik7dmFyIG8scixpLGEsYyxsLHUscyxmfX0sZnVuY3Rpb24odCxuKXtuLm5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmMT09PXQubm9kZVR5cGV9LG4ubm9kZUxpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO3JldHVybiB2b2lkIDAhPT10JiYoXCJbb2JqZWN0IE5vZGVMaXN0XVwiPT09ZXx8XCJbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXVwiPT09ZSkmJlwibGVuZ3RoXCJpbiB0JiYoMD09PXQubGVuZ3RofHxuLm5vZGUodFswXSkpfSxuLnN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZ30sbi5mbj1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGE9big1KTtmdW5jdGlvbiBpKHQsZSxuLG8scil7dmFyIGk9ZnVuY3Rpb24oZSxuLHQsbyl7cmV0dXJuIGZ1bmN0aW9uKHQpe3QuZGVsZWdhdGVUYXJnZXQ9YSh0LnRhcmdldCxuKSx0LmRlbGVnYXRlVGFyZ2V0JiZvLmNhbGwoZSx0KX19LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKG4saSxyKSx7ZGVzdHJveTpmdW5jdGlvbigpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGkscil9fX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sbyxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI/aS5hcHBseShudWxsLGFyZ3VtZW50cyk6XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9pLmJpbmQobnVsbCxkb2N1bWVudCkuYXBwbHkobnVsbCxhcmd1bWVudHMpOihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KSksQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHQsZnVuY3Rpb24odCl7cmV0dXJuIGkodCxlLG4sbyxyKX0pKX19LGZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEVsZW1lbnQmJiFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKXt2YXIgbj1FbGVtZW50LnByb3RvdHlwZTtuLm1hdGNoZXM9bi5tYXRjaGVzU2VsZWN0b3J8fG4ubW96TWF0Y2hlc1NlbGVjdG9yfHxuLm1zTWF0Y2hlc1NlbGVjdG9yfHxuLm9NYXRjaGVzU2VsZWN0b3J8fG4ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcig7dCYmOSE9PXQubm9kZVR5cGU7KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1hdGNoZXMmJnQubWF0Y2hlcyhlKSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpO3ZhciBvPW4oMCkscj1uLm4obyksaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fTtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWVbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1mdW5jdGlvbiBjKHQpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksdGhpcy5yZXNvbHZlT3B0aW9ucyh0KSx0aGlzLmluaXRTZWxlY3Rpb24oKX12YXIgbD0oZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZhKHQucHJvdG90eXBlLGUpLG4mJmEodCxuKSx0fShjLFt7a2V5OlwicmVzb2x2ZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDp7fTt0aGlzLmFjdGlvbj1lLmFjdGlvbix0aGlzLmNvbnRhaW5lcj1lLmNvbnRhaW5lcix0aGlzLmVtaXR0ZXI9ZS5lbWl0dGVyLHRoaXMudGFyZ2V0PWUudGFyZ2V0LHRoaXMudGV4dD1lLnRleHQsdGhpcy50cmlnZ2VyPWUudHJpZ2dlcix0aGlzLnNlbGVjdGVkVGV4dD1cIlwifX0se2tleTpcImluaXRTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudGV4dD90aGlzLnNlbGVjdEZha2UoKTp0aGlzLnRhcmdldCYmdGhpcy5zZWxlY3RUYXJnZXQoKX19LHtrZXk6XCJzZWxlY3RGYWtlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9XCJydGxcIj09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRpclwiKTt0aGlzLnJlbW92ZUZha2UoKSx0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdC5yZW1vdmVGYWtlKCl9LHRoaXMuZmFrZUhhbmRsZXI9dGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKXx8ITAsdGhpcy5mYWtlRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZT1cIjEycHRcIix0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlcj1cIjBcIix0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmc9XCIwXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW49XCIwXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5mYWtlRWxlbS5zdHlsZVtlP1wicmlnaHRcIjpcImxlZnRcIl09XCItOTk5OXB4XCI7dmFyIG49d2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO3RoaXMuZmFrZUVsZW0uc3R5bGUudG9wPW4rXCJweFwiLHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIixcIlwiKSx0aGlzLmZha2VFbGVtLnZhbHVlPXRoaXMudGV4dCx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKSx0aGlzLnNlbGVjdGVkVGV4dD1yKCkodGhpcy5mYWtlRWxlbSksdGhpcy5jb3B5VGV4dCgpfX0se2tleTpcInJlbW92ZUZha2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZmFrZUhhbmRsZXImJih0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spLHRoaXMuZmFrZUhhbmRsZXI9bnVsbCx0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2s9bnVsbCksdGhpcy5mYWtlRWxlbSYmKHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pLHRoaXMuZmFrZUVsZW09bnVsbCl9fSx7a2V5Olwic2VsZWN0VGFyZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkVGV4dD1yKCkodGhpcy50YXJnZXQpLHRoaXMuY29weVRleHQoKX19LHtrZXk6XCJjb3B5VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO3RyeXtlPWRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKX1jYXRjaCh0KXtlPSExfXRoaXMuaGFuZGxlUmVzdWx0KGUpfX0se2tleTpcImhhbmRsZVJlc3VsdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdHRlci5lbWl0KHQ/XCJzdWNjZXNzXCI6XCJlcnJvclwiLHthY3Rpb246dGhpcy5hY3Rpb24sdGV4dDp0aGlzLnNlbGVjdGVkVGV4dCx0cmlnZ2VyOnRoaXMudHJpZ2dlcixjbGVhclNlbGVjdGlvbjp0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcyl9KX19LHtrZXk6XCJjbGVhclNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyJiZ0aGlzLnRyaWdnZXIuZm9jdXMoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVGYWtlKCl9fSx7a2V5OlwiYWN0aW9uXCIsc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OlwiY29weVwiO2lmKHRoaXMuX2FjdGlvbj1lLFwiY29weVwiIT09dGhpcy5fYWN0aW9uJiZcImN1dFwiIT09dGhpcy5fYWN0aW9uKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGlvbn19LHtrZXk6XCJ0YXJnZXRcIixzZXQ6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7aWYoIXR8fFwib2JqZWN0XCIhPT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOmkodCkpfHwxIT09dC5ub2RlVHlwZSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO2lmKFwiY29weVwiPT09dGhpcy5hY3Rpb24mJnQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtpZihcImN1dFwiPT09dGhpcy5hY3Rpb24mJih0Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpfHx0Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTt0aGlzLl90YXJnZXQ9dH19LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXR9fV0pLGMpLHU9bigxKSxzPW4ubih1KSxmPW4oMiksZD1uLm4oZiksaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmeSh0LnByb3RvdHlwZSxlKSxuJiZ5KHQsbiksdH07ZnVuY3Rpb24geSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19dmFyIG09KGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9KHYscy5hKSxwKHYsW3trZXk6XCJyZXNvbHZlT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Ont9O3RoaXMuYWN0aW9uPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYWN0aW9uP2UuYWN0aW9uOnRoaXMuZGVmYXVsdEFjdGlvbix0aGlzLnRhcmdldD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRhcmdldD9lLnRhcmdldDp0aGlzLmRlZmF1bHRUYXJnZXQsdGhpcy50ZXh0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGV4dD9lLnRleHQ6dGhpcy5kZWZhdWx0VGV4dCx0aGlzLmNvbnRhaW5lcj1cIm9iamVjdFwiPT09aChlLmNvbnRhaW5lcik/ZS5jb250YWluZXI6ZG9jdW1lbnQuYm9keX19LHtrZXk6XCJsaXN0ZW5DbGlja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5saXN0ZW5lcj1kKCkodCxcImNsaWNrXCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25DbGljayh0KX0pfX0se2tleTpcIm9uQ2xpY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmRlbGVnYXRlVGFyZ2V0fHx0LmN1cnJlbnRUYXJnZXQ7dGhpcy5jbGlwYm9hcmRBY3Rpb24mJih0aGlzLmNsaXBib2FyZEFjdGlvbj1udWxsKSx0aGlzLmNsaXBib2FyZEFjdGlvbj1uZXcgbCh7YWN0aW9uOnRoaXMuYWN0aW9uKGUpLHRhcmdldDp0aGlzLnRhcmdldChlKSx0ZXh0OnRoaXMudGV4dChlKSxjb250YWluZXI6dGhpcy5jb250YWluZXIsdHJpZ2dlcjplLGVtaXR0ZXI6dGhpc30pfX0se2tleTpcImRlZmF1bHRBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYihcImFjdGlvblwiLHQpfX0se2tleTpcImRlZmF1bHRUYXJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1iKFwidGFyZ2V0XCIsdCk7aWYoZSlyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX19LHtrZXk6XCJkZWZhdWx0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBiKFwidGV4dFwiLHQpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubGlzdGVuZXIuZGVzdHJveSgpLHRoaXMuY2xpcGJvYXJkQWN0aW9uJiYodGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpLHRoaXMuY2xpcGJvYXJkQWN0aW9uPW51bGwpfX1dLFt7a2V5OlwiaXNTdXBwb3J0ZWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpbXCJjb3B5XCIsXCJjdXRcIl0sbj1cInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSxvPSEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24odCl7bz1vJiYhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCh0KX0pLG99fV0pLHYpO2Z1bmN0aW9uIHYodCxlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHYpO3ZhciBuPWZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9KHRoaXMsKHYuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodikpLmNhbGwodGhpcykpO3JldHVybiBuLnJlc29sdmVPcHRpb25zKGUpLG4ubGlzdGVuQ2xpY2sodCksbn1mdW5jdGlvbiBiKHQsZSl7dmFyIG49XCJkYXRhLWNsaXBib2FyZC1cIit0O2lmKGUuaGFzQXR0cmlidXRlKG4pKXJldHVybiBlLmdldEF0dHJpYnV0ZShuKX1lLmRlZmF1bHQ9bX1dLHIuYz1vLHIuZD1mdW5jdGlvbih0LGUsbil7ci5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om59KX0sci5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LHIudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9cihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHIucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIG8gaW4gZSlyLmQobixvLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbykpO3JldHVybiBufSxyLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIHIuZChlLFwiYVwiLGUpLGV9LHIubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sci5wPVwiXCIscihyLnM9NikuZGVmYXVsdDtmdW5jdGlvbiByKHQpe2lmKG9bdF0pcmV0dXJuIG9bdF0uZXhwb3J0czt2YXIgZT1vW3RdPXtpOnQsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gblt0XS5jYWxsKGUuZXhwb3J0cyxlLGUuZXhwb3J0cyxyKSxlLmw9ITAsZS5leHBvcnRzfXZhciBuLG99KTsiLCJcbi8qXG4qIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4qIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4qIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4qIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4qIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4qIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4qIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cblxuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sZSk6ZSgodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmVjaGFydHM9e30pfSh0aGlzLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG4gICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4gICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG4gICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuICAgIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbiAgICBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuICAgIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcbiAgICBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KSh0LG4pfTtmdW5jdGlvbiBuKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfXZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuKGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiByKCl7Zm9yKHZhciB0PTAsZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQrPWFyZ3VtZW50c1tlXS5sZW5ndGg7dmFyIGk9QXJyYXkodCkscj0wO2ZvcihlPTA7ZTxuO2UrKylmb3IodmFyIG89YXJndW1lbnRzW2VdLGE9MCxzPW8ubGVuZ3RoO2E8czthKysscisrKWlbcl09b1thXTtyZXR1cm4gaX12YXIgbz1mdW5jdGlvbigpe3RoaXMuZmlyZWZveD0hMSx0aGlzLmllPSExLHRoaXMuZWRnZT0hMSx0aGlzLm5ld0VkZ2U9ITEsdGhpcy53ZUNoYXQ9ITF9LGE9bmV3IGZ1bmN0aW9uKCl7dGhpcy5icm93c2VyPW5ldyBvLHRoaXMubm9kZT0hMSx0aGlzLnd4YT0hMSx0aGlzLndvcmtlcj0hMSx0aGlzLmNhbnZhc1N1cHBvcnRlZD0hMSx0aGlzLnN2Z1N1cHBvcnRlZD0hMSx0aGlzLnRvdWNoRXZlbnRzU3VwcG9ydGVkPSExLHRoaXMucG9pbnRlckV2ZW50c1N1cHBvcnRlZD0hMSx0aGlzLmRvbVN1cHBvcnRlZD0hMX07XCJvYmplY3RcIj09dHlwZW9mIHd4JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3eC5nZXRTeXN0ZW1JbmZvU3luYz8oYS53eGE9ITAsYS5jYW52YXNTdXBwb3J0ZWQ9ITAsYS50b3VjaEV2ZW50c1N1cHBvcnRlZD0hMCk6XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50JiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj8oYS53b3JrZXI9ITAsYS5jYW52YXNTdXBwb3J0ZWQ9ITApOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBuYXZpZ2F0b3I/KGEubm9kZT0hMCxhLmNhbnZhc1N1cHBvcnRlZD0hMCxhLnN2Z1N1cHBvcnRlZD0hMCk6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmJyb3dzZXIsaT10Lm1hdGNoKC9GaXJlZm94XFwvKFtcXGQuXSspLykscj10Lm1hdGNoKC9NU0lFXFxzKFtcXGQuXSspLyl8fHQubWF0Y2goL1RyaWRlbnRcXC8uKz9ydjooKFtcXGQuXSspKS8pLG89dC5tYXRjaCgvRWRnZT9cXC8oW1xcZC5dKykvKSxhPS9taWNyb21lc3Nlbmdlci9pLnRlc3QodCk7aSYmKG4uZmlyZWZveD0hMCxuLnZlcnNpb249aVsxXSk7ciYmKG4uaWU9ITAsbi52ZXJzaW9uPXJbMV0pO28mJihuLmVkZ2U9ITAsbi52ZXJzaW9uPW9bMV0sbi5uZXdFZGdlPStvWzFdLnNwbGl0KFwiLlwiKVswXT4xOCk7YSYmKG4ud2VDaGF0PSEwKTtlLmNhbnZhc1N1cHBvcnRlZD0hIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dCxlLnN2Z1N1cHBvcnRlZD1cInVuZGVmaW5lZFwiIT10eXBlb2YgU1ZHUmVjdCxlLnRvdWNoRXZlbnRzU3VwcG9ydGVkPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3cmJiFuLmllJiYhbi5lZGdlLGUucG9pbnRlckV2ZW50c1N1cHBvcnRlZD1cIm9ucG9pbnRlcmRvd25cImluIHdpbmRvdyYmKG4uZWRnZXx8bi5pZSYmK24udmVyc2lvbj49MTEpLGUuZG9tU3VwcG9ydGVkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudH0obmF2aWdhdG9yLnVzZXJBZ2VudCxhKTt2YXIgcz17XCJbb2JqZWN0IEZ1bmN0aW9uXVwiOiEwLFwiW29iamVjdCBSZWdFeHBdXCI6ITAsXCJbb2JqZWN0IERhdGVdXCI6ITAsXCJbb2JqZWN0IEVycm9yXVwiOiEwLFwiW29iamVjdCBDYW52YXNHcmFkaWVudF1cIjohMCxcIltvYmplY3QgQ2FudmFzUGF0dGVybl1cIjohMCxcIltvYmplY3QgSW1hZ2VdXCI6ITAsXCJbb2JqZWN0IENhbnZhc11cIjohMH0sbD17XCJbb2JqZWN0IEludDhBcnJheV1cIjohMCxcIltvYmplY3QgVWludDhBcnJheV1cIjohMCxcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCI6ITAsXCJbb2JqZWN0IEludDE2QXJyYXldXCI6ITAsXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiOiEwLFwiW29iamVjdCBJbnQzMkFycmF5XVwiOiEwLFwiW29iamVjdCBVaW50MzJBcnJheV1cIjohMCxcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiOiEwLFwiW29iamVjdCBGbG9hdDY0QXJyYXldXCI6ITB9LHU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoPUFycmF5LnByb3RvdHlwZSxjPWguZm9yRWFjaCxwPWguZmlsdGVyLGQ9aC5zbGljZSxmPWgubWFwLGc9ZnVuY3Rpb24oKXt9LmNvbnN0cnVjdG9yLHk9Zz9nLnByb3RvdHlwZTpudWxsLHY9e307ZnVuY3Rpb24gbSh0LGUpe3ZbdF09ZX12YXIgXz0yMzExO2Z1bmN0aW9uIHgoKXtyZXR1cm4gXysrfWZ1bmN0aW9uIGIoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSx0KX1mdW5jdGlvbiB3KHQpe2lmKG51bGw9PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBlPXQsbj11LmNhbGwodCk7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT09bil7aWYoIWx0KHQpKXtlPVtdO2Zvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyllW2ldPXcodFtpXSl9fWVsc2UgaWYobFtuXSl7aWYoIWx0KHQpKXt2YXIgbz10LmNvbnN0cnVjdG9yO2lmKG8uZnJvbSllPW8uZnJvbSh0KTtlbHNle2U9bmV3IG8odC5sZW5ndGgpO2ZvcihpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWVbaV09dyh0W2ldKX19fWVsc2UgaWYoIXNbbl0mJiFsdCh0KSYmIWoodCkpZm9yKHZhciBhIGluIGU9e30sdCl0Lmhhc093blByb3BlcnR5KGEpJiYoZVthXT13KHRbYV0pKTtyZXR1cm4gZX1mdW5jdGlvbiBTKHQsZSxuKXtpZighWChlKXx8IVgodCkpcmV0dXJuIG4/dyhlKTp0O2Zvcih2YXIgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpe3ZhciByPXRbaV0sbz1lW2ldOyFYKG8pfHwhWChyKXx8RihvKXx8RihyKXx8aihvKXx8aihyKXx8VShvKXx8VShyKXx8bHQobyl8fGx0KHIpPyFuJiZpIGluIHR8fCh0W2ldPXcoZVtpXSkpOlMocixvLG4pfXJldHVybiB0fWZ1bmN0aW9uIE0odCxlKXtmb3IodmFyIG49dFswXSxpPTEscj10Lmxlbmd0aDtpPHI7aSsrKW49UyhuLHRbaV0sZSk7cmV0dXJuIG59ZnVuY3Rpb24gSSh0LGUpe2lmKE9iamVjdC5hc3NpZ24pT2JqZWN0LmFzc2lnbih0LGUpO2Vsc2UgZm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9ZnVuY3Rpb24gVCh0LGUsbil7Zm9yKHZhciBpPXooZSkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdOyhuP251bGwhPWVbb106bnVsbD09dFtvXSkmJih0W29dPWVbb10pfXJldHVybiB0fXZhciBDPWZ1bmN0aW9uKCl7cmV0dXJuIHYuY3JlYXRlQ2FudmFzKCl9O2Z1bmN0aW9uIEEodCxlKXtpZih0KXtpZih0LmluZGV4T2YpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIG49MCxpPXQubGVuZ3RoO248aTtuKyspaWYodFtuXT09PWUpcmV0dXJuIG59cmV0dXJuLTF9ZnVuY3Rpb24gRCh0LGUpe3ZhciBuPXQucHJvdG90eXBlO2Z1bmN0aW9uIGkoKXt9Zm9yKHZhciByIGluIGkucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBpLG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHQucHJvdG90eXBlW3JdPW5bcl0pO3QucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5zdXBlckNsYXNzPWV9ZnVuY3Rpb24gTCh0LGUsbil7aWYodD1cInByb3RvdHlwZVwiaW4gdD90LnByb3RvdHlwZTp0LGU9XCJwcm90b3R5cGVcImluIGU/ZS5wcm90b3R5cGU6ZSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcylmb3IodmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO1wiY29uc3RydWN0b3JcIiE9PW8mJihuP251bGwhPWVbb106bnVsbD09dFtvXSkmJih0W29dPWVbb10pfWVsc2UgVCh0LGUsbil9ZnVuY3Rpb24gayh0KXtyZXR1cm4hIXQmJihcInN0cmluZ1wiIT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKX1mdW5jdGlvbiBQKHQsZSxuKXtpZih0JiZlKWlmKHQuZm9yRWFjaCYmdC5mb3JFYWNoPT09Yyl0LmZvckVhY2goZSxuKTtlbHNlIGlmKHQubGVuZ3RoPT09K3QubGVuZ3RoKWZvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyllLmNhbGwobix0W2ldLGksdCk7ZWxzZSBmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiZlLmNhbGwobix0W29dLG8sdCl9ZnVuY3Rpb24gTyh0LGUsbil7aWYoIXQpcmV0dXJuW107aWYoIWUpcmV0dXJuIG50KHQpO2lmKHQubWFwJiZ0Lm1hcD09PWYpcmV0dXJuIHQubWFwKGUsbik7Zm9yKHZhciBpPVtdLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspaS5wdXNoKGUuY2FsbChuLHRbcl0scix0KSk7cmV0dXJuIGl9ZnVuY3Rpb24gUih0LGUsbixpKXtpZih0JiZlKXtmb3IodmFyIHI9MCxvPXQubGVuZ3RoO3I8bztyKyspbj1lLmNhbGwoaSxuLHRbcl0scix0KTtyZXR1cm4gbn19ZnVuY3Rpb24gTih0LGUsbil7aWYoIXQpcmV0dXJuW107aWYoIWUpcmV0dXJuIG50KHQpO2lmKHQuZmlsdGVyJiZ0LmZpbHRlcj09PXApcmV0dXJuIHQuZmlsdGVyKGUsbik7Zm9yKHZhciBpPVtdLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspZS5jYWxsKG4sdFtyXSxyLHQpJiZpLnB1c2godFtyXSk7cmV0dXJuIGl9ZnVuY3Rpb24gRSh0LGUsbil7aWYodCYmZSlmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspaWYoZS5jYWxsKG4sdFtpXSxpLHQpKXJldHVybiB0W2ldfWZ1bmN0aW9uIHoodCl7aWYoIXQpcmV0dXJuW107aWYoT2JqZWN0LmtleXMpcmV0dXJuIE9iamVjdC5rZXlzKHQpO3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJmUucHVzaChuKTtyZXR1cm4gZX12LmNyZWF0ZUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpfTt2YXIgQj15JiZHKHkuYmluZCk/eS5jYWxsLmJpbmQoeS5iaW5kKTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ktMl09YXJndW1lbnRzW2ldO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsbi5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX19O2Z1bmN0aW9uIFYodCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfX1mdW5jdGlvbiBGKHQpe3JldHVybiBBcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXkodCk6XCJbb2JqZWN0IEFycmF5XVwiPT09dS5jYWxsKHQpfWZ1bmN0aW9uIEcodCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH1mdW5jdGlvbiBIKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIFcodCl7cmV0dXJuXCJbb2JqZWN0IFN0cmluZ11cIj09PXUuY2FsbCh0KX1mdW5jdGlvbiBZKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIFgodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJmdW5jdGlvblwiPT09ZXx8ISF0JiZcIm9iamVjdFwiPT09ZX1mdW5jdGlvbiBVKHQpe3JldHVybiEhc1t1LmNhbGwodCldfWZ1bmN0aW9uIFoodCl7cmV0dXJuISFsW3UuY2FsbCh0KV19ZnVuY3Rpb24gaih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubm9kZVR5cGUmJlwib2JqZWN0XCI9PXR5cGVvZiB0Lm93bmVyRG9jdW1lbnR9ZnVuY3Rpb24gcSh0KXtyZXR1cm4gbnVsbCE9dC5jb2xvclN0b3BzfWZ1bmN0aW9uIEsodCl7cmV0dXJuIG51bGwhPXQuaW1hZ2V9ZnVuY3Rpb24gJCh0KXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09dS5jYWxsKHQpfWZ1bmN0aW9uIEoodCl7cmV0dXJuIHQhPXR9ZnVuY3Rpb24gUSgpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtmb3IodmFyIG49MCxpPXQubGVuZ3RoO248aTtuKyspaWYobnVsbCE9dFtuXSlyZXR1cm4gdFtuXX1mdW5jdGlvbiB0dCh0LGUpe3JldHVybiBudWxsIT10P3Q6ZX1mdW5jdGlvbiBldCh0LGUsbil7cmV0dXJuIG51bGwhPXQ/dDpudWxsIT1lP2U6bn1mdW5jdGlvbiBudCh0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZC5hcHBseSh0LGUpfWZ1bmN0aW9uIGl0KHQpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVyblt0LHQsdCx0XTt2YXIgZT10Lmxlbmd0aDtyZXR1cm4gMj09PWU/W3RbMF0sdFsxXSx0WzBdLHRbMV1dOjM9PT1lP1t0WzBdLHRbMV0sdFsyXSx0WzFdXTp0fWZ1bmN0aW9uIHJ0KHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfWZ1bmN0aW9uIG90KHQpe3JldHVybiBudWxsPT10P251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YgdC50cmltP3QudHJpbSgpOnQucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIil9dmFyIGF0PVwiX19lY19wcmltaXRpdmVfX1wiO2Z1bmN0aW9uIHN0KHQpe3RbYXRdPSEwfWZ1bmN0aW9uIGx0KHQpe3JldHVybiB0W2F0XX12YXIgdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMuZGF0YT17fTt2YXIgbj1GKGUpO3RoaXMuZGF0YT17fTt2YXIgaT10aGlzO2Z1bmN0aW9uIHIodCxlKXtuP2kuc2V0KHQsZSk6aS5zZXQoZSx0KX1lIGluc3RhbmNlb2YgdD9lLmVhY2gocik6ZSYmUChlLHIpfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eSh0KT90aGlzLmRhdGFbdF06bnVsbH0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YVt0XT1lfSx0LnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIHRoaXMuZGF0YSl0aGlzLmRhdGEuaGFzT3duUHJvcGVydHkobikmJnQuY2FsbChlLHRoaXMuZGF0YVtuXSxuKX0sdC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiB6KHRoaXMuZGF0YSl9LHQucHJvdG90eXBlLnJlbW92ZUtleT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5kYXRhW3RdfSx0fSgpO2Z1bmN0aW9uIGh0KHQpe3JldHVybiBuZXcgdXQodCl9ZnVuY3Rpb24gY3QodCxlKXtmb3IodmFyIG49bmV3IHQuY29uc3RydWN0b3IodC5sZW5ndGgrZS5sZW5ndGgpLGk9MDtpPHQubGVuZ3RoO2krKyluW2ldPXRbaV07dmFyIHI9dC5sZW5ndGg7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyluW2krcl09ZVtpXTtyZXR1cm4gbn1mdW5jdGlvbiBwdCh0LGUpe3ZhciBuO2lmKE9iamVjdC5jcmVhdGUpbj1PYmplY3QuY3JlYXRlKHQpO2Vsc2V7dmFyIGk9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlPXQsbj1uZXcgaX1yZXR1cm4gZSYmSShuLGUpLG59ZnVuY3Rpb24gZHQodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBmdCgpe312YXIgZ3Q9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsJG92ZXJyaWRlOm0sZ3VpZDp4LGxvZ0Vycm9yOmIsY2xvbmU6dyxtZXJnZTpTLG1lcmdlQWxsOk0sZXh0ZW5kOkksZGVmYXVsdHM6VCxjcmVhdGVDYW52YXM6QyxpbmRleE9mOkEsaW5oZXJpdHM6RCxtaXhpbjpMLGlzQXJyYXlMaWtlOmssZWFjaDpQLG1hcDpPLHJlZHVjZTpSLGZpbHRlcjpOLGZpbmQ6RSxrZXlzOnosYmluZDpCLGN1cnJ5OlYsaXNBcnJheTpGLGlzRnVuY3Rpb246Ryxpc1N0cmluZzpILGlzU3RyaW5nU2FmZTpXLGlzTnVtYmVyOlksaXNPYmplY3Q6WCxpc0J1aWx0SW5PYmplY3Q6VSxpc1R5cGVkQXJyYXk6Wixpc0RvbTpqLGlzR3JhZGllbnRPYmplY3Q6cSxpc1BhdHRlcm5PYmplY3Q6Syxpc1JlZ0V4cDokLGVxTmFOOkoscmV0cmlldmU6USxyZXRyaWV2ZTI6dHQscmV0cmlldmUzOmV0LHNsaWNlOm50LG5vcm1hbGl6ZUNzc0FycmF5Oml0LGFzc2VydDpydCx0cmltOm90LHNldEFzUHJpbWl0aXZlOnN0LGlzUHJpbWl0aXZlOmx0LEhhc2hNYXA6dXQsY3JlYXRlSGFzaE1hcDpodCxjb25jYXRBcnJheTpjdCxjcmVhdGVPYmplY3Q6cHQsaGFzT3duOmR0LG5vb3A6ZnR9KTtmdW5jdGlvbiB5dCh0LGUpe3JldHVybiBudWxsPT10JiYodD0wKSxudWxsPT1lJiYoZT0wKSxbdCxlXX1mdW5jdGlvbiB2dCh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHR9ZnVuY3Rpb24gbXQodCl7cmV0dXJuW3RbMF0sdFsxXV19ZnVuY3Rpb24gX3QodCxlLG4pe3JldHVybiB0WzBdPWUsdFsxXT1uLHR9ZnVuY3Rpb24geHQodCxlLG4pe3JldHVybiB0WzBdPWVbMF0rblswXSx0WzFdPWVbMV0rblsxXSx0fWZ1bmN0aW9uIGJ0KHQsZSxuLGkpe3JldHVybiB0WzBdPWVbMF0rblswXSppLHRbMV09ZVsxXStuWzFdKmksdH1mdW5jdGlvbiB3dCh0LGUsbil7cmV0dXJuIHRbMF09ZVswXS1uWzBdLHRbMV09ZVsxXS1uWzFdLHR9ZnVuY3Rpb24gU3QodCl7cmV0dXJuIE1hdGguc3FydChJdCh0KSl9dmFyIE10PVN0O2Z1bmN0aW9uIEl0KHQpe3JldHVybiB0WzBdKnRbMF0rdFsxXSp0WzFdfXZhciBUdD1JdDtmdW5jdGlvbiBDdCh0LGUsbil7cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHR9ZnVuY3Rpb24gQXQodCxlKXt2YXIgbj1TdChlKTtyZXR1cm4gMD09PW4/KHRbMF09MCx0WzFdPTApOih0WzBdPWVbMF0vbix0WzFdPWVbMV0vbiksdH1mdW5jdGlvbiBEdCh0LGUpe3JldHVybiBNYXRoLnNxcnQoKHRbMF0tZVswXSkqKHRbMF0tZVswXSkrKHRbMV0tZVsxXSkqKHRbMV0tZVsxXSkpfXZhciBMdD1EdDtmdW5jdGlvbiBrdCh0LGUpe3JldHVybih0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pfXZhciBQdD1rdDtmdW5jdGlvbiBPdCh0LGUsbixpKXtyZXR1cm4gdFswXT1lWzBdK2kqKG5bMF0tZVswXSksdFsxXT1lWzFdK2kqKG5bMV0tZVsxXSksdH1mdW5jdGlvbiBSdCh0LGUsbil7dmFyIGk9ZVswXSxyPWVbMV07cmV0dXJuIHRbMF09blswXSppK25bMl0qcituWzRdLHRbMV09blsxXSppK25bM10qcituWzVdLHR9ZnVuY3Rpb24gTnQodCxlLG4pe3JldHVybiB0WzBdPU1hdGgubWluKGVbMF0sblswXSksdFsxXT1NYXRoLm1pbihlWzFdLG5bMV0pLHR9ZnVuY3Rpb24gRXQodCxlLG4pe3JldHVybiB0WzBdPU1hdGgubWF4KGVbMF0sblswXSksdFsxXT1NYXRoLm1heChlWzFdLG5bMV0pLHR9dmFyIHp0PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZTp5dCxjb3B5OnZ0LGNsb25lOm10LHNldDpfdCxhZGQ6eHQsc2NhbGVBbmRBZGQ6YnQsc3ViOnd0LGxlbjpTdCxsZW5ndGg6TXQsbGVuU3F1YXJlOkl0LGxlbmd0aFNxdWFyZTpUdCxtdWw6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0WzBdPWVbMF0qblswXSx0WzFdPWVbMV0qblsxXSx0fSxkaXY6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0WzBdPWVbMF0vblswXSx0WzFdPWVbMV0vblsxXSx0fSxkb3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXX0sc2NhbGU6Q3Qsbm9ybWFsaXplOkF0LGRpc3RhbmNlOkR0LGRpc3Q6THQsZGlzdGFuY2VTcXVhcmU6a3QsZGlzdFNxdWFyZTpQdCxuZWdhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9LGxlcnA6T3QsYXBwbHlUcmFuc2Zvcm06UnQsbWluOk50LG1heDpFdH0pLEJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy50YXJnZXQ9dCx0aGlzLnRvcFRhcmdldD1lJiZlLnRvcFRhcmdldH0sVnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaGFuZGxlcj10LHQub24oXCJtb3VzZWRvd25cIix0aGlzLl9kcmFnU3RhcnQsdGhpcyksdC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX2RyYWcsdGhpcyksdC5vbihcIm1vdXNldXBcIix0aGlzLl9kcmFnRW5kLHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5fZHJhZ1N0YXJ0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnRhcmdldDtlJiYhZS5kcmFnZ2FibGU7KWU9ZS5wYXJlbnQ7ZSYmKHRoaXMuX2RyYWdnaW5nVGFyZ2V0PWUsZS5kcmFnZ2luZz0hMCx0aGlzLl94PXQub2Zmc2V0WCx0aGlzLl95PXQub2Zmc2V0WSx0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IEJ0KGUsdCksXCJkcmFnc3RhcnRcIix0LmV2ZW50KSl9LHQucHJvdG90eXBlLl9kcmFnPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RyYWdnaW5nVGFyZ2V0O2lmKGUpe3ZhciBuPXQub2Zmc2V0WCxpPXQub2Zmc2V0WSxyPW4tdGhpcy5feCxvPWktdGhpcy5feTt0aGlzLl94PW4sdGhpcy5feT1pLGUuZHJpZnQocixvLHQpLHRoaXMuaGFuZGxlci5kaXNwYXRjaFRvRWxlbWVudChuZXcgQnQoZSx0KSxcImRyYWdcIix0LmV2ZW50KTt2YXIgYT10aGlzLmhhbmRsZXIuZmluZEhvdmVyKG4saSxlKS50YXJnZXQscz10aGlzLl9kcm9wVGFyZ2V0O3RoaXMuX2Ryb3BUYXJnZXQ9YSxlIT09YSYmKHMmJmEhPT1zJiZ0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IEJ0KHMsdCksXCJkcmFnbGVhdmVcIix0LmV2ZW50KSxhJiZhIT09cyYmdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBCdChhLHQpLFwiZHJhZ2VudGVyXCIsdC5ldmVudCkpfX0sdC5wcm90b3R5cGUuX2RyYWdFbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7ZSYmKGUuZHJhZ2dpbmc9ITEpLHRoaXMuaGFuZGxlci5kaXNwYXRjaFRvRWxlbWVudChuZXcgQnQoZSx0KSxcImRyYWdlbmRcIix0LmV2ZW50KSx0aGlzLl9kcm9wVGFyZ2V0JiZ0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IEJ0KHRoaXMuX2Ryb3BUYXJnZXQsdCksXCJkcm9wXCIsdC5ldmVudCksdGhpcy5fZHJhZ2dpbmdUYXJnZXQ9bnVsbCx0aGlzLl9kcm9wVGFyZ2V0PW51bGx9LHR9KCksRnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3QmJih0aGlzLl8kZXZlbnRQcm9jZXNzb3I9dCl9cmV0dXJuIHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuXyRoYW5kbGVyc3x8KHRoaXMuXyRoYW5kbGVycz17fSk7dmFyIHI9dGhpcy5fJGhhbmRsZXJzO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihpPW4sbj1lLGU9bnVsbCksIW58fCF0KXJldHVybiB0aGlzO3ZhciBvPXRoaXMuXyRldmVudFByb2Nlc3NvcjtudWxsIT1lJiZvJiZvLm5vcm1hbGl6ZVF1ZXJ5JiYoZT1vLm5vcm1hbGl6ZVF1ZXJ5KGUpKSxyW3RdfHwoclt0XT1bXSk7Zm9yKHZhciBhPTA7YTxyW3RdLmxlbmd0aDthKyspaWYoclt0XVthXS5oPT09bilyZXR1cm4gdGhpczt2YXIgcz17aDpuLHF1ZXJ5OmUsY3R4Oml8fHRoaXMsY2FsbEF0TGFzdDpuLnpyRXZlbnRmdWxDYWxsQXRMYXN0fSxsPXJbdF0ubGVuZ3RoLTEsdT1yW3RdW2xdO3JldHVybiB1JiZ1LmNhbGxBdExhc3Q/clt0XS5zcGxpY2UobCwwLHMpOnJbdF0ucHVzaChzKSx0aGlzfSx0LnByb3RvdHlwZS5pc1NpbGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl8kaGFuZGxlcnM7cmV0dXJuIWV8fCFlW3RdfHwhZVt0XS5sZW5ndGh9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuXyRoYW5kbGVycztpZighbilyZXR1cm4gdGhpcztpZighdClyZXR1cm4gdGhpcy5fJGhhbmRsZXJzPXt9LHRoaXM7aWYoZSl7aWYoblt0XSl7Zm9yKHZhciBpPVtdLHI9MCxvPW5bdF0ubGVuZ3RoO3I8bztyKyspblt0XVtyXS5oIT09ZSYmaS5wdXNoKG5bdF1bcl0pO25bdF09aX1uW3RdJiYwPT09blt0XS5sZW5ndGgmJmRlbGV0ZSBuW3RdfWVsc2UgZGVsZXRlIG5bdF07cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07aWYoIXRoaXMuXyRoYW5kbGVycylyZXR1cm4gdGhpczt2YXIgaT10aGlzLl8kaGFuZGxlcnNbdF0scj10aGlzLl8kZXZlbnRQcm9jZXNzb3I7aWYoaSlmb3IodmFyIG89ZS5sZW5ndGgsYT1pLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIGw9aVtzXTtpZighcnx8IXIuZmlsdGVyfHxudWxsPT1sLnF1ZXJ5fHxyLmZpbHRlcih0LGwucXVlcnkpKXN3aXRjaChvKXtjYXNlIDA6bC5oLmNhbGwobC5jdHgpO2JyZWFrO2Nhc2UgMTpsLmguY2FsbChsLmN0eCxlWzBdKTticmVhaztjYXNlIDI6bC5oLmNhbGwobC5jdHgsZVswXSxlWzFdKTticmVhaztkZWZhdWx0OmwuaC5hcHBseShsLmN0eCxlKX19cmV0dXJuIHImJnIuYWZ0ZXJUcmlnZ2VyJiZyLmFmdGVyVHJpZ2dlcih0KSx0aGlzfSx0LnByb3RvdHlwZS50cmlnZ2VyV2l0aENvbnRleHQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuXyRoYW5kbGVycylyZXR1cm4gdGhpczt2YXIgZT10aGlzLl8kaGFuZGxlcnNbdF0sbj10aGlzLl8kZXZlbnRQcm9jZXNzb3I7aWYoZSlmb3IodmFyIGk9YXJndW1lbnRzLHI9aS5sZW5ndGgsbz1pW3ItMV0sYT1lLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIGw9ZVtzXTtpZighbnx8IW4uZmlsdGVyfHxudWxsPT1sLnF1ZXJ5fHxuLmZpbHRlcih0LGwucXVlcnkpKXN3aXRjaChyKXtjYXNlIDA6bC5oLmNhbGwobyk7YnJlYWs7Y2FzZSAxOmwuaC5jYWxsKG8saVswXSk7YnJlYWs7Y2FzZSAyOmwuaC5jYWxsKG8saVswXSxpWzFdKTticmVhaztkZWZhdWx0OmwuaC5hcHBseShvLGkuc2xpY2UoMSxyLTEpKX19cmV0dXJuIG4mJm4uYWZ0ZXJUcmlnZ2VyJiZuLmFmdGVyVHJpZ2dlcih0KSx0aGlzfSx0fSgpLEd0PU1hdGgubG9nKDIpO2Z1bmN0aW9uIEh0KHQsZSxuLGkscixvKXt2YXIgYT1pK1wiLVwiK3Iscz10Lmxlbmd0aDtpZihvLmhhc093blByb3BlcnR5KGEpKXJldHVybiBvW2FdO2lmKDE9PT1lKXt2YXIgbD1NYXRoLnJvdW5kKE1hdGgubG9nKCgxPDxzKS0xJn5yKS9HdCk7cmV0dXJuIHRbbl1bbF19Zm9yKHZhciB1PWl8MTw8bixoPW4rMTtpJjE8PGg7KWgrKztmb3IodmFyIGM9MCxwPTAsZD0wO3A8cztwKyspe3ZhciBmPTE8PHA7ZiZyfHwoYys9KGQlMj8tMToxKSp0W25dW3BdKkh0KHQsZS0xLGgsdSxyfGYsbyksZCsrKX1yZXR1cm4gb1thXT1jLGN9ZnVuY3Rpb24gV3QodCxlKXt2YXIgbj1bW3RbMF0sdFsxXSwxLDAsMCwwLC1lWzBdKnRbMF0sLWVbMF0qdFsxXV0sWzAsMCwwLHRbMF0sdFsxXSwxLC1lWzFdKnRbMF0sLWVbMV0qdFsxXV0sW3RbMl0sdFszXSwxLDAsMCwwLC1lWzJdKnRbMl0sLWVbMl0qdFszXV0sWzAsMCwwLHRbMl0sdFszXSwxLC1lWzNdKnRbMl0sLWVbM10qdFszXV0sW3RbNF0sdFs1XSwxLDAsMCwwLC1lWzRdKnRbNF0sLWVbNF0qdFs1XV0sWzAsMCwwLHRbNF0sdFs1XSwxLC1lWzVdKnRbNF0sLWVbNV0qdFs1XV0sW3RbNl0sdFs3XSwxLDAsMCwwLC1lWzZdKnRbNl0sLWVbNl0qdFs3XV0sWzAsMCwwLHRbNl0sdFs3XSwxLC1lWzddKnRbNl0sLWVbN10qdFs3XV1dLGk9e30scj1IdChuLDgsMCwwLDAsaSk7aWYoMCE9PXIpe2Zvcih2YXIgbz1bXSxhPTA7YTw4O2ErKylmb3IodmFyIHM9MDtzPDg7cysrKW51bGw9PW9bc10mJihvW3NdPTApLG9bc10rPSgoYStzKSUyPy0xOjEpKkh0KG4sNywwPT09YT8xOjAsMTw8YSwxPDxzLGkpL3IqZVthXTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUqb1s2XStuKm9bN10rMTt0WzBdPShlKm9bMF0rbipvWzFdK29bMl0pL2ksdFsxXT0oZSpvWzNdK24qb1s0XStvWzVdKS9pfX19dmFyIFl0PVtdO2Z1bmN0aW9uIFh0KHQsZSxuLGkscil7aWYoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJmEuZG9tU3VwcG9ydGVkJiYhVXQoZSkpe3ZhciBvPWUuX19fenJFVkVOVFNBVkVEfHwoZS5fX196ckVWRU5UU0FWRUQ9e30pLHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1uP1wiaW52VHJhbnNcIjpcInRyYW5zXCIscj1lW2ldLG89ZS5zcmNDb29yZHMsYT1bXSxzPVtdLGw9ITAsdT0wO3U8NDt1Kyspe3ZhciBoPXRbdV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz0yKnUscD1oLmxlZnQsZD1oLnRvcDthLnB1c2gocCxkKSxsPWwmJm8mJnA9PT1vW2NdJiZkPT09b1tjKzFdLHMucHVzaCh0W3VdLm9mZnNldExlZnQsdFt1XS5vZmZzZXRUb3ApfXJldHVybiBsJiZyP3I6KGUuc3JjQ29vcmRzPWEsZVtpXT1uP1d0KHMsYSk6V3QoYSxzKSl9KGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5tYXJrZXJzO2lmKG4pcmV0dXJuIG47bj1lLm1hcmtlcnM9W107Zm9yKHZhciBpPVtcImxlZnRcIixcInJpZ2h0XCJdLHI9W1widG9wXCIsXCJib3R0b21cIl0sbz0wO288NDtvKyspe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscz1vJTIsbD0obz4+MSklMjthLnN0eWxlLmNzc1RleHQ9W1wicG9zaXRpb246IGFic29sdXRlXCIsXCJ2aXNpYmlsaXR5OiBoaWRkZW5cIixcInBhZGRpbmc6IDBcIixcIm1hcmdpbjogMFwiLFwiYm9yZGVyLXdpZHRoOiAwXCIsXCJ1c2VyLXNlbGVjdDogbm9uZVwiLFwid2lkdGg6MFwiLFwiaGVpZ2h0OjBcIixpW3NdK1wiOjBcIixyW2xdK1wiOjBcIixpWzEtc10rXCI6YXV0b1wiLHJbMS1sXStcIjphdXRvXCIsXCJcIl0uam9pbihcIiFpbXBvcnRhbnQ7XCIpLHQuYXBwZW5kQ2hpbGQoYSksbi5wdXNoKGEpfXJldHVybiBufShlLG8pLG8scik7aWYocylyZXR1cm4gcyh0LG4saSksITB9cmV0dXJuITF9ZnVuY3Rpb24gVXQodCl7cmV0dXJuXCJDQU5WQVNcIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKX12YXIgWnQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmISF3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcixqdD0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8scXQ9W107ZnVuY3Rpb24gS3QodCxlLG4saSl7cmV0dXJuIG49bnx8e30saXx8IWEuY2FudmFzU3VwcG9ydGVkPyR0KHQsZSxuKTphLmJyb3dzZXIuZmlyZWZveCYmbnVsbCE9ZS5sYXllclgmJmUubGF5ZXJYIT09ZS5vZmZzZXRYPyhuLnpyWD1lLmxheWVyWCxuLnpyWT1lLmxheWVyWSk6bnVsbCE9ZS5vZmZzZXRYPyhuLnpyWD1lLm9mZnNldFgsbi56clk9ZS5vZmZzZXRZKTokdCh0LGUsbiksbn1mdW5jdGlvbiAkdCh0LGUsbil7aWYoYS5kb21TdXBwb3J0ZWQmJnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgaT1lLmNsaWVudFgscj1lLmNsaWVudFk7aWYoVXQodCkpe3ZhciBvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIG4uenJYPWktby5sZWZ0LHZvaWQobi56clk9ci1vLnRvcCl9aWYoWHQocXQsdCxpLHIpKXJldHVybiBuLnpyWD1xdFswXSx2b2lkKG4uenJZPXF0WzFdKX1uLnpyWD1uLnpyWT0wfWZ1bmN0aW9uIEp0KHQpe3JldHVybiB0fHx3aW5kb3cuZXZlbnR9ZnVuY3Rpb24gUXQodCxlLG4pe2lmKG51bGwhPShlPUp0KGUpKS56clgpcmV0dXJuIGU7dmFyIGk9ZS50eXBlO2lmKGkmJmkuaW5kZXhPZihcInRvdWNoXCIpPj0wKXt2YXIgcj1cInRvdWNoZW5kXCIhPT1pP2UudGFyZ2V0VG91Y2hlc1swXTplLmNoYW5nZWRUb3VjaGVzWzBdO3ImJkt0KHQscixlLG4pfWVsc2V7S3QodCxlLGUsbik7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGU9dC53aGVlbERlbHRhO2lmKGUpcmV0dXJuIGU7dmFyIG49dC5kZWx0YVgsaT10LmRlbHRhWTtpZihudWxsPT1ufHxudWxsPT1pKXJldHVybiBlO3JldHVybiAzKigwIT09aT9NYXRoLmFicyhpKTpNYXRoLmFicyhuKSkqKGk+MD8tMTppPDA/MTpuPjA/LTE6MSl9KGUpO2UuenJEZWx0YT1vP28vMTIwOi0oZS5kZXRhaWx8fDApLzN9dmFyIGE9ZS5idXR0b247cmV0dXJuIG51bGw9PWUud2hpY2gmJnZvaWQgMCE9PWEmJmp0LnRlc3QoZS50eXBlKSYmKGUud2hpY2g9MSZhPzE6MiZhPzM6NCZhPzI6MCksZX1mdW5jdGlvbiB0ZSh0LGUsbixpKXtadD90LmFkZEV2ZW50TGlzdGVuZXIoZSxuLGkpOnQuYXR0YWNoRXZlbnQoXCJvblwiK2Usbil9dmFyIGVlPVp0P2Z1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHQuY2FuY2VsQnViYmxlPSEwfTpmdW5jdGlvbih0KXt0LnJldHVyblZhbHVlPSExLHQuY2FuY2VsQnViYmxlPSEwfTtmdW5jdGlvbiBuZSh0KXtyZXR1cm4gMj09PXQud2hpY2h8fDM9PT10LndoaWNofXZhciBpZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl90cmFjaz1bXX1yZXR1cm4gdC5wcm90b3R5cGUucmVjb2duaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5fZG9UcmFjayh0LGUsbiksdGhpcy5fcmVjb2duaXplKHQpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFjay5sZW5ndGg9MCx0aGlzfSx0LnByb3RvdHlwZS5fZG9UcmFjaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC50b3VjaGVzO2lmKGkpe2Zvcih2YXIgcj17cG9pbnRzOltdLHRvdWNoZXM6W10sdGFyZ2V0OmUsZXZlbnQ6dH0sbz0wLGE9aS5sZW5ndGg7bzxhO28rKyl7dmFyIHM9aVtvXSxsPUt0KG4scyx7fSk7ci5wb2ludHMucHVzaChbbC56clgsbC56clldKSxyLnRvdWNoZXMucHVzaChzKX10aGlzLl90cmFjay5wdXNoKHIpfX0sdC5wcm90b3R5cGUuX3JlY29nbml6ZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gb2UpaWYob2UuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBuPW9lW2VdKHRoaXMuX3RyYWNrLHQpO2lmKG4pcmV0dXJuIG59fSx0fSgpO2Z1bmN0aW9uIHJlKHQpe3ZhciBlPXRbMV1bMF0tdFswXVswXSxuPXRbMV1bMV0tdFswXVsxXTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStuKm4pfXZhciBvZT17cGluY2g6ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aDtpZihuKXt2YXIgaSxyPSh0W24tMV18fHt9KS5wb2ludHMsbz0odFtuLTJdfHx7fSkucG9pbnRzfHxyO2lmKG8mJm8ubGVuZ3RoPjEmJnImJnIubGVuZ3RoPjEpe3ZhciBhPXJlKHIpL3JlKG8pOyFpc0Zpbml0ZShhKSYmKGE9MSksZS5waW5jaFNjYWxlPWE7dmFyIHM9WygoaT1yKVswXVswXStpWzFdWzBdKS8yLChpWzBdWzFdK2lbMV1bMV0pLzJdO3JldHVybiBlLnBpbmNoWD1zWzBdLGUucGluY2hZPXNbMV0se3R5cGU6XCJwaW5jaFwiLHRhcmdldDp0WzBdLnRhcmdldCxldmVudDplfX19fX0sYWU9XCJzaWxlbnRcIjtmdW5jdGlvbiBzZSgpe2VlKHRoaXMuZXZlbnQpfXZhciBsZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLmhhbmRsZXI9bnVsbCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2V0Q3Vyc29yPWZ1bmN0aW9uKCl7fSxlfShGdCksdWU9ZnVuY3Rpb24odCxlKXt0aGlzLng9dCx0aGlzLnk9ZX0saGU9W1wiY2xpY2tcIixcImRibGNsaWNrXCIsXCJtb3VzZXdoZWVsXCIsXCJtb3VzZW91dFwiLFwibW91c2V1cFwiLFwibW91c2Vkb3duXCIsXCJtb3VzZW1vdmVcIixcImNvbnRleHRtZW51XCJdLGNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLl9ob3ZlcmVkPW5ldyB1ZSgwLDApLG8uc3RvcmFnZT1lLG8ucGFpbnRlcj1uLG8ucGFpbnRlclJvb3Q9cixpPWl8fG5ldyBsZSxvLnByb3h5PW51bGwsby5zZXRIYW5kbGVyUHJveHkoaSksby5fZHJhZ2dpbmdNZ3I9bmV3IFZ0KG8pLG99cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5zZXRIYW5kbGVyUHJveHk9ZnVuY3Rpb24odCl7dGhpcy5wcm94eSYmdGhpcy5wcm94eS5kaXNwb3NlKCksdCYmKFAoaGUsKGZ1bmN0aW9uKGUpe3Qub24mJnQub24oZSx0aGlzW2VdLHRoaXMpfSksdGhpcyksdC5oYW5kbGVyPXRoaXMpLHRoaXMucHJveHk9dH0sZS5wcm90b3R5cGUubW91c2Vtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuenJYLG49dC56clksaT1kZSh0aGlzLGUsbikscj10aGlzLl9ob3ZlcmVkLG89ci50YXJnZXQ7byYmIW8uX196ciYmKG89KHI9dGhpcy5maW5kSG92ZXIoci54LHIueSkpLnRhcmdldCk7dmFyIGE9dGhpcy5faG92ZXJlZD1pP25ldyB1ZShlLG4pOnRoaXMuZmluZEhvdmVyKGUsbikscz1hLnRhcmdldCxsPXRoaXMucHJveHk7bC5zZXRDdXJzb3ImJmwuc2V0Q3Vyc29yKHM/cy5jdXJzb3I6XCJkZWZhdWx0XCIpLG8mJnMhPT1vJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KHIsXCJtb3VzZW91dFwiLHQpLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQoYSxcIm1vdXNlbW92ZVwiLHQpLHMmJnMhPT1vJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KGEsXCJtb3VzZW92ZXJcIix0KX0sZS5wcm90b3R5cGUubW91c2VvdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC56ckV2ZW50Q29udHJvbDtcIm9ubHlfZ2xvYmFsb3V0XCIhPT1lJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KHRoaXMuX2hvdmVyZWQsXCJtb3VzZW91dFwiLHQpLFwibm9fZ2xvYmFsb3V0XCIhPT1lJiZ0aGlzLnRyaWdnZXIoXCJnbG9iYWxvdXRcIix7dHlwZTpcImdsb2JhbG91dFwiLGV2ZW50OnR9KX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5faG92ZXJlZD1uZXcgdWUoMCwwKX0sZS5wcm90b3R5cGUuZGlzcGF0Y2g9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzW3RdO24mJm4uY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5wcm94eS5kaXNwb3NlKCksdGhpcy5zdG9yYWdlPW51bGwsdGhpcy5wcm94eT1udWxsLHRoaXMucGFpbnRlcj1udWxsfSxlLnByb3RvdHlwZS5zZXRDdXJzb3JTdHlsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb3h5O2Uuc2V0Q3Vyc29yJiZlLnNldEN1cnNvcih0KX0sZS5wcm90b3R5cGUuZGlzcGF0Y2hUb0VsZW1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPSh0PXR8fHt9KS50YXJnZXQ7aWYoIWl8fCFpLnNpbGVudCl7Zm9yKHZhciByPVwib25cIitlLG89ZnVuY3Rpb24odCxlLG4pe3JldHVybnt0eXBlOnQsZXZlbnQ6bix0YXJnZXQ6ZS50YXJnZXQsdG9wVGFyZ2V0OmUudG9wVGFyZ2V0LGNhbmNlbEJ1YmJsZTohMSxvZmZzZXRYOm4uenJYLG9mZnNldFk6bi56clksZ2VzdHVyZUV2ZW50Om4uZ2VzdHVyZUV2ZW50LHBpbmNoWDpuLnBpbmNoWCxwaW5jaFk6bi5waW5jaFkscGluY2hTY2FsZTpuLnBpbmNoU2NhbGUsd2hlZWxEZWx0YTpuLnpyRGVsdGEsenJCeVRvdWNoOm4uenJCeVRvdWNoLHdoaWNoOm4ud2hpY2gsc3RvcDpzZX19KGUsdCxuKTtpJiYoaVtyXSYmKG8uY2FuY2VsQnViYmxlPSEhaVtyXS5jYWxsKGksbykpLGkudHJpZ2dlcihlLG8pLGk9aS5fX2hvc3RUYXJnZXQ/aS5fX2hvc3RUYXJnZXQ6aS5wYXJlbnQsIW8uY2FuY2VsQnViYmxlKTspO28uY2FuY2VsQnViYmxlfHwodGhpcy50cmlnZ2VyKGUsbyksdGhpcy5wYWludGVyJiZ0aGlzLnBhaW50ZXIuZWFjaE90aGVyTGF5ZXImJnRoaXMucGFpbnRlci5lYWNoT3RoZXJMYXllcigoZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdFtyXSYmdFtyXS5jYWxsKHQsbyksdC50cmlnZ2VyJiZ0LnRyaWdnZXIoZSxvKX0pKSl9fSxlLnByb3RvdHlwZS5maW5kSG92ZXI9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoKSxyPW5ldyB1ZSh0LGUpLG89aS5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9dm9pZCAwO2lmKGlbb10hPT1uJiYhaVtvXS5pZ25vcmUmJihhPXBlKGlbb10sdCxlKSkmJighci50b3BUYXJnZXQmJihyLnRvcFRhcmdldD1pW29dKSxhIT09YWUpKXtyLnRhcmdldD1pW29dO2JyZWFrfX1yZXR1cm4gcn0sZS5wcm90b3R5cGUucHJvY2Vzc0dlc3R1cmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9nZXN0dXJlTWdyfHwodGhpcy5fZ2VzdHVyZU1ncj1uZXcgaWUpO3ZhciBuPXRoaXMuX2dlc3R1cmVNZ3I7XCJzdGFydFwiPT09ZSYmbi5jbGVhcigpO3ZhciBpPW4ucmVjb2duaXplKHQsdGhpcy5maW5kSG92ZXIodC56clgsdC56clksbnVsbCkudGFyZ2V0LHRoaXMucHJveHkuZG9tKTtpZihcImVuZFwiPT09ZSYmbi5jbGVhcigpLGkpe3ZhciByPWkudHlwZTt0Lmdlc3R1cmVFdmVudD1yO3ZhciBvPW5ldyB1ZTtvLnRhcmdldD1pLnRhcmdldCx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG8scixpLmV2ZW50KX19LGV9KEZ0KTtmdW5jdGlvbiBwZSh0LGUsbil7aWYodFt0LnJlY3RIb3Zlcj9cInJlY3RDb250YWluXCI6XCJjb250YWluXCJdKGUsbikpe2Zvcih2YXIgaT10LHI9dm9pZCAwLG89ITE7aTspe2lmKGkuaWdub3JlQ2xpcCYmKG89ITApLCFvKXt2YXIgYT1pLmdldENsaXBQYXRoKCk7aWYoYSYmIWEuY29udGFpbihlLG4pKXJldHVybiExO2kuc2lsZW50JiYocj0hMCl9dmFyIHM9aS5fX2hvc3RUYXJnZXQ7aT1zfHxpLnBhcmVudH1yZXR1cm4hcnx8YWV9cmV0dXJuITF9ZnVuY3Rpb24gZGUodCxlLG4pe3ZhciBpPXQucGFpbnRlcjtyZXR1cm4gZTwwfHxlPmkuZ2V0V2lkdGgoKXx8bjwwfHxuPmkuZ2V0SGVpZ2h0KCl9ZnVuY3Rpb24gZmUoKXtyZXR1cm5bMSwwLDAsMSwwLDBdfWZ1bmN0aW9uIGdlKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT0wLHRbNV09MCx0fWZ1bmN0aW9uIHllKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHR9ZnVuY3Rpb24gdmUodCxlLG4pe3ZhciBpPWVbMF0qblswXStlWzJdKm5bMV0scj1lWzFdKm5bMF0rZVszXSpuWzFdLG89ZVswXSpuWzJdK2VbMl0qblszXSxhPWVbMV0qblsyXStlWzNdKm5bM10scz1lWzBdKm5bNF0rZVsyXSpuWzVdK2VbNF0sbD1lWzFdKm5bNF0rZVszXSpuWzVdK2VbNV07cmV0dXJuIHRbMF09aSx0WzFdPXIsdFsyXT1vLHRbM109YSx0WzRdPXMsdFs1XT1sLHR9ZnVuY3Rpb24gbWUodCxlLG4pe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdK25bMF0sdFs1XT1lWzVdK25bMV0sdH1mdW5jdGlvbiBfZSh0LGUsbil7dmFyIGk9ZVswXSxyPWVbMl0sbz1lWzRdLGE9ZVsxXSxzPWVbM10sbD1lWzVdLHU9TWF0aC5zaW4obiksaD1NYXRoLmNvcyhuKTtyZXR1cm4gdFswXT1pKmgrYSp1LHRbMV09LWkqdSthKmgsdFsyXT1yKmgrcyp1LHRbM109LXIqdStoKnMsdFs0XT1oKm8rdSpsLHRbNV09aCpsLXUqbyx0fWZ1bmN0aW9uIHhlKHQsZSxuKXt2YXIgaT1uWzBdLHI9blsxXTtyZXR1cm4gdFswXT1lWzBdKmksdFsxXT1lWzFdKnIsdFsyXT1lWzJdKmksdFszXT1lWzNdKnIsdFs0XT1lWzRdKmksdFs1XT1lWzVdKnIsdH1mdW5jdGlvbiBiZSh0LGUpe3ZhciBuPWVbMF0saT1lWzJdLHI9ZVs0XSxvPWVbMV0sYT1lWzNdLHM9ZVs1XSxsPW4qYS1vKmk7cmV0dXJuIGw/KGw9MS9sLHRbMF09YSpsLHRbMV09LW8qbCx0WzJdPS1pKmwsdFszXT1uKmwsdFs0XT0oaSpzLWEqcikqbCx0WzVdPShvKnItbipzKSpsLHQpOm51bGx9ZnVuY3Rpb24gd2UodCl7dmFyIGU9WzEsMCwwLDEsMCwwXTtyZXR1cm4geWUoZSx0KSxlfVAoW1wiY2xpY2tcIixcIm1vdXNlZG93blwiLFwibW91c2V1cFwiLFwibW91c2V3aGVlbFwiLFwiZGJsY2xpY2tcIixcImNvbnRleHRtZW51XCJdLChmdW5jdGlvbih0KXtjZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSl7dmFyIG4saSxyPWUuenJYLG89ZS56clksYT1kZSh0aGlzLHIsbyk7aWYoXCJtb3VzZXVwXCI9PT10JiZhfHwoaT0obj10aGlzLmZpbmRIb3ZlcihyLG8pKS50YXJnZXQpLFwibW91c2Vkb3duXCI9PT10KXRoaXMuX2Rvd25FbD1pLHRoaXMuX2Rvd25Qb2ludD1bZS56clgsZS56clldLHRoaXMuX3VwRWw9aTtlbHNlIGlmKFwibW91c2V1cFwiPT09dCl0aGlzLl91cEVsPWk7ZWxzZSBpZihcImNsaWNrXCI9PT10KXtpZih0aGlzLl9kb3duRWwhPT10aGlzLl91cEVsfHwhdGhpcy5fZG93blBvaW50fHxMdCh0aGlzLl9kb3duUG9pbnQsW2UuenJYLGUuenJZXSk+NClyZXR1cm47dGhpcy5fZG93blBvaW50PW51bGx9dGhpcy5kaXNwYXRjaFRvRWxlbWVudChuLHQsZSl9fSkpO3ZhciBTZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxjcmVhdGU6ZmUsaWRlbnRpdHk6Z2UsY29weTp5ZSxtdWw6dmUsdHJhbnNsYXRlOm1lLHJvdGF0ZTpfZSxzY2FsZTp4ZSxpbnZlcnQ6YmUsY2xvbmU6d2V9KSxNZT1nZSxJZT01ZS01O2Z1bmN0aW9uIFRlKHQpe3JldHVybiB0PkllfHx0PC01ZS01fXZhciBDZT1bXSxBZT1bXSxEZT1bMSwwLDAsMSwwLDBdLExlPU1hdGguYWJzLGtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy54PXRbMF0sdGhpcy55PXRbMV19LHQucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKHQpe3RoaXMuc2NhbGVYPXRbMF0sdGhpcy5zY2FsZVk9dFsxXX0sdC5wcm90b3R5cGUuc2V0T3JpZ2luPWZ1bmN0aW9uKHQpe3RoaXMub3JpZ2luWD10WzBdLHRoaXMub3JpZ2luWT10WzFdfSx0LnByb3RvdHlwZS5uZWVkTG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gVGUodGhpcy5yb3RhdGlvbil8fFRlKHRoaXMueCl8fFRlKHRoaXMueSl8fFRlKHRoaXMuc2NhbGVYLTEpfHxUZSh0aGlzLnNjYWxlWS0xKX0sdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnQsZT10JiZ0LnRyYW5zZm9ybSxuPXRoaXMubmVlZExvY2FsVHJhbnNmb3JtKCksaT10aGlzLnRyYW5zZm9ybTtufHxlPyhpPWl8fFsxLDAsMCwxLDAsMF0sbj90aGlzLmdldExvY2FsVHJhbnNmb3JtKGkpOk1lKGkpLGUmJihuP3ZlKGksdC50cmFuc2Zvcm0saSk6eWUoaSx0LnRyYW5zZm9ybSkpLHRoaXMudHJhbnNmb3JtPWksdGhpcy5fcmVzb2x2ZUdsb2JhbFNjYWxlUmF0aW8oaSkpOmkmJk1lKGkpfSx0LnByb3RvdHlwZS5fcmVzb2x2ZUdsb2JhbFNjYWxlUmF0aW89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbG9iYWxTY2FsZVJhdGlvO2lmKG51bGwhPWUmJjEhPT1lKXt0aGlzLmdldEdsb2JhbFNjYWxlKENlKTt2YXIgbj1DZVswXTwwPy0xOjEsaT1DZVsxXTwwPy0xOjEscj0oKENlWzBdLW4pKmUrbikvQ2VbMF18fDAsbz0oKENlWzFdLWkpKmUraSkvQ2VbMV18fDA7dFswXSo9cix0WzFdKj1yLHRbMl0qPW8sdFszXSo9b310aGlzLmludlRyYW5zZm9ybT10aGlzLmludlRyYW5zZm9ybXx8WzEsMCwwLDEsMCwwXSxiZSh0aGlzLmludlRyYW5zZm9ybSx0KX0sdC5wcm90b3R5cGUuZ2V0TG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0TG9jYWxUcmFuc2Zvcm0odGhpcyxlKX0sdC5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPVtdO3Q7KWUucHVzaCh0KSx0PXQucGFyZW50O2Zvcig7dD1lLnBvcCgpOyl0LnVwZGF0ZVRyYW5zZm9ybSgpO3JldHVybiB0aGlzLnRyYW5zZm9ybX0sdC5wcm90b3R5cGUuc2V0TG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dFswXSp0WzBdK3RbMV0qdFsxXSxuPXRbMl0qdFsyXSt0WzNdKnRbM107VGUoZS0xKSYmKGU9TWF0aC5zcXJ0KGUpKSxUZShuLTEpJiYobj1NYXRoLnNxcnQobikpLHRbMF08MCYmKGU9LWUpLHRbM108MCYmKG49LW4pLHRoaXMucm90YXRpb249TWF0aC5hdGFuMigtdFsxXS9uLHRbMF0vZSksZTwwJiZuPDAmJih0aGlzLnJvdGF0aW9uKz1NYXRoLlBJLGU9LWUsbj0tbiksdGhpcy54PXRbNF0sdGhpcy55PXRbNV0sdGhpcy5zY2FsZVg9ZSx0aGlzLnNjYWxlWT1ufX0sdC5wcm90b3R5cGUuZGVjb21wb3NlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7aWYodGhpcy50cmFuc2Zvcm0pe3ZhciB0PXRoaXMucGFyZW50LGU9dGhpcy50cmFuc2Zvcm07dCYmdC50cmFuc2Zvcm0mJih2ZShBZSx0LmludlRyYW5zZm9ybSxlKSxlPUFlKTt2YXIgbj10aGlzLm9yaWdpblgsaT10aGlzLm9yaWdpblk7KG58fGkpJiYoRGVbNF09bixEZVs1XT1pLHZlKEFlLGUsRGUpLEFlWzRdLT1uLEFlWzVdLT1pLGU9QWUpLHRoaXMuc2V0TG9jYWxUcmFuc2Zvcm0oZSl9fSx0LnByb3RvdHlwZS5nZXRHbG9iYWxTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zZm9ybTtyZXR1cm4gdD10fHxbXSxlPyh0WzBdPU1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKSx0WzFdPU1hdGguc3FydChlWzJdKmVbMl0rZVszXSplWzNdKSxlWzBdPDAmJih0WzBdPS10WzBdKSxlWzNdPDAmJih0WzFdPS10WzFdKSx0KToodFswXT0xLHRbMV09MSx0KX0sdC5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRUb0xvY2FsPWZ1bmN0aW9uKHQsZSl7dmFyIG49W3QsZV0saT10aGlzLmludlRyYW5zZm9ybTtyZXR1cm4gaSYmUnQobixuLGkpLG59LHQucHJvdG90eXBlLnRyYW5zZm9ybUNvb3JkVG9HbG9iYWw9ZnVuY3Rpb24odCxlKXt2YXIgbj1bdCxlXSxpPXRoaXMudHJhbnNmb3JtO3JldHVybiBpJiZSdChuLG4saSksbn0sdC5wcm90b3R5cGUuZ2V0TGluZVNjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmFuc2Zvcm07cmV0dXJuIHQmJkxlKHRbMF0tMSk+MWUtMTAmJkxlKHRbM10tMSk+MWUtMTA/TWF0aC5zcXJ0KExlKHRbMF0qdFszXS10WzJdKnRbMV0pKToxfSx0LmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7TWUoZT1lfHxbXSk7dmFyIG49dC5vcmlnaW5YfHwwLGk9dC5vcmlnaW5ZfHwwLHI9dC5zY2FsZVgsbz10LnNjYWxlWSxhPXQucm90YXRpb258fDAscz10LngsbD10Lnk7cmV0dXJuIGVbNF0tPW4sZVs1XS09aSxlWzBdKj1yLGVbMV0qPW8sZVsyXSo9cixlWzNdKj1vLGVbNF0qPXIsZVs1XSo9byxhJiZfZShlLGUsYSksZVs0XSs9bixlWzVdKz1pLGVbNF0rPXMsZVs1XSs9bCxlfSx0LmluaXREZWZhdWx0UHJvcHM9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZTtlLng9MCxlLnk9MCxlLnNjYWxlWD0xLGUuc2NhbGVZPTEsZS5vcmlnaW5YPTAsZS5vcmlnaW5ZPTAsZS5yb3RhdGlvbj0wLGUuZ2xvYmFsU2NhbGVSYXRpbz0xfSgpLHR9KCksUGU9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0scXVhZHJhdGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0scXVhZHJhdGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSxxdWFkcmF0aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQ6LS41KigtLXQqKHQtMiktMSl9LGN1YmljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxjdWJpY091dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KzF9LGN1YmljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQ6LjUqKCh0LT0yKSp0KnQrMil9LHF1YXJ0aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdH0scXVhcnRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4gMS0gLS10KnQqdCp0fSxxdWFydGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdDotLjUqKCh0LT0yKSp0KnQqdC0yKX0scXVpbnRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0KnR9LHF1aW50aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCp0KnQrMX0scXVpbnRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0KnQqdDouNSooKHQtPTIpKnQqdCp0KnQrMil9LHNpbnVzb2lkYWxJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLmNvcyh0Kk1hdGguUEkvMil9LHNpbnVzb2lkYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc2luKHQqTWF0aC5QSS8yKX0sc2ludXNvaWRhbEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybi41KigxLU1hdGguY29zKE1hdGguUEkqdCkpfSxleHBvbmVudGlhbEluOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOk1hdGgucG93KDEwMjQsdC0xKX0sZXhwb25lbnRpYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10PzE6MS1NYXRoLnBvdygyLC0xMCp0KX0sZXhwb25lbnRpYWxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Kj0yKTwxPy41Kk1hdGgucG93KDEwMjQsdC0xKTouNSooMi1NYXRoLnBvdygyLC0xMCoodC0xKSkpfSxjaXJjdWxhckluOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguc3FydCgxLXQqdCl9LGNpcmN1bGFyT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSxjaXJjdWxhckluT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy0uNSooTWF0aC5zcXJ0KDEtdCp0KS0xKTouNSooTWF0aC5zcXJ0KDEtKHQtPTIpKnQpKzEpfSxlbGFzdGljSW46ZnVuY3Rpb24odCl7dmFyIGUsbj0uMTtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOighbnx8bjwxPyhuPTEsZT0uMSk6ZT0uNCpNYXRoLmFzaW4oMS9uKS8oMipNYXRoLlBJKSwtbipNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKX0sZWxhc3RpY091dDpmdW5jdGlvbih0KXt2YXIgZSxuPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFufHxuPDE/KG49MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL24pLygyKk1hdGguUEkpLG4qTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKzEpfSxlbGFzdGljSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGUsbj0uMSxpPS40O3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFufHxuPDE/KG49MSxlPS4xKTplPWkqTWF0aC5hc2luKDEvbikvKDIqTWF0aC5QSSksKHQqPTIpPDE/bipNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvaSkqLS41Om4qTWF0aC5wb3coMiwtMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS9pKSouNSsxKX0sYmFja0luOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuIHQqdCooKGUrMSkqdC1lKX0sYmFja091dDpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybi0tdCp0KigoZSsxKSp0K2UpKzF9LGJhY2tJbk91dDpmdW5jdGlvbih0KXt2YXIgZT0yLjU5NDkwOTU7cmV0dXJuKHQqPTIpPDE/dCp0KigoZSsxKSp0LWUpKi41Oi41KigodC09MikqdCooKGUrMSkqdCtlKSsyKX0sYm91bmNlSW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtUGUuYm91bmNlT3V0KDEtdCl9LGJvdW5jZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwxLzIuNzU/Ny41NjI1KnQqdDp0PDIvMi43NT83LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NTp0PDIuNS8yLjc1PzcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1OjcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1fSxib3VuY2VJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT8uNSpQZS5ib3VuY2VJbigyKnQpOi41KlBlLmJvdW5jZU91dCgyKnQtMSkrLjV9fSxPZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5fc3RhcnRUaW1lPTAsdGhpcy5fcGF1c2VkVGltZT0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9saWZlPXQubGlmZXx8MWUzLHRoaXMuX2RlbGF5PXQuZGVsYXl8fDAsdGhpcy5sb29wPW51bGwhPXQubG9vcCYmdC5sb29wLHRoaXMuZ2FwPXQuZ2FwfHwwLHRoaXMuZWFzaW5nPXQuZWFzaW5nfHxcImxpbmVhclwiLHRoaXMub25mcmFtZT10Lm9uZnJhbWUsdGhpcy5vbmRlc3Ryb3k9dC5vbmRlc3Ryb3ksdGhpcy5vbnJlc3RhcnQ9dC5vbnJlc3RhcnR9cmV0dXJuIHQucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pbml0aWFsaXplZHx8KHRoaXMuX3N0YXJ0VGltZT10K3RoaXMuX2RlbGF5LHRoaXMuX2luaXRpYWxpemVkPSEwKSwhdGhpcy5fcGF1c2VkKXt2YXIgbj0odC10aGlzLl9zdGFydFRpbWUtdGhpcy5fcGF1c2VkVGltZSkvdGhpcy5fbGlmZTtuPDAmJihuPTApLG49TWF0aC5taW4obiwxKTt2YXIgaT10aGlzLmVhc2luZyxyPVwic3RyaW5nXCI9PXR5cGVvZiBpP1BlW2ldOmksbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3Iobik6bjtpZih0aGlzLm9uZnJhbWUmJnRoaXMub25mcmFtZShvKSwxPT09bil7aWYoIXRoaXMubG9vcClyZXR1cm4hMDt0aGlzLl9yZXN0YXJ0KHQpLHRoaXMub25yZXN0YXJ0JiZ0aGlzLm9ucmVzdGFydCgpfXJldHVybiExfXRoaXMuX3BhdXNlZFRpbWUrPWV9LHQucHJvdG90eXBlLl9yZXN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPSh0LXRoaXMuX3N0YXJ0VGltZS10aGlzLl9wYXVzZWRUaW1lKSV0aGlzLl9saWZlO3RoaXMuX3N0YXJ0VGltZT10LWUrdGhpcy5nYXAsdGhpcy5fcGF1c2VkVGltZT0wfSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMH0sdC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSExfSx0fSgpLFJlPWZ1bmN0aW9uKHQpe3RoaXMudmFsdWU9dH0sTmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fbGVuPTB9cmV0dXJuIHQucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgUmUodCk7cmV0dXJuIHRoaXMuaW5zZXJ0RW50cnkoZSksZX0sdC5wcm90b3R5cGUuaW5zZXJ0RW50cnk9ZnVuY3Rpb24odCl7dGhpcy5oZWFkPyh0aGlzLnRhaWwubmV4dD10LHQucHJldj10aGlzLnRhaWwsdC5uZXh0PW51bGwsdGhpcy50YWlsPXQpOnRoaXMuaGVhZD10aGlzLnRhaWw9dCx0aGlzLl9sZW4rK30sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucHJldixuPXQubmV4dDtlP2UubmV4dD1uOnRoaXMuaGVhZD1uLG4/bi5wcmV2PWU6dGhpcy50YWlsPWUsdC5uZXh0PXQucHJldj1udWxsLHRoaXMuX2xlbi0tfSx0LnByb3RvdHlwZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVufSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLl9sZW49MH0sdH0oKSxFZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbGlzdD1uZXcgTmUsdGhpcy5fbWF4U2l6ZT0xMCx0aGlzLl9tYXA9e30sdGhpcy5fbWF4U2l6ZT10fXJldHVybiB0LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9saXN0LGk9dGhpcy5fbWFwLHI9bnVsbDtpZihudWxsPT1pW3RdKXt2YXIgbz1uLmxlbigpLGE9dGhpcy5fbGFzdFJlbW92ZWRFbnRyeTtpZihvPj10aGlzLl9tYXhTaXplJiZvPjApe3ZhciBzPW4uaGVhZDtuLnJlbW92ZShzKSxkZWxldGUgaVtzLmtleV0scj1zLnZhbHVlLHRoaXMuX2xhc3RSZW1vdmVkRW50cnk9c31hP2EudmFsdWU9ZTphPW5ldyBSZShlKSxhLmtleT10LG4uaW5zZXJ0RW50cnkoYSksaVt0XT1hfXJldHVybiByfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwW3RdLG49dGhpcy5fbGlzdDtpZihudWxsIT1lKXJldHVybiBlIT09bi50YWlsJiYobi5yZW1vdmUoZSksbi5pbnNlcnRFbnRyeShlKSksZS52YWx1ZX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9saXN0LmNsZWFyKCksdGhpcy5fbWFwPXt9fSx0LnByb3RvdHlwZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdC5sZW4oKX0sdH0oKSx6ZT17dHJhbnNwYXJlbnQ6WzAsMCwwLDBdLGFsaWNlYmx1ZTpbMjQwLDI0OCwyNTUsMV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNSwxXSxhcXVhOlswLDI1NSwyNTUsMV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTIsMV0sYXp1cmU6WzI0MCwyNTUsMjU1LDFdLGJlaWdlOlsyNDUsMjQ1LDIyMCwxXSxiaXNxdWU6WzI1NSwyMjgsMTk2LDFdLGJsYWNrOlswLDAsMCwxXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDUsMV0sYmx1ZTpbMCwwLDI1NSwxXSxibHVldmlvbGV0OlsxMzgsNDMsMjI2LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sYnVybHl3b29kOlsyMjIsMTg0LDEzNSwxXSxjYWRldGJsdWU6Wzk1LDE1OCwxNjAsMV0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwLDFdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMCwxXSxjb3JhbDpbMjU1LDEyNyw4MCwxXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzcsMV0sY29ybnNpbGs6WzI1NSwyNDgsMjIwLDFdLGNyaW1zb246WzIyMCwyMCw2MCwxXSxjeWFuOlswLDI1NSwyNTUsMV0sZGFya2JsdWU6WzAsMCwxMzksMV0sZGFya2N5YW46WzAsMTM5LDEzOSwxXSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExLDFdLGRhcmtncmF5OlsxNjksMTY5LDE2OSwxXSxkYXJrZ3JlZW46WzAsMTAwLDAsMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtraGFraTpbMTg5LDE4MywxMDcsMV0sZGFya21hZ2VudGE6WzEzOSwwLDEzOSwxXSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3LDFdLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMCwxXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0LDFdLGRhcmtyZWQ6WzEzOSwwLDAsMV0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjIsMV0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0MywxXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzksMV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzksMV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzksMV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5LDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxkZWVwcGluazpbMjU1LDIwLDE0NywxXSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1LDFdLGRpbWdyYXk6WzEwNSwxMDUsMTA1LDFdLGRpbWdyZXk6WzEwNSwxMDUsMTA1LDFdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTUsMV0sZmlyZWJyaWNrOlsxNzgsMzQsMzQsMV0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwLDFdLGZvcmVzdGdyZWVuOlszNCwxMzksMzQsMV0sZnVjaHNpYTpbMjU1LDAsMjU1LDFdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjAsMV0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTUsMV0sZ29sZDpbMjU1LDIxNSwwLDFdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMiwxXSxncmF5OlsxMjgsMTI4LDEyOCwxXSxncmVlbjpbMCwxMjgsMCwxXSxncmVlbnllbGxvdzpbMTczLDI1NSw0NywxXSxncmV5OlsxMjgsMTI4LDEyOCwxXSxob25leWRldzpbMjQwLDI1NSwyNDAsMV0saG90cGluazpbMjU1LDEwNSwxODAsMV0saW5kaWFucmVkOlsyMDUsOTIsOTIsMV0saW5kaWdvOls3NSwwLDEzMCwxXSxpdm9yeTpbMjU1LDI1NSwyNDAsMV0sa2hha2k6WzI0MCwyMzAsMTQwLDFdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MCwxXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NSwxXSxsYXduZ3JlZW46WzEyNCwyNTIsMCwxXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1LDFdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzAsMV0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjgsMV0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NSwxXSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTAsMV0sbGlnaHRncmF5OlsyMTEsMjExLDIxMSwxXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NCwxXSxsaWdodGdyZXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTMsMV0sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyLDFdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzAsMV0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MCwxXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMiwxXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjQsMV0sbGltZTpbMCwyNTUsMCwxXSxsaW1lZ3JlZW46WzUwLDIwNSw1MCwxXSxsaW5lbjpbMjUwLDI0MCwyMzAsMV0sbWFnZW50YTpbMjU1LDAsMjU1LDFdLG1hcm9vbjpbMTI4LDAsMCwxXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MCwxXSxtZWRpdW1ibHVlOlswLDAsMjA1LDFdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMSwxXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5LDFdLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzLDFdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzgsMV0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NCwxXSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDQsMV0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzLDFdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyLDFdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTAsMV0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNSwxXSxtb2NjYXNpbjpbMjU1LDIyOCwxODEsMV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczLDFdLG5hdnk6WzAsMCwxMjgsMV0sb2xkbGFjZTpbMjUzLDI0NSwyMzAsMV0sb2xpdmU6WzEyOCwxMjgsMCwxXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzUsMV0sb3JhbmdlOlsyNTUsMTY1LDAsMV0sb3JhbmdlcmVkOlsyNTUsNjksMCwxXSxvcmNoaWQ6WzIxOCwxMTIsMjE0LDFdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwLDFdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTIsMV0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzgsMV0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDcsMV0scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTMsMV0scGVhY2hwdWZmOlsyNTUsMjE4LDE4NSwxXSxwZXJ1OlsyMDUsMTMzLDYzLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHBsdW06WzIyMSwxNjAsMjIxLDFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX07ZnVuY3Rpb24gQmUodCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOnQ+MjU1PzI1NTp0fWZ1bmN0aW9uIFZlKHQpe3JldHVybiB0PDA/MDp0PjE/MTp0fWZ1bmN0aW9uIEZlKHQpe3ZhciBlPXQ7cmV0dXJuIGUubGVuZ3RoJiZcIiVcIj09PWUuY2hhckF0KGUubGVuZ3RoLTEpP0JlKHBhcnNlRmxvYXQoZSkvMTAwKjI1NSk6QmUocGFyc2VJbnQoZSwxMCkpfWZ1bmN0aW9uIEdlKHQpe3ZhciBlPXQ7cmV0dXJuIGUubGVuZ3RoJiZcIiVcIj09PWUuY2hhckF0KGUubGVuZ3RoLTEpP1ZlKHBhcnNlRmxvYXQoZSkvMTAwKTpWZShwYXJzZUZsb2F0KGUpKX1mdW5jdGlvbiBIZSh0LGUsbil7cmV0dXJuIG48MD9uKz0xOm4+MSYmKG4tPTEpLDYqbjwxP3QrKGUtdCkqbio2OjIqbjwxP2U6MypuPDI/dCsoZS10KSooMi8zLW4pKjY6dH1mdW5jdGlvbiBXZSh0LGUsbil7cmV0dXJuIHQrKGUtdCkqbn1mdW5jdGlvbiBZZSh0LGUsbixpLHIpe3JldHVybiB0WzBdPWUsdFsxXT1uLHRbMl09aSx0WzNdPXIsdH1mdW5jdGlvbiBYZSh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH12YXIgVWU9bmV3IEVlKDIwKSxaZT1udWxsO2Z1bmN0aW9uIGplKHQsZSl7WmUmJlhlKFplLGUpLFplPVVlLnB1dCh0LFplfHxlLnNsaWNlKCkpfWZ1bmN0aW9uIHFlKHQsZSl7aWYodCl7ZT1lfHxbXTt2YXIgbj1VZS5nZXQodCk7aWYobilyZXR1cm4gWGUoZSxuKTt2YXIgaT0odCs9XCJcIikucmVwbGFjZSgvIC9nLFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYoaSBpbiB6ZSlyZXR1cm4gWGUoZSx6ZVtpXSksamUodCxlKSxlO3ZhciByLG89aS5sZW5ndGg7aWYoXCIjXCI9PT1pLmNoYXJBdCgwKSlyZXR1cm4gND09PW98fDU9PT1vPyhyPXBhcnNlSW50KGkuc2xpY2UoMSw0KSwxNikpPj0wJiZyPD00MDk1PyhZZShlLCgzODQwJnIpPj40fCgzODQwJnIpPj44LDI0MCZyfCgyNDAmcik+PjQsMTUmcnwoMTUmcik8PDQsNT09PW8/cGFyc2VJbnQoaS5zbGljZSg0KSwxNikvMTU6MSksamUodCxlKSxlKTp2b2lkIFllKGUsMCwwLDAsMSk6Nz09PW98fDk9PT1vPyhyPXBhcnNlSW50KGkuc2xpY2UoMSw3KSwxNikpPj0wJiZyPD0xNjc3NzIxNT8oWWUoZSwoMTY3MTE2ODAmcik+PjE2LCg2NTI4MCZyKT4+OCwyNTUmciw5PT09bz9wYXJzZUludChpLnNsaWNlKDcpLDE2KS8yNTU6MSksamUodCxlKSxlKTp2b2lkIFllKGUsMCwwLDAsMSk6dm9pZCAwO3ZhciBhPWkuaW5kZXhPZihcIihcIikscz1pLmluZGV4T2YoXCIpXCIpO2lmKC0xIT09YSYmcysxPT09byl7dmFyIGw9aS5zdWJzdHIoMCxhKSx1PWkuc3Vic3RyKGErMSxzLShhKzEpKS5zcGxpdChcIixcIiksaD0xO3N3aXRjaChsKXtjYXNlXCJyZ2JhXCI6aWYoNCE9PXUubGVuZ3RoKXJldHVybiAzPT09dS5sZW5ndGg/WWUoZSwrdVswXSwrdVsxXSwrdVsyXSwxKTpZZShlLDAsMCwwLDEpO2g9R2UodS5wb3AoKSk7Y2FzZVwicmdiXCI6cmV0dXJuIDMhPT11Lmxlbmd0aD92b2lkIFllKGUsMCwwLDAsMSk6KFllKGUsRmUodVswXSksRmUodVsxXSksRmUodVsyXSksaCksamUodCxlKSxlKTtjYXNlXCJoc2xhXCI6cmV0dXJuIDQhPT11Lmxlbmd0aD92b2lkIFllKGUsMCwwLDAsMSk6KHVbM109R2UodVszXSksS2UodSxlKSxqZSh0LGUpLGUpO2Nhc2VcImhzbFwiOnJldHVybiAzIT09dS5sZW5ndGg/dm9pZCBZZShlLDAsMCwwLDEpOihLZSh1LGUpLGplKHQsZSksZSk7ZGVmYXVsdDpyZXR1cm59fVllKGUsMCwwLDAsMSl9fWZ1bmN0aW9uIEtlKHQsZSl7dmFyIG49KHBhcnNlRmxvYXQodFswXSklMzYwKzM2MCklMzYwLzM2MCxpPUdlKHRbMV0pLHI9R2UodFsyXSksbz1yPD0uNT9yKihpKzEpOnIraS1yKmksYT0yKnItbztyZXR1cm4gWWUoZT1lfHxbXSxCZSgyNTUqSGUoYSxvLG4rMS8zKSksQmUoMjU1KkhlKGEsbyxuKSksQmUoMjU1KkhlKGEsbyxuLTEvMykpLDEpLDQ9PT10Lmxlbmd0aCYmKGVbM109dFszXSksZX1mdW5jdGlvbiAkZSh0LGUpe3ZhciBuPXFlKHQpO2lmKG4pe2Zvcih2YXIgaT0wO2k8MztpKyspbltpXT1lPDA/bltpXSooMS1lKXwwOigyNTUtbltpXSkqZStuW2ldfDAsbltpXT4yNTU/bltpXT0yNTU6bltpXTwwJiYobltpXT0wKTtyZXR1cm4gYW4obiw0PT09bi5sZW5ndGg/XCJyZ2JhXCI6XCJyZ2JcIil9fWZ1bmN0aW9uIEplKHQpe3ZhciBlPXFlKHQpO2lmKGUpcmV0dXJuKCgxPDwyNCkrKGVbMF08PDE2KSsoZVsxXTw8OCkrICtlWzJdKS50b1N0cmluZygxNikuc2xpY2UoMSl9ZnVuY3Rpb24gUWUodCxlLG4pe2lmKGUmJmUubGVuZ3RoJiZ0Pj0wJiZ0PD0xKXtuPW58fFtdO3ZhciBpPXQqKGUubGVuZ3RoLTEpLHI9TWF0aC5mbG9vcihpKSxvPU1hdGguY2VpbChpKSxhPWVbcl0scz1lW29dLGw9aS1yO3JldHVybiBuWzBdPUJlKFdlKGFbMF0sc1swXSxsKSksblsxXT1CZShXZShhWzFdLHNbMV0sbCkpLG5bMl09QmUoV2UoYVsyXSxzWzJdLGwpKSxuWzNdPVZlKFdlKGFbM10sc1szXSxsKSksbn19dmFyIHRuPVFlO2Z1bmN0aW9uIGVuKHQsZSxuKXtpZihlJiZlLmxlbmd0aCYmdD49MCYmdDw9MSl7dmFyIGk9dCooZS5sZW5ndGgtMSkscj1NYXRoLmZsb29yKGkpLG89TWF0aC5jZWlsKGkpLGE9cWUoZVtyXSkscz1xZShlW29dKSxsPWktcix1PWFuKFtCZShXZShhWzBdLHNbMF0sbCkpLEJlKFdlKGFbMV0sc1sxXSxsKSksQmUoV2UoYVsyXSxzWzJdLGwpKSxWZShXZShhWzNdLHNbM10sbCkpXSxcInJnYmFcIik7cmV0dXJuIG4/e2NvbG9yOnUsbGVmdEluZGV4OnIscmlnaHRJbmRleDpvLHZhbHVlOml9OnV9fXZhciBubj1lbjtmdW5jdGlvbiBybih0LGUsbixpKXt2YXIgcj1xZSh0KTtpZih0KXJldHVybiByPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlLG4saT10WzBdLzI1NSxyPXRbMV0vMjU1LG89dFsyXS8yNTUsYT1NYXRoLm1pbihpLHIsbykscz1NYXRoLm1heChpLHIsbyksbD1zLWEsdT0ocythKS8yO2lmKDA9PT1sKWU9MCxuPTA7ZWxzZXtuPXU8LjU/bC8ocythKTpsLygyLXMtYSk7dmFyIGg9KChzLWkpLzYrbC8yKS9sLGM9KChzLXIpLzYrbC8yKS9sLHA9KChzLW8pLzYrbC8yKS9sO2k9PT1zP2U9cC1jOnI9PT1zP2U9MS8zK2gtcDpvPT09cyYmKGU9Mi8zK2MtaCksZTwwJiYoZSs9MSksZT4xJiYoZS09MSl9dmFyIGQ9WzM2MCplLG4sdV07cmV0dXJuIG51bGwhPXRbM10mJmQucHVzaCh0WzNdKSxkfX0ociksbnVsbCE9ZSYmKHJbMF09ZnVuY3Rpb24odCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOnQ+MzYwPzM2MDp0fShlKSksbnVsbCE9biYmKHJbMV09R2UobikpLG51bGwhPWkmJihyWzJdPUdlKGkpKSxhbihLZShyKSxcInJnYmFcIil9ZnVuY3Rpb24gb24odCxlKXt2YXIgbj1xZSh0KTtpZihuJiZudWxsIT1lKXJldHVybiBuWzNdPVZlKGUpLGFuKG4sXCJyZ2JhXCIpfWZ1bmN0aW9uIGFuKHQsZSl7aWYodCYmdC5sZW5ndGgpe3ZhciBuPXRbMF0rXCIsXCIrdFsxXStcIixcIit0WzJdO3JldHVyblwicmdiYVwiIT09ZSYmXCJoc3ZhXCIhPT1lJiZcImhzbGFcIiE9PWV8fChuKz1cIixcIit0WzNdKSxlK1wiKFwiK24rXCIpXCJ9fWZ1bmN0aW9uIHNuKHQsZSl7dmFyIG49cWUodCk7cmV0dXJuIG4/KC4yOTkqblswXSsuNTg3Km5bMV0rLjExNCpuWzJdKSpuWzNdLzI1NSsoMS1uWzNdKSplOjB9dmFyIGxuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHBhcnNlOnFlLGxpZnQ6JGUsdG9IZXg6SmUsZmFzdExlcnA6UWUsZmFzdE1hcFRvQ29sb3I6dG4sbGVycDplbixtYXBUb0NvbG9yOm5uLG1vZGlmeUhTTDpybixtb2RpZnlBbHBoYTpvbixzdHJpbmdpZnk6YW4sbHVtOnNuLHJhbmRvbTpmdW5jdGlvbigpe3JldHVyblwicmdiKFwiK01hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpK1wiLFwiK01hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpK1wiLFwiK01hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpK1wiKVwifX0pLHVuPUFycmF5LnByb3RvdHlwZS5zbGljZTtmdW5jdGlvbiBobih0LGUsbil7cmV0dXJuKGUtdCkqbit0fWZ1bmN0aW9uIGNuKHQsZSxuLGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxvPTA7bzxyO28rKyl0W29dPWhuKGVbb10sbltvXSxpKX1mdW5jdGlvbiBwbih0LGUsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz0wO288cjtvKyspdFtvXT1lW29dK25bb10qaTtyZXR1cm4gdH1mdW5jdGlvbiBkbih0LGUsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz1yJiZlWzBdLmxlbmd0aCxhPTA7YTxyO2ErKyl7dFthXXx8KHRbYV09W10pO2Zvcih2YXIgcz0wO3M8bztzKyspdFthXVtzXT1lW2FdW3NdK25bYV1bc10qaX1yZXR1cm4gdH1mdW5jdGlvbiBmbih0LGUsbil7dmFyIGk9dCxyPWU7aWYoaS5wdXNoJiZyLnB1c2gpe3ZhciBvPWkubGVuZ3RoLGE9ci5sZW5ndGg7aWYobyE9PWEpaWYobz5hKWkubGVuZ3RoPWE7ZWxzZSBmb3IodmFyIHM9bztzPGE7cysrKWkucHVzaCgxPT09bj9yW3NdOnVuLmNhbGwocltzXSkpO3ZhciBsPWlbMF0mJmlbMF0ubGVuZ3RoO2ZvcihzPTA7czxpLmxlbmd0aDtzKyspaWYoMT09PW4paXNOYU4oaVtzXSkmJihpW3NdPXJbc10pO2Vsc2UgZm9yKHZhciB1PTA7dTxsO3UrKylpc05hTihpW3NdW3VdKSYmKGlbc11bdV09cltzXVt1XSl9fWZ1bmN0aW9uIGduKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYobiE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8bjtpKyspaWYodFtpXSE9PWVbaV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geW4odCxlLG4saSxyLG8sYSl7dmFyIHM9LjUqKG4tdCksbD0uNSooaS1lKTtyZXR1cm4oMiooZS1uKStzK2wpKmErKC0zKihlLW4pLTIqcy1sKSpvK3MqcitlfWZ1bmN0aW9uIHZuKHQsZSxuLGkscixvLGEscyl7Zm9yKHZhciBsPWUubGVuZ3RoLHU9MDt1PGw7dSsrKXRbdV09eW4oZVt1XSxuW3VdLGlbdV0sclt1XSxvLGEscyl9ZnVuY3Rpb24gbW4odCl7aWYoayh0KSl7dmFyIGU9dC5sZW5ndGg7aWYoayh0WzBdKSl7Zm9yKHZhciBuPVtdLGk9MDtpPGU7aSsrKW4ucHVzaCh1bi5jYWxsKHRbaV0pKTtyZXR1cm4gbn1yZXR1cm4gdW4uY2FsbCh0KX1yZXR1cm4gdH1mdW5jdGlvbiBfbih0KXtyZXR1cm4gdFswXT1NYXRoLmZsb29yKHRbMF0pLHRbMV09TWF0aC5mbG9vcih0WzFdKSx0WzJdPU1hdGguZmxvb3IodFsyXSksXCJyZ2JhKFwiK3Quam9pbihcIixcIikrXCIpXCJ9dmFyIHhuLGJuLHduPVswLDAsMCwwXSxTbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5rZXlmcmFtZXM9W10sdGhpcy5tYXhUaW1lPTAsdGhpcy5hcnJEaW09MCx0aGlzLmludGVycG9sYWJsZT0hMCx0aGlzLl9uZWVkc1NvcnQ9ITEsdGhpcy5faXNBbGxWYWx1ZUVxdWFsPSEwLHRoaXMuX2xhc3RGcmFtZT0wLHRoaXMuX2xhc3RGcmFtZVBlcmNlbnQ9MCx0aGlzLnByb3BOYW1lPXR9cmV0dXJuIHQucHJvdG90eXBlLmlzRmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmluaXNoZWR9LHQucHJvdG90eXBlLnNldEZpbmlzaGVkPWZ1bmN0aW9uKCl7dGhpcy5fZmluaXNoZWQ9ITAsdGhpcy5fYWRkaXRpdmVUcmFjayYmdGhpcy5fYWRkaXRpdmVUcmFjay5zZXRGaW5pc2hlZCgpfSx0LnByb3RvdHlwZS5uZWVkc0FuaW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faXNBbGxWYWx1ZUVxdWFsJiZ0aGlzLmtleWZyYW1lcy5sZW5ndGg+PTImJnRoaXMuaW50ZXJwb2xhYmxlfSx0LnByb3RvdHlwZS5nZXRBZGRpdGl2ZVRyYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FkZGl0aXZlVHJhY2t9LHQucHJvdG90eXBlLmFkZEtleWZyYW1lPWZ1bmN0aW9uKHQsZSl7dD49dGhpcy5tYXhUaW1lP3RoaXMubWF4VGltZT10OnRoaXMuX25lZWRzU29ydD0hMDt2YXIgbj10aGlzLmtleWZyYW1lcyxpPW4ubGVuZ3RoO2lmKHRoaXMuaW50ZXJwb2xhYmxlKWlmKGsoZSkpe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBrKHQmJnRbMF0pPzI6MX0oZSk7aWYoaT4wJiZ0aGlzLmFyckRpbSE9PXIpcmV0dXJuIHZvaWQodGhpcy5pbnRlcnBvbGFibGU9ITEpO2lmKDE9PT1yJiZcIm51bWJlclwiIT10eXBlb2YgZVswXXx8Mj09PXImJlwibnVtYmVyXCIhPXR5cGVvZiBlWzBdWzBdKXJldHVybiB2b2lkKHRoaXMuaW50ZXJwb2xhYmxlPSExKTtpZihpPjApe3ZhciBvPW5baS0xXTt0aGlzLl9pc0FsbFZhbHVlRXF1YWwmJigxPT09ciYmZ24oZSxvLnZhbHVlKXx8KHRoaXMuX2lzQWxsVmFsdWVFcXVhbD0hMSkpfXRoaXMuYXJyRGltPXJ9ZWxzZXtpZih0aGlzLmFyckRpbT4wKXJldHVybiB2b2lkKHRoaXMuaW50ZXJwb2xhYmxlPSExKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIGE9cWUoZSk7YT8oZT1hLHRoaXMuaXNWYWx1ZUNvbG9yPSEwKTp0aGlzLmludGVycG9sYWJsZT0hMX1lbHNlIGlmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXJldHVybiB2b2lkKHRoaXMuaW50ZXJwb2xhYmxlPSExKTtpZih0aGlzLl9pc0FsbFZhbHVlRXF1YWwmJmk+MCl7bz1uW2ktMV07KHRoaXMuaXNWYWx1ZUNvbG9yJiYhZ24oby52YWx1ZSxlKXx8by52YWx1ZSE9PWUpJiYodGhpcy5faXNBbGxWYWx1ZUVxdWFsPSExKX19dmFyIHM9e3RpbWU6dCx2YWx1ZTplLHBlcmNlbnQ6MH07cmV0dXJuIHRoaXMua2V5ZnJhbWVzLnB1c2gocyksc30sdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmtleWZyYW1lczt0aGlzLl9uZWVkc1NvcnQmJmUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aW1lLWUudGltZX0pKTtmb3IodmFyIG49dGhpcy5hcnJEaW0saT1lLmxlbmd0aCxyPWVbaS0xXSxvPTA7bzxpO28rKyllW29dLnBlcmNlbnQ9ZVtvXS50aW1lL3RoaXMubWF4VGltZSxuPjAmJm8hPT1pLTEmJmZuKGVbb10udmFsdWUsci52YWx1ZSxuKTtpZih0JiZ0aGlzLm5lZWRzQW5pbWF0ZSgpJiZ0Lm5lZWRzQW5pbWF0ZSgpJiZuPT09dC5hcnJEaW0mJnRoaXMuaXNWYWx1ZUNvbG9yPT09dC5pc1ZhbHVlQ29sb3ImJiF0Ll9maW5pc2hlZCl7dGhpcy5fYWRkaXRpdmVUcmFjaz10O3ZhciBhPWVbMF0udmFsdWU7Zm9yKG89MDtvPGk7bysrKTA9PT1uP3RoaXMuaXNWYWx1ZUNvbG9yP2Vbb10uYWRkaXRpdmVWYWx1ZT1wbihbXSxlW29dLnZhbHVlLGEsLTEpOmVbb10uYWRkaXRpdmVWYWx1ZT1lW29dLnZhbHVlLWE6MT09PW4/ZVtvXS5hZGRpdGl2ZVZhbHVlPXBuKFtdLGVbb10udmFsdWUsYSwtMSk6Mj09PW4mJihlW29dLmFkZGl0aXZlVmFsdWU9ZG4oW10sZVtvXS52YWx1ZSxhLC0xKSl9fSx0LnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuX2ZpbmlzaGVkKXt0aGlzLl9hZGRpdGl2ZVRyYWNrJiZ0aGlzLl9hZGRpdGl2ZVRyYWNrLl9maW5pc2hlZCYmKHRoaXMuX2FkZGl0aXZlVHJhY2s9bnVsbCk7dmFyIG4saT1udWxsIT10aGlzLl9hZGRpdGl2ZVRyYWNrLHI9aT9cImFkZGl0aXZlVmFsdWVcIjpcInZhbHVlXCIsbz10aGlzLmtleWZyYW1lcyxhPXRoaXMua2V5ZnJhbWVzLmxlbmd0aCxzPXRoaXMucHJvcE5hbWUsbD10aGlzLmFyckRpbSx1PXRoaXMuaXNWYWx1ZUNvbG9yO2lmKGU8MCluPTA7ZWxzZSBpZihlPHRoaXMuX2xhc3RGcmFtZVBlcmNlbnQpe2ZvcihuPU1hdGgubWluKHRoaXMuX2xhc3RGcmFtZSsxLGEtMSk7bj49MCYmIShvW25dLnBlcmNlbnQ8PWUpO24tLSk7bj1NYXRoLm1pbihuLGEtMil9ZWxzZXtmb3Iobj10aGlzLl9sYXN0RnJhbWU7bjxhJiYhKG9bbl0ucGVyY2VudD5lKTtuKyspO249TWF0aC5taW4obi0xLGEtMil9dmFyIGg9b1tuKzFdLGM9b1tuXTtpZihjJiZoKXt0aGlzLl9sYXN0RnJhbWU9bix0aGlzLl9sYXN0RnJhbWVQZXJjZW50PWU7dmFyIHA9aC5wZXJjZW50LWMucGVyY2VudDtpZigwIT09cCl7dmFyIGQ9KGUtYy5wZXJjZW50KS9wLGY9aT90aGlzLl9hZGRpdGl2ZVZhbHVlOnU/d246dFtzXTtpZigobD4wfHx1KSYmIWYmJihmPXRoaXMuX2FkZGl0aXZlVmFsdWU9W10pLHRoaXMudXNlU3BsaW5lKXt2YXIgZz1vW25dW3JdLHk9b1swPT09bj9uOm4tMV1bcl0sdj1vW24+YS0yP2EtMTpuKzFdW3JdLG09b1tuPmEtMz9hLTE6bisyXVtyXTtpZihsPjApMT09PWw/dm4oZix5LGcsdixtLGQsZCpkLGQqZCpkKTpmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe2Zvcih2YXIgbD1lLmxlbmd0aCx1PWVbMF0ubGVuZ3RoLGg9MDtoPGw7aCsrKXt0W2hdfHwodFsxXT1bXSk7Zm9yKHZhciBjPTA7Yzx1O2MrKyl0W2hdW2NdPXluKGVbaF1bY10sbltoXVtjXSxpW2hdW2NdLHJbaF1bY10sbyxhLHMpfX0oZix5LGcsdixtLGQsZCpkLGQqZCpkKTtlbHNlIGlmKHUpdm4oZix5LGcsdixtLGQsZCpkLGQqZCpkKSxpfHwodFtzXT1fbihmKSk7ZWxzZXt2YXIgXz12b2lkIDA7Xz10aGlzLmludGVycG9sYWJsZT95bih5LGcsdixtLGQsZCpkLGQqZCpkKTp2LGk/dGhpcy5fYWRkaXRpdmVWYWx1ZT1fOnRbc109X319ZWxzZSBpZihsPjApMT09PWw/Y24oZixjW3JdLGhbcl0sZCk6ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPWUubGVuZ3RoLG89ciYmZVswXS5sZW5ndGgsYT0wO2E8cjthKyspe3RbYV18fCh0W2FdPVtdKTtmb3IodmFyIHM9MDtzPG87cysrKXRbYV1bc109aG4oZVthXVtzXSxuW2FdW3NdLGkpfX0oZixjW3JdLGhbcl0sZCk7ZWxzZSBpZih1KWNuKGYsY1tyXSxoW3JdLGQpLGl8fCh0W3NdPV9uKGYpKTtlbHNle189dm9pZCAwO189dGhpcy5pbnRlcnBvbGFibGU/aG4oY1tyXSxoW3JdLGQpOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj4uNT9lOnR9KGNbcl0saFtyXSxkKSxpP3RoaXMuX2FkZGl0aXZlVmFsdWU9Xzp0W3NdPV99aSYmdGhpcy5fYWRkVG9UYXJnZXQodCl9fX19LHQucHJvdG90eXBlLl9hZGRUb1RhcmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFyckRpbSxuPXRoaXMucHJvcE5hbWUsaT10aGlzLl9hZGRpdGl2ZVZhbHVlOzA9PT1lP3RoaXMuaXNWYWx1ZUNvbG9yPyhxZSh0W25dLHduKSxwbih3bix3bixpLDEpLHRbbl09X24od24pKTp0W25dPXRbbl0raToxPT09ZT9wbih0W25dLHRbbl0saSwxKToyPT09ZSYmZG4odFtuXSx0W25dLGksMSl9LHR9KCksTW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl90cmFja3M9e30sdGhpcy5fdHJhY2tLZXlzPVtdLHRoaXMuX2RlbGF5PTAsdGhpcy5fbWF4VGltZT0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9zdGFydGVkPTAsdGhpcy5fY2xpcD1udWxsLHRoaXMuX3RhcmdldD10LHRoaXMuX2xvb3A9ZSxlJiZuP2IoXCJDYW4nIHVzZSBhZGRpdGl2ZSBhbmltYXRpb24gb24gbG9vcGVkIGFuaW1hdGlvbi5cIik6dGhpcy5fYWRkaXRpdmVBbmltYXRvcnM9bn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldH0sdC5wcm90b3R5cGUuY2hhbmdlVGFyZ2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3RhcmdldD10fSx0LnByb3RvdHlwZS53aGVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMud2hlbldpdGhLZXlzKHQsZSx6KGUpKX0sdC5wcm90b3R5cGUud2hlbldpdGhLZXlzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5fdHJhY2tzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXSxhPWlbb107aWYoIWEpe2E9aVtvXT1uZXcgU24obyk7dmFyIHM9dm9pZCAwLGw9dGhpcy5fZ2V0QWRkaXRpdmVUcmFjayhvKTtpZihsKXt2YXIgdT1sLmtleWZyYW1lc1tsLmtleWZyYW1lcy5sZW5ndGgtMV07cz11JiZ1LnZhbHVlLGwuaXNWYWx1ZUNvbG9yJiZzJiYocz1fbihzKSl9ZWxzZSBzPXRoaXMuX3RhcmdldFtvXTtpZihudWxsPT1zKWNvbnRpbnVlOzAhPT10JiZhLmFkZEtleWZyYW1lKDAsbW4ocykpLHRoaXMuX3RyYWNrS2V5cy5wdXNoKG8pfWEuYWRkS2V5ZnJhbWUodCxtbihlW29dKSl9cmV0dXJuIHRoaXMuX21heFRpbWU9TWF0aC5tYXgodGhpcy5fbWF4VGltZSx0KSx0aGlzfSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX2NsaXAucGF1c2UoKSx0aGlzLl9wYXVzZWQ9ITB9LHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX2NsaXAucmVzdW1lKCksdGhpcy5fcGF1c2VkPSExfSx0LnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fcGF1c2VkfSx0LnByb3RvdHlwZS5fZG9uZUNhbGxiYWNrPWZ1bmN0aW9uKCl7dGhpcy5fc2V0VHJhY2tzRmluaXNoZWQoKSx0aGlzLl9jbGlwPW51bGw7dmFyIHQ9dGhpcy5fZG9uZUxpc3Q7aWYodClmb3IodmFyIGU9dC5sZW5ndGgsbj0wO248ZTtuKyspdFtuXS5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5fYWJvcnRlZENhbGxiYWNrPWZ1bmN0aW9uKCl7dGhpcy5fc2V0VHJhY2tzRmluaXNoZWQoKTt2YXIgdD10aGlzLmFuaW1hdGlvbixlPXRoaXMuX2Fib3J0ZWRMaXN0O2lmKHQmJnQucmVtb3ZlQ2xpcCh0aGlzLl9jbGlwKSx0aGlzLl9jbGlwPW51bGwsZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyllW25dLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9zZXRUcmFja3NGaW5pc2hlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl90cmFja3MsZT10aGlzLl90cmFja0tleXMsbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV0uc2V0RmluaXNoZWQoKX0sdC5wcm90b3R5cGUuX2dldEFkZGl0aXZlVHJhY2s9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9hZGRpdGl2ZUFuaW1hdG9ycztpZihuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldLmdldFRyYWNrKHQpO3ImJihlPXIpfXJldHVybiBlfSx0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0LGUpe2lmKCEodGhpcy5fc3RhcnRlZD4wKSl7dGhpcy5fc3RhcnRlZD0xO2Zvcih2YXIgbj10aGlzLGk9W10scj0wO3I8dGhpcy5fdHJhY2tLZXlzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuX3RyYWNrS2V5c1tyXSxhPXRoaXMuX3RyYWNrc1tvXSxzPXRoaXMuX2dldEFkZGl0aXZlVHJhY2sobyksbD1hLmtleWZyYW1lcztpZihhLnByZXBhcmUocyksYS5uZWVkc0FuaW1hdGUoKSlpLnB1c2goYSk7ZWxzZSBpZighYS5pbnRlcnBvbGFibGUpe3ZhciB1PWxbbC5sZW5ndGgtMV07dSYmKG4uX3RhcmdldFthLnByb3BOYW1lXT11LnZhbHVlKX19aWYoaS5sZW5ndGh8fGUpe3ZhciBoPW5ldyBPZSh7bGlmZTp0aGlzLl9tYXhUaW1lLGxvb3A6dGhpcy5fbG9vcCxkZWxheTp0aGlzLl9kZWxheSxvbmZyYW1lOmZ1bmN0aW9uKHQpe24uX3N0YXJ0ZWQ9Mjt2YXIgZT1uLl9hZGRpdGl2ZUFuaW1hdG9ycztpZihlKXtmb3IodmFyIHI9ITEsbz0wO288ZS5sZW5ndGg7bysrKWlmKGVbb10uX2NsaXApe3I9ITA7YnJlYWt9cnx8KG4uX2FkZGl0aXZlQW5pbWF0b3JzPW51bGwpfWZvcihvPTA7bzxpLmxlbmd0aDtvKyspaVtvXS5zdGVwKG4uX3RhcmdldCx0KTt2YXIgYT1uLl9vbmZyYW1lTGlzdDtpZihhKWZvcihvPTA7bzxhLmxlbmd0aDtvKyspYVtvXShuLl90YXJnZXQsdCl9LG9uZGVzdHJveTpmdW5jdGlvbigpe24uX2RvbmVDYWxsYmFjaygpfX0pO3RoaXMuX2NsaXA9aCx0aGlzLmFuaW1hdGlvbiYmdGhpcy5hbmltYXRpb24uYWRkQ2xpcChoKSx0JiZcInNwbGluZVwiIT09dCYmKGguZWFzaW5nPXQpfWVsc2UgdGhpcy5fZG9uZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXN9fSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NsaXApe3ZhciBlPXRoaXMuX2NsaXA7dCYmZS5vbmZyYW1lKDEpLHRoaXMuX2Fib3J0ZWRDYWxsYmFjaygpfX0sdC5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlbGF5PXQsdGhpc30sdC5wcm90b3R5cGUuZHVyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYodGhpcy5fb25mcmFtZUxpc3R8fCh0aGlzLl9vbmZyYW1lTGlzdD1bXSksdGhpcy5fb25mcmFtZUxpc3QucHVzaCh0KSksdGhpc30sdC5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmKHRoaXMuX2RvbmVMaXN0fHwodGhpcy5fZG9uZUxpc3Q9W10pLHRoaXMuX2RvbmVMaXN0LnB1c2godCkpLHRoaXN9LHQucHJvdG90eXBlLmFib3J0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLl9hYm9ydGVkTGlzdHx8KHRoaXMuX2Fib3J0ZWRMaXN0PVtdKSx0aGlzLl9hYm9ydGVkTGlzdC5wdXNoKHQpKSx0aGlzfSx0LnByb3RvdHlwZS5nZXRDbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaXB9LHQucHJvdG90eXBlLmdldFRyYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90cmFja3NbdF19LHQucHJvdG90eXBlLnN0b3BUcmFja3M9ZnVuY3Rpb24odCxlKXtpZighdC5sZW5ndGh8fCF0aGlzLl9jbGlwKXJldHVybiEwO2Zvcih2YXIgbj10aGlzLl90cmFja3MsaT10aGlzLl90cmFja0tleXMscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz1uW3Rbcl1dO28mJihlP28uc3RlcCh0aGlzLl90YXJnZXQsMSk6MT09PXRoaXMuX3N0YXJ0ZWQmJm8uc3RlcCh0aGlzLl90YXJnZXQsMCksby5zZXRGaW5pc2hlZCgpKX12YXIgYT0hMDtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKWlmKCFuW2lbcl1dLmlzRmluaXNoZWQoKSl7YT0hMTticmVha31yZXR1cm4gYSYmdGhpcy5fYWJvcnRlZENhbGxiYWNrKCksYX0sdC5wcm90b3R5cGUuc2F2ZUZpbmFsVG9UYXJnZXQ9ZnVuY3Rpb24odCxlKXtpZih0KXtlPWV8fHRoaXMuX3RyYWNrS2V5cztmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMuX3RyYWNrc1tpXTtpZihyJiYhci5pc0ZpbmlzaGVkKCkpe3ZhciBvPXIua2V5ZnJhbWVzLGE9b1tvLmxlbmd0aC0xXTtpZihhKXt2YXIgcz1tbihhLnZhbHVlKTtyLmlzVmFsdWVDb2xvciYmKHM9X24ocykpLHRbaV09c319fX19LHQucHJvdG90eXBlLl9fY2hhbmdlRmluYWxWYWx1ZT1mdW5jdGlvbih0LGUpe2U9ZXx8eih0KTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMuX3RyYWNrc1tpXTtpZihyKXt2YXIgbz1yLmtleWZyYW1lcztpZihvLmxlbmd0aD4xKXt2YXIgYT1vLnBvcCgpO3IuYWRkS2V5ZnJhbWUoYS50aW1lLHRbaV0pLHIucHJlcGFyZShyLmdldEFkZGl0aXZlVHJhY2soKSl9fX19LHR9KCksSW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy54PXR8fDAsdGhpcy55PWV8fDB9cmV0dXJuIHQucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55KX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXN9LHQucHJvdG90eXBlLmVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0Lng9PT10aGlzLngmJnQueT09PXRoaXMueX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSx0LnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXt0aGlzLngqPXQsdGhpcy55Kj10fSx0LnByb3RvdHlwZS5zY2FsZUFuZEFkZD1mdW5jdGlvbih0LGUpe3RoaXMueCs9dC54KmUsdGhpcy55Kz10LnkqZX0sdC5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSx0LnByb3RvdHlwZS5kb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueX0sdC5wcm90b3R5cGUubGVuPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSx0LnByb3RvdHlwZS5sZW5TcXVhcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fSx0LnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbigpO3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXN9LHQucHJvdG90eXBlLmRpc3RhbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueC10Lngsbj10aGlzLnktdC55O3JldHVybiBNYXRoLnNxcnQoZSplK24qbil9LHQucHJvdG90eXBlLmRpc3RhbmNlU3F1YXJlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueC10Lngsbj10aGlzLnktdC55O3JldHVybiBlKmUrbipufSx0LnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpc30sdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMueCxuPXRoaXMueTtyZXR1cm4gdGhpcy54PXRbMF0qZSt0WzJdKm4rdFs0XSx0aGlzLnk9dFsxXSplK3RbM10qbit0WzVdLHRoaXN9fSx0LnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPXRoaXMueCx0WzFdPXRoaXMueSx0fSx0LnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7dGhpcy54PXRbMF0sdGhpcy55PXRbMV19LHQuc2V0PWZ1bmN0aW9uKHQsZSxuKXt0Lng9ZSx0Lnk9bn0sdC5jb3B5PWZ1bmN0aW9uKHQsZSl7dC54PWUueCx0Lnk9ZS55fSx0Lmxlbj1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSl9LHQubGVuU3F1YXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0LngqdC54K3QueSp0Lnl9LHQuZG90PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueCplLngrdC55KmUueX0sdC5hZGQ9ZnVuY3Rpb24odCxlLG4pe3QueD1lLngrbi54LHQueT1lLnkrbi55fSx0LnN1Yj1mdW5jdGlvbih0LGUsbil7dC54PWUueC1uLngsdC55PWUueS1uLnl9LHQuc2NhbGU9ZnVuY3Rpb24odCxlLG4pe3QueD1lLngqbix0Lnk9ZS55Km59LHQuc2NhbGVBbmRBZGQ9ZnVuY3Rpb24odCxlLG4saSl7dC54PWUueCtuLngqaSx0Lnk9ZS55K24ueSppfSx0LmxlcnA9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9MS1pO3QueD1yKmUueCtpKm4ueCx0Lnk9ciplLnkraSpuLnl9LHR9KCksVG49TWF0aC5taW4sQ249TWF0aC5tYXgsQW49bmV3IEluLERuPW5ldyBJbixMbj1uZXcgSW4sa249bmV3IEluLFBuPW5ldyBJbixPbj1uZXcgSW4sUm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe248MCYmaXNGaW5pdGUobikmJih0Kz1uLG49LW4pLGk8MCYmaXNGaW5pdGUoaSkmJihlKz1pLGk9LWkpLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1pfXJldHVybiB0LnByb3RvdHlwZS51bmlvbj1mdW5jdGlvbih0KXt2YXIgZT1Ubih0LngsdGhpcy54KSxuPVRuKHQueSx0aGlzLnkpO2lzRmluaXRlKHRoaXMueCkmJmlzRmluaXRlKHRoaXMud2lkdGgpP3RoaXMud2lkdGg9Q24odC54K3Qud2lkdGgsdGhpcy54K3RoaXMud2lkdGgpLWU6dGhpcy53aWR0aD10LndpZHRoLGlzRmluaXRlKHRoaXMueSkmJmlzRmluaXRlKHRoaXMuaGVpZ2h0KT90aGlzLmhlaWdodD1Dbih0LnkrdC5oZWlnaHQsdGhpcy55K3RoaXMuaGVpZ2h0KS1uOnRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMueD1lLHRoaXMueT1ufSx0LnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbihlKXt0LmFwcGx5VHJhbnNmb3JtKHRoaXMsdGhpcyxlKX0sdC5wcm90b3R5cGUuY2FsY3VsYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LndpZHRoL2Uud2lkdGgsaT10LmhlaWdodC9lLmhlaWdodCxyPVsxLDAsMCwxLDAsMF07cmV0dXJuIG1lKHIscixbLWUueCwtZS55XSkseGUocixyLFtuLGldKSxtZShyLHIsW3QueCx0LnldKSxyfSx0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24oZSxuKXtpZighZSlyZXR1cm4hMTtlIGluc3RhbmNlb2YgdHx8KGU9dC5jcmVhdGUoZSkpO3ZhciBpPXRoaXMscj1pLngsbz1pLngraS53aWR0aCxhPWkueSxzPWkueStpLmhlaWdodCxsPWUueCx1PWUueCtlLndpZHRoLGg9ZS55LGM9ZS55K2UuaGVpZ2h0LHA9IShvPGx8fHU8cnx8czxofHxjPGEpO2lmKG4pe3ZhciBkPTEvMCxmPTAsZz1NYXRoLmFicyhvLWwpLHk9TWF0aC5hYnModS1yKSx2PU1hdGguYWJzKHMtaCksbT1NYXRoLmFicyhjLWEpLF89TWF0aC5taW4oZyx5KSx4PU1hdGgubWluKHYsbSk7bzxsfHx1PHI/Xz5mJiYoZj1fLGc8eT9Jbi5zZXQoT24sLWcsMCk6SW4uc2V0KE9uLHksMCkpOl88ZCYmKGQ9XyxnPHk/SW4uc2V0KFBuLGcsMCk6SW4uc2V0KFBuLC15LDApKSxzPGh8fGM8YT94PmYmJihmPXgsdjxtP0luLnNldChPbiwwLC12KTpJbi5zZXQoT24sMCxtKSk6XzxkJiYoZD1fLHY8bT9Jbi5zZXQoUG4sMCx2KTpJbi5zZXQoUG4sMCwtbSkpfXJldHVybiBuJiZJbi5jb3B5KG4scD9QbjpPbikscH0sdC5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQ+PW4ueCYmdDw9bi54K24ud2lkdGgmJmU+PW4ueSYmZTw9bi55K24uaGVpZ2h0fSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3QuY29weSh0aGlzLGUpfSx0LnByb3RvdHlwZS5wbGFpbj1mdW5jdGlvbigpe3JldHVybnt4OnRoaXMueCx5OnRoaXMueSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH19LHQucHJvdG90eXBlLmlzRmluaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMueCkmJmlzRmluaXRlKHRoaXMueSkmJmlzRmluaXRlKHRoaXMud2lkdGgpJiZpc0Zpbml0ZSh0aGlzLmhlaWdodCl9LHQucHJvdG90eXBlLmlzWmVybz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy53aWR0aHx8MD09PXRoaXMuaGVpZ2h0fSx0LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KX0sdC5jb3B5PWZ1bmN0aW9uKHQsZSl7dC54PWUueCx0Lnk9ZS55LHQud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodH0sdC5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbihlLG4saSl7aWYoaSl7aWYoaVsxXTwxZS01JiZpWzFdPi0xZS01JiZpWzJdPDFlLTUmJmlbMl0+LTFlLTUpe3ZhciByPWlbMF0sbz1pWzNdLGE9aVs0XSxzPWlbNV07cmV0dXJuIGUueD1uLngqcithLGUueT1uLnkqbytzLGUud2lkdGg9bi53aWR0aCpyLGUuaGVpZ2h0PW4uaGVpZ2h0Km8sZS53aWR0aDwwJiYoZS54Kz1lLndpZHRoLGUud2lkdGg9LWUud2lkdGgpLHZvaWQoZS5oZWlnaHQ8MCYmKGUueSs9ZS5oZWlnaHQsZS5oZWlnaHQ9LWUuaGVpZ2h0KSl9QW4ueD1Mbi54PW4ueCxBbi55PWtuLnk9bi55LERuLng9a24ueD1uLngrbi53aWR0aCxEbi55PUxuLnk9bi55K24uaGVpZ2h0LEFuLnRyYW5zZm9ybShpKSxrbi50cmFuc2Zvcm0oaSksRG4udHJhbnNmb3JtKGkpLExuLnRyYW5zZm9ybShpKSxlLng9VG4oQW4ueCxEbi54LExuLngsa24ueCksZS55PVRuKEFuLnksRG4ueSxMbi55LGtuLnkpO3ZhciBsPUNuKEFuLngsRG4ueCxMbi54LGtuLngpLHU9Q24oQW4ueSxEbi55LExuLnksa24ueSk7ZS53aWR0aD1sLWUueCxlLmhlaWdodD11LWUueX1lbHNlIGUhPT1uJiZ0LmNvcHkoZSxuKX0sdH0oKSxObj17fSxFbj1cIjEycHggc2Fucy1zZXJpZlwiO3ZhciB6bj17bWVhc3VyZVRleHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4geG58fCh4bj1DKCkuZ2V0Q29udGV4dChcIjJkXCIpKSxibiE9PWUmJihibj14bi5mb250PWV8fEVuKSx4bi5tZWFzdXJlVGV4dCh0KX19O2Z1bmN0aW9uIEJuKHQsZSl7dmFyIG49Tm5bZT1lfHxFbl07bnx8KG49Tm5bZV09bmV3IEVlKDUwMCkpO3ZhciBpPW4uZ2V0KHQpO3JldHVybiBudWxsPT1pJiYoaT16bi5tZWFzdXJlVGV4dCh0LGUpLndpZHRoLG4ucHV0KHQsaSkpLGl9ZnVuY3Rpb24gVm4odCxlLG4saSl7dmFyIHI9Qm4odCxlKSxvPVduKGUpLGE9R24oMCxyLG4pLHM9SG4oMCxvLGkpO3JldHVybiBuZXcgUm4oYSxzLHIsbyl9ZnVuY3Rpb24gRm4odCxlLG4saSl7dmFyIHI9KCh0fHxcIlwiKStcIlwiKS5zcGxpdChcIlxcblwiKTtpZigxPT09ci5sZW5ndGgpcmV0dXJuIFZuKHJbMF0sZSxuLGkpO2Zvcih2YXIgbz1uZXcgUm4oMCwwLDAsMCksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgcz1WbihyW2FdLGUsbixpKTswPT09YT9vLmNvcHkocyk6by51bmlvbihzKX1yZXR1cm4gb31mdW5jdGlvbiBHbih0LGUsbil7cmV0dXJuXCJyaWdodFwiPT09bj90LT1lOlwiY2VudGVyXCI9PT1uJiYodC09ZS8yKSx0fWZ1bmN0aW9uIEhuKHQsZSxuKXtyZXR1cm5cIm1pZGRsZVwiPT09bj90LT1lLzI6XCJib3R0b21cIj09PW4mJih0LT1lKSx0fWZ1bmN0aW9uIFduKHQpe3JldHVybiBCbihcIuWbvVwiLHQpfWZ1bmN0aW9uIFluKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5sYXN0SW5kZXhPZihcIiVcIik+PTA/cGFyc2VGbG9hdCh0KS8xMDAqZTpwYXJzZUZsb2F0KHQpOnR9ZnVuY3Rpb24gWG4odCxlLG4pe3ZhciBpPWUucG9zaXRpb258fFwiaW5zaWRlXCIscj1udWxsIT1lLmRpc3RhbmNlP2UuZGlzdGFuY2U6NSxvPW4uaGVpZ2h0LGE9bi53aWR0aCxzPW8vMixsPW4ueCx1PW4ueSxoPVwibGVmdFwiLGM9XCJ0b3BcIjtpZihpIGluc3RhbmNlb2YgQXJyYXkpbCs9WW4oaVswXSxuLndpZHRoKSx1Kz1ZbihpWzFdLG4uaGVpZ2h0KSxoPW51bGwsYz1udWxsO2Vsc2Ugc3dpdGNoKGkpe2Nhc2VcImxlZnRcIjpsLT1yLHUrPXMsaD1cInJpZ2h0XCIsYz1cIm1pZGRsZVwiO2JyZWFrO2Nhc2VcInJpZ2h0XCI6bCs9cithLHUrPXMsYz1cIm1pZGRsZVwiO2JyZWFrO2Nhc2VcInRvcFwiOmwrPWEvMix1LT1yLGg9XCJjZW50ZXJcIixjPVwiYm90dG9tXCI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6bCs9YS8yLHUrPW8rcixoPVwiY2VudGVyXCI7YnJlYWs7Y2FzZVwiaW5zaWRlXCI6bCs9YS8yLHUrPXMsaD1cImNlbnRlclwiLGM9XCJtaWRkbGVcIjticmVhaztjYXNlXCJpbnNpZGVMZWZ0XCI6bCs9cix1Kz1zLGM9XCJtaWRkbGVcIjticmVhaztjYXNlXCJpbnNpZGVSaWdodFwiOmwrPWEtcix1Kz1zLGg9XCJyaWdodFwiLGM9XCJtaWRkbGVcIjticmVhaztjYXNlXCJpbnNpZGVUb3BcIjpsKz1hLzIsdSs9cixoPVwiY2VudGVyXCI7YnJlYWs7Y2FzZVwiaW5zaWRlQm90dG9tXCI6bCs9YS8yLHUrPW8tcixoPVwiY2VudGVyXCIsYz1cImJvdHRvbVwiO2JyZWFrO2Nhc2VcImluc2lkZVRvcExlZnRcIjpsKz1yLHUrPXI7YnJlYWs7Y2FzZVwiaW5zaWRlVG9wUmlnaHRcIjpsKz1hLXIsdSs9cixoPVwicmlnaHRcIjticmVhaztjYXNlXCJpbnNpZGVCb3R0b21MZWZ0XCI6bCs9cix1Kz1vLXIsYz1cImJvdHRvbVwiO2JyZWFrO2Nhc2VcImluc2lkZUJvdHRvbVJpZ2h0XCI6bCs9YS1yLHUrPW8tcixoPVwicmlnaHRcIixjPVwiYm90dG9tXCJ9cmV0dXJuKHQ9dHx8e30pLng9bCx0Lnk9dSx0LmFsaWduPWgsdC52ZXJ0aWNhbEFsaWduPWMsdH12YXIgVW49MTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoVW49TWF0aC5tYXgod2luZG93LmRldmljZVBpeGVsUmF0aW98fHdpbmRvdy5zY3JlZW4mJndpbmRvdy5zY3JlZW4uZGV2aWNlWERQSS93aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJfHwxLDEpKTt2YXIgWm49VW4sam49XCIjMzMzXCIscW49XCIjY2NjXCIsS249XCJfX3pyX25vcm1hbF9fXCIsJG49W1wieFwiLFwieVwiLFwic2NhbGVYXCIsXCJzY2FsZVlcIixcIm9yaWdpblhcIixcIm9yaWdpbllcIixcInJvdGF0aW9uXCIsXCJpZ25vcmVcIl0sSm49e3g6ITAseTohMCxzY2FsZVg6ITAsc2NhbGVZOiEwLG9yaWdpblg6ITAsb3JpZ2luWTohMCxyb3RhdGlvbjohMCxpZ25vcmU6ITF9LFFuPXt9LHRpPW5ldyBSbigwLDAsMCwwKSxlaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5pZD14KCksdGhpcy5hbmltYXRvcnM9W10sdGhpcy5jdXJyZW50U3RhdGVzPVtdLHRoaXMuc3RhdGVzPXt9LHRoaXMuX2luaXQodCl9cmV0dXJuIHQucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKHQpe3RoaXMuYXR0cih0KX0sdC5wcm90b3R5cGUuZHJpZnQ9ZnVuY3Rpb24odCxlLG4pe3N3aXRjaCh0aGlzLmRyYWdnYWJsZSl7Y2FzZVwiaG9yaXpvbnRhbFwiOmU9MDticmVhaztjYXNlXCJ2ZXJ0aWNhbFwiOnQ9MH12YXIgaT10aGlzLnRyYW5zZm9ybTtpfHwoaT10aGlzLnRyYW5zZm9ybT1bMSwwLDAsMSwwLDBdKSxpWzRdKz10LGlbNV0rPWUsdGhpcy5kZWNvbXBvc2VUcmFuc2Zvcm0oKSx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUuYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5hZnRlclVwZGF0ZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLl9fZGlydHkmJnRoaXMudXBkYXRlSW5uZXJUZXh0KCl9LHQucHJvdG90eXBlLnVwZGF0ZUlubmVyVGV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90ZXh0Q29udGVudDtpZihlJiYoIWUuaWdub3JlfHx0KSl7dGhpcy50ZXh0Q29uZmlnfHwodGhpcy50ZXh0Q29uZmlnPXt9KTt2YXIgbj10aGlzLnRleHRDb25maWcsaT1uLmxvY2FsLHI9ZS5hdHRhY2hlZFRyYW5zZm9ybSxvPXZvaWQgMCxhPXZvaWQgMCxzPSExO3IucGFyZW50PWk/dGhpczpudWxsO3ZhciBsPSExO2lmKHIueD1lLngsci55PWUueSxyLm9yaWdpblg9ZS5vcmlnaW5YLHIub3JpZ2luWT1lLm9yaWdpblksci5yb3RhdGlvbj1lLnJvdGF0aW9uLHIuc2NhbGVYPWUuc2NhbGVYLHIuc2NhbGVZPWUuc2NhbGVZLG51bGwhPW4ucG9zaXRpb24pe3ZhciB1PXRpO24ubGF5b3V0UmVjdD91LmNvcHkobi5sYXlvdXRSZWN0KTp1LmNvcHkodGhpcy5nZXRCb3VuZGluZ1JlY3QoKSksaXx8dS5hcHBseVRyYW5zZm9ybSh0aGlzLnRyYW5zZm9ybSksdGhpcy5jYWxjdWxhdGVUZXh0UG9zaXRpb24/dGhpcy5jYWxjdWxhdGVUZXh0UG9zaXRpb24oUW4sbix1KTpYbihRbixuLHUpLHIueD1Rbi54LHIueT1Rbi55LG89UW4uYWxpZ24sYT1Rbi52ZXJ0aWNhbEFsaWduO3ZhciBoPW4ub3JpZ2luO2lmKGgmJm51bGwhPW4ucm90YXRpb24pe3ZhciBjPXZvaWQgMCxwPXZvaWQgMDtcImNlbnRlclwiPT09aD8oYz0uNSp1LndpZHRoLHA9LjUqdS5oZWlnaHQpOihjPVluKGhbMF0sdS53aWR0aCkscD1ZbihoWzFdLHUuaGVpZ2h0KSksbD0hMCxyLm9yaWdpblg9LXIueCtjKyhpPzA6dS54KSxyLm9yaWdpblk9LXIueStwKyhpPzA6dS55KX19bnVsbCE9bi5yb3RhdGlvbiYmKHIucm90YXRpb249bi5yb3RhdGlvbik7dmFyIGQ9bi5vZmZzZXQ7ZCYmKHIueCs9ZFswXSxyLnkrPWRbMV0sbHx8KHIub3JpZ2luWD0tZFswXSxyLm9yaWdpblk9LWRbMV0pKTt2YXIgZj1udWxsPT1uLmluc2lkZT9cInN0cmluZ1wiPT10eXBlb2Ygbi5wb3NpdGlvbiYmbi5wb3NpdGlvbi5pbmRleE9mKFwiaW5zaWRlXCIpPj0wOm4uaW5zaWRlLGc9dGhpcy5faW5uZXJUZXh0RGVmYXVsdFN0eWxlfHwodGhpcy5faW5uZXJUZXh0RGVmYXVsdFN0eWxlPXt9KSx5PXZvaWQgMCx2PXZvaWQgMCxtPXZvaWQgMDtmJiZ0aGlzLmNhbkJlSW5zaWRlVGV4dCgpPyh5PW4uaW5zaWRlRmlsbCx2PW4uaW5zaWRlU3Ryb2tlLG51bGwhPXkmJlwiYXV0b1wiIT09eXx8KHk9dGhpcy5nZXRJbnNpZGVUZXh0RmlsbCgpKSxudWxsIT12JiZcImF1dG9cIiE9PXZ8fCh2PXRoaXMuZ2V0SW5zaWRlVGV4dFN0cm9rZSh5KSxtPSEwKSk6KHk9bi5vdXRzaWRlRmlsbCx2PW4ub3V0c2lkZVN0cm9rZSxudWxsIT15JiZcImF1dG9cIiE9PXl8fCh5PXRoaXMuZ2V0T3V0c2lkZUZpbGwoKSksbnVsbCE9diYmXCJhdXRvXCIhPT12fHwodj10aGlzLmdldE91dHNpZGVTdHJva2UoeSksbT0hMCkpLCh5PXl8fFwiIzAwMFwiKT09PWcuZmlsbCYmdj09PWcuc3Ryb2tlJiZtPT09Zy5hdXRvU3Ryb2tlJiZvPT09Zy5hbGlnbiYmYT09PWcudmVydGljYWxBbGlnbnx8KHM9ITAsZy5maWxsPXksZy5zdHJva2U9dixnLmF1dG9TdHJva2U9bSxnLmFsaWduPW8sZy52ZXJ0aWNhbEFsaWduPWEsZS5zZXREZWZhdWx0VGV4dFN0eWxlKGcpKSxzJiZlLmRpcnR5U3R5bGUoKSxlLm1hcmtSZWRyYXcoKX19LHQucHJvdG90eXBlLmNhbkJlSW5zaWRlVGV4dD1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5nZXRJbnNpZGVUZXh0RmlsbD1mdW5jdGlvbigpe3JldHVyblwiI2ZmZlwifSx0LnByb3RvdHlwZS5nZXRJbnNpZGVUZXh0U3Ryb2tlPWZ1bmN0aW9uKHQpe3JldHVyblwiIzAwMFwifSx0LnByb3RvdHlwZS5nZXRPdXRzaWRlRmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fenImJnRoaXMuX196ci5pc0RhcmtNb2RlKCk/cW46am59LHQucHJvdG90eXBlLmdldE91dHNpZGVTdHJva2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyJiZ0aGlzLl9fenIuZ2V0QmFja2dyb3VuZENvbG9yKCksbj1cInN0cmluZ1wiPT10eXBlb2YgZSYmcWUoZSk7bnx8KG49WzI1NSwyNTUsMjU1LDFdKTtmb3IodmFyIGk9blszXSxyPXRoaXMuX196ci5pc0RhcmtNb2RlKCksbz0wO288MztvKyspbltvXT1uW29dKmkrKHI/MDoyNTUpKigxLWkpO3JldHVybiBuWzNdPTEsYW4obixcInJnYmFcIil9LHQucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24odCxlKXtcInRleHRDb25maWdcIj09PXQ/dGhpcy5zZXRUZXh0Q29uZmlnKGUpOlwidGV4dENvbnRlbnRcIj09PXQ/dGhpcy5zZXRUZXh0Q29udGVudChlKTpcImNsaXBQYXRoXCI9PT10P3RoaXMuc2V0Q2xpcFBhdGgoZSk6XCJleHRyYVwiPT09dD8odGhpcy5leHRyYT10aGlzLmV4dHJhfHx7fSxJKHRoaXMuZXh0cmEsZSkpOnRoaXNbdF09ZX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuaWdub3JlPSEwLHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5pZ25vcmU9ITEsdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLmF0dHI9ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0aGlzLmF0dHJLVih0LGUpO2Vsc2UgaWYoWCh0KSlmb3IodmFyIG49eih0KSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07dGhpcy5hdHRyS1Yocix0W3JdKX1yZXR1cm4gdGhpcy5tYXJrUmVkcmF3KCksdGhpc30sdC5wcm90b3R5cGUuc2F2ZUN1cnJlbnRUb05vcm1hbFN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2lubmVyU2F2ZVRvTm9ybWFsKHQpO2Zvcih2YXIgZT10aGlzLl9ub3JtYWxTdGF0ZSxuPTA7bjx0aGlzLmFuaW1hdG9ycy5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmFuaW1hdG9yc1tuXSxyPWkuX19mcm9tU3RhdGVUcmFuc2l0aW9uO2lmKCFyfHxyPT09S24pe3ZhciBvPWkudGFyZ2V0TmFtZSxhPW8/ZVtvXTplO2kuc2F2ZUZpbmFsVG9UYXJnZXQoYSl9fX0sdC5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX25vcm1hbFN0YXRlO2V8fChlPXRoaXMuX25vcm1hbFN0YXRlPXt9KSx0LnRleHRDb25maWcmJiFlLnRleHRDb25maWcmJihlLnRleHRDb25maWc9dGhpcy50ZXh0Q29uZmlnKSx0aGlzLl9zYXZlUHJpbWFyeVRvTm9ybWFsKHQsZSwkbil9LHQucHJvdG90eXBlLl9zYXZlUHJpbWFyeVRvTm9ybWFsPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtudWxsPT10W3JdfHxyIGluIGV8fChlW3JdPXRoaXNbcl0pfX0sdC5wcm90b3R5cGUuaGFzU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50U3RhdGVzLmxlbmd0aD4wfSx0LnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZXNbdF19LHQucHJvdG90eXBlLmVuc3VyZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGVzO3JldHVybiBlW3RdfHwoZVt0XT17fSksZVt0XX0sdC5wcm90b3R5cGUuY2xlYXJTdGF0ZXM9ZnVuY3Rpb24odCl7dGhpcy51c2VTdGF0ZShLbiwhMSx0KX0sdC5wcm90b3R5cGUudXNlU3RhdGU9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPWU9PT1LbjtpZih0aGlzLmhhc1N0YXRlKCl8fCFyKXt2YXIgbz10aGlzLmN1cnJlbnRTdGF0ZXMsYT10aGlzLnN0YXRlVHJhbnNpdGlvbjtpZighKEEobyxlKT49MCl8fCFuJiYxIT09by5sZW5ndGgpe3ZhciBzO2lmKHRoaXMuc3RhdGVQcm94eSYmIXImJihzPXRoaXMuc3RhdGVQcm94eShlKSksc3x8KHM9dGhpcy5zdGF0ZXMmJnRoaXMuc3RhdGVzW2VdKSxzfHxyKXtyfHx0aGlzLnNhdmVDdXJyZW50VG9Ob3JtYWxTdGF0ZShzKTt2YXIgbD0hKCFzfHwhcy5ob3ZlckxheWVyKTtyZXR1cm4gbCYmdGhpcy5fdG9nZ2xlSG92ZXJMYXllckZsYWcoITApLHRoaXMuX2FwcGx5U3RhdGVPYmooZSxzLHRoaXMuX25vcm1hbFN0YXRlLG4sIWkmJiF0aGlzLl9faW5Ib3ZlciYmYSYmYS5kdXJhdGlvbj4wLGEpLHRoaXMuX3RleHRDb250ZW50JiZ0aGlzLl90ZXh0Q29udGVudC51c2VTdGF0ZShlLG4pLHRoaXMuX3RleHRHdWlkZSYmdGhpcy5fdGV4dEd1aWRlLnVzZVN0YXRlKGUsbikscj8odGhpcy5jdXJyZW50U3RhdGVzPVtdLHRoaXMuX25vcm1hbFN0YXRlPXt9KTpuP3RoaXMuY3VycmVudFN0YXRlcy5wdXNoKGUpOnRoaXMuY3VycmVudFN0YXRlcz1bZV0sdGhpcy5fdXBkYXRlQW5pbWF0aW9uVGFyZ2V0cygpLHRoaXMubWFya1JlZHJhdygpLCFsJiZ0aGlzLl9faW5Ib3ZlciYmKHRoaXMuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnKCExKSx0aGlzLl9fZGlydHkmPX50LlJFREFSQVdfQklUKSxzfWIoXCJTdGF0ZSBcIitlK1wiIG5vdCBleGlzdHMuXCIpfX19LHQucHJvdG90eXBlLnVzZVN0YXRlcz1mdW5jdGlvbihlLG4pe2lmKGUubGVuZ3RoKXt2YXIgaT1bXSxyPXRoaXMuY3VycmVudFN0YXRlcyxvPWUubGVuZ3RoLGE9bz09PXIubGVuZ3RoO2lmKGEpZm9yKHZhciBzPTA7czxvO3MrKylpZihlW3NdIT09cltzXSl7YT0hMTticmVha31pZihhKXJldHVybjtmb3Iocz0wO3M8bztzKyspe3ZhciBsPWVbc10sdT12b2lkIDA7dGhpcy5zdGF0ZVByb3h5JiYodT10aGlzLnN0YXRlUHJveHkobCxlKSksdXx8KHU9dGhpcy5zdGF0ZXNbbF0pLHUmJmkucHVzaCh1KX12YXIgaD0hKCFpW28tMV18fCFpW28tMV0uaG92ZXJMYXllcik7aCYmdGhpcy5fdG9nZ2xlSG92ZXJMYXllckZsYWcoITApO3ZhciBjPXRoaXMuX21lcmdlU3RhdGVzKGkpLHA9dGhpcy5zdGF0ZVRyYW5zaXRpb247dGhpcy5zYXZlQ3VycmVudFRvTm9ybWFsU3RhdGUoYyksdGhpcy5fYXBwbHlTdGF0ZU9iaihlLmpvaW4oXCIsXCIpLGMsdGhpcy5fbm9ybWFsU3RhdGUsITEsIW4mJiF0aGlzLl9faW5Ib3ZlciYmcCYmcC5kdXJhdGlvbj4wLHApLHRoaXMuX3RleHRDb250ZW50JiZ0aGlzLl90ZXh0Q29udGVudC51c2VTdGF0ZXMoZSksdGhpcy5fdGV4dEd1aWRlJiZ0aGlzLl90ZXh0R3VpZGUudXNlU3RhdGVzKGUpLHRoaXMuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHMoKSx0aGlzLmN1cnJlbnRTdGF0ZXM9ZS5zbGljZSgpLHRoaXMubWFya1JlZHJhdygpLCFoJiZ0aGlzLl9faW5Ib3ZlciYmKHRoaXMuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnKCExKSx0aGlzLl9fZGlydHkmPX50LlJFREFSQVdfQklUKX1lbHNlIHRoaXMuY2xlYXJTdGF0ZXMoKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuYW5pbWF0b3JzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuYW5pbWF0b3JzW3RdO2UudGFyZ2V0TmFtZSYmZS5jaGFuZ2VUYXJnZXQodGhpc1tlLnRhcmdldE5hbWVdKX19LHQucHJvdG90eXBlLnJlbW92ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPUEodGhpcy5jdXJyZW50U3RhdGVzLHQpO2lmKGU+PTApe3ZhciBuPXRoaXMuY3VycmVudFN0YXRlcy5zbGljZSgpO24uc3BsaWNlKGUsMSksdGhpcy51c2VTdGF0ZXMobil9fSx0LnByb3RvdHlwZS5yZXBsYWNlU3RhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuY3VycmVudFN0YXRlcy5zbGljZSgpLHI9QShpLHQpLG89QShpLGUpPj0wO3I+PTA/bz9pLnNwbGljZShyLDEpOmlbcl09ZTpuJiYhbyYmaS5wdXNoKGUpLHRoaXMudXNlU3RhdGVzKGkpfSx0LnByb3RvdHlwZS50b2dnbGVTdGF0ZT1mdW5jdGlvbih0LGUpe2U/dGhpcy51c2VTdGF0ZSh0LCEwKTp0aGlzLnJlbW92ZVN0YXRlKHQpfSx0LnByb3RvdHlwZS5fbWVyZ2VTdGF0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49e30saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldO0kobixyKSxyLnRleHRDb25maWcmJkkoZT1lfHx7fSxyLnRleHRDb25maWcpfXJldHVybiBlJiYobi50ZXh0Q29uZmlnPWUpLG59LHQucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT0hKGUmJmkpO2UmJmUudGV4dENvbmZpZz8odGhpcy50ZXh0Q29uZmlnPUkoe30saT90aGlzLnRleHRDb25maWc6bi50ZXh0Q29uZmlnKSxJKHRoaXMudGV4dENvbmZpZyxlLnRleHRDb25maWcpKTphJiZuLnRleHRDb25maWcmJih0aGlzLnRleHRDb25maWc9bi50ZXh0Q29uZmlnKTtmb3IodmFyIHM9e30sbD0hMSx1PTA7dTwkbi5sZW5ndGg7dSsrKXt2YXIgaD0kblt1XSxjPXImJkpuW2hdO2UmJm51bGwhPWVbaF0/Yz8obD0hMCxzW2hdPWVbaF0pOnRoaXNbaF09ZVtoXTphJiZudWxsIT1uW2hdJiYoYz8obD0hMCxzW2hdPW5baF0pOnRoaXNbaF09bltoXSl9aWYoIXIpZm9yKHU9MDt1PHRoaXMuYW5pbWF0b3JzLmxlbmd0aDt1Kyspe3ZhciBwPXRoaXMuYW5pbWF0b3JzW3VdLGQ9cC50YXJnZXROYW1lO3AuX19jaGFuZ2VGaW5hbFZhbHVlKGQ/KGV8fG4pW2RdOmV8fG4pfWwmJnRoaXMuX3RyYW5zaXRpb25TdGF0ZSh0LHMsbyl9LHQucHJvdG90eXBlLl9hdHRhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7aWYodC5fX3pyJiYhdC5fX2hvc3RUYXJnZXQpdGhyb3cgbmV3IEVycm9yKFwiVGV4dCBlbGVtZW50IGhhcyBiZWVuIGFkZGVkIHRvIHpyZW5kZXIuXCIpO2lmKHQ9PT10aGlzKXRocm93IG5ldyBFcnJvcihcIlJlY3Vyc2l2ZSBjb21wb25lbnQgYXR0YWNobWVudC5cIik7dmFyIGU9dGhpcy5fX3pyO2UmJnQuYWRkU2VsZlRvWnIoZSksdC5fX3pyPWUsdC5fX2hvc3RUYXJnZXQ9dGhpc30sdC5wcm90b3R5cGUuX2RldGFjaENvbXBvbmVudD1mdW5jdGlvbih0KXt0Ll9fenImJnQucmVtb3ZlU2VsZkZyb21acih0Ll9fenIpLHQuX196cj1udWxsLHQuX19ob3N0VGFyZ2V0PW51bGx9LHQucHJvdG90eXBlLmdldENsaXBQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaXBQYXRofSx0LnByb3RvdHlwZS5zZXRDbGlwUGF0aD1mdW5jdGlvbih0KXt0aGlzLl9jbGlwUGF0aCYmdGhpcy5fY2xpcFBhdGghPT10JiZ0aGlzLnJlbW92ZUNsaXBQYXRoKCksdGhpcy5fYXR0YWNoQ29tcG9uZW50KHQpLHRoaXMuX2NsaXBQYXRoPXQsdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLnJlbW92ZUNsaXBQYXRoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2xpcFBhdGg7dCYmKHRoaXMuX2RldGFjaENvbXBvbmVudCh0KSx0aGlzLl9jbGlwUGF0aD1udWxsLHRoaXMubWFya1JlZHJhdygpKX0sdC5wcm90b3R5cGUuZ2V0VGV4dENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dENvbnRlbnR9LHQucHJvdG90eXBlLnNldFRleHRDb250ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RleHRDb250ZW50O2lmKGUhPT10KXtpZihlJiZlIT09dCYmdGhpcy5yZW1vdmVUZXh0Q29udGVudCgpLHQuX196ciYmIXQuX19ob3N0VGFyZ2V0KXRocm93IG5ldyBFcnJvcihcIlRleHQgZWxlbWVudCBoYXMgYmVlbiBhZGRlZCB0byB6cmVuZGVyLlwiKTt0LmF0dGFjaGVkVHJhbnNmb3JtPW5ldyBrZSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fdGV4dENvbnRlbnQ9dCx0aGlzLm1hcmtSZWRyYXcoKX19LHQucHJvdG90eXBlLnNldFRleHRDb25maWc9ZnVuY3Rpb24odCl7dGhpcy50ZXh0Q29uZmlnfHwodGhpcy50ZXh0Q29uZmlnPXt9KSxJKHRoaXMudGV4dENvbmZpZyx0KSx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlVGV4dENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90ZXh0Q29udGVudDt0JiYodC5hdHRhY2hlZFRyYW5zZm9ybT1udWxsLHRoaXMuX2RldGFjaENvbXBvbmVudCh0KSx0aGlzLl90ZXh0Q29udGVudD1udWxsLHRoaXMuX2lubmVyVGV4dERlZmF1bHRTdHlsZT1udWxsLHRoaXMubWFya1JlZHJhdygpKX0sdC5wcm90b3R5cGUuZ2V0VGV4dEd1aWRlTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0R3VpZGV9LHQucHJvdG90eXBlLnNldFRleHRHdWlkZUxpbmU9ZnVuY3Rpb24odCl7dGhpcy5fdGV4dEd1aWRlJiZ0aGlzLl90ZXh0R3VpZGUhPT10JiZ0aGlzLnJlbW92ZVRleHRHdWlkZUxpbmUoKSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fdGV4dEd1aWRlPXQsdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLnJlbW92ZVRleHRHdWlkZUxpbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90ZXh0R3VpZGU7dCYmKHRoaXMuX2RldGFjaENvbXBvbmVudCh0KSx0aGlzLl90ZXh0R3VpZGU9bnVsbCx0aGlzLm1hcmtSZWRyYXcoKSl9LHQucHJvdG90eXBlLm1hcmtSZWRyYXc9ZnVuY3Rpb24oKXt0aGlzLl9fZGlydHl8PXQuUkVEQVJBV19CSVQ7dmFyIGU9dGhpcy5fX3pyO2UmJih0aGlzLl9faW5Ib3Zlcj9lLnJlZnJlc2hIb3ZlcigpOmUucmVmcmVzaCgpKSx0aGlzLl9faG9zdFRhcmdldCYmdGhpcy5fX2hvc3RUYXJnZXQubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5kaXJ0eT1mdW5jdGlvbigpe3RoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5fdG9nZ2xlSG92ZXJMYXllckZsYWc9ZnVuY3Rpb24odCl7dGhpcy5fX2luSG92ZXI9dDt2YXIgZT10aGlzLl90ZXh0Q29udGVudCxuPXRoaXMuX3RleHRHdWlkZTtlJiYoZS5fX2luSG92ZXI9dCksbiYmKG4uX19pbkhvdmVyPXQpfSx0LnByb3RvdHlwZS5hZGRTZWxmVG9acj1mdW5jdGlvbih0KXt0aGlzLl9fenI9dDt2YXIgZT10aGlzLmFuaW1hdG9ycztpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQuYW5pbWF0aW9uLmFkZEFuaW1hdG9yKGVbbl0pO3RoaXMuX2NsaXBQYXRoJiZ0aGlzLl9jbGlwUGF0aC5hZGRTZWxmVG9acih0KSx0aGlzLl90ZXh0Q29udGVudCYmdGhpcy5fdGV4dENvbnRlbnQuYWRkU2VsZlRvWnIodCksdGhpcy5fdGV4dEd1aWRlJiZ0aGlzLl90ZXh0R3VpZGUuYWRkU2VsZlRvWnIodCl9LHQucHJvdG90eXBlLnJlbW92ZVNlbGZGcm9tWnI9ZnVuY3Rpb24odCl7dGhpcy5fX3pyPW51bGw7dmFyIGU9dGhpcy5hbmltYXRvcnM7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LmFuaW1hdGlvbi5yZW1vdmVBbmltYXRvcihlW25dKTt0aGlzLl9jbGlwUGF0aCYmdGhpcy5fY2xpcFBhdGgucmVtb3ZlU2VsZkZyb21acih0KSx0aGlzLl90ZXh0Q29udGVudCYmdGhpcy5fdGV4dENvbnRlbnQucmVtb3ZlU2VsZkZyb21acih0KSx0aGlzLl90ZXh0R3VpZGUmJnRoaXMuX3RleHRHdWlkZS5yZW1vdmVTZWxmRnJvbVpyKHQpfSx0LnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dD90aGlzW3RdOnRoaXM7aWYobil7dmFyIGk9bmV3IE1uKG4sZSk7cmV0dXJuIHRoaXMuYWRkQW5pbWF0b3IoaSx0KSxpfWIoJ1Byb3BlcnR5IFwiJyt0KydcIiBpcyBub3QgZXhpc3RlZCBpbiBlbGVtZW50ICcrdGhpcy5pZCl9LHQucHJvdG90eXBlLmFkZEFuaW1hdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX3pyLGk9dGhpczt0LmR1cmluZygoZnVuY3Rpb24oKXtpLnVwZGF0ZUR1cmluZ0FuaW1hdGlvbihlKX0pKS5kb25lKChmdW5jdGlvbigpe3ZhciBlPWkuYW5pbWF0b3JzLG49QShlLHQpO24+PTAmJmUuc3BsaWNlKG4sMSl9KSksdGhpcy5hbmltYXRvcnMucHVzaCh0KSxuJiZuLmFuaW1hdGlvbi5hZGRBbmltYXRvcih0KSxuJiZuLndha2VVcCgpfSx0LnByb3RvdHlwZS51cGRhdGVEdXJpbmdBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLnN0b3BBbmltYXRpb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5hbmltYXRvcnMsaT1uLmxlbmd0aCxyPVtdLG89MDtvPGk7bysrKXt2YXIgYT1uW29dO3QmJnQhPT1hLnNjb3BlP3IucHVzaChhKTphLnN0b3AoZSl9cmV0dXJuIHRoaXMuYW5pbWF0b3JzPXIsdGhpc30sdC5wcm90b3R5cGUuYW5pbWF0ZVRvPWZ1bmN0aW9uKHQsZSxuKXtuaSh0aGlzLHQsZSxuKX0sdC5wcm90b3R5cGUuYW5pbWF0ZUZyb209ZnVuY3Rpb24odCxlLG4pe25pKHRoaXMsdCxlLG4sITApfSx0LnByb3RvdHlwZS5fdHJhbnNpdGlvblN0YXRlPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj1uaSh0aGlzLGUsbixpKSxvPTA7bzxyLmxlbmd0aDtvKyspcltvXS5fX2Zyb21TdGF0ZVRyYW5zaXRpb249dH0sdC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFBhaW50UmVjdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0LlJFREFSQVdfQklUPTEsdC5pbml0RGVmYXVsdFByb3BzPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGU7ZS50eXBlPVwiZWxlbWVudFwiLGUubmFtZT1cIlwiLGUuaWdub3JlPSExLGUuc2lsZW50PSExLGUuaXNHcm91cD0hMSxlLmRyYWdnYWJsZT0hMSxlLmRyYWdnaW5nPSExLGUuaWdub3JlQ2xpcD0hMSxlLl9faW5Ib3Zlcj0hMSxlLl9fZGlydHk9dC5SRURBUkFXX0JJVDt2YXIgbj17fTtmdW5jdGlvbiBpKHQsZSxpKXtuW3QrZStpXXx8KGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQ6ICdcIit0K1wiJyBoYXMgYmVlbiBkZXByZWNhdGVkLiB1c2UgJ1wiK2UrXCInLCAnXCIraStcIicgaW5zdGVhZFwiKSxuW3QrZStpXT0hMCl9ZnVuY3Rpb24gcih0LG4scixvKXtmdW5jdGlvbiBhKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsMCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbcl19LHNldDpmdW5jdGlvbihlKXt0W3JdPWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbb119LHNldDpmdW5jdGlvbihlKXt0W29dPWV9fSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Z2V0OmZ1bmN0aW9uKCl7KGkodCxyLG8pLHRoaXNbbl0pfHxhKHRoaXMsdGhpc1tuXT1bXSk7cmV0dXJuIHRoaXNbbl19LHNldDpmdW5jdGlvbihlKXtpKHQscixvKSx0aGlzW3JdPWVbMF0sdGhpc1tvXT1lWzFdLHRoaXNbbl09ZSxhKHRoaXMsZSl9fSl9T2JqZWN0LmRlZmluZVByb3BlcnR5JiYoIWEuYnJvd3Nlci5pZXx8YS5icm93c2VyLnZlcnNpb24+OCkmJihyKFwicG9zaXRpb25cIixcIl9sZWdhY3lQb3NcIixcInhcIixcInlcIikscihcInNjYWxlXCIsXCJfbGVnYWN5U2NhbGVcIixcInNjYWxlWFwiLFwic2NhbGVZXCIpLHIoXCJvcmlnaW5cIixcIl9sZWdhY3lPcmlnaW5cIixcIm9yaWdpblhcIixcIm9yaWdpbllcIikpfSgpLHR9KCk7ZnVuY3Rpb24gbmkodCxlLG4saSxyKXt2YXIgbz1bXTtvaSh0LFwiXCIsdCxlLG49bnx8e30saSxvLHIpO3ZhciBhPW8ubGVuZ3RoLHM9ITEsbD1uLmRvbmUsdT1uLmFib3J0ZWQsaD1mdW5jdGlvbigpe3M9ITAsLS1hPD0wJiYocz9sJiZsKCk6dSYmdSgpKX0sYz1mdW5jdGlvbigpey0tYTw9MCYmKHM/bCYmbCgpOnUmJnUoKSl9O2F8fGwmJmwoKSxvLmxlbmd0aD4wJiZuLmR1cmluZyYmb1swXS5kdXJpbmcoKGZ1bmN0aW9uKHQsZSl7bi5kdXJpbmcoZSl9KSk7Zm9yKHZhciBwPTA7cDxvLmxlbmd0aDtwKyspe3ZhciBkPW9bcF07aCYmZC5kb25lKGgpLGMmJmQuYWJvcnRlZChjKSxkLnN0YXJ0KG4uZWFzaW5nLG4uZm9yY2UpfXJldHVybiBvfWZ1bmN0aW9uIGlpKHQsZSxuKXtmb3IodmFyIGk9MDtpPG47aSsrKXRbaV09ZVtpXX1mdW5jdGlvbiByaSh0LGUsbil7aWYoayhlW25dKSlpZihrKHRbbl0pfHwodFtuXT1bXSksWihlW25dKSl7dmFyIGk9ZVtuXS5sZW5ndGg7dFtuXS5sZW5ndGghPT1pJiYodFtuXT1uZXcgZVtuXS5jb25zdHJ1Y3RvcihpKSxpaSh0W25dLGVbbl0saSkpfWVsc2V7dmFyIHI9ZVtuXSxvPXRbbl0sYT1yLmxlbmd0aDtpZihrKHJbMF0pKWZvcih2YXIgcz1yWzBdLmxlbmd0aCxsPTA7bDxhO2wrKylvW2xdP2lpKG9bbF0scltsXSxzKTpvW2xdPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJbbF0pO2Vsc2UgaWkobyxyLGEpO28ubGVuZ3RoPXIubGVuZ3RofWVsc2UgdFtuXT1lW25dfWZ1bmN0aW9uIG9pKHQsZSxuLGkscixvLGEscyl7Zm9yKHZhciBsPVtdLHU9W10saD16KGkpLGM9ci5kdXJhdGlvbixwPXIuZGVsYXksZD1yLmFkZGl0aXZlLGY9ci5zZXRUb0ZpbmFsLGc9IVgobykseT0wO3k8aC5sZW5ndGg7eSsrKXtpZihudWxsIT1uW0k9aFt5XV0mJm51bGwhPWlbSV0mJihnfHxvW0ldKSlpZihYKGlbSV0pJiYhayhpW0ldKSl7aWYoZSl7c3x8KG5bSV09aVtJXSx0LnVwZGF0ZUR1cmluZ0FuaW1hdGlvbihlKSk7Y29udGludWV9b2kodCxJLG5bSV0saVtJXSxyLG8mJm9bSV0sYSxzKX1lbHNlIGwucHVzaChJKSx1LnB1c2goSSk7ZWxzZSBzfHwobltJXT1pW0ldLHQudXBkYXRlRHVyaW5nQW5pbWF0aW9uKGUpLHUucHVzaChJKSl9dmFyIHY9bC5sZW5ndGg7aWYodj4wfHxyLmZvcmNlJiYhYS5sZW5ndGgpe2Zvcih2YXIgbT10LmFuaW1hdG9ycyxfPVtdLHg9MDt4PG0ubGVuZ3RoO3grKyltW3hdLnRhcmdldE5hbWU9PT1lJiZfLnB1c2gobVt4XSk7aWYoIWQmJl8ubGVuZ3RoKWZvcih4PTA7eDxfLmxlbmd0aDt4Kyspe2lmKF9beF0uc3RvcFRyYWNrcyh1KSl7dmFyIGI9QShtLF9beF0pO20uc3BsaWNlKGIsMSl9fXZhciB3PXZvaWQgMCxTPXZvaWQgMCxNPXZvaWQgMDtpZihzKXtTPXt9LGYmJih3PXt9KTtmb3IoeD0wO3g8djt4Kyspe1NbST1sW3hdXT1uW0ldLGY/d1tJXT1pW0ldOm5bSV09aVtJXX19ZWxzZSBpZihmKXtNPXt9O2Zvcih4PTA7eDx2O3grKyl7dmFyIEk7TVtJPWxbeF1dPW1uKG5bSV0pLHJpKG4saSxJKX19dmFyIFQ9bmV3IE1uKG4sITEsZD9fOm51bGwpO1QudGFyZ2V0TmFtZT1lLHIuc2NvcGUmJihULnNjb3BlPXIuc2NvcGUpLGYmJncmJlQud2hlbldpdGhLZXlzKDAsdyxsKSxNJiZULndoZW5XaXRoS2V5cygwLE0sbCksVC53aGVuV2l0aEtleXMobnVsbD09Yz81MDA6YyxzP1M6aSxsKS5kZWxheShwfHwwKSx0LmFkZEFuaW1hdG9yKFQsZSksYS5wdXNoKFQpfX1MKGVpLEZ0KSxMKGVpLGtlKTtmdW5jdGlvbiBhaSh0LGUsbixpKXt2YXIgcj1lKzE7aWYocj09PW4pcmV0dXJuIDE7aWYoaSh0W3IrK10sdFtlXSk8MCl7Zm9yKDtyPG4mJmkodFtyXSx0W3ItMV0pPDA7KXIrKzshZnVuY3Rpb24odCxlLG4pe24tLTtmb3IoO2U8bjspe3ZhciBpPXRbZV07dFtlKytdPXRbbl0sdFtuLS1dPWl9fSh0LGUscil9ZWxzZSBmb3IoO3I8biYmaSh0W3JdLHRbci0xXSk+PTA7KXIrKztyZXR1cm4gci1lfWZ1bmN0aW9uIHNpKHQsZSxuLGkscil7Zm9yKGk9PT1lJiZpKys7aTxuO2krKyl7Zm9yKHZhciBvLGE9dFtpXSxzPWUsbD1pO3M8bDspcihhLHRbbz1zK2w+Pj4xXSk8MD9sPW86cz1vKzE7dmFyIHU9aS1zO3N3aXRjaCh1KXtjYXNlIDM6dFtzKzNdPXRbcysyXTtjYXNlIDI6dFtzKzJdPXRbcysxXTtjYXNlIDE6dFtzKzFdPXRbc107YnJlYWs7ZGVmYXVsdDpmb3IoO3U+MDspdFtzK3VdPXRbcyt1LTFdLHUtLX10W3NdPWF9fWZ1bmN0aW9uIGxpKHQsZSxuLGkscixvKXt2YXIgYT0wLHM9MCxsPTE7aWYobyh0LGVbbityXSk+MCl7Zm9yKHM9aS1yO2w8cyYmbyh0LGVbbityK2xdKT4wOylhPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpLGErPXIsbCs9cn1lbHNle2ZvcihzPXIrMTtsPHMmJm8odCxlW24rci1sXSk8PTA7KWE9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cyk7dmFyIHU9YTthPXItbCxsPXItdX1mb3IoYSsrO2E8bDspe3ZhciBoPWErKGwtYT4+PjEpO28odCxlW24raF0pPjA/YT1oKzE6bD1ofXJldHVybiBsfWZ1bmN0aW9uIHVpKHQsZSxuLGkscixvKXt2YXIgYT0wLHM9MCxsPTE7aWYobyh0LGVbbityXSk8MCl7Zm9yKHM9cisxO2w8cyYmbyh0LGVbbityLWxdKTwwOylhPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpO3ZhciB1PWE7YT1yLWwsbD1yLXV9ZWxzZXtmb3Iocz1pLXI7bDxzJiZvKHQsZVtuK3IrbF0pPj0wOylhPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpLGErPXIsbCs9cn1mb3IoYSsrO2E8bDspe3ZhciBoPWErKGwtYT4+PjEpO28odCxlW24raF0pPDA/bD1oOmE9aCsxfXJldHVybiBsfWZ1bmN0aW9uIGhpKHQsZSl7dmFyIG4saSxyPTcsbz0wO3QubGVuZ3RoO3ZhciBhPVtdO2Z1bmN0aW9uIHMocyl7dmFyIGw9bltzXSx1PWlbc10saD1uW3MrMV0sYz1pW3MrMV07aVtzXT11K2Mscz09PW8tMyYmKG5bcysxXT1uW3MrMl0saVtzKzFdPWlbcysyXSksby0tO3ZhciBwPXVpKHRbaF0sdCxsLHUsMCxlKTtsKz1wLDAhPT0odS09cCkmJjAhPT0oYz1saSh0W2wrdS0xXSx0LGgsYyxjLTEsZSkpJiYodTw9Yz9mdW5jdGlvbihuLGksbyxzKXt2YXIgbD0wO2ZvcihsPTA7bDxpO2wrKylhW2xdPXRbbitsXTt2YXIgdT0wLGg9byxjPW47aWYodFtjKytdPXRbaCsrXSwwPT0tLXMpe2ZvcihsPTA7bDxpO2wrKyl0W2MrbF09YVt1K2xdO3JldHVybn1pZigxPT09aSl7Zm9yKGw9MDtsPHM7bCsrKXRbYytsXT10W2grbF07cmV0dXJuIHZvaWQodFtjK3NdPWFbdV0pfXZhciBwLGQsZixnPXI7Zm9yKDs7KXtwPTAsZD0wLGY9ITE7ZG97aWYoZSh0W2hdLGFbdV0pPDApe2lmKHRbYysrXT10W2grK10sZCsrLHA9MCwwPT0tLXMpe2Y9ITA7YnJlYWt9fWVsc2UgaWYodFtjKytdPWFbdSsrXSxwKyssZD0wLDE9PS0taSl7Zj0hMDticmVha319d2hpbGUoKHB8ZCk8Zyk7aWYoZilicmVhaztkb3tpZigwIT09KHA9dWkodFtoXSxhLHUsaSwwLGUpKSl7Zm9yKGw9MDtsPHA7bCsrKXRbYytsXT1hW3UrbF07aWYoYys9cCx1Kz1wLChpLT1wKTw9MSl7Zj0hMDticmVha319aWYodFtjKytdPXRbaCsrXSwwPT0tLXMpe2Y9ITA7YnJlYWt9aWYoMCE9PShkPWxpKGFbdV0sdCxoLHMsMCxlKSkpe2ZvcihsPTA7bDxkO2wrKyl0W2MrbF09dFtoK2xdO2lmKGMrPWQsaCs9ZCwwPT09KHMtPWQpKXtmPSEwO2JyZWFrfX1pZih0W2MrK109YVt1KytdLDE9PS0taSl7Zj0hMDticmVha31nLS19d2hpbGUocD49N3x8ZD49Nyk7aWYoZilicmVhaztnPDAmJihnPTApLGcrPTJ9aWYoKHI9Zyk8MSYmKHI9MSksMT09PWkpe2ZvcihsPTA7bDxzO2wrKyl0W2MrbF09dFtoK2xdO3RbYytzXT1hW3VdfWVsc2V7aWYoMD09PWkpdGhyb3cgbmV3IEVycm9yO2ZvcihsPTA7bDxpO2wrKyl0W2MrbF09YVt1K2xdfX0obCx1LGgsYyk6ZnVuY3Rpb24obixpLG8scyl7dmFyIGw9MDtmb3IobD0wO2w8cztsKyspYVtsXT10W28rbF07dmFyIHU9bitpLTEsaD1zLTEsYz1vK3MtMSxwPTAsZD0wO2lmKHRbYy0tXT10W3UtLV0sMD09LS1pKXtmb3IocD1jLShzLTEpLGw9MDtsPHM7bCsrKXRbcCtsXT1hW2xdO3JldHVybn1pZigxPT09cyl7Zm9yKGQ9KGMtPWkpKzEscD0odS09aSkrMSxsPWktMTtsPj0wO2wtLSl0W2QrbF09dFtwK2xdO3JldHVybiB2b2lkKHRbY109YVtoXSl9dmFyIGY9cjtmb3IoOzspe3ZhciBnPTAseT0wLHY9ITE7ZG97aWYoZShhW2hdLHRbdV0pPDApe2lmKHRbYy0tXT10W3UtLV0sZysrLHk9MCwwPT0tLWkpe3Y9ITA7YnJlYWt9fWVsc2UgaWYodFtjLS1dPWFbaC0tXSx5KyssZz0wLDE9PS0tcyl7dj0hMDticmVha319d2hpbGUoKGd8eSk8Zik7aWYodilicmVhaztkb3tpZigwIT09KGc9aS11aShhW2hdLHQsbixpLGktMSxlKSkpe2ZvcihpLT1nLGQ9KGMtPWcpKzEscD0odS09ZykrMSxsPWctMTtsPj0wO2wtLSl0W2QrbF09dFtwK2xdO2lmKDA9PT1pKXt2PSEwO2JyZWFrfX1pZih0W2MtLV09YVtoLS1dLDE9PS0tcyl7dj0hMDticmVha31pZigwIT09KHk9cy1saSh0W3VdLGEsMCxzLHMtMSxlKSkpe2ZvcihzLT15LGQ9KGMtPXkpKzEscD0oaC09eSkrMSxsPTA7bDx5O2wrKyl0W2QrbF09YVtwK2xdO2lmKHM8PTEpe3Y9ITA7YnJlYWt9fWlmKHRbYy0tXT10W3UtLV0sMD09LS1pKXt2PSEwO2JyZWFrfWYtLX13aGlsZShnPj03fHx5Pj03KTtpZih2KWJyZWFrO2Y8MCYmKGY9MCksZis9Mn0ocj1mKTwxJiYocj0xKTtpZigxPT09cyl7Zm9yKGQ9KGMtPWkpKzEscD0odS09aSkrMSxsPWktMTtsPj0wO2wtLSl0W2QrbF09dFtwK2xdO3RbY109YVtoXX1lbHNle2lmKDA9PT1zKXRocm93IG5ldyBFcnJvcjtmb3IocD1jLShzLTEpLGw9MDtsPHM7bCsrKXRbcCtsXT1hW2xdfX0obCx1LGgsYykpfXJldHVybiBuPVtdLGk9W10se21lcmdlUnVuczpmdW5jdGlvbigpe2Zvcig7bz4xOyl7dmFyIHQ9by0yO2lmKHQ+PTEmJmlbdC0xXTw9aVt0XStpW3QrMV18fHQ+PTImJmlbdC0yXTw9aVt0XStpW3QtMV0paVt0LTFdPGlbdCsxXSYmdC0tO2Vsc2UgaWYoaVt0XT5pW3QrMV0pYnJlYWs7cyh0KX19LGZvcmNlTWVyZ2VSdW5zOmZ1bmN0aW9uKCl7Zm9yKDtvPjE7KXt2YXIgdD1vLTI7dD4wJiZpW3QtMV08aVt0KzFdJiZ0LS0scyh0KX19LHB1c2hSdW46ZnVuY3Rpb24odCxlKXtuW29dPXQsaVtvXT1lLG8rPTF9fX1mdW5jdGlvbiBjaSh0LGUsbixpKXtufHwobj0wKSxpfHwoaT10Lmxlbmd0aCk7dmFyIHI9aS1uO2lmKCEocjwyKSl7dmFyIG89MDtpZihyPDMyKXNpKHQsbixpLG4rKG89YWkodCxuLGksZSkpLGUpO2Vsc2V7dmFyIGE9aGkodCxlKSxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO3Q+PTMyOyllfD0xJnQsdD4+PTE7cmV0dXJuIHQrZX0ocik7ZG97aWYoKG89YWkodCxuLGksZSkpPHMpe3ZhciBsPXI7bD5zJiYobD1zKSxzaSh0LG4sbitsLG4rbyxlKSxvPWx9YS5wdXNoUnVuKG4sbyksYS5tZXJnZVJ1bnMoKSxyLT1vLG4rPW99d2hpbGUoMCE9PXIpO2EuZm9yY2VNZXJnZVJ1bnMoKX19fXZhciBwaT0hMTtmdW5jdGlvbiBkaSgpe3BpfHwocGk9ITAsY29uc29sZS53YXJuKFwieiAvIHoyIC8gemxldmVsIG9mIGRpc3BsYXlhYmxlIGlzIGludmFsaWQsIHdoaWNoIG1heSBjYXVzZSB1bmV4cGVjdGVkIGVycm9yc1wiKSl9ZnVuY3Rpb24gZmkodCxlKXtyZXR1cm4gdC56bGV2ZWw9PT1lLnpsZXZlbD90Lno9PT1lLno/dC56Mi1lLnoyOnQuei1lLno6dC56bGV2ZWwtZS56bGV2ZWx9dmFyIGdpLHlpLHZpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX3Jvb3RzPVtdLHRoaXMuX2Rpc3BsYXlMaXN0PVtdLHRoaXMuX2Rpc3BsYXlMaXN0TGVuPTAsdGhpcy5kaXNwbGF5YWJsZVNvcnRGdW5jPWZpfXJldHVybiB0LnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5fcm9vdHMubGVuZ3RoO24rKyl0aGlzLl9yb290c1tuXS50cmF2ZXJzZSh0LGUpfSx0LnByb3RvdHlwZS5nZXREaXNwbGF5TGlzdD1mdW5jdGlvbih0LGUpe2U9ZXx8ITE7dmFyIG49dGhpcy5fZGlzcGxheUxpc3Q7cmV0dXJuIXQmJm4ubGVuZ3RofHx0aGlzLnVwZGF0ZURpc3BsYXlMaXN0KGUpLG59LHQucHJvdG90eXBlLnVwZGF0ZURpc3BsYXlMaXN0PWZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3BsYXlMaXN0TGVuPTA7Zm9yKHZhciBlPXRoaXMuX3Jvb3RzLG49dGhpcy5fZGlzcGxheUxpc3QsaT0wLHI9ZS5sZW5ndGg7aTxyO2krKyl0aGlzLl91cGRhdGVBbmRBZGREaXNwbGF5YWJsZShlW2ldLG51bGwsdCk7bi5sZW5ndGg9dGhpcy5fZGlzcGxheUxpc3RMZW4sYS5jYW52YXNTdXBwb3J0ZWQmJmNpKG4sZmkpfSx0LnByb3RvdHlwZS5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGU9ZnVuY3Rpb24odCxlLG4pe2lmKCF0Lmlnbm9yZXx8bil7dC5iZWZvcmVVcGRhdGUoKSx0LnVwZGF0ZSgpLHQuYWZ0ZXJVcGRhdGUoKTt2YXIgaT10LmdldENsaXBQYXRoKCk7aWYodC5pZ25vcmVDbGlwKWU9bnVsbDtlbHNlIGlmKGkpe2U9ZT9lLnNsaWNlKCk6W107Zm9yKHZhciByPWksbz10O3I7KXIucGFyZW50PW8sci51cGRhdGVUcmFuc2Zvcm0oKSxlLnB1c2gociksbz1yLHI9ci5nZXRDbGlwUGF0aCgpfWlmKHQuY2hpbGRyZW5SZWYpe2Zvcih2YXIgYT10LmNoaWxkcmVuUmVmKCkscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO3QuX19kaXJ0eSYmKGwuX19kaXJ0eXw9ZWkuUkVEQVJBV19CSVQpLHRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGwsZSxuKX10Ll9fZGlydHk9MH1lbHNle3ZhciB1PXQ7ZSYmZS5sZW5ndGg/dS5fX2NsaXBQYXRocz1lOnUuX19jbGlwUGF0aHMmJnUuX19jbGlwUGF0aHMubGVuZ3RoPjAmJih1Ll9fY2xpcFBhdGhzPVtdKSxpc05hTih1LnopJiYoZGkoKSx1Lno9MCksaXNOYU4odS56MikmJihkaSgpLHUuejI9MCksaXNOYU4odS56bGV2ZWwpJiYoZGkoKSx1LnpsZXZlbD0wKSx0aGlzLl9kaXNwbGF5TGlzdFt0aGlzLl9kaXNwbGF5TGlzdExlbisrXT11fXZhciBoPXQuZ2V0RGVjYWxFbGVtZW50JiZ0LmdldERlY2FsRWxlbWVudCgpO2gmJnRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGgsZSxuKTt2YXIgYz10LmdldFRleHRHdWlkZUxpbmUoKTtjJiZ0aGlzLl91cGRhdGVBbmRBZGREaXNwbGF5YWJsZShjLGUsbik7dmFyIHA9dC5nZXRUZXh0Q29udGVudCgpO3AmJnRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKHAsZSxuKX19LHQucHJvdG90eXBlLmFkZFJvb3Q9ZnVuY3Rpb24odCl7dC5fX3pyJiZ0Ll9fenIuc3RvcmFnZT09PXRoaXN8fHRoaXMuX3Jvb3RzLnB1c2godCl9LHQucHJvdG90eXBlLmRlbFJvb3Q9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmRlbFJvb3QodFtlXSk7ZWxzZXt2YXIgaT1BKHRoaXMuX3Jvb3RzLHQpO2k+PTAmJnRoaXMuX3Jvb3RzLnNwbGljZShpLDEpfX0sdC5wcm90b3R5cGUuZGVsQWxsUm9vdHM9ZnVuY3Rpb24oKXt0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx0aGlzLl9kaXNwbGF5TGlzdExlbj0wfSx0LnByb3RvdHlwZS5nZXRSb290cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290c30sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc3BsYXlMaXN0PW51bGwsdGhpcy5fcm9vdHM9bnVsbH0sdH0oKSxtaT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyl8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSl8fGZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KHQsMTYpfSxfaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fcnVubmluZz0hMSxuLl90aW1lPTAsbi5fcGF1c2VkVGltZT0wLG4uX3BhdXNlU3RhcnQ9MCxuLl9wYXVzZWQ9ITEsZT1lfHx7fSxuLnN0YWdlPWUuc3RhZ2V8fHt9LG4ub25mcmFtZT1lLm9uZnJhbWV8fGZ1bmN0aW9uKCl7fSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuYWRkQ2xpcD1mdW5jdGlvbih0KXt0LmFuaW1hdGlvbiYmdGhpcy5yZW1vdmVDbGlwKHQpLHRoaXMuX2NsaXBzSGVhZD8odGhpcy5fY2xpcHNUYWlsLm5leHQ9dCx0LnByZXY9dGhpcy5fY2xpcHNUYWlsLHQubmV4dD1udWxsLHRoaXMuX2NsaXBzVGFpbD10KTp0aGlzLl9jbGlwc0hlYWQ9dGhpcy5fY2xpcHNUYWlsPXQsdC5hbmltYXRpb249dGhpc30sZS5wcm90b3R5cGUuYWRkQW5pbWF0b3I9ZnVuY3Rpb24odCl7dC5hbmltYXRpb249dGhpczt2YXIgZT10LmdldENsaXAoKTtlJiZ0aGlzLmFkZENsaXAoZSl9LGUucHJvdG90eXBlLnJlbW92ZUNsaXA9ZnVuY3Rpb24odCl7aWYodC5hbmltYXRpb24pe3ZhciBlPXQucHJldixuPXQubmV4dDtlP2UubmV4dD1uOnRoaXMuX2NsaXBzSGVhZD1uLG4/bi5wcmV2PWU6dGhpcy5fY2xpcHNUYWlsPWUsdC5uZXh0PXQucHJldj10LmFuaW1hdGlvbj1udWxsfX0sZS5wcm90b3R5cGUucmVtb3ZlQW5pbWF0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRDbGlwKCk7ZSYmdGhpcy5yZW1vdmVDbGlwKGUpLHQuYW5pbWF0aW9uPW51bGx9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fcGF1c2VkVGltZSxuPWUtdGhpcy5fdGltZSxpPXRoaXMuX2NsaXBzSGVhZDtpOyl7dmFyIHI9aS5uZXh0O2kuc3RlcChlLG4pPyhpLm9uZGVzdHJveSYmaS5vbmRlc3Ryb3koKSx0aGlzLnJlbW92ZUNsaXAoaSksaT1yKTppPXJ9dGhpcy5fdGltZT1lLHR8fCh0aGlzLm9uZnJhbWUobiksdGhpcy50cmlnZ2VyKFwiZnJhbWVcIixuKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKSl9LGUucHJvdG90eXBlLl9zdGFydExvb3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3J1bm5pbmc9ITAsbWkoKGZ1bmN0aW9uIGUoKXt0Ll9ydW5uaW5nJiYobWkoZSksIXQuX3BhdXNlZCYmdC51cGRhdGUoKSl9KSl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5fcnVubmluZ3x8KHRoaXMuX3RpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fcGF1c2VkVGltZT0wLHRoaXMuX3N0YXJ0TG9vcCgpKX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3J1bm5pbmc9ITF9LGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkfHwodGhpcy5fcGF1c2VTdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9wYXVzZWQ9ITApfSxlLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWRUaW1lKz0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl9wYXVzZVN0YXJ0LHRoaXMuX3BhdXNlZD0hMSl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2NsaXBzSGVhZDt0Oyl7dmFyIGU9dC5uZXh0O3QucHJldj10Lm5leHQ9dC5hbmltYXRpb249bnVsbCx0PWV9dGhpcy5fY2xpcHNIZWFkPXRoaXMuX2NsaXBzVGFpbD1udWxsfSxlLnByb3RvdHlwZS5pc0ZpbmlzaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuX2NsaXBzSGVhZH0sZS5wcm90b3R5cGUuYW5pbWF0ZT1mdW5jdGlvbih0LGUpe2U9ZXx8e30sdGhpcy5zdGFydCgpO3ZhciBuPW5ldyBNbih0LGUubG9vcCk7cmV0dXJuIHRoaXMuYWRkQW5pbWF0b3Iobiksbn0sZX0oRnQpLHhpPWEuZG9tU3VwcG9ydGVkLGJpPSh5aT17cG9pbnRlcmRvd246MSxwb2ludGVydXA6MSxwb2ludGVybW92ZToxLHBvaW50ZXJvdXQ6MX0se21vdXNlOmdpPVtcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2V3aGVlbFwiLFwid2hlZWxcIixcIm1vdXNlb3V0XCIsXCJtb3VzZXVwXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwiY29udGV4dG1lbnVcIl0sdG91Y2g6W1widG91Y2hzdGFydFwiLFwidG91Y2hlbmRcIixcInRvdWNobW92ZVwiXSxwb2ludGVyOk8oZ2ksKGZ1bmN0aW9uKHQpe3ZhciBlPXQucmVwbGFjZShcIm1vdXNlXCIsXCJwb2ludGVyXCIpO3JldHVybiB5aS5oYXNPd25Qcm9wZXJ0eShlKT9lOnR9KSl9KSx3aT1bXCJtb3VzZW1vdmVcIixcIm1vdXNldXBcIl0sU2k9W1wicG9pbnRlcm1vdmVcIixcInBvaW50ZXJ1cFwiXSxNaT0hMTtmdW5jdGlvbiBJaSh0KXt2YXIgZT10LnBvaW50ZXJUeXBlO3JldHVyblwicGVuXCI9PT1lfHxcInRvdWNoXCI9PT1lfWZ1bmN0aW9uIFRpKHQpe3QmJih0LnpyQnlUb3VjaD0hMCl9ZnVuY3Rpb24gQ2kodCxlKXtmb3IodmFyIG49ZSxpPSExO24mJjkhPT1uLm5vZGVUeXBlJiYhKGk9bi5kb21CZWxvbmdUb1pyfHxuIT09ZSYmbj09PXQucGFpbnRlclJvb3QpOyluPW4ucGFyZW50Tm9kZTtyZXR1cm4gaX12YXIgQWk9ZnVuY3Rpb24odCxlKXt0aGlzLnN0b3BQcm9wYWdhdGlvbj1mdCx0aGlzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdCx0aGlzLnByZXZlbnREZWZhdWx0PWZ0LHRoaXMudHlwZT1lLnR5cGUsdGhpcy50YXJnZXQ9dGhpcy5jdXJyZW50VGFyZ2V0PXQuZG9tLHRoaXMucG9pbnRlclR5cGU9ZS5wb2ludGVyVHlwZSx0aGlzLmNsaWVudFg9ZS5jbGllbnRYLHRoaXMuY2xpZW50WT1lLmNsaWVudFl9LERpPXttb3VzZWRvd246ZnVuY3Rpb24odCl7dD1RdCh0aGlzLmRvbSx0KSx0aGlzLl9fbWF5UG9pbnRlckNhcHR1cmU9W3QuenJYLHQuenJZXSx0aGlzLnRyaWdnZXIoXCJtb3VzZWRvd25cIix0KX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3Q9UXQodGhpcy5kb20sdCk7dmFyIGU9dGhpcy5fX21heVBvaW50ZXJDYXB0dXJlOyFlfHx0LnpyWD09PWVbMF0mJnQuenJZPT09ZVsxXXx8dGhpcy5fX3RvZ2dsZVBvaW50ZXJDYXB0dXJlKCEwKSx0aGlzLnRyaWdnZXIoXCJtb3VzZW1vdmVcIix0KX0sbW91c2V1cDpmdW5jdGlvbih0KXt0PVF0KHRoaXMuZG9tLHQpLHRoaXMuX190b2dnbGVQb2ludGVyQ2FwdHVyZSghMSksdGhpcy50cmlnZ2VyKFwibW91c2V1cFwiLHQpfSxtb3VzZW91dDpmdW5jdGlvbih0KXtDaSh0aGlzLCh0PVF0KHRoaXMuZG9tLHQpKS50b0VsZW1lbnR8fHQucmVsYXRlZFRhcmdldCl8fCh0aGlzLl9fcG9pbnRlckNhcHR1cmluZyYmKHQuenJFdmVudENvbnRyb2w9XCJub19nbG9iYWxvdXRcIiksdGhpcy50cmlnZ2VyKFwibW91c2VvdXRcIix0KSl9LHdoZWVsOmZ1bmN0aW9uKHQpe01pPSEwLHQ9UXQodGhpcy5kb20sdCksdGhpcy50cmlnZ2VyKFwibW91c2V3aGVlbFwiLHQpfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKHQpe01pfHwodD1RdCh0aGlzLmRvbSx0KSx0aGlzLnRyaWdnZXIoXCJtb3VzZXdoZWVsXCIsdCkpfSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKHQpe1RpKHQ9UXQodGhpcy5kb20sdCkpLHRoaXMuX19sYXN0VG91Y2hNb21lbnQ9bmV3IERhdGUsdGhpcy5oYW5kbGVyLnByb2Nlc3NHZXN0dXJlKHQsXCJzdGFydFwiKSxEaS5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpLERpLm1vdXNlZG93bi5jYWxsKHRoaXMsdCl9LHRvdWNobW92ZTpmdW5jdGlvbih0KXtUaSh0PVF0KHRoaXMuZG9tLHQpKSx0aGlzLmhhbmRsZXIucHJvY2Vzc0dlc3R1cmUodCxcImNoYW5nZVwiKSxEaS5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSx0b3VjaGVuZDpmdW5jdGlvbih0KXtUaSh0PVF0KHRoaXMuZG9tLHQpKSx0aGlzLmhhbmRsZXIucHJvY2Vzc0dlc3R1cmUodCxcImVuZFwiKSxEaS5tb3VzZXVwLmNhbGwodGhpcyx0KSwrbmV3IERhdGUtK3RoaXMuX19sYXN0VG91Y2hNb21lbnQ8MzAwJiZEaS5jbGljay5jYWxsKHRoaXMsdCl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKHQpe0RpLm1vdXNlZG93bi5jYWxsKHRoaXMsdCl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKHQpe0lpKHQpfHxEaS5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSxwb2ludGVydXA6ZnVuY3Rpb24odCl7RGkubW91c2V1cC5jYWxsKHRoaXMsdCl9LHBvaW50ZXJvdXQ6ZnVuY3Rpb24odCl7SWkodCl8fERpLm1vdXNlb3V0LmNhbGwodGhpcyx0KX19O1AoW1wiY2xpY2tcIixcImRibGNsaWNrXCIsXCJjb250ZXh0bWVudVwiXSwoZnVuY3Rpb24odCl7RGlbdF09ZnVuY3Rpb24oZSl7ZT1RdCh0aGlzLmRvbSxlKSx0aGlzLnRyaWdnZXIodCxlKX19KSk7dmFyIExpPXtwb2ludGVybW92ZTpmdW5jdGlvbih0KXtJaSh0KXx8TGkubW91c2Vtb3ZlLmNhbGwodGhpcyx0KX0scG9pbnRlcnVwOmZ1bmN0aW9uKHQpe0xpLm1vdXNldXAuY2FsbCh0aGlzLHQpfSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy50cmlnZ2VyKFwibW91c2Vtb3ZlXCIsdCl9LG1vdXNldXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3BvaW50ZXJDYXB0dXJpbmc7dGhpcy5fX3RvZ2dsZVBvaW50ZXJDYXB0dXJlKCExKSx0aGlzLnRyaWdnZXIoXCJtb3VzZXVwXCIsdCksZSYmKHQuenJFdmVudENvbnRyb2w9XCJvbmx5X2dsb2JhbG91dFwiLHRoaXMudHJpZ2dlcihcIm1vdXNlb3V0XCIsdCkpfX07ZnVuY3Rpb24ga2kodCxlKXt2YXIgbj1lLmRvbUhhbmRsZXJzO2EucG9pbnRlckV2ZW50c1N1cHBvcnRlZD9QKGJpLnBvaW50ZXIsKGZ1bmN0aW9uKGkpe09pKGUsaSwoZnVuY3Rpb24oZSl7bltpXS5jYWxsKHQsZSl9KSl9KSk6KGEudG91Y2hFdmVudHNTdXBwb3J0ZWQmJlAoYmkudG91Y2gsKGZ1bmN0aW9uKGkpe09pKGUsaSwoZnVuY3Rpb24ocil7bltpXS5jYWxsKHQsciksZnVuY3Rpb24odCl7dC50b3VjaGluZz0hMCxudWxsIT10LnRvdWNoVGltZXImJihjbGVhclRpbWVvdXQodC50b3VjaFRpbWVyKSx0LnRvdWNoVGltZXI9bnVsbCksdC50b3VjaFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC50b3VjaGluZz0hMSx0LnRvdWNoVGltZXI9bnVsbH0pLDcwMCl9KGUpfSkpfSkpLFAoYmkubW91c2UsKGZ1bmN0aW9uKGkpe09pKGUsaSwoZnVuY3Rpb24ocil7cj1KdChyKSxlLnRvdWNoaW5nfHxuW2ldLmNhbGwodCxyKX0pKX0pKSl9ZnVuY3Rpb24gUGkodCxlKXtmdW5jdGlvbiBuKG4pe09pKGUsbiwoZnVuY3Rpb24oaSl7aT1KdChpKSxDaSh0LGkudGFyZ2V0KXx8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUXQodC5kb20sbmV3IEFpKHQsZSksITApfSh0LGkpLGUuZG9tSGFuZGxlcnNbbl0uY2FsbCh0LGkpKX0pLHtjYXB0dXJlOiEwfSl9YS5wb2ludGVyRXZlbnRzU3VwcG9ydGVkP1AoU2ksbik6YS50b3VjaEV2ZW50c1N1cHBvcnRlZHx8UCh3aSxuKX1mdW5jdGlvbiBPaSh0LGUsbixpKXt0Lm1vdW50ZWRbZV09bix0Lmxpc3RlbmVyT3B0c1tlXT1pLHRlKHQuZG9tVGFyZ2V0LGUsbixpKX1mdW5jdGlvbiBSaSh0KXt2YXIgZSxuLGkscixvPXQubW91bnRlZDtmb3IodmFyIGEgaW4gbylvLmhhc093blByb3BlcnR5KGEpJiYoZT10LmRvbVRhcmdldCxuPWEsaT1vW2FdLHI9dC5saXN0ZW5lck9wdHNbYV0sWnQ/ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4saSxyKTplLmRldGFjaEV2ZW50KFwib25cIituLGkpKTt0Lm1vdW50ZWQ9e319dmFyIE5pPWZ1bmN0aW9uKHQsZSl7dGhpcy5tb3VudGVkPXt9LHRoaXMubGlzdGVuZXJPcHRzPXt9LHRoaXMudG91Y2hpbmc9ITEsdGhpcy5kb21UYXJnZXQ9dCx0aGlzLmRvbUhhbmRsZXJzPWV9LEVpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuX19wb2ludGVyQ2FwdHVyaW5nPSExLGkuZG9tPWUsaS5wYWludGVyUm9vdD1uLGkuX2xvY2FsSGFuZGxlclNjb3BlPW5ldyBOaShlLERpKSx4aSYmKGkuX2dsb2JhbEhhbmRsZXJTY29wZT1uZXcgTmkoZG9jdW1lbnQsTGkpKSxraShpLGkuX2xvY2FsSGFuZGxlclNjb3BlKSxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe1JpKHRoaXMuX2xvY2FsSGFuZGxlclNjb3BlKSx4aSYmUmkodGhpcy5fZ2xvYmFsSGFuZGxlclNjb3BlKX0sZS5wcm90b3R5cGUuc2V0Q3Vyc29yPWZ1bmN0aW9uKHQpe3RoaXMuZG9tLnN0eWxlJiYodGhpcy5kb20uc3R5bGUuY3Vyc29yPXR8fFwiZGVmYXVsdFwiKX0sZS5wcm90b3R5cGUuX190b2dnbGVQb2ludGVyQ2FwdHVyZT1mdW5jdGlvbih0KXtpZih0aGlzLl9fbWF5UG9pbnRlckNhcHR1cmU9bnVsbCx4aSYmK3RoaXMuX19wb2ludGVyQ2FwdHVyaW5nXit0KXt0aGlzLl9fcG9pbnRlckNhcHR1cmluZz10O3ZhciBlPXRoaXMuX2dsb2JhbEhhbmRsZXJTY29wZTt0P1BpKHRoaXMsZSk6UmkoZSl9fSxlfShGdCksemk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaXNHcm91cD0hMCxuLl9jaGlsZHJlbj1bXSxuLmF0dHIoZSksbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNoaWxkcmVuUmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufSxlLnByb3RvdHlwZS5jaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5zbGljZSgpfSxlLnByb3RvdHlwZS5jaGlsZEF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlblt0XX0sZS5wcm90b3R5cGUuY2hpbGRPZk5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NoaWxkcmVuLG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm5hbWU9PT10KXJldHVybiBlW25dfSxlLnByb3RvdHlwZS5jaGlsZENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKHQmJih0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiYodGhpcy5fY2hpbGRyZW4ucHVzaCh0KSx0aGlzLl9kb0FkZCh0KSksdC5fX2hvc3RUYXJnZXQpKXRocm93XCJUaGlzIGVsZW1lbmV0IGhhcyBiZWVuIHVzZWQgYXMgYW4gYXR0YWNobWVudFwiO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5hZGRCZWZvcmU9ZnVuY3Rpb24odCxlKXtpZih0JiZ0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiZlJiZlLnBhcmVudD09PXRoaXMpe3ZhciBuPXRoaXMuX2NoaWxkcmVuLGk9bi5pbmRleE9mKGUpO2k+PTAmJihuLnNwbGljZShpLDAsdCksdGhpcy5fZG9BZGQodCkpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlQXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jaGlsZHJlbixpPW5bZV07aWYodCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmdCE9PWkpe25bZV09dCxpLnBhcmVudD1udWxsO3ZhciByPXRoaXMuX196cjtyJiZpLnJlbW92ZVNlbGZGcm9tWnIociksdGhpcy5fZG9BZGQodCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9kb0FkZD1mdW5jdGlvbih0KXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpLHQucGFyZW50PXRoaXM7dmFyIGU9dGhpcy5fX3pyO2UmJmUhPT10Ll9fenImJnQuYWRkU2VsZlRvWnIoZSksZSYmZS5yZWZyZXNoKCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fenIsbj10aGlzLl9jaGlsZHJlbixpPUEobix0KTtyZXR1cm4gaTwwfHwobi5zcGxpY2UoaSwxKSx0LnBhcmVudD1udWxsLGUmJnQucmVtb3ZlU2VsZkZyb21acihlKSxlJiZlLnJlZnJlc2goKSksdGhpc30sZS5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2NoaWxkcmVuLGU9dGhpcy5fX3pyLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtlJiZpLnJlbW92ZVNlbGZGcm9tWnIoZSksaS5wYXJlbnQ9bnVsbH1yZXR1cm4gdC5sZW5ndGg9MCx0aGlzfSxlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fY2hpbGRyZW4saT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3QuY2FsbChlLHIsaSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgaT10aGlzLl9jaGlsZHJlbltuXSxyPXQuY2FsbChlLGkpO2kuaXNHcm91cCYmIXImJmkudHJhdmVyc2UodCxlKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuYWRkU2VsZlRvWnI9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuYWRkU2VsZlRvWnIuY2FsbCh0aGlzLGUpO2Zvcih2YXIgbj0wO248dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO24rKyl7dGhpcy5fY2hpbGRyZW5bbl0uYWRkU2VsZlRvWnIoZSl9fSxlLnByb3RvdHlwZS5yZW1vdmVTZWxmRnJvbVpyPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLnJlbW92ZVNlbGZGcm9tWnIuY2FsbCh0aGlzLGUpO2Zvcih2YXIgbj0wO248dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO24rKyl7dGhpcy5fY2hpbGRyZW5bbl0ucmVtb3ZlU2VsZkZyb21acihlKX19LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IFJuKDAsMCwwLDApLG49dHx8dGhpcy5fY2hpbGRyZW4saT1bXSxyPW51bGwsbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1uW29dO2lmKCFhLmlnbm9yZSYmIWEuaW52aXNpYmxlKXt2YXIgcz1hLmdldEJvdW5kaW5nUmVjdCgpLGw9YS5nZXRMb2NhbFRyYW5zZm9ybShpKTtsPyhSbi5hcHBseVRyYW5zZm9ybShlLHMsbCksKHI9cnx8ZS5jbG9uZSgpKS51bmlvbihlKSk6KHI9cnx8cy5jbG9uZSgpKS51bmlvbihzKX19cmV0dXJuIHJ8fGV9LGV9KGVpKTt6aS5wcm90b3R5cGUudHlwZT1cImdyb3VwXCI7XG4vKiFcbiAgICAqIFpSZW5kZXIsIGEgaGlnaCBwZXJmb3JtYW5jZSAyZCBkcmF3aW5nIGxpYnJhcnkuXG4gICAgKlxuICAgICogQ29weXJpZ2h0IChjKSAyMDEzLCBCYWlkdSBJbmMuXG4gICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgICpcbiAgICAqIExJQ0VOU0VcbiAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9lY29tZmUvenJlbmRlci9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuICAgICovXG52YXIgQmk9IWEuY2FudmFzU3VwcG9ydGVkLFZpPXt9LEZpPXt9O3ZhciBHaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZhciBpPXRoaXM7dGhpcy5fc2xlZXBBZnRlclN0aWxsPTEwLHRoaXMuX3N0aWxsRnJhbWVBY2N1bT0wLHRoaXMuX25lZWRzUmVmcmVzaD0hMCx0aGlzLl9uZWVkc1JlZnJlc2hIb3Zlcj0hMCx0aGlzLl9kYXJrTW9kZT0hMSxuPW58fHt9LHRoaXMuZG9tPWUsdGhpcy5pZD10O3ZhciByPW5ldyB2aSxvPW4ucmVuZGVyZXJ8fFwiY2FudmFzXCI7aWYoQmkpdGhyb3cgbmV3IEVycm9yKFwiSUU4IHN1cHBvcnQgaGFzIGJlZW4gZHJvcHBlZCBzaW5jZSA1LjBcIik7aWYoVmlbb118fChvPXooVmkpWzBdKSwhVmlbb10pdGhyb3cgbmV3IEVycm9yKFwiUmVuZGVyZXIgJ1wiK28rXCInIGlzIG5vdCBpbXBvcnRlZC4gUGxlYXNlIGltcG9ydCBpdCBmaXJzdC5cIik7bi51c2VEaXJ0eVJlY3Q9bnVsbCE9bi51c2VEaXJ0eVJlY3QmJm4udXNlRGlydHlSZWN0O3ZhciBzPW5ldyBWaVtvXShlLHIsbix0KTt0aGlzLnN0b3JhZ2U9cix0aGlzLnBhaW50ZXI9czt2YXIgbD1hLm5vZGV8fGEud29ya2VyP251bGw6bmV3IEVpKHMuZ2V0Vmlld3BvcnRSb290KCkscy5yb290KTt0aGlzLmhhbmRsZXI9bmV3IGNlKHIscyxsLHMucm9vdCksdGhpcy5hbmltYXRpb249bmV3IF9pKHtzdGFnZTp7dXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuX2ZsdXNoKCEwKX19fSksdGhpcy5hbmltYXRpb24uc3RhcnQoKX1yZXR1cm4gdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3QmJih0aGlzLnN0b3JhZ2UuYWRkUm9vdCh0KSx0LmFkZFNlbGZUb1pyKHRoaXMpLHRoaXMucmVmcmVzaCgpKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3QmJih0aGlzLnN0b3JhZ2UuZGVsUm9vdCh0KSx0LnJlbW92ZVNlbGZGcm9tWnIodGhpcyksdGhpcy5yZWZyZXNoKCkpfSx0LnByb3RvdHlwZS5jb25maWdMYXllcj1mdW5jdGlvbih0LGUpe3RoaXMucGFpbnRlci5jb25maWdMYXllciYmdGhpcy5wYWludGVyLmNvbmZpZ0xheWVyKHQsZSksdGhpcy5yZWZyZXNoKCl9LHQucHJvdG90eXBlLnNldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbih0KXt0aGlzLnBhaW50ZXIuc2V0QmFja2dyb3VuZENvbG9yJiZ0aGlzLnBhaW50ZXIuc2V0QmFja2dyb3VuZENvbG9yKHQpLHRoaXMucmVmcmVzaCgpLHRoaXMuX2JhY2tncm91bmRDb2xvcj10LHRoaXMuX2RhcmtNb2RlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBzbih0LDEpPC40O2lmKHQuY29sb3JTdG9wcyl7Zm9yKHZhciBlPXQuY29sb3JTdG9wcyxuPTAsaT1lLmxlbmd0aCxyPTA7cjxpO3IrKyluKz1zbihlW3JdLmNvbG9yLDEpO3JldHVybihuLz1pKTwuNH1yZXR1cm4hMX0odCl9LHQucHJvdG90eXBlLmdldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3J9LHQucHJvdG90eXBlLnNldERhcmtNb2RlPWZ1bmN0aW9uKHQpe3RoaXMuX2RhcmtNb2RlPXR9LHQucHJvdG90eXBlLmlzRGFya01vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGFya01vZGV9LHQucHJvdG90eXBlLnJlZnJlc2hJbW1lZGlhdGVseT1mdW5jdGlvbih0KXt0fHx0aGlzLmFuaW1hdGlvbi51cGRhdGUoITApLHRoaXMuX25lZWRzUmVmcmVzaD0hMSx0aGlzLnBhaW50ZXIucmVmcmVzaCgpLHRoaXMuX25lZWRzUmVmcmVzaD0hMX0sdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaD0hMCx0aGlzLmFuaW1hdGlvbi5zdGFydCgpfSx0LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3RoaXMuX2ZsdXNoKCExKX0sdC5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKHQpe3ZhciBlLG49KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5fbmVlZHNSZWZyZXNoJiYoZT0hMCx0aGlzLnJlZnJlc2hJbW1lZGlhdGVseSh0KSksdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXImJihlPSEwLHRoaXMucmVmcmVzaEhvdmVySW1tZWRpYXRlbHkoKSk7dmFyIGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZT8odGhpcy5fc3RpbGxGcmFtZUFjY3VtPTAsdGhpcy50cmlnZ2VyKFwicmVuZGVyZWRcIix7ZWxhcHNlZFRpbWU6aS1ufSkpOnRoaXMuX3NsZWVwQWZ0ZXJTdGlsbD4wJiYodGhpcy5fc3RpbGxGcmFtZUFjY3VtKyssdGhpcy5fc3RpbGxGcmFtZUFjY3VtPnRoaXMuX3NsZWVwQWZ0ZXJTdGlsbCYmdGhpcy5hbmltYXRpb24uc3RvcCgpKX0sdC5wcm90b3R5cGUuc2V0U2xlZXBBZnRlclN0aWxsPWZ1bmN0aW9uKHQpe3RoaXMuX3NsZWVwQWZ0ZXJTdGlsbD10fSx0LnByb3RvdHlwZS53YWtlVXA9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbi5zdGFydCgpLHRoaXMuX3N0aWxsRnJhbWVBY2N1bT0wfSx0LnByb3RvdHlwZS5hZGRIb3Zlcj1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnJlbW92ZUhvdmVyPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuY2xlYXJIb3Zlcj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVmcmVzaEhvdmVyPWZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITB9LHQucHJvdG90eXBlLnJlZnJlc2hIb3ZlckltbWVkaWF0ZWx5PWZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITEsdGhpcy5wYWludGVyLnJlZnJlc2hIb3ZlciYmXCJjYW52YXNcIj09PXRoaXMucGFpbnRlci5nZXRUeXBlKCkmJnRoaXMucGFpbnRlci5yZWZyZXNoSG92ZXIoKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3Q9dHx8e30sdGhpcy5wYWludGVyLnJlc2l6ZSh0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLmhhbmRsZXIucmVzaXplKCl9LHQucHJvdG90eXBlLmNsZWFyQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb24uY2xlYXIoKX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWludGVyLmdldFdpZHRoKCl9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhaW50ZXIuZ2V0SGVpZ2h0KCl9LHQucHJvdG90eXBlLnBhdGhUb0ltYWdlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5wYWludGVyLnBhdGhUb0ltYWdlKXJldHVybiB0aGlzLnBhaW50ZXIucGF0aFRvSW1hZ2UodCxlKX0sdC5wcm90b3R5cGUuc2V0Q3Vyc29yU3R5bGU9ZnVuY3Rpb24odCl7dGhpcy5oYW5kbGVyLnNldEN1cnNvclN0eWxlKHQpfSx0LnByb3RvdHlwZS5maW5kSG92ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYW5kbGVyLmZpbmRIb3Zlcih0LGUpfSx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuaGFuZGxlci5vbih0LGUsbiksdGhpc30sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7dGhpcy5oYW5kbGVyLm9mZih0LGUpfSx0LnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKHQsZSl7dGhpcy5oYW5kbGVyLnRyaWdnZXIodCxlKX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zdG9yYWdlLmdldFJvb3RzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV1pbnN0YW5jZW9mIHppJiZ0W2VdLnJlbW92ZVNlbGZGcm9tWnIodGhpcyk7dGhpcy5zdG9yYWdlLmRlbEFsbFJvb3RzKCksdGhpcy5wYWludGVyLmNsZWFyKCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmFuaW1hdGlvbi5zdG9wKCksdGhpcy5jbGVhcigpLHRoaXMuc3RvcmFnZS5kaXNwb3NlKCksdGhpcy5wYWludGVyLmRpc3Bvc2UoKSx0aGlzLmhhbmRsZXIuZGlzcG9zZSgpLHRoaXMuYW5pbWF0aW9uPXRoaXMuc3RvcmFnZT10aGlzLnBhaW50ZXI9dGhpcy5oYW5kbGVyPW51bGwsdD10aGlzLmlkLGRlbGV0ZSBGaVt0XX0sdH0oKTtmdW5jdGlvbiBIaSh0LGUpe3ZhciBuPW5ldyBHaSh4KCksdCxlKTtyZXR1cm4gRmlbbi5pZF09bixufWZ1bmN0aW9uIFdpKHQsZSl7VmlbdF09ZX12YXIgWWk9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaW5pdDpIaSxkaXNwb3NlOmZ1bmN0aW9uKHQpe3QuZGlzcG9zZSgpfSxkaXNwb3NlQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIEZpKUZpLmhhc093blByb3BlcnR5KHQpJiZGaVt0XS5kaXNwb3NlKCk7Rmk9e319LGdldEluc3RhbmNlOmZ1bmN0aW9uKHQpe3JldHVybiBGaVt0XX0scmVnaXN0ZXJQYWludGVyOldpLHZlcnNpb246XCI1LjAuM1wifSksWGk9MWUtNDtmdW5jdGlvbiBVaSh0LGUsbixpKXt2YXIgcj1lWzFdLWVbMF0sbz1uWzFdLW5bMF07aWYoMD09PXIpcmV0dXJuIDA9PT1vP25bMF06KG5bMF0rblsxXSkvMjtpZihpKWlmKHI+MCl7aWYodDw9ZVswXSlyZXR1cm4gblswXTtpZih0Pj1lWzFdKXJldHVybiBuWzFdfWVsc2V7aWYodD49ZVswXSlyZXR1cm4gblswXTtpZih0PD1lWzFdKXJldHVybiBuWzFdfWVsc2V7aWYodD09PWVbMF0pcmV0dXJuIG5bMF07aWYodD09PWVbMV0pcmV0dXJuIG5bMV19cmV0dXJuKHQtZVswXSkvcipvK25bMF19ZnVuY3Rpb24gWmkodCxlKXtzd2l0Y2godCl7Y2FzZVwiY2VudGVyXCI6Y2FzZVwibWlkZGxlXCI6dD1cIjUwJVwiO2JyZWFrO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3BcIjp0PVwiMCVcIjticmVhaztjYXNlXCJyaWdodFwiOmNhc2VcImJvdHRvbVwiOnQ9XCIxMDAlXCJ9cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/KG49dCxuLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIikpLm1hdGNoKC8lJC8pP3BhcnNlRmxvYXQodCkvMTAwKmU6cGFyc2VGbG9hdCh0KTpudWxsPT10P05hTjordDt2YXIgbn1mdW5jdGlvbiBqaSh0LGUsbil7cmV0dXJuIG51bGw9PWUmJihlPTEwKSxlPU1hdGgubWluKE1hdGgubWF4KDAsZSksMjApLHQ9KCt0KS50b0ZpeGVkKGUpLG4/dDordH1mdW5jdGlvbiBxaSh0KXtyZXR1cm4gdC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSksdH1mdW5jdGlvbiBLaSh0KXtpZih0PSt0LGlzTmFOKHQpKXJldHVybiAwO2Zvcih2YXIgZT0xLG49MDtNYXRoLnJvdW5kKHQqZSkvZSE9PXQ7KWUqPTEwLG4rKztyZXR1cm4gbn1mdW5jdGlvbiAkaSh0KXt2YXIgZT10LnRvU3RyaW5nKCksbj1lLmluZGV4T2YoXCJlXCIpO2lmKG4+MCl7dmFyIGk9K2Uuc2xpY2UobisxKTtyZXR1cm4gaTwwPy1pOjB9dmFyIHI9ZS5pbmRleE9mKFwiLlwiKTtyZXR1cm4gcjwwPzA6ZS5sZW5ndGgtMS1yfWZ1bmN0aW9uIEppKHQsZSl7dmFyIG49TWF0aC5sb2csaT1NYXRoLkxOMTAscj1NYXRoLmZsb29yKG4odFsxXS10WzBdKS9pKSxvPU1hdGgucm91bmQobihNYXRoLmFicyhlWzFdLWVbMF0pKS9pKSxhPU1hdGgubWluKE1hdGgubWF4KC1yK28sMCksMjApO3JldHVybiBpc0Zpbml0ZShhKT9hOjIwfWZ1bmN0aW9uIFFpKHQsZSxuKXtpZighdFtlXSlyZXR1cm4gMDt2YXIgaT1SKHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrKGlzTmFOKGUpPzA6ZSl9KSwwKTtpZigwPT09aSlyZXR1cm4gMDtmb3IodmFyIHI9TWF0aC5wb3coMTAsbiksbz1PKHQsKGZ1bmN0aW9uKHQpe3JldHVybihpc05hTih0KT8wOnQpL2kqcioxMDB9KSksYT0xMDAqcixzPU8obywoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IodCl9KSksbD1SKHMsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApLHU9TyhvLChmdW5jdGlvbih0LGUpe3JldHVybiB0LXNbZV19KSk7bDxhOyl7Zm9yKHZhciBoPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxjPW51bGwscD0wLGQ9dS5sZW5ndGg7cDxkOysrcCl1W3BdPmgmJihoPXVbcF0sYz1wKTsrK3NbY10sdVtjXT0wLCsrbH1yZXR1cm4gc1tlXS9yfXZhciB0cj05MDA3MTk5MjU0NzQwOTkxO2Z1bmN0aW9uIGVyKHQpe3ZhciBlPTIqTWF0aC5QSTtyZXR1cm4odCVlK2UpJWV9ZnVuY3Rpb24gbnIodCl7cmV0dXJuIHQ+LTFlLTQmJnQ8WGl9dmFyIGlyPS9eKD86KFxcZHs0fSkoPzpbLVxcL10oXFxkezEsMn0pKD86Wy1cXC9dKFxcZHsxLDJ9KSg/OltUIF0oXFxkezEsMn0pKD86OihcXGR7MSwyfSkoPzo6KFxcZHsxLDJ9KSg/OlsuLF0oXFxkKykpPyk/KT8oWnxbXFwrXFwtXVxcZFxcZDo/XFxkXFxkKT8pPyk/KT8pPyQvO2Z1bmN0aW9uIHJyKHQpe2lmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiB0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgZT1pci5leGVjKHQpO2lmKCFlKXJldHVybiBuZXcgRGF0ZShOYU4pO2lmKGVbOF0pe3ZhciBuPStlWzRdfHwwO3JldHVyblwiWlwiIT09ZVs4XS50b1VwcGVyQ2FzZSgpJiYobi09K2VbOF0uc2xpY2UoMCwzKSksbmV3IERhdGUoRGF0ZS5VVEMoK2VbMV0sKyhlWzJdfHwxKS0xLCtlWzNdfHwxLG4sKyhlWzVdfHwwKSwrZVs2XXx8MCwrZVs3XXx8MCkpfXJldHVybiBuZXcgRGF0ZSgrZVsxXSwrKGVbMl18fDEpLTEsK2VbM118fDEsK2VbNF18fDAsKyhlWzVdfHwwKSwrZVs2XXx8MCwrZVs3XXx8MCl9cmV0dXJuIG51bGw9PXQ/bmV3IERhdGUoTmFOKTpuZXcgRGF0ZShNYXRoLnJvdW5kKHQpKX1mdW5jdGlvbiBvcih0KXtyZXR1cm4gTWF0aC5wb3coMTAsYXIodCkpfWZ1bmN0aW9uIGFyKHQpe2lmKDA9PT10KXJldHVybiAwO3ZhciBlPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjEwKTtyZXR1cm4gdC9NYXRoLnBvdygxMCxlKT49MTAmJmUrKyxlfWZ1bmN0aW9uIHNyKHQsZSl7dmFyIG49YXIodCksaT1NYXRoLnBvdygxMCxuKSxyPXQvaTtyZXR1cm4gdD0oZT9yPDEuNT8xOnI8Mi41PzI6cjw0PzM6cjw3PzU6MTA6cjwxPzE6cjwyPzI6cjwzPzM6cjw1PzU6MTApKmksbj49LTIwPyt0LnRvRml4ZWQobjwwPy1uOjApOnR9ZnVuY3Rpb24gbHIodCxlKXt2YXIgbj0odC5sZW5ndGgtMSkqZSsxLGk9TWF0aC5mbG9vcihuKSxyPSt0W2ktMV0sbz1uLWk7cmV0dXJuIG8/citvKih0W2ldLXIpOnJ9ZnVuY3Rpb24gdXIodCl7dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBzKHQsZSwwKT8tMToxfSkpO2Zvcih2YXIgZT0tMS8wLG49MSxpPTA7aTx0Lmxlbmd0aDspe2Zvcih2YXIgcj10W2ldLmludGVydmFsLG89dFtpXS5jbG9zZSxhPTA7YTwyO2ErKylyW2FdPD1lJiYoclthXT1lLG9bYV09YT8xOjEtbiksZT1yW2FdLG49b1thXTtyWzBdPT09clsxXSYmb1swXSpvWzFdIT0xP3Quc3BsaWNlKGksMSk6aSsrfXJldHVybiB0O2Z1bmN0aW9uIHModCxlLG4pe3JldHVybiB0LmludGVydmFsW25dPGUuaW50ZXJ2YWxbbl18fHQuaW50ZXJ2YWxbbl09PT1lLmludGVydmFsW25dJiYodC5jbG9zZVtuXS1lLmNsb3NlW25dPT0obj8tMToxKXx8IW4mJnModCxlLDEpKX19ZnVuY3Rpb24gaHIodCl7dmFyIGU9cGFyc2VGbG9hdCh0KTtyZXR1cm4gZT09dCYmKDAhPT1lfHxcInN0cmluZ1wiIT10eXBlb2YgdHx8dC5pbmRleE9mKFwieFwiKTw9MCk/ZTpOYU59ZnVuY3Rpb24gY3IodCl7cmV0dXJuIWlzTmFOKGhyKHQpKX1mdW5jdGlvbiBwcigpe3JldHVybiBNYXRoLnJvdW5kKDkqTWF0aC5yYW5kb20oKSl9ZnVuY3Rpb24gZHIodCxlKXtyZXR1cm4gMD09PWU/dDpkcihlLHQlZSl9ZnVuY3Rpb24gZnIodCxlKXtyZXR1cm4gbnVsbD09dD9lOm51bGw9PWU/dDp0KmUvZHIodCxlKX1cInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLmxvZztmdW5jdGlvbiBncih0KXswfWZ1bmN0aW9uIHlyKHQpe3Rocm93IG5ldyBFcnJvcih0KX12YXIgdnI9XCJzZXJpZXNcXDBcIixtcj1cIlxcMF9lY19cXDBcIjtmdW5jdGlvbiBfcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5P3Q6bnVsbD09dD9bXTpbdF19ZnVuY3Rpb24geHIodCxlLG4pe2lmKHQpe3RbZV09dFtlXXx8e30sdC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXQuZW1waGFzaXNbZV18fHt9O2Zvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKyl7dmFyIG89bltpXTshdC5lbXBoYXNpc1tlXS5oYXNPd25Qcm9wZXJ0eShvKSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShvKSYmKHQuZW1waGFzaXNbZV1bb109dFtlXVtvXSl9fX12YXIgYnI9W1wiZm9udFN0eWxlXCIsXCJmb250V2VpZ2h0XCIsXCJmb250U2l6ZVwiLFwiZm9udEZhbWlseVwiLFwicmljaFwiLFwidGFnXCIsXCJjb2xvclwiLFwidGV4dEJvcmRlckNvbG9yXCIsXCJ0ZXh0Qm9yZGVyV2lkdGhcIixcIndpZHRoXCIsXCJoZWlnaHRcIixcImxpbmVIZWlnaHRcIixcImFsaWduXCIsXCJ2ZXJ0aWNhbEFsaWduXCIsXCJiYXNlbGluZVwiLFwic2hhZG93Q29sb3JcIixcInNoYWRvd0JsdXJcIixcInNoYWRvd09mZnNldFhcIixcInNoYWRvd09mZnNldFlcIixcInRleHRTaGFkb3dDb2xvclwiLFwidGV4dFNoYWRvd0JsdXJcIixcInRleHRTaGFkb3dPZmZzZXRYXCIsXCJ0ZXh0U2hhZG93T2Zmc2V0WVwiLFwiYmFja2dyb3VuZENvbG9yXCIsXCJib3JkZXJDb2xvclwiLFwiYm9yZGVyV2lkdGhcIixcImJvcmRlclJhZGl1c1wiLFwicGFkZGluZ1wiXTtmdW5jdGlvbiB3cih0KXtyZXR1cm4hWCh0KXx8Rih0KXx8dCBpbnN0YW5jZW9mIERhdGU/dDp0LnZhbHVlfWZ1bmN0aW9uIFNyKHQsZSxuKXt2YXIgaT1cIm5vcm1hbE1lcmdlXCI9PT1uLHI9XCJyZXBsYWNlTWVyZ2VcIj09PW4sbz1cInJlcGxhY2VBbGxcIj09PW47dD10fHxbXSxlPShlfHxbXSkuc2xpY2UoKTt2YXIgYT1odCgpO1AoZSwoZnVuY3Rpb24odCxuKXtYKHQpfHwoZVtuXT1udWxsKX0pKTt2YXIgcyxsLHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVtdO2lmKFwicmVwbGFjZUFsbFwiPT09bilyZXR1cm4gaTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvJiZudWxsIT1vLmlkJiZlLnNldChvLmlkLHIpLGkucHVzaCh7ZXhpc3Rpbmc6XCJyZXBsYWNlTWVyZ2VcIj09PW58fEFyKG8pP251bGw6byxuZXdPcHRpb246bnVsbCxrZXlJbmZvOm51bGwsYnJhbmROZXc6bnVsbH0pfXJldHVybiBpfSh0LGEsbik7cmV0dXJuKGl8fHIpJiZmdW5jdGlvbih0LGUsbixpKXtQKGksKGZ1bmN0aW9uKHIsbyl7aWYociYmbnVsbCE9ci5pZCl7dmFyIGE9SXIoci5pZCkscz1uLmdldChhKTtpZihudWxsIT1zKXt2YXIgbD10W3NdO3J0KCFsLm5ld09wdGlvbiwnRHVwbGljYXRlZCBvcHRpb24gb24gaWQgXCInK2ErJ1wiLicpLGwubmV3T3B0aW9uPXIsbC5leGlzdGluZz1lW3NdLGlbb109bnVsbH19fSkpfSh1LHQsYSxlKSxpJiZmdW5jdGlvbih0LGUpe1AoZSwoZnVuY3Rpb24obixpKXtpZihuJiZudWxsIT1uLm5hbWUpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0uZXhpc3Rpbmc7aWYoIXRbcl0ubmV3T3B0aW9uJiZvJiYobnVsbD09by5pZHx8bnVsbD09bi5pZCkmJiFBcihuKSYmIUFyKG8pJiZNcihcIm5hbWVcIixvLG4pKXJldHVybiB0W3JdLm5ld09wdGlvbj1uLHZvaWQoZVtpXT1udWxsKX19KSl9KHUsZSksaXx8cj9mdW5jdGlvbih0LGUsbil7UChlLChmdW5jdGlvbihlKXtpZihlKXtmb3IodmFyIGkscj0wOyhpPXRbcl0pJiYoaS5uZXdPcHRpb258fEFyKGkuZXhpc3RpbmcpfHxpLmV4aXN0aW5nJiZudWxsIT1lLmlkJiYhTXIoXCJpZFwiLGUsaS5leGlzdGluZykpOylyKys7aT8oaS5uZXdPcHRpb249ZSxpLmJyYW5kTmV3PW4pOnQucHVzaCh7bmV3T3B0aW9uOmUsYnJhbmROZXc6bixleGlzdGluZzpudWxsLGtleUluZm86bnVsbH0pLHIrK319KSl9KHUsZSxyKTpvJiZmdW5jdGlvbih0LGUpe1AoZSwoZnVuY3Rpb24oZSl7dC5wdXNoKHtuZXdPcHRpb246ZSxicmFuZE5ldzohMCxleGlzdGluZzpudWxsLGtleUluZm86bnVsbH0pfSkpfSh1LGUpLHM9dSxsPWh0KCksUChzLChmdW5jdGlvbih0KXt2YXIgZT10LmV4aXN0aW5nO2UmJmwuc2V0KGUuaWQsdCl9KSksUChzLChmdW5jdGlvbih0KXt2YXIgZT10Lm5ld09wdGlvbjtydCghZXx8bnVsbD09ZS5pZHx8IWwuZ2V0KGUuaWQpfHxsLmdldChlLmlkKT09PXQsXCJpZCBkdXBsaWNhdGVzOiBcIisoZSYmZS5pZCkpLGUmJm51bGwhPWUuaWQmJmwuc2V0KGUuaWQsdCksIXQua2V5SW5mbyYmKHQua2V5SW5mbz17fSl9KSksUChzLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhpc3RpbmcsaT10Lm5ld09wdGlvbixyPXQua2V5SW5mbztpZihYKGkpKXtpZihyLm5hbWU9bnVsbCE9aS5uYW1lP0lyKGkubmFtZSk6bj9uLm5hbWU6dnIrZSxuKXIuaWQ9SXIobi5pZCk7ZWxzZSBpZihudWxsIT1pLmlkKXIuaWQ9SXIoaS5pZCk7ZWxzZXt2YXIgbz0wO2Rve3IuaWQ9XCJcXDBcIityLm5hbWUrXCJcXDBcIitvKyt9d2hpbGUobC5nZXQoci5pZCkpfWwuc2V0KHIuaWQsdCl9fSkpLHV9ZnVuY3Rpb24gTXIodCxlLG4pe3ZhciBpPVRyKGVbdF0sbnVsbCkscj1UcihuW3RdLG51bGwpO3JldHVybiBudWxsIT1pJiZudWxsIT1yJiZpPT09cn1mdW5jdGlvbiBJcih0KXtyZXR1cm4gVHIodCxcIlwiKX1mdW5jdGlvbiBUcih0LGUpe2lmKG51bGw9PXQpcmV0dXJuIGU7dmFyIG49dHlwZW9mIHQ7cmV0dXJuXCJzdHJpbmdcIj09PW4/dDpcIm51bWJlclwiPT09bnx8Vyh0KT90K1wiXCI6ZX1mdW5jdGlvbiBDcih0KXt2YXIgZT10Lm5hbWU7cmV0dXJuISghZXx8IWUuaW5kZXhPZih2cikpfWZ1bmN0aW9uIEFyKHQpe3JldHVybiB0JiZudWxsIT10LmlkJiYwPT09SXIodC5pZCkuaW5kZXhPZihtcil9ZnVuY3Rpb24gRHIodCxlKXtyZXR1cm4gbnVsbCE9ZS5kYXRhSW5kZXhJbnNpZGU/ZS5kYXRhSW5kZXhJbnNpZGU6bnVsbCE9ZS5kYXRhSW5kZXg/RihlLmRhdGFJbmRleCk/TyhlLmRhdGFJbmRleCwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZlJhd0luZGV4KGUpfSkpOnQuaW5kZXhPZlJhd0luZGV4KGUuZGF0YUluZGV4KTpudWxsIT1lLm5hbWU/RihlLm5hbWUpP08oZS5uYW1lLChmdW5jdGlvbihlKXtyZXR1cm4gdC5pbmRleE9mTmFtZShlKX0pKTp0LmluZGV4T2ZOYW1lKGUubmFtZSk6dm9pZCAwfWZ1bmN0aW9uIExyKCl7dmFyIHQ9XCJfX2VjX2lubmVyX1wiK2tyKys7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlW3RdfHwoZVt0XT17fSl9fXZhciBrcj1wcigpO2Z1bmN0aW9uIFByKHQsZSxuKXt2YXIgaTtpZihIKGUpKXt2YXIgcj17fTtyW2UrXCJJbmRleFwiXT0wLGk9cn1lbHNlIGk9ZTt2YXIgbz1odCgpLGE9e30scz0hMTtQKGksKGZ1bmN0aW9uKHQsZSl7aWYoXCJkYXRhSW5kZXhcIiE9PWUmJlwiZGF0YUluZGV4SW5zaWRlXCIhPT1lKXt2YXIgaT1lLm1hdGNoKC9eKFxcdyspKEluZGV4fElkfE5hbWUpJC8pfHxbXSxyPWlbMV0sbD0oaVsyXXx8XCJcIikudG9Mb3dlckNhc2UoKTtpZihyJiZsJiYhKG4mJm4uaW5jbHVkZU1haW5UeXBlcyYmQShuLmluY2x1ZGVNYWluVHlwZXMscik8MCkpcz1zfHwhIXIsKG8uZ2V0KHIpfHxvLnNldChyLHt9KSlbbF09dH1lbHNlIGFbZV09dH0pKTt2YXIgbD1uP24uZGVmYXVsdE1haW5UeXBlOm51bGw7cmV0dXJuIXMmJmwmJm8uc2V0KGwse30pLG8uZWFjaCgoZnVuY3Rpb24oZSxpKXt2YXIgcj1Ocih0LGksZSx7dXNlRGVmYXVsdDpsPT09aSxlbmFibGVBbGw6IW58fG51bGw9PW4uZW5hYmxlQWxsfHxuLmVuYWJsZUFsbCxlbmFibGVOb25lOiFufHxudWxsPT1uLmVuYWJsZU5vbmV8fG4uZW5hYmxlTm9uZX0pO2FbaStcIk1vZGVsc1wiXT1yLm1vZGVscyxhW2krXCJNb2RlbFwiXT1yLm1vZGVsc1swXX0pKSxhfXZhciBPcj17dXNlRGVmYXVsdDohMCxlbmFibGVBbGw6ITEsZW5hYmxlTm9uZTohMX0sUnI9e3VzZURlZmF1bHQ6ITEsZW5hYmxlQWxsOiEwLGVuYWJsZU5vbmU6ITB9O2Z1bmN0aW9uIE5yKHQsZSxuLGkpe2k9aXx8T3I7dmFyIHI9bi5pbmRleCxvPW4uaWQsYT1uLm5hbWUscz17bW9kZWxzOm51bGwsc3BlY2lmaWVkOm51bGwhPXJ8fG51bGwhPW98fG51bGwhPWF9O2lmKCFzLnNwZWNpZmllZCl7dmFyIGw9dm9pZCAwO3JldHVybiBzLm1vZGVscz1pLnVzZURlZmF1bHQmJihsPXQuZ2V0Q29tcG9uZW50KGUpKT9bbF06W10sc31yZXR1cm5cIm5vbmVcIj09PXJ8fCExPT09cj8ocnQoaS5lbmFibGVOb25lLCdgXCJub25lXCJgIG9yIGBmYWxzZWAgaXMgbm90IGEgdmFsaWQgdmFsdWUgb24gaW5kZXggb3B0aW9uLicpLHMubW9kZWxzPVtdLHMpOihcImFsbFwiPT09ciYmKHJ0KGkuZW5hYmxlQWxsLCdgXCJhbGxcImAgaXMgbm90IGEgdmFsaWQgdmFsdWUgb24gaW5kZXggb3B0aW9uLicpLHI9bz1hPW51bGwpLHMubW9kZWxzPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTplLGluZGV4OnIsaWQ6byxuYW1lOmF9KSxzKX1mdW5jdGlvbiBFcih0LGUsbil7dC5zZXRBdHRyaWJ1dGU/dC5zZXRBdHRyaWJ1dGUoZSxuKTp0W2VdPW59ZnVuY3Rpb24genIodCxlKXt2YXIgbj1odCgpLGk9W107cmV0dXJuIFAodCwoZnVuY3Rpb24odCl7dmFyIHI9ZSh0KTsobi5nZXQocil8fChpLnB1c2gociksbi5zZXQocixbXSkpKS5wdXNoKHQpfSkpLHtrZXlzOmksYnVja2V0czpufX1mdW5jdGlvbiBCcih0LGUsbixpLHIpe3ZhciBvPW51bGw9PWV8fFwiYXV0b1wiPT09ZTtpZihudWxsPT1pKXJldHVybiBpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBpKXJldHVybiBqaShkPWhuKG58fDAsaSxyKSxvP01hdGgubWF4KCRpKG58fDApLCRpKGkpKTplKTtpZihcInN0cmluZ1wiPT10eXBlb2YgaSlyZXR1cm4gcjwxP246aTtmb3IodmFyIGE9W10scz1uLGw9aSx1PU1hdGgubWF4KHM/cy5sZW5ndGg6MCxsLmxlbmd0aCksaD0wO2g8dTsrK2gpe2lmKFwib3JkaW5hbFwiPT09dC5nZXREaW1lbnNpb25JbmZvKGgpLnR5cGUpYVtoXT0ocjwxJiZzP3M6bClbaF07ZWxzZXt2YXIgYz1zJiZzW2hdP3NbaF06MCxwPWxbaF0sZD1obihjLHAscik7YVtoXT1qaShkLG8/TWF0aC5tYXgoJGkoYyksJGkocCkpOmUpfX1yZXR1cm4gYX12YXIgVnI9XCJfX19FQ19fQ09NUE9ORU5UX19DT05UQUlORVJfX19cIixGcj1cIl9fX0VDX19FWFRFTkRFRF9DTEFTU19fX1wiO2Z1bmN0aW9uIEdyKHQpe3ZhciBlPXttYWluOlwiXCIsc3ViOlwiXCJ9O2lmKHQpe3ZhciBuPXQuc3BsaXQoXCIuXCIpO2UubWFpbj1uWzBdfHxcIlwiLGUuc3ViPW5bMV18fFwiXCJ9cmV0dXJuIGV9ZnVuY3Rpb24gSHIodCxlKXt0LiRjb25zdHJ1Y3Rvcj10LHQuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7ZnVuY3Rpb24gbigpe2Zvcih2YXIgaT1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKylpW29dPWFyZ3VtZW50c1tvXTtpZih0LiRjb25zdHJ1Y3Rvcil0LiRjb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXtpZihXcihlKSl7dmFyIGE9cHQobi5wcm90b3R5cGUsbmV3KGUuYmluZC5hcHBseShlLHIoW3ZvaWQgMF0saSkpKSk7cmV0dXJuIGF9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXJldHVybiBuW0ZyXT0hMCxJKG4ucHJvdG90eXBlLHQpLG4uZXh0ZW5kPXRoaXMuZXh0ZW5kLG4uc3VwZXJDYWxsPVVyLG4uc3VwZXJBcHBseT1acixEKG4sdGhpcyksbi5zdXBlckNsYXNzPWUsbn19ZnVuY3Rpb24gV3IodCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmL15jbGFzc1xccy8udGVzdChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl9ZnVuY3Rpb24gWXIodCxlKXt0LmV4dGVuZD1lLmV4dGVuZH12YXIgWHI9TWF0aC5yb3VuZCgxMCpNYXRoLnJhbmRvbSgpKTtmdW5jdGlvbiBVcih0LGUpe2Zvcih2YXIgbj1bXSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ktMl09YXJndW1lbnRzW2ldO3JldHVybiB0aGlzLnN1cGVyQ2xhc3MucHJvdG90eXBlW2VdLmFwcGx5KHQsbil9ZnVuY3Rpb24gWnIodCxlLG4pe3JldHVybiB0aGlzLnN1cGVyQ2xhc3MucHJvdG90eXBlW2VdLmFwcGx5KHQsbil9ZnVuY3Rpb24ganIodCl7dmFyIGU9e307dC5yZWdpc3RlckNsYXNzPWZ1bmN0aW9uKHQpe3ZhciBuLGk9dC50eXBlfHx0LnByb3RvdHlwZS50eXBlO2lmKGkpe3J0KC9eW2EtekEtWjAtOV9dKyhbLl1bYS16QS1aMC05X10rKT8kLy50ZXN0KG49aSksJ2NvbXBvbmVudFR5cGUgXCInK24rJ1wiIGlsbGVnYWwnKSx0LnByb3RvdHlwZS50eXBlPWk7dmFyIHI9R3IoaSk7aWYoci5zdWIpe2lmKHIuc3ViIT09VnIpeyhmdW5jdGlvbih0KXt2YXIgbj1lW3QubWFpbl07biYmbltWcl18fCgobj1lW3QubWFpbl09e30pW1ZyXT0hMCk7cmV0dXJuIG59KHIpKVtyLnN1Yl09dH19ZWxzZSBlW3IubWFpbl09dH1yZXR1cm4gdH0sdC5nZXRDbGFzcz1mdW5jdGlvbih0LG4saSl7dmFyIHI9ZVt0XTtpZihyJiZyW1ZyXSYmKHI9bj9yW25dOm51bGwpLGkmJiFyKXRocm93IG5ldyBFcnJvcihuP1wiQ29tcG9uZW50IFwiK3QrXCIuXCIrKG58fFwiXCIpK1wiIG5vdCBleGlzdHMuIExvYWQgaXQgZmlyc3QuXCI6dCtcIi50eXBlIHNob3VsZCBiZSBzcGVjaWZpZWQuXCIpO3JldHVybiByfSx0LmdldENsYXNzZXNCeU1haW5UeXBlPWZ1bmN0aW9uKHQpe3ZhciBuPUdyKHQpLGk9W10scj1lW24ubWFpbl07cmV0dXJuIHImJnJbVnJdP1AociwoZnVuY3Rpb24odCxlKXtlIT09VnImJmkucHVzaCh0KX0pKTppLnB1c2gociksaX0sdC5oYXNDbGFzcz1mdW5jdGlvbih0KXt2YXIgbj1Hcih0KTtyZXR1cm4hIWVbbi5tYWluXX0sdC5nZXRBbGxDbGFzc01haW5UeXBlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBQKGUsKGZ1bmN0aW9uKGUsbil7dC5wdXNoKG4pfSkpLHR9LHQuaGFzU3ViVHlwZXM9ZnVuY3Rpb24odCl7dmFyIG49R3IodCksaT1lW24ubWFpbl07cmV0dXJuIGkmJmlbVnJdfX1mdW5jdGlvbiBxcih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRbbl1bMV18fCh0W25dWzFdPXRbbl1bMF0pO3JldHVybiBlPWV8fCExLGZ1bmN0aW9uKG4saSxyKXtmb3IodmFyIG89e30sYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdWzFdO2lmKCEoaSYmQShpLHMpPj0wfHxyJiZBKHIscyk8MCkpe3ZhciBsPW4uZ2V0U2hhbGxvdyhzLGUpO251bGwhPWwmJihvW3RbYV1bMF1dPWwpfX1yZXR1cm4gb319dmFyIEtyPXFyKFtbXCJmaWxsXCIsXCJjb2xvclwiXSxbXCJzaGFkb3dCbHVyXCJdLFtcInNoYWRvd09mZnNldFhcIl0sW1wic2hhZG93T2Zmc2V0WVwiXSxbXCJvcGFjaXR5XCJdLFtcInNoYWRvd0NvbG9yXCJdXSksJHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRBcmVhU3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gS3IodGhpcyx0LGUpfSx0fSgpLEpyPW5ldyBFZSg1MCk7ZnVuY3Rpb24gUXIodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBlPUpyLmdldCh0KTtyZXR1cm4gZSYmZS5pbWFnZX1yZXR1cm4gdH1mdW5jdGlvbiB0byh0LGUsbixpLHIpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihlJiZlLl9fenJJbWFnZVNyYz09PXR8fCFuKXJldHVybiBlO3ZhciBvPUpyLmdldCh0KSxhPXtob3N0RWw6bixjYjppLGNiUGF5bG9hZDpyfTtyZXR1cm4gbz8hbm8oZT1vLmltYWdlKSYmby5wZW5kaW5nLnB1c2goYSk6KChlPW5ldyBJbWFnZSkub25sb2FkPWUub25lcnJvcj1lbyxKci5wdXQodCxlLl9fY2FjaGVkSW1nT2JqPXtpbWFnZTplLHBlbmRpbmc6W2FdfSksZS5zcmM9ZS5fX3pySW1hZ2VTcmM9dCksZX1yZXR1cm4gdH1yZXR1cm4gZX1mdW5jdGlvbiBlbygpe3ZhciB0PXRoaXMuX19jYWNoZWRJbWdPYmo7dGhpcy5vbmxvYWQ9dGhpcy5vbmVycm9yPXRoaXMuX19jYWNoZWRJbWdPYmo9bnVsbDtmb3IodmFyIGU9MDtlPHQucGVuZGluZy5sZW5ndGg7ZSsrKXt2YXIgbj10LnBlbmRpbmdbZV0saT1uLmNiO2kmJmkodGhpcyxuLmNiUGF5bG9hZCksbi5ob3N0RWwuZGlydHkoKX10LnBlbmRpbmcubGVuZ3RoPTB9ZnVuY3Rpb24gbm8odCl7cmV0dXJuIHQmJnQud2lkdGgmJnQuaGVpZ2h0fXZhciBpbz0vXFx7KFthLXpBLVowLTlfXSspXFx8KFtefV0qKVxcfS9nO2Z1bmN0aW9uIHJvKHQsZSxuLGkscil7aWYoIWUpcmV0dXJuXCJcIjt2YXIgbz0odCtcIlwiKS5zcGxpdChcIlxcblwiKTtyPW9vKGUsbixpLHIpO2Zvcih2YXIgYT0wLHM9by5sZW5ndGg7YTxzO2ErKylvW2FdPWFvKG9bYV0scik7cmV0dXJuIG8uam9pbihcIlxcblwiKX1mdW5jdGlvbiBvbyh0LGUsbixpKXt2YXIgcj1JKHt9LGk9aXx8e30pO3IuZm9udD1lLG49dHQobixcIi4uLlwiKSxyLm1heEl0ZXJhdGlvbnM9dHQoaS5tYXhJdGVyYXRpb25zLDIpO3ZhciBvPXIubWluQ2hhcj10dChpLm1pbkNoYXIsMCk7ci5jbkNoYXJXaWR0aD1CbihcIuWbvVwiLGUpO3ZhciBhPXIuYXNjQ2hhcldpZHRoPUJuKFwiYVwiLGUpO3IucGxhY2Vob2xkZXI9dHQoaS5wbGFjZWhvbGRlcixcIlwiKTtmb3IodmFyIHM9dD1NYXRoLm1heCgwLHQtMSksbD0wO2w8byYmcz49YTtsKyspcy09YTt2YXIgdT1CbihuLGUpO3JldHVybiB1PnMmJihuPVwiXCIsdT0wKSxzPXQtdSxyLmVsbGlwc2lzPW4sci5lbGxpcHNpc1dpZHRoPXUsci5jb250ZW50V2lkdGg9cyxyLmNvbnRhaW5lcldpZHRoPXQscn1mdW5jdGlvbiBhbyh0LGUpe3ZhciBuPWUuY29udGFpbmVyV2lkdGgsaT1lLmZvbnQscj1lLmNvbnRlbnRXaWR0aDtpZighbilyZXR1cm5cIlwiO3ZhciBvPUJuKHQsaSk7aWYobzw9bilyZXR1cm4gdDtmb3IodmFyIGE9MDs7YSsrKXtpZihvPD1yfHxhPj1lLm1heEl0ZXJhdGlvbnMpe3QrPWUuZWxsaXBzaXM7YnJlYWt9dmFyIHM9MD09PWE/c28odCxyLGUuYXNjQ2hhcldpZHRoLGUuY25DaGFyV2lkdGgpOm8+MD9NYXRoLmZsb29yKHQubGVuZ3RoKnIvbyk6MDtvPUJuKHQ9dC5zdWJzdHIoMCxzKSxpKX1yZXR1cm5cIlwiPT09dCYmKHQ9ZS5wbGFjZWhvbGRlciksdH1mdW5jdGlvbiBzbyh0LGUsbixpKXtmb3IodmFyIHI9MCxvPTAsYT10Lmxlbmd0aDtvPGEmJnI8ZTtvKyspe3ZhciBzPXQuY2hhckNvZGVBdChvKTtyKz0wPD1zJiZzPD0xMjc/bjppfXJldHVybiBvfXZhciBsbz1mdW5jdGlvbigpe30sdW89ZnVuY3Rpb24odCl7dGhpcy50b2tlbnM9W10sdCYmKHRoaXMudG9rZW5zPXQpfSxobz1mdW5jdGlvbigpe3RoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuY29udGVudFdpZHRoPTAsdGhpcy5jb250ZW50SGVpZ2h0PTAsdGhpcy5vdXRlcldpZHRoPTAsdGhpcy5vdXRlckhlaWdodD0wLHRoaXMubGluZXM9W119O2Z1bmN0aW9uIGNvKHQsZSxuLGkscil7dmFyIG8sYSxzPVwiXCI9PT1lLGw9ciYmbi5yaWNoW3JdfHx7fSx1PXQubGluZXMsaD1sLmZvbnR8fG4uZm9udCxjPSExO2lmKGkpe3ZhciBwPWwucGFkZGluZyxkPXA/cFsxXStwWzNdOjA7aWYobnVsbCE9bC53aWR0aCYmXCJhdXRvXCIhPT1sLndpZHRoKXt2YXIgZj1mdW5jdGlvbih0LGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0Lmxhc3RJbmRleE9mKFwiJVwiKT49MD9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk7cmV0dXJuIHR9KGwud2lkdGgsaS53aWR0aCkrZDt1Lmxlbmd0aD4wJiZmK2kuYWNjdW1XaWR0aD5pLndpZHRoJiYobz1lLnNwbGl0KFwiXFxuXCIpLGM9ITApLGkuYWNjdW1XaWR0aD1mfWVsc2V7dmFyIGc9Z28oZSxoLGkud2lkdGgsaS5icmVha0FsbCxpLmFjY3VtV2lkdGgpO2kuYWNjdW1XaWR0aD1nLmFjY3VtV2lkdGgrZCxhPWcubGluZXNXaWR0aHMsbz1nLmxpbmVzfX1lbHNlIG89ZS5zcGxpdChcIlxcblwiKTtmb3IodmFyIHk9MDt5PG8ubGVuZ3RoO3krKyl7dmFyIHY9b1t5XSxtPW5ldyBsbztpZihtLnN0eWxlTmFtZT1yLG0udGV4dD12LG0uaXNMaW5lSG9sZGVyPSF2JiYhcyxcIm51bWJlclwiPT10eXBlb2YgbC53aWR0aD9tLndpZHRoPWwud2lkdGg6bS53aWR0aD1hP2FbeV06Qm4odixoKSx5fHxjKXUucHVzaChuZXcgdW8oW21dKSk7ZWxzZXt2YXIgXz0odVt1Lmxlbmd0aC0xXXx8KHVbMF09bmV3IHVvKSkudG9rZW5zLHg9Xy5sZW5ndGg7MT09PXgmJl9bMF0uaXNMaW5lSG9sZGVyP19bMF09bToodnx8IXh8fHMpJiZfLnB1c2gobSl9fX12YXIgcG89UihcIiwmPy87XSBcIi5zcGxpdChcIlwiKSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXT0hMCx0fSkse30pO2Z1bmN0aW9uIGZvKHQpe3JldHVybiFmdW5jdGlvbih0KXt2YXIgZT10LmNoYXJDb2RlQXQoMCk7cmV0dXJuIGU+PTMzJiZlPD0yNTV9KHQpfHwhIXBvW3RdfWZ1bmN0aW9uIGdvKHQsZSxuLGkscil7Zm9yKHZhciBvPVtdLGE9W10scz1cIlwiLGw9XCJcIix1PTAsaD0wLGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIHA9dC5jaGFyQXQoYyk7aWYoXCJcXG5cIiE9PXApe3ZhciBkPUJuKHAsZSksZj0haSYmIWZvKHApOyhvLmxlbmd0aD9oK2Q+bjpyK2grZD5uKT9oPyhzfHxsKSYmKGY/KHN8fChzPWwsbD1cIlwiLGg9dT0wKSxvLnB1c2gocyksYS5wdXNoKGgtdSksbCs9cCxzPVwiXCIsaD11Kz1kKToobCYmKHMrPWwsaCs9dSxsPVwiXCIsdT0wKSxvLnB1c2gocyksYS5wdXNoKGgpLHM9cCxoPWQpKTpmPyhvLnB1c2gobCksYS5wdXNoKHUpLGw9cCx1PWQpOihvLnB1c2gocCksYS5wdXNoKGQpKTooaCs9ZCxmPyhsKz1wLHUrPWQpOihsJiYocys9bCxsPVwiXCIsdT0wKSxzKz1wKSl9ZWxzZSBsJiYocys9bCxoKz11KSxvLnB1c2gocyksYS5wdXNoKGgpLHM9XCJcIixsPVwiXCIsdT0wLGg9MH1yZXR1cm4gby5sZW5ndGh8fHN8fChzPXQsbD1cIlwiLHU9MCksbCYmKHMrPWwpLHMmJihvLnB1c2gocyksYS5wdXNoKGgpKSwxPT09by5sZW5ndGgmJihoKz1yKSx7YWNjdW1XaWR0aDpoLGxpbmVzOm8sbGluZXNXaWR0aHM6YX19dmFyIHlvPVwiX196cl9zdHlsZV9cIitNYXRoLnJvdW5kKDEwKk1hdGgucmFuZG9tKCkpLHZvPXtzaGFkb3dCbHVyOjAsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCxzaGFkb3dDb2xvcjpcIiMwMDBcIixvcGFjaXR5OjEsYmxlbmQ6XCJzb3VyY2Utb3ZlclwifSxtbz17c3R5bGU6e3NoYWRvd0JsdXI6ITAsc2hhZG93T2Zmc2V0WDohMCxzaGFkb3dPZmZzZXRZOiEwLHNoYWRvd0NvbG9yOiEwLG9wYWNpdHk6ITB9fTt2b1t5b109ITA7dmFyIF9vPVtcInpcIixcInoyXCIsXCJpbnZpc2libGVcIl0seG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9dmFyIGk7cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihlKXtmb3IodmFyIG49eihlKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07XCJzdHlsZVwiPT09cj90aGlzLnVzZVN0eWxlKGVbcl0pOnQucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMscixlW3JdKX10aGlzLnN0eWxlfHx0aGlzLnVzZVN0eWxlKHt9KX0sZS5wcm90b3R5cGUuYmVmb3JlQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmlubmVyQmVmb3JlQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmlubmVyQWZ0ZXJCcnVzaD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2hvdWxkQmVQYWludGVkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMudHJhbnNmb3JtO2lmKHRoaXMuaWdub3JlfHx0aGlzLmludmlzaWJsZXx8MD09PXRoaXMuc3R5bGUub3BhY2l0eXx8dGhpcy5jdWxsaW5nJiZmdW5jdGlvbih0LGUsbil7Ym8uY29weSh0LmdldEJvdW5kaW5nUmVjdCgpKSx0LnRyYW5zZm9ybSYmYm8uYXBwbHlUcmFuc2Zvcm0odC50cmFuc2Zvcm0pO3JldHVybiB3by53aWR0aD1lLHdvLmhlaWdodD1uLCFiby5pbnRlcnNlY3Qod28pfSh0aGlzLHQsZSl8fHImJiFyWzBdJiYhclszXSlyZXR1cm4hMTtpZihuJiZ0aGlzLl9fY2xpcFBhdGhzKWZvcih2YXIgbz0wO288dGhpcy5fX2NsaXBQYXRocy5sZW5ndGg7KytvKWlmKHRoaXMuX19jbGlwUGF0aHNbb10uaXNaZXJvQXJlYSgpKXJldHVybiExO2lmKGkmJnRoaXMucGFyZW50KWZvcih2YXIgYT10aGlzLnBhcmVudDthOyl7aWYoYS5pZ25vcmUpcmV0dXJuITE7YT1hLnBhcmVudH1yZXR1cm4hMH0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlY3RDb250YWluKHQsZSl9LGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LGUucHJvdG90eXBlLnJlY3RDb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKG5bMF0sblsxXSl9LGUucHJvdG90eXBlLmdldFBhaW50UmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BhaW50UmVjdDtpZighdGhpcy5fcGFpbnRSZWN0fHx0aGlzLl9fZGlydHkpe3ZhciBlPXRoaXMudHJhbnNmb3JtLG49dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxpPXRoaXMuc3R5bGUscj1pLnNoYWRvd0JsdXJ8fDAsbz1pLnNoYWRvd09mZnNldFh8fDAsYT1pLnNoYWRvd09mZnNldFl8fDA7dD10aGlzLl9wYWludFJlY3R8fCh0aGlzLl9wYWludFJlY3Q9bmV3IFJuKDAsMCwwLDApKSxlP1JuLmFwcGx5VHJhbnNmb3JtKHQsbixlKTp0LmNvcHkobiksKHJ8fG98fGEpJiYodC53aWR0aCs9MipyK01hdGguYWJzKG8pLHQuaGVpZ2h0Kz0yKnIrTWF0aC5hYnMoYSksdC54PU1hdGgubWluKHQueCx0Lngrby1yKSx0Lnk9TWF0aC5taW4odC55LHQueSthLXIpKTt2YXIgcz10aGlzLmRpcnR5UmVjdFRvbGVyYW5jZTt0LmlzWmVybygpfHwodC54PU1hdGguZmxvb3IodC54LXMpLHQueT1NYXRoLmZsb29yKHQueS1zKSx0LndpZHRoPU1hdGguY2VpbCh0LndpZHRoKzErMipzKSx0LmhlaWdodD1NYXRoLmNlaWwodC5oZWlnaHQrMSsyKnMpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuc2V0UHJldlBhaW50UmVjdD1mdW5jdGlvbih0KXt0Pyh0aGlzLl9wcmV2UGFpbnRSZWN0PXRoaXMuX3ByZXZQYWludFJlY3R8fG5ldyBSbigwLDAsMCwwKSx0aGlzLl9wcmV2UGFpbnRSZWN0LmNvcHkodCkpOnRoaXMuX3ByZXZQYWludFJlY3Q9bnVsbH0sZS5wcm90b3R5cGUuZ2V0UHJldlBhaW50UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmV2UGFpbnRSZWN0fSxlLnByb3RvdHlwZS5hbmltYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShcInN0eWxlXCIsdCl9LGUucHJvdG90eXBlLnVwZGF0ZUR1cmluZ0FuaW1hdGlvbj1mdW5jdGlvbih0KXtcInN0eWxlXCI9PT10P3RoaXMuZGlydHlTdHlsZSgpOnRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24oZSxuKXtcInN0eWxlXCIhPT1lP3QucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsZSxuKTp0aGlzLnN0eWxlP3RoaXMuc2V0U3R5bGUobik6dGhpcy51c2VTdHlsZShuKX0sZS5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLnN0eWxlW3RdPWU6SSh0aGlzLnN0eWxlLHQpLHRoaXMuZGlydHlTdHlsZSgpLHRoaXN9LGUucHJvdG90eXBlLmRpcnR5U3R5bGU9ZnVuY3Rpb24oKXt0aGlzLm1hcmtSZWRyYXcoKSx0aGlzLl9fZGlydHl8PWUuU1RZTEVfQ0hBTkdFRF9CSVQsdGhpcy5fcmVjdCYmKHRoaXMuX3JlY3Q9bnVsbCl9LGUucHJvdG90eXBlLmRpcnR5PWZ1bmN0aW9uKCl7dGhpcy5kaXJ0eVN0eWxlKCl9LGUucHJvdG90eXBlLnN0eWxlQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMuX19kaXJ0eSZlLlNUWUxFX0NIQU5HRURfQklUKX0sZS5wcm90b3R5cGUuc3R5bGVVcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5Jj1+ZS5TVFlMRV9DSEFOR0VEX0JJVH0sZS5wcm90b3R5cGUuY3JlYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHB0KHZvLHQpfSxlLnByb3RvdHlwZS51c2VTdHlsZT1mdW5jdGlvbih0KXt0W3lvXXx8KHQ9dGhpcy5jcmVhdGVTdHlsZSh0KSksdGhpcy5fX2luSG92ZXI/dGhpcy5fX2hvdmVyU3R5bGU9dDp0aGlzLnN0eWxlPXQsdGhpcy5kaXJ0eVN0eWxlKCl9LGUucHJvdG90eXBlLmlzU3R5bGVPYmplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRbeW9dfSxlLnByb3RvdHlwZS5faW5uZXJTYXZlVG9Ob3JtYWw9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsLmNhbGwodGhpcyxlKTt2YXIgbj10aGlzLl9ub3JtYWxTdGF0ZTtlLnN0eWxlJiYhbi5zdHlsZSYmKG4uc3R5bGU9dGhpcy5fbWVyZ2VTdHlsZSh0aGlzLmNyZWF0ZVN0eWxlKCksdGhpcy5zdHlsZSkpLHRoaXMuX3NhdmVQcmltYXJ5VG9Ob3JtYWwoZSxuLF9vKX0sZS5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmo9ZnVuY3Rpb24oZSxuLGkscixvLGEpe3QucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqLmNhbGwodGhpcyxlLG4saSxyLG8sYSk7dmFyIHMsbD0hKG4mJnIpO2lmKG4mJm4uc3R5bGU/bz9yP3M9bi5zdHlsZToocz10aGlzLl9tZXJnZVN0eWxlKHRoaXMuY3JlYXRlU3R5bGUoKSxpLnN0eWxlKSx0aGlzLl9tZXJnZVN0eWxlKHMsbi5zdHlsZSkpOihzPXRoaXMuX21lcmdlU3R5bGUodGhpcy5jcmVhdGVTdHlsZSgpLHI/dGhpcy5zdHlsZTppLnN0eWxlKSx0aGlzLl9tZXJnZVN0eWxlKHMsbi5zdHlsZSkpOmwmJihzPWkuc3R5bGUpLHMpaWYobyl7dmFyIHU9dGhpcy5zdHlsZTtpZih0aGlzLnN0eWxlPXRoaXMuY3JlYXRlU3R5bGUobD97fTp1KSxsKWZvcih2YXIgaD16KHUpLGM9MDtjPGgubGVuZ3RoO2MrKyl7KGQ9aFtjXSlpbiBzJiYoc1tkXT1zW2RdLHRoaXMuc3R5bGVbZF09dVtkXSl9dmFyIHA9eihzKTtmb3IoYz0wO2M8cC5sZW5ndGg7YysrKXt2YXIgZD1wW2NdO3RoaXMuc3R5bGVbZF09dGhpcy5zdHlsZVtkXX10aGlzLl90cmFuc2l0aW9uU3RhdGUoZSx7c3R5bGU6c30sYSx0aGlzLmdldEFuaW1hdGlvblN0eWxlUHJvcHMoKSl9ZWxzZSB0aGlzLnVzZVN0eWxlKHMpO2ZvcihjPTA7Yzxfby5sZW5ndGg7YysrKXtkPV9vW2NdO24mJm51bGwhPW5bZF0/dGhpc1tkXT1uW2RdOmwmJm51bGwhPWlbZF0mJih0aGlzW2RdPWlbZF0pfX0sZS5wcm90b3R5cGUuX21lcmdlU3RhdGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixpPXQucHJvdG90eXBlLl9tZXJnZVN0YXRlcy5jYWxsKHRoaXMsZSkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO28uc3R5bGUmJihuPW58fHt9LHRoaXMuX21lcmdlU3R5bGUobixvLnN0eWxlKSl9cmV0dXJuIG4mJihpLnN0eWxlPW4pLGl9LGUucHJvdG90eXBlLl9tZXJnZVN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEkodCxlKSx0fSxlLnByb3RvdHlwZS5nZXRBbmltYXRpb25TdHlsZVByb3BzPWZ1bmN0aW9uKCl7cmV0dXJuIG1vfSxlLlNUWUxFX0NIQU5HRURfQklUPTIsZS5pbml0RGVmYXVsdFByb3BzPSgoaT1lLnByb3RvdHlwZSkudHlwZT1cImRpc3BsYXlhYmxlXCIsaS5pbnZpc2libGU9ITEsaS56PTAsaS56Mj0wLGkuemxldmVsPTAsaS5jdWxsaW5nPSExLGkuY3Vyc29yPVwicG9pbnRlclwiLGkucmVjdEhvdmVyPSExLGkuaW5jcmVtZW50YWw9ITEsaS5fcmVjdD1udWxsLGkuZGlydHlSZWN0VG9sZXJhbmNlPTAsdm9pZChpLl9fZGlydHk9ZWkuUkVEQVJBV19CSVR8ZS5TVFlMRV9DSEFOR0VEX0JJVCkpLGV9KGVpKSxibz1uZXcgUm4oMCwwLDAsMCksd289bmV3IFJuKDAsMCwwLDApO3ZhciBTbz1NYXRoLnBvdyxNbz1NYXRoLnNxcnQsSW89MWUtOCxUbz0xZS00LENvPU1vKDMpLEFvPTEvMyxEbz15dCgpLExvPXl0KCksa289eXQoKTtmdW5jdGlvbiBQbyh0KXtyZXR1cm4gdD4tMWUtOCYmdDxJb31mdW5jdGlvbiBPbyh0KXtyZXR1cm4gdD5Jb3x8dDwtMWUtOH1mdW5jdGlvbiBSbyh0LGUsbixpLHIpe3ZhciBvPTEtcjtyZXR1cm4gbypvKihvKnQrMypyKmUpK3IqcioocippKzMqbypuKX1mdW5jdGlvbiBObyh0LGUsbixpLHIpe3ZhciBvPTEtcjtyZXR1cm4gMyooKChlLXQpKm8rMioobi1lKSpyKSpvKyhpLW4pKnIqcil9ZnVuY3Rpb24gRW8odCxlLG4saSxyLG8pe3ZhciBhPWkrMyooZS1uKS10LHM9Myoobi0yKmUrdCksbD0zKihlLXQpLHU9dC1yLGg9cypzLTMqYSpsLGM9cypsLTkqYSp1LHA9bCpsLTMqcyp1LGQ9MDtpZihQbyhoKSYmUG8oYykpe2lmKFBvKHMpKW9bMF09MDtlbHNlKE09LWwvcyk+PTAmJk08PTEmJihvW2QrK109TSl9ZWxzZXt2YXIgZj1jKmMtNCpoKnA7aWYoUG8oZikpe3ZhciBnPWMvaCx5PS1nLzI7KE09LXMvYStnKT49MCYmTTw9MSYmKG9bZCsrXT1NKSx5Pj0wJiZ5PD0xJiYob1tkKytdPXkpfWVsc2UgaWYoZj4wKXt2YXIgdj1NbyhmKSxtPWgqcysxLjUqYSooLWMrdiksXz1oKnMrMS41KmEqKC1jLXYpOyhNPSgtcy0oKG09bTwwPy1TbygtbSxBbyk6U28obSxBbykpKyhfPV88MD8tU28oLV8sQW8pOlNvKF8sQW8pKSkpLygzKmEpKT49MCYmTTw9MSYmKG9bZCsrXT1NKX1lbHNle3ZhciB4PSgyKmgqcy0zKmEqYykvKDIqTW8oaCpoKmgpKSxiPU1hdGguYWNvcyh4KS8zLHc9TW8oaCksUz1NYXRoLmNvcyhiKSxNPSgtcy0yKncqUykvKDMqYSksST0oeT0oLXMrdyooUytDbypNYXRoLnNpbihiKSkpLygzKmEpLCgtcyt3KihTLUNvKk1hdGguc2luKGIpKSkvKDMqYSkpO00+PTAmJk08PTEmJihvW2QrK109TSkseT49MCYmeTw9MSYmKG9bZCsrXT15KSxJPj0wJiZJPD0xJiYob1tkKytdPUkpfX1yZXR1cm4gZH1mdW5jdGlvbiB6byh0LGUsbixpLHIpe3ZhciBvPTYqbi0xMiplKzYqdCxhPTkqZSszKmktMyp0LTkqbixzPTMqZS0zKnQsbD0wO2lmKFBvKGEpKXtpZihPbyhvKSkoaD0tcy9vKT49MCYmaDw9MSYmKHJbbCsrXT1oKX1lbHNle3ZhciB1PW8qby00KmEqcztpZihQbyh1KSlyWzBdPS1vLygyKmEpO2Vsc2UgaWYodT4wKXt2YXIgaCxjPU1vKHUpLHA9KC1vLWMpLygyKmEpOyhoPSgtbytjKS8oMiphKSk+PTAmJmg8PTEmJihyW2wrK109aCkscD49MCYmcDw9MSYmKHJbbCsrXT1wKX19cmV0dXJuIGx9ZnVuY3Rpb24gQm8odCxlLG4saSxyLG8pe3ZhciBhPShlLXQpKnIrdCxzPShuLWUpKnIrZSxsPShpLW4pKnIrbix1PShzLWEpKnIrYSxoPShsLXMpKnIrcyxjPShoLXUpKnIrdTtvWzBdPXQsb1sxXT1hLG9bMl09dSxvWzNdPWMsb1s0XT1jLG9bNV09aCxvWzZdPWwsb1s3XT1pfWZ1bmN0aW9uIFZvKHQsZSxuLGkscixvLGEscyxsLHUsaCl7dmFyIGMscCxkLGYsZyx5PS4wMDUsdj0xLzA7RG9bMF09bCxEb1sxXT11O2Zvcih2YXIgbT0wO208MTttKz0uMDUpTG9bMF09Um8odCxuLHIsYSxtKSxMb1sxXT1SbyhlLGksbyxzLG0pLChmPVB0KERvLExvKSk8diYmKGM9bSx2PWYpO3Y9MS8wO2Zvcih2YXIgXz0wO188MzImJiEoeTxUbyk7XysrKXA9Yy15LGQ9Yyt5LExvWzBdPVJvKHQsbixyLGEscCksTG9bMV09Um8oZSxpLG8scyxwKSxmPVB0KExvLERvKSxwPj0wJiZmPHY/KGM9cCx2PWYpOihrb1swXT1Sbyh0LG4scixhLGQpLGtvWzFdPVJvKGUsaSxvLHMsZCksZz1QdChrbyxEbyksZDw9MSYmZzx2PyhjPWQsdj1nKTp5Kj0uNSk7cmV0dXJuIGgmJihoWzBdPVJvKHQsbixyLGEsYyksaFsxXT1SbyhlLGksbyxzLGMpKSxNbyh2KX1mdW5jdGlvbiBGbyh0LGUsbixpLHIsbyxhLHMsbCl7Zm9yKHZhciB1PXQsaD1lLGM9MCxwPTEvbCxkPTE7ZDw9bDtkKyspe3ZhciBmPWQqcCxnPVJvKHQsbixyLGEsZikseT1SbyhlLGksbyxzLGYpLHY9Zy11LG09eS1oO2MrPU1hdGguc3FydCh2KnYrbSptKSx1PWcsaD15fXJldHVybiBjfWZ1bmN0aW9uIEdvKHQsZSxuLGkpe3ZhciByPTEtaTtyZXR1cm4gcioocip0KzIqaSplKStpKmkqbn1mdW5jdGlvbiBIbyh0LGUsbixpKXtyZXR1cm4gMiooKDEtaSkqKGUtdCkraSoobi1lKSl9ZnVuY3Rpb24gV28odCxlLG4pe3ZhciBpPXQrbi0yKmU7cmV0dXJuIDA9PT1pPy41Oih0LWUpL2l9ZnVuY3Rpb24gWW8odCxlLG4saSxyKXt2YXIgbz0oZS10KSppK3QsYT0obi1lKSppK2Uscz0oYS1vKSppK287clswXT10LHJbMV09byxyWzJdPXMsclszXT1zLHJbNF09YSxyWzVdPW59ZnVuY3Rpb24gWG8odCxlLG4saSxyLG8sYSxzLGwpe3ZhciB1LGg9LjAwNSxjPTEvMDtEb1swXT1hLERvWzFdPXM7Zm9yKHZhciBwPTA7cDwxO3ArPS4wNSl7TG9bMF09R28odCxuLHIscCksTG9bMV09R28oZSxpLG8scCksKHk9UHQoRG8sTG8pKTxjJiYodT1wLGM9eSl9Yz0xLzA7Zm9yKHZhciBkPTA7ZDwzMiYmIShoPFRvKTtkKyspe3ZhciBmPXUtaCxnPXUraDtMb1swXT1Hbyh0LG4scixmKSxMb1sxXT1HbyhlLGksbyxmKTt2YXIgeT1QdChMbyxEbyk7aWYoZj49MCYmeTxjKXU9ZixjPXk7ZWxzZXtrb1swXT1Hbyh0LG4scixnKSxrb1sxXT1HbyhlLGksbyxnKTt2YXIgdj1QdChrbyxEbyk7Zzw9MSYmdjxjPyh1PWcsYz12KTpoKj0uNX19cmV0dXJuIGwmJihsWzBdPUdvKHQsbixyLHUpLGxbMV09R28oZSxpLG8sdSkpLE1vKGMpfWZ1bmN0aW9uIFVvKHQsZSxuLGkscixvLGEpe2Zvcih2YXIgcz10LGw9ZSx1PTAsaD0xL2EsYz0xO2M8PWE7YysrKXt2YXIgcD1jKmgsZD1Hbyh0LG4scixwKSxmPUdvKGUsaSxvLHApLGc9ZC1zLHk9Zi1sO3UrPU1hdGguc3FydChnKmcreSp5KSxzPWQsbD1mfXJldHVybiB1fXZhciBabz1NYXRoLm1pbixqbz1NYXRoLm1heCxxbz1NYXRoLnNpbixLbz1NYXRoLmNvcywkbz0yKk1hdGguUEksSm89eXQoKSxRbz15dCgpLHRhPXl0KCk7ZnVuY3Rpb24gZWEodCxlLG4pe2lmKDAhPT10Lmxlbmd0aCl7Zm9yKHZhciBpPXRbMF0scj1pWzBdLG89aVswXSxhPWlbMV0scz1pWzFdLGw9MTtsPHQubGVuZ3RoO2wrKylpPXRbbF0scj1abyhyLGlbMF0pLG89am8obyxpWzBdKSxhPVpvKGEsaVsxXSkscz1qbyhzLGlbMV0pO2VbMF09cixlWzFdPWEsblswXT1vLG5bMV09c319ZnVuY3Rpb24gbmEodCxlLG4saSxyLG8pe3JbMF09Wm8odCxuKSxyWzFdPVpvKGUsaSksb1swXT1qbyh0LG4pLG9bMV09am8oZSxpKX12YXIgaWE9W10scmE9W107ZnVuY3Rpb24gb2EodCxlLG4saSxyLG8sYSxzLGwsdSl7dmFyIGg9em8sYz1SbyxwPWgodCxuLHIsYSxpYSk7bFswXT0xLzAsbFsxXT0xLzAsdVswXT0tMS8wLHVbMV09LTEvMDtmb3IodmFyIGQ9MDtkPHA7ZCsrKXt2YXIgZj1jKHQsbixyLGEsaWFbZF0pO2xbMF09Wm8oZixsWzBdKSx1WzBdPWpvKGYsdVswXSl9cD1oKGUsaSxvLHMscmEpO2ZvcihkPTA7ZDxwO2QrKyl7dmFyIGc9YyhlLGksbyxzLHJhW2RdKTtsWzFdPVpvKGcsbFsxXSksdVsxXT1qbyhnLHVbMV0pfWxbMF09Wm8odCxsWzBdKSx1WzBdPWpvKHQsdVswXSksbFswXT1abyhhLGxbMF0pLHVbMF09am8oYSx1WzBdKSxsWzFdPVpvKGUsbFsxXSksdVsxXT1qbyhlLHVbMV0pLGxbMV09Wm8ocyxsWzFdKSx1WzFdPWpvKHMsdVsxXSl9ZnVuY3Rpb24gYWEodCxlLG4saSxyLG8sYSxzKXt2YXIgbD1Xbyx1PUdvLGg9am8oWm8obCh0LG4sciksMSksMCksYz1qbyhabyhsKGUsaSxvKSwxKSwwKSxwPXUodCxuLHIsaCksZD11KGUsaSxvLGMpO2FbMF09Wm8odCxyLHApLGFbMV09Wm8oZSxvLGQpLHNbMF09am8odCxyLHApLHNbMV09am8oZSxvLGQpfWZ1bmN0aW9uIHNhKHQsZSxuLGkscixvLGEscyxsKXt2YXIgdT1OdCxoPUV0LGM9TWF0aC5hYnMoci1vKTtpZihjJSRvPDFlLTQmJmM+MWUtNClyZXR1cm4gc1swXT10LW4sc1sxXT1lLWksbFswXT10K24sdm9pZChsWzFdPWUraSk7aWYoSm9bMF09S28ocikqbit0LEpvWzFdPXFvKHIpKmkrZSxRb1swXT1LbyhvKSpuK3QsUW9bMV09cW8obykqaStlLHUocyxKbyxRbyksaChsLEpvLFFvKSwociU9JG8pPDAmJihyKz0kbyksKG8lPSRvKTwwJiYobys9JG8pLHI+byYmIWE/bys9JG86cjxvJiZhJiYocis9JG8pLGEpe3ZhciBwPW87bz1yLHI9cH1mb3IodmFyIGQ9MDtkPG87ZCs9TWF0aC5QSS8yKWQ+ciYmKHRhWzBdPUtvKGQpKm4rdCx0YVsxXT1xbyhkKSppK2UsdShzLHRhLHMpLGgobCx0YSxsKSl9dmFyIGxhPXtNOjEsTDoyLEM6MyxROjQsQTo1LFo6NixSOjd9LHVhPVtdLGhhPVtdLGNhPVtdLHBhPVtdLGRhPVtdLGZhPVtdLGdhPU1hdGgubWluLHlhPU1hdGgubWF4LHZhPU1hdGguY29zLG1hPU1hdGguc2luLF9hPU1hdGguc3FydCx4YT1NYXRoLmFicyxiYT1NYXRoLlBJLHdhPTIqYmEsU2E9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheSxNYT1bXTtmdW5jdGlvbiBJYSh0KXtyZXR1cm4gTWF0aC5yb3VuZCh0L2JhKjFlOCkvMWU4JTIqYmF9ZnVuY3Rpb24gVGEodCxlKXt2YXIgbj1JYSh0WzBdKTtuPDAmJihuKz13YSk7dmFyIGk9bi10WzBdLHI9dFsxXTtyKz1pLCFlJiZyLW4+PXdhP3I9bit3YTplJiZuLXI+PXdhP3I9bi13YTohZSYmbj5yP3I9bisod2EtSWEobi1yKSk6ZSYmbjxyJiYocj1uLSh3YS1JYShyLW4pKSksdFswXT1uLHRbMV09cn12YXIgQ2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZHByPTEsdGhpcy5fdmVyc2lvbj0wLHRoaXMuX3hpPTAsdGhpcy5feWk9MCx0aGlzLl94MD0wLHRoaXMuX3kwPTAsdGhpcy5fbGVuPTAsdCYmKHRoaXMuX3NhdmVEYXRhPSExKSx0aGlzLl9zYXZlRGF0YSYmKHRoaXMuZGF0YT1bXSl9cmV0dXJuIHQucHJvdG90eXBlLmluY3JlYXNlVmVyc2lvbj1mdW5jdGlvbigpe3RoaXMuX3ZlcnNpb24rK30sdC5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92ZXJzaW9ufSx0LnByb3RvdHlwZS5zZXRTY2FsZT1mdW5jdGlvbih0LGUsbil7KG49bnx8MCk+MCYmKHRoaXMuX3V4PXhhKG4vWm4vdCl8fDAsdGhpcy5fdXk9eGEobi9abi9lKXx8MCl9LHQucHJvdG90eXBlLnNldERQUj1mdW5jdGlvbih0KXt0aGlzLmRwcj10fSx0LnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKHQpe3RoaXMuX2N0eD10fSx0LnByb3RvdHlwZS5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N0eH0sdC5wcm90b3R5cGUuYmVnaW5QYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N0eCYmdGhpcy5fY3R4LmJlZ2luUGF0aCgpLHRoaXMucmVzZXQoKSx0aGlzfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3NhdmVEYXRhJiYodGhpcy5fbGVuPTApLHRoaXMuX2xpbmVEYXNoJiYodGhpcy5fbGluZURhc2g9bnVsbCx0aGlzLl9kYXNoT2Zmc2V0PTApLHRoaXMuX3BhdGhTZWdMZW4mJih0aGlzLl9wYXRoU2VnTGVuPW51bGwsdGhpcy5fcGF0aExlbj0wKSx0aGlzLl92ZXJzaW9uKyt9LHQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZERhdGEobGEuTSx0LGUpLHRoaXMuX2N0eCYmdGhpcy5fY3R4Lm1vdmVUbyh0LGUpLHRoaXMuX3gwPXQsdGhpcy5feTA9ZSx0aGlzLl94aT10LHRoaXMuX3lpPWUsdGhpc30sdC5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49eGEodC10aGlzLl94aSk+dGhpcy5fdXh8fHhhKGUtdGhpcy5feWkpPnRoaXMuX3V5fHx0aGlzLl9sZW48NTtyZXR1cm4gdGhpcy5hZGREYXRhKGxhLkwsdCxlKSx0aGlzLl9jdHgmJm4mJih0aGlzLl9uZWVkc0Rhc2g/dGhpcy5fZGFzaGVkTGluZVRvKHQsZSk6dGhpcy5fY3R4LmxpbmVUbyh0LGUpKSxuJiYodGhpcy5feGk9dCx0aGlzLl95aT1lKSx0aGlzfSx0LnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkscixvKXtyZXR1cm4gdGhpcy5hZGREYXRhKGxhLkMsdCxlLG4saSxyLG8pLHRoaXMuX2N0eCYmKHRoaXMuX25lZWRzRGFzaD90aGlzLl9kYXNoZWRCZXppZXJUbyh0LGUsbixpLHIsbyk6dGhpcy5fY3R4LmJlemllckN1cnZlVG8odCxlLG4saSxyLG8pKSx0aGlzLl94aT1yLHRoaXMuX3lpPW8sdGhpc30sdC5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdGhpcy5hZGREYXRhKGxhLlEsdCxlLG4saSksdGhpcy5fY3R4JiYodGhpcy5fbmVlZHNEYXNoP3RoaXMuX2Rhc2hlZFF1YWRyYXRpY1RvKHQsZSxuLGkpOnRoaXMuX2N0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQsZSxuLGkpKSx0aGlzLl94aT1uLHRoaXMuX3lpPWksdGhpc30sdC5wcm90b3R5cGUuYXJjPWZ1bmN0aW9uKHQsZSxuLGkscixvKXtNYVswXT1pLE1hWzFdPXIsVGEoTWEsbyksaT1NYVswXTt2YXIgYT0ocj1NYVsxXSktaTtyZXR1cm4gdGhpcy5hZGREYXRhKGxhLkEsdCxlLG4sbixpLGEsMCxvPzA6MSksdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjKHQsZSxuLGkscixvKSx0aGlzLl94aT12YShyKSpuK3QsdGhpcy5feWk9bWEocikqbitlLHRoaXN9LHQucHJvdG90eXBlLmFyY1RvPWZ1bmN0aW9uKHQsZSxuLGkscil7cmV0dXJuIHRoaXMuX2N0eCYmdGhpcy5fY3R4LmFyY1RvKHQsZSxuLGksciksdGhpc30sdC5wcm90b3R5cGUucmVjdD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdGhpcy5fY3R4JiZ0aGlzLl9jdHgucmVjdCh0LGUsbixpKSx0aGlzLmFkZERhdGEobGEuUix0LGUsbixpKSx0aGlzfSx0LnByb3RvdHlwZS5jbG9zZVBhdGg9ZnVuY3Rpb24oKXt0aGlzLmFkZERhdGEobGEuWik7dmFyIHQ9dGhpcy5fY3R4LGU9dGhpcy5feDAsbj10aGlzLl95MDtyZXR1cm4gdCYmKHRoaXMuX25lZWRzRGFzaCYmdGhpcy5fZGFzaGVkTGluZVRvKGUsbiksdC5jbG9zZVBhdGgoKSksdGhpcy5feGk9ZSx0aGlzLl95aT1uLHRoaXN9LHQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCl7dCYmdC5maWxsKCksdGhpcy50b1N0YXRpYygpfSx0LnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24odCl7dCYmdC5zdHJva2UoKSx0aGlzLnRvU3RhdGljKCl9LHQucHJvdG90eXBlLnNldExpbmVEYXNoPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBBcnJheSl7dGhpcy5fbGluZURhc2g9dCx0aGlzLl9kYXNoSWR4PTA7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGg7bisrKWUrPXRbbl07dGhpcy5fZGFzaFN1bT1lLHRoaXMuX25lZWRzRGFzaD0hMH1lbHNlIHRoaXMuX2xpbmVEYXNoPW51bGwsdGhpcy5fbmVlZHNEYXNoPSExO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5zZXRMaW5lRGFzaE9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGFzaE9mZnNldD10LHRoaXN9LHQucHJvdG90eXBlLmxlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW59LHQucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7dGhpcy5kYXRhJiZ0aGlzLmRhdGEubGVuZ3RoPT09ZXx8IVNhfHwodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkoZSkpO2Zvcih2YXIgbj0wO248ZTtuKyspdGhpcy5kYXRhW25dPXRbbl07dGhpcy5fbGVuPWV9LHQucHJvdG90eXBlLmFwcGVuZFBhdGg9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdF0pO2Zvcih2YXIgZT10Lmxlbmd0aCxuPTAsaT10aGlzLl9sZW4scj0wO3I8ZTtyKyspbis9dFtyXS5sZW4oKTtTYSYmdGhpcy5kYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5JiYodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkoaStuKSk7Zm9yKHI9MDtyPGU7cisrKWZvcih2YXIgbz10W3JdLmRhdGEsYT0wO2E8by5sZW5ndGg7YSsrKXRoaXMuZGF0YVtpKytdPW9bYV07dGhpcy5fbGVuPWl9LHQucHJvdG90eXBlLmFkZERhdGE9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe2lmKHRoaXMuX3NhdmVEYXRhKXt2YXIgdT10aGlzLmRhdGE7dGhpcy5fbGVuK2FyZ3VtZW50cy5sZW5ndGg+dS5sZW5ndGgmJih0aGlzLl9leHBhbmREYXRhKCksdT10aGlzLmRhdGEpO2Zvcih2YXIgaD0wO2g8YXJndW1lbnRzLmxlbmd0aDtoKyspdVt0aGlzLl9sZW4rK109YXJndW1lbnRzW2hdfX0sdC5wcm90b3R5cGUuX2V4cGFuZERhdGE9ZnVuY3Rpb24oKXtpZighKHRoaXMuZGF0YSBpbnN0YW5jZW9mIEFycmF5KSl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuX2xlbjtlKyspdFtlXT10aGlzLmRhdGFbZV07dGhpcy5kYXRhPXR9fSx0LnByb3RvdHlwZS5fZGFzaGVkTGluZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPXRoaXMuX2Rhc2hTdW0sbz10aGlzLl9saW5lRGFzaCxhPXRoaXMuX2N0eCxzPXRoaXMuX2Rhc2hPZmZzZXQsbD10aGlzLl94aSx1PXRoaXMuX3lpLGg9dC1sLGM9ZS11LHA9X2EoaCpoK2MqYyksZD1sLGY9dSxnPW8ubGVuZ3RoO2ZvcihzPDAmJihzPXIrcyksZC09KHMlPXIpKihoLz1wKSxmLT1zKihjLz1wKTtoPjAmJmQ8PXR8fGg8MCYmZD49dHx8MD09PWgmJihjPjAmJmY8PWV8fGM8MCYmZj49ZSk7KWQrPWgqKG49b1tpPXRoaXMuX2Rhc2hJZHhdKSxmKz1jKm4sdGhpcy5fZGFzaElkeD0oaSsxKSVnLGg+MCYmZDxsfHxoPDAmJmQ+bHx8Yz4wJiZmPHV8fGM8MCYmZj51fHxhW2klMj9cIm1vdmVUb1wiOlwibGluZVRvXCJdKGg+PTA/Z2EoZCx0KTp5YShkLHQpLGM+PTA/Z2EoZixlKTp5YShmLGUpKTtoPWQtdCxjPWYtZSx0aGlzLl9kYXNoT2Zmc2V0PS1fYShoKmgrYypjKX0sdC5wcm90b3R5cGUuX2Rhc2hlZEJlemllclRvPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzLGwsdSxoLGM9dGhpcy5fY3R4LHA9dGhpcy5fZGFzaFN1bSxkPXRoaXMuX2Rhc2hPZmZzZXQsZj10aGlzLl9saW5lRGFzaCxnPXRoaXMuX3hpLHk9dGhpcy5feWksdj0wLG09dGhpcy5fZGFzaElkeCxfPWYubGVuZ3RoLHg9MDtmb3IoZDwwJiYoZD1wK2QpLGQlPXAsYT0wO2E8MTthKz0uMSlzPVJvKGcsdCxuLHIsYSsuMSktUm8oZyx0LG4scixhKSxsPVJvKHksZSxpLG8sYSsuMSktUm8oeSxlLGksbyxhKSx2Kz1fYShzKnMrbCpsKTtmb3IoO208XyYmISgoeCs9ZlttXSk+ZCk7bSsrKTtmb3IoYT0oeC1kKS92O2E8PTE7KXU9Um8oZyx0LG4scixhKSxoPVJvKHksZSxpLG8sYSksbSUyP2MubW92ZVRvKHUsaCk6Yy5saW5lVG8odSxoKSxhKz1mW21dL3YsbT0obSsxKSVfO20lMiE9MCYmYy5saW5lVG8ocixvKSxzPXItdSxsPW8taCx0aGlzLl9kYXNoT2Zmc2V0PS1fYShzKnMrbCpsKX0sdC5wcm90b3R5cGUuX2Rhc2hlZFF1YWRyYXRpY1RvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4sbz1pO249KG4rMip0KS8zLGk9KGkrMiplKS8zLHQ9KHRoaXMuX3hpKzIqdCkvMyxlPSh0aGlzLl95aSsyKmUpLzMsdGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLG4saSxyLG8pfSx0LnByb3RvdHlwZS50b1N0YXRpYz1mdW5jdGlvbigpe2lmKHRoaXMuX3NhdmVEYXRhKXt2YXIgdD10aGlzLmRhdGE7dCBpbnN0YW5jZW9mIEFycmF5JiYodC5sZW5ndGg9dGhpcy5fbGVuLFNhJiZ0aGlzLl9sZW4+MTEmJih0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheSh0KSkpfX0sdC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7Y2FbMF09Y2FbMV09ZGFbMF09ZGFbMV09TnVtYmVyLk1BWF9WQUxVRSxwYVswXT1wYVsxXT1mYVswXT1mYVsxXT0tTnVtYmVyLk1BWF9WQUxVRTt2YXIgdCxlPXRoaXMuZGF0YSxuPTAsaT0wLHI9MCxvPTA7Zm9yKHQ9MDt0PHRoaXMuX2xlbjspe3ZhciBhPWVbdCsrXSxzPTE9PT10O3N3aXRjaChzJiYocj1uPWVbdF0sbz1pPWVbdCsxXSksYSl7Y2FzZSBsYS5NOm49cj1lW3QrK10saT1vPWVbdCsrXSxkYVswXT1yLGRhWzFdPW8sZmFbMF09cixmYVsxXT1vO2JyZWFrO2Nhc2UgbGEuTDpuYShuLGksZVt0XSxlW3QrMV0sZGEsZmEpLG49ZVt0KytdLGk9ZVt0KytdO2JyZWFrO2Nhc2UgbGEuQzpvYShuLGksZVt0KytdLGVbdCsrXSxlW3QrK10sZVt0KytdLGVbdF0sZVt0KzFdLGRhLGZhKSxuPWVbdCsrXSxpPWVbdCsrXTticmVhaztjYXNlIGxhLlE6YWEobixpLGVbdCsrXSxlW3QrK10sZVt0XSxlW3QrMV0sZGEsZmEpLG49ZVt0KytdLGk9ZVt0KytdO2JyZWFrO2Nhc2UgbGEuQTp2YXIgbD1lW3QrK10sdT1lW3QrK10saD1lW3QrK10sYz1lW3QrK10scD1lW3QrK10sZD1lW3QrK10rcDt0Kz0xO3ZhciBmPSFlW3QrK107cyYmKHI9dmEocCkqaCtsLG89bWEocCkqYyt1KSxzYShsLHUsaCxjLHAsZCxmLGRhLGZhKSxuPXZhKGQpKmgrbCxpPW1hKGQpKmMrdTticmVhaztjYXNlIGxhLlI6bmEocj1uPWVbdCsrXSxvPWk9ZVt0KytdLHIrZVt0KytdLG8rZVt0KytdLGRhLGZhKTticmVhaztjYXNlIGxhLlo6bj1yLGk9b31OdChjYSxjYSxkYSksRXQocGEscGEsZmEpfXJldHVybiAwPT09dCYmKGNhWzBdPWNhWzFdPXBhWzBdPXBhWzFdPTApLG5ldyBSbihjYVswXSxjYVsxXSxwYVswXS1jYVswXSxwYVsxXS1jYVsxXSl9LHQucHJvdG90eXBlLl9jYWxjdWxhdGVMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9sZW4sbj10aGlzLl91eCxpPXRoaXMuX3V5LHI9MCxvPTAsYT0wLHM9MDt0aGlzLl9wYXRoU2VnTGVufHwodGhpcy5fcGF0aFNlZ0xlbj1bXSk7Zm9yKHZhciBsPXRoaXMuX3BhdGhTZWdMZW4sdT0wLGg9MCxjPTA7YzxlOyl7dmFyIHA9dFtjKytdLGQ9MT09PWM7ZCYmKGE9cj10W2NdLHM9bz10W2MrMV0pO3ZhciBmPS0xO3N3aXRjaChwKXtjYXNlIGxhLk06cj1hPXRbYysrXSxvPXM9dFtjKytdO2JyZWFrO2Nhc2UgbGEuTDp2YXIgZz10W2MrK10seT0oXz10W2MrK10pLW87KHhhKEQ9Zy1yKT5ufHx4YSh5KT5pfHxjPT09ZS0xKSYmKGY9TWF0aC5zcXJ0KEQqRCt5KnkpLHI9ZyxvPV8pO2JyZWFrO2Nhc2UgbGEuQzp2YXIgdj10W2MrK10sbT10W2MrK10sXz0oZz10W2MrK10sdFtjKytdKSx4PXRbYysrXSxiPXRbYysrXTtmPUZvKHIsbyx2LG0sZyxfLHgsYiwxMCkscj14LG89YjticmVhaztjYXNlIGxhLlE6Zj1VbyhyLG8sdj10W2MrK10sbT10W2MrK10sZz10W2MrK10sXz10W2MrK10sMTApLHI9ZyxvPV87YnJlYWs7Y2FzZSBsYS5BOnZhciB3PXRbYysrXSxTPXRbYysrXSxNPXRbYysrXSxJPXRbYysrXSxUPXRbYysrXSxDPXRbYysrXSxBPUMrVDtjKz0xO3RbYysrXTtkJiYoYT12YShUKSpNK3cscz1tYShUKSpJK1MpLGY9eWEoTSxJKSpnYSh3YSxNYXRoLmFicyhDKSkscj12YShBKSpNK3csbz1tYShBKSpJK1M7YnJlYWs7Y2FzZSBsYS5SOmE9cj10W2MrK10scz1vPXRbYysrXSxmPTIqdFtjKytdKzIqdFtjKytdO2JyZWFrO2Nhc2UgbGEuWjp2YXIgRD1hLXI7eT1zLW87Zj1NYXRoLnNxcnQoRCpEK3kqeSkscj1hLG89c31mPj0wJiYobFtoKytdPWYsdSs9Zil9cmV0dXJuIHRoaXMuX3BhdGhMZW49dSx1fSx0LnByb3RvdHlwZS5yZWJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvLGEscyxsLHUsaD10aGlzLmRhdGEsYz10aGlzLl91eCxwPXRoaXMuX3V5LGQ9dGhpcy5fbGVuLGY9ZTwxLGc9MCx5PTA7aWYoIWZ8fCh0aGlzLl9wYXRoU2VnTGVufHx0aGlzLl9jYWxjdWxhdGVMZW5ndGgoKSxsPXRoaXMuX3BhdGhTZWdMZW4sdT1lKnRoaXMuX3BhdGhMZW4pKXQ6Zm9yKHZhciB2PTA7djxkOyl7dmFyIG09aFt2KytdLF89MT09PXY7c3dpdGNoKF8mJihuPXI9aFt2XSxpPW89aFt2KzFdKSxtKXtjYXNlIGxhLk06bj1yPWhbdisrXSxpPW89aFt2KytdLHQubW92ZVRvKHIsbyk7YnJlYWs7Y2FzZSBsYS5MOmlmKGE9aFt2KytdLHM9aFt2KytdLHhhKGEtcik+Y3x8eGEocy1vKT5wfHx2PT09ZC0xKXtpZihmKXtpZihnKyhIPWxbeSsrXSk+dSl7dmFyIHg9KHUtZykvSDt0LmxpbmVUbyhyKigxLXgpK2EqeCxvKigxLXgpK3MqeCk7YnJlYWsgdH1nKz1IfXQubGluZVRvKGEscykscj1hLG89c31icmVhaztjYXNlIGxhLkM6dmFyIGI9aFt2KytdLHc9aFt2KytdLFM9aFt2KytdLE09aFt2KytdLEk9aFt2KytdLFQ9aFt2KytdO2lmKGYpe2lmKGcrKEg9bFt5KytdKT51KXtCbyhyLGIsUyxJLHg9KHUtZykvSCx1YSksQm8obyx3LE0sVCx4LGhhKSx0LmJlemllckN1cnZlVG8odWFbMV0saGFbMV0sdWFbMl0saGFbMl0sdWFbM10saGFbM10pO2JyZWFrIHR9Zys9SH10LmJlemllckN1cnZlVG8oYix3LFMsTSxJLFQpLHI9SSxvPVQ7YnJlYWs7Y2FzZSBsYS5ROmI9aFt2KytdLHc9aFt2KytdLFM9aFt2KytdLE09aFt2KytdO2lmKGYpe2lmKGcrKEg9bFt5KytdKT51KXtZbyhyLGIsUyx4PSh1LWcpL0gsdWEpLFlvKG8sdyxNLHgsaGEpLHQucXVhZHJhdGljQ3VydmVUbyh1YVsxXSxoYVsxXSx1YVsyXSxoYVsyXSk7YnJlYWsgdH1nKz1IfXQucXVhZHJhdGljQ3VydmVUbyhiLHcsUyxNKSxyPVMsbz1NO2JyZWFrO2Nhc2UgbGEuQTp2YXIgQz1oW3YrK10sQT1oW3YrK10sRD1oW3YrK10sTD1oW3YrK10saz1oW3YrK10sUD1oW3YrK10sTz1oW3YrK10sUj0haFt2KytdLE49RD5MP0Q6TCxFPXhhKEQtTCk+LjAwMSx6PWsrUCxCPSExO2lmKGYpZysoSD1sW3krK10pPnUmJih6PWsrUCoodS1nKS9ILEI9ITApLGcrPUg7aWYoRSYmdC5lbGxpcHNlP3QuZWxsaXBzZShDLEEsRCxMLE8sayx6LFIpOnQuYXJjKEMsQSxOLGsseixSKSxCKWJyZWFrIHQ7XyYmKG49dmEoaykqRCtDLGk9bWEoaykqTCtBKSxyPXZhKHopKkQrQyxvPW1hKHopKkwrQTticmVhaztjYXNlIGxhLlI6bj1yPWhbdl0saT1vPWhbdisxXSxhPWhbdisrXSxzPWhbdisrXTt2YXIgVj1oW3YrK10sRj1oW3YrK107aWYoZil7aWYoZysoSD1sW3krK10pPnUpe3ZhciBHPXUtZzt0Lm1vdmVUbyhhLHMpLHQubGluZVRvKGErZ2EoRyxWKSxzKSwoRy09Vik+MCYmdC5saW5lVG8oYStWLHMrZ2EoRyxGKSksKEctPUYpPjAmJnQubGluZVRvKGEreWEoVi1HLDApLHMrRiksKEctPVYpPjAmJnQubGluZVRvKGEscyt5YShGLUcsMCkpO2JyZWFrIHR9Zys9SH10LnJlY3QoYSxzLFYsRik7YnJlYWs7Y2FzZSBsYS5aOmlmKGYpe3ZhciBIO2lmKGcrKEg9bFt5KytdKT51KXt4PSh1LWcpL0g7dC5saW5lVG8ociooMS14KStuKngsbyooMS14KStpKngpO2JyZWFrIHR9Zys9SH10LmNsb3NlUGF0aCgpLHI9bixvPWl9fX0sdC5DTUQ9bGEsdC5pbml0RGVmYXVsdFByb3BzPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGU7ZS5fc2F2ZURhdGE9ITAsZS5fbmVlZHNEYXNoPSExLGUuX2Rhc2hPZmZzZXQ9MCxlLl9kYXNoSWR4PTAsZS5fZGFzaFN1bT0wLGUuX3V4PTAsZS5fdXk9MH0oKSx0fSgpO2Z1bmN0aW9uIEFhKHQsZSxuLGkscixvLGEpe2lmKDA9PT1yKXJldHVybiExO3ZhciBzPXIsbD0wO2lmKGE+ZStzJiZhPmkrc3x8YTxlLXMmJmE8aS1zfHxvPnQrcyYmbz5uK3N8fG88dC1zJiZvPG4tcylyZXR1cm4hMTtpZih0PT09bilyZXR1cm4gTWF0aC5hYnMoby10KTw9cy8yO3ZhciB1PShsPShlLWkpLyh0LW4pKSpvLWErKHQqaS1uKmUpLyh0LW4pO3JldHVybiB1KnUvKGwqbCsxKTw9cy8yKnMvMn1mdW5jdGlvbiBEYSh0LGUsbixpLHIsbyxhLHMsbCx1LGgpe2lmKDA9PT1sKXJldHVybiExO3ZhciBjPWw7cmV0dXJuIShoPmUrYyYmaD5pK2MmJmg+bytjJiZoPnMrY3x8aDxlLWMmJmg8aS1jJiZoPG8tYyYmaDxzLWN8fHU+dCtjJiZ1Pm4rYyYmdT5yK2MmJnU+YStjfHx1PHQtYyYmdTxuLWMmJnU8ci1jJiZ1PGEtYykmJlZvKHQsZSxuLGkscixvLGEscyx1LGgsbnVsbCk8PWMvMn1mdW5jdGlvbiBMYSh0LGUsbixpLHIsbyxhLHMsbCl7aWYoMD09PWEpcmV0dXJuITE7dmFyIHU9YTtyZXR1cm4hKGw+ZSt1JiZsPmkrdSYmbD5vK3V8fGw8ZS11JiZsPGktdSYmbDxvLXV8fHM+dCt1JiZzPm4rdSYmcz5yK3V8fHM8dC11JiZzPG4tdSYmczxyLXUpJiZYbyh0LGUsbixpLHIsbyxzLGwsbnVsbCk8PXUvMn12YXIga2E9MipNYXRoLlBJO2Z1bmN0aW9uIFBhKHQpe3JldHVybih0JT1rYSk8MCYmKHQrPWthKSx0fXZhciBPYT0yKk1hdGguUEk7ZnVuY3Rpb24gUmEodCxlLG4saSxyLG8sYSxzLGwpe2lmKDA9PT1hKXJldHVybiExO3ZhciB1PWE7cy09dCxsLT1lO3ZhciBoPU1hdGguc3FydChzKnMrbCpsKTtpZihoLXU+bnx8aCt1PG4pcmV0dXJuITE7aWYoTWF0aC5hYnMoaS1yKSVPYTwxZS00KXJldHVybiEwO2lmKG8pe3ZhciBjPWk7aT1QYShyKSxyPVBhKGMpfWVsc2UgaT1QYShpKSxyPVBhKHIpO2k+ciYmKHIrPU9hKTt2YXIgcD1NYXRoLmF0YW4yKGwscyk7cmV0dXJuIHA8MCYmKHArPU9hKSxwPj1pJiZwPD1yfHxwK09hPj1pJiZwK09hPD1yfWZ1bmN0aW9uIE5hKHQsZSxuLGkscixvKXtpZihvPmUmJm8+aXx8bzxlJiZvPGkpcmV0dXJuIDA7aWYoaT09PWUpcmV0dXJuIDA7dmFyIGE9KG8tZSkvKGktZSkscz1pPGU/MTotMTsxIT09YSYmMCE9PWF8fChzPWk8ZT8uNTotLjUpO3ZhciBsPWEqKG4tdCkrdDtyZXR1cm4gbD09PXI/MS8wOmw+cj9zOjB9dmFyIEVhPUNhLkNNRCx6YT0yKk1hdGguUEk7dmFyIEJhPVstMSwtMSwtMV0sVmE9Wy0xLC0xXTtmdW5jdGlvbiBGYSh0LGUsbixpLHIsbyxhLHMsbCx1KXtpZih1PmUmJnU+aSYmdT5vJiZ1PnN8fHU8ZSYmdTxpJiZ1PG8mJnU8cylyZXR1cm4gMDt2YXIgaCxjPUVvKGUsaSxvLHMsdSxCYSk7aWYoMD09PWMpcmV0dXJuIDA7Zm9yKHZhciBwPTAsZD0tMSxmPXZvaWQgMCxnPXZvaWQgMCx5PTA7eTxjO3krKyl7dmFyIHY9QmFbeV0sbT0wPT09dnx8MT09PXY/LjU6MTtSbyh0LG4scixhLHYpPGx8fChkPDAmJihkPXpvKGUsaSxvLHMsVmEpLFZhWzFdPFZhWzBdJiZkPjEmJihoPXZvaWQgMCxoPVZhWzBdLFZhWzBdPVZhWzFdLFZhWzFdPWgpLGY9Um8oZSxpLG8scyxWYVswXSksZD4xJiYoZz1SbyhlLGksbyxzLFZhWzFdKSkpLDI9PT1kP3Y8VmFbMF0/cCs9ZjxlP206LW06djxWYVsxXT9wKz1nPGY/bTotbTpwKz1zPGc/bTotbTp2PFZhWzBdP3ArPWY8ZT9tOi1tOnArPXM8Zj9tOi1tKX1yZXR1cm4gcH1mdW5jdGlvbiBHYSh0LGUsbixpLHIsbyxhLHMpe2lmKHM+ZSYmcz5pJiZzPm98fHM8ZSYmczxpJiZzPG8pcmV0dXJuIDA7dmFyIGw9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10LTIqZStuLGE9MiooZS10KSxzPXQtaSxsPTA7aWYoUG8obykpT28oYSkmJihoPS1zL2EpPj0wJiZoPD0xJiYocltsKytdPWgpO2Vsc2V7dmFyIHU9YSphLTQqbypzO2lmKFBvKHUpKShoPS1hLygyKm8pKT49MCYmaDw9MSYmKHJbbCsrXT1oKTtlbHNlIGlmKHU+MCl7dmFyIGgsYz1Nbyh1KSxwPSgtYS1jKS8oMipvKTsoaD0oLWErYykvKDIqbykpPj0wJiZoPD0xJiYocltsKytdPWgpLHA+PTAmJnA8PTEmJihyW2wrK109cCl9fXJldHVybiBsfShlLGksbyxzLEJhKTtpZigwPT09bClyZXR1cm4gMDt2YXIgdT1XbyhlLGksbyk7aWYodT49MCYmdTw9MSl7Zm9yKHZhciBoPTAsYz1HbyhlLGksbyx1KSxwPTA7cDxsO3ArKyl7dmFyIGQ9MD09PUJhW3BdfHwxPT09QmFbcF0/LjU6MTtHbyh0LG4scixCYVtwXSk8YXx8KEJhW3BdPHU/aCs9YzxlP2Q6LWQ6aCs9bzxjP2Q6LWQpfXJldHVybiBofWQ9MD09PUJhWzBdfHwxPT09QmFbMF0/LjU6MTtyZXR1cm4gR28odCxuLHIsQmFbMF0pPGE/MDpvPGU/ZDotZH1mdW5jdGlvbiBIYSh0LGUsbixpLHIsbyxhLHMpe2lmKChzLT1lKT5ufHxzPC1uKXJldHVybiAwO3ZhciBsPU1hdGguc3FydChuKm4tcypzKTtCYVswXT0tbCxCYVsxXT1sO3ZhciB1PU1hdGguYWJzKGktcik7aWYodTwxZS00KXJldHVybiAwO2lmKHU+PXphLTFlLTQpe2k9MCxyPXphO3ZhciBoPW8/MTotMTtyZXR1cm4gYT49QmFbMF0rdCYmYTw9QmFbMV0rdD9oOjB9aWYoaT5yKXt2YXIgYz1pO2k9cixyPWN9aTwwJiYoaSs9emEscis9emEpO2Zvcih2YXIgcD0wLGQ9MDtkPDI7ZCsrKXt2YXIgZj1CYVtkXTtpZihmK3Q+YSl7dmFyIGc9TWF0aC5hdGFuMihzLGYpO2g9bz8xOi0xO2c8MCYmKGc9emErZyksKGc+PWkmJmc8PXJ8fGcremE+PWkmJmcremE8PXIpJiYoZz5NYXRoLlBJLzImJmc8MS41Kk1hdGguUEkmJihoPS1oKSxwKz1oKX19cmV0dXJuIHB9ZnVuY3Rpb24gV2EodCxlLG4saSxyKXtmb3IodmFyIG8sYSxzLGwsdT10LmRhdGEsaD10LmxlbigpLGM9MCxwPTAsZD0wLGY9MCxnPTAseT0wO3k8aDspe3ZhciB2PXVbeSsrXSxtPTE9PT15O3N3aXRjaCh2PT09RWEuTSYmeT4xJiYobnx8KGMrPU5hKHAsZCxmLGcsaSxyKSkpLG0mJihmPXA9dVt5XSxnPWQ9dVt5KzFdKSx2KXtjYXNlIEVhLk06cD1mPXVbeSsrXSxkPWc9dVt5KytdO2JyZWFrO2Nhc2UgRWEuTDppZihuKXtpZihBYShwLGQsdVt5XSx1W3krMV0sZSxpLHIpKXJldHVybiEwfWVsc2UgYys9TmEocCxkLHVbeV0sdVt5KzFdLGkscil8fDA7cD11W3krK10sZD11W3krK107YnJlYWs7Y2FzZSBFYS5DOmlmKG4pe2lmKERhKHAsZCx1W3krK10sdVt5KytdLHVbeSsrXSx1W3krK10sdVt5XSx1W3krMV0sZSxpLHIpKXJldHVybiEwfWVsc2UgYys9RmEocCxkLHVbeSsrXSx1W3krK10sdVt5KytdLHVbeSsrXSx1W3ldLHVbeSsxXSxpLHIpfHwwO3A9dVt5KytdLGQ9dVt5KytdO2JyZWFrO2Nhc2UgRWEuUTppZihuKXtpZihMYShwLGQsdVt5KytdLHVbeSsrXSx1W3ldLHVbeSsxXSxlLGkscikpcmV0dXJuITB9ZWxzZSBjKz1HYShwLGQsdVt5KytdLHVbeSsrXSx1W3ldLHVbeSsxXSxpLHIpfHwwO3A9dVt5KytdLGQ9dVt5KytdO2JyZWFrO2Nhc2UgRWEuQTp2YXIgXz11W3krK10seD11W3krK10sYj11W3krK10sdz11W3krK10sUz11W3krK10sTT11W3krK107eSs9MTt2YXIgST0hISgxLXVbeSsrXSk7bz1NYXRoLmNvcyhTKSpiK18sYT1NYXRoLnNpbihTKSp3K3gsbT8oZj1vLGc9YSk6Yys9TmEocCxkLG8sYSxpLHIpO3ZhciBUPShpLV8pKncvYitfO2lmKG4pe2lmKFJhKF8seCx3LFMsUytNLEksZSxULHIpKXJldHVybiEwfWVsc2UgYys9SGEoXyx4LHcsUyxTK00sSSxULHIpO3A9TWF0aC5jb3MoUytNKSpiK18sZD1NYXRoLnNpbihTK00pKncreDticmVhaztjYXNlIEVhLlI6aWYoZj1wPXVbeSsrXSxnPWQ9dVt5KytdLG89Zit1W3krK10sYT1nK3VbeSsrXSxuKXtpZihBYShmLGcsbyxnLGUsaSxyKXx8QWEobyxnLG8sYSxlLGkscil8fEFhKG8sYSxmLGEsZSxpLHIpfHxBYShmLGEsZixnLGUsaSxyKSlyZXR1cm4hMH1lbHNlIGMrPU5hKG8sZyxvLGEsaSxyKSxjKz1OYShmLGEsZixnLGkscik7YnJlYWs7Y2FzZSBFYS5aOmlmKG4pe2lmKEFhKHAsZCxmLGcsZSxpLHIpKXJldHVybiEwfWVsc2UgYys9TmEocCxkLGYsZyxpLHIpO3A9ZixkPWd9fXJldHVybiBufHwocz1kLGw9ZyxNYXRoLmFicyhzLWwpPDFlLTQpfHwoYys9TmEocCxkLGYsZyxpLHIpfHwwKSwwIT09Y312YXIgWWE9VCh7ZmlsbDpcIiMwMDBcIixzdHJva2U6bnVsbCxzdHJva2VQZXJjZW50OjEsZmlsbE9wYWNpdHk6MSxzdHJva2VPcGFjaXR5OjEsbGluZURhc2hPZmZzZXQ6MCxsaW5lV2lkdGg6MSxsaW5lQ2FwOlwiYnV0dFwiLG1pdGVyTGltaXQ6MTAsc3Ryb2tlTm9TY2FsZTohMSxzdHJva2VGaXJzdDohMX0sdm8pLFhhPXtzdHlsZTpUKHtmaWxsOiEwLHN0cm9rZTohMCxzdHJva2VQZXJjZW50OiEwLGZpbGxPcGFjaXR5OiEwLHN0cm9rZU9wYWNpdHk6ITAsbGluZURhc2hPZmZzZXQ6ITAsbGluZVdpZHRoOiEwLG1pdGVyTGltaXQ6ITB9LG1vLnN0eWxlKX0sVWE9W1wieFwiLFwieVwiLFwicm90YXRpb25cIixcInNjYWxlWFwiLFwic2NhbGVZXCIsXCJvcmlnaW5YXCIsXCJvcmlnaW5ZXCIsXCJpbnZpc2libGVcIixcImN1bGxpbmdcIixcInpcIixcInoyXCIsXCJ6bGV2ZWxcIixcInBhcmVudFwiXSxaYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc312YXIgaTtyZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7dmFyIGk9dGhpcy5zdHlsZTtpZihpLmRlY2FsKXt2YXIgcj10aGlzLl9kZWNhbEVsPXRoaXMuX2RlY2FsRWx8fG5ldyBlO3IuYnVpbGRQYXRoPT09ZS5wcm90b3R5cGUuYnVpbGRQYXRoJiYoci5idWlsZFBhdGg9ZnVuY3Rpb24odCl7bi5idWlsZFBhdGgodCxuLnNoYXBlKX0pLHIuc2lsZW50PSEwO3ZhciBvPXIuc3R5bGU7Zm9yKHZhciBhIGluIGkpb1thXSE9PWlbYV0mJihvW2FdPWlbYV0pO28uZmlsbD1pLmZpbGw/aS5kZWNhbDpudWxsLG8uZGVjYWw9bnVsbCxvLnNoYWRvd0NvbG9yPW51bGwsaS5zdHJva2VGaXJzdCYmKG8uc3Ryb2tlPW51bGwpO2Zvcih2YXIgcz0wO3M8VWEubGVuZ3RoOysrcylyW1VhW3NdXT10aGlzW1VhW3NdXTtyLl9fZGlydHl8PWVpLlJFREFSQVdfQklUfWVsc2UgdGhpcy5fZGVjYWxFbCYmKHRoaXMuX2RlY2FsRWw9bnVsbCl9LGUucHJvdG90eXBlLmdldERlY2FsRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWNhbEVsfSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihlKXt2YXIgbj16KGUpO3RoaXMuc2hhcGU9dGhpcy5nZXREZWZhdWx0U2hhcGUoKTt2YXIgaT10aGlzLmdldERlZmF1bHRTdHlsZSgpO2kmJnRoaXMudXNlU3R5bGUoaSk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0sYT1lW29dO1wic3R5bGVcIj09PW8/dGhpcy5zdHlsZT9JKHRoaXMuc3R5bGUsYSk6dGhpcy51c2VTdHlsZShhKTpcInNoYXBlXCI9PT1vP0kodGhpcy5zaGFwZSxhKTp0LnByb3RvdHlwZS5hdHRyS1YuY2FsbCh0aGlzLG8sYSl9dGhpcy5zdHlsZXx8dGhpcy51c2VTdHlsZSh7fSl9LGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm57fX0sZS5wcm90b3R5cGUuY2FuQmVJbnNpZGVUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRmlsbCgpfSxlLnByb3RvdHlwZS5nZXRJbnNpZGVUZXh0RmlsbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUuZmlsbDtpZihcIm5vbmVcIiE9PXQpe2lmKEgodCkpe3ZhciBlPXNuKHQsMCk7cmV0dXJuIGU+LjU/am46ZT4uMj9cIiNlZWVcIjpxbn1pZih0KXJldHVybiBxbn1yZXR1cm4gam59LGUucHJvdG90eXBlLmdldEluc2lkZVRleHRTdHJva2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZS5maWxsO2lmKEgoZSkpe3ZhciBuPXRoaXMuX196cjtpZighKCFufHwhbi5pc0RhcmtNb2RlKCkpPT09c24odCwwKTwuNClyZXR1cm4gZX19LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUsbil7fSxlLnByb3RvdHlwZS5wYXRoVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX19kaXJ0eSY9fmUuU0hBUEVfQ0hBTkdFRF9CSVR9LGUucHJvdG90eXBlLmNyZWF0ZVBhdGhQcm94eT1mdW5jdGlvbigpe3RoaXMucGF0aD1uZXcgQ2EoITEpfSxlLnByb3RvdHlwZS5oYXNTdHJva2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlLGU9dC5zdHJva2U7cmV0dXJuIShudWxsPT1lfHxcIm5vbmVcIj09PWV8fCEodC5saW5lV2lkdGg+MCkpfSxlLnByb3RvdHlwZS5oYXNGaWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZS5maWxsO3JldHVybiBudWxsIT10JiZcIm5vbmVcIiE9PXR9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3Qsbj10aGlzLnN0eWxlLGk9IXQ7aWYoaSl7dmFyIHI9ITE7dGhpcy5wYXRofHwocj0hMCx0aGlzLmNyZWF0ZVBhdGhQcm94eSgpKTt2YXIgbz10aGlzLnBhdGg7KHJ8fHRoaXMuX19kaXJ0eSZlLlNIQVBFX0NIQU5HRURfQklUKSYmKG8uYmVnaW5QYXRoKCksdGhpcy5idWlsZFBhdGgobyx0aGlzLnNoYXBlLCExKSx0aGlzLnBhdGhVcGRhdGVkKCkpLHQ9by5nZXRCb3VuZGluZ1JlY3QoKX1pZih0aGlzLl9yZWN0PXQsdGhpcy5oYXNTdHJva2UoKSYmdGhpcy5wYXRoJiZ0aGlzLnBhdGgubGVuKCk+MCl7dmFyIGE9dGhpcy5fcmVjdFdpdGhTdHJva2V8fCh0aGlzLl9yZWN0V2l0aFN0cm9rZT10LmNsb25lKCkpO2lmKHRoaXMuX19kaXJ0eXx8aSl7YS5jb3B5KHQpO3ZhciBzPW4uc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjEsbD1uLmxpbmVXaWR0aDtpZighdGhpcy5oYXNGaWxsKCkpe3ZhciB1PXRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZDtsPU1hdGgubWF4KGwsbnVsbD09dT80OnUpfXM+MWUtMTAmJihhLndpZHRoKz1sL3MsYS5oZWlnaHQrPWwvcyxhLngtPWwvcy8yLGEueS09bC9zLzIpfXJldHVybiBhfXJldHVybiB0fSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxpPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkscj10aGlzLnN0eWxlO2lmKHQ9blswXSxlPW5bMV0saS5jb250YWluKHQsZSkpe3ZhciBvPXRoaXMucGF0aDtpZih0aGlzLmhhc1N0cm9rZSgpKXt2YXIgYT1yLmxpbmVXaWR0aCxzPXIuc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjE7aWYocz4xZS0xMCYmKHRoaXMuaGFzRmlsbCgpfHwoYT1NYXRoLm1heChhLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZCkpLGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBXYSh0LGUsITAsbixpKX0obyxhL3MsdCxlKSkpcmV0dXJuITB9aWYodGhpcy5oYXNGaWxsKCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gV2EodCwwLCExLGUsbil9KG8sdCxlKX1yZXR1cm4hMX0sZS5wcm90b3R5cGUuZGlydHlTaGFwZT1mdW5jdGlvbigpe3RoaXMuX19kaXJ0eXw9ZS5TSEFQRV9DSEFOR0VEX0JJVCx0aGlzLl9yZWN0JiYodGhpcy5fcmVjdD1udWxsKSx0aGlzLl9kZWNhbEVsJiZ0aGlzLl9kZWNhbEVsLmRpcnR5U2hhcGUoKSx0aGlzLm1hcmtSZWRyYXcoKX0sZS5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5U3R5bGUoKSx0aGlzLmRpcnR5U2hhcGUoKX0sZS5wcm90b3R5cGUuYW5pbWF0ZVNoYXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoXCJzaGFwZVwiLHQpfSxlLnByb3RvdHlwZS51cGRhdGVEdXJpbmdBbmltYXRpb249ZnVuY3Rpb24odCl7XCJzdHlsZVwiPT09dD90aGlzLmRpcnR5U3R5bGUoKTpcInNoYXBlXCI9PT10P3RoaXMuZGlydHlTaGFwZSgpOnRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24oZSxuKXtcInNoYXBlXCI9PT1lP3RoaXMuc2V0U2hhcGUobik6dC5wcm90b3R5cGUuYXR0cktWLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5zZXRTaGFwZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2hhcGU7cmV0dXJuIG58fChuPXRoaXMuc2hhcGU9e30pLFwic3RyaW5nXCI9PXR5cGVvZiB0P25bdF09ZTpJKG4sdCksdGhpcy5kaXJ0eVNoYXBlKCksdGhpc30sZS5wcm90b3R5cGUuc2hhcGVDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5fX2RpcnR5JmUuU0hBUEVfQ0hBTkdFRF9CSVQpfSxlLnByb3RvdHlwZS5jcmVhdGVTdHlsZT1mdW5jdGlvbih0KXtyZXR1cm4gcHQoWWEsdCl9LGUucHJvdG90eXBlLl9pbm5lclNhdmVUb05vcm1hbD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5faW5uZXJTYXZlVG9Ob3JtYWwuY2FsbCh0aGlzLGUpO3ZhciBuPXRoaXMuX25vcm1hbFN0YXRlO2Uuc2hhcGUmJiFuLnNoYXBlJiYobi5zaGFwZT1JKHt9LHRoaXMuc2hhcGUpKX0sZS5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmo9ZnVuY3Rpb24oZSxuLGkscixvLGEpe3QucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqLmNhbGwodGhpcyxlLG4saSxyLG8sYSk7dmFyIHMsbD0hKG4mJnIpO2lmKG4mJm4uc2hhcGU/bz9yP3M9bi5zaGFwZToocz1JKHt9LGkuc2hhcGUpLEkocyxuLnNoYXBlKSk6KHM9SSh7fSxyP3RoaXMuc2hhcGU6aS5zaGFwZSksSShzLG4uc2hhcGUpKTpsJiYocz1pLnNoYXBlKSxzKWlmKG8pe3RoaXMuc2hhcGU9SSh7fSx0aGlzLnNoYXBlKTtmb3IodmFyIHU9e30saD16KHMpLGM9MDtjPGgubGVuZ3RoO2MrKyl7dmFyIHA9aFtjXTtcIm9iamVjdFwiPT10eXBlb2Ygc1twXT90aGlzLnNoYXBlW3BdPXNbcF06dVtwXT1zW3BdfXRoaXMuX3RyYW5zaXRpb25TdGF0ZShlLHtzaGFwZTp1fSxhKX1lbHNlIHRoaXMuc2hhcGU9cyx0aGlzLmRpcnR5U2hhcGUoKX0sZS5wcm90b3R5cGUuX21lcmdlU3RhdGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixpPXQucHJvdG90eXBlLl9tZXJnZVN0YXRlcy5jYWxsKHRoaXMsZSkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO28uc2hhcGUmJihuPW58fHt9LHRoaXMuX21lcmdlU3R5bGUobixvLnNoYXBlKSl9cmV0dXJuIG4mJihpLnNoYXBlPW4pLGl9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblN0eWxlUHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gWGF9LGUucHJvdG90eXBlLmlzWmVyb0FyZWE9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShuKXt2YXIgaT1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gdC5pbml0JiZ0LmluaXQuY2FsbChpLG4pLGl9cmV0dXJuIG4oaSxlKSxpLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdyh0LnN0eWxlKX0saS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHcodC5zaGFwZSl9LGl9KGUpO2Zvcih2YXIgciBpbiB0KVwiZnVuY3Rpb25cIj09dHlwZW9mIHRbcl0mJihpLnByb3RvdHlwZVtyXT10W3JdKTtyZXR1cm4gaX0sZS5TSEFQRV9DSEFOR0VEX0JJVD00LGUuaW5pdERlZmF1bHRQcm9wcz0oKGk9ZS5wcm90b3R5cGUpLnR5cGU9XCJwYXRoXCIsaS5zdHJva2VDb250YWluVGhyZXNob2xkPTUsaS5zZWdtZW50SWdub3JlVGhyZXNob2xkPTAsaS5zdWJQaXhlbE9wdGltaXplPSExLGkuYXV0b0JhdGNoPSExLHZvaWQoaS5fX2RpcnR5PWVpLlJFREFSQVdfQklUfHhvLlNUWUxFX0NIQU5HRURfQklUfGUuU0hBUEVfQ0hBTkdFRF9CSVQpKSxlfSh4byksamE9VCh7c3Ryb2tlRmlyc3Q6ITAsZm9udDpFbix4OjAseTowLHRleHRBbGlnbjpcImxlZnRcIix0ZXh0QmFzZWxpbmU6XCJ0b3BcIixtaXRlckxpbWl0OjJ9LFlhKSxxYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmhhc1N0cm9rZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT10LnN0cm9rZTtyZXR1cm4gbnVsbCE9ZSYmXCJub25lXCIhPT1lJiZ0LmxpbmVXaWR0aD4wfSxlLnByb3RvdHlwZS5oYXNGaWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZS5maWxsO3JldHVybiBudWxsIT10JiZcIm5vbmVcIiE9PXR9LGUucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBwdChqYSx0KX0sZS5wcm90b3R5cGUuc2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKHQpe3RoaXMuX3JlY3Q9dH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtpZighdGhpcy5fcmVjdCl7dmFyIGU9dC50ZXh0O251bGwhPWU/ZSs9XCJcIjplPVwiXCI7dmFyIG49Rm4oZSx0LmZvbnQsdC50ZXh0QWxpZ24sdC50ZXh0QmFzZWxpbmUpO2lmKG4ueCs9dC54fHwwLG4ueSs9dC55fHwwLHRoaXMuaGFzU3Ryb2tlKCkpe3ZhciBpPXQubGluZVdpZHRoO24ueC09aS8yLG4ueS09aS8yLG4ud2lkdGgrPWksbi5oZWlnaHQrPWl9dGhpcy5fcmVjdD1ufXJldHVybiB0aGlzLl9yZWN0fSxlLmluaXREZWZhdWx0UHJvcHM9dm9pZChlLnByb3RvdHlwZS5kaXJ0eVJlY3RUb2xlcmFuY2U9MTApLGV9KHhvKTtxYS5wcm90b3R5cGUudHlwZT1cInRzcGFuXCI7dmFyIEthPVQoe3g6MCx5OjB9LHZvKSwkYT17c3R5bGU6VCh7eDohMCx5OiEwLHdpZHRoOiEwLGhlaWdodDohMCxzeDohMCxzeTohMCxzV2lkdGg6ITAsc0hlaWdodDohMH0sbW8uc3R5bGUpfTt2YXIgSmE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVTdHlsZT1mdW5jdGlvbih0KXtyZXR1cm4gcHQoS2EsdCl9LGUucHJvdG90eXBlLl9nZXRTaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGUsbj1lW3RdO2lmKG51bGwhPW4pcmV0dXJuIG47dmFyIGkscj0oaT1lLmltYWdlKSYmXCJzdHJpbmdcIiE9dHlwZW9mIGkmJmkud2lkdGgmJmkuaGVpZ2h0P2UuaW1hZ2U6dGhpcy5fX2ltYWdlO2lmKCFyKXJldHVybiAwO3ZhciBvPVwid2lkdGhcIj09PXQ/XCJoZWlnaHRcIjpcIndpZHRoXCIsYT1lW29dO3JldHVybiBudWxsPT1hP3JbdF06clt0XS9yW29dKmF9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFNpemUoXCJ3aWR0aFwiKX0sZS5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFNpemUoXCJoZWlnaHRcIil9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblN0eWxlUHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gJGF9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGU7cmV0dXJuIHRoaXMuX3JlY3R8fCh0aGlzLl9yZWN0PW5ldyBSbih0Lnh8fDAsdC55fHwwLHRoaXMuZ2V0V2lkdGgoKSx0aGlzLmdldEhlaWdodCgpKSksdGhpcy5fcmVjdH0sZX0oeG8pO0phLnByb3RvdHlwZS50eXBlPVwiaW1hZ2VcIjt2YXIgUWE9TWF0aC5yb3VuZDtmdW5jdGlvbiB0cyh0LGUsbil7aWYoZSl7dmFyIGk9ZS54MSxyPWUueDIsbz1lLnkxLGE9ZS55Mjt0LngxPWksdC54Mj1yLHQueTE9byx0LnkyPWE7dmFyIHM9biYmbi5saW5lV2lkdGg7cmV0dXJuIHM/KFFhKDIqaSk9PT1RYSgyKnIpJiYodC54MT10LngyPW5zKGkscywhMCkpLFFhKDIqbyk9PT1RYSgyKmEpJiYodC55MT10LnkyPW5zKG8scywhMCkpLHQpOnR9fWZ1bmN0aW9uIGVzKHQsZSxuKXtpZihlKXt2YXIgaT1lLngscj1lLnksbz1lLndpZHRoLGE9ZS5oZWlnaHQ7dC54PWksdC55PXIsdC53aWR0aD1vLHQuaGVpZ2h0PWE7dmFyIHM9biYmbi5saW5lV2lkdGg7cmV0dXJuIHM/KHQueD1ucyhpLHMsITApLHQueT1ucyhyLHMsITApLHQud2lkdGg9TWF0aC5tYXgobnMoaStvLHMsITEpLXQueCwwPT09bz8wOjEpLHQuaGVpZ2h0PU1hdGgubWF4KG5zKHIrYSxzLCExKS10LnksMD09PWE/MDoxKSx0KTp0fX1mdW5jdGlvbiBucyh0LGUsbil7aWYoIWUpcmV0dXJuIHQ7dmFyIGk9UWEoMip0KTtyZXR1cm4oaStRYShlKSklMj09MD9pLzI6KGkrKG4/MTotMSkpLzJ9dmFyIGlzPWZ1bmN0aW9uKCl7dGhpcy54PTAsdGhpcy55PTAsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTB9LHJzPXt9LG9zPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpc30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG87aWYodGhpcy5zdWJQaXhlbE9wdGltaXplKXt2YXIgYT1lcyhycyxlLHRoaXMuc3R5bGUpO249YS54LGk9YS55LHI9YS53aWR0aCxvPWEuaGVpZ2h0LGEucj1lLnIsZT1hfWVsc2Ugbj1lLngsaT1lLnkscj1lLndpZHRoLG89ZS5oZWlnaHQ7ZS5yP2Z1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG8sYSxzPWUueCxsPWUueSx1PWUud2lkdGgsaD1lLmhlaWdodCxjPWUucjt1PDAmJihzKz11LHU9LXUpLGg8MCYmKGwrPWgsaD0taCksXCJudW1iZXJcIj09dHlwZW9mIGM/bj1pPXI9bz1jOmMgaW5zdGFuY2VvZiBBcnJheT8xPT09Yy5sZW5ndGg/bj1pPXI9bz1jWzBdOjI9PT1jLmxlbmd0aD8obj1yPWNbMF0saT1vPWNbMV0pOjM9PT1jLmxlbmd0aD8obj1jWzBdLGk9bz1jWzFdLHI9Y1syXSk6KG49Y1swXSxpPWNbMV0scj1jWzJdLG89Y1szXSk6bj1pPXI9bz0wLG4raT51JiYobio9dS8oYT1uK2kpLGkqPXUvYSkscitvPnUmJihyKj11LyhhPXIrbyksbyo9dS9hKSxpK3I+aCYmKGkqPWgvKGE9aStyKSxyKj1oL2EpLG4rbz5oJiYobio9aC8oYT1uK28pLG8qPWgvYSksdC5tb3ZlVG8ocytuLGwpLHQubGluZVRvKHMrdS1pLGwpLDAhPT1pJiZ0LmFyYyhzK3UtaSxsK2ksaSwtTWF0aC5QSS8yLDApLHQubGluZVRvKHMrdSxsK2gtciksMCE9PXImJnQuYXJjKHMrdS1yLGwraC1yLHIsMCxNYXRoLlBJLzIpLHQubGluZVRvKHMrbyxsK2gpLDAhPT1vJiZ0LmFyYyhzK28sbCtoLW8sbyxNYXRoLlBJLzIsTWF0aC5QSSksdC5saW5lVG8ocyxsK24pLDAhPT1uJiZ0LmFyYyhzK24sbCtuLG4sTWF0aC5QSSwxLjUqTWF0aC5QSSl9KHQsZSk6dC5yZWN0KG4saSxyLG8pfSxlLnByb3RvdHlwZS5pc1plcm9BcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc2hhcGUud2lkdGh8fCF0aGlzLnNoYXBlLmhlaWdodH0sZX0oWmEpO29zLnByb3RvdHlwZS50eXBlPVwicmVjdFwiO3ZhciBhcz17ZmlsbDpcIiMwMDBcIn0sc3M9e3N0eWxlOlQoe2ZpbGw6ITAsc3Ryb2tlOiEwLGZpbGxPcGFjaXR5OiEwLHN0cm9rZU9wYWNpdHk6ITAsbGluZVdpZHRoOiEwLGZvbnRTaXplOiEwLGxpbmVIZWlnaHQ6ITAsd2lkdGg6ITAsaGVpZ2h0OiEwLHRleHRTaGFkb3dDb2xvcjohMCx0ZXh0U2hhZG93Qmx1cjohMCx0ZXh0U2hhZG93T2Zmc2V0WDohMCx0ZXh0U2hhZG93T2Zmc2V0WTohMCxiYWNrZ3JvdW5kQ29sb3I6ITAscGFkZGluZzohMCxib3JkZXJDb2xvcjohMCxib3JkZXJXaWR0aDohMCxib3JkZXJSYWRpdXM6ITB9LG1vLnN0eWxlKX0sbHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udHlwZT1cInRleHRcIixuLl9jaGlsZHJlbj1bXSxuLl9kZWZhdWx0U3R5bGU9YXMsbi5hdHRyKGUpLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jaGlsZHJlblJlZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5zdHlsZUNoYW5nZWQoKSYmdGhpcy5fdXBkYXRlU3ViVGV4dHMoKTtmb3IodmFyIGU9MDtlPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX2NoaWxkcmVuW2VdO24uemxldmVsPXRoaXMuemxldmVsLG4uej10aGlzLnosbi56Mj10aGlzLnoyLG4uY3VsbGluZz10aGlzLmN1bGxpbmcsbi5jdXJzb3I9dGhpcy5jdXJzb3Isbi5pbnZpc2libGU9dGhpcy5pbnZpc2libGV9dmFyIGk9dGhpcy5hdHRhY2hlZFRyYW5zZm9ybTtpZihpKXtpLnVwZGF0ZVRyYW5zZm9ybSgpO3ZhciByPWkudHJhbnNmb3JtO3I/KHRoaXMudHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtfHxbXSx5ZSh0aGlzLnRyYW5zZm9ybSxyKSk6dGhpcy50cmFuc2Zvcm09bnVsbH1lbHNlIHQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5nZXRDb21wdXRlZFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9faG9zdFRhcmdldCYmKHRoaXMuX19ob3N0VGFyZ2V0LmdldENvbXB1dGVkVHJhbnNmb3JtKCksdGhpcy5fX2hvc3RUYXJnZXQudXBkYXRlSW5uZXJUZXh0KCEwKSksdGhpcy5hdHRhY2hlZFRyYW5zZm9ybT90aGlzLmF0dGFjaGVkVHJhbnNmb3JtLmdldENvbXB1dGVkVHJhbnNmb3JtKCk6dC5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0uY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVN1YlRleHRzPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fY2hpbGRDdXJzb3I9MCxjcyh0PXRoaXMuc3R5bGUpLFAodC5yaWNoLGNzKSx0aGlzLnN0eWxlLnJpY2g/dGhpcy5fdXBkYXRlUmljaFRleHRzKCk6dGhpcy5fdXBkYXRlUGxhaW5UZXh0cygpLHRoaXMuX2NoaWxkcmVuLmxlbmd0aD10aGlzLl9jaGlsZEN1cnNvcix0aGlzLnN0eWxlVXBkYXRlZCgpfSxlLnByb3RvdHlwZS5hZGRTZWxmVG9acj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5hZGRTZWxmVG9aci5jYWxsKHRoaXMsZSk7Zm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXRoaXMuX2NoaWxkcmVuW25dLl9fenI9ZX0sZS5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21acj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5yZW1vdmVTZWxmRnJvbVpyLmNhbGwodGhpcyxlKTtmb3IodmFyIG49MDtuPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtuKyspdGhpcy5fY2hpbGRyZW5bbl0uX196cj1udWxsfSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnN0eWxlQ2hhbmdlZCgpJiZ0aGlzLl91cGRhdGVTdWJUZXh0cygpLCF0aGlzLl9yZWN0KXtmb3IodmFyIHQ9bmV3IFJuKDAsMCwwLDApLGU9dGhpcy5fY2hpbGRyZW4sbj1bXSxpPW51bGwscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGE9by5nZXRCb3VuZGluZ1JlY3QoKSxzPW8uZ2V0TG9jYWxUcmFuc2Zvcm0obik7cz8odC5jb3B5KGEpLHQuYXBwbHlUcmFuc2Zvcm0ocyksKGk9aXx8dC5jbG9uZSgpKS51bmlvbih0KSk6KGk9aXx8YS5jbG9uZSgpKS51bmlvbihhKX10aGlzLl9yZWN0PWl8fHR9cmV0dXJuIHRoaXMuX3JlY3R9LGUucHJvdG90eXBlLnNldERlZmF1bHRUZXh0U3R5bGU9ZnVuY3Rpb24odCl7dGhpcy5fZGVmYXVsdFN0eWxlPXR8fGFzfSxlLnByb3RvdHlwZS5zZXRUZXh0Q29udGVudD1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBhdHRhY2ggdGV4dCBvbiBhbm90aGVyIHRleHRcIil9LGUucHJvdG90eXBlLl9tZXJnZVN0eWxlPWZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIHQ7dmFyIG49ZS5yaWNoLGk9dC5yaWNofHxuJiZ7fTtyZXR1cm4gSSh0LGUpLG4mJmk/KHRoaXMuX21lcmdlUmljaChpLG4pLHQucmljaD1pKTppJiYodC5yaWNoPWkpLHR9LGUucHJvdG90eXBlLl9tZXJnZVJpY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49eihlKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07dFtyXT10W3JdfHx7fSxJKHRbcl0sZVtyXSl9fSxlLnByb3RvdHlwZS5nZXRBbmltYXRpb25TdHlsZVByb3BzPWZ1bmN0aW9uKCl7cmV0dXJuIHNzfSxlLnByb3RvdHlwZS5fZ2V0T3JDcmVhdGVDaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jaGlsZHJlblt0aGlzLl9jaGlsZEN1cnNvcl07cmV0dXJuIGUmJmUgaW5zdGFuY2VvZiB0fHwoZT1uZXcgdCksdGhpcy5fY2hpbGRyZW5bdGhpcy5fY2hpbGRDdXJzb3IrK109ZSxlLl9fenI9dGhpcy5fX3pyLGUucGFyZW50PXRoaXMsZX0sZS5wcm90b3R5cGUuX3VwZGF0ZVBsYWluVGV4dHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlLGU9dC5mb250fHxFbixuPXQucGFkZGluZyxpPWZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmKHQrPVwiXCIpO3ZhciBuLGk9ZS5vdmVyZmxvdyxyPWUucGFkZGluZyxvPWUuZm9udCxhPVwidHJ1bmNhdGVcIj09PWkscz1XbihvKSxsPXR0KGUubGluZUhlaWdodCxzKSx1PVwidHJ1bmNhdGVcIj09PWUubGluZU92ZXJmbG93LGg9ZS53aWR0aCxjPShuPW51bGwhPWgmJlwiYnJlYWtcIj09PWl8fFwiYnJlYWtBbGxcIj09PWk/dD9nbyh0LGUuZm9udCxoLFwiYnJlYWtBbGxcIj09PWksMCkubGluZXM6W106dD90LnNwbGl0KFwiXFxuXCIpOltdKS5sZW5ndGgqbCxwPXR0KGUuaGVpZ2h0LGMpO2lmKGM+cCYmdSl7dmFyIGQ9TWF0aC5mbG9vcihwL2wpO249bi5zbGljZSgwLGQpfXZhciBmPXAsZz1oO2lmKHImJihmKz1yWzBdK3JbMl0sbnVsbCE9ZyYmKGcrPXJbMV0rclszXSkpLHQmJmEmJm51bGwhPWcpZm9yKHZhciB5PW9vKGgsbyxlLmVsbGlwc2lzLHttaW5DaGFyOmUudHJ1bmNhdGVNaW5DaGFyLHBsYWNlaG9sZGVyOmUucGxhY2Vob2xkZXJ9KSx2PTA7djxuLmxlbmd0aDt2Kyspblt2XT1hbyhuW3ZdLHkpO2lmKG51bGw9PWgpe3ZhciBtPTA7Zm9yKHY9MDt2PG4ubGVuZ3RoO3YrKyltPU1hdGgubWF4KEJuKG5bdl0sbyksbSk7aD1tfXJldHVybntsaW5lczpuLGhlaWdodDpwLG91dGVySGVpZ2h0OmYsbGluZUhlaWdodDpsLGNhbGN1bGF0ZWRMaW5lSGVpZ2h0OnMsY29udGVudEhlaWdodDpjLHdpZHRoOmh9fShmcyh0KSx0KSxyPWdzKHQpLG89ISF0LmJhY2tncm91bmRDb2xvcixhPWkub3V0ZXJIZWlnaHQscz1pLmxpbmVzLGw9aS5saW5lSGVpZ2h0LHU9dGhpcy5fZGVmYXVsdFN0eWxlLGg9dC54fHwwLGM9dC55fHwwLHA9dC5hbGlnbnx8dS5hbGlnbnx8XCJsZWZ0XCIsZD10LnZlcnRpY2FsQWxpZ258fHUudmVydGljYWxBbGlnbnx8XCJ0b3BcIixmPWgsZz1IbihjLGkuY29udGVudEhlaWdodCxkKTtpZihyfHxuKXt2YXIgeT1pLndpZHRoO24mJih5Kz1uWzFdK25bM10pO3ZhciB2PUduKGgseSxwKSxtPUhuKGMsYSxkKTtyJiZ0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKHQsdCx2LG0seSxhKX1nKz1sLzIsbiYmKGY9ZHMoaCxwLG4pLFwidG9wXCI9PT1kP2crPW5bMF06XCJib3R0b21cIj09PWQmJihnLT1uWzJdKSk7Zm9yKHZhciBfLHg9MCxiPSExLHc9KG51bGw9PShfPVwiZmlsbFwiaW4gdD90LmZpbGw6KGI9ITAsdS5maWxsKSl8fFwibm9uZVwiPT09Xz9udWxsOl8uaW1hZ2V8fF8uY29sb3JTdG9wcz9cIiMwMDBcIjpfKSxTPShwcyhcInN0cm9rZVwiaW4gdD90LnN0cm9rZTpvfHx1LmF1dG9TdHJva2UmJiFiP251bGw6KHg9Mix1LnN0cm9rZSkpKSxNPXQudGV4dFNoYWRvd0JsdXI+MCxJPW51bGwhPXQud2lkdGgmJihcInRydW5jYXRlXCI9PT10Lm92ZXJmbG93fHxcImJyZWFrXCI9PT10Lm92ZXJmbG93fHxcImJyZWFrQWxsXCI9PT10Lm92ZXJmbG93KSxUPWkuY2FsY3VsYXRlZExpbmVIZWlnaHQsQz0wO0M8cy5sZW5ndGg7QysrKXt2YXIgQT10aGlzLl9nZXRPckNyZWF0ZUNoaWxkKHFhKSxEPUEuY3JlYXRlU3R5bGUoKTtBLnVzZVN0eWxlKEQpLEQudGV4dD1zW0NdLEQueD1mLEQueT1nLHAmJihELnRleHRBbGlnbj1wKSxELnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLEQub3BhY2l0eT10Lm9wYWNpdHksRC5zdHJva2VGaXJzdD0hMCxNJiYoRC5zaGFkb3dCbHVyPXQudGV4dFNoYWRvd0JsdXJ8fDAsRC5zaGFkb3dDb2xvcj10LnRleHRTaGFkb3dDb2xvcnx8XCJ0cmFuc3BhcmVudFwiLEQuc2hhZG93T2Zmc2V0WD10LnRleHRTaGFkb3dPZmZzZXRYfHwwLEQuc2hhZG93T2Zmc2V0WT10LnRleHRTaGFkb3dPZmZzZXRZfHwwKSxTJiYoRC5zdHJva2U9UyxELmxpbmVXaWR0aD10LmxpbmVXaWR0aHx8eCxELmxpbmVEYXNoPXQubGluZURhc2gsRC5saW5lRGFzaE9mZnNldD10LmxpbmVEYXNoT2Zmc2V0fHwwKSx3JiYoRC5maWxsPXcpLEQuZm9udD1lLGcrPWwsSSYmQS5zZXRCb3VuZGluZ1JlY3QobmV3IFJuKEduKEQueCx0LndpZHRoLEQudGV4dEFsaWduKSxIbihELnksVCxELnRleHRCYXNlbGluZSksdC53aWR0aCxUKSl9fSxlLnByb3RvdHlwZS5fdXBkYXRlUmljaFRleHRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGhvO2lmKG51bGwhPXQmJih0Kz1cIlwiKSwhdClyZXR1cm4gbjtmb3IodmFyIGkscj1lLndpZHRoLG89ZS5oZWlnaHQsYT1lLm92ZXJmbG93LHM9XCJicmVha1wiIT09YSYmXCJicmVha0FsbFwiIT09YXx8bnVsbD09cj9udWxsOnt3aWR0aDpyLGFjY3VtV2lkdGg6MCxicmVha0FsbDpcImJyZWFrQWxsXCI9PT1hfSxsPWlvLmxhc3RJbmRleD0wO251bGwhPShpPWlvLmV4ZWModCkpOyl7dmFyIHU9aS5pbmRleDt1PmwmJmNvKG4sdC5zdWJzdHJpbmcobCx1KSxlLHMpLGNvKG4saVsyXSxlLHMsaVsxXSksbD1pby5sYXN0SW5kZXh9bDx0Lmxlbmd0aCYmY28obix0LnN1YnN0cmluZyhsLHQubGVuZ3RoKSxlLHMpO3ZhciBoPVtdLGM9MCxwPTAsZD1lLnBhZGRpbmcsZj1cInRydW5jYXRlXCI9PT1hLGc9XCJ0cnVuY2F0ZVwiPT09ZS5saW5lT3ZlcmZsb3c7ZnVuY3Rpb24geSh0LGUsbil7dC53aWR0aD1lLHQubGluZUhlaWdodD1uLGMrPW4scD1NYXRoLm1heChwLGUpfXQ6Zm9yKHZhciB2PTA7djxuLmxpbmVzLmxlbmd0aDt2Kyspe2Zvcih2YXIgbT1uLmxpbmVzW3ZdLF89MCx4PTAsYj0wO2I8bS50b2tlbnMubGVuZ3RoO2IrKyl7dmFyIHc9KFA9bS50b2tlbnNbYl0pLnN0eWxlTmFtZSYmZS5yaWNoW1Auc3R5bGVOYW1lXXx8e30sUz1QLnRleHRQYWRkaW5nPXcucGFkZGluZyxNPVM/U1sxXStTWzNdOjAsST1QLmZvbnQ9dy5mb250fHxlLmZvbnQ7UC5jb250ZW50SGVpZ2h0PVduKEkpO3ZhciBUPXR0KHcuaGVpZ2h0LFAuY29udGVudEhlaWdodCk7aWYoUC5pbm5lckhlaWdodD1ULFMmJihUKz1TWzBdK1NbMl0pLFAuaGVpZ2h0PVQsUC5saW5lSGVpZ2h0PWV0KHcubGluZUhlaWdodCxlLmxpbmVIZWlnaHQsVCksUC5hbGlnbj13JiZ3LmFsaWdufHxlLmFsaWduLFAudmVydGljYWxBbGlnbj13JiZ3LnZlcnRpY2FsQWxpZ258fFwibWlkZGxlXCIsZyYmbnVsbCE9byYmYytQLmxpbmVIZWlnaHQ+byl7Yj4wPyhtLnRva2Vucz1tLnRva2Vucy5zbGljZSgwLGIpLHkobSx4LF8pLG4ubGluZXM9bi5saW5lcy5zbGljZSgwLHYrMSkpOm4ubGluZXM9bi5saW5lcy5zbGljZSgwLHYpO2JyZWFrIHR9dmFyIEM9dy53aWR0aCxBPW51bGw9PUN8fFwiYXV0b1wiPT09QztpZihcInN0cmluZ1wiPT10eXBlb2YgQyYmXCIlXCI9PT1DLmNoYXJBdChDLmxlbmd0aC0xKSlQLnBlcmNlbnRXaWR0aD1DLGgucHVzaChQKSxQLmNvbnRlbnRXaWR0aD1CbihQLnRleHQsSSk7ZWxzZXtpZihBKXt2YXIgRD13LmJhY2tncm91bmRDb2xvcixMPUQmJkQuaW1hZ2U7TCYmbm8oTD1RcihMKSkmJihQLndpZHRoPU1hdGgubWF4KFAud2lkdGgsTC53aWR0aCpUL0wuaGVpZ2h0KSl9dmFyIGs9ZiYmbnVsbCE9cj9yLXg6bnVsbDtudWxsIT1rJiZrPFAud2lkdGg/IUF8fGs8TT8oUC50ZXh0PVwiXCIsUC53aWR0aD1QLmNvbnRlbnRXaWR0aD0wKTooUC50ZXh0PXJvKFAudGV4dCxrLU0sSSxlLmVsbGlwc2lzLHttaW5DaGFyOmUudHJ1bmNhdGVNaW5DaGFyfSksUC53aWR0aD1QLmNvbnRlbnRXaWR0aD1CbihQLnRleHQsSSkpOlAuY29udGVudFdpZHRoPUJuKFAudGV4dCxJKX1QLndpZHRoKz1NLHgrPVAud2lkdGgsdyYmKF89TWF0aC5tYXgoXyxQLmxpbmVIZWlnaHQpKX15KG0seCxfKX1mb3Iobi5vdXRlcldpZHRoPW4ud2lkdGg9dHQocixwKSxuLm91dGVySGVpZ2h0PW4uaGVpZ2h0PXR0KG8sYyksbi5jb250ZW50SGVpZ2h0PWMsbi5jb250ZW50V2lkdGg9cCxkJiYobi5vdXRlcldpZHRoKz1kWzFdK2RbM10sbi5vdXRlckhlaWdodCs9ZFswXStkWzJdKSx2PTA7djxoLmxlbmd0aDt2Kyspe3ZhciBQLE89KFA9aFt2XSkucGVyY2VudFdpZHRoO1Aud2lkdGg9cGFyc2VJbnQoTywxMCkvMTAwKm4ud2lkdGh9cmV0dXJuIG59KGZzKHQpLHQpLG49ZS53aWR0aCxpPWUub3V0ZXJXaWR0aCxyPWUub3V0ZXJIZWlnaHQsbz10LnBhZGRpbmcsYT10Lnh8fDAscz10Lnl8fDAsbD10aGlzLl9kZWZhdWx0U3R5bGUsdT10LmFsaWdufHxsLmFsaWduLGg9dC52ZXJ0aWNhbEFsaWdufHxsLnZlcnRpY2FsQWxpZ24sYz1HbihhLGksdSkscD1IbihzLHIsaCksZD1jLGY9cDtvJiYoZCs9b1szXSxmKz1vWzBdKTt2YXIgZz1kK247Z3ModCkmJnRoaXMuX3JlbmRlckJhY2tncm91bmQodCx0LGMscCxpLHIpO2Zvcih2YXIgeT0hIXQuYmFja2dyb3VuZENvbG9yLHY9MDt2PGUubGluZXMubGVuZ3RoO3YrKyl7Zm9yKHZhciBtPWUubGluZXNbdl0sXz1tLnRva2Vucyx4PV8ubGVuZ3RoLGI9bS5saW5lSGVpZ2h0LHc9bS53aWR0aCxTPTAsTT1kLEk9ZyxUPXgtMSxDPXZvaWQgMDtTPHgmJighKEM9X1tTXSkuYWxpZ258fFwibGVmdFwiPT09Qy5hbGlnbik7KXRoaXMuX3BsYWNlVG9rZW4oQyx0LGIsZixNLFwibGVmdFwiLHkpLHctPUMud2lkdGgsTSs9Qy53aWR0aCxTKys7Zm9yKDtUPj0wJiZcInJpZ2h0XCI9PT0oQz1fW1RdKS5hbGlnbjspdGhpcy5fcGxhY2VUb2tlbihDLHQsYixmLEksXCJyaWdodFwiLHkpLHctPUMud2lkdGgsSS09Qy53aWR0aCxULS07Zm9yKE0rPShuLShNLWQpLShnLUkpLXcpLzI7Uzw9VDspQz1fW1NdLHRoaXMuX3BsYWNlVG9rZW4oQyx0LGIsZixNK0Mud2lkdGgvMixcImNlbnRlclwiLHkpLE0rPUMud2lkdGgsUysrO2YrPWJ9fSxlLnByb3RvdHlwZS5fcGxhY2VUb2tlbj1mdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz1lLnJpY2hbdC5zdHlsZU5hbWVdfHx7fTtzLnRleHQ9dC50ZXh0O3ZhciBsPXQudmVydGljYWxBbGlnbix1PWkrbi8yO1widG9wXCI9PT1sP3U9aSt0LmhlaWdodC8yOlwiYm90dG9tXCI9PT1sJiYodT1pK24tdC5oZWlnaHQvMiksIXQuaXNMaW5lSG9sZGVyJiZncyhzKSYmdGhpcy5fcmVuZGVyQmFja2dyb3VuZChzLGUsXCJyaWdodFwiPT09bz9yLXQud2lkdGg6XCJjZW50ZXJcIj09PW8/ci10LndpZHRoLzI6cix1LXQuaGVpZ2h0LzIsdC53aWR0aCx0LmhlaWdodCk7dmFyIGg9ISFzLmJhY2tncm91bmRDb2xvcixjPXQudGV4dFBhZGRpbmc7YyYmKHI9ZHMocixvLGMpLHUtPXQuaGVpZ2h0LzItY1swXS10LmlubmVySGVpZ2h0LzIpO3ZhciBwPXRoaXMuX2dldE9yQ3JlYXRlQ2hpbGQocWEpLGQ9cC5jcmVhdGVTdHlsZSgpO3AudXNlU3R5bGUoZCk7dmFyIGY9dGhpcy5fZGVmYXVsdFN0eWxlLGc9ITEseT0wLHY9cHMoXCJmaWxsXCJpbiBzP3MuZmlsbDpcImZpbGxcImluIGU/ZS5maWxsOihnPSEwLGYuZmlsbCkpLG09cHMoXCJzdHJva2VcImluIHM/cy5zdHJva2U6XCJzdHJva2VcImluIGU/ZS5zdHJva2U6aHx8YXx8Zi5hdXRvU3Ryb2tlJiYhZz9udWxsOih5PTIsZi5zdHJva2UpKSxfPXMudGV4dFNoYWRvd0JsdXI+MHx8ZS50ZXh0U2hhZG93Qmx1cj4wO2QudGV4dD10LnRleHQsZC54PXIsZC55PXUsXyYmKGQuc2hhZG93Qmx1cj1zLnRleHRTaGFkb3dCbHVyfHxlLnRleHRTaGFkb3dCbHVyfHwwLGQuc2hhZG93Q29sb3I9cy50ZXh0U2hhZG93Q29sb3J8fGUudGV4dFNoYWRvd0NvbG9yfHxcInRyYW5zcGFyZW50XCIsZC5zaGFkb3dPZmZzZXRYPXMudGV4dFNoYWRvd09mZnNldFh8fGUudGV4dFNoYWRvd09mZnNldFh8fDAsZC5zaGFkb3dPZmZzZXRZPXMudGV4dFNoYWRvd09mZnNldFl8fGUudGV4dFNoYWRvd09mZnNldFl8fDApLGQudGV4dEFsaWduPW8sZC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIixkLmZvbnQ9dC5mb250fHxFbixkLm9wYWNpdHk9ZXQocy5vcGFjaXR5LGUub3BhY2l0eSwxKSxtJiYoZC5saW5lV2lkdGg9ZXQocy5saW5lV2lkdGgsZS5saW5lV2lkdGgseSksZC5saW5lRGFzaD10dChzLmxpbmVEYXNoLGUubGluZURhc2gpLGQubGluZURhc2hPZmZzZXQ9ZS5saW5lRGFzaE9mZnNldHx8MCxkLnN0cm9rZT1tKSx2JiYoZC5maWxsPXYpO3ZhciB4PXQuY29udGVudFdpZHRoLGI9dC5jb250ZW50SGVpZ2h0O3Auc2V0Qm91bmRpbmdSZWN0KG5ldyBSbihHbihkLngseCxkLnRleHRBbGlnbiksSG4oZC55LGIsZC50ZXh0QmFzZWxpbmUpLHgsYikpfSxlLnByb3RvdHlwZS5fcmVuZGVyQmFja2dyb3VuZD1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGEscyxsLHU9dC5iYWNrZ3JvdW5kQ29sb3IsaD10LmJvcmRlcldpZHRoLGM9dC5ib3JkZXJDb2xvcixwPUgodSksZD10LmJvcmRlclJhZGl1cyxmPXRoaXM7aWYocHx8aCYmYyl7KGE9dGhpcy5fZ2V0T3JDcmVhdGVDaGlsZChvcykpLnVzZVN0eWxlKGEuY3JlYXRlU3R5bGUoKSksYS5zdHlsZS5maWxsPW51bGw7dmFyIGc9YS5zaGFwZTtnLng9bixnLnk9aSxnLndpZHRoPXIsZy5oZWlnaHQ9byxnLnI9ZCxhLmRpcnR5U2hhcGUoKX1pZihwKShsPWEuc3R5bGUpLmZpbGw9dXx8bnVsbCxsLmZpbGxPcGFjaXR5PXR0KHQuZmlsbE9wYWNpdHksMSk7ZWxzZSBpZih1JiZ1LmltYWdlKXsocz10aGlzLl9nZXRPckNyZWF0ZUNoaWxkKEphKSkub25sb2FkPWZ1bmN0aW9uKCl7Zi5kaXJ0eVN0eWxlKCl9O3ZhciB5PXMuc3R5bGU7eS5pbWFnZT11LmltYWdlLHkueD1uLHkueT1pLHkud2lkdGg9cix5LmhlaWdodD1vfWgmJmMmJigobD1hLnN0eWxlKS5saW5lV2lkdGg9aCxsLnN0cm9rZT1jLGwuc3Ryb2tlT3BhY2l0eT10dCh0LnN0cm9rZU9wYWNpdHksMSksbC5saW5lRGFzaD10LmJvcmRlckRhc2gsbC5saW5lRGFzaE9mZnNldD10LmJvcmRlckRhc2hPZmZzZXR8fDAsYS5zdHJva2VDb250YWluVGhyZXNob2xkPTAsYS5oYXNGaWxsKCkmJmEuaGFzU3Ryb2tlKCkmJihsLnN0cm9rZUZpcnN0PSEwLGwubGluZVdpZHRoKj0yKSk7dmFyIHY9KGF8fHMpLnN0eWxlO3Yuc2hhZG93Qmx1cj10LnNoYWRvd0JsdXJ8fDAsdi5zaGFkb3dDb2xvcj10LnNoYWRvd0NvbG9yfHxcInRyYW5zcGFyZW50XCIsdi5zaGFkb3dPZmZzZXRYPXQuc2hhZG93T2Zmc2V0WHx8MCx2LnNoYWRvd09mZnNldFk9dC5zaGFkb3dPZmZzZXRZfHwwLHYub3BhY2l0eT1ldCh0Lm9wYWNpdHksZS5vcGFjaXR5LDEpfSxlLm1ha2VGb250PWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7aWYodC5mb250U2l6ZXx8dC5mb250RmFtaWx5fHx0LmZvbnRXZWlnaHQpe3ZhciBuPVwiXCI7bj1cInN0cmluZ1wiIT10eXBlb2YgdC5mb250U2l6ZXx8LTE9PT10LmZvbnRTaXplLmluZGV4T2YoXCJweFwiKSYmLTE9PT10LmZvbnRTaXplLmluZGV4T2YoXCJyZW1cIikmJi0xPT09dC5mb250U2l6ZS5pbmRleE9mKFwiZW1cIik/aXNOYU4oK3QuZm9udFNpemUpP1wiMTJweFwiOnQuZm9udFNpemUrXCJweFwiOnQuZm9udFNpemUsZT1bdC5mb250U3R5bGUsdC5mb250V2VpZ2h0LG4sdC5mb250RmFtaWx5fHxcInNhbnMtc2VyaWZcIl0uam9pbihcIiBcIil9cmV0dXJuIGUmJm90KGUpfHx0LnRleHRGb250fHx0LmZvbnR9LGV9KHhvKSx1cz17bGVmdDohMCxyaWdodDoxLGNlbnRlcjoxfSxocz17dG9wOjEsYm90dG9tOjEsbWlkZGxlOjF9O2Z1bmN0aW9uIGNzKHQpe2lmKHQpe3QuZm9udD1scy5tYWtlRm9udCh0KTt2YXIgZT10LmFsaWduO1wibWlkZGxlXCI9PT1lJiYoZT1cImNlbnRlclwiKSx0LmFsaWduPW51bGw9PWV8fHVzW2VdP2U6XCJsZWZ0XCI7dmFyIG49dC52ZXJ0aWNhbEFsaWduO1wiY2VudGVyXCI9PT1uJiYobj1cIm1pZGRsZVwiKSx0LnZlcnRpY2FsQWxpZ249bnVsbD09bnx8aHNbbl0/bjpcInRvcFwiLHQucGFkZGluZyYmKHQucGFkZGluZz1pdCh0LnBhZGRpbmcpKX19ZnVuY3Rpb24gcHModCxlKXtyZXR1cm4gbnVsbD09dHx8ZTw9MHx8XCJ0cmFuc3BhcmVudFwiPT09dHx8XCJub25lXCI9PT10P251bGw6dC5pbWFnZXx8dC5jb2xvclN0b3BzP1wiIzAwMFwiOnR9ZnVuY3Rpb24gZHModCxlLG4pe3JldHVyblwicmlnaHRcIj09PWU/dC1uWzFdOlwiY2VudGVyXCI9PT1lP3QrblszXS8yLW5bMV0vMjp0K25bM119ZnVuY3Rpb24gZnModCl7dmFyIGU9dC50ZXh0O3JldHVybiBudWxsIT1lJiYoZSs9XCJcIiksZX1mdW5jdGlvbiBncyh0KXtyZXR1cm4hISh0LmJhY2tncm91bmRDb2xvcnx8dC5ib3JkZXJXaWR0aCYmdC5ib3JkZXJDb2xvcil9dmFyIHlzPUxyKCksdnM9MSxtcz17fSxfcz1McigpLHhzPVtcImVtcGhhc2lzXCIsXCJibHVyXCIsXCJzZWxlY3RcIl0sYnM9W1wibm9ybWFsXCIsXCJlbXBoYXNpc1wiLFwiYmx1clwiLFwic2VsZWN0XCJdLHdzPVwiaGlnaGxpZ2h0XCIsU3M9XCJkb3ducGxheVwiLE1zPVwic2VsZWN0XCIsSXM9XCJ1bnNlbGVjdFwiLFRzPVwidG9nZ2xlU2VsZWN0XCI7ZnVuY3Rpb24gQ3ModCl7cmV0dXJuIG51bGwhPXQmJlwibm9uZVwiIT09dH12YXIgQXM9bmV3IEVlKDEwMCk7ZnVuY3Rpb24gRHModCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGU9QXMuZ2V0KHQpO3JldHVybiBlfHwoZT0kZSh0LC0uMSksQXMucHV0KHQsZSkpLGV9ZnVuY3Rpb24gTHModCxlLG4pe3Qub25Ib3ZlclN0YXRlQ2hhbmdlJiYodC5ob3ZlclN0YXRlfHwwKSE9PW4mJnQub25Ib3ZlclN0YXRlQ2hhbmdlKGUpLHQuaG92ZXJTdGF0ZT1ufWZ1bmN0aW9uIGtzKHQpe0xzKHQsXCJlbXBoYXNpc1wiLDIpfWZ1bmN0aW9uIFBzKHQpezI9PT10LmhvdmVyU3RhdGUmJkxzKHQsXCJub3JtYWxcIiwwKX1mdW5jdGlvbiBPcyh0KXtMcyh0LFwiYmx1clwiLDEpfWZ1bmN0aW9uIFJzKHQpezE9PT10LmhvdmVyU3RhdGUmJkxzKHQsXCJub3JtYWxcIiwwKX1mdW5jdGlvbiBOcyh0KXt0LnNlbGVjdGVkPSEwfWZ1bmN0aW9uIEVzKHQpe3Quc2VsZWN0ZWQ9ITF9ZnVuY3Rpb24genModCxlLG4pe2UodCxuKX1mdW5jdGlvbiBCcyh0LGUsbil7enModCxlLG4pLHQuaXNHcm91cCYmdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7enModCxlLG4pfSkpfWZ1bmN0aW9uIFZzKHQsZSl7c3dpdGNoKGUpe2Nhc2VcImVtcGhhc2lzXCI6dC5ob3ZlclN0YXRlPTI7YnJlYWs7Y2FzZVwibm9ybWFsXCI6dC5ob3ZlclN0YXRlPTA7YnJlYWs7Y2FzZVwiYmx1clwiOnQuaG92ZXJTdGF0ZT0xO2JyZWFrO2Nhc2VcInNlbGVjdFwiOnQuc2VsZWN0ZWQ9ITB9fWZ1bmN0aW9uIEZzKHQsZSl7dmFyIG49dGhpcy5zdGF0ZXNbdF07aWYodGhpcy5zdHlsZSl7aWYoXCJlbXBoYXNpc1wiPT09dClyZXR1cm4gZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9biYmQShuLFwic2VsZWN0XCIpPj0wLG89ITE7aWYodCBpbnN0YW5jZW9mIFphKXt2YXIgYT1fcyh0KSxzPXImJmEuc2VsZWN0RmlsbHx8YS5ub3JtYWxGaWxsLGw9ciYmYS5zZWxlY3RTdHJva2V8fGEubm9ybWFsU3Ryb2tlO2lmKENzKHMpfHxDcyhsKSl7dmFyIHU9KGk9aXx8e30pLnN0eWxlfHx7fTshQ3ModS5maWxsKSYmQ3Mocyk/KG89ITAsaT1JKHt9LGkpLCh1PUkoe30sdSkpLmZpbGw9RHMocykpOiFDcyh1LnN0cm9rZSkmJkNzKGwpJiYob3x8KGk9SSh7fSxpKSx1PUkoe30sdSkpLHUuc3Ryb2tlPURzKGwpKSxpLnN0eWxlPXV9fWlmKGkmJm51bGw9PWkuejIpe298fChpPUkoe30saSkpO3ZhciBoPXQuejJFbXBoYXNpc0xpZnQ7aS56Mj10LnoyKyhudWxsIT1oP2g6MTApfXJldHVybiBpfSh0aGlzLDAsZSxuKTtpZihcImJsdXJcIj09PXQpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1BKHQuY3VycmVudFN0YXRlcyxlKT49MCxyPXQuc3R5bGUub3BhY2l0eSxvPWk/bnVsbDpmdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9dC5zdHlsZSxvPXt9LGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHM9ZVthXSxsPXJbc107b1tzXT1udWxsPT1sP2kmJmlbc106bH1mb3IoYT0wO2E8dC5hbmltYXRvcnMubGVuZ3RoO2ErKyl7dmFyIHU9dC5hbmltYXRvcnNbYV07dS5fX2Zyb21TdGF0ZVRyYW5zaXRpb24mJnUuX19mcm9tU3RhdGVUcmFuc2l0aW9uLmluZGV4T2Yobik8MCYmXCJzdHlsZVwiPT09dS50YXJnZXROYW1lJiZ1LnNhdmVGaW5hbFRvVGFyZ2V0KG8sZSl9cmV0dXJuIG99KHQsW1wib3BhY2l0eVwiXSxlLHtvcGFjaXR5OjF9KSxhPShuPW58fHt9KS5zdHlsZXx8e307cmV0dXJuIG51bGw9PWEub3BhY2l0eSYmKG49SSh7fSxuKSxhPUkoe29wYWNpdHk6aT9yOi4xKm8ub3BhY2l0eX0sYSksbi5zdHlsZT1hKSxufSh0aGlzLHQsbik7aWYoXCJzZWxlY3RcIj09PXQpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihuJiZudWxsPT1uLnoyKXtuPUkoe30sbik7dmFyIGk9dC56MlNlbGVjdExpZnQ7bi56Mj10LnoyKyhudWxsIT1pP2k6OSl9cmV0dXJuIG59KHRoaXMsMCxuKX1yZXR1cm4gbn1mdW5jdGlvbiBHcyh0KXt0LnN0YXRlUHJveHk9RnM7dmFyIGU9dC5nZXRUZXh0Q29udGVudCgpLG49dC5nZXRUZXh0R3VpZGVMaW5lKCk7ZSYmKGUuc3RhdGVQcm94eT1GcyksbiYmKG4uc3RhdGVQcm94eT1Gcyl9ZnVuY3Rpb24gSHModCxlKXt0Ll9faGlnaEJ5T3V0ZXJ8PTE8PChlfHwwKSxCcyh0LGtzKX1mdW5jdGlvbiBXcyh0LGUpeyEodC5fX2hpZ2hCeU91dGVyJj1+KDE8PChlfHwwKSkpJiZCcyh0LFBzKX1mdW5jdGlvbiBZcyh0KXtCcyh0LE9zKX1mdW5jdGlvbiBYcyh0KXtCcyh0LFJzKX1mdW5jdGlvbiBVcyh0KXtCcyh0LE5zKX1mdW5jdGlvbiBacyh0KXtCcyh0LEVzKX1mdW5jdGlvbiBqcyh0LGUpe3JldHVybiB0Ll9faGlnaERvd25TaWxlbnRPblRvdWNoJiZlLnpyQnlUb3VjaH1mdW5jdGlvbiBxcyh0LGUsbixpLHIpe3ZhciBvPWkuZ2V0TW9kZWwoKTtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPXQuZ2V0SXRlbUdyYXBoaWNFbChlW25dKTtpJiZYcyhpKX19aWYobj1ufHxcImNvb3JkaW5hdGVTeXN0ZW1cIixyKXtpZihudWxsIT10JiZlJiZcIm5vbmVcIiE9PWUpe3ZhciBzPW8uZ2V0U2VyaWVzQnlJbmRleCh0KSxsPXMuY29vcmRpbmF0ZVN5c3RlbTtsJiZsLm1hc3RlciYmKGw9bC5tYXN0ZXIpO3ZhciB1PVtdO28uZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIHI9cz09PXQsbz10LmNvb3JkaW5hdGVTeXN0ZW07aWYobyYmby5tYXN0ZXImJihvPW8ubWFzdGVyKSwhKFwic2VyaWVzXCI9PT1uJiYhcnx8XCJjb29yZGluYXRlU3lzdGVtXCI9PT1uJiYhKG8mJmw/bz09PWw6cil8fFwic2VyaWVzXCI9PT1lJiZyKSl7aWYoaS5nZXRWaWV3T2ZTZXJpZXNNb2RlbCh0KS5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7T3ModCl9KSksayhlKSlhKHQuZ2V0RGF0YSgpLGUpO2Vsc2UgaWYoWChlKSlmb3IodmFyIGg9eihlKSxjPTA7YzxoLmxlbmd0aDtjKyspYSh0LmdldERhdGEoaFtjXSksZVtoW2NdXSk7dS5wdXNoKHQpfX0pKSxvLmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKHQsZSl7aWYoXCJzZXJpZXNcIiE9PXQpe3ZhciBuPWkuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwoZSk7biYmbi5ibHVyU2VyaWVzJiZuLmJsdXJTZXJpZXModSxvKX19KSl9fWVsc2UhZnVuY3Rpb24odCl7dC5nZXRNb2RlbCgpLmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKGUsbil7KFwic2VyaWVzXCI9PT1lP3QuZ2V0Vmlld09mU2VyaWVzTW9kZWwobik6dC5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChuKSkuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe1JzKHQpfSkpfSkpfShpKX1mdW5jdGlvbiBLcyh0KXtQKHQuZ2V0QWxsRGF0YSgpLChmdW5jdGlvbihlKXt2YXIgbj1lLmRhdGEsaT1lLnR5cGU7bi5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSxuKXt0LmlzU2VsZWN0ZWQobixpKT9VcyhlKTpacyhlKX0pKX0pKX1mdW5jdGlvbiAkcyh0KXt2YXIgZT1bXTtyZXR1cm4gdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtQKHQuZ2V0QWxsRGF0YSgpLChmdW5jdGlvbihuKXtuLmRhdGE7dmFyIGk9bi50eXBlLHI9dC5nZXRTZWxlY3RlZERhdGFJbmRpY2VzKCk7aWYoci5sZW5ndGg+MCl7dmFyIG89e2RhdGFJbmRleDpyLHNlcmllc0luZGV4OnQuc2VyaWVzSW5kZXh9O251bGwhPWkmJihvLmRhdGFUeXBlPWkpLGUucHVzaChvKX19KSl9KSksZX1mdW5jdGlvbiBKcyh0LGUsbil7aWwodCwhMCksQnModCxHcyksUXModCxlLG4pfWZ1bmN0aW9uIFFzKHQsZSxuKXt2YXIgaT15cyh0KTtudWxsIT1lPyhpLmZvY3VzPWUsaS5ibHVyU2NvcGU9bik6aS5mb2N1cyYmKGkuZm9jdXM9bnVsbCl9dmFyIHRsPVtcImVtcGhhc2lzXCIsXCJibHVyXCIsXCJzZWxlY3RcIl0sZWw9e2l0ZW1TdHlsZTpcImdldEl0ZW1TdHlsZVwiLGxpbmVTdHlsZTpcImdldExpbmVTdHlsZVwiLGFyZWFTdHlsZTpcImdldEFyZWFTdHlsZVwifTtmdW5jdGlvbiBubCh0LGUsbixpKXtuPW58fFwiaXRlbVN0eWxlXCI7Zm9yKHZhciByPTA7cjx0bC5sZW5ndGg7cisrKXt2YXIgbz10bFtyXSxhPWUuZ2V0TW9kZWwoW28sbl0pO3QuZW5zdXJlU3RhdGUobykuc3R5bGU9aT9pKGEpOmFbZWxbbl1dKCl9fWZ1bmN0aW9uIGlsKHQsZSl7dmFyIG49ITE9PT1lLGk9dDt0LmhpZ2hEb3duU2lsZW50T25Ub3VjaCYmKGkuX19oaWdoRG93blNpbGVudE9uVG91Y2g9dC5oaWdoRG93blNpbGVudE9uVG91Y2gpLG4mJiFpLl9faGlnaERvd25EaXNwYXRjaGVyfHwoaS5fX2hpZ2hCeU91dGVyPWkuX19oaWdoQnlPdXRlcnx8MCxpLl9faGlnaERvd25EaXNwYXRjaGVyPSFuKX1mdW5jdGlvbiBybCh0KXtyZXR1cm4hKCF0fHwhdC5fX2hpZ2hEb3duRGlzcGF0Y2hlcil9ZnVuY3Rpb24gb2wodCl7dmFyIGU9dC50eXBlO3JldHVybiBlPT09TXN8fGU9PT1Jc3x8ZT09PVRzfWZ1bmN0aW9uIGFsKHQpe3ZhciBlPXQudHlwZTtyZXR1cm4gZT09PXdzfHxlPT09U3N9dmFyIHNsPUNhLkNNRCxsbD1bW10sW10sW11dLHVsPU1hdGguc3FydCxobD1NYXRoLmF0YW4yO3ZhciBjbD1NYXRoLnNxcnQscGw9TWF0aC5zaW4sZGw9TWF0aC5jb3MsZmw9TWF0aC5QSTtmdW5jdGlvbiBnbCh0KXtyZXR1cm4gTWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pfWZ1bmN0aW9uIHlsKHQsZSl7cmV0dXJuKHRbMF0qZVswXSt0WzFdKmVbMV0pLyhnbCh0KSpnbChlKSl9ZnVuY3Rpb24gdmwodCxlKXtyZXR1cm4odFswXSplWzFdPHRbMV0qZVswXT8tMToxKSpNYXRoLmFjb3MoeWwodCxlKSl9ZnVuY3Rpb24gbWwodCxlLG4saSxyLG8sYSxzLGwsdSxoKXt2YXIgYz1sKihmbC8xODApLHA9ZGwoYykqKHQtbikvMitwbChjKSooZS1pKS8yLGQ9LTEqcGwoYykqKHQtbikvMitkbChjKSooZS1pKS8yLGY9cCpwLyhhKmEpK2QqZC8ocypzKTtmPjEmJihhKj1jbChmKSxzKj1jbChmKSk7dmFyIGc9KHI9PT1vPy0xOjEpKmNsKChhKmEqKHMqcyktYSphKihkKmQpLXMqcyoocCpwKSkvKGEqYSooZCpkKStzKnMqKHAqcCkpKXx8MCx5PWcqYSpkL3Msdj1nKi1zKnAvYSxtPSh0K24pLzIrZGwoYykqeS1wbChjKSp2LF89KGUraSkvMitwbChjKSp5K2RsKGMpKnYseD12bChbMSwwXSxbKHAteSkvYSwoZC12KS9zXSksYj1bKHAteSkvYSwoZC12KS9zXSx3PVsoLTEqcC15KS9hLCgtMSpkLXYpL3NdLFM9dmwoYix3KTtpZih5bChiLHcpPD0tMSYmKFM9ZmwpLHlsKGIsdyk+PTEmJihTPTApLFM8MCl7dmFyIE09TWF0aC5yb3VuZChTL2ZsKjFlNikvMWU2O1M9MipmbCtNJTIqZmx9aC5hZGREYXRhKHUsbSxfLGEscyx4LFMsYyxvKX12YXIgX2w9LyhbbWx2aHpjcXRzYV0pKFtebWx2aHpjcXRzYV0qKS9naSx4bD0vLT8oWzAtOV0qXFwuKT9bMC05XSsoW2VFXS0/WzAtOV0rKT8vZzt2YXIgYmw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0KXt9LGV9KFphKTtmdW5jdGlvbiB3bCh0KXtyZXR1cm4gbnVsbCE9dC5zZXREYXRhfWZ1bmN0aW9uIFNsKHQsZSl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENhO2lmKCF0KXJldHVybiBlO3ZhciBuLGk9MCxyPTAsbz1pLGE9cixzPUNhLkNNRCxsPXQubWF0Y2goX2wpO2lmKCFsKXJldHVybiBlO2Zvcih2YXIgdT0wO3U8bC5sZW5ndGg7dSsrKXtmb3IodmFyIGg9bFt1XSxjPWguY2hhckF0KDApLHA9dm9pZCAwLGQ9aC5tYXRjaCh4bCl8fFtdLGY9ZC5sZW5ndGgsZz0wO2c8ZjtnKyspZFtnXT1wYXJzZUZsb2F0KGRbZ10pO2Zvcih2YXIgeT0wO3k8Zjspe3ZhciB2PXZvaWQgMCxtPXZvaWQgMCxfPXZvaWQgMCx4PXZvaWQgMCxiPXZvaWQgMCx3PXZvaWQgMCxTPXZvaWQgMCxNPWksST1yLFQ9dm9pZCAwLEM9dm9pZCAwO3N3aXRjaChjKXtjYXNlXCJsXCI6aSs9ZFt5KytdLHIrPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2VcIkxcIjppPWRbeSsrXSxyPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2VcIm1cIjppKz1kW3krK10scis9ZFt5KytdLHA9cy5NLGUuYWRkRGF0YShwLGksciksbz1pLGE9cixjPVwibFwiO2JyZWFrO2Nhc2VcIk1cIjppPWRbeSsrXSxyPWRbeSsrXSxwPXMuTSxlLmFkZERhdGEocCxpLHIpLG89aSxhPXIsYz1cIkxcIjticmVhaztjYXNlXCJoXCI6aSs9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZVwiSFwiOmk9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZVwidlwiOnIrPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2VcIlZcIjpyPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2VcIkNcIjpwPXMuQyxlLmFkZERhdGEocCxkW3krK10sZFt5KytdLGRbeSsrXSxkW3krK10sZFt5KytdLGRbeSsrXSksaT1kW3ktMl0scj1kW3ktMV07YnJlYWs7Y2FzZVwiY1wiOnA9cy5DLGUuYWRkRGF0YShwLGRbeSsrXStpLGRbeSsrXStyLGRbeSsrXStpLGRbeSsrXStyLGRbeSsrXStpLGRbeSsrXStyKSxpKz1kW3ktMl0scis9ZFt5LTFdO2JyZWFrO2Nhc2VcIlNcIjp2PWksbT1yLFQ9ZS5sZW4oKSxDPWUuZGF0YSxuPT09cy5DJiYodis9aS1DW1QtNF0sbSs9ci1DW1QtM10pLHA9cy5DLE09ZFt5KytdLEk9ZFt5KytdLGk9ZFt5KytdLHI9ZFt5KytdLGUuYWRkRGF0YShwLHYsbSxNLEksaSxyKTticmVhaztjYXNlXCJzXCI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuQyYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxwPXMuQyxNPWkrZFt5KytdLEk9citkW3krK10saSs9ZFt5KytdLHIrPWRbeSsrXSxlLmFkZERhdGEocCx2LG0sTSxJLGkscik7YnJlYWs7Y2FzZVwiUVwiOk09ZFt5KytdLEk9ZFt5KytdLGk9ZFt5KytdLHI9ZFt5KytdLHA9cy5RLGUuYWRkRGF0YShwLE0sSSxpLHIpO2JyZWFrO2Nhc2VcInFcIjpNPWRbeSsrXStpLEk9ZFt5KytdK3IsaSs9ZFt5KytdLHIrPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCxNLEksaSxyKTticmVhaztjYXNlXCJUXCI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuUSYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxpPWRbeSsrXSxyPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCx2LG0saSxyKTticmVhaztjYXNlXCJ0XCI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuUSYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxpKz1kW3krK10scis9ZFt5KytdLHA9cy5RLGUuYWRkRGF0YShwLHYsbSxpLHIpO2JyZWFrO2Nhc2VcIkFcIjpfPWRbeSsrXSx4PWRbeSsrXSxiPWRbeSsrXSx3PWRbeSsrXSxTPWRbeSsrXSxtbChNPWksST1yLGk9ZFt5KytdLHI9ZFt5KytdLHcsUyxfLHgsYixwPXMuQSxlKTticmVhaztjYXNlXCJhXCI6Xz1kW3krK10seD1kW3krK10sYj1kW3krK10sdz1kW3krK10sUz1kW3krK10sbWwoTT1pLEk9cixpKz1kW3krK10scis9ZFt5KytdLHcsUyxfLHgsYixwPXMuQSxlKX19XCJ6XCIhPT1jJiZcIlpcIiE9PWN8fChwPXMuWixlLmFkZERhdGEocCksaT1vLHI9YSksbj1wfXJldHVybiBlLnRvU3RhdGljKCksZX0odCksaT1JKHt9LGUpO3JldHVybiBpLmJ1aWxkUGF0aD1mdW5jdGlvbih0KXtpZih3bCh0KSl7dC5zZXREYXRhKG4uZGF0YSksKGU9dC5nZXRDb250ZXh0KCkpJiZ0LnJlYnVpbGRQYXRoKGUsMSl9ZWxzZXt2YXIgZT10O24ucmVidWlsZFBhdGgoZSwxKX19LGkuYXBwbHlUcmFuc2Zvcm09ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG8sYSxzLGw9dC5kYXRhLHU9dC5sZW4oKSxoPXNsLk0sYz1zbC5DLHA9c2wuTCxkPXNsLlIsZj1zbC5BLGc9c2wuUTtmb3Iocj0wLG89MDtyPHU7KXtzd2l0Y2gobj1sW3IrK10sbz1yLGk9MCxuKXtjYXNlIGg6Y2FzZSBwOmk9MTticmVhaztjYXNlIGM6aT0zO2JyZWFrO2Nhc2UgZzppPTI7YnJlYWs7Y2FzZSBmOnZhciB5PWVbNF0sdj1lWzVdLG09dWwoZVswXSplWzBdK2VbMV0qZVsxXSksXz11bChlWzJdKmVbMl0rZVszXSplWzNdKSx4PWhsKC1lWzFdL18sZVswXS9tKTtsW3JdKj1tLGxbcisrXSs9eSxsW3JdKj1fLGxbcisrXSs9dixsW3IrK10qPW0sbFtyKytdKj1fLGxbcisrXSs9eCxsW3IrK10rPXgsbz1yKz0yO2JyZWFrO2Nhc2UgZDpzWzBdPWxbcisrXSxzWzFdPWxbcisrXSxSdChzLHMsZSksbFtvKytdPXNbMF0sbFtvKytdPXNbMV0sc1swXSs9bFtyKytdLHNbMV0rPWxbcisrXSxSdChzLHMsZSksbFtvKytdPXNbMF0sbFtvKytdPXNbMV19Zm9yKGE9MDthPGk7YSsrKXt2YXIgYj1sbFthXTtiWzBdPWxbcisrXSxiWzFdPWxbcisrXSxSdChiLGIsZSksbFtvKytdPWJbMF0sbFtvKytdPWJbMV19fXQuaW5jcmVhc2VWZXJzaW9uKCl9KG4sdCksdGhpcy5kaXJ0eVNoYXBlKCl9LGl9ZnVuY3Rpb24gTWwodCxlKXtyZXR1cm4gbmV3IGJsKFNsKHQsZSkpfXZhciBJbD1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yPTB9LFRsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJbH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSxuKXtuJiZ0Lm1vdmVUbyhlLmN4K2UucixlLmN5KSx0LmFyYyhlLmN4LGUuY3ksZS5yLDAsMipNYXRoLlBJKX0sZX0oWmEpO1RsLnByb3RvdHlwZS50eXBlPVwiY2lyY2xlXCI7dmFyIENsPWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnJ4PTAsdGhpcy5yeT0wfSxBbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQ2x9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPS41NTIyODQ4LGk9ZS5jeCxyPWUuY3ksbz1lLnJ4LGE9ZS5yeSxzPW8qbixsPWEqbjt0Lm1vdmVUbyhpLW8sciksdC5iZXppZXJDdXJ2ZVRvKGktbyxyLWwsaS1zLHItYSxpLHItYSksdC5iZXppZXJDdXJ2ZVRvKGkrcyxyLWEsaStvLHItbCxpK28sciksdC5iZXppZXJDdXJ2ZVRvKGkrbyxyK2wsaStzLHIrYSxpLHIrYSksdC5iZXppZXJDdXJ2ZVRvKGktcyxyK2EsaS1vLHIrbCxpLW8sciksdC5jbG9zZVBhdGgoKX0sZX0oWmEpO0FsLnByb3RvdHlwZS50eXBlPVwiZWxsaXBzZVwiO3ZhciBEbD1NYXRoLlBJLExsPTIqRGwsa2w9TWF0aC5zaW4sUGw9TWF0aC5jb3MsT2w9TWF0aC5hY29zLFJsPU1hdGguYXRhbjIsTmw9TWF0aC5hYnMsRWw9TWF0aC5zcXJ0LHpsPU1hdGgubWF4LEJsPU1hdGgubWluLFZsPTFlLTQ7ZnVuY3Rpb24gRmwodCxlLG4saSxyLG8sYSl7dmFyIHM9dC1uLGw9ZS1pLHU9KGE/bzotbykvRWwocypzK2wqbCksaD11KmwsYz0tdSpzLHA9dCtoLGQ9ZStjLGY9bitoLGc9aStjLHk9KHArZikvMix2PShkK2cpLzIsbT1mLXAsXz1nLWQseD1tKm0rXypfLGI9ci1vLHc9cCpnLWYqZCxTPShfPDA/LTE6MSkqRWwoemwoMCxiKmIqeC13KncpKSxNPSh3Kl8tbSpTKS94LEk9KC13Km0tXypTKS94LFQ9KHcqXyttKlMpL3gsQz0oLXcqbStfKlMpL3gsQT1NLXksRD1JLXYsTD1ULXksaz1DLXY7cmV0dXJuIEEqQStEKkQ+TCpMK2sqayYmKE09VCxJPUMpLHtjeDpNLGN5OkkseDAxOi1oLHkwMTotYyx4MTE6TSooci9iLTEpLHkxMTpJKihyL2ItMSl9fWZ1bmN0aW9uIEdsKHQsZSl7dmFyIG49emwoZS5yLDApLGk9emwoZS5yMHx8MCwwKSxyPW4+MDtpZihyfHxpPjApe2lmKHJ8fChuPWksaT0wKSxpPm4pe3ZhciBvPW47bj1pLGk9b312YXIgYT0hIWUuY2xvY2t3aXNlLHM9ZS5zdGFydEFuZ2xlLGw9ZS5lbmRBbmdsZSx1PVtzLGxdO1RhKHUsIWEpO3ZhciBoPU5sKHVbMF0tdVsxXSksYz1lLmN4LHA9ZS5jeSxkPWUuY29ybmVyUmFkaXVzfHwwLGY9ZS5pbm5lckNvcm5lclJhZGl1c3x8MDtpZihuPlZsKWlmKGg+TGwtVmwpdC5tb3ZlVG8oYytuKlBsKHMpLHArbiprbChzKSksdC5hcmMoYyxwLG4scyxsLCFhKSxpPlZsJiYodC5tb3ZlVG8oYytpKlBsKGwpLHAraSprbChsKSksdC5hcmMoYyxwLGksbCxzLGEpKTtlbHNle3ZhciBnPU5sKG4taSkvMix5PUJsKGcsZCksdj1CbChnLGYpLG09dixfPXkseD1uKlBsKHMpLGI9biprbChzKSx3PWkqUGwobCksUz1pKmtsKGwpLE09dm9pZCAwLEk9dm9pZCAwLFQ9dm9pZCAwLEM9dm9pZCAwO2lmKCh5PlZsfHx2PlZsKSYmKE09bipQbChsKSxJPW4qa2wobCksVD1pKlBsKHMpLEM9aSprbChzKSxoPERsKSl7dmFyIEE9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXt2YXIgbD1uLXQsdT1pLWUsaD1hLXIsYz1zLW8scD1jKmwtaCp1O2lmKCEocCpwPFZsKSlyZXR1cm5bdCsocD0oaCooZS1vKS1jKih0LXIpKS9wKSpsLGUrcCp1XX0oeCxiLFQsQyxNLEksdyxTKTtpZihBKXt2YXIgRD14LUFbMF0sTD1iLUFbMV0saz1NLUFbMF0sUD1JLUFbMV0sTz0xL2tsKE9sKChEKmsrTCpQKS8oRWwoRCpEK0wqTCkqRWwoayprK1AqUCkpKS8yKSxSPUVsKEFbMF0qQVswXStBWzFdKkFbMV0pO209QmwodiwoaS1SKS8oTy0xKSksXz1CbCh5LChuLVIpLyhPKzEpKX19aWYoaD5WbClpZihfPlZsKXt2YXIgTj1GbChULEMseCxiLG4sXyxhKSxFPUZsKE0sSSx3LFMsbixfLGEpO3QubW92ZVRvKGMrTi5jeCtOLngwMSxwK04uY3krTi55MDEpLF88eT90LmFyYyhjK04uY3gscCtOLmN5LF8sUmwoTi55MDEsTi54MDEpLFJsKEUueTAxLEUueDAxKSwhYSk6KHQuYXJjKGMrTi5jeCxwK04uY3ksXyxSbChOLnkwMSxOLngwMSksUmwoTi55MTEsTi54MTEpLCFhKSx0LmFyYyhjLHAsbixSbChOLmN5K04ueTExLE4uY3grTi54MTEpLFJsKEUuY3krRS55MTEsRS5jeCtFLngxMSksIWEpLHQuYXJjKGMrRS5jeCxwK0UuY3ksXyxSbChFLnkxMSxFLngxMSksUmwoRS55MDEsRS54MDEpLCFhKSl9ZWxzZSB0Lm1vdmVUbyhjK3gscCtiKSx0LmFyYyhjLHAsbixzLGwsIWEpO2Vsc2UgdC5tb3ZlVG8oYyt4LHArYik7aWYoaT5WbCYmaD5WbClpZihtPlZsKXtOPUZsKHcsUyxNLEksaSwtbSxhKSxFPUZsKHgsYixULEMsaSwtbSxhKTt0LmxpbmVUbyhjK04uY3grTi54MDEscCtOLmN5K04ueTAxKSxtPHY/dC5hcmMoYytOLmN4LHArTi5jeSxtLFJsKE4ueTAxLE4ueDAxKSxSbChFLnkwMSxFLngwMSksIWEpOih0LmFyYyhjK04uY3gscCtOLmN5LG0sUmwoTi55MDEsTi54MDEpLFJsKE4ueTExLE4ueDExKSwhYSksdC5hcmMoYyxwLGksUmwoTi5jeStOLnkxMSxOLmN4K04ueDExKSxSbChFLmN5K0UueTExLEUuY3grRS54MTEpLGEpLHQuYXJjKGMrRS5jeCxwK0UuY3ksbSxSbChFLnkxMSxFLngxMSksUmwoRS55MDEsRS54MDEpLCFhKSl9ZWxzZSB0LmxpbmVUbyhjK3cscCtTKSx0LmFyYyhjLHAsaSxsLHMsYSk7ZWxzZSB0LmxpbmVUbyhjK3cscCtTKX1lbHNlIHQubW92ZVRvKGMscCk7dC5jbG9zZVBhdGgoKX19dmFyIEhsPWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnIwPTAsdGhpcy5yPTAsdGhpcy5zdGFydEFuZ2xlPTAsdGhpcy5lbmRBbmdsZT0yKk1hdGguUEksdGhpcy5jbG9ja3dpc2U9ITAsdGhpcy5jb3JuZXJSYWRpdXM9MCx0aGlzLmlubmVyQ29ybmVyUmFkaXVzPTB9LFdsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBIbH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7R2wodCxlKX0sZS5wcm90b3R5cGUuaXNaZXJvQXJlYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlLnN0YXJ0QW5nbGU9PT10aGlzLnNoYXBlLmVuZEFuZ2xlfHx0aGlzLnNoYXBlLnI9PT10aGlzLnNoYXBlLnIwfSxlfShaYSk7V2wucHJvdG90eXBlLnR5cGU9XCJzZWN0b3JcIjt2YXIgWWw9ZnVuY3Rpb24oKXt0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMucj0wLHRoaXMucjA9MH0sWGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFlsfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmN4LGk9ZS5jeSxyPTIqTWF0aC5QSTt0Lm1vdmVUbyhuK2UucixpKSx0LmFyYyhuLGksZS5yLDAsciwhMSksdC5tb3ZlVG8obitlLnIwLGkpLHQuYXJjKG4saSxlLnIwLDAsciwhMCl9LGV9KFphKTtmdW5jdGlvbiBVbCh0LGUsbixpLHIsbyxhKXt2YXIgcz0uNSoobi10KSxsPS41KihpLWUpO3JldHVybigyKihlLW4pK3MrbCkqYSsoLTMqKGUtbiktMipzLWwpKm8rcypyK2V9ZnVuY3Rpb24gWmwodCxlLG4pe3ZhciBpPWUuc21vb3RoLHI9ZS5wb2ludHM7aWYociYmci5sZW5ndGg+PTIpe2lmKGkmJlwic3BsaW5lXCIhPT1pKXt2YXIgbz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvLGEscyxsPVtdLHU9W10saD1bXSxjPVtdO2lmKGkpe2E9WzEvMCwxLzBdLHM9Wy0xLzAsLTEvMF07Zm9yKHZhciBwPTAsZD10Lmxlbmd0aDtwPGQ7cCsrKU50KGEsYSx0W3BdKSxFdChzLHMsdFtwXSk7TnQoYSxhLGlbMF0pLEV0KHMscyxpWzFdKX1mb3IocD0wLGQ9dC5sZW5ndGg7cDxkO3ArKyl7dmFyIGY9dFtwXTtpZihuKXI9dFtwP3AtMTpkLTFdLG89dFsocCsxKSVkXTtlbHNle2lmKDA9PT1wfHxwPT09ZC0xKXtsLnB1c2gobXQodFtwXSkpO2NvbnRpbnVlfXI9dFtwLTFdLG89dFtwKzFdfXd0KHUsbyxyKSxDdCh1LHUsZSk7dmFyIGc9RHQoZixyKSx5PUR0KGYsbyksdj1nK3k7MCE9PXYmJihnLz12LHkvPXYpLEN0KGgsdSwtZyksQ3QoYyx1LHkpO3ZhciBtPXh0KFtdLGYsaCksXz14dChbXSxmLGMpO2kmJihFdChtLG0sYSksTnQobSxtLHMpLEV0KF8sXyxhKSxOdChfLF8scykpLGwucHVzaChtKSxsLnB1c2goXyl9cmV0dXJuIG4mJmwucHVzaChsLnNoaWZ0KCkpLGx9KHIsaSxuLGUuc21vb3RoQ29uc3RyYWludCk7dC5tb3ZlVG8oclswXVswXSxyWzBdWzFdKTtmb3IodmFyIGE9ci5sZW5ndGgscz0wO3M8KG4/YTphLTEpO3MrKyl7dmFyIGw9b1syKnNdLHU9b1syKnMrMV0saD1yWyhzKzEpJWFdO3QuYmV6aWVyQ3VydmVUbyhsWzBdLGxbMV0sdVswXSx1WzFdLGhbMF0saFsxXSl9fWVsc2V7XCJzcGxpbmVcIj09PWkmJihyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9W10scj0wLG89MTtvPG47bysrKXIrPUR0KHRbby0xXSx0W29dKTt2YXIgYT1yLzI7Zm9yKGE9YTxuP246YSxvPTA7bzxhO28rKyl7dmFyIHM9by8oYS0xKSooZT9uOm4tMSksbD1NYXRoLmZsb29yKHMpLHU9cy1sLGg9dm9pZCAwLGM9dFtsJW5dLHA9dm9pZCAwLGQ9dm9pZCAwO2U/KGg9dFsobC0xK24pJW5dLHA9dFsobCsxKSVuXSxkPXRbKGwrMiklbl0pOihoPXRbMD09PWw/bDpsLTFdLHA9dFtsPm4tMj9uLTE6bCsxXSxkPXRbbD5uLTM/bi0xOmwrMl0pO3ZhciBmPXUqdSxnPXUqZjtpLnB1c2goW1VsKGhbMF0sY1swXSxwWzBdLGRbMF0sdSxmLGcpLFVsKGhbMV0sY1sxXSxwWzFdLGRbMV0sdSxmLGcpXSl9cmV0dXJuIGl9KHIsbikpLHQubW92ZVRvKHJbMF1bMF0sclswXVsxXSk7cz0xO2Zvcih2YXIgYz1yLmxlbmd0aDtzPGM7cysrKXQubGluZVRvKHJbc11bMF0scltzXVsxXSl9biYmdC5jbG9zZVBhdGgoKX19WGwucHJvdG90eXBlLnR5cGU9XCJyaW5nXCI7dmFyIGpsPWZ1bmN0aW9uKCl7dGhpcy5wb2ludHM9bnVsbCx0aGlzLnNtb290aD0wLHRoaXMuc21vb3RoQ29uc3RyYWludD1udWxsfSxxbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgamx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe1psKHQsZSwhMCl9LGV9KFphKTtxbC5wcm90b3R5cGUudHlwZT1cInBvbHlnb25cIjt2YXIgS2w9ZnVuY3Rpb24oKXt0aGlzLnBvaW50cz1udWxsLHRoaXMucGVyY2VudD0xLHRoaXMuc21vb3RoPTAsdGhpcy5zbW9vdGhDb25zdHJhaW50PW51bGx9LCRsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZTpcIiMwMDBcIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEtsfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXtabCh0LGUsITEpfSxlfShaYSk7JGwucHJvdG90eXBlLnR5cGU9XCJwb2x5bGluZVwiO3ZhciBKbD17fSxRbD1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLnBlcmNlbnQ9MX0sdHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOlwiIzAwMFwiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUWx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvO2lmKHRoaXMuc3ViUGl4ZWxPcHRpbWl6ZSl7dmFyIGE9dHMoSmwsZSx0aGlzLnN0eWxlKTtuPWEueDEsaT1hLnkxLHI9YS54MixvPWEueTJ9ZWxzZSBuPWUueDEsaT1lLnkxLHI9ZS54MixvPWUueTI7dmFyIHM9ZS5wZXJjZW50OzAhPT1zJiYodC5tb3ZlVG8obixpKSxzPDEmJihyPW4qKDEtcykrcipzLG89aSooMS1zKStvKnMpLHQubGluZVRvKHIsbykpfSxlLnByb3RvdHlwZS5wb2ludEF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2hhcGU7cmV0dXJuW2UueDEqKDEtdCkrZS54Mip0LGUueTEqKDEtdCkrZS55Mip0XX0sZX0oWmEpO3R1LnByb3RvdHlwZS50eXBlPVwibGluZVwiO3ZhciBldT1bXSxudT1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLmNweDE9MCx0aGlzLmNweTE9MCx0aGlzLnBlcmNlbnQ9MX07ZnVuY3Rpb24gaXUodCxlLG4pe3ZhciBpPXQuY3B4MixyPXQuY3B5MjtyZXR1cm4gbnVsbD09PWl8fG51bGw9PT1yP1sobj9ObzpSbykodC54MSx0LmNweDEsdC5jcHgyLHQueDIsZSksKG4/Tm86Um8pKHQueTEsdC5jcHkxLHQuY3B5Mix0LnkyLGUpXTpbKG4/SG86R28pKHQueDEsdC5jcHgxLHQueDIsZSksKG4/SG86R28pKHQueTEsdC5jcHkxLHQueTIsZSldfXZhciBydT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6XCIjMDAwXCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBudX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS54MSxpPWUueTEscj1lLngyLG89ZS55MixhPWUuY3B4MSxzPWUuY3B5MSxsPWUuY3B4Mix1PWUuY3B5MixoPWUucGVyY2VudDswIT09aCYmKHQubW92ZVRvKG4saSksbnVsbD09bHx8bnVsbD09dT8oaDwxJiYoWW8obixhLHIsaCxldSksYT1ldVsxXSxyPWV1WzJdLFlvKGkscyxvLGgsZXUpLHM9ZXVbMV0sbz1ldVsyXSksdC5xdWFkcmF0aWNDdXJ2ZVRvKGEscyxyLG8pKTooaDwxJiYoQm8obixhLGwscixoLGV1KSxhPWV1WzFdLGw9ZXVbMl0scj1ldVszXSxCbyhpLHMsdSxvLGgsZXUpLHM9ZXVbMV0sdT1ldVsyXSxvPWV1WzNdKSx0LmJlemllckN1cnZlVG8oYSxzLGwsdSxyLG8pKSl9LGUucHJvdG90eXBlLnBvaW50QXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGl1KHRoaXMuc2hhcGUsdCwhMSl9LGUucHJvdG90eXBlLnRhbmdlbnRBdD1mdW5jdGlvbih0KXt2YXIgZT1pdSh0aGlzLnNoYXBlLHQsITApO3JldHVybiBBdChlLGUpfSxlfShaYSk7cnUucHJvdG90eXBlLnR5cGU9XCJiZXppZXItY3VydmVcIjt2YXIgb3U9ZnVuY3Rpb24oKXt0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMucj0wLHRoaXMuc3RhcnRBbmdsZT0wLHRoaXMuZW5kQW5nbGU9MipNYXRoLlBJLHRoaXMuY2xvY2t3aXNlPSEwfSxhdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6XCIjMDAwXCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvdX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jeCxpPWUuY3kscj1NYXRoLm1heChlLnIsMCksbz1lLnN0YXJ0QW5nbGUsYT1lLmVuZEFuZ2xlLHM9ZS5jbG9ja3dpc2UsbD1NYXRoLmNvcyhvKSx1PU1hdGguc2luKG8pO3QubW92ZVRvKGwqcituLHUqcitpKSx0LmFyYyhuLGkscixvLGEsIXMpfSxlfShaYSk7YXUucHJvdG90eXBlLnR5cGU9XCJhcmNcIjt2YXIgc3U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPVwiY29tcG91bmRcIixlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX3VwZGF0ZVBhdGhEaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzLGU9dGhpcy5zaGFwZUNoYW5nZWQoKSxuPTA7bjx0Lmxlbmd0aDtuKyspZT1lfHx0W25dLnNoYXBlQ2hhbmdlZCgpO2UmJnRoaXMuZGlydHlTaGFwZSgpfSxlLnByb3RvdHlwZS5iZWZvcmVCcnVzaD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVBhdGhEaXJ0eSgpO2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzfHxbXSxlPXRoaXMuZ2V0R2xvYmFsU2NhbGUoKSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5wYXRofHx0W25dLmNyZWF0ZVBhdGhQcm94eSgpLHRbbl0ucGF0aC5zZXRTY2FsZShlWzBdLGVbMV0sdFtuXS5zZWdtZW50SWdub3JlVGhyZXNob2xkKX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUucGF0aHN8fFtdLGk9MDtpPG4ubGVuZ3RoO2krKyluW2ldLmJ1aWxkUGF0aCh0LG5baV0uc2hhcGUsITApfSxlLnByb3RvdHlwZS5hZnRlckJydXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHN8fFtdLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLnBhdGhVcGRhdGVkKCl9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGVQYXRoRGlydHkuY2FsbCh0aGlzKSxaYS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0LmNhbGwodGhpcyl9LGV9KFphKSxsdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5jb2xvclN0b3BzPXR8fFtdfXJldHVybiB0LnByb3RvdHlwZS5hZGRDb2xvclN0b3A9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnQsY29sb3I6ZX0pfSx0fSgpLHV1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvLGEpe3ZhciBzPXQuY2FsbCh0aGlzLG8pfHx0aGlzO3JldHVybiBzLng9bnVsbD09ZT8wOmUscy55PW51bGw9PW4/MDpuLHMueDI9bnVsbD09aT8xOmkscy55Mj1udWxsPT1yPzA6cixzLnR5cGU9XCJsaW5lYXJcIixzLmdsb2JhbD1hfHwhMSxzfXJldHVybiBuKGUsdCksZX0obHUpLGh1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXt2YXIgYT10LmNhbGwodGhpcyxyKXx8dGhpcztyZXR1cm4gYS54PW51bGw9PWU/LjU6ZSxhLnk9bnVsbD09bj8uNTpuLGEucj1udWxsPT1pPy41OmksYS50eXBlPVwicmFkaWFsXCIsYS5nbG9iYWw9b3x8ITEsYX1yZXR1cm4gbihlLHQpLGV9KGx1KSxjdT1bMCwwXSxwdT1bMCwwXSxkdT1uZXcgSW4sZnU9bmV3IEluLGd1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2Nvcm5lcnM9W10sdGhpcy5fYXhlcz1bXSx0aGlzLl9vcmlnaW49WzAsMF07Zm9yKHZhciBuPTA7bjw0O24rKyl0aGlzLl9jb3JuZXJzW25dPW5ldyBJbjtmb3Iobj0wO248MjtuKyspdGhpcy5fYXhlc1tuXT1uZXcgSW47dCYmdGhpcy5mcm9tQm91bmRpbmdSZWN0KHQsZSl9cmV0dXJuIHQucHJvdG90eXBlLmZyb21Cb3VuZGluZ1JlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb3JuZXJzLGk9dGhpcy5fYXhlcyxyPXQueCxvPXQueSxhPXIrdC53aWR0aCxzPW8rdC5oZWlnaHQ7aWYoblswXS5zZXQocixvKSxuWzFdLnNldChhLG8pLG5bMl0uc2V0KGEscyksblszXS5zZXQocixzKSxlKWZvcih2YXIgbD0wO2w8NDtsKyspbltsXS50cmFuc2Zvcm0oZSk7SW4uc3ViKGlbMF0sblsxXSxuWzBdKSxJbi5zdWIoaVsxXSxuWzNdLG5bMF0pLGlbMF0ubm9ybWFsaXplKCksaVsxXS5ub3JtYWxpemUoKTtmb3IobD0wO2w8MjtsKyspdGhpcy5fb3JpZ2luW2xdPWlbbF0uZG90KG5bMF0pfSx0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj0hMCxpPSFlO3JldHVybiBkdS5zZXQoMS8wLDEvMCksZnUuc2V0KDAsMCksIXRoaXMuX2ludGVyc2VjdENoZWNrT25lU2lkZSh0aGlzLHQsZHUsZnUsaSwxKSYmKG49ITEsaSl8fCF0aGlzLl9pbnRlcnNlY3RDaGVja09uZVNpZGUodCx0aGlzLGR1LGZ1LGksLTEpJiYobj0hMSxpKXx8aXx8SW4uY29weShlLG4/ZHU6ZnUpLG59LHQucHJvdG90eXBlLl9pbnRlcnNlY3RDaGVja09uZVNpZGU9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2Zvcih2YXIgYT0hMCxzPTA7czwyO3MrKyl7dmFyIGw9dGhpcy5fYXhlc1tzXTtpZih0aGlzLl9nZXRQcm9qTWluTWF4T25BeGlzKHMsdC5fY29ybmVycyxjdSksdGhpcy5fZ2V0UHJvak1pbk1heE9uQXhpcyhzLGUuX2Nvcm5lcnMscHUpLGN1WzFdPHB1WzBdfHxjdVswXT5wdVsxXSl7aWYoYT0hMSxyKXJldHVybiBhO3ZhciB1PU1hdGguYWJzKHB1WzBdLWN1WzFdKSxoPU1hdGguYWJzKGN1WzBdLXB1WzFdKTtNYXRoLm1pbih1LGgpPmkubGVuKCkmJih1PGg/SW4uc2NhbGUoaSxsLC11Km8pOkluLnNjYWxlKGksbCxoKm8pKX1lbHNlIGlmKG4pe3U9TWF0aC5hYnMocHVbMF0tY3VbMV0pLGg9TWF0aC5hYnMoY3VbMF0tcHVbMV0pO01hdGgubWluKHUsaCk8bi5sZW4oKSYmKHU8aD9Jbi5zY2FsZShuLGwsdSpvKTpJbi5zY2FsZShuLGwsLWgqbykpfX1yZXR1cm4gYX0sdC5wcm90b3R5cGUuX2dldFByb2pNaW5NYXhPbkF4aXM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLl9heGVzW3RdLHI9dGhpcy5fb3JpZ2luLG89ZVswXS5kb3QoaSkrclt0XSxhPW8scz1vLGw9MTtsPGUubGVuZ3RoO2wrKyl7dmFyIHU9ZVtsXS5kb3QoaSkrclt0XTthPU1hdGgubWluKHUsYSkscz1NYXRoLm1heCh1LHMpfW5bMF09YSxuWzFdPXN9LHR9KCkseXU9W10sdnU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5ub3RDbGVhcj0hMCxlLmluY3JlbWVudGFsPSEwLGUuX2Rpc3BsYXlhYmxlcz1bXSxlLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W10sZS5fY3Vyc29yPTAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LGUucHJvdG90eXBlLnVzZVN0eWxlPWZ1bmN0aW9uKCl7dGhpcy5zdHlsZT17fX0sZS5wcm90b3R5cGUuZ2V0Q3Vyc29yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnNvcn0sZS5wcm90b3R5cGUuaW5uZXJBZnRlckJydXNoPWZ1bmN0aW9uKCl7dGhpcy5fY3Vyc29yPXRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGh9LGUucHJvdG90eXBlLmNsZWFyRGlzcGxheWJsZXM9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwbGF5YWJsZXM9W10sdGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdLHRoaXMuX2N1cnNvcj0wLHRoaXMubWFya1JlZHJhdygpLHRoaXMubm90Q2xlYXI9ITF9LGUucHJvdG90eXBlLmNsZWFyVGVtcG9yYWxEaXNwbGF5YWJsZXM9ZnVuY3Rpb24oKXt0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W119LGUucHJvdG90eXBlLmFkZERpc3BsYXlhYmxlPWZ1bmN0aW9uKHQsZSl7ZT90aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMucHVzaCh0KTp0aGlzLl9kaXNwbGF5YWJsZXMucHVzaCh0KSx0aGlzLm1hcmtSZWRyYXcoKX0sZS5wcm90b3R5cGUuYWRkRGlzcGxheWFibGVzPWZ1bmN0aW9uKHQsZSl7ZT1lfHwhMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLmFkZERpc3BsYXlhYmxlKHRbbl0sZSl9LGUucHJvdG90eXBlLmdldERpc3BsYXlhYmxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwbGF5YWJsZXN9LGUucHJvdG90eXBlLmdldFRlbXBvcmFsRGlzcGxheWFibGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc30sZS5wcm90b3R5cGUuZWFjaFBlbmRpbmdEaXNwbGF5YWJsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY3Vyc29yO2U8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtlKyspdCYmdCh0aGlzLl9kaXNwbGF5YWJsZXNbZV0pO2ZvcihlPTA7ZTx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1tlXSl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlVHJhbnNmb3JtKCk7Zm9yKHZhciB0PXRoaXMuX2N1cnNvcjt0PHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7dCsrKXsoZT10aGlzLl9kaXNwbGF5YWJsZXNbdF0pLnBhcmVudD10aGlzLGUudXBkYXRlKCksZS5wYXJlbnQ9bnVsbH1mb3IodD0wO3Q8dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLmxlbmd0aDt0Kyspe3ZhciBlOyhlPXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1t0XSkucGFyZW50PXRoaXMsZS51cGRhdGUoKSxlLnBhcmVudD1udWxsfX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3JlY3Qpe2Zvcih2YXIgdD1uZXcgUm4oMS8wLDEvMCwtMS8wLC0xLzApLGU9MDtlPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9kaXNwbGF5YWJsZXNbZV0saT1uLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7bi5uZWVkTG9jYWxUcmFuc2Zvcm0oKSYmaS5hcHBseVRyYW5zZm9ybShuLmdldExvY2FsVHJhbnNmb3JtKHl1KSksdC51bmlvbihpKX10aGlzLl9yZWN0PXR9cmV0dXJuIHRoaXMuX3JlY3R9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0LGUpO2lmKHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkuY29udGFpbihuWzBdLG5bMV0pKWZvcih2YXIgaT0wO2k8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtpKyspe2lmKHRoaXMuX2Rpc3BsYXlhYmxlc1tpXS5jb250YWluKHQsZSkpcmV0dXJuITB9cmV0dXJuITF9LGV9KHhvKSxtdT1NYXRoLm1heCxfdT1NYXRoLm1pbix4dT17fTtmdW5jdGlvbiBidSh0KXtyZXR1cm4gWmEuZXh0ZW5kKHQpfXZhciB3dT1mdW5jdGlvbih0LGUpe3ZhciBpPVNsKHQsZSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4uYXBwbHlUcmFuc2Zvcm09aS5hcHBseVRyYW5zZm9ybSxuLmJ1aWxkUGF0aD1pLmJ1aWxkUGF0aCxufXJldHVybiBuKGUsdCksZX0oYmwpfTtmdW5jdGlvbiBTdSh0LGUpe3JldHVybiB3dSh0LGUpfWZ1bmN0aW9uIE11KHQsZSl7eHVbdF09ZX1mdW5jdGlvbiBJdSh0KXtpZih4dS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4geHVbdF19ZnVuY3Rpb24gVHUodCxlLG4saSl7dmFyIHI9TWwodCxlKTtyZXR1cm4gbiYmKFwiY2VudGVyXCI9PT1pJiYobj1BdShuLHIuZ2V0Qm91bmRpbmdSZWN0KCkpKSxMdShyLG4pKSxyfWZ1bmN0aW9uIEN1KHQsZSxuKXt2YXIgaT1uZXcgSmEoe3N0eWxlOntpbWFnZTp0LHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxvbmxvYWQ6ZnVuY3Rpb24odCl7aWYoXCJjZW50ZXJcIj09PW4pe3ZhciByPXt3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH07aS5zZXRTdHlsZShBdShlLHIpKX19fSk7cmV0dXJuIGl9ZnVuY3Rpb24gQXUodCxlKXt2YXIgbixpPWUud2lkdGgvZS5oZWlnaHQscj10LmhlaWdodCppO3JldHVybiBuPXI8PXQud2lkdGg/dC5oZWlnaHQ6KHI9dC53aWR0aCkvaSx7eDp0LngrdC53aWR0aC8yLXIvMix5OnQueSt0LmhlaWdodC8yLW4vMix3aWR0aDpyLGhlaWdodDpufX12YXIgRHU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT10Lmxlbmd0aCxyPTA7cjxpO3IrKyl7dmFyIG89dFtyXTtvLnBhdGh8fG8uY3JlYXRlUGF0aFByb3h5KCksby5zaGFwZUNoYW5nZWQoKSYmby5idWlsZFBhdGgoby5wYXRoLG8uc2hhcGUsITApLG4ucHVzaChvLnBhdGgpfXZhciBhPW5ldyBaYShlKTtyZXR1cm4gYS5jcmVhdGVQYXRoUHJveHkoKSxhLmJ1aWxkUGF0aD1mdW5jdGlvbih0KXtpZih3bCh0KSl7dC5hcHBlbmRQYXRoKG4pO3ZhciBlPXQuZ2V0Q29udGV4dCgpO2UmJnQucmVidWlsZFBhdGgoZSwxKX19LGF9O2Z1bmN0aW9uIEx1KHQsZSl7aWYodC5hcHBseVRyYW5zZm9ybSl7dmFyIG49dC5nZXRCb3VuZGluZ1JlY3QoKS5jYWxjdWxhdGVUcmFuc2Zvcm0oZSk7dC5hcHBseVRyYW5zZm9ybShuKX19dmFyIGt1PW5zO2Z1bmN0aW9uIFB1KHQsZSxuLGkscixvLGEpe3ZhciBzLGw9ITE7XCJmdW5jdGlvblwiPT10eXBlb2Ygcj8oYT1vLG89cixyPW51bGwpOlgocikmJihvPXIuY2IsYT1yLmR1cmluZyxsPXIuaXNGcm9tLHM9ci5yZW1vdmVPcHQscj1yLmRhdGFJbmRleCk7dmFyIHUsaD1cInVwZGF0ZVwiPT09dCxjPVwicmVtb3ZlXCI9PT10O2lmKGkmJmkuZWNNb2RlbCl7dmFyIHA9aS5lY01vZGVsLmdldFVwZGF0ZVBheWxvYWQoKTt1PXAmJnAuYW5pbWF0aW9ufXZhciBkPWkmJmkuaXNBbmltYXRpb25FbmFibGVkKCk7aWYoY3x8ZS5zdG9wQW5pbWF0aW9uKFwicmVtb3ZlXCIpLGQpe3ZhciBmPXZvaWQgMCxnPXZvaWQgMCx5PXZvaWQgMDt1PyhmPXUuZHVyYXRpb258fDAsZz11LmVhc2luZ3x8XCJjdWJpY091dFwiLHk9dS5kZWxheXx8MCk6Yz8oZj10dCgocz1zfHx7fSkuZHVyYXRpb24sMjAwKSxnPXR0KHMuZWFzaW5nLFwiY3ViaWNPdXRcIikseT0wKTooZj1pLmdldFNoYWxsb3coaD9cImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlXCI6XCJhbmltYXRpb25EdXJhdGlvblwiKSxnPWkuZ2V0U2hhbGxvdyhoP1wiYW5pbWF0aW9uRWFzaW5nVXBkYXRlXCI6XCJhbmltYXRpb25FYXNpbmdcIikseT1pLmdldFNoYWxsb3coaD9cImFuaW1hdGlvbkRlbGF5VXBkYXRlXCI6XCJhbmltYXRpb25EZWxheVwiKSksXCJmdW5jdGlvblwiPT10eXBlb2YgeSYmKHk9eShyLGkuZ2V0QW5pbWF0aW9uRGVsYXlQYXJhbXM/aS5nZXRBbmltYXRpb25EZWxheVBhcmFtcyhlLHIpOm51bGwpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiYoZj1mKHIpKSxmPjA/bD9lLmFuaW1hdGVGcm9tKG4se2R1cmF0aW9uOmYsZGVsYXk6eXx8MCxlYXNpbmc6Zyxkb25lOm8sZm9yY2U6ISFvfHwhIWEsc2NvcGU6dCxkdXJpbmc6YX0pOmUuYW5pbWF0ZVRvKG4se2R1cmF0aW9uOmYsZGVsYXk6eXx8MCxlYXNpbmc6Zyxkb25lOm8sZm9yY2U6ISFvfHwhIWEsc2V0VG9GaW5hbDohMCxzY29wZTp0LGR1cmluZzphfSk6KGUuc3RvcEFuaW1hdGlvbigpLCFsJiZlLmF0dHIobiksbyYmbygpKX1lbHNlIGUuc3RvcEFuaW1hdGlvbigpLCFsJiZlLmF0dHIobiksYSYmYSgxKSxvJiZvKCl9ZnVuY3Rpb24gT3UodCxlLG4saSxyLG8pe1B1KFwidXBkYXRlXCIsdCxlLG4saSxyLG8pfWZ1bmN0aW9uIFJ1KHQsZSxuLGkscixvKXtQdShcImluaXRcIix0LGUsbixpLHIsbyl9ZnVuY3Rpb24gTnUodCxlLG4saSxyLG8pe0J1KHQpfHxQdShcInJlbW92ZVwiLHQsZSxuLGkscixvKX1mdW5jdGlvbiBFdSh0LGUsbixpKXt0LnJlbW92ZVRleHRDb250ZW50KCksdC5yZW1vdmVUZXh0R3VpZGVMaW5lKCksTnUodCx7c3R5bGU6e29wYWNpdHk6MH19LGUsbixpKX1mdW5jdGlvbiB6dSh0LGUsbil7ZnVuY3Rpb24gaSgpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCl9dC5pc0dyb3VwP3QudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8RXUodCxlLG4saSl9KSk6RXUodCxlLG4saSl9ZnVuY3Rpb24gQnUodCl7aWYoIXQuX196cilyZXR1cm4hMDtmb3IodmFyIGU9MDtlPHQuYW5pbWF0b3JzLmxlbmd0aDtlKyspe2lmKFwicmVtb3ZlXCI9PT10LmFuaW1hdG9yc1tlXS5zY29wZSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBWdSh0LGUpe2Zvcih2YXIgbj1nZShbXSk7dCYmdCE9PWU7KXZlKG4sdC5nZXRMb2NhbFRyYW5zZm9ybSgpLG4pLHQ9dC5wYXJlbnQ7cmV0dXJuIG59ZnVuY3Rpb24gRnUodCxlLG4pe3JldHVybiBlJiYhayhlKSYmKGU9a2UuZ2V0TG9jYWxUcmFuc2Zvcm0oZSkpLG4mJihlPWJlKFtdLGUpKSxSdChbXSx0LGUpfWZ1bmN0aW9uIEd1KHQsZSxuKXt2YXIgaT0wPT09ZVs0XXx8MD09PWVbNV18fDA9PT1lWzBdPzE6TWF0aC5hYnMoMiplWzRdL2VbMF0pLHI9MD09PWVbNF18fDA9PT1lWzVdfHwwPT09ZVsyXT8xOk1hdGguYWJzKDIqZVs0XS9lWzJdKSxvPVtcImxlZnRcIj09PXQ/LWk6XCJyaWdodFwiPT09dD9pOjAsXCJ0b3BcIj09PXQ/LXI6XCJib3R0b21cIj09PXQ/cjowXTtyZXR1cm4gbz1GdShvLGUsbiksTWF0aC5hYnMob1swXSk+TWF0aC5hYnMob1sxXSk/b1swXT4wP1wicmlnaHRcIjpcImxlZnRcIjpvWzFdPjA/XCJib3R0b21cIjpcInRvcFwifWZ1bmN0aW9uIEh1KHQpe3JldHVybiF0LmlzR3JvdXB9ZnVuY3Rpb24gV3UodCxlLG4pe2lmKHQmJmUpe3ZhciBpLHI9KGk9e30sdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7SHUodCkmJnQuYW5pZCYmKGlbdC5hbmlkXT10KX0pKSxpKTtlLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZihIdSh0KSYmdC5hbmlkKXt2YXIgZT1yW3QuYW5pZF07aWYoZSl7dmFyIGk9byh0KTt0LmF0dHIobyhlKSksT3UodCxpLG4seXModCkuZGF0YUluZGV4KX19fSkpfWZ1bmN0aW9uIG8odCl7dmFyIGU9e3g6dC54LHk6dC55LHJvdGF0aW9uOnQucm90YXRpb259O3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dC5zaGFwZX0odCkmJihlLnNoYXBlPUkoe30sdC5zaGFwZSkpLGV9fWZ1bmN0aW9uIFl1KHQsZSl7cmV0dXJuIE8odCwoZnVuY3Rpb24odCl7dmFyIG49dFswXTtuPW11KG4sZS54KSxuPV91KG4sZS54K2Uud2lkdGgpO3ZhciBpPXRbMV07cmV0dXJuIGk9bXUoaSxlLnkpLFtuLGk9X3UoaSxlLnkrZS5oZWlnaHQpXX0pKX1mdW5jdGlvbiBYdSh0LGUpe3ZhciBuPW11KHQueCxlLngpLGk9X3UodC54K3Qud2lkdGgsZS54K2Uud2lkdGgpLHI9bXUodC55LGUueSksbz1fdSh0LnkrdC5oZWlnaHQsZS55K2UuaGVpZ2h0KTtpZihpPj1uJiZvPj1yKXJldHVybnt4Om4seTpyLHdpZHRoOmktbixoZWlnaHQ6by1yfX1mdW5jdGlvbiBVdSh0LGUsbil7dmFyIGk9SSh7cmVjdEhvdmVyOiEwfSxlKSxyPWkuc3R5bGU9e3N0cm9rZU5vU2NhbGU6ITB9O2lmKG49bnx8e3g6LTEseTotMSx3aWR0aDoyLGhlaWdodDoyfSx0KXJldHVybiAwPT09dC5pbmRleE9mKFwiaW1hZ2U6Ly9cIik/KHIuaW1hZ2U9dC5zbGljZSg4KSxUKHIsbiksbmV3IEphKGkpKTpUdSh0LnJlcGxhY2UoXCJwYXRoOi8vXCIsXCJcIiksaSxuLFwiY2VudGVyXCIpfWZ1bmN0aW9uIFp1KHQsZSxuLGkscil7Zm9yKHZhciBvPTAsYT1yW3IubGVuZ3RoLTFdO288ci5sZW5ndGg7bysrKXt2YXIgcz1yW29dO2lmKGp1KHQsZSxuLGksc1swXSxzWzFdLGFbMF0sYVsxXSkpcmV0dXJuITA7YT1zfX1mdW5jdGlvbiBqdSh0LGUsbixpLHIsbyxhLHMpe3ZhciBsLHU9bi10LGg9aS1lLGM9YS1yLHA9cy1vLGQ9cXUoYyxwLHUsaCk7aWYoKGw9ZCk8PTFlLTYmJmw+PS0xZS02KXJldHVybiExO3ZhciBmPXQtcixnPWUtbyx5PXF1KGYsZyx1LGgpL2Q7aWYoeTwwfHx5PjEpcmV0dXJuITE7dmFyIHY9cXUoZixnLGMscCkvZDtyZXR1cm4hKHY8MHx8dj4xKX1mdW5jdGlvbiBxdSh0LGUsbixpKXtyZXR1cm4gdCppLW4qZX1NdShcImNpcmNsZVwiLFRsKSxNdShcImVsbGlwc2VcIixBbCksTXUoXCJzZWN0b3JcIixXbCksTXUoXCJyaW5nXCIsWGwpLE11KFwicG9seWdvblwiLHFsKSxNdShcInBvbHlsaW5lXCIsJGwpLE11KFwicmVjdFwiLG9zKSxNdShcImxpbmVcIix0dSksTXUoXCJiZXppZXJDdXJ2ZVwiLHJ1KSxNdShcImFyY1wiLGF1KTt2YXIgS3U9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZXh0ZW5kU2hhcGU6YnUsZXh0ZW5kUGF0aDpTdSxyZWdpc3RlclNoYXBlOk11LGdldFNoYXBlQ2xhc3M6SXUsbWFrZVBhdGg6VHUsbWFrZUltYWdlOkN1LG1lcmdlUGF0aDpEdSxyZXNpemVQYXRoOkx1LHN1YlBpeGVsT3B0aW1pemVMaW5lOmZ1bmN0aW9uKHQpe3JldHVybiB0cyh0LnNoYXBlLHQuc2hhcGUsdC5zdHlsZSksdH0sc3ViUGl4ZWxPcHRpbWl6ZVJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGVzKHQuc2hhcGUsdC5zaGFwZSx0LnN0eWxlKSx0fSxzdWJQaXhlbE9wdGltaXplOmt1LHVwZGF0ZVByb3BzOk91LGluaXRQcm9wczpSdSxyZW1vdmVFbGVtZW50Ok51LHJlbW92ZUVsZW1lbnRXaXRoRmFkZU91dDp6dSxpc0VsZW1lbnRSZW1vdmVkOkJ1LGdldFRyYW5zZm9ybTpWdSxhcHBseVRyYW5zZm9ybTpGdSx0cmFuc2Zvcm1EaXJlY3Rpb246R3UsZ3JvdXBUcmFuc2l0aW9uOld1LGNsaXBQb2ludHNCeVJlY3Q6WXUsY2xpcFJlY3RCeVJlY3Q6WHUsY3JlYXRlSWNvbjpVdSxsaW5lUG9seWdvbkludGVyc2VjdDpadSxsaW5lTGluZUludGVyc2VjdDpqdSxHcm91cDp6aSxJbWFnZTpKYSxUZXh0OmxzLENpcmNsZTpUbCxFbGxpcHNlOkFsLFNlY3RvcjpXbCxSaW5nOlhsLFBvbHlnb246cWwsUG9seWxpbmU6JGwsUmVjdDpvcyxMaW5lOnR1LEJlemllckN1cnZlOnJ1LEFyYzphdSxJbmNyZW1lbnRhbERpc3BsYXlhYmxlOnZ1LENvbXBvdW5kUGF0aDpzdSxMaW5lYXJHcmFkaWVudDp1dSxSYWRpYWxHcmFkaWVudDpodSxCb3VuZGluZ1JlY3Q6Um4sT3JpZW50ZWRCb3VuZGluZ1JlY3Q6Z3UsUG9pbnQ6SW4sUGF0aDpaYX0pLCR1PXt9O2Z1bmN0aW9uIEp1KHQsZSl7Zm9yKHZhciBuPTA7bjx4cy5sZW5ndGg7bisrKXt2YXIgaT14c1tuXSxyPWVbaV0sbz10LmVuc3VyZVN0YXRlKGkpO28uc3R5bGU9by5zdHlsZXx8e30sby5zdHlsZS50ZXh0PXJ9dmFyIGE9dC5jdXJyZW50U3RhdGVzLnNsaWNlKCk7dC5jbGVhclN0YXRlcyghMCksdC5zZXRTdHlsZSh7dGV4dDplLm5vcm1hbH0pLHQudXNlU3RhdGVzKGEsITApfWZ1bmN0aW9uIFF1KHQsZSxuKXt2YXIgaSxyPXQubGFiZWxGZXRjaGVyLG89dC5sYWJlbERhdGFJbmRleCxhPXQubGFiZWxEaW1JbmRleCxzPWUubm9ybWFsO3ImJihpPXIuZ2V0Rm9ybWF0dGVkTGFiZWwobyxcIm5vcm1hbFwiLG51bGwsYSxzJiZzLmdldChcImZvcm1hdHRlclwiKSxudWxsIT1uP3tpbnRlcnBvbGF0ZWRWYWx1ZTpufTpudWxsKSksbnVsbD09aSYmKGk9Ryh0LmRlZmF1bHRUZXh0KT90LmRlZmF1bHRUZXh0KG8sdCxuKTp0LmRlZmF1bHRUZXh0KTtmb3IodmFyIGw9e25vcm1hbDppfSx1PTA7dTx4cy5sZW5ndGg7dSsrKXt2YXIgaD14c1t1XSxjPWVbaF07bFtoXT10dChyP3IuZ2V0Rm9ybWF0dGVkTGFiZWwobyxoLG51bGwsYSxjJiZjLmdldChcImZvcm1hdHRlclwiKSk6bnVsbCxpKX1yZXR1cm4gbH1mdW5jdGlvbiB0aCh0LGUsbixpKXtuPW58fCR1O2Zvcih2YXIgcj10IGluc3RhbmNlb2YgbHMsbz0hMSxhPTA7YTxicy5sZW5ndGg7YSsrKXtpZigocD1lW2JzW2FdXSkmJnAuZ2V0U2hhbGxvdyhcInNob3dcIikpe289ITA7YnJlYWt9fXZhciBzPXI/dDp0LmdldFRleHRDb250ZW50KCk7aWYobyl7cnx8KHN8fChzPW5ldyBscyx0LnNldFRleHRDb250ZW50KHMpKSx0LnN0YXRlUHJveHkmJihzLnN0YXRlUHJveHk9dC5zdGF0ZVByb3h5KSk7dmFyIGw9UXUobixlKSx1PWUubm9ybWFsLGg9ISF1LmdldFNoYWxsb3coXCJzaG93XCIpLGM9bmgodSxpJiZpLm5vcm1hbCxuLCExLCFyKTtjLnRleHQ9bC5ub3JtYWwscnx8dC5zZXRUZXh0Q29uZmlnKGloKHUsbiwhMSkpO2ZvcihhPTA7YTx4cy5sZW5ndGg7YSsrKXt2YXIgcCxkPXhzW2FdO2lmKHA9ZVtkXSl7dmFyIGY9cy5lbnN1cmVTdGF0ZShkKSxnPSEhdHQocC5nZXRTaGFsbG93KFwic2hvd1wiKSxoKTtpZihnIT09aCYmKGYuaWdub3JlPSFnKSxmLnN0eWxlPW5oKHAsaSYmaVtkXSxuLCEwLCFyKSxmLnN0eWxlLnRleHQ9bFtkXSwhcil0LmVuc3VyZVN0YXRlKGQpLnRleHRDb25maWc9aWgocCxuLCEwKX19cy5zaWxlbnQ9ISF1LmdldFNoYWxsb3coXCJzaWxlbnRcIiksbnVsbCE9cy5zdHlsZS54JiYoYy54PXMuc3R5bGUueCksbnVsbCE9cy5zdHlsZS55JiYoYy55PXMuc3R5bGUueSkscy5pZ25vcmU9IWgscy51c2VTdHlsZShjKSxzLmRpcnR5KCksbi5lbmFibGVUZXh0U2V0dGVyJiYodWgocykuc2V0TGFiZWxUZXh0PWZ1bmN0aW9uKHQpe3ZhciBpPVF1KG4sZSx0KTtKdShzLGkpfSl9ZWxzZSBzJiYocy5pZ25vcmU9ITApO3QuZGlydHkoKX1mdW5jdGlvbiBlaCh0LGUpe2U9ZXx8XCJsYWJlbFwiO2Zvcih2YXIgbj17bm9ybWFsOnQuZ2V0TW9kZWwoZSl9LGk9MDtpPHhzLmxlbmd0aDtpKyspe3ZhciByPXhzW2ldO25bcl09dC5nZXRNb2RlbChbcixlXSl9cmV0dXJuIG59ZnVuY3Rpb24gbmgodCxlLG4saSxyKXt2YXIgbz17fTtyZXR1cm4gZnVuY3Rpb24odCxlLG4saSxyKXtuPW58fCR1O3ZhciBvLGE9ZS5lY01vZGVsLHM9YSYmYS5vcHRpb24udGV4dFN0eWxlLGw9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKDt0JiZ0IT09dC5lY01vZGVsOyl7dmFyIG49KHQub3B0aW9ufHwkdSkucmljaDtpZihuKXtlPWV8fHt9O2Zvcih2YXIgaT16KG4pLHI9MDtyPGkubGVuZ3RoO3IrKyl7ZVtpW3JdXT0xfX10PXQucGFyZW50TW9kZWx9cmV0dXJuIGV9KGUpO2lmKGwpZm9yKHZhciB1IGluIG89e30sbClpZihsLmhhc093blByb3BlcnR5KHUpKXt2YXIgaD1lLmdldE1vZGVsKFtcInJpY2hcIix1XSk7c2gob1t1XT17fSxoLHMsbixpLHIsITEsITApfW8mJih0LnJpY2g9byk7dmFyIGM9ZS5nZXQoXCJvdmVyZmxvd1wiKTtjJiYodC5vdmVyZmxvdz1jKTt2YXIgcD1lLmdldChcIm1pbk1hcmdpblwiKTtudWxsIT1wJiYodC5tYXJnaW49cCk7c2godCxlLHMsbixpLHIsITAsITEpfShvLHQsbixpLHIpLGUmJkkobyxlKSxvfWZ1bmN0aW9uIGloKHQsZSxuKXtlPWV8fHt9O3ZhciBpLHI9e30sbz10LmdldFNoYWxsb3coXCJyb3RhdGVcIiksYT10dCh0LmdldFNoYWxsb3coXCJkaXN0YW5jZVwiKSxuP251bGw6NSkscz10LmdldFNoYWxsb3coXCJvZmZzZXRcIik7cmV0dXJuXCJvdXRzaWRlXCI9PT0oaT10LmdldFNoYWxsb3coXCJwb3NpdGlvblwiKXx8KG4/bnVsbDpcImluc2lkZVwiKSkmJihpPWUuZGVmYXVsdE91dHNpZGVQb3NpdGlvbnx8XCJ0b3BcIiksbnVsbCE9aSYmKHIucG9zaXRpb249aSksbnVsbCE9cyYmKHIub2Zmc2V0PXMpLG51bGwhPW8mJihvKj1NYXRoLlBJLzE4MCxyLnJvdGF0aW9uPW8pLG51bGwhPWEmJihyLmRpc3RhbmNlPWEpLHIub3V0c2lkZUZpbGw9XCJpbmhlcml0XCI9PT10LmdldChcImNvbG9yXCIpP2UuaW5oZXJpdENvbG9yfHxudWxsOlwiYXV0b1wiLHJ9dmFyIHJoPVtcImZvbnRTdHlsZVwiLFwiZm9udFdlaWdodFwiLFwiZm9udFNpemVcIixcImZvbnRGYW1pbHlcIixcInRleHRTaGFkb3dDb2xvclwiLFwidGV4dFNoYWRvd0JsdXJcIixcInRleHRTaGFkb3dPZmZzZXRYXCIsXCJ0ZXh0U2hhZG93T2Zmc2V0WVwiXSxvaD1bXCJhbGlnblwiLFwibGluZUhlaWdodFwiLFwid2lkdGhcIixcImhlaWdodFwiLFwidGFnXCIsXCJ2ZXJ0aWNhbEFsaWduXCJdLGFoPVtcInBhZGRpbmdcIixcImJvcmRlcldpZHRoXCIsXCJib3JkZXJSYWRpdXNcIixcImJvcmRlckRhc2hPZmZzZXRcIixcImJhY2tncm91bmRDb2xvclwiLFwiYm9yZGVyQ29sb3JcIixcInNoYWRvd0NvbG9yXCIsXCJzaGFkb3dCbHVyXCIsXCJzaGFkb3dPZmZzZXRYXCIsXCJzaGFkb3dPZmZzZXRZXCJdO2Z1bmN0aW9uIHNoKHQsZSxuLGkscixvLGEscyl7bj0hciYmbnx8JHU7dmFyIGw9aSYmaS5pbmhlcml0Q29sb3IsdT1lLmdldFNoYWxsb3coXCJjb2xvclwiKSxoPWUuZ2V0U2hhbGxvdyhcInRleHRCb3JkZXJDb2xvclwiKSxjPXR0KGUuZ2V0U2hhbGxvdyhcIm9wYWNpdHlcIiksbi5vcGFjaXR5KTtcImluaGVyaXRcIiE9PXUmJlwiYXV0b1wiIT09dXx8KHU9bHx8bnVsbCksXCJpbmhlcml0XCIhPT1oJiZcImF1dG9cIiE9PWh8fChoPWx8fG51bGwpLG98fCh1PXV8fG4uY29sb3IsaD1ofHxuLnRleHRCb3JkZXJDb2xvciksbnVsbCE9dSYmKHQuZmlsbD11KSxudWxsIT1oJiYodC5zdHJva2U9aCk7dmFyIHA9dHQoZS5nZXRTaGFsbG93KFwidGV4dEJvcmRlcldpZHRoXCIpLG4udGV4dEJvcmRlcldpZHRoKTtudWxsIT1wJiYodC5saW5lV2lkdGg9cCk7dmFyIGQ9dHQoZS5nZXRTaGFsbG93KFwidGV4dEJvcmRlclR5cGVcIiksbi50ZXh0Qm9yZGVyVHlwZSk7bnVsbCE9ZCYmKHQubGluZURhc2g9ZCk7dmFyIGY9dHQoZS5nZXRTaGFsbG93KFwidGV4dEJvcmRlckRhc2hPZmZzZXRcIiksbi50ZXh0Qm9yZGVyRGFzaE9mZnNldCk7bnVsbCE9ZiYmKHQubGluZURhc2hPZmZzZXQ9Zikscnx8bnVsbCE9Y3x8c3x8KGM9aSYmaS5kZWZhdWx0T3BhY2l0eSksbnVsbCE9YyYmKHQub3BhY2l0eT1jKSxyfHxvfHxudWxsPT10LmZpbGwmJmkuaW5oZXJpdENvbG9yJiYodC5maWxsPWkuaW5oZXJpdENvbG9yKTtmb3IodmFyIGc9MDtnPHJoLmxlbmd0aDtnKyspe3ZhciB5PXJoW2ddO251bGwhPShtPXR0KGUuZ2V0U2hhbGxvdyh5KSxuW3ldKSkmJih0W3ldPW0pfWZvcihnPTA7ZzxvaC5sZW5ndGg7ZysrKXt5PW9oW2ddO251bGwhPShtPWUuZ2V0U2hhbGxvdyh5KSkmJih0W3ldPW0pfWlmKG51bGw9PXQudmVydGljYWxBbGlnbil7dmFyIHY9ZS5nZXRTaGFsbG93KFwiYmFzZWxpbmVcIik7bnVsbCE9diYmKHQudmVydGljYWxBbGlnbj12KX1pZighYXx8IWkuZGlzYWJsZUJveCl7Zm9yKGc9MDtnPGFoLmxlbmd0aDtnKyspe3ZhciBtO3k9YWhbZ107bnVsbCE9KG09ZS5nZXRTaGFsbG93KHkpKSYmKHRbeV09bSl9dmFyIF89ZS5nZXRTaGFsbG93KFwiYm9yZGVyVHlwZVwiKTtudWxsIT1fJiYodC5ib3JkZXJEYXNoPV8pLFwiYXV0b1wiIT09dC5iYWNrZ3JvdW5kQ29sb3ImJlwiaW5oZXJpdFwiIT09dC5iYWNrZ3JvdW5kQ29sb3J8fCFsfHwodC5iYWNrZ3JvdW5kQ29sb3I9bCksXCJhdXRvXCIhPT10LmJvcmRlckNvbG9yJiZcImluaGVyaXRcIiE9PXQuYm9yZGVyQ29sb3J8fCFsfHwodC5ib3JkZXJDb2xvcj1sKX19ZnVuY3Rpb24gbGgodCxlKXt2YXIgbj1lJiZlLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpO3JldHVybiBvdChbdC5mb250U3R5bGV8fG4mJm4uZ2V0U2hhbGxvdyhcImZvbnRTdHlsZVwiKXx8XCJcIix0LmZvbnRXZWlnaHR8fG4mJm4uZ2V0U2hhbGxvdyhcImZvbnRXZWlnaHRcIil8fFwiXCIsKHQuZm9udFNpemV8fG4mJm4uZ2V0U2hhbGxvdyhcImZvbnRTaXplXCIpfHwxMikrXCJweFwiLHQuZm9udEZhbWlseXx8biYmbi5nZXRTaGFsbG93KFwiZm9udEZhbWlseVwiKXx8XCJzYW5zLXNlcmlmXCJdLmpvaW4oXCIgXCIpKX12YXIgdWg9THIoKTtmdW5jdGlvbiBoaCh0LGUsbixpKXtpZih0KXt2YXIgcj11aCh0KTtyLnByZXZWYWx1ZT1yLnZhbHVlLHIudmFsdWU9bjt2YXIgbz1lLm5vcm1hbDtyLnZhbHVlQW5pbWF0aW9uPW8uZ2V0KFwidmFsdWVBbmltYXRpb25cIiksci52YWx1ZUFuaW1hdGlvbiYmKHIucHJlY2lzaW9uPW8uZ2V0KFwicHJlY2lzaW9uXCIpLHIuZGVmYXVsdEludGVycG9sYXRlZFRleHQ9aSxyLnN0YXRlc01vZGVscz1lKX19ZnVuY3Rpb24gY2godCxlLG4saSxyKXt2YXIgbz11aCh0KTtpZihvLnZhbHVlQW5pbWF0aW9uKXt2YXIgYT1vLmRlZmF1bHRJbnRlcnBvbGF0ZWRUZXh0LHM9dHQoby5pbnRlcnBvbGF0ZWRWYWx1ZSxvLnByZXZWYWx1ZSksbD1vLnZhbHVlOyhudWxsPT1zP1J1Ok91KSh0LHt9LGksZSxudWxsLChmdW5jdGlvbihpKXt2YXIgdT1CcihuLG8ucHJlY2lzaW9uLHMsbCxpKTtvLmludGVycG9sYXRlZFZhbHVlPTE9PT1pP251bGw6dTt2YXIgaD1RdSh7bGFiZWxEYXRhSW5kZXg6ZSxsYWJlbEZldGNoZXI6cixkZWZhdWx0VGV4dDphP2EodSk6dStcIlwifSxvLnN0YXRlc01vZGVscyx1KTtKdSh0LGgpfSkpfX12YXIgcGgsZGgsZmg9W1widGV4dFN0eWxlXCIsXCJjb2xvclwiXSxnaD1uZXcgbHMseWg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRUZXh0Q29sb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lY01vZGVsO3JldHVybiB0aGlzLmdldFNoYWxsb3coXCJjb2xvclwiKXx8KCF0JiZlP2UuZ2V0KGZoKTpudWxsKX0sdC5wcm90b3R5cGUuZ2V0Rm9udD1mdW5jdGlvbigpe3JldHVybiBsaCh7Zm9udFN0eWxlOnRoaXMuZ2V0U2hhbGxvdyhcImZvbnRTdHlsZVwiKSxmb250V2VpZ2h0OnRoaXMuZ2V0U2hhbGxvdyhcImZvbnRXZWlnaHRcIiksZm9udFNpemU6dGhpcy5nZXRTaGFsbG93KFwiZm9udFNpemVcIiksZm9udEZhbWlseTp0aGlzLmdldFNoYWxsb3coXCJmb250RmFtaWx5XCIpfSx0aGlzLmVjTW9kZWwpfSx0LnByb3RvdHlwZS5nZXRUZXh0UmVjdD1mdW5jdGlvbih0KXtyZXR1cm4gZ2gudXNlU3R5bGUoe3RleHQ6dCxmb250U3R5bGU6dGhpcy5nZXRTaGFsbG93KFwiZm9udFN0eWxlXCIpLGZvbnRXZWlnaHQ6dGhpcy5nZXRTaGFsbG93KFwiZm9udFdlaWdodFwiKSxmb250U2l6ZTp0aGlzLmdldFNoYWxsb3coXCJmb250U2l6ZVwiKSxmb250RmFtaWx5OnRoaXMuZ2V0U2hhbGxvdyhcImZvbnRGYW1pbHlcIiksdmVydGljYWxBbGlnbjp0aGlzLmdldFNoYWxsb3coXCJ2ZXJ0aWNhbEFsaWduXCIpfHx0aGlzLmdldFNoYWxsb3coXCJiYXNlbGluZVwiKSxwYWRkaW5nOnRoaXMuZ2V0U2hhbGxvdyhcInBhZGRpbmdcIiksbGluZUhlaWdodDp0aGlzLmdldFNoYWxsb3coXCJsaW5lSGVpZ2h0XCIpLHJpY2g6dGhpcy5nZXRTaGFsbG93KFwicmljaFwiKX0pLGdoLnVwZGF0ZSgpLGdoLmdldEJvdW5kaW5nUmVjdCgpfSx0fSgpLHZoPVtbXCJsaW5lV2lkdGhcIixcIndpZHRoXCJdLFtcInN0cm9rZVwiLFwiY29sb3JcIl0sW1wib3BhY2l0eVwiXSxbXCJzaGFkb3dCbHVyXCJdLFtcInNoYWRvd09mZnNldFhcIl0sW1wic2hhZG93T2Zmc2V0WVwiXSxbXCJzaGFkb3dDb2xvclwiXSxbXCJsaW5lRGFzaFwiLFwidHlwZVwiXSxbXCJsaW5lRGFzaE9mZnNldFwiLFwiZGFzaE9mZnNldFwiXSxbXCJsaW5lQ2FwXCIsXCJjYXBcIl0sW1wibGluZUpvaW5cIixcImpvaW5cIl0sW1wibWl0ZXJMaW1pdFwiXV0sbWg9cXIodmgpLF9oPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TGluZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBtaCh0aGlzLHQpfSx0fSgpLHhoPVtbXCJmaWxsXCIsXCJjb2xvclwiXSxbXCJzdHJva2VcIixcImJvcmRlckNvbG9yXCJdLFtcImxpbmVXaWR0aFwiLFwiYm9yZGVyV2lkdGhcIl0sW1wib3BhY2l0eVwiXSxbXCJzaGFkb3dCbHVyXCJdLFtcInNoYWRvd09mZnNldFhcIl0sW1wic2hhZG93T2Zmc2V0WVwiXSxbXCJzaGFkb3dDb2xvclwiXSxbXCJsaW5lRGFzaFwiLFwiYm9yZGVyVHlwZVwiXSxbXCJsaW5lRGFzaE9mZnNldFwiLFwiYm9yZGVyRGFzaE9mZnNldFwiXSxbXCJsaW5lQ2FwXCIsXCJib3JkZXJDYXBcIl0sW1wibGluZUpvaW5cIixcImJvcmRlckpvaW5cIl0sW1wibWl0ZXJMaW1pdFwiLFwiYm9yZGVyTWl0ZXJMaW1pdFwiXV0sYmg9cXIoeGgpLHdoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0SXRlbVN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJoKHRoaXMsdCxlKX0sdH0oKSxTaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMucGFyZW50TW9kZWw9ZSx0aGlzLmVjTW9kZWw9bix0aGlzLm9wdGlvbj10fXJldHVybiB0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9W10scj0zO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspaVtyLTNdPWFyZ3VtZW50c1tyXX0sdC5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXtTKHRoaXMub3B0aW9uLHQsITApfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbjp0aGlzLl9kb0dldCh0aGlzLnBhcnNlUGF0aCh0KSwhZSYmdGhpcy5wYXJlbnRNb2RlbCl9LHQucHJvdG90eXBlLmdldFNoYWxsb3c9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPW51bGw9PW4/bjpuW3RdO2lmKG51bGw9PWkmJiFlKXt2YXIgcj10aGlzLnBhcmVudE1vZGVsO3ImJihpPXIuZ2V0U2hhbGxvdyh0KSl9cmV0dXJuIGl9LHQucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKGUsbil7dmFyIGk9bnVsbCE9ZSxyPWk/dGhpcy5wYXJzZVBhdGgoZSk6bnVsbDtyZXR1cm4gbmV3IHQoaT90aGlzLl9kb0dldChyKTp0aGlzLm9wdGlvbixuPW58fHRoaXMucGFyZW50TW9kZWwmJnRoaXMucGFyZW50TW9kZWwuZ2V0TW9kZWwodGhpcy5yZXNvbHZlUGFyZW50UGF0aChyKSksdGhpcy5lY01vZGVsKX0sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLm9wdGlvbn0sdC5wcm90b3R5cGUucmVzdG9yZURhdGE9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldygwLHRoaXMuY29uc3RydWN0b3IpKHcodGhpcy5vcHRpb24pKX0sdC5wcm90b3R5cGUucGFyc2VQYXRoPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCIuXCIpOnR9LHQucHJvdG90eXBlLnJlc29sdmVQYXJlbnRQYXRoPWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LnByb3RvdHlwZS5pc0FuaW1hdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtpZighYS5ub2RlJiZ0aGlzLm9wdGlvbil7aWYobnVsbCE9dGhpcy5vcHRpb24uYW5pbWF0aW9uKXJldHVybiEhdGhpcy5vcHRpb24uYW5pbWF0aW9uO2lmKHRoaXMucGFyZW50TW9kZWwpcmV0dXJuIHRoaXMucGFyZW50TW9kZWwuaXNBbmltYXRpb25FbmFibGVkKCl9fSx0LnByb3RvdHlwZS5fZG9HZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbjtpZighdClyZXR1cm4gbjtmb3IodmFyIGk9MDtpPHQubGVuZ3RoJiYoIXRbaV18fG51bGwhPShuPW4mJlwib2JqZWN0XCI9PXR5cGVvZiBuP25bdFtpXV06bnVsbCkpO2krKyk7cmV0dXJuIG51bGw9PW4mJmUmJihuPWUuX2RvR2V0KHRoaXMucmVzb2x2ZVBhcmVudFBhdGgodCksZS5wYXJlbnRNb2RlbCkpLG59LHR9KCk7SHIoU2gpLHBoPVNoLGRoPVtcIl9fXFwwaXNfY2x6XCIsWHIrK10uam9pbihcIl9cIikscGgucHJvdG90eXBlW2RoXT0hMCxwaC5pc0luc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0W2RoXSl9LEwoU2gsX2gpLEwoU2gsd2gpLEwoU2gsJHIpLEwoU2gseWgpO3ZhciBNaD1NYXRoLnJvdW5kKDEwKk1hdGgucmFuZG9tKCkpO2Z1bmN0aW9uIEloKHQpe3JldHVyblt0fHxcIlwiLE1oKytdLmpvaW4oXCJfXCIpfWZ1bmN0aW9uIFRoKHQsZSl7cmV0dXJuIFMoUyh7fSx0LCEwKSxlLCEwKX12YXIgQ2g9XCJaSFwiLEFoPVwiRU5cIixEaD1BaCxMaD17fSxraD17fSxQaD1hLmRvbVN1cHBvcnRlZCYmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nfHxuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2UpLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihDaCk+LTE/Q2g6RGg7ZnVuY3Rpb24gT2godCxlKXt0PXQudG9VcHBlckNhc2UoKSxraFt0XT1uZXcgU2goZSksTGhbdF09ZX1PaChBaCx7dGltZTp7bW9udGg6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLG1vbnRoQWJicjpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLGRheU9mV2VlazpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXSxkYXlPZldlZWtBYmJyOltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXX0sbGVnZW5kOntzZWxlY3Rvcjp7YWxsOlwiQWxsXCIsaW52ZXJzZTpcIkludlwifX0sdG9vbGJveDp7YnJ1c2g6e3RpdGxlOntyZWN0OlwiQm94IFNlbGVjdFwiLHBvbHlnb246XCJMYXNzbyBTZWxlY3RcIixsaW5lWDpcIkhvcml6b250YWxseSBTZWxlY3RcIixsaW5lWTpcIlZlcnRpY2FsbHkgU2VsZWN0XCIsa2VlcDpcIktlZXAgU2VsZWN0aW9uc1wiLGNsZWFyOlwiQ2xlYXIgU2VsZWN0aW9uc1wifX0sZGF0YVZpZXc6e3RpdGxlOlwiRGF0YSBWaWV3XCIsbGFuZzpbXCJEYXRhIFZpZXdcIixcIkNsb3NlXCIsXCJSZWZyZXNoXCJdfSxkYXRhWm9vbTp7dGl0bGU6e3pvb206XCJab29tXCIsYmFjazpcIlpvb20gUmVzZXRcIn19LG1hZ2ljVHlwZTp7dGl0bGU6e2xpbmU6XCJTd2l0Y2ggdG8gTGluZSBDaGFydFwiLGJhcjpcIlN3aXRjaCB0byBCYXIgQ2hhcnRcIixzdGFjazpcIlN0YWNrXCIsdGlsZWQ6XCJUaWxlXCJ9fSxyZXN0b3JlOnt0aXRsZTpcIlJlc3RvcmVcIn0sc2F2ZUFzSW1hZ2U6e3RpdGxlOlwiU2F2ZSBhcyBJbWFnZVwiLGxhbmc6W1wiUmlnaHQgQ2xpY2sgdG8gU2F2ZSBJbWFnZVwiXX19LHNlcmllczp7dHlwZU5hbWVzOntwaWU6XCJQaWUgY2hhcnRcIixiYXI6XCJCYXIgY2hhcnRcIixsaW5lOlwiTGluZSBjaGFydFwiLHNjYXR0ZXI6XCJTY2F0dGVyIHBsb3RcIixlZmZlY3RTY2F0dGVyOlwiUmlwcGxlIHNjYXR0ZXIgcGxvdFwiLHJhZGFyOlwiUmFkYXIgY2hhcnRcIix0cmVlOlwiVHJlZVwiLHRyZWVtYXA6XCJUcmVlbWFwXCIsYm94cGxvdDpcIkJveHBsb3RcIixjYW5kbGVzdGljazpcIkNhbmRsZXN0aWNrXCIsazpcIksgbGluZSBjaGFydFwiLGhlYXRtYXA6XCJIZWF0IG1hcFwiLG1hcDpcIk1hcFwiLHBhcmFsbGVsOlwiUGFyYWxsZWwgY29vcmRpbmF0ZSBtYXBcIixsaW5lczpcIkxpbmUgZ3JhcGhcIixncmFwaDpcIlJlbGF0aW9uc2hpcCBncmFwaFwiLHNhbmtleTpcIlNhbmtleSBkaWFncmFtXCIsZnVubmVsOlwiRnVubmVsIGNoYXJ0XCIsZ2F1Z2U6XCJHdWFnZVwiLHBpY3RvcmlhbEJhcjpcIlBpY3RvcmlhbCBiYXJcIix0aGVtZVJpdmVyOlwiVGhlbWUgUml2ZXIgTWFwXCIsc3VuYnVyc3Q6XCJTdW5idXJzdFwifX0sYXJpYTp7Z2VuZXJhbDp7d2l0aFRpdGxlOidUaGlzIGlzIGEgY2hhcnQgYWJvdXQgXCJ7dGl0bGV9XCInLHdpdGhvdXRUaXRsZTpcIlRoaXMgaXMgYSBjaGFydFwifSxzZXJpZXM6e3NpbmdsZTp7cHJlZml4OlwiXCIsd2l0aE5hbWU6XCIgd2l0aCB0eXBlIHtzZXJpZXNUeXBlfSBuYW1lZCB7c2VyaWVzTmFtZX0uXCIsd2l0aG91dE5hbWU6XCIgd2l0aCB0eXBlIHtzZXJpZXNUeXBlfS5cIn0sbXVsdGlwbGU6e3ByZWZpeDpcIi4gSXQgY29uc2lzdHMgb2Yge3Nlcmllc0NvdW50fSBzZXJpZXMgY291bnQuXCIsd2l0aE5hbWU6XCIgVGhlIHtzZXJpZXNJZH0gc2VyaWVzIGlzIGEge3Nlcmllc1R5cGV9IHJlcHJlc2VudGluZyB7c2VyaWVzTmFtZX0uXCIsd2l0aG91dE5hbWU6XCIgVGhlIHtzZXJpZXNJZH0gc2VyaWVzIGlzIGEge3Nlcmllc1R5cGV9LlwiLHNlcGFyYXRvcjp7bWlkZGxlOlwiXCIsZW5kOlwiXCJ9fX0sZGF0YTp7YWxsRGF0YTpcIlRoZSBkYXRhIGlzIGFzIGZvbGxvd3M6IFwiLHBhcnRpYWxEYXRhOlwiVGhlIGZpcnN0IHtkaXNwbGF5Q250fSBpdGVtcyBhcmU6IFwiLHdpdGhOYW1lOlwidGhlIGRhdGEgZm9yIHtuYW1lfSBpcyB7dmFsdWV9XCIsd2l0aG91dE5hbWU6XCJ7dmFsdWV9XCIsc2VwYXJhdG9yOnttaWRkbGU6XCIsIFwiLGVuZDpcIi4gXCJ9fX19KSxPaChDaCx7dGltZTp7bW9udGg6W1wi5LiA5pyIXCIsXCLkuozmnIhcIixcIuS4ieaciFwiLFwi5Zub5pyIXCIsXCLkupTmnIhcIixcIuWFreaciFwiLFwi5LiD5pyIXCIsXCLlhavmnIhcIixcIuS5neaciFwiLFwi5Y2B5pyIXCIsXCLljYHkuIDmnIhcIixcIuWNgeS6jOaciFwiXSxtb250aEFiYnI6W1wiMeaciFwiLFwiMuaciFwiLFwiM+aciFwiLFwiNOaciFwiLFwiNeaciFwiLFwiNuaciFwiLFwiN+aciFwiLFwiOOaciFwiLFwiOeaciFwiLFwiMTDmnIhcIixcIjEx5pyIXCIsXCIxMuaciFwiXSxkYXlPZldlZWs6W1wi5pif5pyf5pelXCIsXCLmmJ/mnJ/kuIBcIixcIuaYn+acn+S6jFwiLFwi5pif5pyf5LiJXCIsXCLmmJ/mnJ/lm5tcIixcIuaYn+acn+S6lFwiLFwi5pif5pyf5YWtXCJdLGRheU9mV2Vla0FiYnI6W1wi5pelXCIsXCLkuIBcIixcIuS6jFwiLFwi5LiJXCIsXCLlm5tcIixcIuS6lFwiLFwi5YWtXCJdfSxsZWdlbmQ6e3NlbGVjdG9yOnthbGw6XCLlhajpgIlcIixpbnZlcnNlOlwi5Y+N6YCJXCJ9fSx0b29sYm94OnticnVzaDp7dGl0bGU6e3JlY3Q6XCLnn6nlvaLpgInmi6lcIixwb2x5Z29uOlwi5ZyI6YCJXCIsbGluZVg6XCLmqKrlkJHpgInmi6lcIixsaW5lWTpcIue6teWQkemAieaLqVwiLGtlZXA6XCLkv53mjIHpgInmi6lcIixjbGVhcjpcIua4hemZpOmAieaLqVwifX0sZGF0YVZpZXc6e3RpdGxlOlwi5pWw5o2u6KeG5Zu+XCIsbGFuZzpbXCLmlbDmja7op4blm75cIixcIuWFs+mXrVwiLFwi5Yi35pawXCJdfSxkYXRhWm9vbTp7dGl0bGU6e3pvb206XCLljLrln5/nvKnmlL5cIixiYWNrOlwi5Yy65Z+f57yp5pS+6L+Y5Y6fXCJ9fSxtYWdpY1R5cGU6e3RpdGxlOntsaW5lOlwi5YiH5o2i5Li65oqY57q/5Zu+XCIsYmFyOlwi5YiH5o2i5Li65p+x54q25Zu+XCIsc3RhY2s6XCLliIfmjaLkuLrloIblj6BcIix0aWxlZDpcIuWIh+aNouS4uuW5s+mTulwifX0scmVzdG9yZTp7dGl0bGU6XCLov5jljp9cIn0sc2F2ZUFzSW1hZ2U6e3RpdGxlOlwi5L+d5a2Y5Li65Zu+54mHXCIsbGFuZzpbXCLlj7PplK7lj6blrZjkuLrlm77niYdcIl19fSxzZXJpZXM6e3R5cGVOYW1lczp7cGllOlwi6aW85Zu+XCIsYmFyOlwi5p+x54q25Zu+XCIsbGluZTpcIuaKmOe6v+WbvlwiLHNjYXR0ZXI6XCLmlaPngrnlm75cIixlZmZlY3RTY2F0dGVyOlwi5raf5ryq5pWj54K55Zu+XCIscmFkYXI6XCLpm7fovr7lm75cIix0cmVlOlwi5qCR5Zu+XCIsdHJlZW1hcDpcIuefqeW9ouagkeWbvlwiLGJveHBsb3Q6XCLnrrHlnovlm75cIixjYW5kbGVzdGljazpcIkvnur/lm75cIixrOlwiS+e6v+WbvlwiLGhlYXRtYXA6XCLng63lipvlm75cIixtYXA6XCLlnLDlm75cIixwYXJhbGxlbDpcIuW5s+ihjOWdkOagh+WbvlwiLGxpbmVzOlwi57q/5Zu+XCIsZ3JhcGg6XCLlhbPns7vlm75cIixzYW5rZXk6XCLmoZHln7rlm75cIixmdW5uZWw6XCLmvI/mlpflm75cIixnYXVnZTpcIuS7quihqOebmOWbvlwiLHBpY3RvcmlhbEJhcjpcIuixoeW9ouafseWbvlwiLHRoZW1lUml2ZXI6XCLkuLvpopjmsrPmtYHlm75cIixzdW5idXJzdDpcIuaXreaXpeWbvlwifX0sYXJpYTp7Z2VuZXJhbDp7d2l0aFRpdGxlOlwi6L+Z5piv5LiA5Liq5YWz5LqO4oCce3RpdGxlfeKAneeahOWbvuihqOOAglwiLHdpdGhvdXRUaXRsZTpcIui/meaYr+S4gOS4quWbvuihqO+8jFwifSxzZXJpZXM6e3NpbmdsZTp7cHJlZml4OlwiXCIsd2l0aE5hbWU6XCLlm77ooajnsbvlnovmmK97c2VyaWVzVHlwZX3vvIzooajnpLp7c2VyaWVzTmFtZX3jgIJcIix3aXRob3V0TmFtZTpcIuWbvuihqOexu+Wei+aYr3tzZXJpZXNUeXBlfeOAglwifSxtdWx0aXBsZTp7cHJlZml4Olwi5a6D55Sxe3Nlcmllc0NvdW50feS4quWbvuihqOezu+WIl+e7hOaIkOOAglwiLHdpdGhOYW1lOlwi56yse3Nlcmllc0lkfeS4quezu+WIl+aYr+S4gOS4quihqOekuntzZXJpZXNOYW1lfeeahHtzZXJpZXNUeXBlfe+8jFwiLHdpdGhvdXROYW1lOlwi56yse3Nlcmllc0lkfeS4quezu+WIl+aYr+S4gOS4qntzZXJpZXNUeXBlfe+8jFwiLHNlcGFyYXRvcjp7bWlkZGxlOlwi77ybXCIsZW5kOlwi44CCXCJ9fX0sZGF0YTp7YWxsRGF0YTpcIuWFtuaVsOaNruaYr+KAlOKAlFwiLHBhcnRpYWxEYXRhOlwi5YW25Lit77yM5YmNe2Rpc3BsYXlDbnR96aG55piv4oCU4oCUXCIsd2l0aE5hbWU6XCJ7bmFtZX3nmoTmlbDmja7mmK97dmFsdWV9XCIsd2l0aG91dE5hbWU6XCJ7dmFsdWV9XCIsc2VwYXJhdG9yOnttaWRkbGU6XCLvvIxcIixlbmQ6XCJcIn19fX0pO3ZhciBSaD0xZTMsTmg9NmU0LEVoPTM2ZTUsemg9ODY0ZTUsQmg9MzE1MzZlNixWaD17eWVhcjpcInt5eXl5fVwiLG1vbnRoOlwie01NTX1cIixkYXk6XCJ7ZH1cIixob3VyOlwie0hIfTp7bW19XCIsbWludXRlOlwie0hIfTp7bW19XCIsc2Vjb25kOlwie0hIfTp7bW19Ontzc31cIixtaWxsaXNlY29uZDpcIntoaH06e21tfTp7c3N9IHtTU1N9XCIsbm9uZTpcInt5eXl5fS17TU19LXtkZH0ge2hofTp7bW19Ontzc30ge1NTU31cIn0sRmg9XCJ7eXl5eX0te01NfS17ZGR9XCIsR2g9e3llYXI6XCJ7eXl5eX1cIixtb250aDpcInt5eXl5fS17TU19XCIsZGF5OkZoLGhvdXI6XCJ7eXl5eX0te01NfS17ZGR9IFwiK1ZoLmhvdXIsbWludXRlOlwie3l5eXl9LXtNTX0te2RkfSBcIitWaC5taW51dGUsc2Vjb25kOlwie3l5eXl9LXtNTX0te2RkfSBcIitWaC5zZWNvbmQsbWlsbGlzZWNvbmQ6Vmgubm9uZX0sSGg9W1wieWVhclwiLFwibW9udGhcIixcImRheVwiLFwiaG91clwiLFwibWludXRlXCIsXCJzZWNvbmRcIixcIm1pbGxpc2Vjb25kXCJdLFdoPVtcInllYXJcIixcImhhbGYteWVhclwiLFwicXVhcnRlclwiLFwibW9udGhcIixcIndlZWtcIixcImhhbGYtd2Vla1wiLFwiZGF5XCIsXCJoYWxmLWRheVwiLFwicXVhcnRlci1kYXlcIixcImhvdXJcIixcIm1pbnV0ZVwiLFwic2Vjb25kXCIsXCJtaWxsaXNlY29uZFwiXTtmdW5jdGlvbiBZaCh0LGUpe3JldHVyblwiMDAwMFwiLnN1YnN0cigwLGUtKHQrPVwiXCIpLmxlbmd0aCkrdH1mdW5jdGlvbiBYaCh0KXtzd2l0Y2godCl7Y2FzZVwiaGFsZi15ZWFyXCI6Y2FzZVwicXVhcnRlclwiOnJldHVyblwibW9udGhcIjtjYXNlXCJ3ZWVrXCI6Y2FzZVwiaGFsZi13ZWVrXCI6cmV0dXJuXCJkYXlcIjtjYXNlXCJoYWxmLWRheVwiOmNhc2VcInF1YXJ0ZXItZGF5XCI6cmV0dXJuXCJob3VyXCI7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gVWgodCl7cmV0dXJuIHQ9PT1YaCh0KX1mdW5jdGlvbiBaaCh0LGUsbixpKXt2YXIgcj1ycih0KSxvPXJbS2gobildKCksYT1yWyRoKG4pXSgpKzEscz1NYXRoLmZsb29yKChhLTEpLzQpKzEsbD1yW0poKG4pXSgpLHU9cltcImdldFwiKyhuP1wiVVRDXCI6XCJcIikrXCJEYXlcIl0oKSxoPXJbUWgobildKCksYz0oaC0xKSUxMisxLHA9clt0YyhuKV0oKSxkPXJbZWMobildKCksZj1yW25jKG4pXSgpLGc9KGkgaW5zdGFuY2VvZiBTaD9pOmZ1bmN0aW9uKHQpe3JldHVybiBraFt0XX0oaXx8UGgpfHxraC5FTikuZ2V0TW9kZWwoXCJ0aW1lXCIpLHk9Zy5nZXQoXCJtb250aFwiKSx2PWcuZ2V0KFwibW9udGhBYmJyXCIpLG09Zy5nZXQoXCJkYXlPZldlZWtcIiksXz1nLmdldChcImRheU9mV2Vla0FiYnJcIik7cmV0dXJuKGV8fFwiXCIpLnJlcGxhY2UoL3t5eXl5fS9nLG8rXCJcIikucmVwbGFjZSgve3l5fS9nLG8lMTAwK1wiXCIpLnJlcGxhY2UoL3tRfS9nLHMrXCJcIikucmVwbGFjZSgve01NTU19L2cseVthLTFdKS5yZXBsYWNlKC97TU1NfS9nLHZbYS0xXSkucmVwbGFjZSgve01NfS9nLFloKGEsMikpLnJlcGxhY2UoL3tNfS9nLGErXCJcIikucmVwbGFjZSgve2RkfS9nLFloKGwsMikpLnJlcGxhY2UoL3tkfS9nLGwrXCJcIikucmVwbGFjZSgve2VlZWV9L2csbVt1XSkucmVwbGFjZSgve2VlfS9nLF9bdV0pLnJlcGxhY2UoL3tlfS9nLHUrXCJcIikucmVwbGFjZSgve0hIfS9nLFloKGgsMikpLnJlcGxhY2UoL3tIfS9nLGgrXCJcIikucmVwbGFjZSgve2hofS9nLFloKGMrXCJcIiwyKSkucmVwbGFjZSgve2h9L2csYytcIlwiKS5yZXBsYWNlKC97bW19L2csWWgocCwyKSkucmVwbGFjZSgve219L2cscCtcIlwiKS5yZXBsYWNlKC97c3N9L2csWWgoZCwyKSkucmVwbGFjZSgve3N9L2csZCtcIlwiKS5yZXBsYWNlKC97U1NTfS9nLFloKGYsMykpLnJlcGxhY2UoL3tTfS9nLGYrXCJcIil9ZnVuY3Rpb24gamgodCxlKXt2YXIgbj1ycih0KSxpPW5bJGgoZSldKCkrMSxyPW5bSmgoZSldKCksbz1uW1FoKGUpXSgpLGE9blt0YyhlKV0oKSxzPW5bZWMoZSldKCksbD0wPT09bltuYyhlKV0oKSx1PWwmJjA9PT1zLGg9dSYmMD09PWEsYz1oJiYwPT09byxwPWMmJjE9PT1yO3JldHVybiBwJiYxPT09aT9cInllYXJcIjpwP1wibW9udGhcIjpjP1wiZGF5XCI6aD9cImhvdXJcIjp1P1wibWludXRlXCI6bD9cInNlY29uZFwiOlwibWlsbGlzZWNvbmRcIn1mdW5jdGlvbiBxaCh0LGUsbil7dmFyIGk9XCJudW1iZXJcIj09dHlwZW9mIHQ/cnIodCk6dDtzd2l0Y2goZT1lfHxqaCh0LG4pKXtjYXNlXCJ5ZWFyXCI6cmV0dXJuIGlbS2gobildKCk7Y2FzZVwiaGFsZi15ZWFyXCI6cmV0dXJuIGlbJGgobildKCk+PTY/MTowO2Nhc2VcInF1YXJ0ZXJcIjpyZXR1cm4gTWF0aC5mbG9vcigoaVskaChuKV0oKSsxKS80KTtjYXNlXCJtb250aFwiOnJldHVybiBpWyRoKG4pXSgpO2Nhc2VcImRheVwiOnJldHVybiBpW0poKG4pXSgpO2Nhc2VcImhhbGYtZGF5XCI6cmV0dXJuIGlbUWgobildKCkvMjQ7Y2FzZVwiaG91clwiOnJldHVybiBpW1FoKG4pXSgpO2Nhc2VcIm1pbnV0ZVwiOnJldHVybiBpW3RjKG4pXSgpO2Nhc2VcInNlY29uZFwiOnJldHVybiBpW2VjKG4pXSgpO2Nhc2VcIm1pbGxpc2Vjb25kXCI6cmV0dXJuIGlbbmMobildKCl9fWZ1bmN0aW9uIEtoKHQpe3JldHVybiB0P1wiZ2V0VVRDRnVsbFllYXJcIjpcImdldEZ1bGxZZWFyXCJ9ZnVuY3Rpb24gJGgodCl7cmV0dXJuIHQ/XCJnZXRVVENNb250aFwiOlwiZ2V0TW9udGhcIn1mdW5jdGlvbiBKaCh0KXtyZXR1cm4gdD9cImdldFVUQ0RhdGVcIjpcImdldERhdGVcIn1mdW5jdGlvbiBRaCh0KXtyZXR1cm4gdD9cImdldFVUQ0hvdXJzXCI6XCJnZXRIb3Vyc1wifWZ1bmN0aW9uIHRjKHQpe3JldHVybiB0P1wiZ2V0VVRDTWludXRlc1wiOlwiZ2V0TWludXRlc1wifWZ1bmN0aW9uIGVjKHQpe3JldHVybiB0P1wiZ2V0VVRDU2Vjb25kc1wiOlwiZ2V0U2Vjb25kc1wifWZ1bmN0aW9uIG5jKHQpe3JldHVybiB0P1wiZ2V0VVRDU2Vjb25kc1wiOlwiZ2V0U2Vjb25kc1wifWZ1bmN0aW9uIGljKHQpe3JldHVybiB0P1wic2V0VVRDRnVsbFllYXJcIjpcInNldEZ1bGxZZWFyXCJ9ZnVuY3Rpb24gcmModCl7cmV0dXJuIHQ/XCJzZXRVVENNb250aFwiOlwic2V0TW9udGhcIn1mdW5jdGlvbiBvYyh0KXtyZXR1cm4gdD9cInNldFVUQ0RhdGVcIjpcInNldERhdGVcIn1mdW5jdGlvbiBhYyh0KXtyZXR1cm4gdD9cInNldFVUQ0hvdXJzXCI6XCJzZXRIb3Vyc1wifWZ1bmN0aW9uIHNjKHQpe3JldHVybiB0P1wic2V0VVRDTWludXRlc1wiOlwic2V0TWludXRlc1wifWZ1bmN0aW9uIGxjKHQpe3JldHVybiB0P1wic2V0VVRDU2Vjb25kc1wiOlwic2V0U2Vjb25kc1wifWZ1bmN0aW9uIHVjKHQpe3JldHVybiB0P1wic2V0VVRDU2Vjb25kc1wiOlwic2V0U2Vjb25kc1wifWZ1bmN0aW9uIGhjKHQpe2lmKCFjcih0KSlyZXR1cm4gSCh0KT90OlwiLVwiO3ZhciBlPSh0K1wiXCIpLnNwbGl0KFwiLlwiKTtyZXR1cm4gZVswXS5yZXBsYWNlKC8oXFxkezEsM30pKD89KD86XFxkezN9KSsoPyFcXGQpKS9nLFwiJDEsXCIpKyhlLmxlbmd0aD4xP1wiLlwiK2VbMV06XCJcIil9ZnVuY3Rpb24gY2ModCxlKXtyZXR1cm4gdD0odHx8XCJcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tKC4pL2csKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pKSxlJiZ0JiYodD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkpLHR9dmFyIHBjPWl0LGRjPS8oWyY8PlwiJ10pL2csZmM9e1wiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJnF1b3Q7XCIsXCInXCI6XCImIzM5O1wifTtmdW5jdGlvbiBnYyh0KXtyZXR1cm4gbnVsbD09dD9cIlwiOih0K1wiXCIpLnJlcGxhY2UoZGMsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZjW2VdfSkpfWZ1bmN0aW9uIHljKHQsZSxuKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0JiZvdCh0KT90OlwiLVwifWZ1bmN0aW9uIHIodCl7cmV0dXJuIShudWxsPT10fHxpc05hTih0KXx8IWlzRmluaXRlKHQpKX12YXIgbz1cInRpbWVcIj09PWUsYT10IGluc3RhbmNlb2YgRGF0ZTtpZihvfHxhKXt2YXIgcz1vP3JyKHQpOnQ7aWYoIWlzTmFOKCtzKSlyZXR1cm4gWmgocyxcInl5eXktTU0tZGQgaGg6bW06c3NcIixuKTtpZihhKXJldHVyblwiLVwifWlmKFwib3JkaW5hbFwiPT09ZSlyZXR1cm4gVyh0KT9pKHQpOlkodCkmJnIodCk/dCtcIlwiOlwiLVwiO3ZhciBsPWhyKHQpO3JldHVybiByKGwpP2hjKGwpOlcodCk/aSh0KTpcIi1cIn12YXIgdmM9W1wiYVwiLFwiYlwiLFwiY1wiLFwiZFwiLFwiZVwiLFwiZlwiLFwiZ1wiXSxtYz1mdW5jdGlvbih0LGUpe3JldHVyblwie1wiK3QrKG51bGw9PWU/XCJcIjplKStcIn1cIn07ZnVuY3Rpb24gX2ModCxlLG4pe0YoZSl8fChlPVtlXSk7dmFyIGk9ZS5sZW5ndGg7aWYoIWkpcmV0dXJuXCJcIjtmb3IodmFyIHI9ZVswXS4kdmFyc3x8W10sbz0wO288ci5sZW5ndGg7bysrKXt2YXIgYT12Y1tvXTt0PXQucmVwbGFjZShtYyhhKSxtYyhhLDApKX1mb3IodmFyIHM9MDtzPGk7cysrKWZvcih2YXIgbD0wO2w8ci5sZW5ndGg7bCsrKXt2YXIgdT1lW3NdW3JbbF1dO3Q9dC5yZXBsYWNlKG1jKHZjW2xdLHMpLG4/Z2ModSk6dSl9cmV0dXJuIHR9ZnVuY3Rpb24geGModCxlKXt2YXIgbj1IKHQpP3tjb2xvcjp0LGV4dHJhQ3NzVGV4dDplfTp0fHx7fSxpPW4uY29sb3Iscj1uLnR5cGU7ZT1uLmV4dHJhQ3NzVGV4dDt2YXIgbz1uLnJlbmRlck1vZGV8fFwiaHRtbFwiO3JldHVybiBpP1wiaHRtbFwiPT09bz9cInN1Ykl0ZW1cIj09PXI/JzxzcGFuIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7bWFyZ2luLWxlZnQ6M3B4O2JvcmRlci1yYWRpdXM6NHB4O3dpZHRoOjRweDtoZWlnaHQ6NHB4O2JhY2tncm91bmQtY29sb3I6JytnYyhpKStcIjtcIisoZXx8XCJcIikrJ1wiPjwvc3Bhbj4nOic8c3BhbiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDo0cHg7Ym9yZGVyLXJhZGl1czoxMHB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjonK2djKGkpK1wiO1wiKyhlfHxcIlwiKSsnXCI+PC9zcGFuPic6e3JlbmRlck1vZGU6byxjb250ZW50Olwie1wiKyhuLm1hcmtlcklkfHxcIm1hcmtlclhcIikrXCJ8fSAgXCIsc3R5bGU6XCJzdWJJdGVtXCI9PT1yP3t3aWR0aDo0LGhlaWdodDo0LGJvcmRlclJhZGl1czoyLGJhY2tncm91bmRDb2xvcjppfTp7d2lkdGg6MTAsaGVpZ2h0OjEwLGJvcmRlclJhZGl1czo1LGJhY2tncm91bmRDb2xvcjppfX06XCJcIn1mdW5jdGlvbiBiYyh0LGUpe3JldHVybiBlPWV8fFwidHJhbnNwYXJlbnRcIixIKHQpP3Q6WCh0KSYmdC5jb2xvclN0b3BzJiYodC5jb2xvclN0b3BzWzBdfHx7fSkuY29sb3J8fGV9ZnVuY3Rpb24gd2ModCxlKXtpZihcIl9ibGFua1wiPT09ZXx8XCJibGFua1wiPT09ZSl7dmFyIG49d2luZG93Lm9wZW4oKTtuLm9wZW5lcj1udWxsLG4ubG9jYXRpb24uaHJlZj10fWVsc2Ugd2luZG93Lm9wZW4odCxlKX12YXIgU2M9UCxNYz1bXCJsZWZ0XCIsXCJyaWdodFwiLFwidG9wXCIsXCJib3R0b21cIixcIndpZHRoXCIsXCJoZWlnaHRcIl0sSWM9W1tcIndpZHRoXCIsXCJsZWZ0XCIsXCJyaWdodFwiXSxbXCJoZWlnaHRcIixcInRvcFwiLFwiYm90dG9tXCJdXTtmdW5jdGlvbiBUYyh0LGUsbixpLHIpe3ZhciBvPTAsYT0wO251bGw9PWkmJihpPTEvMCksbnVsbD09ciYmKHI9MS8wKTt2YXIgcz0wO2UuZWFjaENoaWxkKChmdW5jdGlvbihsLHUpe3ZhciBoLGMscD1sLmdldEJvdW5kaW5nUmVjdCgpLGQ9ZS5jaGlsZEF0KHUrMSksZj1kJiZkLmdldEJvdW5kaW5nUmVjdCgpO2lmKFwiaG9yaXpvbnRhbFwiPT09dCl7dmFyIGc9cC53aWR0aCsoZj8tZi54K3AueDowKTsoaD1vK2cpPml8fGwubmV3bGluZT8obz0wLGg9ZyxhKz1zK24scz1wLmhlaWdodCk6cz1NYXRoLm1heChzLHAuaGVpZ2h0KX1lbHNle3ZhciB5PXAuaGVpZ2h0KyhmPy1mLnkrcC55OjApOyhjPWEreSk+cnx8bC5uZXdsaW5lPyhvKz1zK24sYT0wLGM9eSxzPXAud2lkdGgpOnM9TWF0aC5tYXgocyxwLndpZHRoKX1sLm5ld2xpbmV8fChsLng9byxsLnk9YSxsLm1hcmtSZWRyYXcoKSxcImhvcml6b250YWxcIj09PXQ/bz1oK246YT1jK24pfSkpfXZhciBDYz1UYztWKFRjLFwidmVydGljYWxcIiksVihUYyxcImhvcml6b250YWxcIik7ZnVuY3Rpb24gQWModCxlLG4pe249cGMobnx8MCk7dmFyIGk9ZS53aWR0aCxyPWUuaGVpZ2h0LG89WmkodC5sZWZ0LGkpLGE9WmkodC50b3Ascikscz1aaSh0LnJpZ2h0LGkpLGw9WmkodC5ib3R0b20sciksdT1aaSh0LndpZHRoLGkpLGg9WmkodC5oZWlnaHQsciksYz1uWzJdK25bMF0scD1uWzFdK25bM10sZD10LmFzcGVjdDtzd2l0Y2goaXNOYU4odSkmJih1PWktcy1wLW8pLGlzTmFOKGgpJiYoaD1yLWwtYy1hKSxudWxsIT1kJiYoaXNOYU4odSkmJmlzTmFOKGgpJiYoZD5pL3I/dT0uOCppOmg9LjgqciksaXNOYU4odSkmJih1PWQqaCksaXNOYU4oaCkmJihoPXUvZCkpLGlzTmFOKG8pJiYobz1pLXMtdS1wKSxpc05hTihhKSYmKGE9ci1sLWgtYyksdC5sZWZ0fHx0LnJpZ2h0KXtjYXNlXCJjZW50ZXJcIjpvPWkvMi11LzItblszXTticmVhaztjYXNlXCJyaWdodFwiOm89aS11LXB9c3dpdGNoKHQudG9wfHx0LmJvdHRvbSl7Y2FzZVwibWlkZGxlXCI6Y2FzZVwiY2VudGVyXCI6YT1yLzItaC8yLW5bMF07YnJlYWs7Y2FzZVwiYm90dG9tXCI6YT1yLWgtY31vPW98fDAsYT1hfHwwLGlzTmFOKHUpJiYodT1pLXAtby0oc3x8MCkpLGlzTmFOKGgpJiYoaD1yLWMtYS0obHx8MCkpO3ZhciBmPW5ldyBSbihvK25bM10sYStuWzBdLHUsaCk7cmV0dXJuIGYubWFyZ2luPW4sZn1mdW5jdGlvbiBEYyh0LGUsbixpLHIpe3ZhciBvPSFyfHwhci5odnx8ci5odlswXSxhPSFyfHwhci5odnx8ci5odlsxXSxzPXImJnIuYm91bmRpbmdNb2RlfHxcImFsbFwiO2lmKG98fGEpe3ZhciBsO2lmKFwicmF3XCI9PT1zKWw9XCJncm91cFwiPT09dC50eXBlP25ldyBSbigwLDAsK2Uud2lkdGh8fDAsK2UuaGVpZ2h0fHwwKTp0LmdldEJvdW5kaW5nUmVjdCgpO2Vsc2UgaWYobD10LmdldEJvdW5kaW5nUmVjdCgpLHQubmVlZExvY2FsVHJhbnNmb3JtKCkpe3ZhciB1PXQuZ2V0TG9jYWxUcmFuc2Zvcm0oKTsobD1sLmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKHUpfXZhciBoPUFjKFQoe3dpZHRoOmwud2lkdGgsaGVpZ2h0OmwuaGVpZ2h0fSxlKSxuLGkpLGM9bz9oLngtbC54OjAscD1hP2gueS1sLnk6MDtcInJhd1wiPT09cz8odC54PWMsdC55PXApOih0LngrPWMsdC55Kz1wKSx0Lm1hcmtSZWRyYXcoKX19ZnVuY3Rpb24gTGModCl7dmFyIGU9dC5sYXlvdXRNb2RlfHx0LmNvbnN0cnVjdG9yLmxheW91dE1vZGU7cmV0dXJuIFgoZSk/ZTplP3t0eXBlOmV9Om51bGx9ZnVuY3Rpb24ga2ModCxlLG4pe3ZhciBpPW4mJm4uaWdub3JlU2l6ZTshRihpKSYmKGk9W2ksaV0pO3ZhciByPWEoSWNbMF0sMCksbz1hKEljWzFdLDEpO2Z1bmN0aW9uIGEobixyKXt2YXIgbz17fSxhPTAsdT17fSxoPTA7aWYoU2MobiwoZnVuY3Rpb24oZSl7dVtlXT10W2VdfSkpLFNjKG4sKGZ1bmN0aW9uKHQpe3MoZSx0KSYmKG9bdF09dVt0XT1lW3RdKSxsKG8sdCkmJmErKyxsKHUsdCkmJmgrK30pKSxpW3JdKXJldHVybiBsKGUsblsxXSk/dVtuWzJdXT1udWxsOmwoZSxuWzJdKSYmKHVbblsxXV09bnVsbCksdTtpZigyIT09aCYmYSl7aWYoYT49MilyZXR1cm4gbztmb3IodmFyIGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIHA9bltjXTtpZighcyhvLHApJiZzKHQscCkpe29bcF09dFtwXTticmVha319cmV0dXJuIG99cmV0dXJuIHV9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gbnVsbCE9dFtlXSYmXCJhdXRvXCIhPT10W2VdfWZ1bmN0aW9uIHUodCxlLG4pe1NjKHQsKGZ1bmN0aW9uKHQpe2VbdF09blt0XX0pKX11KEljWzBdLHQsciksdShJY1sxXSx0LG8pfWZ1bmN0aW9uIFBjKHQpe3JldHVybiBPYyh7fSx0KX1mdW5jdGlvbiBPYyh0LGUpe3JldHVybiBlJiZ0JiZTYyhNYywoZnVuY3Rpb24obil7ZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSksdH12YXIgUmM9THIoKSxOYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyxlLG4saSl8fHRoaXM7cmV0dXJuIHIudWlkPUloKFwiZWNfY3B0X21vZGVsXCIpLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbil9LGUucHJvdG90eXBlLm1lcmdlRGVmYXVsdEFuZFRoZW1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49TGModGhpcyksaT1uP1BjKHQpOnt9O1ModCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMubWFpblR5cGUpKSxTKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLG4mJmtjKHQsaSxuKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXtTKHRoaXMub3B0aW9uLHQsITApO3ZhciBuPUxjKHRoaXMpO24mJmtjKHRoaXMub3B0aW9uLHQsbil9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yO2lmKCFmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdFtGcl0pfSh0KSlyZXR1cm4gdC5kZWZhdWx0T3B0aW9uO3ZhciBlPVJjKHRoaXMpO2lmKCFlLmRlZmF1bHRPcHRpb24pe2Zvcih2YXIgbj1bXSxpPXQ7aTspe3ZhciByPWkucHJvdG90eXBlLmRlZmF1bHRPcHRpb247ciYmbi5wdXNoKHIpLGk9aS5zdXBlckNsYXNzfWZvcih2YXIgbz17fSxhPW4ubGVuZ3RoLTE7YT49MDthLS0pbz1TKG8sblthXSwhMCk7ZS5kZWZhdWx0T3B0aW9uPW99cmV0dXJuIGUuZGVmYXVsdE9wdGlvbn0sZS5wcm90b3R5cGUuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cz1mdW5jdGlvbih0LGUpe3ZhciBuPXQrXCJJbmRleFwiLGk9dCtcIklkXCI7cmV0dXJuIE5yKHRoaXMuZWNNb2RlbCx0LHtpbmRleDp0aGlzLmdldChuLCEwKSxpZDp0aGlzLmdldChpLCEwKX0sZSl9LGUucHJvdG90eXBlLmdldEJveExheW91dFBhcmFtcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJue2xlZnQ6dC5nZXQoXCJsZWZ0XCIpLHRvcDp0LmdldChcInRvcFwiKSxyaWdodDp0LmdldChcInJpZ2h0XCIpLGJvdHRvbTp0LmdldChcImJvdHRvbVwiKSx3aWR0aDp0LmdldChcIndpZHRoXCIpLGhlaWdodDp0LmdldChcImhlaWdodFwiKX19LGUucHJvdG9Jbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGU7dC50eXBlPVwiY29tcG9uZW50XCIsdC5pZD1cIlwiLHQubmFtZT1cIlwiLHQubWFpblR5cGU9XCJcIix0LnN1YlR5cGU9XCJcIix0LmNvbXBvbmVudEluZGV4PTB9KCksZX0oU2gpO1lyKE5jLFNoKSxqcihOYyksZnVuY3Rpb24odCl7dmFyIGU9e307dC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXI9ZnVuY3Rpb24odCxuKXt2YXIgaT1Hcih0KTtlW2kubWFpbl09bn0sdC5kZXRlcm1pbmVTdWJUeXBlPWZ1bmN0aW9uKG4saSl7dmFyIHI9aS50eXBlO2lmKCFyKXt2YXIgbz1HcihuKS5tYWluO3QuaGFzU3ViVHlwZXMobikmJmVbb10mJihyPWVbb10oaSkpfXJldHVybiByfX0oTmMpLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0W2VdfHwodFtlXT17cHJlZGVjZXNzb3I6W10sc3VjY2Vzc29yOltdfSksdFtlXX10LnRvcG9sb2dpY2FsVHJhdmVsPWZ1bmN0aW9uKHQsaSxyLG8pe2lmKHQubGVuZ3RoKXt2YXIgYT1mdW5jdGlvbih0KXt2YXIgaT17fSxyPVtdO3JldHVybiBQKHQsKGZ1bmN0aW9uKG8pe3ZhciBhPW4oaSxvKSxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIFAodCwoZnVuY3Rpb24odCl7QShlLHQpPj0wJiZuLnB1c2godCl9KSksbn0oYS5vcmlnaW5hbERlcHM9ZShvKSx0KTthLmVudHJ5Q291bnQ9cy5sZW5ndGgsMD09PWEuZW50cnlDb3VudCYmci5wdXNoKG8pLFAocywoZnVuY3Rpb24odCl7QShhLnByZWRlY2Vzc29yLHQpPDAmJmEucHJlZGVjZXNzb3IucHVzaCh0KTt2YXIgZT1uKGksdCk7QShlLnN1Y2Nlc3Nvcix0KTwwJiZlLnN1Y2Nlc3Nvci5wdXNoKG8pfSkpfSkpLHtncmFwaDppLG5vRW50cnlMaXN0OnJ9fShpKSxzPWEuZ3JhcGgsbD1hLm5vRW50cnlMaXN0LHU9e307Zm9yKFAodCwoZnVuY3Rpb24odCl7dVt0XT0hMH0pKTtsLmxlbmd0aDspe3ZhciBoPWwucG9wKCksYz1zW2hdLHA9ISF1W2hdO3AmJihyLmNhbGwobyxoLGMub3JpZ2luYWxEZXBzLnNsaWNlKCkpLGRlbGV0ZSB1W2hdKSxQKGMuc3VjY2Vzc29yLHA/ZjpkKX1QKHUsKGZ1bmN0aW9uKCl7dmFyIHQ9XCJcIjt0aHJvdyBuZXcgRXJyb3IodCl9KSl9ZnVuY3Rpb24gZCh0KXtzW3RdLmVudHJ5Q291bnQtLSwwPT09c1t0XS5lbnRyeUNvdW50JiZsLnB1c2godCl9ZnVuY3Rpb24gZih0KXt1W3RdPSEwLGQodCl9fX0oTmMsKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO1AoTmMuZ2V0Q2xhc3Nlc0J5TWFpblR5cGUodCksKGZ1bmN0aW9uKHQpe2U9ZS5jb25jYXQodC5kZXBlbmRlbmNpZXN8fHQucHJvdG90eXBlLmRlcGVuZGVuY2llc3x8W10pfSkpLGU9TyhlLChmdW5jdGlvbih0KXtyZXR1cm4gR3IodCkubWFpbn0pKSxcImRhdGFzZXRcIiE9PXQmJkEoZSxcImRhdGFzZXRcIik8PTAmJmUudW5zaGlmdChcImRhdGFzZXRcIik7cmV0dXJuIGV9KSk7dmFyIEVjPVwiXCI7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmKEVjPW5hdmlnYXRvci5wbGF0Zm9ybXx8XCJcIik7dmFyIHpjPVwicmdiYSgwLCAwLCAwLCAwLjIpXCIsQmM9e2RhcmtNb2RlOlwiYXV0b1wiLGNvbG9yOltcIiM1NDcwYzZcIixcIiM5MWNjNzVcIixcIiNmYWM4NThcIixcIiNlZTY2NjZcIixcIiM3M2MwZGVcIixcIiMzYmEyNzJcIixcIiNmYzg0NTJcIixcIiM5YTYwYjRcIixcIiNlYTdjY2NcIl0sZ3JhZGllbnRDb2xvcjpbXCIjZjZlZmE2XCIsXCIjZDg4MjczXCIsXCIjYmY0NDRjXCJdLGFyaWE6e2RlY2FsOntkZWNhbHM6W3tjb2xvcjp6YyxkYXNoQXJyYXlYOlsxLDBdLGRhc2hBcnJheVk6WzIsNV0sc3ltYm9sU2l6ZToxLHJvdGF0aW9uOk1hdGguUEkvNn0se2NvbG9yOnpjLHN5bWJvbDpcImNpcmNsZVwiLGRhc2hBcnJheVg6W1s4LDhdLFswLDgsOCwwXV0sZGFzaEFycmF5WTpbNiwwXSxzeW1ib2xTaXplOi44fSx7Y29sb3I6emMsZGFzaEFycmF5WDpbMSwwXSxkYXNoQXJyYXlZOls0LDNdLHJvdGF0aW9uOi1NYXRoLlBJLzR9LHtjb2xvcjp6YyxkYXNoQXJyYXlYOltbNiw2XSxbMCw2LDYsMF1dLGRhc2hBcnJheVk6WzYsMF19LHtjb2xvcjp6YyxkYXNoQXJyYXlYOltbMSwwXSxbMSw2XV0sZGFzaEFycmF5WTpbMSwwLDYsMF0scm90YXRpb246TWF0aC5QSS80fSx7Y29sb3I6emMsc3ltYm9sOlwidHJpYW5nbGVcIixkYXNoQXJyYXlYOltbOSw5XSxbMCw5LDksMF1dLGRhc2hBcnJheVk6WzcsMl0sc3ltYm9sU2l6ZTouNzV9XX19LHRleHRTdHlsZTp7Zm9udEZhbWlseTpFYy5tYXRjaCgvXldpbi8pP1wiTWljcm9zb2Z0IFlhSGVpXCI6XCJzYW5zLXNlcmlmXCIsZm9udFNpemU6MTIsZm9udFN0eWxlOlwibm9ybWFsXCIsZm9udFdlaWdodDpcIm5vcm1hbFwifSxibGVuZE1vZGU6bnVsbCxzdGF0ZUFuaW1hdGlvbjp7ZHVyYXRpb246MzAwLGVhc2luZzpcImN1YmljT3V0XCJ9LGFuaW1hdGlvbjpcImF1dG9cIixhbmltYXRpb25EdXJhdGlvbjoxZTMsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6NTAwLGFuaW1hdGlvbkVhc2luZzpcImN1YmljSW5PdXRcIixhbmltYXRpb25FYXNpbmdVcGRhdGU6XCJjdWJpY0luT3V0XCIsYW5pbWF0aW9uVGhyZXNob2xkOjJlMyxwcm9ncmVzc2l2ZVRocmVzaG9sZDozZTMscHJvZ3Jlc3NpdmU6NDAwLGhvdmVyTGF5ZXJUaHJlc2hvbGQ6M2UzLHVzZVVUQzohMX0sVmM9aHQoW1widG9vbHRpcFwiLFwibGFiZWxcIixcIml0ZW1OYW1lXCIsXCJpdGVtSWRcIixcInNlcmllc05hbWVcIl0pLEZjPVwib3JpZ2luYWxcIixHYz1cImFycmF5Um93c1wiLEhjPVwib2JqZWN0Um93c1wiLFdjPVwia2V5ZWRDb2x1bW5zXCIsWWM9XCJ0eXBlZEFycmF5XCIsWGM9XCJ1bmtub3duXCIsVWM9XCJjb2x1bW5cIixaYz1cInJvd1wiLGpjPTEscWM9MixLYz0zLCRjPUxyKCk7ZnVuY3Rpb24gSmModCxlLG4pe3ZhciBpPXt9LHI9dHAoZSk7aWYoIXJ8fCF0KXJldHVybiBpO3ZhciBvLGEscz1bXSxsPVtdLHU9ZS5lY01vZGVsLGg9JGModSkuZGF0YXNldE1hcCxjPXIudWlkK1wiX1wiK24uc2VyaWVzTGF5b3V0Qnk7UCh0PXQuc2xpY2UoKSwoZnVuY3Rpb24oZSxuKXt2YXIgcj1YKGUpP2U6dFtuXT17bmFtZTplfTtcIm9yZGluYWxcIj09PXIudHlwZSYmbnVsbD09byYmKG89bixhPWYocikpLGlbci5uYW1lXT1bXX0pKTt2YXIgcD1oLmdldChjKXx8aC5zZXQoYyx7Y2F0ZWdvcnlXYXlEaW06YSx2YWx1ZVdheURpbTowfSk7ZnVuY3Rpb24gZCh0LGUsbil7Zm9yKHZhciBpPTA7aTxuO2krKyl0LnB1c2goZStpKX1mdW5jdGlvbiBmKHQpe3ZhciBlPXQuZGltc0RlZjtyZXR1cm4gZT9lLmxlbmd0aDoxfXJldHVybiBQKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5uYW1lLHI9Zih0KTtpZihudWxsPT1vKXt2YXIgYT1wLnZhbHVlV2F5RGltO2QoaVtuXSxhLHIpLGQobCxhLHIpLHAudmFsdWVXYXlEaW0rPXJ9ZWxzZSBpZihvPT09ZSlkKGlbbl0sMCxyKSxkKHMsMCxyKTtlbHNle2E9cC5jYXRlZ29yeVdheURpbTtkKGlbbl0sYSxyKSxkKGwsYSxyKSxwLmNhdGVnb3J5V2F5RGltKz1yfX0pKSxzLmxlbmd0aCYmKGkuaXRlbU5hbWU9cyksbC5sZW5ndGgmJihpLnNlcmllc05hbWU9bCksaX1mdW5jdGlvbiBRYyh0LGUsbil7dmFyIGk9e307aWYoIXRwKHQpKXJldHVybiBpO3ZhciByLG89ZS5zb3VyY2VGb3JtYXQsYT1lLmRpbWVuc2lvbnNEZWZpbmU7byE9PUhjJiZvIT09V2N8fFAoYSwoZnVuY3Rpb24odCxlKXtcIm5hbWVcIj09PShYKHQpP3QubmFtZTp0KSYmKHI9ZSl9KSk7dmFyIHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30saT17fSxzPVtdLGw9MCx1PU1hdGgubWluKDUsbik7bDx1O2wrKyl7dmFyIGg9bnAoZS5kYXRhLG8sZS5zZXJpZXNMYXlvdXRCeSxhLGUuc3RhcnRJbmRleCxsKTtzLnB1c2goaCk7dmFyIGM9aD09PUtjO2lmKGMmJm51bGw9PXQudiYmbCE9PXImJih0LnY9bCksKG51bGw9PXQubnx8dC5uPT09dC52fHwhYyYmc1t0Lm5dPT09S2MpJiYodC5uPWwpLHAodCkmJnNbdC5uXSE9PUtjKXJldHVybiB0O2N8fChoPT09cWMmJm51bGw9PWkudiYmbCE9PXImJihpLnY9bCksbnVsbCE9aS5uJiZpLm4hPT1pLnZ8fChpLm49bCkpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIG51bGwhPXQudiYmbnVsbCE9dC5ufXJldHVybiBwKHQpP3Q6cChpKT9pOm51bGx9KCk7aWYocyl7aS52YWx1ZT1bcy52XTt2YXIgbD1udWxsIT1yP3I6cy5uO2kuaXRlbU5hbWU9W2xdLGkuc2VyaWVzTmFtZT1bbF19cmV0dXJuIGl9ZnVuY3Rpb24gdHAodCl7aWYoIXQuZ2V0KFwiZGF0YVwiLCEwKSlyZXR1cm4gTnIodC5lY01vZGVsLFwiZGF0YXNldFwiLHtpbmRleDp0LmdldChcImRhdGFzZXRJbmRleFwiLCEwKSxpZDp0LmdldChcImRhdGFzZXRJZFwiLCEwKX0sT3IpLm1vZGVsc1swXX1mdW5jdGlvbiBlcCh0LGUpe3JldHVybiBucCh0LmRhdGEsdC5zb3VyY2VGb3JtYXQsdC5zZXJpZXNMYXlvdXRCeSx0LmRpbWVuc2lvbnNEZWZpbmUsdC5zdGFydEluZGV4LGUpfWZ1bmN0aW9uIG5wKHQsZSxuLGkscixvKXt2YXIgYSxzLGw7aWYoWih0KSlyZXR1cm4gS2M7aWYoaSl7dmFyIHU9aVtvXTtYKHUpPyhzPXUubmFtZSxsPXUudHlwZSk6SCh1KSYmKHM9dSl9aWYobnVsbCE9bClyZXR1cm5cIm9yZGluYWxcIj09PWw/amM6S2M7aWYoZT09PUdjKXt2YXIgaD10O2lmKG49PT1aYyl7Zm9yKHZhciBjPWhbb10scD0wO3A8KGN8fFtdKS5sZW5ndGgmJnA8NTtwKyspaWYobnVsbCE9KGE9bShjW3IrcF0pKSlyZXR1cm4gYX1lbHNlIGZvcihwPTA7cDxoLmxlbmd0aCYmcDw1O3ArKyl7dmFyIGQ9aFtyK3BdO2lmKGQmJm51bGwhPShhPW0oZFtvXSkpKXJldHVybiBhfX1lbHNlIGlmKGU9PT1IYyl7dmFyIGY9dDtpZighcylyZXR1cm4gS2M7Zm9yKHA9MDtwPGYubGVuZ3RoJiZwPDU7cCsrKXtpZigoeT1mW3BdKSYmbnVsbCE9KGE9bSh5W3NdKSkpcmV0dXJuIGF9fWVsc2UgaWYoZT09PVdjKXtpZighcylyZXR1cm4gS2M7aWYoIShjPXRbc10pfHxaKGMpKXJldHVybiBLYztmb3IocD0wO3A8Yy5sZW5ndGgmJnA8NTtwKyspaWYobnVsbCE9KGE9bShjW3BdKSkpcmV0dXJuIGF9ZWxzZSBpZihlPT09RmMpe3ZhciBnPXQ7Zm9yKHA9MDtwPGcubGVuZ3RoJiZwPDU7cCsrKXt2YXIgeSx2PXdyKHk9Z1twXSk7aWYoIUYodikpcmV0dXJuIEtjO2lmKG51bGwhPShhPW0odltvXSkpKXJldHVybiBhfX1mdW5jdGlvbiBtKHQpe3ZhciBlPUgodCk7cmV0dXJuIG51bGwhPXQmJmlzRmluaXRlKHQpJiZcIlwiIT09dD9lP3FjOktjOmUmJlwiLVwiIT09dD9qYzp2b2lkIDB9cmV0dXJuIEtjfXZhciBpcD1odCgpO3ZhciBycCxvcCxhcCxzcD1McigpLGxwPUxyKCksdXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRDb2xvckZyb21QYWxldHRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1fcih0aGlzLmdldChcImNvbG9yXCIsITApKSxyPXRoaXMuZ2V0KFwiY29sb3JMYXllclwiLCEwKTtyZXR1cm4gY3AodGhpcyxzcCxpLHIsdCxlLG4pfSx0LnByb3RvdHlwZS5jbGVhckNvbG9yUGFsZXR0ZT1mdW5jdGlvbigpeyFmdW5jdGlvbih0LGUpe2UodCkucGFsZXR0ZUlkeD0wLGUodCkucGFsZXR0ZU5hbWVNYXA9e319KHRoaXMsc3ApfSx0fSgpO2Z1bmN0aW9uIGhwKHQsZSxuLGkpe3ZhciByPV9yKHQuZ2V0KFtcImFyaWFcIixcImRlY2FsXCIsXCJkZWNhbHNcIl0pKTtyZXR1cm4gY3AodCxscCxyLG51bGwsZSxuLGkpfWZ1bmN0aW9uIGNwKHQsZSxuLGkscixvLGEpe3ZhciBzPWUobz1vfHx0KSxsPXMucGFsZXR0ZUlkeHx8MCx1PXMucGFsZXR0ZU5hbWVNYXA9cy5wYWxldHRlTmFtZU1hcHx8e307aWYodS5oYXNPd25Qcm9wZXJ0eShyKSlyZXR1cm4gdVtyXTt2YXIgaD1udWxsIT1hJiZpP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9MDtpPG47aSsrKWlmKHRbaV0ubGVuZ3RoPmUpcmV0dXJuIHRbaV07cmV0dXJuIHRbbi0xXX0oaSxhKTpuO2lmKChoPWh8fG4pJiZoLmxlbmd0aCl7dmFyIGM9aFtsXTtyZXR1cm4gciYmKHVbcl09Yykscy5wYWxldHRlSWR4PShsKzEpJWgubGVuZ3RoLGN9fXZhciBwcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2k9aXx8e30sdGhpcy5vcHRpb249bnVsbCx0aGlzLl90aGVtZT1uZXcgU2goaSksdGhpcy5fbG9jYWxlPW5ldyBTaChyKSx0aGlzLl9vcHRpb25NYW5hZ2VyPW99LGUucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9Z3AoZSk7dGhpcy5fb3B0aW9uTWFuYWdlci5zZXRPcHRpb24odCxuLGkpLHRoaXMuX3Jlc2V0T3B0aW9uKG51bGwsaSl9LGUucHJvdG90eXBlLnJlc2V0T3B0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Jlc2V0T3B0aW9uKHQsZ3AoZSkpfSxlLnByb3RvdHlwZS5fcmVzZXRPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj0hMSxpPXRoaXMuX29wdGlvbk1hbmFnZXI7aWYoIXR8fFwicmVjcmVhdGVcIj09PXQpe3ZhciByPWkubW91bnRPcHRpb24oXCJyZWNyZWF0ZVwiPT09dCk7dGhpcy5vcHRpb24mJlwicmVjcmVhdGVcIiE9PXQ/KHRoaXMucmVzdG9yZURhdGEoKSx0aGlzLl9tZXJnZU9wdGlvbihyLGUpKTphcCh0aGlzLHIpLG49ITB9aWYoXCJ0aW1lbGluZVwiIT09dCYmXCJtZWRpYVwiIT09dHx8dGhpcy5yZXN0b3JlRGF0YSgpLCF0fHxcInJlY3JlYXRlXCI9PT10fHxcInRpbWVsaW5lXCI9PT10KXt2YXIgbz1pLmdldFRpbWVsaW5lT3B0aW9uKHRoaXMpO28mJihuPSEwLHRoaXMuX21lcmdlT3B0aW9uKG8sZSkpfWlmKCF0fHxcInJlY3JlYXRlXCI9PT10fHxcIm1lZGlhXCI9PT10KXt2YXIgYT1pLmdldE1lZGlhT3B0aW9uKHRoaXMpO2EubGVuZ3RoJiZQKGEsKGZ1bmN0aW9uKHQpe249ITAsdGhpcy5fbWVyZ2VPcHRpb24odCxlKX0pLHRoaXMpfXJldHVybiBufSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9tZXJnZU9wdGlvbih0LG51bGwpfSxlLnByb3RvdHlwZS5fbWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPXRoaXMuX2NvbXBvbmVudHNNYXAscj10aGlzLl9jb21wb25lbnRzQ291bnQsbz1bXSxhPWh0KCkscz1lJiZlLnJlcGxhY2VNZXJnZU1haW5UeXBlTWFwOyRjKHRoaXMpLmRhdGFzZXRNYXA9aHQoKSxQKHQsKGZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmKE5jLmhhc0NsYXNzKGUpP2UmJihvLnB1c2goZSksYS5zZXQoZSwhMCkpOm5bZV09bnVsbD09bltlXT93KHQpOlMobltlXSx0LCEwKSl9KSkscyYmcy5lYWNoKChmdW5jdGlvbih0LGUpe05jLmhhc0NsYXNzKGUpJiYhYS5nZXQoZSkmJihvLnB1c2goZSksYS5zZXQoZSwhMCkpfSkpLE5jLnRvcG9sb2dpY2FsVHJhdmVsKG8sTmMuZ2V0QWxsQ2xhc3NNYWluVHlwZXMoKSwoZnVuY3Rpb24oZSl7dmFyIG89ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWlwLmdldChlKTtpZighaSlyZXR1cm4gbjt2YXIgcj1pKHQpO3JldHVybiByP24uY29uY2F0KHIpOm59KHRoaXMsZSxfcih0W2VdKSksYT1pLmdldChlKSxsPWE/cyYmcy5nZXQoZSk/XCJyZXBsYWNlTWVyZ2VcIjpcIm5vcm1hbE1lcmdlXCI6XCJyZXBsYWNlQWxsXCIsdT1TcihhLG8sbCk7KGZ1bmN0aW9uKHQsZSxuKXtQKHQsKGZ1bmN0aW9uKHQpe3ZhciBpPXQubmV3T3B0aW9uO1goaSkmJih0LmtleUluZm8ubWFpblR5cGU9ZSx0LmtleUluZm8uc3ViVHlwZT1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gZS50eXBlP2UudHlwZTpuP24uc3ViVHlwZTppLmRldGVybWluZVN1YlR5cGUodCxlKX0oZSxpLHQuZXhpc3RpbmcsbikpfSkpfSkodSxlLE5jKSxuW2VdPW51bGwsaS5zZXQoZSxudWxsKSxyLnNldChlLDApO3ZhciBoPVtdLGM9W10scD0wO1AodSwoZnVuY3Rpb24odCxuKXt2YXIgaT10LmV4aXN0aW5nLHI9dC5uZXdPcHRpb247aWYocil7dmFyIG89TmMuZ2V0Q2xhc3MoZSx0LmtleUluZm8uc3ViVHlwZSwhMCk7aWYoaSYmaS5jb25zdHJ1Y3Rvcj09PW8paS5uYW1lPXQua2V5SW5mby5uYW1lLGkubWVyZ2VPcHRpb24ocix0aGlzKSxpLm9wdGlvblVwZGF0ZWQociwhMSk7ZWxzZXt2YXIgYT1JKHtjb21wb25lbnRJbmRleDpufSx0LmtleUluZm8pO0koaT1uZXcgbyhyLHRoaXMsdGhpcyxhKSxhKSx0LmJyYW5kTmV3JiYoaS5fX3JlcXVpcmVOZXdWaWV3PSEwKSxpLmluaXQocix0aGlzLHRoaXMpLGkub3B0aW9uVXBkYXRlZChudWxsLCEwKX19ZWxzZSBpJiYoaS5tZXJnZU9wdGlvbih7fSx0aGlzKSxpLm9wdGlvblVwZGF0ZWQoe30sITEpKTtpPyhoLnB1c2goaS5vcHRpb24pLGMucHVzaChpKSxwKyspOihoLnB1c2godm9pZCAwKSxjLnB1c2godm9pZCAwKSl9KSx0aGlzKSxuW2VdPWgsaS5zZXQoZSxjKSxyLnNldChlLHApLFwic2VyaWVzXCI9PT1lJiZycCh0aGlzKX0pLHRoaXMpLHRoaXMuX3Nlcmllc0luZGljZXN8fHJwKHRoaXMpfSxlLnByb3RvdHlwZS5nZXRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD13KHRoaXMub3B0aW9uKTtyZXR1cm4gUCh0LChmdW5jdGlvbihlLG4pe2lmKE5jLmhhc0NsYXNzKG4pKXtmb3IodmFyIGk9X3IoZSkscj1pLmxlbmd0aCxvPSExLGE9ci0xO2E+PTA7YS0tKWlbYV0mJiFBcihpW2FdKT9vPSEwOihpW2FdPW51bGwsIW8mJnItLSk7aS5sZW5ndGg9cix0W25dPWl9fSkpLGRlbGV0ZSB0W1wiXFwwX2VjX2lubmVyXCJdLHR9LGUucHJvdG90eXBlLmdldFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW1lfSxlLnByb3RvdHlwZS5nZXRMb2NhbGVNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbGV9LGUucHJvdG90eXBlLmdldExvY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRMb2NhbGVNb2RlbCgpLmdldCh0KX0sZS5wcm90b3R5cGUuc2V0VXBkYXRlUGF5bG9hZD1mdW5jdGlvbih0KXt0aGlzLl9wYXlsb2FkPXR9LGUucHJvdG90eXBlLmdldFVwZGF0ZVBheWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5bG9hZH0sZS5wcm90b3R5cGUuZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY29tcG9uZW50c01hcC5nZXQodCk7aWYobil7dmFyIGk9bltlfHwwXTtpZihpKXJldHVybiBpO2lmKG51bGw9PWUpZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspaWYobltyXSlyZXR1cm4gbltyXX19LGUucHJvdG90eXBlLnF1ZXJ5Q29tcG9uZW50cz1mdW5jdGlvbih0KXt2YXIgZT10Lm1haW5UeXBlO2lmKCFlKXJldHVybltdO3ZhciBuLGk9dC5pbmRleCxyPXQuaWQsbz10Lm5hbWUsYT10aGlzLl9jb21wb25lbnRzTWFwLmdldChlKTtyZXR1cm4gYSYmYS5sZW5ndGg/KG51bGwhPWk/KG49W10sUChfcihpKSwoZnVuY3Rpb24odCl7YVt0XSYmbi5wdXNoKGFbdF0pfSkpKTpuPW51bGwhPXI/ZHAoXCJpZFwiLHIsYSk6bnVsbCE9bz9kcChcIm5hbWVcIixvLGEpOk4oYSwoZnVuY3Rpb24odCl7cmV0dXJuISF0fSkpLGZwKG4sdCkpOltdfSxlLnByb3RvdHlwZS5maW5kQ29tcG9uZW50cz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLGE9dC5xdWVyeSxzPXQubWFpblR5cGUsbD0obj1zK1wiSW5kZXhcIixpPXMrXCJJZFwiLHI9cytcIk5hbWVcIiwhKGU9YSl8fG51bGw9PWVbbl0mJm51bGw9PWVbaV0mJm51bGw9PWVbcl0/bnVsbDp7bWFpblR5cGU6cyxpbmRleDplW25dLGlkOmVbaV0sbmFtZTplW3JdfSksdT1sP3RoaXMucXVlcnlDb21wb25lbnRzKGwpOk4odGhpcy5fY29tcG9uZW50c01hcC5nZXQocyksKGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pKTtyZXR1cm4gbz1mcCh1LHQpLHQuZmlsdGVyP04obyx0LmZpbHRlcik6b30sZS5wcm90b3R5cGUuZWFjaENvbXBvbmVudD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fY29tcG9uZW50c01hcDtpZihHKHQpKXt2YXIgcj1lLG89dDtpLmVhY2goKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7dCYmbjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aSYmby5jYWxsKHIsZSxpLGkuY29tcG9uZW50SW5kZXgpfX0pKX1lbHNlIGZvcih2YXIgYT1IKHQpP2kuZ2V0KHQpOlgodCk/dGhpcy5maW5kQ29tcG9uZW50cyh0KTpudWxsLHM9MDthJiZzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTtsJiZlLmNhbGwobixsLGwuY29tcG9uZW50SW5kZXgpfX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQnlOYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPVRyKHQsbnVsbCk7cmV0dXJuIE4odGhpcy5fY29tcG9uZW50c01hcC5nZXQoXCJzZXJpZXNcIiksKGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmbnVsbCE9ZSYmdC5uYW1lPT09ZX0pKX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQnlJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c01hcC5nZXQoXCJzZXJpZXNcIilbdF19LGUucHJvdG90eXBlLmdldFNlcmllc0J5VHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gTih0aGlzLl9jb21wb25lbnRzTWFwLmdldChcInNlcmllc1wiKSwoZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLnN1YlR5cGU9PT10fSkpfSxlLnByb3RvdHlwZS5nZXRTZXJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLl9jb21wb25lbnRzTWFwLmdldChcInNlcmllc1wiKS5zbGljZSgpLChmdW5jdGlvbih0KXtyZXR1cm4hIXR9KSl9LGUucHJvdG90eXBlLmdldFNlcmllc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNDb3VudC5nZXQoXCJzZXJpZXNcIil9LGUucHJvdG90eXBlLmVhY2hTZXJpZXM9ZnVuY3Rpb24odCxlKXtvcCh0aGlzKSxQKHRoaXMuX3Nlcmllc0luZGljZXMsKGZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KFwic2VyaWVzXCIpW25dO3QuY2FsbChlLGksbil9KSx0aGlzKX0sZS5wcm90b3R5cGUuZWFjaFJhd1Nlcmllcz1mdW5jdGlvbih0LGUpe1AodGhpcy5fY29tcG9uZW50c01hcC5nZXQoXCJzZXJpZXNcIiksKGZ1bmN0aW9uKG4pe24mJnQuY2FsbChlLG4sbi5jb21wb25lbnRJbmRleCl9KSl9LGUucHJvdG90eXBlLmVhY2hTZXJpZXNCeVR5cGU9ZnVuY3Rpb24odCxlLG4pe29wKHRoaXMpLFAodGhpcy5fc2VyaWVzSW5kaWNlcywoZnVuY3Rpb24oaSl7dmFyIHI9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoXCJzZXJpZXNcIilbaV07ci5zdWJUeXBlPT09dCYmZS5jYWxsKG4scixpKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5lYWNoUmF3U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUCh0aGlzLmdldFNlcmllc0J5VHlwZSh0KSxlLG4pfSxlLnByb3RvdHlwZS5pc1Nlcmllc0ZpbHRlcmVkPWZ1bmN0aW9uKHQpe3JldHVybiBvcCh0aGlzKSxudWxsPT10aGlzLl9zZXJpZXNJbmRpY2VzTWFwLmdldCh0LmNvbXBvbmVudEluZGV4KX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFNlcmllc0luZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fc2VyaWVzSW5kaWNlc3x8W10pLnNsaWNlKCl9LGUucHJvdG90eXBlLmZpbHRlclNlcmllcz1mdW5jdGlvbih0LGUpe29wKHRoaXMpO3ZhciBuPVtdO1AodGhpcy5fc2VyaWVzSW5kaWNlcywoZnVuY3Rpb24oaSl7dmFyIHI9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoXCJzZXJpZXNcIilbaV07dC5jYWxsKGUscixpKSYmbi5wdXNoKGkpfSksdGhpcyksdGhpcy5fc2VyaWVzSW5kaWNlcz1uLHRoaXMuX3Nlcmllc0luZGljZXNNYXA9aHQobil9LGUucHJvdG90eXBlLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKHQpe3JwKHRoaXMpO3ZhciBlPXRoaXMuX2NvbXBvbmVudHNNYXAsbj1bXTtlLmVhY2goKGZ1bmN0aW9uKHQsZSl7TmMuaGFzQ2xhc3MoZSkmJm4ucHVzaChlKX0pKSxOYy50b3BvbG9naWNhbFRyYXZlbChuLE5jLmdldEFsbENsYXNzTWFpblR5cGVzKCksKGZ1bmN0aW9uKG4pe1AoZS5nZXQobiksKGZ1bmN0aW9uKGUpeyFlfHxcInNlcmllc1wiPT09biYmZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgbj1lLnNlcmllc0luZGV4LGk9ZS5zZXJpZXNJZCxyPWUuc2VyaWVzTmFtZTtyZXR1cm4gbnVsbCE9biYmdC5jb21wb25lbnRJbmRleCE9PW58fG51bGwhPWkmJnQuaWQhPT1pfHxudWxsIT1yJiZ0Lm5hbWUhPT1yfX0oZSx0KXx8ZS5yZXN0b3JlRGF0YSgpfSkpfSkpfSxlLmludGVybmFsRmllbGQ9KHJwPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX3Nlcmllc0luZGljZXM9W107UCh0Ll9jb21wb25lbnRzTWFwLmdldChcInNlcmllc1wiKSwoZnVuY3Rpb24odCl7dCYmZS5wdXNoKHQuY29tcG9uZW50SW5kZXgpfSkpLHQuX3Nlcmllc0luZGljZXNNYXA9aHQoZSl9LG9wPWZ1bmN0aW9uKHQpe30sdm9pZChhcD1mdW5jdGlvbih0LGUpe3Qub3B0aW9uPXt9LHQub3B0aW9uW1wiXFwwX2VjX2lubmVyXCJdPTEsdC5fY29tcG9uZW50c01hcD1odCh7c2VyaWVzOltdfSksdC5fY29tcG9uZW50c0NvdW50PWh0KCk7dmFyIG49ZS5hcmlhO1gobikmJm51bGw9PW4uZW5hYmxlZCYmKG4uZW5hYmxlZD0hMCksZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbG9yJiYhdC5jb2xvckxheWVyO1AoZSwoZnVuY3Rpb24oZSxpKXtcImNvbG9yTGF5ZXJcIj09PWkmJm58fE5jLmhhc0NsYXNzKGkpfHwoXCJvYmplY3RcIj09dHlwZW9mIGU/dFtpXT10W2ldP1ModFtpXSxlLCExKTp3KGUpOm51bGw9PXRbaV0mJih0W2ldPWUpKX0pKX0oZSx0Ll90aGVtZS5vcHRpb24pLFMoZSxCYywhMSksdC5fbWVyZ2VPcHRpb24oZSxudWxsKX0pKSxlfShTaCk7ZnVuY3Rpb24gZHAodCxlLG4pe2lmKEYoZSkpe3ZhciBpPWh0KCk7cmV0dXJuIFAoZSwoZnVuY3Rpb24odCl7bnVsbCE9dCYmKG51bGwhPVRyKHQsbnVsbCkmJmkuc2V0KHQsITApKX0pKSxOKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZpLmdldChlW3RdKX0pKX12YXIgcj1UcihlLG51bGwpO3JldHVybiBOKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZudWxsIT1yJiZlW3RdPT09cn0pKX1mdW5jdGlvbiBmcCh0LGUpe3JldHVybiBlLmhhc093blByb3BlcnR5KFwic3ViVHlwZVwiKT9OKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnN1YlR5cGU9PT1lLnN1YlR5cGV9KSk6dH1mdW5jdGlvbiBncCh0KXt2YXIgZT1odCgpO3JldHVybiB0JiZQKF9yKHQucmVwbGFjZU1lcmdlKSwoZnVuY3Rpb24odCl7ZS5zZXQodCwhMCl9KSkse3JlcGxhY2VNZXJnZU1haW5UeXBlTWFwOmV9fUwocHAsdXApO3ZhciB5cD1bXCJnZXREb21cIixcImdldFpyXCIsXCJnZXRXaWR0aFwiLFwiZ2V0SGVpZ2h0XCIsXCJnZXREZXZpY2VQaXhlbFJhdGlvXCIsXCJkaXNwYXRjaEFjdGlvblwiLFwiaXNEaXNwb3NlZFwiLFwib25cIixcIm9mZlwiLFwiZ2V0RGF0YVVSTFwiLFwiZ2V0Q29ubmVjdGVkRGF0YVVSTFwiLFwiZ2V0T3B0aW9uXCIsXCJnZXRJZFwiLFwidXBkYXRlTGFiZWxMYXlvdXRcIl0sdnA9ZnVuY3Rpb24odCl7UCh5cCwoZnVuY3Rpb24oZSl7dGhpc1tlXT1CKHRbZV0sdCl9KSx0aGlzKX0sbXA9e30sX3A9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9W119cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO1AobXAsKGZ1bmN0aW9uKGkscil7dmFyIG89aS5jcmVhdGUodCxlKTtuPW4uY29uY2F0KG98fFtdKX0pKSx0aGlzLl9jb29yZGluYXRlU3lzdGVtcz1ufSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtQKHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zLChmdW5jdGlvbihuKXtuLnVwZGF0ZSYmbi51cGRhdGUodCxlKX0pKX0sdC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZVN5c3RlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZVN5c3RlbXMuc2xpY2UoKX0sdC5yZWdpc3Rlcj1mdW5jdGlvbih0LGUpe21wW3RdPWV9LHQuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBtcFt0XX0sdH0oKSx4cD0vXihtaW58bWF4KT8oLispJC8sYnA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3RpbWVsaW5lT3B0aW9ucz1bXSx0aGlzLl9tZWRpYUxpc3Q9W10sdGhpcy5fY3VycmVudE1lZGlhSW5kaWNlcz1bXSx0aGlzLl9hcGk9dH1yZXR1cm4gdC5wcm90b3R5cGUuc2V0T3B0aW9uPWZ1bmN0aW9uKHQsZSxuKXt0JiYoUChfcih0LnNlcmllcyksKGZ1bmN0aW9uKHQpe3QmJnQuZGF0YSYmWih0LmRhdGEpJiZzdCh0LmRhdGEpfSkpLFAoX3IodC5kYXRhc2V0KSwoZnVuY3Rpb24odCl7dCYmdC5zb3VyY2UmJloodC5zb3VyY2UpJiZzdCh0LnNvdXJjZSl9KSkpLHQ9dyh0KTt2YXIgaT10aGlzLl9vcHRpb25CYWNrdXAscj1mdW5jdGlvbih0LGUsbil7dmFyIGkscixvPVtdLGE9dC5iYXNlT3B0aW9uLHM9dC50aW1lbGluZSxsPXQub3B0aW9ucyx1PXQubWVkaWEsaD0hIXQubWVkaWEsYz0hIShsfHxzfHxhJiZhLnRpbWVsaW5lKTthPyhyPWEpLnRpbWVsaW5lfHwoci50aW1lbGluZT1zKTooKGN8fGgpJiYodC5vcHRpb25zPXQubWVkaWE9bnVsbCkscj10KTtoJiZGKHUpJiZQKHUsKGZ1bmN0aW9uKHQpe3QmJnQub3B0aW9uJiYodC5xdWVyeT9vLnB1c2godCk6aXx8KGk9dCkpfSkpO2Z1bmN0aW9uIHAodCl7UChlLChmdW5jdGlvbihlKXtlKHQsbil9KSl9cmV0dXJuIHAociksUChsLChmdW5jdGlvbih0KXtyZXR1cm4gcCh0KX0pKSxQKG8sKGZ1bmN0aW9uKHQpe3JldHVybiBwKHQub3B0aW9uKX0pKSx7YmFzZU9wdGlvbjpyLHRpbWVsaW5lT3B0aW9uczpsfHxbXSxtZWRpYURlZmF1bHQ6aSxtZWRpYUxpc3Q6b319KHQsZSwhaSk7dGhpcy5fbmV3QmFzZU9wdGlvbj1yLmJhc2VPcHRpb24saT8oci50aW1lbGluZU9wdGlvbnMubGVuZ3RoJiYoaS50aW1lbGluZU9wdGlvbnM9ci50aW1lbGluZU9wdGlvbnMpLHIubWVkaWFMaXN0Lmxlbmd0aCYmKGkubWVkaWFMaXN0PXIubWVkaWFMaXN0KSxyLm1lZGlhRGVmYXVsdCYmKGkubWVkaWFEZWZhdWx0PXIubWVkaWFEZWZhdWx0KSk6dGhpcy5fb3B0aW9uQmFja3VwPXJ9LHQucHJvdG90eXBlLm1vdW50T3B0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29wdGlvbkJhY2t1cDtyZXR1cm4gdGhpcy5fdGltZWxpbmVPcHRpb25zPWUudGltZWxpbmVPcHRpb25zLHRoaXMuX21lZGlhTGlzdD1lLm1lZGlhTGlzdCx0aGlzLl9tZWRpYURlZmF1bHQ9ZS5tZWRpYURlZmF1bHQsdGhpcy5fY3VycmVudE1lZGlhSW5kaWNlcz1bXSx3KHQ/ZS5iYXNlT3B0aW9uOnRoaXMuX25ld0Jhc2VPcHRpb24pfSx0LnByb3RvdHlwZS5nZXRUaW1lbGluZU9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuX3RpbWVsaW5lT3B0aW9ucztpZihuLmxlbmd0aCl7dmFyIGk9dC5nZXRDb21wb25lbnQoXCJ0aW1lbGluZVwiKTtpJiYoZT13KG5baS5nZXRDdXJyZW50SW5kZXgoKV0pKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0TWVkaWFPcHRpb249ZnVuY3Rpb24odCl7dmFyIGUsbixpPXRoaXMuX2FwaS5nZXRXaWR0aCgpLHI9dGhpcy5fYXBpLmdldEhlaWdodCgpLG89dGhpcy5fbWVkaWFMaXN0LGE9dGhpcy5fbWVkaWFEZWZhdWx0LHM9W10sbD1bXTtpZighby5sZW5ndGgmJiFhKXJldHVybiBsO2Zvcih2YXIgdT0wLGg9by5sZW5ndGg7dTxoO3UrKyl3cChvW3VdLnF1ZXJ5LGkscikmJnMucHVzaCh1KTtyZXR1cm4hcy5sZW5ndGgmJmEmJihzPVstMV0pLHMubGVuZ3RoJiYoZT1zLG49dGhpcy5fY3VycmVudE1lZGlhSW5kaWNlcyxlLmpvaW4oXCIsXCIpIT09bi5qb2luKFwiLFwiKSkmJihsPU8ocywoZnVuY3Rpb24odCl7cmV0dXJuIHcoLTE9PT10P2Eub3B0aW9uOm9bdF0ub3B0aW9uKX0pKSksdGhpcy5fY3VycmVudE1lZGlhSW5kaWNlcz1zLGx9LHR9KCk7ZnVuY3Rpb24gd3AodCxlLG4pe3ZhciBpPXt3aWR0aDplLGhlaWdodDpuLGFzcGVjdHJhdGlvOmUvbn0scj0hMDtyZXR1cm4gUCh0LChmdW5jdGlvbih0LGUpe3ZhciBuPWUubWF0Y2goeHApO2lmKG4mJm5bMV0mJm5bMl0pe3ZhciBvPW5bMV0sYT1uWzJdLnRvTG93ZXJDYXNlKCk7KGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5cIm1pblwiPT09bj90Pj1lOlwibWF4XCI9PT1uP3Q8PWU6dD09PWV9KShpW2FdLHQsbyl8fChyPSExKX19KSkscn12YXIgU3A9UCxNcD1YLElwPVtcImFyZWFTdHlsZVwiLFwibGluZVN0eWxlXCIsXCJub2RlU3R5bGVcIixcImxpbmtTdHlsZVwiLFwiY2hvcmRTdHlsZVwiLFwibGFiZWxcIixcImxhYmVsTGluZVwiXTtmdW5jdGlvbiBUcCh0KXt2YXIgZT10JiZ0Lml0ZW1TdHlsZTtpZihlKWZvcih2YXIgbj0wLGk9SXAubGVuZ3RoO248aTtuKyspe3ZhciByPUlwW25dLG89ZS5ub3JtYWwsYT1lLmVtcGhhc2lzO28mJm9bcl0mJih0W3JdPXRbcl18fHt9LHRbcl0ubm9ybWFsP1ModFtyXS5ub3JtYWwsb1tyXSk6dFtyXS5ub3JtYWw9b1tyXSxvW3JdPW51bGwpLGEmJmFbcl0mJih0W3JdPXRbcl18fHt9LHRbcl0uZW1waGFzaXM/Uyh0W3JdLmVtcGhhc2lzLGFbcl0pOnRbcl0uZW1waGFzaXM9YVtyXSxhW3JdPW51bGwpfX1mdW5jdGlvbiBDcCh0LGUsbil7aWYodCYmdFtlXSYmKHRbZV0ubm9ybWFsfHx0W2VdLmVtcGhhc2lzKSl7dmFyIGk9dFtlXS5ub3JtYWwscj10W2VdLmVtcGhhc2lzO2kmJihuPyh0W2VdLm5vcm1hbD10W2VdLmVtcGhhc2lzPW51bGwsVCh0W2VdLGkpKTp0W2VdPWkpLHImJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LHQuZW1waGFzaXNbZV09cixyLmZvY3VzJiYodC5lbXBoYXNpcy5mb2N1cz1yLmZvY3VzKSxyLmJsdXJTY29wZSYmKHQuZW1waGFzaXMuYmx1clNjb3BlPXIuYmx1clNjb3BlKSl9fWZ1bmN0aW9uIEFwKHQpe0NwKHQsXCJpdGVtU3R5bGVcIiksQ3AodCxcImxpbmVTdHlsZVwiKSxDcCh0LFwiYXJlYVN0eWxlXCIpLENwKHQsXCJsYWJlbFwiKSxDcCh0LFwibGFiZWxMaW5lXCIpLENwKHQsXCJ1cHBlckxhYmVsXCIpLENwKHQsXCJlZGdlTGFiZWxcIil9ZnVuY3Rpb24gRHAodCxlKXt2YXIgbj1NcCh0KSYmdFtlXSxpPU1wKG4pJiZuLnRleHRTdHlsZTtpZihpKXswO2Zvcih2YXIgcj0wLG89YnIubGVuZ3RoO3I8bztyKyspe3ZhciBhPWJyW3JdO2kuaGFzT3duUHJvcGVydHkoYSkmJihuW2FdPWlbYV0pfX19ZnVuY3Rpb24gTHAodCl7dCYmKEFwKHQpLERwKHQsXCJsYWJlbFwiKSx0LmVtcGhhc2lzJiZEcCh0LmVtcGhhc2lzLFwibGFiZWxcIikpfWZ1bmN0aW9uIGtwKHQpe3JldHVybiBGKHQpP3Q6dD9bdF06W119ZnVuY3Rpb24gUHAodCl7cmV0dXJuKEYodCk/dFswXTp0KXx8e319ZnVuY3Rpb24gT3AodCxlKXtTcChrcCh0LnNlcmllcyksKGZ1bmN0aW9uKHQpe01wKHQpJiZmdW5jdGlvbih0KXtpZihNcCh0KSl7VHAodCksQXAodCksRHAodCxcImxhYmVsXCIpLERwKHQsXCJ1cHBlckxhYmVsXCIpLERwKHQsXCJlZGdlTGFiZWxcIiksdC5lbXBoYXNpcyYmKERwKHQuZW1waGFzaXMsXCJsYWJlbFwiKSxEcCh0LmVtcGhhc2lzLFwidXBwZXJMYWJlbFwiKSxEcCh0LmVtcGhhc2lzLFwiZWRnZUxhYmVsXCIpKTt2YXIgZT10Lm1hcmtQb2ludDtlJiYoVHAoZSksTHAoZSkpO3ZhciBuPXQubWFya0xpbmU7biYmKFRwKG4pLExwKG4pKTt2YXIgaT10Lm1hcmtBcmVhO2kmJkxwKGkpO3ZhciByPXQuZGF0YTtpZihcImdyYXBoXCI9PT10LnR5cGUpe3I9cnx8dC5ub2Rlczt2YXIgbz10LmxpbmtzfHx0LmVkZ2VzO2lmKG8mJiFaKG8pKWZvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKUxwKG9bYV0pO1AodC5jYXRlZ29yaWVzLChmdW5jdGlvbih0KXtBcCh0KX0pKX1pZihyJiYhWihyKSlmb3IoYT0wO2E8ci5sZW5ndGg7YSsrKUxwKHJbYV0pO2lmKChlPXQubWFya1BvaW50KSYmZS5kYXRhKXt2YXIgcz1lLmRhdGE7Zm9yKGE9MDthPHMubGVuZ3RoO2ErKylMcChzW2FdKX1pZigobj10Lm1hcmtMaW5lKSYmbi5kYXRhKXt2YXIgbD1uLmRhdGE7Zm9yKGE9MDthPGwubGVuZ3RoO2ErKylGKGxbYV0pPyhMcChsW2FdWzBdKSxMcChsW2FdWzFdKSk6THAobFthXSl9XCJnYXVnZVwiPT09dC50eXBlPyhEcCh0LFwiYXhpc0xhYmVsXCIpLERwKHQsXCJ0aXRsZVwiKSxEcCh0LFwiZGV0YWlsXCIpKTpcInRyZWVtYXBcIj09PXQudHlwZT8oQ3AodC5icmVhZGNydW1iLFwiaXRlbVN0eWxlXCIpLFAodC5sZXZlbHMsKGZ1bmN0aW9uKHQpe0FwKHQpfSkpKTpcInRyZWVcIj09PXQudHlwZSYmQXAodC5sZWF2ZXMpfX0odCl9KSk7dmFyIG49W1wieEF4aXNcIixcInlBeGlzXCIsXCJyYWRpdXNBeGlzXCIsXCJhbmdsZUF4aXNcIixcInNpbmdsZUF4aXNcIixcInBhcmFsbGVsQXhpc1wiLFwicmFkYXJcIl07ZSYmbi5wdXNoKFwidmFsdWVBeGlzXCIsXCJjYXRlZ29yeUF4aXNcIixcImxvZ0F4aXNcIixcInRpbWVBeGlzXCIpLFNwKG4sKGZ1bmN0aW9uKGUpe1NwKGtwKHRbZV0pLChmdW5jdGlvbih0KXt0JiYoRHAodCxcImF4aXNMYWJlbFwiKSxEcCh0LmF4aXNQb2ludGVyLFwibGFiZWxcIikpfSkpfSkpLFNwKGtwKHQucGFyYWxsZWwpLChmdW5jdGlvbih0KXt2YXIgZT10JiZ0LnBhcmFsbGVsQXhpc0RlZmF1bHQ7RHAoZSxcImF4aXNMYWJlbFwiKSxEcChlJiZlLmF4aXNQb2ludGVyLFwibGFiZWxcIil9KSksU3Aoa3AodC5jYWxlbmRhciksKGZ1bmN0aW9uKHQpe0NwKHQsXCJpdGVtU3R5bGVcIiksRHAodCxcImRheUxhYmVsXCIpLERwKHQsXCJtb250aExhYmVsXCIpLERwKHQsXCJ5ZWFyTGFiZWxcIil9KSksU3Aoa3AodC5yYWRhciksKGZ1bmN0aW9uKHQpe0RwKHQsXCJuYW1lXCIpLHQubmFtZSYmbnVsbD09dC5heGlzTmFtZSYmKHQuYXhpc05hbWU9dC5uYW1lLGRlbGV0ZSB0Lm5hbWUpLG51bGwhPXQubmFtZUdhcCYmbnVsbD09dC5heGlzTmFtZUdhcCYmKHQuYXhpc05hbWVHYXA9dC5uYW1lR2FwLGRlbGV0ZSB0Lm5hbWVHYXApfSkpLFNwKGtwKHQuZ2VvKSwoZnVuY3Rpb24odCl7TXAodCkmJihMcCh0KSxTcChrcCh0LnJlZ2lvbnMpLChmdW5jdGlvbih0KXtMcCh0KX0pKSl9KSksU3Aoa3AodC50aW1lbGluZSksKGZ1bmN0aW9uKHQpe0xwKHQpLENwKHQsXCJsYWJlbFwiKSxDcCh0LFwiaXRlbVN0eWxlXCIpLENwKHQsXCJjb250cm9sU3R5bGVcIiwhMCk7dmFyIGU9dC5kYXRhO0YoZSkmJlAoZSwoZnVuY3Rpb24odCl7WCh0KSYmKENwKHQsXCJsYWJlbFwiKSxDcCh0LFwiaXRlbVN0eWxlXCIpKX0pKX0pKSxTcChrcCh0LnRvb2xib3gpLChmdW5jdGlvbih0KXtDcCh0LFwiaWNvblN0eWxlXCIpLFNwKHQuZmVhdHVyZSwoZnVuY3Rpb24odCl7Q3AodCxcImljb25TdHlsZVwiKX0pKX0pKSxEcChQcCh0LmF4aXNQb2ludGVyKSxcImxhYmVsXCIpLERwKFBwKHQudG9vbHRpcCkuYXhpc1BvaW50ZXIsXCJsYWJlbFwiKX1mdW5jdGlvbiBScCh0KXt0JiZQKE5wLChmdW5jdGlvbihlKXtlWzBdaW4gdCYmIShlWzFdaW4gdCkmJih0W2VbMV1dPXRbZVswXV0pfSkpfXZhciBOcD1bW1wieFwiLFwibGVmdFwiXSxbXCJ5XCIsXCJ0b3BcIl0sW1wieDJcIixcInJpZ2h0XCJdLFtcInkyXCIsXCJib3R0b21cIl1dLEVwPVtcImdyaWRcIixcImdlb1wiLFwicGFyYWxsZWxcIixcImxlZ2VuZFwiLFwidG9vbGJveFwiLFwidGl0bGVcIixcInZpc3VhbE1hcFwiLFwiZGF0YVpvb21cIixcInRpbWVsaW5lXCJdLHpwPVtbXCJib3JkZXJSYWRpdXNcIixcImJhckJvcmRlclJhZGl1c1wiXSxbXCJib3JkZXJDb2xvclwiLFwiYmFyQm9yZGVyQ29sb3JcIl0sW1wiYm9yZGVyV2lkdGhcIixcImJhckJvcmRlcldpZHRoXCJdXTtmdW5jdGlvbiBCcCh0KXt2YXIgZT10JiZ0Lml0ZW1TdHlsZTtpZihlKWZvcih2YXIgbj0wO248enAubGVuZ3RoO24rKyl7dmFyIGk9enBbbl1bMV0scj16cFtuXVswXTtudWxsIT1lW2ldJiYoZVtyXT1lW2ldKX19ZnVuY3Rpb24gVnAodCl7dCYmXCJlZGdlXCI9PT10LmFsaWduVG8mJm51bGwhPXQubWFyZ2luJiZudWxsPT10LmVkZ2VEaXN0YW5jZSYmKHQuZWRnZURpc3RhbmNlPXQubWFyZ2luKX1mdW5jdGlvbiBGcCh0KXt0JiZ0LmRvd25wbGF5JiYhdC5ibHVyJiYodC5ibHVyPXQuZG93bnBsYXkpfWZ1bmN0aW9uIEdwKHQsZSl7aWYodClmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllKHRbbl0pLHRbbl0mJkdwKHRbbl0uY2hpbGRyZW4sZSl9ZnVuY3Rpb24gSHAodCxlKXtPcCh0LGUpLHQuc2VyaWVzPV9yKHQuc2VyaWVzKSxQKHQuc2VyaWVzLChmdW5jdGlvbih0KXtpZihYKHQpKXt2YXIgZT10LnR5cGU7aWYoXCJsaW5lXCI9PT1lKW51bGwhPXQuY2xpcE92ZXJmbG93JiYodC5jbGlwPXQuY2xpcE92ZXJmbG93KTtlbHNlIGlmKFwicGllXCI9PT1lfHxcImdhdWdlXCI9PT1lKXtpZihudWxsIT10LmNsb2NrV2lzZSYmKHQuY2xvY2t3aXNlPXQuY2xvY2tXaXNlKSxWcCh0LmxhYmVsKSwocj10LmRhdGEpJiYhWihyKSlmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKylWcChyW25dKTtudWxsIT10LmhvdmVyT2Zmc2V0JiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSwodC5lbXBoYXNpcy5zY2FsZVNpemU9bnVsbCkmJih0LmVtcGhhc2lzLnNjYWxlU2l6ZT10LmhvdmVyT2Zmc2V0KSl9ZWxzZSBpZihcImdhdWdlXCI9PT1lKXt2YXIgaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnNwbGl0KFwiLFwiKSxpPXQscj0wO3I8bi5sZW5ndGgmJm51bGwhPShpPWkmJmlbbltyXV0pO3IrKyk7cmV0dXJuIGl9KHQsXCJwb2ludGVyLmNvbG9yXCIpO251bGwhPWkmJmZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcixvPWUuc3BsaXQoXCIsXCIpLGE9dCxzPTA7czxvLmxlbmd0aC0xO3MrKyludWxsPT1hW3I9b1tzXV0mJihhW3JdPXt9KSxhPWFbcl07KGl8fG51bGw9PWFbb1tzXV0pJiYoYVtvW3NdXT1uKX0odCxcIml0ZW1TdHlsZS5jb2xvclwiLGkpfWVsc2UgaWYoXCJiYXJcIj09PWUpe3ZhciByO2lmKEJwKHQpLEJwKHQuYmFja2dyb3VuZFN0eWxlKSxCcCh0LmVtcGhhc2lzKSwocj10LmRhdGEpJiYhWihyKSlmb3Iobj0wO248ci5sZW5ndGg7bisrKVwib2JqZWN0XCI9PXR5cGVvZiByW25dJiYoQnAocltuXSksQnAocltuXSYmcltuXS5lbXBoYXNpcykpfWVsc2UgaWYoXCJzdW5idXJzdFwiPT09ZSl7dmFyIG89dC5oaWdobGlnaHRQb2xpY3k7byYmKHQuZW1waGFzaXM9dC5lbXBoYXNpc3x8e30sdC5lbXBoYXNpcy5mb2N1c3x8KHQuZW1waGFzaXMuZm9jdXM9bykpLEZwKHQpLEdwKHQuZGF0YSxGcCl9ZWxzZVwiZ3JhcGhcIj09PWV8fFwic2Fua2V5XCI9PT1lP2Z1bmN0aW9uKHQpe3QmJm51bGwhPXQuZm9jdXNOb2RlQWRqYWNlbmN5JiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSxudWxsPT10LmVtcGhhc2lzLmZvY3VzJiYodC5lbXBoYXNpcy5mb2N1cz1cImFkamFjZW5jeVwiKSl9KHQpOlwibWFwXCI9PT1lJiYodC5tYXBUeXBlJiYhdC5tYXAmJih0Lm1hcD10Lm1hcFR5cGUpLHQubWFwTG9jYXRpb24mJlQodCx0Lm1hcExvY2F0aW9uKSk7bnVsbCE9dC5ob3ZlckFuaW1hdGlvbiYmKHQuZW1waGFzaXM9dC5lbXBoYXNpc3x8e30sdC5lbXBoYXNpcyYmbnVsbD09dC5lbXBoYXNpcy5zY2FsZSYmKHQuZW1waGFzaXMuc2NhbGU9dC5ob3ZlckFuaW1hdGlvbikpLFJwKHQpfX0pKSx0LmRhdGFSYW5nZSYmKHQudmlzdWFsTWFwPXQuZGF0YVJhbmdlKSxQKEVwLChmdW5jdGlvbihlKXt2YXIgbj10W2VdO24mJihGKG4pfHwobj1bbl0pLFAobiwoZnVuY3Rpb24odCl7UnAodCl9KSkpfSkpfWZ1bmN0aW9uIFdwKHQpe1AodCwoZnVuY3Rpb24oZSxuKXt2YXIgaT1bXSxyPVtOYU4sTmFOXSxvPVtlLnN0YWNrUmVzdWx0RGltZW5zaW9uLGUuc3RhY2tlZE92ZXJEaW1lbnNpb25dLGE9ZS5kYXRhLHM9ZS5pc1N0YWNrZWRCeUluZGV4LGw9YS5tYXAobywoZnVuY3Rpb24obyxsLHUpe3ZhciBoLGMscD1hLmdldChlLnN0YWNrZWREaW1lbnNpb24sdSk7aWYoaXNOYU4ocCkpcmV0dXJuIHI7cz9jPWEuZ2V0UmF3SW5kZXgodSk6aD1hLmdldChlLnN0YWNrZWRCeURpbWVuc2lvbix1KTtmb3IodmFyIGQ9TmFOLGY9bi0xO2Y+PTA7Zi0tKXt2YXIgZz10W2ZdO2lmKHN8fChjPWcuZGF0YS5yYXdJbmRleE9mKGcuc3RhY2tlZEJ5RGltZW5zaW9uLGgpKSxjPj0wKXt2YXIgeT1nLmRhdGEuZ2V0QnlSYXdJbmRleChnLnN0YWNrUmVzdWx0RGltZW5zaW9uLGMpO2lmKHA+PTAmJnk+MHx8cDw9MCYmeTwwKXtwKz15LGQ9eTticmVha319fXJldHVybiBpWzBdPXAsaVsxXT1kLGl9KSk7YS5ob3N0TW9kZWwuc2V0RGF0YShsKSxlLmRhdGE9bH0pKX12YXIgWXAsWHAsVXAsWnAsanAscXA9ZnVuY3Rpb24odCl7dGhpcy5kYXRhPXQuZGF0YXx8KHQuc291cmNlRm9ybWF0PT09V2M/e306W10pLHRoaXMuc291cmNlRm9ybWF0PXQuc291cmNlRm9ybWF0fHxYYyx0aGlzLnNlcmllc0xheW91dEJ5PXQuc2VyaWVzTGF5b3V0Qnl8fFVjLHRoaXMuc3RhcnRJbmRleD10LnN0YXJ0SW5kZXh8fDAsdGhpcy5kaW1lbnNpb25zRGVmaW5lPXQuZGltZW5zaW9uc0RlZmluZSx0aGlzLmRpbWVuc2lvbnNEZXRlY3RlZENvdW50PXQuZGltZW5zaW9uc0RldGVjdGVkQ291bnQsdGhpcy5lbmNvZGVEZWZpbmU9dC5lbmNvZGVEZWZpbmUsdGhpcy5tZXRhUmF3T3B0aW9uPXQubWV0YVJhd09wdGlvbn07ZnVuY3Rpb24gS3AodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBxcH1mdW5jdGlvbiAkcCh0LGUsbixpKXtuPW58fHRkKHQpO3ZhciByPWUuc2VyaWVzTGF5b3V0Qnksbz1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGE7aWYoIXQpcmV0dXJue2RpbWVuc2lvbnNEZWZpbmU6ZWQociksc3RhcnRJbmRleDphLGRpbWVuc2lvbnNEZXRlY3RlZENvdW50Om99O2lmKGU9PT1HYyl7dmFyIHM9dDtcImF1dG9cIj09PWl8fG51bGw9PWk/bmQoKGZ1bmN0aW9uKHQpe251bGwhPXQmJlwiLVwiIT09dCYmKEgodCk/bnVsbD09YSYmKGE9MSk6YT0wKX0pLG4scywxMCk6YT1ZKGkpP2k6aT8xOjAscnx8MSE9PWF8fChyPVtdLG5kKChmdW5jdGlvbih0LGUpe3JbZV09bnVsbCE9dD90K1wiXCI6XCJcIn0pLG4scywxLzApKSxvPXI/ci5sZW5ndGg6bj09PVpjP3MubGVuZ3RoOnNbMF0/c1swXS5sZW5ndGg6bnVsbH1lbHNlIGlmKGU9PT1IYylyfHwocj1mdW5jdGlvbih0KXt2YXIgZSxuPTA7Zm9yKDtuPHQubGVuZ3RoJiYhKGU9dFtuKytdKTspO2lmKGUpe3ZhciBpPVtdO3JldHVybiBQKGUsKGZ1bmN0aW9uKHQsZSl7aS5wdXNoKGUpfSkpLGl9fSh0KSk7ZWxzZSBpZihlPT09V2Mpcnx8KHI9W10sUCh0LChmdW5jdGlvbih0LGUpe3IucHVzaChlKX0pKSk7ZWxzZSBpZihlPT09RmMpe3ZhciBsPXdyKHRbMF0pO289RihsKSYmbC5sZW5ndGh8fDF9cmV0dXJue3N0YXJ0SW5kZXg6YSxkaW1lbnNpb25zRGVmaW5lOmVkKHIpLGRpbWVuc2lvbnNEZXRlY3RlZENvdW50Om99fSh0LG4scixlLnNvdXJjZUhlYWRlcixlLmRpbWVuc2lvbnMpO3JldHVybiBuZXcgcXAoe2RhdGE6dCxzb3VyY2VGb3JtYXQ6bixzZXJpZXNMYXlvdXRCeTpyLGRpbWVuc2lvbnNEZWZpbmU6by5kaW1lbnNpb25zRGVmaW5lLHN0YXJ0SW5kZXg6by5zdGFydEluZGV4LGRpbWVuc2lvbnNEZXRlY3RlZENvdW50Om8uZGltZW5zaW9uc0RldGVjdGVkQ291bnQsZW5jb2RlRGVmaW5lOlFwKGkpLG1ldGFSYXdPcHRpb246dyhlKX0pfWZ1bmN0aW9uIEpwKHQpe3JldHVybiBuZXcgcXAoe2RhdGE6dCxzb3VyY2VGb3JtYXQ6Wih0KT9ZYzpGY30pfWZ1bmN0aW9uIFFwKHQpe3JldHVybiB0P2h0KHQpOm51bGx9ZnVuY3Rpb24gdGQodCl7dmFyIGU9WGM7aWYoWih0KSllPVljO2Vsc2UgaWYoRih0KSl7MD09PXQubGVuZ3RoJiYoZT1HYyk7Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXt2YXIgcj10W25dO2lmKG51bGwhPXIpe2lmKEYocikpe2U9R2M7YnJlYWt9aWYoWChyKSl7ZT1IYzticmVha319fX1lbHNlIGlmKFgodCkpZm9yKHZhciBvIGluIHQpaWYoZHQodCxvKSYmayh0W29dKSl7ZT1XYzticmVha31yZXR1cm4gZX1mdW5jdGlvbiBlZCh0KXtpZih0KXt2YXIgZT1odCgpO3JldHVybiBPKHQsKGZ1bmN0aW9uKHQsbil7dmFyIGk9e25hbWU6KHQ9WCh0KT90OntuYW1lOnR9KS5uYW1lLGRpc3BsYXlOYW1lOnQuZGlzcGxheU5hbWUsdHlwZTp0LnR5cGV9O2lmKG51bGw9PWkubmFtZSlyZXR1cm4gaTtpLm5hbWUrPVwiXCIsbnVsbD09aS5kaXNwbGF5TmFtZSYmKGkuZGlzcGxheU5hbWU9aS5uYW1lKTt2YXIgcj1lLmdldChpLm5hbWUpO3JldHVybiByP2kubmFtZSs9XCItXCIrci5jb3VudCsrOmUuc2V0KGkubmFtZSx7Y291bnQ6MX0pLGl9KSl9fWZ1bmN0aW9uIG5kKHQsZSxuLGkpe2lmKGU9PT1aYylmb3IodmFyIHI9MDtyPG4ubGVuZ3RoJiZyPGk7cisrKXQobltyXT9uW3JdWzBdOm51bGwscik7ZWxzZXt2YXIgbz1uWzBdfHxbXTtmb3Iocj0wO3I8by5sZW5ndGgmJnI8aTtyKyspdChvW3JdLHIpfX12YXIgaWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49S3AodCk/dDpKcCh0KTt0aGlzLl9zb3VyY2U9bjt2YXIgaT10aGlzLl9kYXRhPW4uZGF0YTtuLnNvdXJjZUZvcm1hdD09PVljJiYodGhpcy5fb2Zmc2V0PTAsdGhpcy5fZGltU2l6ZT1lLHRoaXMuX2RhdGE9aSksanAodGhpcyxpLG4pfXJldHVybiB0LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSx0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe3JldHVybiAwfSx0LnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuY2xlYW49ZnVuY3Rpb24oKXt9LHQucHJvdG9Jbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGU7ZS5wdXJlPSExLGUucGVyc2lzdGVudD0hMH0oKSx0LmludGVybmFsRmllbGQ9ZnVuY3Rpb24oKXt2YXIgdDtqcD1mdW5jdGlvbih0LHIsbyl7dmFyIGE9by5zb3VyY2VGb3JtYXQscz1vLnNlcmllc0xheW91dEJ5LGw9by5zdGFydEluZGV4LHU9by5kaW1lbnNpb25zRGVmaW5lLGg9WnBbZGQoYSxzKV07aWYoSSh0LGgpLGE9PT1ZYyl0LmdldEl0ZW09ZSx0LmNvdW50PWksdC5maWxsU3RvcmFnZT1uO2Vsc2V7dmFyIGM9YWQoYSxzKTt0LmdldEl0ZW09QihjLG51bGwscixsLHUpO3ZhciBwPXVkKGEscyk7dC5jb3VudD1CKHAsbnVsbCxyLGwsdSl9fTt2YXIgZT1mdW5jdGlvbih0LGUpe3QtPXRoaXMuX29mZnNldCxlPWV8fFtdO2Zvcih2YXIgbj10aGlzLl9kYXRhLGk9dGhpcy5fZGltU2l6ZSxyPWkqdCxvPTA7bzxpO28rKyllW29dPW5bcitvXTtyZXR1cm4gZX0sbj1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9dGhpcy5fZGF0YSxvPXRoaXMuX2RpbVNpemUsYT0wO2E8bzthKyspe2Zvcih2YXIgcz1pW2FdLGw9bnVsbD09c1swXT8xLzA6c1swXSx1PW51bGw9PXNbMV0/LTEvMDpzWzFdLGg9ZS10LGM9blthXSxwPTA7cDxoO3ArKyl7dmFyIGQ9cltwKm8rYV07Y1t0K3BdPWQsZDxsJiYobD1kKSxkPnUmJih1PWQpfXNbMF09bCxzWzFdPXV9fSxpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGE/dGhpcy5fZGF0YS5sZW5ndGgvdGhpcy5fZGltU2l6ZTowfTtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMuX2RhdGEucHVzaCh0W2VdKX0odD17fSkuYXJyYXlSb3dzX2NvbHVtbj17cHVyZTohMCxhcHBlbmREYXRhOnJ9LHQuYXJyYXlSb3dzX3Jvdz17cHVyZTohMCxhcHBlbmREYXRhOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdEbyBub3Qgc3VwcG9ydCBhcHBlbmREYXRhIHdoZW4gc2V0IHNlcmllc0xheW91dEJ5OiBcInJvd1wiLicpfX0sdC5vYmplY3RSb3dzPXtwdXJlOiEwLGFwcGVuZERhdGE6cn0sdC5rZXllZENvbHVtbnM9e3B1cmU6ITAsYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kYXRhO1AodCwoZnVuY3Rpb24odCxuKXtmb3IodmFyIGk9ZVtuXXx8KGVbbl09W10pLHI9MDtyPCh0fHxbXSkubGVuZ3RoO3IrKylpLnB1c2godFtyXSl9KSl9fSx0Lm9yaWdpbmFsPXthcHBlbmREYXRhOnJ9LHQudHlwZWRBcnJheT17cGVyc2lzdGVudDohMSxwdXJlOiEwLGFwcGVuZERhdGE6ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSxjbGVhbjpmdW5jdGlvbigpe3RoaXMuX29mZnNldCs9dGhpcy5jb3VudCgpLHRoaXMuX2RhdGE9bnVsbH19LFpwPXR9KCksdH0oKSxyZD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdFtpXX0sb2Q9KChZcD17fSkuYXJyYXlSb3dzX2NvbHVtbj1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdFtpK2VdfSxZcC5hcnJheVJvd3Nfcm93PWZ1bmN0aW9uKHQsZSxuLGkpe2krPWU7Zm9yKHZhciByPVtdLG89dCxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV07ci5wdXNoKHM/c1tpXTpudWxsKX1yZXR1cm4gcn0sWXAub2JqZWN0Um93cz1yZCxZcC5rZXllZENvbHVtbnM9ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPVtdLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXS5uYW1lOzA7dmFyIHM9dFthXTtyLnB1c2gocz9zW2ldOm51bGwpfXJldHVybiByfSxZcC5vcmlnaW5hbD1yZCxZcCk7ZnVuY3Rpb24gYWQodCxlKXt2YXIgbj1vZFtkZCh0LGUpXTtyZXR1cm4gbn12YXIgc2Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Lmxlbmd0aH0sbGQ9KChYcD17fSkuYXJyYXlSb3dzX2NvbHVtbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE1hdGgubWF4KDAsdC5sZW5ndGgtZSl9LFhwLmFycmF5Um93c19yb3c9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRbMF07cmV0dXJuIGk/TWF0aC5tYXgoMCxpLmxlbmd0aC1lKTowfSxYcC5vYmplY3RSb3dzPXNkLFhwLmtleWVkQ29sdW1ucz1mdW5jdGlvbih0LGUsbil7dmFyIGk9blswXS5uYW1lO3ZhciByPXRbaV07cmV0dXJuIHI/ci5sZW5ndGg6MH0sWHAub3JpZ2luYWw9c2QsWHApO2Z1bmN0aW9uIHVkKHQsZSl7dmFyIG49bGRbZGQodCxlKV07cmV0dXJuIG59dmFyIGhkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbCE9ZT90W2VdOnR9LGNkPSgoVXA9e30pLmFycmF5Um93cz1oZCxVcC5vYmplY3RSb3dzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbCE9ZT90W25dOnR9LFVwLmtleWVkQ29sdW1ucz1oZCxVcC5vcmlnaW5hbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9d3IodCk7cmV0dXJuIG51bGwhPWUmJmkgaW5zdGFuY2VvZiBBcnJheT9pW2VdOml9LFVwLnR5cGVkQXJyYXk9aGQsVXApO2Z1bmN0aW9uIHBkKHQpe3ZhciBlPWNkW3RdO3JldHVybiBlfWZ1bmN0aW9uIGRkKHQsZSl7cmV0dXJuIHQ9PT1HYz90K1wiX1wiK2U6dH1mdW5jdGlvbiBmZCh0LGUsbil7aWYodCl7dmFyIGk9dC5nZXRSYXdEYXRhSXRlbShlKTtpZihudWxsIT1pKXt2YXIgcixvLGE9dC5nZXRQcm92aWRlcigpLmdldFNvdXJjZSgpLnNvdXJjZUZvcm1hdCxzPXQuZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gcyYmKHI9cy5uYW1lLG89cy5pbmRleCkscGQoYSkoaSxvLHIpfX19dmFyIGdkPS9cXHtAKC4rPylcXH0vZyx5ZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldERhdGEoZSksaT10aGlzLmdldFJhd1ZhbHVlKHQsZSkscj1uLmdldFJhd0luZGV4KHQpLG89bi5nZXROYW1lKHQpLGE9bi5nZXRSYXdEYXRhSXRlbSh0KSxzPW4uZ2V0SXRlbVZpc3VhbCh0LFwic3R5bGVcIiksbD1zJiZzW24uZ2V0SXRlbVZpc3VhbCh0LFwiZHJhd1R5cGVcIil8fFwiZmlsbFwiXSx1PXMmJnMuc3Ryb2tlLGg9dGhpcy5tYWluVHlwZSxjPVwic2VyaWVzXCI9PT1oLHA9bi51c2VyT3V0cHV0O3JldHVybntjb21wb25lbnRUeXBlOmgsY29tcG9uZW50U3ViVHlwZTp0aGlzLnN1YlR5cGUsY29tcG9uZW50SW5kZXg6dGhpcy5jb21wb25lbnRJbmRleCxzZXJpZXNUeXBlOmM/dGhpcy5zdWJUeXBlOm51bGwsc2VyaWVzSW5kZXg6dGhpcy5zZXJpZXNJbmRleCxzZXJpZXNJZDpjP3RoaXMuaWQ6bnVsbCxzZXJpZXNOYW1lOmM/dGhpcy5uYW1lOm51bGwsbmFtZTpvLGRhdGFJbmRleDpyLGRhdGE6YSxkYXRhVHlwZTplLHZhbHVlOmksY29sb3I6bCxib3JkZXJDb2xvcjp1LGRpbWVuc2lvbk5hbWVzOnA/cC5kaW1lbnNpb25OYW1lczpudWxsLGVuY29kZTpwP3AuZW5jb2RlOm51bGwsJHZhcnM6W1wic2VyaWVzTmFtZVwiLFwibmFtZVwiLFwidmFsdWVcIl19fSx0LnByb3RvdHlwZS5nZXRGb3JtYXR0ZWRMYWJlbD1mdW5jdGlvbih0LGUsbixpLHIsbyl7ZT1lfHxcIm5vcm1hbFwiO3ZhciBhPXRoaXMuZ2V0RGF0YShuKSxzPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LG4pOyhvJiYocy52YWx1ZT1vLmludGVycG9sYXRlZFZhbHVlKSxudWxsIT1pJiZGKHMudmFsdWUpJiYocy52YWx1ZT1zLnZhbHVlW2ldKSxyKXx8KHI9YS5nZXRJdGVtTW9kZWwodCkuZ2V0KFwibm9ybWFsXCI9PT1lP1tcImxhYmVsXCIsXCJmb3JtYXR0ZXJcIl06W2UsXCJsYWJlbFwiLFwiZm9ybWF0dGVyXCJdKSk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygcj8ocy5zdGF0dXM9ZSxzLmRpbWVuc2lvbkluZGV4PWkscihzKSk6XCJzdHJpbmdcIj09dHlwZW9mIHI/X2MocixzKS5yZXBsYWNlKGdkLChmdW5jdGlvbihlLG4pe3ZhciBpPW4ubGVuZ3RoLHI9XCJbXCI9PT1uLmNoYXJBdCgwKSYmXCJdXCI9PT1uLmNoYXJBdChpLTEpPytuLnNsaWNlKDEsaS0xKTpuLHM9ZmQoYSx0LHIpO2lmKG8mJkYoby5pbnRlcnBvbGF0ZWRWYWx1ZSkpe3ZhciBsPWEuZ2V0RGltZW5zaW9uSW5mbyhyKTtsJiYocz1vLmludGVycG9sYXRlZFZhbHVlW2wuaW5kZXhdKX1yZXR1cm4gbnVsbCE9cz9zK1wiXCI6XCJcIn0pKTp2b2lkIDB9LHQucHJvdG90eXBlLmdldFJhd1ZhbHVlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZkKHRoaXMuZ2V0RGF0YShlKSx0KX0sdC5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7fSx0fSgpO2Z1bmN0aW9uIHZkKHQpe3ZhciBlLG47cmV0dXJuIFgodCk/dC50eXBlJiYobj10KTplPXQse21hcmt1cFRleHQ6ZSxtYXJrdXBGcmFnbWVudDpufX1mdW5jdGlvbiBtZCh0KXtyZXR1cm4gbmV3IF9kKHQpfXZhciBfZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dD10fHx7fSx0aGlzLl9yZXNldD10LnJlc2V0LHRoaXMuX3BsYW49dC5wbGFuLHRoaXMuX2NvdW50PXQuY291bnQsdGhpcy5fb25EaXJ0eT10Lm9uRGlydHksdGhpcy5fZGlydHk9ITB9cmV0dXJuIHQucHJvdG90eXBlLnBlcmZvcm09ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl91cHN0cmVhbSxpPXQmJnQuc2tpcDtpZih0aGlzLl9kaXJ0eSYmbil7dmFyIHI9dGhpcy5jb250ZXh0O3IuZGF0YT1yLm91dHB1dERhdGE9bi5jb250ZXh0Lm91dHB1dERhdGF9dGhpcy5fX3BpcGVsaW5lJiYodGhpcy5fX3BpcGVsaW5lLmN1cnJlbnRUYXNrPXRoaXMpLHRoaXMuX3BsYW4mJiFpJiYoZT10aGlzLl9wbGFuKHRoaXMuY29udGV4dCkpO3ZhciBvLGE9aCh0aGlzLl9tb2RCeSkscz10aGlzLl9tb2REYXRhQ291bnR8fDAsbD1oKHQmJnQubW9kQnkpLHU9dCYmdC5tb2REYXRhQ291bnR8fDA7ZnVuY3Rpb24gaCh0KXtyZXR1cm4hKHQ+PTEpJiYodD0xKSx0fWE9PT1sJiZzPT09dXx8KGU9XCJyZXNldFwiKSwodGhpcy5fZGlydHl8fFwicmVzZXRcIj09PWUpJiYodGhpcy5fZGlydHk9ITEsbz10aGlzLl9kb1Jlc2V0KGkpKSx0aGlzLl9tb2RCeT1sLHRoaXMuX21vZERhdGFDb3VudD11O3ZhciBjPXQmJnQuc3RlcDtpZih0aGlzLl9kdWVFbmQ9bj9uLl9vdXRwdXREdWVFbmQ6dGhpcy5fY291bnQ/dGhpcy5fY291bnQodGhpcy5jb250ZXh0KToxLzAsdGhpcy5fcHJvZ3Jlc3Mpe3ZhciBwPXRoaXMuX2R1ZUluZGV4LGQ9TWF0aC5taW4obnVsbCE9Yz90aGlzLl9kdWVJbmRleCtjOjEvMCx0aGlzLl9kdWVFbmQpO2lmKCFpJiYob3x8cDxkKSl7dmFyIGY9dGhpcy5fcHJvZ3Jlc3M7aWYoRihmKSlmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKyl0aGlzLl9kb1Byb2dyZXNzKGZbZ10scCxkLGwsdSk7ZWxzZSB0aGlzLl9kb1Byb2dyZXNzKGYscCxkLGwsdSl9dGhpcy5fZHVlSW5kZXg9ZDt2YXIgeT1udWxsIT10aGlzLl9zZXR0ZWRPdXRwdXRFbmQ/dGhpcy5fc2V0dGVkT3V0cHV0RW5kOmQ7MCx0aGlzLl9vdXRwdXREdWVFbmQ9eX1lbHNlIHRoaXMuX2R1ZUluZGV4PXRoaXMuX291dHB1dER1ZUVuZD1udWxsIT10aGlzLl9zZXR0ZWRPdXRwdXRFbmQ/dGhpcy5fc2V0dGVkT3V0cHV0RW5kOnRoaXMuX2R1ZUVuZDtyZXR1cm4gdGhpcy51bmZpbmlzaGVkKCl9LHQucHJvdG90eXBlLmRpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fb25EaXJ0eSYmdGhpcy5fb25EaXJ0eSh0aGlzLmNvbnRleHQpfSx0LnByb3RvdHlwZS5fZG9Qcm9ncmVzcz1mdW5jdGlvbih0LGUsbixpLHIpe3hkLnJlc2V0KGUsbixpLHIpLHRoaXMuX2NhbGxpbmdQcm9ncmVzcz10LHRoaXMuX2NhbGxpbmdQcm9ncmVzcyh7c3RhcnQ6ZSxlbmQ6bixjb3VudDpuLWUsbmV4dDp4ZC5uZXh0fSx0aGlzLmNvbnRleHQpfSx0LnByb3RvdHlwZS5fZG9SZXNldD1mdW5jdGlvbih0KXt2YXIgZSxuO3RoaXMuX2R1ZUluZGV4PXRoaXMuX291dHB1dER1ZUVuZD10aGlzLl9kdWVFbmQ9MCx0aGlzLl9zZXR0ZWRPdXRwdXRFbmQ9bnVsbCwhdCYmdGhpcy5fcmVzZXQmJigoZT10aGlzLl9yZXNldCh0aGlzLmNvbnRleHQpKSYmZS5wcm9ncmVzcyYmKG49ZS5mb3JjZUZpcnN0UHJvZ3Jlc3MsZT1lLnByb2dyZXNzKSxGKGUpJiYhZS5sZW5ndGgmJihlPW51bGwpKSx0aGlzLl9wcm9ncmVzcz1lLHRoaXMuX21vZEJ5PXRoaXMuX21vZERhdGFDb3VudD1udWxsO3ZhciBpPXRoaXMuX2Rvd25zdHJlYW07cmV0dXJuIGkmJmkuZGlydHkoKSxufSx0LnByb3RvdHlwZS51bmZpbmlzaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2dyZXNzJiZ0aGlzLl9kdWVJbmRleDx0aGlzLl9kdWVFbmR9LHQucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24odCl7KHRoaXMuX2Rvd25zdHJlYW0hPT10fHx0aGlzLl9kaXJ0eSkmJih0aGlzLl9kb3duc3RyZWFtPXQsdC5fdXBzdHJlYW09dGhpcyx0LmRpcnR5KCkpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWR8fCh0aGlzLl91cHN0cmVhbSYmKHRoaXMuX3Vwc3RyZWFtLl9kb3duc3RyZWFtPW51bGwpLHRoaXMuX2Rvd25zdHJlYW0mJih0aGlzLl9kb3duc3RyZWFtLl91cHN0cmVhbT1udWxsKSx0aGlzLl9kaXJ0eT0hMSx0aGlzLl9kaXNwb3NlZD0hMCl9LHQucHJvdG90eXBlLmdldFVwc3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Vwc3RyZWFtfSx0LnByb3RvdHlwZS5nZXREb3duc3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rvd25zdHJlYW19LHQucHJvdG90eXBlLnNldE91dHB1dEVuZD1mdW5jdGlvbih0KXt0aGlzLl9vdXRwdXREdWVFbmQ9dGhpcy5fc2V0dGVkT3V0cHV0RW5kPXR9LHR9KCkseGQ9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxyLG89e3Jlc2V0OmZ1bmN0aW9uKGwsdSxoLGMpe2U9bCx0PXUsbj1oLGk9YyxyPU1hdGguY2VpbChpL24pLG8ubmV4dD1uPjEmJmk+MD9zOmF9fTtyZXR1cm4gbztmdW5jdGlvbiBhKCl7cmV0dXJuIGU8dD9lKys6bnVsbH1mdW5jdGlvbiBzKCl7dmFyIG89ZSVyKm4rTWF0aC5jZWlsKGUvciksYT1lPj10P251bGw6bzxpP286ZTtyZXR1cm4gZSsrLGF9fSgpO2Z1bmN0aW9uIGJkKHQsZSl7dmFyIG49ZSYmZS50eXBlO2lmKFwib3JkaW5hbFwiPT09bil7dmFyIGk9ZSYmZS5vcmRpbmFsTWV0YTtyZXR1cm4gaT9pLnBhcnNlQW5kQ29sbGVjdCh0KTp0fXJldHVyblwidGltZVwiPT09biYmXCJudW1iZXJcIiE9dHlwZW9mIHQmJm51bGwhPXQmJlwiLVwiIT09dCYmKHQ9K3JyKHQpKSxudWxsPT10fHxcIlwiPT09dD9OYU46K3R9dmFyIHdkPWh0KHtudW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlRmxvYXQodCl9LHRpbWU6ZnVuY3Rpb24odCl7cmV0dXJuK3JyKHQpfSx0cmltOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P290KHQpOnR9fSk7ZnVuY3Rpb24gU2QodCl7cmV0dXJuIHdkLmdldCh0KX12YXIgTWQ9e2x0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZX0sbHRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8PWV9LGd0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+ZX0sZ3RlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+PWV9fSxJZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl7dmFyIG49XCJcIjswLHlyKG4pfXRoaXMuX29wRm49TWRbdF0sdGhpcy5fcnZhbEZsb2F0PWhyKGUpfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90aGlzLl9vcEZuKHQsdGhpcy5fcnZhbEZsb2F0KTp0aGlzLl9vcEZuKGhyKHQpLHRoaXMuX3J2YWxGbG9hdCl9LHR9KCksVGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49XCJkZXNjXCI9PT10O3RoaXMuX3Jlc3VsdExUPW4/MTotMSxudWxsPT1lJiYoZT1uP1wibWluXCI6XCJtYXhcIiksdGhpcy5faW5jb21wYXJhYmxlPVwibWluXCI9PT1lPy0xLzA6MS8wfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXR5cGVvZiB0LGk9dHlwZW9mIGUscj1cIm51bWJlclwiPT09bj90OmhyKHQpLG89XCJudW1iZXJcIj09PWk/ZTpocihlKSxhPWlzTmFOKHIpLHM9aXNOYU4obyk7aWYoYSYmKHI9dGhpcy5faW5jb21wYXJhYmxlKSxzJiYobz10aGlzLl9pbmNvbXBhcmFibGUpLGEmJnMpe3ZhciBsPVwic3RyaW5nXCI9PT1uLHU9XCJzdHJpbmdcIj09PWk7bCYmKHI9dT90OjApLHUmJihvPWw/ZTowKX1yZXR1cm4gcjxvP3RoaXMuX3Jlc3VsdExUOnI+bz8tdGhpcy5fcmVzdWx0TFQ6MH0sdH0oKSxDZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9ydmFsPWUsdGhpcy5faXNFUT10LHRoaXMuX3J2YWxUeXBlb2Y9dHlwZW9mIGUsdGhpcy5fcnZhbEZsb2F0PWhyKGUpfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10PT09dGhpcy5fcnZhbDtpZighZSl7dmFyIG49dHlwZW9mIHQ7bj09PXRoaXMuX3J2YWxUeXBlb2Z8fFwibnVtYmVyXCIhPT1uJiZcIm51bWJlclwiIT09dGhpcy5fcnZhbFR5cGVvZnx8KGU9aHIodCk9PT10aGlzLl9ydmFsRmxvYXQpfXJldHVybiB0aGlzLl9pc0VRP2U6IWV9LHR9KCk7ZnVuY3Rpb24gQWQodCxlKXtyZXR1cm5cImVxXCI9PT10fHxcIm5lXCI9PT10P25ldyBDZChcImVxXCI9PT10LGUpOmR0KE1kLHQpP25ldyBJZCh0LGUpOm51bGx9dmFyIERkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UmF3RGF0YT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBzdXBwb3J0ZWRcIil9LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBzdXBwb3J0ZWRcIil9LHQucHJvdG90eXBlLmNsb25lUmF3RGF0YT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uSW5mbz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNsb25lQWxsRGltZW5zaW9uSW5mbz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJldHJpZXZlVmFsdWU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJldHJpZXZlVmFsdWVGcm9tSXRlbT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuY29udmVydFZhbHVlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJkKHQsZSl9LHR9KCk7ZnVuY3Rpb24gTGQodCl7dmFyIGU9dC5zb3VyY2VGb3JtYXQ7aWYoIUVkKGUpKXt2YXIgbj1cIlwiOzAseXIobil9cmV0dXJuIHQuZGF0YX1mdW5jdGlvbiBrZCh0KXt2YXIgZT10LnNvdXJjZUZvcm1hdCxuPXQuZGF0YTtpZighRWQoZSkpe3ZhciBpPVwiXCI7MCx5cihpKX1pZihlPT09R2Mpe2Zvcih2YXIgcj1bXSxvPTAsYT1uLmxlbmd0aDtvPGE7bysrKXIucHVzaChuW29dLnNsaWNlKCkpO3JldHVybiByfWlmKGU9PT1IYyl7Zm9yKHI9W10sbz0wLGE9bi5sZW5ndGg7bzxhO28rKylyLnB1c2goSSh7fSxuW29dKSk7cmV0dXJuIHJ9fWZ1bmN0aW9uIFBkKHQsZSxuKXtpZihudWxsIT1uKXJldHVyblwibnVtYmVyXCI9PXR5cGVvZiBufHwhaXNOYU4obikmJiFkdChlLG4pP3Rbbl06ZHQoZSxuKT9lW25dOnZvaWQgMH1mdW5jdGlvbiBPZCh0KXtyZXR1cm4gdyh0KX12YXIgUmQ9aHQoKTtmdW5jdGlvbiBOZCh0LGUsbixpKXt2YXIgcj1cIlwiO2UubGVuZ3RofHx5cihyKSxYKHQpfHx5cihyKTt2YXIgbz10LnR5cGUsYT1SZC5nZXQobyk7YXx8eXIocik7dmFyIHM9TyhlLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRGQsaT10LmRhdGEscj1uLnNvdXJjZUZvcm1hdD10LnNvdXJjZUZvcm1hdCxvPXQuc3RhcnRJbmRleCxhPVwiXCI7dC5zZXJpZXNMYXlvdXRCeSE9PVVjJiZ5cihhKTt2YXIgcz1bXSxsPXt9LHU9dC5kaW1lbnNpb25zRGVmaW5lO2lmKHUpUCh1LChmdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZSxpPXtpbmRleDplLG5hbWU6bixkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lfTtpZihzLnB1c2goaSksbnVsbCE9bil7dmFyIHI9XCJcIjtkdChsLG4pJiZ5cihyKSxsW25dPWl9fSkpO2Vsc2UgZm9yKHZhciBoPTA7aDx0LmRpbWVuc2lvbnNEZXRlY3RlZENvdW50O2grKylzLnB1c2goe2luZGV4Omh9KTt2YXIgYz1hZChyLFVjKTtlLl9faXNCdWlsdEluJiYobi5nZXRSYXdEYXRhSXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gYyhpLG8scyx0KX0sbi5nZXRSYXdEYXRhPUIoTGQsbnVsbCx0KSksbi5jbG9uZVJhd0RhdGE9QihrZCxudWxsLHQpO3ZhciBwPXVkKHIsVWMpO24uY291bnQ9QihwLG51bGwsaSxvLHMpO3ZhciBkPXBkKHIpO24ucmV0cmlldmVWYWx1ZT1mdW5jdGlvbih0LGUpe3ZhciBuPWMoaSxvLHMsdCk7cmV0dXJuIGYobixlKX07dmFyIGY9bi5yZXRyaWV2ZVZhbHVlRnJvbUl0ZW09ZnVuY3Rpb24odCxlKXtpZihudWxsIT10KXt2YXIgbj1zW2VdO3JldHVybiBuP2QodCxlLG4ubmFtZSk6dm9pZCAwfX07cmV0dXJuIG4uZ2V0RGltZW5zaW9uSW5mbz1CKFBkLG51bGwscyxsKSxuLmNsb25lQWxsRGltZW5zaW9uSW5mbz1CKE9kLG51bGwscyksbn0odCxhKX0pKSxsPV9yKGEudHJhbnNmb3JtKHt1cHN0cmVhbTpzWzBdLHVwc3RyZWFtTGlzdDpzLGNvbmZpZzp3KHQuY29uZmlnKX0pKTtyZXR1cm4gTyhsLChmdW5jdGlvbih0LG4pe3ZhciBpLHI9XCJcIjtYKHQpfHx5cihyKSx0LmRhdGF8fHlyKHIpLEVkKHRkKHQuZGF0YSkpfHx5cihyKTt2YXIgbz1lWzBdO2lmKG8mJjA9PT1uJiYhdC5kaW1lbnNpb25zKXt2YXIgYT1vLnN0YXJ0SW5kZXg7YSYmKHQuZGF0YT1vLmRhdGEuc2xpY2UoMCxhKS5jb25jYXQodC5kYXRhKSksaT17c2VyaWVzTGF5b3V0Qnk6VWMsc291cmNlSGVhZGVyOmEsZGltZW5zaW9uczpvLm1ldGFSYXdPcHRpb24uZGltZW5zaW9uc319ZWxzZSBpPXtzZXJpZXNMYXlvdXRCeTpVYyxzb3VyY2VIZWFkZXI6MCxkaW1lbnNpb25zOnQuZGltZW5zaW9uc307cmV0dXJuICRwKHQuZGF0YSxpLG51bGwsbnVsbCl9KSl9ZnVuY3Rpb24gRWQodCl7cmV0dXJuIHQ9PT1HY3x8dD09PUhjfXZhciB6ZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc291cmNlTGlzdD1bXSx0aGlzLl91cHN0cmVhbVNpZ25MaXN0PVtdLHRoaXMuX3ZlcnNpb25TaWduQmFzZT0wLHRoaXMuX3NvdXJjZUhvc3Q9dH1yZXR1cm4gdC5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9zZXRMb2NhbFNvdXJjZShbXSxbXSl9LHQucHJvdG90eXBlLl9zZXRMb2NhbFNvdXJjZT1mdW5jdGlvbih0LGUpe3RoaXMuX3NvdXJjZUxpc3Q9dCx0aGlzLl91cHN0cmVhbVNpZ25MaXN0PWUsdGhpcy5fdmVyc2lvblNpZ25CYXNlKyssdGhpcy5fdmVyc2lvblNpZ25CYXNlPjllMTAmJih0aGlzLl92ZXJzaW9uU2lnbkJhc2U9MCl9LHQucHJvdG90eXBlLl9nZXRWZXJzaW9uU2lnbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VIb3N0LnVpZCtcIl9cIit0aGlzLl92ZXJzaW9uU2lnbkJhc2V9LHQucHJvdG90eXBlLnByZXBhcmVTb3VyY2U9ZnVuY3Rpb24oKXt0aGlzLl9pc0RpcnR5KCkmJnRoaXMuX2NyZWF0ZVNvdXJjZSgpfSx0LnByb3RvdHlwZS5fY3JlYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhpcy5fc2V0TG9jYWxTb3VyY2UoW10sW10pO3ZhciB0LGUsbj10aGlzLl9zb3VyY2VIb3N0LGk9dGhpcy5fZ2V0VXBzdHJlYW1Tb3VyY2VNYW5hZ2VycygpLHI9ISFpLmxlbmd0aDtpZihWZChuKSl7dmFyIG89bixhPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMDtpZihyKXt2YXIgdT1pWzBdO3UucHJlcGFyZVNvdXJjZSgpLGE9KGw9dS5nZXRTb3VyY2UoKSkuZGF0YSxzPWwuc291cmNlRm9ybWF0LGU9W3UuX2dldFZlcnNpb25TaWduKCldfWVsc2Ugcz1aKGE9by5nZXQoXCJkYXRhXCIsITApKT9ZYzpGYyxlPVtdO3ZhciBoPXRoaXMuX2dldFNvdXJjZU1ldGFSYXdPcHRpb24oKSxjPWw/bC5tZXRhUmF3T3B0aW9uOm51bGw7dD1bJHAoYSx7c2VyaWVzTGF5b3V0Qnk6dHQoaC5zZXJpZXNMYXlvdXRCeSxjP2Muc2VyaWVzTGF5b3V0Qnk6bnVsbCksc291cmNlSGVhZGVyOnR0KGguc291cmNlSGVhZGVyLGM/Yy5zb3VyY2VIZWFkZXI6bnVsbCksZGltZW5zaW9uczp0dChoLmRpbWVuc2lvbnMsYz9jLmRpbWVuc2lvbnM6bnVsbCl9LHMsby5nZXQoXCJlbmNvZGVcIiwhMCkpXX1lbHNle3ZhciBwPW47aWYocil7dmFyIGQ9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oaSk7dD1kLnNvdXJjZUxpc3QsZT1kLnVwc3RyZWFtU2lnbkxpc3R9ZWxzZXt0PVskcChwLmdldChcInNvdXJjZVwiLCEwKSx0aGlzLl9nZXRTb3VyY2VNZXRhUmF3T3B0aW9uKCksbnVsbCxudWxsKV0sZT1bXX19dGhpcy5fc2V0TG9jYWxTb3VyY2UodCxlKX0sdC5wcm90b3R5cGUuX2FwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fc291cmNlSG9zdCxpPW4uZ2V0KFwidHJhbnNmb3JtXCIsITApLHI9bi5nZXQoXCJmcm9tVHJhbnNmb3JtUmVzdWx0XCIsITApO2lmKG51bGwhPXIpe3ZhciBvPVwiXCI7MSE9PXQubGVuZ3RoJiZGZChvKX12YXIgYSxzPVtdLGw9W107cmV0dXJuIFAodCwoZnVuY3Rpb24odCl7dC5wcmVwYXJlU291cmNlKCk7dmFyIGU9dC5nZXRTb3VyY2Uocnx8MCksbj1cIlwiO251bGw9PXJ8fGV8fEZkKG4pLHMucHVzaChlKSxsLnB1c2godC5fZ2V0VmVyc2lvblNpZ24oKSl9KSksaT9lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1fcih0KSxyPWkubGVuZ3RoLG89XCJcIjtyfHx5cihvKTtmb3IodmFyIGE9MCxzPXI7YTxzO2ErKyllPU5kKGlbYV0sZSksYSE9PXMtMSYmKGUubGVuZ3RoPU1hdGgubWF4KGUubGVuZ3RoLDEpKTtyZXR1cm4gZX0oaSxzLG4uY29tcG9uZW50SW5kZXgpOm51bGwhPXImJihlPVsoYT1zWzBdLG5ldyBxcCh7ZGF0YTphLmRhdGEsc291cmNlRm9ybWF0OmEuc291cmNlRm9ybWF0LHNlcmllc0xheW91dEJ5OmEuc2VyaWVzTGF5b3V0QnksZGltZW5zaW9uc0RlZmluZTp3KGEuZGltZW5zaW9uc0RlZmluZSksc3RhcnRJbmRleDphLnN0YXJ0SW5kZXgsZGltZW5zaW9uc0RldGVjdGVkQ291bnQ6YS5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudCxlbmNvZGVEZWZpbmU6UXAoYS5lbmNvZGVEZWZpbmUpfSkpXSkse3NvdXJjZUxpc3Q6ZSx1cHN0cmVhbVNpZ25MaXN0Omx9fSx0LnByb3RvdHlwZS5faXNEaXJ0eT1mdW5jdGlvbigpe2lmKCF0aGlzLl9zb3VyY2VMaXN0Lmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIHQ9dGhpcy5fZ2V0VXBzdHJlYW1Tb3VyY2VNYW5hZ2VycygpLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtpZihuLl9pc0RpcnR5KCl8fHRoaXMuX3Vwc3RyZWFtU2lnbkxpc3RbZV0hPT1uLl9nZXRWZXJzaW9uU2lnbigpKXJldHVybiEwfX0sdC5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zb3VyY2VMaXN0W3R8fDBdfSx0LnByb3RvdHlwZS5fZ2V0VXBzdHJlYW1Tb3VyY2VNYW5hZ2Vycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NvdXJjZUhvc3Q7aWYoVmQodCkpe3ZhciBlPXRwKHQpO3JldHVybiBlP1tlLmdldFNvdXJjZU1hbmFnZXIoKV06W119cmV0dXJuIE8oZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KFwidHJhbnNmb3JtXCIsITApfHx0LmdldChcImZyb21UcmFuc2Zvcm1SZXN1bHRcIiwhMCk/TnIodC5lY01vZGVsLFwiZGF0YXNldFwiLHtpbmRleDp0LmdldChcImZyb21EYXRhc2V0SW5kZXhcIiwhMCksaWQ6dC5nZXQoXCJmcm9tRGF0YXNldElkXCIsITApfSxPcikubW9kZWxzOltdfSh0KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0U291cmNlTWFuYWdlcigpfSkpfSx0LnByb3RvdHlwZS5fZ2V0U291cmNlTWV0YVJhd09wdGlvbj1mdW5jdGlvbigpe3ZhciB0LGUsbixpPXRoaXMuX3NvdXJjZUhvc3Q7aWYoVmQoaSkpdD1pLmdldChcInNlcmllc0xheW91dEJ5XCIsITApLGU9aS5nZXQoXCJzb3VyY2VIZWFkZXJcIiwhMCksbj1pLmdldChcImRpbWVuc2lvbnNcIiwhMCk7ZWxzZSBpZighdGhpcy5fZ2V0VXBzdHJlYW1Tb3VyY2VNYW5hZ2VycygpLmxlbmd0aCl7dmFyIHI9aTt0PXIuZ2V0KFwic2VyaWVzTGF5b3V0QnlcIiwhMCksZT1yLmdldChcInNvdXJjZUhlYWRlclwiLCEwKSxuPXIuZ2V0KFwiZGltZW5zaW9uc1wiLCEwKX1yZXR1cm57c2VyaWVzTGF5b3V0Qnk6dCxzb3VyY2VIZWFkZXI6ZSxkaW1lbnNpb25zOm59fSx0fSgpO2Z1bmN0aW9uIEJkKHQpe3Qub3B0aW9uLnRyYW5zZm9ybSYmc3QodC5vcHRpb24udHJhbnNmb3JtKX1mdW5jdGlvbiBWZCh0KXtyZXR1cm5cInNlcmllc1wiPT09dC5tYWluVHlwZX1mdW5jdGlvbiBGZCh0KXt0aHJvdyBuZXcgRXJyb3IodCl9ZnVuY3Rpb24gR2QodCxlKXt2YXIgbj10LmNvbG9yfHxcIiM2ZTcwNzlcIixpPXQuZm9udFNpemV8fDEyLHI9dC5mb250V2VpZ2h0fHxcIjQwMFwiLG89dC5jb2xvcnx8XCIjNDY0NjQ2XCIsYT10LmZvbnRTaXplfHwxNCxzPXQuZm9udFdlaWdodHx8XCI5MDBcIjtyZXR1cm5cImh0bWxcIj09PWU/e25hbWVTdHlsZTpcImZvbnQtc2l6ZTpcIitpK1wicHg7Y29sb3I6XCIrbitcIjtmb250LXdlaWdodDpcIityLHZhbHVlU3R5bGU6XCJmb250LXNpemU6XCIrYStcInB4O2NvbG9yOlwiK28rXCI7Zm9udC13ZWlnaHQ6XCIrc306e25hbWVTdHlsZTp7Zm9udFNpemU6aSxmaWxsOm4sZm9udFdlaWdodDpyfSx2YWx1ZVN0eWxlOntmb250U2l6ZTphLGZpbGw6byxmb250V2VpZ2h0OnN9fX12YXIgSGQ9WzAsMTAsMjAsMzBdLFdkPVtcIlwiLFwiXFxuXCIsXCJcXG5cXG5cIixcIlxcblxcblxcblwiXTtmdW5jdGlvbiBZZCh0LGUpe3JldHVybiBlLnR5cGU9dCxlfWZ1bmN0aW9uIFhkKHQpe3JldHVybiBkdChVZCx0LnR5cGUpJiZVZFt0LnR5cGVdfXZhciBVZD17c2VjdGlvbjp7cGxhbkxheW91dDpmdW5jdGlvbih0KXt2YXIgZT10LmJsb2Nrcy5sZW5ndGgsbj1lPjF8fGU+MCYmIXQubm9IZWFkZXIsaT0wO1AodC5ibG9ja3MsKGZ1bmN0aW9uKHQpe1hkKHQpLnBsYW5MYXlvdXQodCk7dmFyIGU9dC5fX2dhcExldmVsQmV0d2VlblN1YkJsb2NrcztlPj1pJiYoaT1lKyghbnx8ZSYmKFwic2VjdGlvblwiIT09dC50eXBlfHx0Lm5vSGVhZGVyKT8wOjEpKX0pKSx0Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzPWl9LGJ1aWxkOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUubm9IZWFkZXIsbz1qZChlKSxhPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPVtdLG89ZS5ibG9ja3N8fFtdO3J0KCFvfHxGKG8pKSxvPW98fFtdO3ZhciBhPXQub3JkZXJNb2RlO2lmKGUuc29ydEJsb2NrcyYmYSl7bz1vLnNsaWNlKCk7dmFyIHM9e3ZhbHVlQXNjOlwiYXNjXCIsdmFsdWVEZXNjOlwiZGVzY1wifTtpZihkdChzLGEpKXt2YXIgbD1uZXcgVGQoc1thXSxudWxsKTtvLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGwuZXZhbHVhdGUodC5zb3J0UGFyYW0sZS5zb3J0UGFyYW0pfSkpfWVsc2VcInNlcmllc0Rlc2NcIj09PWEmJm8ucmV2ZXJzZSgpfXZhciB1PWpkKGUpO2lmKFAobywoZnVuY3Rpb24oZSxuKXt2YXIgbz1YZChlKS5idWlsZCh0LGUsbj4wP3UuaHRtbDowLGkpO251bGwhPW8mJnIucHVzaChvKX0pKSwhci5sZW5ndGgpcmV0dXJuO3JldHVyblwicmljaFRleHRcIj09PXQucmVuZGVyTW9kZT9yLmpvaW4odS5yaWNoVGV4dCk6cWQoci5qb2luKFwiXCIpLG4pfSh0LGUscj9uOm8uaHRtbCxpKTtpZihyKXJldHVybiBhO3ZhciBzPXljKGUuaGVhZGVyLFwib3JkaW5hbFwiLHQudXNlVVRDKSxsPUdkKGksdC5yZW5kZXJNb2RlKS5uYW1lU3R5bGU7cmV0dXJuXCJyaWNoVGV4dFwiPT09dC5yZW5kZXJNb2RlP0tkKHQscyxsKStvLnJpY2hUZXh0K2E6cWQoJzxkaXYgc3R5bGU9XCInK2wrXCI7XCIrJ2xpbmUtaGVpZ2h0OjE7XCI+JytnYyhzKStcIjwvZGl2PlwiK2Esbil9fSxuYW1lVmFsdWU6e3BsYW5MYXlvdXQ6ZnVuY3Rpb24odCl7dC5fX2dhcExldmVsQmV0d2VlblN1YkJsb2Nrcz0wfSxidWlsZDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LnJlbmRlck1vZGUsbz1lLm5vTmFtZSxhPWUubm9WYWx1ZSxzPSFlLm1hcmtlclR5cGUsbD1lLm5hbWUsdT1lLnZhbHVlLGg9dC51c2VVVEM7aWYoIW98fCFhKXt2YXIgYz1zP1wiXCI6dC5tYXJrdXBTdHlsZUNyZWF0b3IubWFrZVRvb2x0aXBNYXJrZXIoZS5tYXJrZXJUeXBlLGUubWFya2VyQ29sb3J8fFwiIzMzM1wiLHIpLHA9bz9cIlwiOnljKGwsXCJvcmRpbmFsXCIsaCksZD1lLnZhbHVlVHlwZSxmPWE/W106Rih1KT9PKHUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHljKHQsRihkKT9kW2VdOmQsaCl9KSk6W3ljKHUsRihkKT9kWzBdOmQsaCldLGc9IXN8fCFvLHk9IXMmJm8sdj1HZChpLHIpLG09di5uYW1lU3R5bGUsXz12LnZhbHVlU3R5bGU7cmV0dXJuXCJyaWNoVGV4dFwiPT09cj8ocz9cIlwiOmMpKyhvP1wiXCI6S2QodCxwLG0pKSsoYT9cIlwiOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89W3JdLGE9aT8xMDoyMDtyZXR1cm4gbiYmby5wdXNoKHtwYWRkaW5nOlswLDAsMCxhXSxhbGlnbjpcInJpZ2h0XCJ9KSx0Lm1hcmt1cFN0eWxlQ3JlYXRvci53cmFwUmljaFRleHRTdHlsZShlLmpvaW4oXCIgIFwiKSxvKX0odCxmLGcseSxfKSk6cWQoKHM/XCJcIjpjKSsobz9cIlwiOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4nPHNwYW4gc3R5bGU9XCInK24rXCI7XCIrKGU/XCJtYXJnaW4tbGVmdDoycHhcIjpcIlwiKSsnXCI+JytnYyh0KStcIjwvc3Bhbj5cIn0ocCwhcyxtKSkrKGE/XCJcIjpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uP1wiMTBweFwiOlwiMjBweFwiO3JldHVybic8c3BhbiBzdHlsZT1cIicrKGU/XCJmbG9hdDpyaWdodDttYXJnaW4tbGVmdDpcIityOlwiXCIpK1wiO1wiK2krJ1wiPicrTyh0LChmdW5jdGlvbih0KXtyZXR1cm4gZ2ModCl9KSkuam9pbihcIiZuYnNwOyZuYnNwO1wiKStcIjwvc3Bhbj5cIn0oZixnLHksXykpLG4pfX19fTtmdW5jdGlvbiBaZCh0LGUsbixpLHIsbyl7aWYodCl7dmFyIGE9WGQodCk7YS5wbGFuTGF5b3V0KHQpO3ZhciBzPXt1c2VVVEM6cixyZW5kZXJNb2RlOm4sb3JkZXJNb2RlOmksbWFya3VwU3R5bGVDcmVhdG9yOmV9O3JldHVybiBhLmJ1aWxkKHMsdCwwLG8pfX1mdW5jdGlvbiBqZCh0KXt2YXIgZT10Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzO3JldHVybntodG1sOkhkW2VdLHJpY2hUZXh0OldkW2VdfX1mdW5jdGlvbiBxZCh0LGUpe3JldHVybic8ZGl2IHN0eWxlPVwiJysoXCJtYXJnaW46IFwiK2UrXCJweCAwIDBcIikrXCI7XCIrJ2xpbmUtaGVpZ2h0OjE7XCI+Jyt0Kyc8ZGl2IHN0eWxlPVwiY2xlYXI6Ym90aFwiPjwvZGl2PjwvZGl2Pid9ZnVuY3Rpb24gS2QodCxlLG4pe3JldHVybiB0Lm1hcmt1cFN0eWxlQ3JlYXRvci53cmFwUmljaFRleHRTdHlsZShlLG4pfWZ1bmN0aW9uICRkKHQsZSl7cmV0dXJuIGJjKHQuZ2V0RGF0YSgpLmdldEl0ZW1WaXN1YWwoZSxcInN0eWxlXCIpW3QudmlzdWFsRHJhd1R5cGVdKX1mdW5jdGlvbiBKZCh0LGUpe3ZhciBuPXQuZ2V0KFwicGFkZGluZ1wiKTtyZXR1cm4gbnVsbCE9bj9uOlwicmljaFRleHRcIj09PWU/WzgsMTBdOjEwfXZhciBRZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnJpY2hUZXh0U3R5bGVzPXt9LHRoaXMuX25leHRTdHlsZU5hbWVJZD1wcigpfXJldHVybiB0LnByb3RvdHlwZS5fZ2VuZXJhdGVTdHlsZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm5cIl9fRUNfYVVUb19cIit0aGlzLl9uZXh0U3R5bGVOYW1lSWQrK30sdC5wcm90b3R5cGUubWFrZVRvb2x0aXBNYXJrZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVwicmljaFRleHRcIj09PW4/dGhpcy5fZ2VuZXJhdGVTdHlsZU5hbWUoKTpudWxsLHI9eGMoe2NvbG9yOmUsdHlwZTp0LHJlbmRlck1vZGU6bixtYXJrZXJJZDppfSk7cmV0dXJuIEgocik/cjoodGhpcy5yaWNoVGV4dFN0eWxlc1tpXT1yLnN0eWxlLHIuY29udGVudCl9LHQucHJvdG90eXBlLndyYXBSaWNoVGV4dFN0eWxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307RihlKT9QKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBJKG4sdCl9KSk6SShuLGUpO3ZhciBpPXRoaXMuX2dlbmVyYXRlU3R5bGVOYW1lKCk7cmV0dXJuIHRoaXMucmljaFRleHRTdHlsZXNbaV09bixcIntcIitpK1wifFwiK3QrXCJ9XCJ9LHR9KCk7ZnVuY3Rpb24gdGYodCl7dmFyIGUsbixpLHIsbz10LnNlcmllcyxhPXQuZGF0YUluZGV4LHM9dC5tdWx0aXBsZVNlcmllcyxsPW8uZ2V0RGF0YSgpLHU9bC5tYXBEaW1lbnNpb25zQWxsKFwiZGVmYXVsdGVkVG9vbHRpcFwiKSxoPXUubGVuZ3RoLGM9by5nZXRSYXdWYWx1ZShhKSxwPUYoYyksZD0kZChvLGEpO2lmKGg+MXx8cCYmIWgpe3ZhciBmPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89ZS5nZXREYXRhKCksYT1SKHQsKGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1vLmdldERpbWVuc2lvbkluZm8obik7cmV0dXJuIHR8fGkmJiExIT09aS50b29sdGlwJiZudWxsIT1pLmRpc3BsYXlOYW1lfSksITEpLHM9W10sbD1bXSx1PVtdO2Z1bmN0aW9uIGgodCxlKXt2YXIgbj1vLmdldERpbWVuc2lvbkluZm8oZSk7biYmITEhPT1uLm90aGVyRGltcy50b29sdGlwJiYoYT91LnB1c2goWWQoXCJuYW1lVmFsdWVcIix7bWFya2VyVHlwZTpcInN1Ykl0ZW1cIixtYXJrZXJDb2xvcjpyLG5hbWU6bi5kaXNwbGF5TmFtZSx2YWx1ZTp0LHZhbHVlVHlwZTpuLnR5cGV9KSk6KHMucHVzaCh0KSxsLnB1c2gobi50eXBlKSkpfXJldHVybiBpLmxlbmd0aD9QKGksKGZ1bmN0aW9uKHQpe2goZmQobyxuLHQpLHQpfSkpOlAodCxoKSx7aW5saW5lVmFsdWVzOnMsaW5saW5lVmFsdWVUeXBlczpsLGJsb2Nrczp1fX0oYyxvLGEsdSxkKTtlPWYuaW5saW5lVmFsdWVzLG49Zi5pbmxpbmVWYWx1ZVR5cGVzLGk9Zi5ibG9ja3Mscj1mLmlubGluZVZhbHVlc1swXX1lbHNlIGlmKGgpe3ZhciBnPWwuZ2V0RGltZW5zaW9uSW5mbyh1WzBdKTtyPWU9ZmQobCxhLHVbMF0pLG49Zy50eXBlfWVsc2Ugcj1lPXA/Y1swXTpjO3ZhciB5PUNyKG8pLHY9eSYmby5uYW1lfHxcIlwiLG09bC5nZXROYW1lKGEpLF89cz92Om07cmV0dXJuIFlkKFwic2VjdGlvblwiLHtoZWFkZXI6dixub0hlYWRlcjpzfHwheSxzb3J0UGFyYW06cixibG9ja3M6W1lkKFwibmFtZVZhbHVlXCIse21hcmtlclR5cGU6XCJpdGVtXCIsbWFya2VyQ29sb3I6ZCxuYW1lOl8sbm9OYW1lOiFvdChfKSx2YWx1ZTplLHZhbHVlVHlwZTpufSldLmNvbmNhdChpfHxbXSl9KX12YXIgZWY9THIoKTtmdW5jdGlvbiBuZih0LGUpe3JldHVybiB0LmdldE5hbWUoZSl8fHQuZ2V0SWQoZSl9dmFyIHJmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX3NlbGVjdGVkRGF0YUluZGljZXNNYXA9e30sZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuc2VyaWVzSW5kZXg9dGhpcy5jb21wb25lbnRJbmRleCx0aGlzLmRhdGFUYXNrPW1kKHtjb3VudDphZixyZXNldDpzZn0pLHRoaXMuZGF0YVRhc2suY29udGV4dD17bW9kZWw6dGhpc30sdGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLChlZih0aGlzKS5zb3VyY2VNYW5hZ2VyPW5ldyB6ZCh0aGlzKSkucHJlcGFyZVNvdXJjZSgpO3ZhciBpPXRoaXMuZ2V0SW5pdGlhbERhdGEodCxuKTt1ZihpLHRoaXMpLHRoaXMuZGF0YVRhc2suY29udGV4dC5kYXRhPWksZWYodGhpcykuZGF0YUJlZm9yZVByb2Nlc3NlZD1pLG9mKHRoaXMpLHRoaXMuX2luaXRTZWxlY3RlZE1hcEZyb21EYXRhKGkpfSxlLnByb3RvdHlwZS5tZXJnZURlZmF1bHRBbmRUaGVtZT1mdW5jdGlvbih0LGUpe3ZhciBuPUxjKHRoaXMpLGk9bj9QYyh0KTp7fSxyPXRoaXMuc3ViVHlwZTtOYy5oYXNDbGFzcyhyKSYmKHIrPVwiU2VyaWVzXCIpLFModCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMuc3ViVHlwZSkpLFModCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSkseHIodCxcImxhYmVsXCIsW1wic2hvd1wiXSksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmRhdGEpLG4mJmtjKHQsaSxuKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXt0PVModGhpcy5vcHRpb24sdCwhMCksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmRhdGEpO3ZhciBuPUxjKHRoaXMpO24mJmtjKHRoaXMub3B0aW9uLHQsbik7dmFyIGk9ZWYodGhpcykuc291cmNlTWFuYWdlcjtpLmRpcnR5KCksaS5wcmVwYXJlU291cmNlKCk7dmFyIHI9dGhpcy5nZXRJbml0aWFsRGF0YSh0LGUpO3VmKHIsdGhpcyksdGhpcy5kYXRhVGFzay5kaXJ0eSgpLHRoaXMuZGF0YVRhc2suY29udGV4dC5kYXRhPXIsZWYodGhpcykuZGF0YUJlZm9yZVByb2Nlc3NlZD1yLG9mKHRoaXMpLHRoaXMuX2luaXRTZWxlY3RlZE1hcEZyb21EYXRhKHIpfSxlLnByb3RvdHlwZS5maWxsRGF0YVRleHRTdHlsZT1mdW5jdGlvbih0KXtpZih0JiYhWih0KSlmb3IodmFyIGU9W1wic2hvd1wiXSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmdFtuXS5sYWJlbCYmeHIodFtuXSxcImxhYmVsXCIsZSl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZ2V0UmF3RGF0YSgpLmFwcGVuZERhdGEodC5kYXRhKX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbih0KXt2YXIgZT1jZih0aGlzKTtpZihlKXt2YXIgbj1lLmNvbnRleHQuZGF0YTtyZXR1cm4gbnVsbD09dD9uOm4uZ2V0TGlua2VkRGF0YSh0KX1yZXR1cm4gZWYodGhpcykuZGF0YX0sZS5wcm90b3R5cGUuZ2V0QWxsRGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RGF0YSgpO3JldHVybiB0JiZ0LmdldExpbmtlZERhdGFBbGw/dC5nZXRMaW5rZWREYXRhQWxsKCk6W3tkYXRhOnR9XX0sZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt2YXIgZT1jZih0aGlzKTtpZihlKXt2YXIgbj1lLmNvbnRleHQ7bi5vdXRwdXREYXRhPXQsZSE9PXRoaXMuZGF0YVRhc2smJihuLmRhdGE9dCl9ZWYodGhpcykuZGF0YT10fSxlLnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gZWYodGhpcykuc291cmNlTWFuYWdlci5nZXRTb3VyY2UoKX0sZS5wcm90b3R5cGUuZ2V0UmF3RGF0YT1mdW5jdGlvbigpe3JldHVybiBlZih0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkfSxlLnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gdCYmdC5nZXRCYXNlQXhpcyYmdC5nZXRCYXNlQXhpcygpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGYoe3Nlcmllczp0aGlzLGRhdGFJbmRleDp0LG11bHRpcGxlU2VyaWVzOmV9KX0sZS5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7aWYoYS5ub2RlKXJldHVybiExO3ZhciB0PXRoaXMuZ2V0U2hhbGxvdyhcImFuaW1hdGlvblwiKTtyZXR1cm4gdCYmdGhpcy5nZXREYXRhKCkuY291bnQoKT50aGlzLmdldFNoYWxsb3coXCJhbmltYXRpb25UaHJlc2hvbGRcIikmJih0PSExKSwhIXR9LGUucHJvdG90eXBlLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKCl7dGhpcy5kYXRhVGFzay5kaXJ0eSgpfSxlLnByb3RvdHlwZS5nZXRDb2xvckZyb21QYWxldHRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmVjTW9kZWwscj11cC5wcm90b3R5cGUuZ2V0Q29sb3JGcm9tUGFsZXR0ZS5jYWxsKHRoaXMsdCxlLG4pO3JldHVybiByfHwocj1pLmdldENvbG9yRnJvbVBhbGV0dGUodCxlLG4pKSxyfSxlLnByb3RvdHlwZS5jb29yZERpbVRvRGF0YURpbT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRSYXdEYXRhKCkubWFwRGltZW5zaW9uc0FsbCh0KX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJwcm9ncmVzc2l2ZVwiKX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJwcm9ncmVzc2l2ZVRocmVzaG9sZFwiKX0sZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKHQsZSl7dGhpcy5faW5uZXJTZWxlY3QodGhpcy5nZXREYXRhKGUpLHQpfSxlLnByb3RvdHlwZS51bnNlbGVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwO2lmKG4pZm9yKHZhciBpPXRoaXMuZ2V0RGF0YShlKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPW5mKGksdFtyXSk7bltvXT0hMSx0aGlzLl9zZWxlY3RlZERhdGFJbmRpY2VzTWFwW29dPS0xfX0sZS5wcm90b3R5cGUudG9nZ2xlU2VsZWN0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyluWzBdPXRbaV0sdGhpcy5pc1NlbGVjdGVkKHRbaV0sZSk/dGhpcy51bnNlbGVjdChuLGUpOnRoaXMuc2VsZWN0KG4sZSl9LGUucHJvdG90eXBlLmdldFNlbGVjdGVkRGF0YUluZGljZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcCxlPXoodCksbj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciByPXRbZVtpXV07cj49MCYmbi5wdXNoKHIpfXJldHVybiBufSxlLnByb3RvdHlwZS5pc1NlbGVjdGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb24uc2VsZWN0ZWRNYXA7cmV0dXJuIG4mJm5bbmYodGhpcy5nZXREYXRhKGUpLHQpXXx8ITF9LGUucHJvdG90eXBlLl9pbm5lclNlbGVjdD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscj10aGlzLm9wdGlvbi5zZWxlY3RlZE1vZGUsbz1lLmxlbmd0aDtpZihyJiZvKWlmKFwibXVsdGlwbGVcIj09PXIpZm9yKHZhciBhPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwfHwodGhpcy5vcHRpb24uc2VsZWN0ZWRNYXA9e30pLHM9MDtzPG87cysrKXt2YXIgbD1lW3NdO2FbaD1uZih0LGwpXT0hMCx0aGlzLl9zZWxlY3RlZERhdGFJbmRpY2VzTWFwW2hdPXQuZ2V0UmF3SW5kZXgobCl9ZWxzZSBpZihcInNpbmdsZVwiPT09cnx8ITA9PT1yKXt2YXIgdT1lW28tMV0saD1uZih0LHUpO3RoaXMub3B0aW9uLnNlbGVjdGVkTWFwPSgobj17fSlbaF09ITAsbiksdGhpcy5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcD0oKGk9e30pW2hdPXQuZ2V0UmF3SW5kZXgodSksaSl9fSxlLnByb3RvdHlwZS5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGE9ZnVuY3Rpb24odCl7aWYoIXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwKXt2YXIgZT1bXTt0Lmhhc0l0ZW1PcHRpb24mJnQuZWFjaCgoZnVuY3Rpb24obil7dmFyIGk9dC5nZXRSYXdEYXRhSXRlbShuKTtcIm9iamVjdFwiPT10eXBlb2YgaSYmaS5zZWxlY3RlZCYmZS5wdXNoKG4pfSkpLGUubGVuZ3RoPjAmJnRoaXMuX2lubmVyU2VsZWN0KHQsZSl9fSxlLnJlZ2lzdGVyQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIE5jLnJlZ2lzdGVyQ2xhc3ModCl9LGUucHJvdG9Jbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGU7dC50eXBlPVwic2VyaWVzLl9fYmFzZV9fXCIsdC5zZXJpZXNJbmRleD0wLHQudXNlQ29sb3JQYWxldHRlT25EYXRhPSExLHQuaWdub3JlU3R5bGVPbkRhdGE9ITEsdC5oYXNTeW1ib2xWaXN1YWw9ITEsdC5kZWZhdWx0U3ltYm9sPVwiY2lyY2xlXCIsdC52aXN1YWxTdHlsZUFjY2Vzc1BhdGg9XCJpdGVtU3R5bGVcIix0LnZpc3VhbERyYXdUeXBlPVwiZmlsbFwifSgpLGV9KE5jKTtmdW5jdGlvbiBvZih0KXt2YXIgZT10Lm5hbWU7Q3IodCl8fCh0Lm5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSYXdEYXRhKCksbj1lLm1hcERpbWVuc2lvbnNBbGwoXCJzZXJpZXNOYW1lXCIpLGk9W107cmV0dXJuIFAobiwoZnVuY3Rpb24odCl7dmFyIG49ZS5nZXREaW1lbnNpb25JbmZvKHQpO24uZGlzcGxheU5hbWUmJmkucHVzaChuLmRpc3BsYXlOYW1lKX0pKSxpLmpvaW4oXCIgXCIpfSh0KXx8ZSl9ZnVuY3Rpb24gYWYodCl7cmV0dXJuIHQubW9kZWwuZ2V0UmF3RGF0YSgpLmNvdW50KCl9ZnVuY3Rpb24gc2YodCl7dmFyIGU9dC5tb2RlbDtyZXR1cm4gZS5zZXREYXRhKGUuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdygpKSxsZn1mdW5jdGlvbiBsZih0LGUpe2Uub3V0cHV0RGF0YSYmdC5lbmQ+ZS5vdXRwdXREYXRhLmNvdW50KCkmJmUubW9kZWwuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdyhlLm91dHB1dERhdGEpfWZ1bmN0aW9uIHVmKHQsZSl7UChyKHQuQ0hBTkdBQkxFX01FVEhPRFMsdC5ET1dOU0FNUExFX01FVEhPRFMpLChmdW5jdGlvbihuKXt0LndyYXBNZXRob2QobixWKGhmLGUpKX0pKX1mdW5jdGlvbiBoZih0LGUpe3ZhciBuPWNmKHQpO3JldHVybiBuJiZuLnNldE91dHB1dEVuZCgoZXx8dGhpcykuY291bnQoKSksZX1mdW5jdGlvbiBjZih0KXt2YXIgZT0odC5lY01vZGVsfHx7fSkuc2NoZWR1bGVyLG49ZSYmZS5nZXRQaXBlbGluZSh0LnVpZCk7aWYobil7dmFyIGk9bi5jdXJyZW50VGFzaztpZihpKXt2YXIgcj1pLmFnZW50U3R1Yk1hcDtyJiYoaT1yLmdldCh0LnVpZCkpfXJldHVybiBpfX1MKHJmLHlkKSxMKHJmLHVwKSxZcihyZixOYyk7dmFyIHBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZ3JvdXA9bmV3IHppLHRoaXMudWlkPUloKFwidmlld0NvbXBvbmVudFwiKX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe30sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLnVwZGF0ZVZpc3VhbD1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLmJsdXJTZXJpZXM9ZnVuY3Rpb24odCxlKXt9LHR9KCk7ZnVuY3Rpb24gZGYoKXt2YXIgdD1McigpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj10KGUpLGk9ZS5waXBlbGluZUNvbnRleHQscj0hIW4ubGFyZ2Usbz0hIW4ucHJvZ3Jlc3NpdmVSZW5kZXIsYT1uLmxhcmdlPSEoIWl8fCFpLmxhcmdlKSxzPW4ucHJvZ3Jlc3NpdmVSZW5kZXI9ISghaXx8IWkucHJvZ3Jlc3NpdmVSZW5kZXIpO3JldHVybiEocj09PWEmJm89PT1zKSYmXCJyZXNldFwifX1IcihwZiksanIocGYpO3ZhciBmZj1McigpLGdmPWRmKCkseWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5ncm91cD1uZXcgemksdGhpcy51aWQ9SWgoXCJ2aWV3Q2hhcnRcIiksdGhpcy5yZW5kZXJUYXNrPW1kKHtwbGFuOl9mLHJlc2V0OnhmfSksdGhpcy5yZW5kZXJUYXNrLmNvbnRleHQ9e3ZpZXc6dGhpc319cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbih0LGUsbixpKXttZih0LmdldERhdGEoKSxpLFwiZW1waGFzaXNcIil9LHQucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKHQsZSxuLGkpe21mKHQuZ2V0RGF0YSgpLGksXCJub3JtYWxcIil9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5yZW5kZXIodCxlLG4saSl9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUsbixpKXt0aGlzLnJlbmRlcih0LGUsbixpKX0sdC5wcm90b3R5cGUudXBkYXRlVmlzdWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMucmVuZGVyKHQsZSxuLGkpfSx0Lm1hcmtVcGRhdGVNZXRob2Q9ZnVuY3Rpb24odCxlKXtmZih0KS51cGRhdGVNZXRob2Q9ZX0sdC5wcm90b0luaXRpYWxpemU9dm9pZCh0LnByb3RvdHlwZS50eXBlPVwiY2hhcnRcIiksdH0oKTtmdW5jdGlvbiB2Zih0LGUsbil7dCYmKFwiZW1waGFzaXNcIj09PWU/SHM6V3MpKHQsbil9ZnVuY3Rpb24gbWYodCxlLG4pe3ZhciBpPURyKHQsZSkscj1lJiZudWxsIT1lLmhpZ2hsaWdodEtleT9mdW5jdGlvbih0KXt2YXIgZT1tc1t0XTtyZXR1cm4gbnVsbD09ZSYmdnM8PTMyJiYoZT1tc1t0XT12cysrKSxlfShlLmhpZ2hsaWdodEtleSk6bnVsbDtudWxsIT1pP1AoX3IoaSksKGZ1bmN0aW9uKGUpe3ZmKHQuZ2V0SXRlbUdyYXBoaWNFbChlKSxuLHIpfSkpOnQuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQpe3ZmKHQsbixyKX0pKX1mdW5jdGlvbiBfZih0KXtyZXR1cm4gZ2YodC5tb2RlbCl9ZnVuY3Rpb24geGYodCl7dmFyIGU9dC5tb2RlbCxuPXQuZWNNb2RlbCxpPXQuYXBpLHI9dC5wYXlsb2FkLG89ZS5waXBlbGluZUNvbnRleHQucHJvZ3Jlc3NpdmVSZW5kZXIsYT10LnZpZXcscz1yJiZmZihyKS51cGRhdGVNZXRob2QsbD1vP1wiaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyXCI6cyYmYVtzXT9zOlwicmVuZGVyXCI7cmV0dXJuXCJyZW5kZXJcIiE9PWwmJmFbbF0oZSxuLGksciksYmZbbF19SHIoeWYpLGpyKHlmKTt2YXIgYmY9e2luY3JlbWVudGFsUHJlcGFyZVJlbmRlcjp7cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtlLnZpZXcuaW5jcmVtZW50YWxSZW5kZXIodCxlLm1vZGVsLGUuZWNNb2RlbCxlLmFwaSxlLnBheWxvYWQpfX0scmVuZGVyOntmb3JjZUZpcnN0UHJvZ3Jlc3M6ITAscHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtlLnZpZXcucmVuZGVyKGUubW9kZWwsZS5lY01vZGVsLGUuYXBpLGUucGF5bG9hZCl9fX0sd2Y9XCJcXDBfX3Rocm90dGxlT3JpZ2luTWV0aG9kXCIsU2Y9XCJcXDBfX3Rocm90dGxlUmF0ZVwiLE1mPVwiXFwwX190aHJvdHRsZVR5cGVcIjtmdW5jdGlvbiBJZih0LGUsbil7dmFyIGkscixvLGEscyxsPTAsdT0wLGg9bnVsbDtmdW5jdGlvbiBjKCl7dT0obmV3IERhdGUpLmdldFRpbWUoKSxoPW51bGwsdC5hcHBseShvLGF8fFtdKX1lPWV8fDA7dmFyIHA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10scD0wO3A8YXJndW1lbnRzLmxlbmd0aDtwKyspdFtwXT1hcmd1bWVudHNbcF07aT0obmV3IERhdGUpLmdldFRpbWUoKSxvPXRoaXMsYT10O3ZhciBkPXN8fGUsZj1zfHxuO3M9bnVsbCxyPWktKGY/bDp1KS1kLGNsZWFyVGltZW91dChoKSxmP2g9c2V0VGltZW91dChjLGQpOnI+PTA/YygpOmg9c2V0VGltZW91dChjLC1yKSxsPWl9O3JldHVybiBwLmNsZWFyPWZ1bmN0aW9uKCl7aCYmKGNsZWFyVGltZW91dChoKSxoPW51bGwpfSxwLmRlYm91bmNlTmV4dENhbGw9ZnVuY3Rpb24odCl7cz10fSxwfWZ1bmN0aW9uIFRmKHQsZSxuLGkpe3ZhciByPXRbZV07aWYocil7dmFyIG89clt3Zl18fHIsYT1yW01mXTtpZihyW1NmXSE9PW58fGEhPT1pKXtpZihudWxsPT1ufHwhaSlyZXR1cm4gdFtlXT1vOyhyPXRbZV09SWYobyxuLFwiZGVib3VuY2VcIj09PWkpKVt3Zl09byxyW01mXT1pLHJbU2ZdPW59cmV0dXJuIHJ9fXZhciBDZj1McigpLEFmPXtpdGVtU3R5bGU6cXIoeGgsITApLGxpbmVTdHlsZTpxcih2aCwhMCl9LERmPXtsaW5lU3R5bGU6XCJzdHJva2VcIixpdGVtU3R5bGU6XCJmaWxsXCJ9O2Z1bmN0aW9uIExmKHQsZSl7dmFyIG49dC52aXN1YWxTdHlsZU1hcHBlcnx8QWZbZV07cmV0dXJuIG58fChjb25zb2xlLndhcm4oXCJVbmtvd24gc3R5bGUgdHlwZSAnXCIrZStcIicuXCIpLEFmLml0ZW1TdHlsZSl9ZnVuY3Rpb24ga2YodCxlKXt2YXIgbj10LnZpc3VhbERyYXdUeXBlfHxEZltlXTtyZXR1cm4gbnx8KGNvbnNvbGUud2FybihcIlVua293biBzdHlsZSB0eXBlICdcIitlK1wiJy5cIiksXCJmaWxsXCIpfXZhciBQZj17Y3JlYXRlT25BbGxTZXJpZXM6ITAscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC52aXN1YWxTdHlsZUFjY2Vzc1BhdGh8fFwiaXRlbVN0eWxlXCIscj10LmdldE1vZGVsKGkpLG89TGYodCxpKShyKSxhPXIuZ2V0U2hhbGxvdyhcImRlY2FsXCIpO2EmJihuLnNldFZpc3VhbChcImRlY2FsXCIsYSksYS5kaXJ0eT0hMCk7dmFyIHM9a2YodCxpKSxsPW9bc10sdT1HKGwpP2w6bnVsbDtpZihvW3NdJiYhdXx8KG9bc109dC5nZXRDb2xvckZyb21QYWxldHRlKHQubmFtZSxudWxsLGUuZ2V0U2VyaWVzQ291bnQoKSksbi5zZXRWaXN1YWwoXCJjb2xvckZyb21QYWxldHRlXCIsITApKSxuLnNldFZpc3VhbChcInN0eWxlXCIsbyksbi5zZXRWaXN1YWwoXCJkcmF3VHlwZVwiLHMpLCFlLmlzU2VyaWVzRmlsdGVyZWQodCkmJnUpcmV0dXJuIG4uc2V0VmlzdWFsKFwiY29sb3JGcm9tUGFsZXR0ZVwiLCExKSx7ZGF0YUVhY2g6ZnVuY3Rpb24oZSxuKXt2YXIgaT10LmdldERhdGFQYXJhbXMobikscj1JKHt9LG8pO3Jbc109dShpKSxlLnNldEl0ZW1WaXN1YWwobixcInN0eWxlXCIscil9fX19LE9mPW5ldyBTaCxSZj17Y3JlYXRlT25BbGxTZXJpZXM6ITAscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe2lmKCF0Lmlnbm9yZVN0eWxlT25EYXRhJiYhZS5pc1Nlcmllc0ZpbHRlcmVkKHQpKXt2YXIgbj10LmdldERhdGEoKSxpPXQudmlzdWFsU3R5bGVBY2Nlc3NQYXRofHxcIml0ZW1TdHlsZVwiLHI9TGYodCxpKSxvPW4uZ2V0VmlzdWFsKFwiZHJhd1R5cGVcIik7cmV0dXJue2RhdGFFYWNoOm4uaGFzSXRlbU9wdGlvbj9mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0UmF3RGF0YUl0ZW0oZSk7aWYobiYmbltpXSl7T2Yub3B0aW9uPW5baV07dmFyIGE9cihPZik7SSh0LmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwoZSxcInN0eWxlXCIpLGEpLE9mLm9wdGlvbi5kZWNhbCYmKHQuc2V0SXRlbVZpc3VhbChlLFwiZGVjYWxcIixPZi5vcHRpb24uZGVjYWwpLE9mLm9wdGlvbi5kZWNhbC5kaXJ0eT0hMCksbyBpbiBhJiZ0LnNldEl0ZW1WaXN1YWwoZSxcImNvbG9yRnJvbVBhbGV0dGVcIiwhMSl9fTpudWxsfX19fSxOZj17cGVyZm9ybVJhd1NlcmllczohMCxvdmVyYWxsUmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9aHQoKTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKHQudXNlQ29sb3JQYWxldHRlT25EYXRhKXt2YXIgbj1lLmdldCh0LnR5cGUpO258fChuPXt9LGUuc2V0KHQudHlwZSxuKSksQ2YodCkuc2NvcGU9bn19KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXtpZihlLnVzZUNvbG9yUGFsZXR0ZU9uRGF0YSYmIXQuaXNTZXJpZXNGaWx0ZXJlZChlKSl7dmFyIG49ZS5nZXRSYXdEYXRhKCksaT17fSxyPWUuZ2V0RGF0YSgpLG89Q2YoZSkuc2NvcGUsYT1lLnZpc3VhbFN0eWxlQWNjZXNzUGF0aHx8XCJpdGVtU3R5bGVcIixzPWtmKGUsYSk7ci5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1yLmdldFJhd0luZGV4KHQpO2lbZV09dH0pKSxuLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBhPWlbdF07aWYoci5nZXRJdGVtVmlzdWFsKGEsXCJjb2xvckZyb21QYWxldHRlXCIpKXt2YXIgbD1yLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwoYSxcInN0eWxlXCIpLHU9bi5nZXROYW1lKHQpfHx0K1wiXCIsaD1uLmNvdW50KCk7bFtzXT1lLmdldENvbG9yRnJvbVBhbGV0dGUodSxvLGgpfX0pKX19KSl9fSxFZj1NYXRoLlBJO3ZhciB6Zj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dGhpcy5fc3RhZ2VUYXNrTWFwPWh0KCksdGhpcy5lY0luc3RhbmNlPXQsdGhpcy5hcGk9ZSxuPXRoaXMuX2RhdGFQcm9jZXNzb3JIYW5kbGVycz1uLnNsaWNlKCksaT10aGlzLl92aXN1YWxIYW5kbGVycz1pLnNsaWNlKCksdGhpcy5fYWxsSGFuZGxlcnM9bi5jb25jYXQoaSl9cmV0dXJuIHQucHJvdG90eXBlLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKHQsZSl7dC5yZXN0b3JlRGF0YShlKSx0aGlzLl9zdGFnZVRhc2tNYXAuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5vdmVyYWxsVGFzaztlJiZlLmRpcnR5KCl9KSl9LHQucHJvdG90eXBlLmdldFBlcmZvcm1BcmdzPWZ1bmN0aW9uKHQsZSl7aWYodC5fX3BpcGVsaW5lKXt2YXIgbj10aGlzLl9waXBlbGluZU1hcC5nZXQodC5fX3BpcGVsaW5lLmlkKSxpPW4uY29udGV4dCxyPSFlJiZuLnByb2dyZXNzaXZlRW5hYmxlZCYmKCFpfHxpLnByb2dyZXNzaXZlUmVuZGVyKSYmdC5fX2lkeEluUGlwZWxpbmU+bi5ibG9ja0luZGV4P24uc3RlcDpudWxsLG89aSYmaS5tb2REYXRhQ291bnQ7cmV0dXJue3N0ZXA6cixtb2RCeTpudWxsIT1vP01hdGguY2VpbChvL3IpOm51bGwsbW9kRGF0YUNvdW50Om99fX0sdC5wcm90b3R5cGUuZ2V0UGlwZWxpbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lTWFwLmdldCh0KX0sdC5wcm90b3R5cGUudXBkYXRlU3RyZWFtTW9kZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9waXBlbGluZU1hcC5nZXQodC51aWQpLGk9dC5nZXREYXRhKCkuY291bnQoKSxyPW4ucHJvZ3Jlc3NpdmVFbmFibGVkJiZlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlciYmaT49bi50aHJlc2hvbGQsbz10LmdldChcImxhcmdlXCIpJiZpPj10LmdldChcImxhcmdlVGhyZXNob2xkXCIpLGE9XCJtb2RcIj09PXQuZ2V0KFwicHJvZ3Jlc3NpdmVDaHVua01vZGVcIik/aTpudWxsO3QucGlwZWxpbmVDb250ZXh0PW4uY29udGV4dD17cHJvZ3Jlc3NpdmVSZW5kZXI6cixtb2REYXRhQ291bnQ6YSxsYXJnZTpvfX0sdC5wcm90b3R5cGUucmVzdG9yZVBpcGVsaW5lcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZS5fcGlwZWxpbmVNYXA9aHQoKTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0UHJvZ3Jlc3NpdmUoKSxyPXQudWlkO24uc2V0KHIse2lkOnIsaGVhZDpudWxsLHRhaWw6bnVsbCx0aHJlc2hvbGQ6dC5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZCgpLHByb2dyZXNzaXZlRW5hYmxlZDppJiYhKHQucHJldmVudEluY3JlbWVudGFsJiZ0LnByZXZlbnRJbmNyZW1lbnRhbCgpKSxibG9ja0luZGV4Oi0xLHN0ZXA6TWF0aC5yb3VuZChpfHw3MDApLGNvdW50OjB9KSxlLl9waXBlKHQsdC5kYXRhVGFzayl9KSl9LHQucHJvdG90eXBlLnByZXBhcmVTdGFnZVRhc2tzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhZ2VUYXNrTWFwLGU9dGhpcy5hcGkuZ2V0TW9kZWwoKSxuPXRoaXMuYXBpO1AodGhpcy5fYWxsSGFuZGxlcnMsKGZ1bmN0aW9uKGkpe3ZhciByPXQuZ2V0KGkudWlkKXx8dC5zZXQoaS51aWQse30pLG89XCJcIjtydCghKGkucmVzZXQmJmkub3ZlcmFsbFJlc2V0KSxvKSxpLnJlc2V0JiZ0aGlzLl9jcmVhdGVTZXJpZXNTdGFnZVRhc2soaSxyLGUsbiksaS5vdmVyYWxsUmVzZXQmJnRoaXMuX2NyZWF0ZU92ZXJhbGxTdGFnZVRhc2soaSxyLGUsbil9KSx0aGlzKX0sdC5wcm90b3R5cGUucHJlcGFyZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5yZW5kZXJUYXNrLG89ci5jb250ZXh0O28ubW9kZWw9ZSxvLmVjTW9kZWw9bixvLmFwaT1pLHIuX19ibG9jaz0hdC5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXIsdGhpcy5fcGlwZShlLHIpfSx0LnByb3RvdHlwZS5wZXJmb3JtRGF0YVByb2Nlc3NvclRhc2tzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcGVyZm9ybVN0YWdlVGFza3ModGhpcy5fZGF0YVByb2Nlc3NvckhhbmRsZXJzLHQsZSx7YmxvY2s6ITB9KX0sdC5wcm90b3R5cGUucGVyZm9ybVZpc3VhbFRhc2tzPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9wZXJmb3JtU3RhZ2VUYXNrcyh0aGlzLl92aXN1YWxIYW5kbGVycyx0LGUsbil9LHQucHJvdG90eXBlLl9wZXJmb3JtU3RhZ2VUYXNrcz1mdW5jdGlvbih0LGUsbixpKXtpPWl8fHt9O3ZhciByPSExLG89dGhpcztmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHQuc2V0RGlydHkmJighdC5kaXJ0eU1hcHx8dC5kaXJ0eU1hcC5nZXQoZS5fX3BpcGVsaW5lLmlkKSl9UCh0LChmdW5jdGlvbih0LHMpe2lmKCFpLnZpc3VhbFR5cGV8fGkudmlzdWFsVHlwZT09PXQudmlzdWFsVHlwZSl7dmFyIGw9by5fc3RhZ2VUYXNrTWFwLmdldCh0LnVpZCksdT1sLnNlcmllc1Rhc2tNYXAsaD1sLm92ZXJhbGxUYXNrO2lmKGgpe3ZhciBjLHA9aC5hZ2VudFN0dWJNYXA7cC5lYWNoKChmdW5jdGlvbih0KXthKGksdCkmJih0LmRpcnR5KCksYz0hMCl9KSksYyYmaC5kaXJ0eSgpLG8udXBkYXRlUGF5bG9hZChoLG4pO3ZhciBkPW8uZ2V0UGVyZm9ybUFyZ3MoaCxpLmJsb2NrKTtwLmVhY2goKGZ1bmN0aW9uKHQpe3QucGVyZm9ybShkKX0pKSxoLnBlcmZvcm0oZCkmJihyPSEwKX1lbHNlIHUmJnUuZWFjaCgoZnVuY3Rpb24ocyxsKXthKGkscykmJnMuZGlydHkoKTt2YXIgdT1vLmdldFBlcmZvcm1BcmdzKHMsaS5ibG9jayk7dS5za2lwPSF0LnBlcmZvcm1SYXdTZXJpZXMmJmUuaXNTZXJpZXNGaWx0ZXJlZChzLmNvbnRleHQubW9kZWwpLG8udXBkYXRlUGF5bG9hZChzLG4pLHMucGVyZm9ybSh1KSYmKHI9ITApfSkpfX0pKSx0aGlzLnVuZmluaXNoZWQ9cnx8dGhpcy51bmZpbmlzaGVkfSx0LnByb3RvdHlwZS5wZXJmb3JtU2VyaWVzVGFza3M9ZnVuY3Rpb24odCl7dmFyIGU7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtlPXQuZGF0YVRhc2sucGVyZm9ybSgpfHxlfSkpLHRoaXMudW5maW5pc2hlZD1lfHx0aGlzLnVuZmluaXNoZWR9LHQucHJvdG90eXBlLnBsYW49ZnVuY3Rpb24oKXt0aGlzLl9waXBlbGluZU1hcC5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LnRhaWw7ZG97aWYoZS5fX2Jsb2NrKXt0LmJsb2NrSW5kZXg9ZS5fX2lkeEluUGlwZWxpbmU7YnJlYWt9ZT1lLmdldFVwc3RyZWFtKCl9d2hpbGUoZSl9KSl9LHQucHJvdG90eXBlLnVwZGF0ZVBheWxvYWQ9ZnVuY3Rpb24odCxlKXtcInJlbWFpblwiIT09ZSYmKHQuY29udGV4dC5wYXlsb2FkPWUpfSx0LnByb3RvdHlwZS5fY3JlYXRlU2VyaWVzU3RhZ2VUYXNrPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsbz1lLnNlcmllc1Rhc2tNYXAsYT1lLnNlcmllc1Rhc2tNYXA9aHQoKSxzPXQuc2VyaWVzVHlwZSxsPXQuZ2V0VGFyZ2V0U2VyaWVzO2Z1bmN0aW9uIHUoZSl7dmFyIHM9ZS51aWQsbD1hLnNldChzLG8mJm8uZ2V0KHMpfHxtZCh7cGxhbjpIZixyZXNldDpXZixjb3VudDpVZn0pKTtsLmNvbnRleHQ9e21vZGVsOmUsZWNNb2RlbDpuLGFwaTppLHVzZUNsZWFyVmlzdWFsOnQuaXNWaXN1YWwmJiF0LmlzTGF5b3V0LHBsYW46dC5wbGFuLHJlc2V0OnQucmVzZXQsc2NoZWR1bGVyOnJ9LHIuX3BpcGUoZSxsKX10LmNyZWF0ZU9uQWxsU2VyaWVzP24uZWFjaFJhd1Nlcmllcyh1KTpzP24uZWFjaFJhd1Nlcmllc0J5VHlwZShzLHUpOmwmJmwobixpKS5lYWNoKHUpfSx0LnByb3RvdHlwZS5fY3JlYXRlT3ZlcmFsbFN0YWdlVGFzaz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89ZS5vdmVyYWxsVGFzaz1lLm92ZXJhbGxUYXNrfHxtZCh7cmVzZXQ6QmZ9KTtvLmNvbnRleHQ9e2VjTW9kZWw6bixhcGk6aSxvdmVyYWxsUmVzZXQ6dC5vdmVyYWxsUmVzZXQsc2NoZWR1bGVyOnJ9O3ZhciBhPW8uYWdlbnRTdHViTWFwLHM9by5hZ2VudFN0dWJNYXA9aHQoKSxsPXQuc2VyaWVzVHlwZSx1PXQuZ2V0VGFyZ2V0U2VyaWVzLGg9ITAsYz0hMSxwPVwiXCI7ZnVuY3Rpb24gZCh0KXt2YXIgZT10LnVpZCxuPXMuc2V0KGUsYSYmYS5nZXQoZSl8fChjPSEwLG1kKHtyZXNldDpWZixvbkRpcnR5OkdmfSkpKTtuLmNvbnRleHQ9e21vZGVsOnQsb3ZlcmFsbFByb2dyZXNzOmh9LG4uYWdlbnQ9byxuLl9fYmxvY2s9aCxyLl9waXBlKHQsbil9cnQoIXQuY3JlYXRlT25BbGxTZXJpZXMscCksbD9uLmVhY2hSYXdTZXJpZXNCeVR5cGUobCxkKTp1P3UobixpKS5lYWNoKGQpOihoPSExLFAobi5nZXRTZXJpZXMoKSxkKSksYyYmby5kaXJ0eSgpfSx0LnByb3RvdHlwZS5fcGlwZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQudWlkLGk9dGhpcy5fcGlwZWxpbmVNYXAuZ2V0KG4pOyFpLmhlYWQmJihpLmhlYWQ9ZSksaS50YWlsJiZpLnRhaWwucGlwZShlKSxpLnRhaWw9ZSxlLl9faWR4SW5QaXBlbGluZT1pLmNvdW50KyssZS5fX3BpcGVsaW5lPWl9LHQud3JhcFN0YWdlSGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiBHKHQpJiYodD17b3ZlcmFsbFJlc2V0OnQsc2VyaWVzVHlwZTpaZih0KX0pLHQudWlkPUloKFwic3RhZ2VIYW5kbGVyXCIpLGUmJih0LnZpc3VhbFR5cGU9ZSksdH0sdH0oKTtmdW5jdGlvbiBCZih0KXt0Lm92ZXJhbGxSZXNldCh0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKX1mdW5jdGlvbiBWZih0KXtyZXR1cm4gdC5vdmVyYWxsUHJvZ3Jlc3MmJkZmfWZ1bmN0aW9uIEZmKCl7dGhpcy5hZ2VudC5kaXJ0eSgpLHRoaXMuZ2V0RG93bnN0cmVhbSgpLmRpcnR5KCl9ZnVuY3Rpb24gR2YoKXt0aGlzLmFnZW50JiZ0aGlzLmFnZW50LmRpcnR5KCl9ZnVuY3Rpb24gSGYodCl7cmV0dXJuIHQucGxhbj90LnBsYW4odC5tb2RlbCx0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKTpudWxsfWZ1bmN0aW9uIFdmKHQpe3QudXNlQ2xlYXJWaXN1YWwmJnQuZGF0YS5jbGVhckFsbFZpc3VhbCgpO3ZhciBlPXQucmVzZXREZWZpbmVzPV9yKHQucmVzZXQodC5tb2RlbCx0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKSk7cmV0dXJuIGUubGVuZ3RoPjE/TyhlLChmdW5jdGlvbih0LGUpe3JldHVybiBYZihlKX0pKTpZZn12YXIgWWY9WGYoMCk7ZnVuY3Rpb24gWGYodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGk9bi5kYXRhLHI9bi5yZXNldERlZmluZXNbdF07aWYociYmci5kYXRhRWFjaClmb3IodmFyIG89ZS5zdGFydDtvPGUuZW5kO28rKylyLmRhdGFFYWNoKGksbyk7ZWxzZSByJiZyLnByb2dyZXNzJiZyLnByb2dyZXNzKGUsaSl9fWZ1bmN0aW9uIFVmKHQpe3JldHVybiB0LmRhdGEuY291bnQoKX1mdW5jdGlvbiBaZih0KXtqZj1udWxsO3RyeXt0KHFmLEtmKX1jYXRjaCh0KXt9cmV0dXJuIGpmfXZhciBqZixxZj17fSxLZj17fTtmdW5jdGlvbiAkZih0LGUpe2Zvcih2YXIgbiBpbiBlLnByb3RvdHlwZSl0W25dPWZ0fSRmKHFmLHBwKSwkZihLZix2cCkscWYuZWFjaFNlcmllc0J5VHlwZT1xZi5lYWNoUmF3U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQpe2pmPXR9LHFmLmVhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7XCJzZXJpZXNcIj09PXQubWFpblR5cGUmJnQuc3ViVHlwZSYmKGpmPXQuc3ViVHlwZSl9O3ZhciBKZj1bXCIjMzdBMkRBXCIsXCIjMzJDNUU5XCIsXCIjNjdFMEUzXCIsXCIjOUZFNkI4XCIsXCIjRkZEQjVDXCIsXCIjZmY5ZjdmXCIsXCIjZmI3MjkzXCIsXCIjRTA2MkFFXCIsXCIjRTY5MEQxXCIsXCIjZTdiY2YzXCIsXCIjOWQ5NmY1XCIsXCIjODM3OEVBXCIsXCIjOTZCRkZGXCJdLFFmPXtjb2xvcjpKZixjb2xvckxheWVyOltbXCIjMzdBMkRBXCIsXCIjZmZkODVjXCIsXCIjZmQ3YjVmXCJdLFtcIiMzN0EyREFcIixcIiM2N0UwRTNcIixcIiNGRkRCNUNcIixcIiNmZjlmN2ZcIixcIiNFMDYyQUVcIixcIiM5ZDk2ZjVcIl0sW1wiIzM3QTJEQVwiLFwiIzMyQzVFOVwiLFwiIzlGRTZCOFwiLFwiI0ZGREI1Q1wiLFwiI2ZmOWY3ZlwiLFwiI2ZiNzI5M1wiLFwiI2U3YmNmM1wiLFwiIzgzNzhFQVwiLFwiIzk2QkZGRlwiXSxKZl19LHRnPVwiI0I5QjhDRVwiLGVnPVwiIzEwMEMyQVwiLG5nPWZ1bmN0aW9uKCl7cmV0dXJue2F4aXNMaW5lOntsaW5lU3R5bGU6e2NvbG9yOnRnfX0sc3BsaXRMaW5lOntsaW5lU3R5bGU6e2NvbG9yOlwiIzQ4NDc1M1wifX0sc3BsaXRBcmVhOnthcmVhU3R5bGU6e2NvbG9yOltcInJnYmEoMjU1LDI1NSwyNTUsMC4wMilcIixcInJnYmEoMjU1LDI1NSwyNTUsMC4wNSlcIl19fSxtaW5vclNwbGl0TGluZTp7bGluZVN0eWxlOntjb2xvcjpcIiMyMDIwM0JcIn19fX0saWc9W1wiIzQ5OTJmZlwiLFwiIzdjZmZiMlwiLFwiI2ZkZGQ2MFwiLFwiI2ZmNmU3NlwiLFwiIzU4ZDlmOVwiLFwiIzA1YzA5MVwiLFwiI2ZmOGE0NVwiLFwiIzhkNDhlM1wiLFwiI2RkNzlmZlwiXSxyZz17ZGFya01vZGU6ITAsY29sb3I6aWcsYmFja2dyb3VuZENvbG9yOmVnLGF4aXNQb2ludGVyOntsaW5lU3R5bGU6e2NvbG9yOlwiIzgxN2Y5MVwifSxjcm9zc1N0eWxlOntjb2xvcjpcIiM4MTdmOTFcIn0sbGFiZWw6e2NvbG9yOlwiI2ZmZlwifX0sbGVnZW5kOnt0ZXh0U3R5bGU6e2NvbG9yOnRnfX0sdGV4dFN0eWxlOntjb2xvcjp0Z30sdGl0bGU6e3RleHRTdHlsZTp7Y29sb3I6XCIjRUVGMUZBXCJ9LHN1YnRleHRTdHlsZTp7Y29sb3I6XCIjQjlCOENFXCJ9fSx0b29sYm94OntpY29uU3R5bGU6e2JvcmRlckNvbG9yOnRnfX0sZGF0YVpvb206e2JvcmRlckNvbG9yOlwiIzcxNzA4QVwiLHRleHRTdHlsZTp7Y29sb3I6dGd9LGJydXNoU3R5bGU6e2NvbG9yOlwicmdiYSgxMzUsMTYzLDIwNiwwLjMpXCJ9LGhhbmRsZVN0eWxlOntjb2xvcjpcIiMzNTM0NTBcIixib3JkZXJDb2xvcjpcIiNDNUNCRTNcIn0sbW92ZUhhbmRsZVN0eWxlOntjb2xvcjpcIiNCMEI2QzNcIixvcGFjaXR5Oi4zfSxmaWxsZXJDb2xvcjpcInJnYmEoMTM1LDE2MywyMDYsMC4yKVwiLGVtcGhhc2lzOntoYW5kbGVTdHlsZTp7Ym9yZGVyQ29sb3I6XCIjOTFCN0YyXCIsY29sb3I6XCIjNEQ1ODdEXCJ9LG1vdmVIYW5kbGVTdHlsZTp7Y29sb3I6XCIjNjM2RDlBXCIsb3BhY2l0eTouN319LGRhdGFCYWNrZ3JvdW5kOntsaW5lU3R5bGU6e2NvbG9yOlwiIzcxNzA4QVwiLHdpZHRoOjF9LGFyZWFTdHlsZTp7Y29sb3I6XCIjNzE3MDhBXCJ9fSxzZWxlY3RlZERhdGFCYWNrZ3JvdW5kOntsaW5lU3R5bGU6e2NvbG9yOlwiIzg3QTNDRVwifSxhcmVhU3R5bGU6e2NvbG9yOlwiIzg3QTNDRVwifX19LHZpc3VhbE1hcDp7dGV4dFN0eWxlOntjb2xvcjp0Z319LHRpbWVsaW5lOntsaW5lU3R5bGU6e2NvbG9yOnRnfSxsYWJlbDp7Y29sb3I6dGd9LGNvbnRyb2xTdHlsZTp7Y29sb3I6dGcsYm9yZGVyQ29sb3I6dGd9fSxjYWxlbmRhcjp7aXRlbVN0eWxlOntjb2xvcjplZ30sZGF5TGFiZWw6e2NvbG9yOnRnfSxtb250aExhYmVsOntjb2xvcjp0Z30seWVhckxhYmVsOntjb2xvcjp0Z319LHRpbWVBeGlzOm5nKCksbG9nQXhpczpuZygpLHZhbHVlQXhpczpuZygpLGNhdGVnb3J5QXhpczpuZygpLGxpbmU6e3N5bWJvbDpcImNpcmNsZVwifSxncmFwaDp7Y29sb3I6aWd9LGdhdWdlOnt0aXRsZTp7Y29sb3I6dGd9LGF4aXNMaW5lOntsaW5lU3R5bGU6e2NvbG9yOltbMSxcInJnYmEoMjA3LDIxMiwyMTksMC4yKVwiXV19fSxheGlzTGFiZWw6e2NvbG9yOnRnfSxkZXRhaWw6e2NvbG9yOlwiI0VFRjFGQVwifX0sY2FuZGxlc3RpY2s6e2l0ZW1TdHlsZTp7Y29sb3I6XCIjZjY0ZTU2XCIsY29sb3IwOlwiIzU0ZWE5MlwiLGJvcmRlckNvbG9yOlwiI2Y2NGU1NlwiLGJvcmRlckNvbG9yMDpcIiM1NGVhOTJcIn19fTtmdW5jdGlvbiBvZyh0KXtIKHQpJiYodD0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L3htbFwiKSk7dmFyIGU9dDtmb3IoOT09PWUubm9kZVR5cGUmJihlPWUuZmlyc3RDaGlsZCk7XCJzdmdcIiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKXx8MSE9PWUubm9kZVR5cGU7KWU9ZS5uZXh0U2libGluZztyZXR1cm4gZX1yZy5jYXRlZ29yeUF4aXMuc3BsaXRMaW5lLnNob3c9ITE7dmFyIGFnPWh0KCksc2c9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO2lmKEYoZSkpaT1lO2Vsc2UgaWYoZS5zdmcpaT1be3R5cGU6XCJzdmdcIixzb3VyY2U6ZS5zdmcsc3BlY2lhbEFyZWFzOmUuc3BlY2lhbEFyZWFzfV07ZWxzZXt2YXIgcj1lLmdlb0pzb258fGUuZ2VvSlNPTjtyJiYhZS5mZWF0dXJlcyYmKG49ZS5zcGVjaWFsQXJlYXMsZT1yKSxpPVt7dHlwZTpcImdlb0pTT05cIixzb3VyY2U6ZSxzcGVjaWFsQXJlYXM6bn1dfXJldHVybiBQKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTtcImdlb0pzb25cIj09PWUmJihlPXQudHlwZT1cImdlb0pTT05cIik7dmFyIG49dWdbZV07bih0KX0pKSxhZy5zZXQodCxpKX0sbGc9ZnVuY3Rpb24odCl7cmV0dXJuIGFnLmdldCh0KX0sdWc9e2dlb0pTT046ZnVuY3Rpb24odCl7dmFyIGU9dC5zb3VyY2U7dC5nZW9KU09OPUgoZSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEpTT04mJkpTT04ucGFyc2U/SlNPTi5wYXJzZShlKTpuZXcgRnVuY3Rpb24oXCJyZXR1cm4gKFwiK2UrXCIpO1wiKSgpOmV9LHN2ZzpmdW5jdGlvbih0KXt0LnN2Z1hNTD1vZyh0LnNvdXJjZSl9fSxoZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLm5vcm1hbGl6ZVF1ZXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49e30saT17fTtpZihIKHQpKXt2YXIgcj1Hcih0KTtlLm1haW5UeXBlPXIubWFpbnx8bnVsbCxlLnN1YlR5cGU9ci5zdWJ8fG51bGx9ZWxzZXt2YXIgbz1bXCJJbmRleFwiLFwiTmFtZVwiLFwiSWRcIl0sYT17bmFtZToxLGRhdGFJbmRleDoxLGRhdGFUeXBlOjF9O1AodCwoZnVuY3Rpb24odCxyKXtmb3IodmFyIHM9ITEsbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1vW2xdLGg9ci5sYXN0SW5kZXhPZih1KTtpZihoPjAmJmg9PT1yLmxlbmd0aC11Lmxlbmd0aCl7dmFyIGM9ci5zbGljZSgwLGgpO1wiZGF0YVwiIT09YyYmKGUubWFpblR5cGU9YyxlW3UudG9Mb3dlckNhc2UoKV09dCxzPSEwKX19YS5oYXNPd25Qcm9wZXJ0eShyKSYmKG5bcl09dCxzPSEwKSxzfHwoaVtyXT10KX0pKX1yZXR1cm57Y3B0UXVlcnk6ZSxkYXRhUXVlcnk6bixvdGhlclF1ZXJ5Oml9fSx0LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV2ZW50SW5mbztpZighbilyZXR1cm4hMDt2YXIgaT1uLnRhcmdldEVsLHI9bi5wYWNrZWRFdmVudCxvPW4ubW9kZWwsYT1uLnZpZXc7aWYoIW98fCFhKXJldHVybiEwO3ZhciBzPWUuY3B0UXVlcnksbD1lLmRhdGFRdWVyeTtyZXR1cm4gdShzLG8sXCJtYWluVHlwZVwiKSYmdShzLG8sXCJzdWJUeXBlXCIpJiZ1KHMsbyxcImluZGV4XCIsXCJjb21wb25lbnRJbmRleFwiKSYmdShzLG8sXCJuYW1lXCIpJiZ1KHMsbyxcImlkXCIpJiZ1KGwscixcIm5hbWVcIikmJnUobCxyLFwiZGF0YUluZGV4XCIpJiZ1KGwscixcImRhdGFUeXBlXCIpJiYoIWEuZmlsdGVyRm9yRXhwb3NlZEV2ZW50fHxhLmZpbHRlckZvckV4cG9zZWRFdmVudCh0LGUub3RoZXJRdWVyeSxpLHIpKTtmdW5jdGlvbiB1KHQsZSxuLGkpe3JldHVybiBudWxsPT10W25dfHxlW2l8fG5dPT09dFtuXX19LHQucHJvdG90eXBlLmFmdGVyVHJpZ2dlcj1mdW5jdGlvbigpe3RoaXMuZXZlbnRJbmZvPW51bGx9LHR9KCksY2c9e2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKTtpZih0LmxlZ2VuZFN5bWJvbCYmbi5zZXRWaXN1YWwoXCJsZWdlbmRTeW1ib2xcIix0LmxlZ2VuZFN5bWJvbCksdC5oYXNTeW1ib2xWaXN1YWwpe3ZhciBpPXQuZ2V0KFwic3ltYm9sXCIpLHI9dC5nZXQoXCJzeW1ib2xTaXplXCIpLG89dC5nZXQoXCJzeW1ib2xLZWVwQXNwZWN0XCIpLGE9dC5nZXQoXCJzeW1ib2xSb3RhdGVcIikscz1HKGkpLGw9RyhyKSx1PUcoYSksaD1zfHxsfHx1LGM9IXMmJmk/aTp0LmRlZmF1bHRTeW1ib2wscD1sP251bGw6cixkPXU/bnVsbDphO2lmKG4uc2V0VmlzdWFsKHtsZWdlbmRTeW1ib2w6dC5sZWdlbmRTeW1ib2x8fGMsc3ltYm9sOmMsc3ltYm9sU2l6ZTpwLHN5bWJvbEtlZXBBc3BlY3Q6byxzeW1ib2xSb3RhdGU6ZH0pLCFlLmlzU2VyaWVzRmlsdGVyZWQodCkpcmV0dXJue2RhdGFFYWNoOmg/ZnVuY3Rpb24oZSxuKXt2YXIgbz10LmdldFJhd1ZhbHVlKG4pLGg9dC5nZXREYXRhUGFyYW1zKG4pO3MmJmUuc2V0SXRlbVZpc3VhbChuLFwic3ltYm9sXCIsaShvLGgpKSxsJiZlLnNldEl0ZW1WaXN1YWwobixcInN5bWJvbFNpemVcIixyKG8saCkpLHUmJmUuc2V0SXRlbVZpc3VhbChuLFwic3ltYm9sUm90YXRlXCIsYShvLGgpKX06bnVsbH19fX07ZnVuY3Rpb24gcGcodCxlLG4pe3N3aXRjaChuKXtjYXNlXCJjb2xvclwiOnJldHVybiB0LmdldEl0ZW1WaXN1YWwoZSxcInN0eWxlXCIpW3QuZ2V0VmlzdWFsKFwiZHJhd1R5cGVcIildO2Nhc2VcIm9wYWNpdHlcIjpyZXR1cm4gdC5nZXRJdGVtVmlzdWFsKGUsXCJzdHlsZVwiKS5vcGFjaXR5O2Nhc2VcInN5bWJvbFwiOmNhc2VcInN5bWJvbFNpemVcIjpjYXNlXCJsaWZ0WlwiOnJldHVybiB0LmdldEl0ZW1WaXN1YWwoZSxuKTtkZWZhdWx0OjB9fWZ1bmN0aW9uIGRnKHQsZSl7c3dpdGNoKGUpe2Nhc2VcImNvbG9yXCI6cmV0dXJuIHQuZ2V0VmlzdWFsKFwic3R5bGVcIilbdC5nZXRWaXN1YWwoXCJkcmF3VHlwZVwiKV07Y2FzZVwib3BhY2l0eVwiOnJldHVybiB0LmdldFZpc3VhbChcInN0eWxlXCIpLm9wYWNpdHk7Y2FzZVwic3ltYm9sXCI6Y2FzZVwic3ltYm9sU2l6ZVwiOmNhc2VcImxpZnRaXCI6cmV0dXJuIHQuZ2V0VmlzdWFsKGUpO2RlZmF1bHQ6MH19ZnVuY3Rpb24gZmcodCxlLG4saSl7c3dpdGNoKG4pe2Nhc2VcImNvbG9yXCI6dC5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKGUsXCJzdHlsZVwiKVt0LmdldFZpc3VhbChcImRyYXdUeXBlXCIpXT1pLHQuc2V0SXRlbVZpc3VhbChlLFwiY29sb3JGcm9tUGFsZXR0ZVwiLCExKTticmVhaztjYXNlXCJvcGFjaXR5XCI6dC5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKGUsXCJzdHlsZVwiKS5vcGFjaXR5PWk7YnJlYWs7Y2FzZVwic3ltYm9sXCI6Y2FzZVwic3ltYm9sU2l6ZVwiOmNhc2VcImxpZnRaXCI6dC5zZXRJdGVtVmlzdWFsKGUsbixpKTticmVhaztkZWZhdWx0OjB9fXZhciBnZz0yKk1hdGguUEkseWc9Q2EuQ01ELHZnPVtcInRvcFwiLFwicmlnaHRcIixcImJvdHRvbVwiLFwibGVmdFwiXTtmdW5jdGlvbiBtZyh0LGUsbixpLHIpe3ZhciBvPW4ud2lkdGgsYT1uLmhlaWdodDtzd2l0Y2godCl7Y2FzZVwidG9wXCI6aS5zZXQobi54K28vMixuLnktZSksci5zZXQoMCwtMSk7YnJlYWs7Y2FzZVwiYm90dG9tXCI6aS5zZXQobi54K28vMixuLnkrYStlKSxyLnNldCgwLDEpO2JyZWFrO2Nhc2VcImxlZnRcIjppLnNldChuLngtZSxuLnkrYS8yKSxyLnNldCgtMSwwKTticmVhaztjYXNlXCJyaWdodFwiOmkuc2V0KG4ueCtvK2Usbi55K2EvMiksci5zZXQoMSwwKX19ZnVuY3Rpb24gX2codCxlLG4saSxyLG8sYSxzLGwpe2EtPXQscy09ZTt2YXIgdT1NYXRoLnNxcnQoYSphK3MqcyksaD0oYS89dSkqbit0LGM9KHMvPXUpKm4rZTtpZihNYXRoLmFicyhpLXIpJWdnPDFlLTQpcmV0dXJuIGxbMF09aCxsWzFdPWMsdS1uO2lmKG8pe3ZhciBwPWk7aT1QYShyKSxyPVBhKHApfWVsc2UgaT1QYShpKSxyPVBhKHIpO2k+ciYmKHIrPWdnKTt2YXIgZD1NYXRoLmF0YW4yKHMsYSk7aWYoZDwwJiYoZCs9Z2cpLGQ+PWkmJmQ8PXJ8fGQrZ2c+PWkmJmQrZ2c8PXIpcmV0dXJuIGxbMF09aCxsWzFdPWMsdS1uO3ZhciBmPW4qTWF0aC5jb3MoaSkrdCxnPW4qTWF0aC5zaW4oaSkrZSx5PW4qTWF0aC5jb3MocikrdCx2PW4qTWF0aC5zaW4ocikrZSxtPShmLWEpKihmLWEpKyhnLXMpKihnLXMpLF89KHktYSkqKHktYSkrKHYtcykqKHYtcyk7cmV0dXJuIG08Xz8obFswXT1mLGxbMV09ZyxNYXRoLnNxcnQobSkpOihsWzBdPXksbFsxXT12LE1hdGguc3FydChfKSl9ZnVuY3Rpb24geGcodCxlLG4saSxyLG8sYSxzKXt2YXIgbD1yLXQsdT1vLWUsaD1uLXQsYz1pLWUscD1NYXRoLnNxcnQoaCpoK2MqYyksZD0obCooaC89cCkrdSooYy89cCkpL3A7cyYmKGQ9TWF0aC5taW4oTWF0aC5tYXgoZCwwKSwxKSksZCo9cDt2YXIgZj1hWzBdPXQrZCpoLGc9YVsxXT1lK2QqYztyZXR1cm4gTWF0aC5zcXJ0KChmLXIpKihmLXIpKyhnLW8pKihnLW8pKX1mdW5jdGlvbiBiZyh0LGUsbixpLHIsbyxhKXtuPDAmJih0Kz1uLG49LW4pLGk8MCYmKGUrPWksaT0taSk7dmFyIHM9dCtuLGw9ZStpLHU9YVswXT1NYXRoLm1pbihNYXRoLm1heChyLHQpLHMpLGg9YVsxXT1NYXRoLm1pbihNYXRoLm1heChvLGUpLGwpO3JldHVybiBNYXRoLnNxcnQoKHUtcikqKHUtcikrKGgtbykqKGgtbykpfXZhciB3Zz1bXTtmdW5jdGlvbiBTZyh0LGUsbil7dmFyIGk9YmcoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LHQueCx0Lnksd2cpO3JldHVybiBuLnNldCh3Z1swXSx3Z1sxXSksaX1mdW5jdGlvbiBNZyh0LGUsbil7Zm9yKHZhciBpLHIsbz0wLGE9MCxzPTAsbD0wLHU9MS8wLGg9ZS5kYXRhLGM9dC54LHA9dC55LGQ9MDtkPGgubGVuZ3RoOyl7dmFyIGY9aFtkKytdOzE9PT1kJiYocz1vPWhbZF0sbD1hPWhbZCsxXSk7dmFyIGc9dTtzd2l0Y2goZil7Y2FzZSB5Zy5NOm89cz1oW2QrK10sYT1sPWhbZCsrXTticmVhaztjYXNlIHlnLkw6Zz14ZyhvLGEsaFtkXSxoW2QrMV0sYyxwLHdnLCEwKSxvPWhbZCsrXSxhPWhbZCsrXTticmVhaztjYXNlIHlnLkM6Zz1WbyhvLGEsaFtkKytdLGhbZCsrXSxoW2QrK10saFtkKytdLGhbZF0saFtkKzFdLGMscCx3Zyksbz1oW2QrK10sYT1oW2QrK107YnJlYWs7Y2FzZSB5Zy5ROmc9WG8obyxhLGhbZCsrXSxoW2QrK10saFtkXSxoW2QrMV0sYyxwLHdnKSxvPWhbZCsrXSxhPWhbZCsrXTticmVhaztjYXNlIHlnLkE6dmFyIHk9aFtkKytdLHY9aFtkKytdLG09aFtkKytdLF89aFtkKytdLHg9aFtkKytdLGI9aFtkKytdO2QrPTE7dmFyIHc9ISEoMS1oW2QrK10pO2k9TWF0aC5jb3MoeCkqbSt5LHI9TWF0aC5zaW4oeCkqXyt2LGQ8PTEmJihzPWksbD1yKSxnPV9nKHksdixfLHgseCtiLHcsKGMteSkqXy9tK3kscCx3Zyksbz1NYXRoLmNvcyh4K2IpKm0reSxhPU1hdGguc2luKHgrYikqXyt2O2JyZWFrO2Nhc2UgeWcuUjpnPWJnKHM9bz1oW2QrK10sbD1hPWhbZCsrXSxoW2QrK10saFtkKytdLGMscCx3Zyk7YnJlYWs7Y2FzZSB5Zy5aOmc9eGcobyxhLHMsbCxjLHAsd2csITApLG89cyxhPWx9Zzx1JiYodT1nLG4uc2V0KHdnWzBdLHdnWzFdKSl9cmV0dXJuIHV9dmFyIElnPW5ldyBJbixUZz1uZXcgSW4sQ2c9bmV3IEluLEFnPW5ldyBJbixEZz1uZXcgSW47ZnVuY3Rpb24gTGcodCxlKXtpZih0KXt2YXIgbj10LmdldFRleHRHdWlkZUxpbmUoKSxpPXQuZ2V0VGV4dENvbnRlbnQoKTtpZihpJiZuKXt2YXIgcj10LnRleHRHdWlkZUxpbmVDb25maWd8fHt9LG89W1swLDBdLFswLDBdLFswLDBdXSxhPXIuY2FuZGlkYXRlc3x8dmcscz1pLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cy5hcHBseVRyYW5zZm9ybShpLmdldENvbXB1dGVkVHJhbnNmb3JtKCkpO3ZhciBsPTEvMCx1PXIuYW5jaG9yLGg9dC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLGM9aCYmYmUoW10saCkscD1lLmdldChcImxlbmd0aDJcIil8fDA7dSYmQ2cuY29weSh1KTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyl7bWcoYVtkXSwwLHMsSWcsQWcpLEluLnNjYWxlQW5kQWRkKFRnLElnLEFnLHApLFRnLnRyYW5zZm9ybShjKTt2YXIgZj10LmdldEJvdW5kaW5nUmVjdCgpLGc9dT91LmRpc3RhbmNlKFRnKTp0IGluc3RhbmNlb2YgWmE/TWcoVGcsdC5wYXRoLENnKTpTZyhUZyxmLENnKTtnPGwmJihsPWcsVGcudHJhbnNmb3JtKGgpLENnLnRyYW5zZm9ybShoKSxDZy50b0FycmF5KG9bMF0pLFRnLnRvQXJyYXkob1sxXSksSWcudG9BcnJheShvWzJdKSl9T2cobyxlLmdldChcIm1pblR1cm5BbmdsZVwiKSksbi5zZXRTaGFwZSh7cG9pbnRzOm99KX19fXZhciBrZz1bXSxQZz1uZXcgSW47ZnVuY3Rpb24gT2codCxlKXtpZihlPD0xODAmJmU+MCl7ZT1lLzE4MCpNYXRoLlBJLElnLmZyb21BcnJheSh0WzBdKSxUZy5mcm9tQXJyYXkodFsxXSksQ2cuZnJvbUFycmF5KHRbMl0pLEluLnN1YihBZyxJZyxUZyksSW4uc3ViKERnLENnLFRnKTt2YXIgbj1BZy5sZW4oKSxpPURnLmxlbigpO2lmKCEobjwuMDAxfHxpPC4wMDEpKXtBZy5zY2FsZSgxL24pLERnLnNjYWxlKDEvaSk7dmFyIHI9QWcuZG90KERnKTtpZihNYXRoLmNvcyhlKTxyKXt2YXIgbz14ZyhUZy54LFRnLnksQ2cueCxDZy55LElnLngsSWcueSxrZywhMSk7UGcuZnJvbUFycmF5KGtnKSxQZy5zY2FsZUFuZEFkZChEZyxvL01hdGgudGFuKE1hdGguUEktZSkpO3ZhciBhPUNnLnghPT1UZy54PyhQZy54LVRnLngpLyhDZy54LVRnLngpOihQZy55LVRnLnkpLyhDZy55LVRnLnkpO2lmKGlzTmFOKGEpKXJldHVybjthPDA/SW4uY29weShQZyxUZyk6YT4xJiZJbi5jb3B5KFBnLENnKSxQZy50b0FycmF5KHRbMV0pfX19fWZ1bmN0aW9uIFJnKHQsZSxuKXtpZihuPD0xODAmJm4+MCl7bj1uLzE4MCpNYXRoLlBJLElnLmZyb21BcnJheSh0WzBdKSxUZy5mcm9tQXJyYXkodFsxXSksQ2cuZnJvbUFycmF5KHRbMl0pLEluLnN1YihBZyxUZyxJZyksSW4uc3ViKERnLENnLFRnKTt2YXIgaT1BZy5sZW4oKSxyPURnLmxlbigpO2lmKCEoaTwuMDAxfHxyPC4wMDEpKWlmKEFnLnNjYWxlKDEvaSksRGcuc2NhbGUoMS9yKSxBZy5kb3QoZSk8TWF0aC5jb3Mobikpe3ZhciBvPXhnKFRnLngsVGcueSxDZy54LENnLnksSWcueCxJZy55LGtnLCExKTtQZy5mcm9tQXJyYXkoa2cpO3ZhciBhPU1hdGguUEkvMixzPWErTWF0aC5hY29zKERnLmRvdChlKSktbjtpZihzPj1hKUluLmNvcHkoUGcsQ2cpO2Vsc2V7UGcuc2NhbGVBbmRBZGQoRGcsby9NYXRoLnRhbihNYXRoLlBJLzItcykpO3ZhciBsPUNnLnghPT1UZy54PyhQZy54LVRnLngpLyhDZy54LVRnLngpOihQZy55LVRnLnkpLyhDZy55LVRnLnkpO2lmKGlzTmFOKGwpKXJldHVybjtsPDA/SW4uY29weShQZyxUZyk6bD4xJiZJbi5jb3B5KFBnLENnKX1QZy50b0FycmF5KHRbMV0pfX19ZnVuY3Rpb24gTmcodCxlLG4saSl7dmFyIHI9XCJub3JtYWxcIj09PW4sbz1yP3Q6dC5lbnN1cmVTdGF0ZShuKTtvLmlnbm9yZT1lO3ZhciBhPWkuZ2V0KFwic21vb3RoXCIpO2EmJiEwPT09YSYmKGE9LjMpLG8uc2hhcGU9by5zaGFwZXx8e30sYT4wJiYoby5zaGFwZS5zbW9vdGg9YSk7dmFyIHM9aS5nZXRNb2RlbChcImxpbmVTdHlsZVwiKS5nZXRMaW5lU3R5bGUoKTtyP3QudXNlU3R5bGUocyk6by5zdHlsZT1zfWZ1bmN0aW9uIEVnKHQsZSl7dmFyIG49ZS5zbW9vdGgsaT1lLnBvaW50cztpZihpKWlmKHQubW92ZVRvKGlbMF1bMF0saVswXVsxXSksbj4wJiZpLmxlbmd0aD49Myl7dmFyIHI9THQoaVswXSxpWzFdKSxvPUx0KGlbMV0saVsyXSk7aWYoIXJ8fCFvKXJldHVybiB0LmxpbmVUbyhpWzFdWzBdLGlbMV1bMV0pLHZvaWQgdC5saW5lVG8oaVsyXVswXSxpWzJdWzFdKTt2YXIgYT1NYXRoLm1pbihyLG8pKm4scz1PdChbXSxpWzFdLGlbMF0sYS9yKSxsPU90KFtdLGlbMV0saVsyXSxhL28pLHU9T3QoW10scyxsLC41KTt0LmJlemllckN1cnZlVG8oc1swXSxzWzFdLHNbMF0sc1sxXSx1WzBdLHVbMV0pLHQuYmV6aWVyQ3VydmVUbyhsWzBdLGxbMV0sbFswXSxsWzFdLGlbMl1bMF0saVsyXVsxXSl9ZWxzZSBmb3IodmFyIGg9MTtoPGkubGVuZ3RoO2grKyl0LmxpbmVUbyhpW2hdWzBdLGlbaF1bMV0pfWZ1bmN0aW9uIHpnKHQsZSxuKXt2YXIgaT10LmdldFRleHRHdWlkZUxpbmUoKSxyPXQuZ2V0VGV4dENvbnRlbnQoKTtpZihyKXtmb3IodmFyIG89ZS5ub3JtYWwsYT1vLmdldChcInNob3dcIikscz1yLmlnbm9yZSxsPTA7bDxicy5sZW5ndGg7bCsrKXt2YXIgdT1ic1tsXSxoPWVbdV0sYz1cIm5vcm1hbFwiPT09dTtpZihoKXt2YXIgcD1oLmdldChcInNob3dcIik7aWYoKGM/czp0dChyLnN0YXRlc1t1XSYmci5zdGF0ZXNbdV0uaWdub3JlLHMpKXx8IXR0KHAsYSkpe3ZhciBkPWM/aTppJiZpLnN0YXRlcy5ub3JtYWw7ZCYmKGQuaWdub3JlPSEwKTtjb250aW51ZX1pfHwoaT1uZXcgJGwsdC5zZXRUZXh0R3VpZGVMaW5lKGkpLGN8fCFzJiZhfHxOZyhpLCEwLFwibm9ybWFsXCIsZS5ub3JtYWwpLHQuc3RhdGVQcm94eSYmKGkuc3RhdGVQcm94eT10LnN0YXRlUHJveHkpKSxOZyhpLCExLHUsaCl9fWlmKGkpe1QoaS5zdHlsZSxuKSxpLnN0eWxlLmZpbGw9bnVsbDt2YXIgZj1vLmdldChcInNob3dBYm92ZVwiKTsodC50ZXh0R3VpZGVMaW5lQ29uZmlnPXQudGV4dEd1aWRlTGluZUNvbmZpZ3x8e30pLnNob3dBYm92ZT1mfHwhMSxpLmJ1aWxkUGF0aD1FZ319ZWxzZSBpJiZ0LnJlbW92ZVRleHRHdWlkZUxpbmUoKX1mdW5jdGlvbiBCZyh0LGUpe2U9ZXx8XCJsYWJlbExpbmVcIjtmb3IodmFyIG49e25vcm1hbDp0LmdldE1vZGVsKGUpfSxpPTA7aTx4cy5sZW5ndGg7aSsrKXt2YXIgcj14c1tpXTtuW3JdPXQuZ2V0TW9kZWwoW3IsZV0pfXJldHVybiBufWZ1bmN0aW9uIFZnKHQsZSxuLGkscixvKXt2YXIgYT10Lmxlbmd0aDtpZighKGE8Mikpe3Quc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5yZWN0W2VdLW4ucmVjdFtlXX0pKTtmb3IodmFyIHMsbD0wLHU9ITEsaD0wLGM9MDtjPGE7YysrKXt2YXIgcD10W2NdLGQ9cC5yZWN0OyhzPWRbZV0tbCk8MCYmKGRbZV0tPXMscC5sYWJlbFtlXS09cyx1PSEwKSxoKz1NYXRoLm1heCgtcywwKSxsPWRbZV0rZFtuXX1oPjAmJm8mJngoLWgvYSwwLGEpO3ZhciBmLGcseT10WzBdLHY9dFthLTFdO3JldHVybiBtKCksZjwwJiZiKC1mLC44KSxnPDAmJmIoZywuOCksbSgpLF8oZixnLDEpLF8oZyxmLC0xKSxtKCksZjwwJiZ3KC1mKSxnPDAmJncoZyksdX1mdW5jdGlvbiBtKCl7Zj15LnJlY3RbZV0taSxnPXItdi5yZWN0W2VdLXYucmVjdFtuXX1mdW5jdGlvbiBfKHQsZSxuKXtpZih0PDApe3ZhciBpPU1hdGgubWluKGUsLXQpO2lmKGk+MCl7eChpKm4sMCxhKTt2YXIgcj1pK3Q7cjwwJiZiKC1yKm4sMSl9ZWxzZSBiKC10Km4sMSl9fWZ1bmN0aW9uIHgobixpLHIpezAhPT1uJiYodT0hMCk7Zm9yKHZhciBvPWk7bzxyO28rKyl7dmFyIGE9dFtvXTthLnJlY3RbZV0rPW4sYS5sYWJlbFtlXSs9bn19ZnVuY3Rpb24gYihpLHIpe2Zvcih2YXIgbz1bXSxzPTAsbD0xO2w8YTtsKyspe3ZhciB1PXRbbC0xXS5yZWN0LGg9TWF0aC5tYXgodFtsXS5yZWN0W2VdLXVbZV0tdVtuXSwwKTtvLnB1c2goaCkscys9aH1pZihzKXt2YXIgYz1NYXRoLm1pbihNYXRoLmFicyhpKS9zLHIpO2lmKGk+MClmb3IobD0wO2w8YS0xO2wrKyl7eChvW2xdKmMsMCxsKzEpfWVsc2UgZm9yKGw9YS0xO2w+MDtsLS0pe3goLShvW2wtMV0qYyksbCxhKX19fWZ1bmN0aW9uIHcodCl7dmFyIGU9dDwwPy0xOjE7dD1NYXRoLmFicyh0KTtmb3IodmFyIG49TWF0aC5jZWlsKHQvKGEtMSkpLGk9MDtpPGEtMTtpKyspaWYoZT4wP3gobiwwLGkrMSk6eCgtbixhLWktMSxhKSwodC09bik8PTApcmV0dXJufX1mdW5jdGlvbiBGZyh0LGUsbixpKXtyZXR1cm4gVmcodCxcInlcIixcImhlaWdodFwiLGUsbixpKX1mdW5jdGlvbiBHZyh0KXtpZih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bisrKWUucHVzaCh0W25dLnNsaWNlKCkpO3JldHVybiBlfX1mdW5jdGlvbiBIZyh0LGUpe3ZhciBuPXQubGFiZWwsaT1lJiZlLmdldFRleHRHdWlkZUxpbmUoKTtyZXR1cm57ZGF0YUluZGV4OnQuZGF0YUluZGV4LGRhdGFUeXBlOnQuZGF0YVR5cGUsc2VyaWVzSW5kZXg6dC5zZXJpZXNNb2RlbC5zZXJpZXNJbmRleCx0ZXh0OnQubGFiZWwuc3R5bGUudGV4dCxyZWN0OnQuaG9zdFJlY3QsbGFiZWxSZWN0OnQucmVjdCxhbGlnbjpuLnN0eWxlLmFsaWduLHZlcnRpY2FsQWxpZ246bi5zdHlsZS52ZXJ0aWNhbEFsaWduLGxhYmVsTGluZVBvaW50czpHZyhpJiZpLnNoYXBlLnBvaW50cyl9fXZhciBXZz1bXCJhbGlnblwiLFwidmVydGljYWxBbGlnblwiLFwid2lkdGhcIixcImhlaWdodFwiLFwiZm9udFNpemVcIl0sWWc9bmV3IGtlLFhnPUxyKCksVWc9THIoKTtmdW5jdGlvbiBaZyh0LGUsbil7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07bnVsbCE9ZVtyXSYmKHRbcl09ZVtyXSl9fXZhciBqZz1bXCJ4XCIsXCJ5XCIsXCJyb3RhdGlvblwiXSxxZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9sYWJlbExpc3Q9W10sdGhpcy5fY2hhcnRWaWV3TGlzdD1bXX1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXJMYWJlbHM9ZnVuY3Rpb24oKXt0aGlzLl9sYWJlbExpc3Q9W10sdGhpcy5fY2hhcnRWaWV3TGlzdD1bXX0sdC5wcm90b3R5cGUuX2FkZExhYmVsPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89aS5zdHlsZSxhPWkuX19ob3N0VGFyZ2V0LnRleHRDb25maWd8fHt9LHM9aS5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLGw9aS5nZXRCb3VuZGluZ1JlY3QoKS5wbGFpbigpO1JuLmFwcGx5VHJhbnNmb3JtKGwsbCxzKSxzP1lnLnNldExvY2FsVHJhbnNmb3JtKHMpOihZZy54PVlnLnk9WWcucm90YXRpb249WWcub3JpZ2luWD1ZZy5vcmlnaW5ZPTAsWWcuc2NhbGVYPVlnLnNjYWxlWT0xKTt2YXIgdSxoPWkuX19ob3N0VGFyZ2V0O2lmKGgpe3U9aC5nZXRCb3VuZGluZ1JlY3QoKS5wbGFpbigpO3ZhciBjPWguZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTtSbi5hcHBseVRyYW5zZm9ybSh1LHUsYyl9dmFyIHA9dSYmaC5nZXRUZXh0R3VpZGVMaW5lKCk7dGhpcy5fbGFiZWxMaXN0LnB1c2goe2xhYmVsOmksbGFiZWxMaW5lOnAsc2VyaWVzTW9kZWw6bixkYXRhSW5kZXg6dCxkYXRhVHlwZTplLGxheW91dE9wdGlvbjpyLGNvbXB1dGVkTGF5b3V0T3B0aW9uOm51bGwscmVjdDpsLGhvc3RSZWN0OnUscHJpb3JpdHk6dT91LndpZHRoKnUuaGVpZ2h0OjAsZGVmYXVsdEF0dHI6e2lnbm9yZTppLmlnbm9yZSxsYWJlbEd1aWRlSWdub3JlOnAmJnAuaWdub3JlLHg6WWcueCx5OllnLnkscm90YXRpb246WWcucm90YXRpb24sc3R5bGU6e3g6by54LHk6by55LGFsaWduOm8uYWxpZ24sdmVydGljYWxBbGlnbjpvLnZlcnRpY2FsQWxpZ24sd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsZm9udFNpemU6by5mb250U2l6ZX0sY3Vyc29yOmkuY3Vyc29yLGF0dGFjaGVkUG9zOmEucG9zaXRpb24sYXR0YWNoZWRSb3Q6YS5yb3RhdGlvbn19KX0sdC5wcm90b3R5cGUuYWRkTGFiZWxzT2ZTZXJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9jaGFydFZpZXdMaXN0LnB1c2godCk7dmFyIG49dC5fX21vZGVsLGk9bi5nZXQoXCJsYWJlbExheW91dFwiKTsoRyhpKXx8eihpKS5sZW5ndGgpJiZ0Lmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZih0Lmlnbm9yZSlyZXR1cm4hMDt2YXIgcj10LmdldFRleHRDb250ZW50KCksbz15cyh0KTtyJiYhci5kaXNhYmxlTGFiZWxMYXlvdXQmJmUuX2FkZExhYmVsKG8uZGF0YUluZGV4LG8uZGF0YVR5cGUsbixyLGkpfSkpfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXRDb25maWc9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRXaWR0aCgpLG49dC5nZXRIZWlnaHQoKTtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7TGcodCxlKX19Zm9yKHZhciByPTA7cjx0aGlzLl9sYWJlbExpc3QubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5fbGFiZWxMaXN0W3JdLGE9by5sYWJlbCxzPWEuX19ob3N0VGFyZ2V0LGw9by5kZWZhdWx0QXR0cix1PXZvaWQgMDt1PSh1PVwiZnVuY3Rpb25cIj09dHlwZW9mIG8ubGF5b3V0T3B0aW9uP28ubGF5b3V0T3B0aW9uKEhnKG8scykpOm8ubGF5b3V0T3B0aW9uKXx8e30sby5jb21wdXRlZExheW91dE9wdGlvbj11O3ZhciBoPU1hdGguUEkvMTgwO3MmJnMuc2V0VGV4dENvbmZpZyh7bG9jYWw6ITEscG9zaXRpb246bnVsbCE9dS54fHxudWxsIT11Lnk/bnVsbDpsLmF0dGFjaGVkUG9zLHJvdGF0aW9uOm51bGwhPXUucm90YXRlP3Uucm90YXRlKmg6bC5hdHRhY2hlZFJvdCxvZmZzZXQ6W3UuZHh8fDAsdS5keXx8MF19KTt2YXIgYz0hMTtpZihudWxsIT11Lng/KGEueD1aaSh1LngsZSksYS5zZXRTdHlsZShcInhcIiwwKSxjPSEwKTooYS54PWwueCxhLnNldFN0eWxlKFwieFwiLGwuc3R5bGUueCkpLG51bGwhPXUueT8oYS55PVppKHUueSxuKSxhLnNldFN0eWxlKFwieVwiLDApLGM9ITApOihhLnk9bC55LGEuc2V0U3R5bGUoXCJ5XCIsbC5zdHlsZS55KSksdS5sYWJlbExpbmVQb2ludHMpe3ZhciBwPXMuZ2V0VGV4dEd1aWRlTGluZSgpO3AmJihwLnNldFNoYXBlKHtwb2ludHM6dS5sYWJlbExpbmVQb2ludHN9KSxjPSExKX1YZyhhKS5uZWVkc1VwZGF0ZUxhYmVsTGluZT1jLGEucm90YXRpb249bnVsbCE9dS5yb3RhdGU/dS5yb3RhdGUqaDpsLnJvdGF0aW9uO2Zvcih2YXIgZD0wO2Q8V2cubGVuZ3RoO2QrKyl7dmFyIGY9V2dbZF07YS5zZXRTdHlsZShmLG51bGwhPXVbZl0/dVtmXTpsLnN0eWxlW2ZdKX1pZih1LmRyYWdnYWJsZSl7aWYoYS5kcmFnZ2FibGU9ITAsYS5jdXJzb3I9XCJtb3ZlXCIscyl7dmFyIGc9by5zZXJpZXNNb2RlbDtpZihudWxsIT1vLmRhdGFJbmRleClnPW8uc2VyaWVzTW9kZWwuZ2V0RGF0YShvLmRhdGFUeXBlKS5nZXRJdGVtTW9kZWwoby5kYXRhSW5kZXgpO2Eub24oXCJkcmFnXCIsaShzLGcuZ2V0TW9kZWwoXCJsYWJlbExpbmVcIikpKX19ZWxzZSBhLm9mZihcImRyYWdcIiksYS5jdXJzb3I9bC5jdXJzb3J9fSx0LnByb3RvdHlwZS5sYXlvdXQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10LmdldFdpZHRoKCksaT10LmdldEhlaWdodCgpLHI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZighaS5kZWZhdWx0QXR0ci5pZ25vcmUpe3ZhciByPWkubGFiZWwsbz1yLmdldENvbXB1dGVkVHJhbnNmb3JtKCksYT1yLmdldEJvdW5kaW5nUmVjdCgpLHM9IW98fG9bMV08MWUtNSYmb1syXTwxZS01LGw9ci5zdHlsZS5tYXJnaW58fDAsdT1hLmNsb25lKCk7dS5hcHBseVRyYW5zZm9ybShvKSx1LngtPWwvMix1LnktPWwvMix1LndpZHRoKz1sLHUuaGVpZ2h0Kz1sO3ZhciBoPXM/bmV3IGd1KGEsbyk6bnVsbDtlLnB1c2goe2xhYmVsOnIsbGFiZWxMaW5lOmkubGFiZWxMaW5lLHJlY3Q6dSxsb2NhbFJlY3Q6YSxvYmI6aCxwcmlvcml0eTppLnByaW9yaXR5LGRlZmF1bHRBdHRyOmkuZGVmYXVsdEF0dHIsbGF5b3V0T3B0aW9uOmkuY29tcHV0ZWRMYXlvdXRPcHRpb24sYXhpc0FsaWduZWQ6cyx0cmFuc2Zvcm06b30pfX1yZXR1cm4gZX0odGhpcy5fbGFiZWxMaXN0KSxvPU4ociwoZnVuY3Rpb24odCl7cmV0dXJuXCJzaGlmdFhcIj09PXQubGF5b3V0T3B0aW9uLm1vdmVPdmVybGFwfSkpLGE9TihyLChmdW5jdGlvbih0KXtyZXR1cm5cInNoaWZ0WVwiPT09dC5sYXlvdXRPcHRpb24ubW92ZU92ZXJsYXB9KSk7VmcobyxcInhcIixcIndpZHRoXCIsMCxuLGUpLEZnKGEsMCxpKSxmdW5jdGlvbih0KXt2YXIgZT1bXTt0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJpb3JpdHktdC5wcmlvcml0eX0pKTt2YXIgbj1uZXcgUm4oMCwwLDAsMCk7ZnVuY3Rpb24gaSh0KXtpZighdC5pZ25vcmUpe3ZhciBlPXQuZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKTtudWxsPT1lLmlnbm9yZSYmKGUuaWdub3JlPSExKX10Lmlnbm9yZT0hMH1mb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXSxhPW8uYXhpc0FsaWduZWQscz1vLmxvY2FsUmVjdCxsPW8udHJhbnNmb3JtLHU9by5sYWJlbCxoPW8ubGFiZWxMaW5lO24uY29weShvLnJlY3QpLG4ud2lkdGgtPS4xLG4uaGVpZ2h0LT0uMSxuLngrPS4wNSxuLnkrPS4wNTtmb3IodmFyIGM9by5vYmIscD0hMSxkPTA7ZDxlLmxlbmd0aDtkKyspe3ZhciBmPWVbZF07aWYobi5pbnRlcnNlY3QoZi5yZWN0KSl7aWYoYSYmZi5heGlzQWxpZ25lZCl7cD0hMDticmVha31pZihmLm9iYnx8KGYub2JiPW5ldyBndShmLmxvY2FsUmVjdCxmLnRyYW5zZm9ybSkpLGN8fChjPW5ldyBndShzLGwpKSxjLmludGVyc2VjdChmLm9iYikpe3A9ITA7YnJlYWt9fX1wPyhpKHUpLGgmJmkoaCkpOih1LmF0dHIoXCJpZ25vcmVcIixvLmRlZmF1bHRBdHRyLmlnbm9yZSksaCYmaC5hdHRyKFwiaWdub3JlXCIsby5kZWZhdWx0QXR0ci5sYWJlbEd1aWRlSWdub3JlKSxlLnB1c2gobykpfX0oTihyLChmdW5jdGlvbih0KXtyZXR1cm4gdC5sYXlvdXRPcHRpb24uaGlkZU92ZXJsYXB9KSkpfSx0LnByb3RvdHlwZS5wcm9jZXNzTGFiZWxzT3ZlcmFsbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7UCh0aGlzLl9jaGFydFZpZXdMaXN0LChmdW5jdGlvbihlKXt2YXIgbj1lLl9fbW9kZWwsaT1lLmlnbm9yZUxhYmVsTGluZVVwZGF0ZSxyPW4uaXNBbmltYXRpb25FbmFibGVkKCk7ZS5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24oZSl7aWYoZS5pZ25vcmUpcmV0dXJuITA7dmFyIG89IWksYT1lLmdldFRleHRDb250ZW50KCk7IW8mJmEmJihvPVhnKGEpLm5lZWRzVXBkYXRlTGFiZWxMaW5lKSxvJiZ0Ll91cGRhdGVMYWJlbExpbmUoZSxuKSxyJiZ0Ll9hbmltYXRlTGFiZWxzKGUsbil9KSl9KSl9LHQucHJvdG90eXBlLl91cGRhdGVMYWJlbExpbmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFRleHRDb250ZW50KCksaT15cyh0KSxyPWkuZGF0YUluZGV4O2lmKG4mJm51bGwhPXIpe3ZhciBvPWUuZ2V0RGF0YShpLmRhdGFUeXBlKSxhPW8uZ2V0SXRlbU1vZGVsKHIpLHM9e30sbD1vLmdldEl0ZW1WaXN1YWwocixcInN0eWxlXCIpLHU9by5nZXRWaXN1YWwoXCJkcmF3VHlwZVwiKTtzLnN0cm9rZT1sW3VdO3ZhciBoPWEuZ2V0TW9kZWwoXCJsYWJlbExpbmVcIik7emcodCxCZyhhKSxzKSxMZyh0LGgpfX0sdC5wcm90b3R5cGUuX2FuaW1hdGVMYWJlbHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFRleHRDb250ZW50KCksaT10LmdldFRleHRHdWlkZUxpbmUoKTtpZihuJiYhbi5pZ25vcmUmJiFuLmludmlzaWJsZSYmIXQuZGlzYWJsZUxhYmVsQW5pbWF0aW9uJiYhQnUodCkpe3ZhciByPShkPVhnKG4pKS5vbGRMYXlvdXQsbz15cyh0KSxhPW8uZGF0YUluZGV4LHM9e3g6bi54LHk6bi55LHJvdGF0aW9uOm4ucm90YXRpb259LGw9ZS5nZXREYXRhKG8uZGF0YVR5cGUpO2lmKHIpe24uYXR0cihyKTt2YXIgdT10LnByZXZTdGF0ZXM7dSYmKEEodSxcInNlbGVjdFwiKT49MCYmbi5hdHRyKGQub2xkTGF5b3V0U2VsZWN0KSxBKHUsXCJlbXBoYXNpc1wiKT49MCYmbi5hdHRyKGQub2xkTGF5b3V0RW1waGFzaXMpKSxPdShuLHMsZSxhKX1lbHNlIGlmKG4uYXR0cihzKSwhdWgobikudmFsdWVBbmltYXRpb24pe3ZhciBoPXR0KG4uc3R5bGUub3BhY2l0eSwxKTtuLnN0eWxlLm9wYWNpdHk9MCxSdShuLHtzdHlsZTp7b3BhY2l0eTpofX0sZSxhKX1pZihkLm9sZExheW91dD1zLG4uc3RhdGVzLnNlbGVjdCl7dmFyIGM9ZC5vbGRMYXlvdXRTZWxlY3Q9e307WmcoYyxzLGpnKSxaZyhjLG4uc3RhdGVzLnNlbGVjdCxqZyl9aWYobi5zdGF0ZXMuZW1waGFzaXMpe3ZhciBwPWQub2xkTGF5b3V0RW1waGFzaXM9e307WmcocCxzLGpnKSxaZyhwLG4uc3RhdGVzLmVtcGhhc2lzLGpnKX1jaChuLGEsbCxlLGUpfWlmKGkmJiFpLmlnbm9yZSYmIWkuaW52aXNpYmxlKXtyPShkPVVnKGkpKS5vbGRMYXlvdXQ7dmFyIGQsZj17cG9pbnRzOmkuc2hhcGUucG9pbnRzfTtyPyhpLmF0dHIoe3NoYXBlOnJ9KSxPdShpLHtzaGFwZTpmfSxlKSk6KGkuc2V0U2hhcGUoZiksaS5zdHlsZS5zdHJva2VQZXJjZW50PTAsUnUoaSx7c3R5bGU6e3N0cm9rZVBlcmNlbnQ6MX19LGUpKSxkLm9sZExheW91dD1mfX0sdH0oKTtmdW5jdGlvbiBLZyh0LGUpe2Z1bmN0aW9uIG4oZSxuKXt2YXIgaT1bXTtyZXR1cm4gZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInNlcmllc1wiLHN1YlR5cGU6dCxxdWVyeTpufSwoZnVuY3Rpb24odCl7aS5wdXNoKHQuc2VyaWVzSW5kZXgpfSkpLGl9UChbW3QrXCJUb2dnbGVTZWxlY3RcIixcInRvZ2dsZVNlbGVjdFwiXSxbdCtcIlNlbGVjdFwiLFwic2VsZWN0XCJdLFt0K1wiVW5TZWxlY3RcIixcInVuc2VsZWN0XCJdXSwoZnVuY3Rpb24odCl7ZSh0WzBdLChmdW5jdGlvbihlLGkscil7ZT1JKHt9LGUpLHIuZGlzcGF0Y2hBY3Rpb24oSShlLHt0eXBlOnRbMV0sc2VyaWVzSW5kZXg6bihpLGUpfSkpfSkpfSkpfWZ1bmN0aW9uICRnKHQsZSxuLGkscil7dmFyIG89dCtlO24uaXNTaWxlbnQobyl8fGkuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJzZXJpZXNcIixzdWJUeXBlOlwicGllXCJ9LChmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zZXJpZXNJbmRleCxpPXIuc2VsZWN0ZWQsYT0wO2E8aS5sZW5ndGg7YSsrKWlmKGlbYV0uc2VyaWVzSW5kZXg9PT1lKXt2YXIgcz10LmdldERhdGEoKSxsPURyKHMsci5mcm9tQWN0aW9uUGF5bG9hZCk7bi50cmlnZ2VyKG8se3R5cGU6byxzZXJpZXNJZDp0LmlkLG5hbWU6RihsKT9zLmdldE5hbWUobFswXSk6cy5nZXROYW1lKGwpLHNlbGVjdGVkOkkoe30sdC5vcHRpb24uc2VsZWN0ZWRNYXApfSl9fSkpfWZ1bmN0aW9uIEpnKHQsZSxuKXtmb3IodmFyIGk7dCYmKCFlKHQpfHwoaT10LCFuKSk7KXQ9dC5fX2hvc3RUYXJnZXR8fHQucGFyZW50O3JldHVybiBpfXZhciBRZz1NYXRoLnJvdW5kKDkqTWF0aC5yYW5kb20oKSksdHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5faWQ9XCJfX2VjX2lubmVyX1wiK1FnKyt9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ3VhcmQodClbdGhpcy5faWRdfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9ndWFyZCh0KTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHk/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdGhpcy5faWQse3ZhbHVlOmUsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTpuW3RoaXMuX2lkXT1lLHRoaXN9LHQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuaGFzKHQpJiYoZGVsZXRlIHRoaXMuX2d1YXJkKHQpW3RoaXMuX2lkXSwhMCl9LHQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX2d1YXJkKHQpW3RoaXMuX2lkXX0sdC5wcm90b3R5cGUuX2d1YXJkPWZ1bmN0aW9uKHQpe2lmKHQhPT1PYmplY3QodCkpdGhyb3cgVHlwZUVycm9yKFwiVmFsdWUgb2YgV2Vha01hcCBpcyBub3QgYSBub24tbnVsbCBvYmplY3QuXCIpO3JldHVybiB0fSx0fSgpLGV5PVphLmV4dGVuZCh7dHlwZTpcInRyaWFuZ2xlXCIsc2hhcGU6e2N4OjAsY3k6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmN4LGk9ZS5jeSxyPWUud2lkdGgvMixvPWUuaGVpZ2h0LzI7dC5tb3ZlVG8obixpLW8pLHQubGluZVRvKG4rcixpK28pLHQubGluZVRvKG4tcixpK28pLHQuY2xvc2VQYXRoKCl9fSksbnk9WmEuZXh0ZW5kKHt0eXBlOlwiZGlhbW9uZFwiLHNoYXBlOntjeDowLGN5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jeCxpPWUuY3kscj1lLndpZHRoLzIsbz1lLmhlaWdodC8yO3QubW92ZVRvKG4saS1vKSx0LmxpbmVUbyhuK3IsaSksdC5saW5lVG8obixpK28pLHQubGluZVRvKG4tcixpKSx0LmNsb3NlUGF0aCgpfX0pLGl5PVphLmV4dGVuZCh7dHlwZTpcInBpblwiLHNoYXBlOnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPWUueCxpPWUueSxyPWUud2lkdGgvNSozLG89TWF0aC5tYXgocixlLmhlaWdodCksYT1yLzIscz1hKmEvKG8tYSksbD1pLW8rYStzLHU9TWF0aC5hc2luKHMvYSksaD1NYXRoLmNvcyh1KSphLGM9TWF0aC5zaW4odSkscD1NYXRoLmNvcyh1KSxkPS42KmEsZj0uNyphO3QubW92ZVRvKG4taCxsK3MpLHQuYXJjKG4sbCxhLE1hdGguUEktdSwyKk1hdGguUEkrdSksdC5iZXppZXJDdXJ2ZVRvKG4raC1jKmQsbCtzK3AqZCxuLGktZixuLGkpLHQuYmV6aWVyQ3VydmVUbyhuLGktZixuLWgrYypkLGwrcytwKmQsbi1oLGwrcyksdC5jbG9zZVBhdGgoKX19KSxyeT1aYS5leHRlbmQoe3R5cGU6XCJhcnJvd1wiLHNoYXBlOnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPWUuaGVpZ2h0LGk9ZS53aWR0aCxyPWUueCxvPWUueSxhPWkvMyoyO3QubW92ZVRvKHIsbyksdC5saW5lVG8ocithLG8rbiksdC5saW5lVG8ocixvK24vNCozKSx0LmxpbmVUbyhyLWEsbytuKSx0LmxpbmVUbyhyLG8pLHQuY2xvc2VQYXRoKCl9fSksb3k9e2xpbmU6ZnVuY3Rpb24odCxlLG4saSxyKXtyLng9dCxyLnk9ZStpLzItMSxyLndpZHRoPW4sci5oZWlnaHQ9Mn0scmVjdDpmdW5jdGlvbih0LGUsbixpLHIpe3IueD10LHIueT1lLHIud2lkdGg9bixyLmhlaWdodD1pfSxyb3VuZFJlY3Q6ZnVuY3Rpb24odCxlLG4saSxyKXtyLng9dCxyLnk9ZSxyLndpZHRoPW4sci5oZWlnaHQ9aSxyLnI9TWF0aC5taW4obixpKS80fSxzcXVhcmU6ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1NYXRoLm1pbihuLGkpO3IueD10LHIueT1lLHIud2lkdGg9byxyLmhlaWdodD1vfSxjaXJjbGU6ZnVuY3Rpb24odCxlLG4saSxyKXtyLmN4PXQrbi8yLHIuY3k9ZStpLzIsci5yPU1hdGgubWluKG4saSkvMn0sZGlhbW9uZDpmdW5jdGlvbih0LGUsbixpLHIpe3IuY3g9dCtuLzIsci5jeT1lK2kvMixyLndpZHRoPW4sci5oZWlnaHQ9aX0scGluOmZ1bmN0aW9uKHQsZSxuLGkscil7ci54PXQrbi8yLHIueT1lK2kvMixyLndpZHRoPW4sci5oZWlnaHQ9aX0sYXJyb3c6ZnVuY3Rpb24odCxlLG4saSxyKXtyLng9dCtuLzIsci55PWUraS8yLHIud2lkdGg9bixyLmhlaWdodD1pfSx0cmlhbmdsZTpmdW5jdGlvbih0LGUsbixpLHIpe3IuY3g9dCtuLzIsci5jeT1lK2kvMixyLndpZHRoPW4sci5oZWlnaHQ9aX19LGF5PXt9O1Aoe2xpbmU6b3MscmVjdDpvcyxyb3VuZFJlY3Q6b3Msc3F1YXJlOm9zLGNpcmNsZTpUbCxkaWFtb25kOm55LHBpbjppeSxhcnJvdzpyeSx0cmlhbmdsZTpleX0sKGZ1bmN0aW9uKHQsZSl7YXlbZV09bmV3IHR9KSk7dmFyIHN5PVphLmV4dGVuZCh7dHlwZTpcInN5bWJvbFwiLHNoYXBlOntzeW1ib2xUeXBlOlwiXCIseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxjYWxjdWxhdGVUZXh0UG9zaXRpb246ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVhuKHQsZSxuKSxyPXRoaXMuc2hhcGU7cmV0dXJuIHImJlwicGluXCI9PT1yLnN5bWJvbFR5cGUmJlwiaW5zaWRlXCI9PT1lLnBvc2l0aW9uJiYoaS55PW4ueSsuNCpuLmhlaWdodCksaX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLnN5bWJvbFR5cGU7aWYoXCJub25lXCIhPT1pKXt2YXIgcj1heVtpXTtyfHwocj1heVtpPVwicmVjdFwiXSksb3lbaV0oZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LHIuc2hhcGUpLHIuYnVpbGRQYXRoKHQsci5zaGFwZSxuKX19fSk7ZnVuY3Rpb24gbHkodCxlKXtpZihcImltYWdlXCIhPT10aGlzLnR5cGUpe3ZhciBuPXRoaXMuc3R5bGU7dGhpcy5fX2lzRW1wdHlCcnVzaD8obi5zdHJva2U9dCxuLmZpbGw9ZXx8XCIjZmZmXCIsbi5saW5lV2lkdGg9Mik6bi5maWxsPXQsdGhpcy5tYXJrUmVkcmF3KCl9fWZ1bmN0aW9uIHV5KHQsZSxuLGkscixvLGEpe3ZhciBzLGw9MD09PXQuaW5kZXhPZihcImVtcHR5XCIpO3JldHVybiBsJiYodD10LnN1YnN0cig1LDEpLnRvTG93ZXJDYXNlKCkrdC5zdWJzdHIoNikpLChzPTA9PT10LmluZGV4T2YoXCJpbWFnZTovL1wiKT9DdSh0LnNsaWNlKDgpLG5ldyBSbihlLG4saSxyKSxhP1wiY2VudGVyXCI6XCJjb3ZlclwiKTowPT09dC5pbmRleE9mKFwicGF0aDovL1wiKT9UdSh0LnNsaWNlKDcpLHt9LG5ldyBSbihlLG4saSxyKSxhP1wiY2VudGVyXCI6XCJjb3ZlclwiKTpuZXcgc3koe3NoYXBlOntzeW1ib2xUeXBlOnQseDplLHk6bix3aWR0aDppLGhlaWdodDpyfX0pKS5fX2lzRW1wdHlCcnVzaD1sLHMuc2V0Q29sb3I9bHksbyYmcy5zZXRDb2xvcihvKSxzfWZ1bmN0aW9uIGh5KHQsZSxuKXtmb3IodmFyIGk9XCJyYWRpYWxcIj09PWUudHlwZT9mdW5jdGlvbih0LGUsbil7dmFyIGk9bi53aWR0aCxyPW4uaGVpZ2h0LG89TWF0aC5taW4oaSxyKSxhPW51bGw9PWUueD8uNTplLngscz1udWxsPT1lLnk/LjU6ZS55LGw9bnVsbD09ZS5yPy41OmUucjtyZXR1cm4gZS5nbG9iYWx8fChhPWEqaStuLngscz1zKnIrbi55LGwqPW8pLHQuY3JlYXRlUmFkaWFsR3JhZGllbnQoYSxzLDAsYSxzLGwpfSh0LGUsbik6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW51bGw9PWUueD8wOmUueCxyPW51bGw9PWUueDI/MTplLngyLG89bnVsbD09ZS55PzA6ZS55LGE9bnVsbD09ZS55Mj8wOmUueTI7cmV0dXJuIGUuZ2xvYmFsfHwoaT1pKm4ud2lkdGgrbi54LHI9cipuLndpZHRoK24ueCxvPW8qbi5oZWlnaHQrbi55LGE9YSpuLmhlaWdodCtuLnkpLGk9aXNOYU4oaSk/MDppLHI9aXNOYU4ocik/MTpyLG89aXNOYU4obyk/MDpvLGE9aXNOYU4oYSk/MDphLHQuY3JlYXRlTGluZWFyR3JhZGllbnQoaSxvLHIsYSl9KHQsZSxuKSxyPWUuY29sb3JTdG9wcyxvPTA7bzxyLmxlbmd0aDtvKyspaS5hZGRDb2xvclN0b3AocltvXS5vZmZzZXQscltvXS5jb2xvcik7cmV0dXJuIGl9ZnVuY3Rpb24gY3kodCxlKXtpZih0PT09ZXx8IXQmJiFlKXJldHVybiExO2lmKCF0fHwhZXx8dC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dIT09ZVtuXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBweSh0LGUpe3JldHVybiB0JiZcInNvbGlkXCIhPT10JiZlPjA/KGU9ZXx8MSxcImRhc2hlZFwiPT09dD9bNCplLDIqZV06XCJkb3R0ZWRcIj09PXQ/W2VdOlkodCk/W3RdOkYodCk/dDpudWxsKTpudWxsfXZhciBkeT1uZXcgQ2EoITApO2Z1bmN0aW9uIGZ5KHQpe3ZhciBlPXQuc3Ryb2tlO3JldHVybiEobnVsbD09ZXx8XCJub25lXCI9PT1lfHwhKHQubGluZVdpZHRoPjApKX1mdW5jdGlvbiBneSh0KXt2YXIgZT10LmZpbGw7cmV0dXJuIG51bGwhPWUmJlwibm9uZVwiIT09ZX1mdW5jdGlvbiB5eSh0LGUpe2lmKG51bGwhPWUuZmlsbE9wYWNpdHkmJjEhPT1lLmZpbGxPcGFjaXR5KXt2YXIgbj10Lmdsb2JhbEFscGhhO3QuZ2xvYmFsQWxwaGE9ZS5maWxsT3BhY2l0eSplLm9wYWNpdHksdC5maWxsKCksdC5nbG9iYWxBbHBoYT1ufWVsc2UgdC5maWxsKCl9ZnVuY3Rpb24gdnkodCxlKXtpZihudWxsIT1lLnN0cm9rZU9wYWNpdHkmJjEhPT1lLnN0cm9rZU9wYWNpdHkpe3ZhciBuPXQuZ2xvYmFsQWxwaGE7dC5nbG9iYWxBbHBoYT1lLnN0cm9rZU9wYWNpdHkqZS5vcGFjaXR5LHQuc3Ryb2tlKCksdC5nbG9iYWxBbHBoYT1ufWVsc2UgdC5zdHJva2UoKX1mdW5jdGlvbiBteSh0LGUsbil7dmFyIGk9dG8oZS5pbWFnZSxlLl9faW1hZ2Usbik7aWYobm8oaSkpe3ZhciByPXQuY3JlYXRlUGF0dGVybihpLGUucmVwZWF0fHxcInJlcGVhdFwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBET01NYXRyaXgpe3ZhciBvPW5ldyBET01NYXRyaXg7by5yb3RhdGVTZWxmKDAsMCwoZS5yb3RhdGlvbnx8MCkvTWF0aC5QSSoxODApLG8uc2NhbGVTZWxmKGUuc2NhbGVYfHwxLGUuc2NhbGVZfHwxKSxvLnRyYW5zbGF0ZVNlbGYoZS54fHwwLGUueXx8MCksci5zZXRUcmFuc2Zvcm0obyl9cmV0dXJuIHJ9fXZhciBfeT1bXCJzaGFkb3dCbHVyXCIsXCJzaGFkb3dPZmZzZXRYXCIsXCJzaGFkb3dPZmZzZXRZXCJdLHh5PVtbXCJsaW5lQ2FwXCIsXCJidXR0XCJdLFtcImxpbmVKb2luXCIsXCJtaXRlclwiXSxbXCJtaXRlckxpbWl0XCIsMTBdXTtmdW5jdGlvbiBieSh0LGUsbixpLHIpe3ZhciBvPSExO2lmKCFpJiZlPT09KG49bnx8e30pKXJldHVybiExOyhpfHxlLm9wYWNpdHkhPT1uLm9wYWNpdHkpJiYob3x8KE15KHQsciksbz0hMCksdC5nbG9iYWxBbHBoYT1udWxsPT1lLm9wYWNpdHk/dm8ub3BhY2l0eTplLm9wYWNpdHkpLChpfHxlLmJsZW5kIT09bi5ibGVuZCkmJihvfHwoTXkodCxyKSxvPSEwKSx0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1lLmJsZW5kfHx2by5ibGVuZCk7Zm9yKHZhciBhPTA7YTxfeS5sZW5ndGg7YSsrKXt2YXIgcz1feVthXTsoaXx8ZVtzXSE9PW5bc10pJiYob3x8KE15KHQsciksbz0hMCksdFtzXT10LmRwciooZVtzXXx8MCkpfXJldHVybihpfHxlLnNoYWRvd0NvbG9yIT09bi5zaGFkb3dDb2xvcikmJihvfHwoTXkodCxyKSxvPSEwKSx0LnNoYWRvd0NvbG9yPWUuc2hhZG93Q29sb3J8fHZvLnNoYWRvd0NvbG9yKSxvfWZ1bmN0aW9uIHd5KHQsZSxuLGkscil7dmFyIG89SXkoZSxyLmluSG92ZXIpLGE9aT9udWxsOm4mJkl5KG4sci5pbkhvdmVyKXx8e307aWYobz09PWEpcmV0dXJuITE7dmFyIHM9YnkodCxvLGEsaSxyKTtpZigoaXx8by5maWxsIT09YS5maWxsKSYmKHN8fChNeSh0LHIpLHM9ITApLHQuZmlsbFN0eWxlPW8uZmlsbCksKGl8fG8uc3Ryb2tlIT09YS5zdHJva2UpJiYoc3x8KE15KHQscikscz0hMCksdC5zdHJva2VTdHlsZT1vLnN0cm9rZSksKGl8fG8ub3BhY2l0eSE9PWEub3BhY2l0eSkmJihzfHwoTXkodCxyKSxzPSEwKSx0Lmdsb2JhbEFscGhhPW51bGw9PW8ub3BhY2l0eT8xOm8ub3BhY2l0eSksZS5oYXNTdHJva2UoKSl7dmFyIGw9by5saW5lV2lkdGgvKG8uc3Ryb2tlTm9TY2FsZSYmZSYmZS5nZXRMaW5lU2NhbGU/ZS5nZXRMaW5lU2NhbGUoKToxKTt0LmxpbmVXaWR0aCE9PWwmJihzfHwoTXkodCxyKSxzPSEwKSx0LmxpbmVXaWR0aD1sKX1mb3IodmFyIHU9MDt1PHh5Lmxlbmd0aDt1Kyspe3ZhciBoPXh5W3VdLGM9aFswXTsoaXx8b1tjXSE9PWFbY10pJiYoc3x8KE15KHQscikscz0hMCksdFtjXT1vW2NdfHxoWzFdKX1yZXR1cm4gc31mdW5jdGlvbiBTeSh0LGUpe3ZhciBuPWUudHJhbnNmb3JtLGk9dC5kcHJ8fDE7bj90LnNldFRyYW5zZm9ybShpKm5bMF0saSpuWzFdLGkqblsyXSxpKm5bM10saSpuWzRdLGkqbls1XSk6dC5zZXRUcmFuc2Zvcm0oaSwwLDAsaSwwLDApfWZ1bmN0aW9uIE15KHQsZSl7ZS5iYXRjaEZpbGwmJnQuZmlsbCgpLGUuYmF0Y2hTdHJva2UmJnQuc3Ryb2tlKCksZS5iYXRjaEZpbGw9XCJcIixlLmJhdGNoU3Ryb2tlPVwiXCJ9ZnVuY3Rpb24gSXkodCxlKXtyZXR1cm4gZSYmdC5fX2hvdmVyU3R5bGV8fHQuc3R5bGV9ZnVuY3Rpb24gVHkodCxlKXtDeSh0LGUse2luSG92ZXI6ITEsdmlld1dpZHRoOjAsdmlld0hlaWdodDowfSwhMCl9ZnVuY3Rpb24gQ3kodCxlLG4saSl7dmFyIHI9ZS50cmFuc2Zvcm07aWYoIWUuc2hvdWxkQmVQYWludGVkKG4udmlld1dpZHRoLG4udmlld0hlaWdodCwhMSwhMSkpcmV0dXJuIGUuX19kaXJ0eSY9fmVpLlJFREFSQVdfQklULHZvaWQoZS5fX2lzUmVuZGVyZWQ9ITEpO3ZhciBvPWUuX19jbGlwUGF0aHMsYT1uLnByZXZFbENsaXBQYXRocyxzPSExLGw9ITE7aWYoYSYmIWN5KG8sYSl8fChhJiZhLmxlbmd0aCYmKE15KHQsbiksdC5yZXN0b3JlKCksbD1zPSEwLG4ucHJldkVsQ2xpcFBhdGhzPW51bGwsbi5hbGxDbGlwcGVkPSExLG4ucHJldkVsPW51bGwpLG8mJm8ubGVuZ3RoJiYoTXkodCxuKSx0LnNhdmUoKSxmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPSExLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtpPWl8fG8uaXNaZXJvQXJlYSgpLFN5KGUsbyksZS5iZWdpblBhdGgoKSxvLmJ1aWxkUGF0aChlLG8uc2hhcGUpLGUuY2xpcCgpfW4uYWxsQ2xpcHBlZD1pfShvLHQsbikscz0hMCksbi5wcmV2RWxDbGlwUGF0aHM9byksbi5hbGxDbGlwcGVkKWUuX19pc1JlbmRlcmVkPSExO2Vsc2V7ZS5iZWZvcmVCcnVzaCYmZS5iZWZvcmVCcnVzaCgpLGUuaW5uZXJCZWZvcmVCcnVzaCgpO3ZhciB1PW4ucHJldkVsO3V8fChsPXM9ITApO3ZhciBoLGMscD1lIGluc3RhbmNlb2YgWmEmJmUuYXV0b0JhdGNoJiZmdW5jdGlvbih0KXt2YXIgZT1neSh0KSxuPWZ5KHQpO3JldHVybiEodC5saW5lRGFzaHx8ISgrZV4rbil8fGUmJlwic3RyaW5nXCIhPXR5cGVvZiB0LmZpbGx8fG4mJlwic3RyaW5nXCIhPXR5cGVvZiB0LnN0cm9rZXx8dC5zdHJva2VQZXJjZW50PDF8fHQuc3Ryb2tlT3BhY2l0eTwxfHx0LmZpbGxPcGFjaXR5PDEpfShlLnN0eWxlKTtzfHwoaD1yLGM9dS50cmFuc2Zvcm0saCYmYz9oWzBdIT09Y1swXXx8aFsxXSE9PWNbMV18fGhbMl0hPT1jWzJdfHxoWzNdIT09Y1szXXx8aFs0XSE9PWNbNF18fGhbNV0hPT1jWzVdOmh8fGMpPyhNeSh0LG4pLFN5KHQsZSkpOnB8fE15KHQsbik7dmFyIGQ9SXkoZSxuLmluSG92ZXIpO2UgaW5zdGFuY2VvZiBaYT8oMSE9PW4ubGFzdERyYXdUeXBlJiYobD0hMCxuLmxhc3REcmF3VHlwZT0xKSx3eSh0LGUsdSxsLG4pLHAmJihuLmJhdGNoRmlsbHx8bi5iYXRjaFN0cm9rZSl8fHQuYmVnaW5QYXRoKCksZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9Znkobiksbz1neShuKSxhPW4uc3Ryb2tlUGVyY2VudCxzPWE8MSxsPSFlLnBhdGg7ZS5zaWxlbnQmJiFzfHwhbHx8ZS5jcmVhdGVQYXRoUHJveHkoKTt2YXIgdT1lLnBhdGh8fGR5O2lmKCFpKXt2YXIgaD1uLmZpbGwsYz1uLnN0cm9rZSxwPW8mJiEhaC5jb2xvclN0b3BzLGQ9ciYmISFjLmNvbG9yU3RvcHMsZj1vJiYhIWguaW1hZ2UsZz1yJiYhIWMuaW1hZ2UseT12b2lkIDAsdj12b2lkIDAsbT12b2lkIDAsXz12b2lkIDAseD12b2lkIDA7KHB8fGQpJiYoeD1lLmdldEJvdW5kaW5nUmVjdCgpKSxwJiYoeT1lLl9fZGlydHk/aHkodCxoLHgpOmUuX19jYW52YXNGaWxsR3JhZGllbnQsZS5fX2NhbnZhc0ZpbGxHcmFkaWVudD15KSxkJiYodj1lLl9fZGlydHk/aHkodCxjLHgpOmUuX19jYW52YXNTdHJva2VHcmFkaWVudCxlLl9fY2FudmFzU3Ryb2tlR3JhZGllbnQ9diksZiYmKG09ZS5fX2RpcnR5fHwhZS5fX2NhbnZhc0ZpbGxQYXR0ZXJuP215KHQsaCxlKTplLl9fY2FudmFzRmlsbFBhdHRlcm4sZS5fX2NhbnZhc0ZpbGxQYXR0ZXJuPW0pLGcmJihfPWUuX19kaXJ0eXx8IWUuX19jYW52YXNTdHJva2VQYXR0ZXJuP215KHQsYyxlKTplLl9fY2FudmFzU3Ryb2tlUGF0dGVybixlLl9fY2FudmFzU3Ryb2tlUGF0dGVybj1tKSxwP3QuZmlsbFN0eWxlPXk6ZiYmKG0/dC5maWxsU3R5bGU9bTpvPSExKSxkP3Quc3Ryb2tlU3R5bGU9djpnJiYoXz90LnN0cm9rZVN0eWxlPV86cj0hMSl9dmFyIGI9bi5saW5lRGFzaCYmbi5saW5lV2lkdGg+MCYmcHkobi5saW5lRGFzaCxuLmxpbmVXaWR0aCksdz1uLmxpbmVEYXNoT2Zmc2V0LFM9ISF0LnNldExpbmVEYXNoLE09ZS5nZXRHbG9iYWxTY2FsZSgpO2lmKHUuc2V0U2NhbGUoTVswXSxNWzFdLGUuc2VnbWVudElnbm9yZVRocmVzaG9sZCksYil7dmFyIEk9bi5zdHJva2VOb1NjYWxlJiZlLmdldExpbmVTY2FsZT9lLmdldExpbmVTY2FsZSgpOjE7SSYmMSE9PUkmJihiPU8oYiwoZnVuY3Rpb24odCl7cmV0dXJuIHQvSX0pKSx3Lz1JKX12YXIgVD0hMDsobHx8ZS5fX2RpcnR5JlphLlNIQVBFX0NIQU5HRURfQklUfHxiJiYhUyYmcikmJih1LnNldERQUih0LmRwcikscz91LnNldENvbnRleHQobnVsbCk6KHUuc2V0Q29udGV4dCh0KSxUPSExKSx1LnJlc2V0KCksYiYmIVMmJih1LnNldExpbmVEYXNoKGIpLHUuc2V0TGluZURhc2hPZmZzZXQodykpLGUuYnVpbGRQYXRoKHUsZS5zaGFwZSxpKSx1LnRvU3RhdGljKCksZS5wYXRoVXBkYXRlZCgpKSxUJiZ1LnJlYnVpbGRQYXRoKHQscz9hOjEpLGImJlMmJih0LnNldExpbmVEYXNoKGIpLHQubGluZURhc2hPZmZzZXQ9dyksaXx8KG4uc3Ryb2tlRmlyc3Q/KHImJnZ5KHQsbiksbyYmeXkodCxuKSk6KG8mJnl5KHQsbiksciYmdnkodCxuKSkpLGImJlMmJnQuc2V0TGluZURhc2goW10pfSh0LGUsZCxwKSxwJiYobi5iYXRjaEZpbGw9ZC5maWxsfHxcIlwiLG4uYmF0Y2hTdHJva2U9ZC5zdHJva2V8fFwiXCIpKTplIGluc3RhbmNlb2YgcWE/KDMhPT1uLmxhc3REcmF3VHlwZSYmKGw9ITAsbi5sYXN0RHJhd1R5cGU9Myksd3kodCxlLHUsbCxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bi50ZXh0O2lmKG51bGwhPWkmJihpKz1cIlwiKSxpKXt0LmZvbnQ9bi5mb250fHxFbix0LnRleHRBbGlnbj1uLnRleHRBbGlnbix0LnRleHRCYXNlbGluZT1uLnRleHRCYXNlbGluZTt2YXIgcj12b2lkIDA7aWYodC5zZXRMaW5lRGFzaCl7dmFyIG89bi5saW5lRGFzaCYmbi5saW5lV2lkdGg+MCYmcHkobi5saW5lRGFzaCxuLmxpbmVXaWR0aCksYT1uLmxpbmVEYXNoT2Zmc2V0O2lmKG8pe3ZhciBzPW4uc3Ryb2tlTm9TY2FsZSYmZS5nZXRMaW5lU2NhbGU/ZS5nZXRMaW5lU2NhbGUoKToxO3MmJjEhPT1zJiYobz1PKG8sKGZ1bmN0aW9uKHQpe3JldHVybiB0L3N9KSksYS89cyksdC5zZXRMaW5lRGFzaChvKSx0LmxpbmVEYXNoT2Zmc2V0PWEscj0hMH19bi5zdHJva2VGaXJzdD8oZnkobikmJnQuc3Ryb2tlVGV4dChpLG4ueCxuLnkpLGd5KG4pJiZ0LmZpbGxUZXh0KGksbi54LG4ueSkpOihneShuKSYmdC5maWxsVGV4dChpLG4ueCxuLnkpLGZ5KG4pJiZ0LnN0cm9rZVRleHQoaSxuLngsbi55KSksciYmdC5zZXRMaW5lRGFzaChbXSl9fSh0LGUsZCkpOmUgaW5zdGFuY2VvZiBKYT8oMiE9PW4ubGFzdERyYXdUeXBlJiYobD0hMCxuLmxhc3REcmF3VHlwZT0yKSxmdW5jdGlvbih0LGUsbixpLHIpe2J5KHQsSXkoZSxyLmluSG92ZXIpLG4mJkl5KG4sci5pbkhvdmVyKSxpLHIpfSh0LGUsdSxsLG4pLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLl9faW1hZ2U9dG8obi5pbWFnZSxlLl9faW1hZ2UsZSxlLm9ubG9hZCk7aWYoaSYmbm8oaSkpe3ZhciByPW4ueHx8MCxvPW4ueXx8MCxhPWUuZ2V0V2lkdGgoKSxzPWUuZ2V0SGVpZ2h0KCksbD1pLndpZHRoL2kuaGVpZ2h0O2lmKG51bGw9PWEmJm51bGwhPXM/YT1zKmw6bnVsbD09cyYmbnVsbCE9YT9zPWEvbDpudWxsPT1hJiZudWxsPT1zJiYoYT1pLndpZHRoLHM9aS5oZWlnaHQpLG4uc1dpZHRoJiZuLnNIZWlnaHQpe3ZhciB1PW4uc3h8fDAsaD1uLnN5fHwwO3QuZHJhd0ltYWdlKGksdSxoLG4uc1dpZHRoLG4uc0hlaWdodCxyLG8sYSxzKX1lbHNlIGlmKG4uc3gmJm4uc3kpe3ZhciBjPWEtKHU9bi5zeCkscD1zLShoPW4uc3kpO3QuZHJhd0ltYWdlKGksdSxoLGMscCxyLG8sYSxzKX1lbHNlIHQuZHJhd0ltYWdlKGkscixvLGEscyl9fSh0LGUsZCkpOmUgaW5zdGFuY2VvZiB2dSYmKDQhPT1uLmxhc3REcmF3VHlwZSYmKGw9ITAsbi5sYXN0RHJhd1R5cGU9NCksZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0RGlzcGxheWFibGVzKCkscj1lLmdldFRlbXBvcmFsRGlzcGxheWFibGVzKCk7dC5zYXZlKCk7dmFyIG8sYSxzPXtwcmV2RWxDbGlwUGF0aHM6bnVsbCxwcmV2RWw6bnVsbCxhbGxDbGlwcGVkOiExLHZpZXdXaWR0aDpuLnZpZXdXaWR0aCx2aWV3SGVpZ2h0Om4udmlld0hlaWdodCxpbkhvdmVyOm4uaW5Ib3Zlcn07Zm9yKG89ZS5nZXRDdXJzb3IoKSxhPWkubGVuZ3RoO288YTtvKyspeyhoPWlbb10pLmJlZm9yZUJydXNoJiZoLmJlZm9yZUJydXNoKCksaC5pbm5lckJlZm9yZUJydXNoKCksQ3kodCxoLHMsbz09PWEtMSksaC5pbm5lckFmdGVyQnJ1c2goKSxoLmFmdGVyQnJ1c2gmJmguYWZ0ZXJCcnVzaCgpLHMucHJldkVsPWh9Zm9yKHZhciBsPTAsdT1yLmxlbmd0aDtsPHU7bCsrKXt2YXIgaDsoaD1yW2xdKS5iZWZvcmVCcnVzaCYmaC5iZWZvcmVCcnVzaCgpLGguaW5uZXJCZWZvcmVCcnVzaCgpLEN5KHQsaCxzLGw9PT11LTEpLGguaW5uZXJBZnRlckJydXNoKCksaC5hZnRlckJydXNoJiZoLmFmdGVyQnJ1c2goKSxzLnByZXZFbD1ofWUuY2xlYXJUZW1wb3JhbERpc3BsYXlhYmxlcygpLGUubm90Q2xlYXI9ITAsdC5yZXN0b3JlKCl9KHQsZSxuKSkscCYmaSYmTXkodCxuKSxlLmlubmVyQWZ0ZXJCcnVzaCgpLGUuYWZ0ZXJCcnVzaCYmZS5hZnRlckJydXNoKCksbi5wcmV2RWw9ZSxlLl9fZGlydHk9MCxlLl9faXNSZW5kZXJlZD0hMH19dmFyIEF5PW5ldyB0eSxEeT1uZXcgRWUoMTAwKSxMeT1bXCJzeW1ib2xcIixcInN5bWJvbFNpemVcIixcInN5bWJvbEtlZXBBc3BlY3RcIixcImNvbG9yXCIsXCJiYWNrZ3JvdW5kQ29sb3JcIixcImRhc2hBcnJheVhcIixcImRhc2hBcnJheVlcIixcIm1heFRpbGVXaWR0aFwiLFwibWF4VGlsZUhlaWdodFwiXTtmdW5jdGlvbiBreSh0LGUpe2lmKFwibm9uZVwiPT09dClyZXR1cm4gbnVsbDt2YXIgbj1lLmdldERldmljZVBpeGVsUmF0aW8oKSxpPWUuZ2V0WnIoKSxyPVwic3ZnXCI9PT1pLnBhaW50ZXIudHlwZTt0LmRpcnR5JiZBeS5kZWxldGUodCk7dmFyIG89QXkuZ2V0KHQpO2lmKG8pcmV0dXJuIG87dmFyIGE9VCh0LHtzeW1ib2w6XCJyZWN0XCIsc3ltYm9sU2l6ZToxLHN5bWJvbEtlZXBBc3BlY3Q6ITAsY29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuMilcIixiYWNrZ3JvdW5kQ29sb3I6bnVsbCxkYXNoQXJyYXlYOjUsZGFzaEFycmF5WTo1LHJvdGF0aW9uOjAsbWF4VGlsZVdpZHRoOjUxMixtYXhUaWxlSGVpZ2h0OjUxMn0pO1wibm9uZVwiPT09YS5iYWNrZ3JvdW5kQ29sb3ImJihhLmJhY2tncm91bmRDb2xvcj1udWxsKTt2YXIgcz17cmVwZWF0OlwicmVwZWF0XCJ9O3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGUsbz1bbl0scz0hMCxsPTA7bDxMeS5sZW5ndGg7KytsKXt2YXIgdT1hW0x5W2xdXSxoPXR5cGVvZiB1O2lmKG51bGwhPXUmJiFGKHUpJiZcInN0cmluZ1wiIT09aCYmXCJudW1iZXJcIiE9PWgmJlwiYm9vbGVhblwiIT09aCl7cz0hMTticmVha31vLnB1c2godSl9aWYocyl7ZT1vLmpvaW4oXCIsXCIpKyhyP1wiLXN2Z1wiOlwiXCIpO3ZhciBjPUR5LmdldChlKTtjJiYocj90LnN2Z0VsZW1lbnQ9Yzp0LmltYWdlPWMpfXZhciBwLGQ9T3koYS5kYXNoQXJyYXlYKSxmPWZ1bmN0aW9uKHQpe2lmKCF0fHxcIm9iamVjdFwiPT10eXBlb2YgdCYmMD09PXQubGVuZ3RoKXJldHVyblswLDBdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXt2YXIgZT1NYXRoLmNlaWwodCk7cmV0dXJuW2UsZV19dmFyIG49Tyh0LChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5jZWlsKHQpfSkpO3JldHVybiB0Lmxlbmd0aCUyP24uY29uY2F0KG4pOm59KGEuZGFzaEFycmF5WSksZz1QeShhLnN5bWJvbCkseT0oYj1kLE8oYiwoZnVuY3Rpb24odCl7cmV0dXJuIFJ5KHQpfSkpKSx2PVJ5KGYpLG09IXImJkMoKSxfPXImJmkucGFpbnRlci5jcmVhdGVTVkdFbGVtZW50KFwiZ1wiKSx4PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEsZT0wLG49eS5sZW5ndGg7ZTxuOysrZSl0PWZyKHQseVtlXSk7dmFyIGk9MTtmb3IoZT0wLG49Zy5sZW5ndGg7ZTxuOysrZSlpPWZyKGksZ1tlXS5sZW5ndGgpO3QqPWk7dmFyIHI9dip5Lmxlbmd0aCpnLmxlbmd0aDtyZXR1cm57d2lkdGg6TWF0aC5tYXgoMSxNYXRoLm1pbih0LGEubWF4VGlsZVdpZHRoKSksaGVpZ2h0Ok1hdGgubWF4KDEsTWF0aC5taW4ocixhLm1heFRpbGVIZWlnaHQpKX19KCk7dmFyIGI7bSYmKG0ud2lkdGg9eC53aWR0aCpuLG0uaGVpZ2h0PXguaGVpZ2h0Km4scD1tLmdldENvbnRleHQoXCIyZFwiKSk7KGZ1bmN0aW9uKCl7cCYmKHAuY2xlYXJSZWN0KDAsMCxtLndpZHRoLG0uaGVpZ2h0KSxhLmJhY2tncm91bmRDb2xvciYmKHAuZmlsbFN0eWxlPWEuYmFja2dyb3VuZENvbG9yLHAuZmlsbFJlY3QoMCwwLG0ud2lkdGgsbS5oZWlnaHQpKSk7Zm9yKHZhciB0PTAsZT0wO2U8Zi5sZW5ndGg7KytlKXQrPWZbZV07aWYodDw9MClyZXR1cm47dmFyIG89LXYscz0wLGw9MCx1PTA7Zm9yKDtvPHguaGVpZ2h0Oyl7aWYocyUyPT0wKXtmb3IodmFyIGg9bC8yJWcubGVuZ3RoLGM9MCx5PTAsYj0wO2M8Mip4LndpZHRoOyl7dmFyIHc9MDtmb3IoZT0wO2U8ZFt1XS5sZW5ndGg7KytlKXcrPWRbdV1bZV07aWYodzw9MClicmVhaztpZih5JTI9PTApe3ZhciBTPS41KigxLWEuc3ltYm9sU2l6ZSksTT1jK2RbdV1beV0qUyxJPW8rZltzXSpTLFQ9ZFt1XVt5XSphLnN5bWJvbFNpemUsQz1mW3NdKmEuc3ltYm9sU2l6ZSxBPWIvMiVnW2hdLmxlbmd0aDtEKE0sSSxULEMsZ1toXVtBXSl9Yys9ZFt1XVt5XSwrK2IsKyt5PT09ZFt1XS5sZW5ndGgmJih5PTApfSsrdT09PWQubGVuZ3RoJiYodT0wKX1vKz1mW3NdLCsrbCwrK3M9PT1mLmxlbmd0aCYmKHM9MCl9ZnVuY3Rpb24gRCh0LGUsbyxzLGwpe3ZhciB1PXI/MTpuLGg9dXkobCx0KnUsZSp1LG8qdSxzKnUsYS5jb2xvcixhLnN5bWJvbEtlZXBBc3BlY3QpO3I/Xy5hcHBlbmRDaGlsZChpLnBhaW50ZXIucGFpbnRPbmUoaCkpOlR5KHAsaCl9fSkoKSxzJiZEeS5wdXQoZSxtfHxfKTt0LmltYWdlPW0sdC5zdmdFbGVtZW50PV8sdC5zdmdXaWR0aD14LndpZHRoLHQuc3ZnSGVpZ2h0PXguaGVpZ2h0fShzKSxzLnJvdGF0aW9uPWEucm90YXRpb24scy5zY2FsZVg9cy5zY2FsZVk9cj8xOjEvbixBeS5zZXQodCxzKSx0LmRpcnR5PSExLHN9ZnVuY3Rpb24gUHkodCl7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm5bW1wicmVjdFwiXV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuW1t0XV07Zm9yKHZhciBlPSEwLG49MDtuPHQubGVuZ3RoOysrbilpZihcInN0cmluZ1wiIT10eXBlb2YgdFtuXSl7ZT0hMTticmVha31pZihlKXJldHVybiBQeShbdF0pO3ZhciBpPVtdO2ZvcihuPTA7bjx0Lmxlbmd0aDsrK24pXCJzdHJpbmdcIj09dHlwZW9mIHRbbl0/aS5wdXNoKFt0W25dXSk6aS5wdXNoKHRbbl0pO3JldHVybiBpfWZ1bmN0aW9uIE95KHQpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW1swLDBdXTtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm5bW3I9TWF0aC5jZWlsKHQpLHJdXTtmb3IodmFyIGU9ITAsbj0wO248dC5sZW5ndGg7KytuKWlmKFwibnVtYmVyXCIhPXR5cGVvZiB0W25dKXtlPSExO2JyZWFrfWlmKGUpcmV0dXJuIE95KFt0XSk7dmFyIGk9W107Zm9yKG49MDtuPHQubGVuZ3RoOysrbilpZihcIm51bWJlclwiPT10eXBlb2YgdFtuXSl7dmFyIHI9TWF0aC5jZWlsKHRbbl0pO2kucHVzaChbcixyXSl9ZWxzZXsocj1PKHRbbl0sKGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmNlaWwodCl9KSkpLmxlbmd0aCUyPT0xP2kucHVzaChyLmNvbmNhdChyKSk6aS5wdXNoKHIpfXJldHVybiBpfWZ1bmN0aW9uIFJ5KHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoOysrbillKz10W25dO3JldHVybiB0Lmxlbmd0aCUyPT0xPzIqZTplfXZhciBOeT1ydCxFeT1QLHp5PUcsQnk9WCxWeT1BLEZ5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3csR3k9MmUzLEh5PTQ1MDAsV3k9e1BST0NFU1NPUjp7RklMVEVSOjFlMyxTRVJJRVNfRklMVEVSOjgwMCxTVEFUSVNUSUM6NWUzfSxWSVNVQUw6e0xBWU9VVDoxZTMsUFJPR1JFU1NJVkVfTEFZT1VUOjExMDAsR0xPQkFMOkd5LENIQVJUOjNlMyxQT1NUX0NIQVJUX0xBWU9VVDo0NjAwLENPTVBPTkVOVDo0ZTMsQlJVU0g6NWUzLENIQVJUX0lURU06SHksQVJJQTo2ZTMsREVDQUw6N2UzfX0sWXk9L15bYS16QS1aMC05X10rJC8sWHk9XCJfX2Nvbm5lY3RVcGRhdGVTdGF0dXNcIjtmdW5jdGlvbiBVeSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07aWYoIXRoaXMuaXNEaXNwb3NlZCgpKXJldHVybiBqeSh0aGlzLHQsZSk7YnYodGhpcy5pZCl9fWZ1bmN0aW9uIFp5KHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gankodGhpcyx0LGUpfX1mdW5jdGlvbiBqeSh0LGUsbil7cmV0dXJuIG5bMF09blswXSYmblswXS50b0xvd2VyQ2FzZSgpLEZ0LnByb3RvdHlwZVtlXS5hcHBseSh0LG4pfXZhciBxeSxLeSwkeSxKeSxReSx0dixldixudixpdixydixvdixhdixzdixsdix1dixodixjdixwdixkdixmdixndix5dj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGV9KEZ0KSx2dj15di5wcm90b3R5cGU7dnYub249WnkoXCJvblwiKSx2di5vZmY9WnkoXCJvZmZcIik7dmFyIG12PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLG5ldyBoZyl8fHRoaXM7ci5fY2hhcnRzVmlld3M9W10sci5fY2hhcnRzTWFwPXt9LHIuX2NvbXBvbmVudHNWaWV3cz1bXSxyLl9jb21wb25lbnRzTWFwPXt9LHIuX3BlbmRpbmdBY3Rpb25zPVtdLGk9aXx8e30sXCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPUR2W25dKSxyLl9kb209ZTt2YXIgbz1cImNhbnZhc1wiLGE9ITEscz1yLl96cj1IaShlLHtyZW5kZXJlcjppLnJlbmRlcmVyfHxvLGRldmljZVBpeGVsUmF0aW86aS5kZXZpY2VQaXhlbFJhdGlvLHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LHVzZURpcnR5UmVjdDpudWxsPT1pLnVzZURpcnR5UmVjdD9hOmkudXNlRGlydHlSZWN0fSk7ci5fdGhyb3R0bGVkWnJGbHVzaD1JZihCKHMuZmx1c2gscyksMTcpLChuPXcobikpJiZIcChuLCEwKSxyLl90aGVtZT1uLHIuX2xvY2FsZT1mdW5jdGlvbih0KXtpZihIKHQpKXt2YXIgZT1MaFt0LnRvVXBwZXJDYXNlKCldfHx7fTtyZXR1cm4gdD09PUNofHx0PT09QWg/dyhlKTpTKHcoZSksdyhMaC5FTiksITEpfXJldHVybiBTKHcodCksdyhMaC5FTiksITEpfShpLmxvY2FsZXx8UGgpLHIuX2Nvb3JkU3lzTWdyPW5ldyBfcDt2YXIgbD1yLl9hcGk9Y3Yocik7ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0Ll9fcHJpby1lLl9fcHJpb31yZXR1cm4gY2koQXYsdSksY2koTXYsdSksci5fc2NoZWR1bGVyPW5ldyB6ZihyLGwsTXYsQXYpLHIuX21lc3NhZ2VDZW50ZXI9bmV3IHl2LHIuX2xhYmVsTWFuYWdlcj1uZXcgcWcsci5faW5pdEV2ZW50cygpLHIucmVzaXplPUIoci5yZXNpemUscikscy5hbmltYXRpb24ub24oXCJmcmFtZVwiLHIuX29uZnJhbWUscikscnYocyxyKSxvdihzLHIpLHN0KHIpLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5fb25mcmFtZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9kaXNwb3NlZCl7Z3YodGhpcyk7dmFyIHQ9dGhpcy5fc2NoZWR1bGVyO2lmKHRoaXMuX19vcHRpb25VcGRhdGVkKXt2YXIgZT10aGlzLl9fb3B0aW9uVXBkYXRlZC5zaWxlbnQ7dGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSEwLHF5KHRoaXMpLEp5LnVwZGF0ZS5jYWxsKHRoaXMpLHRoaXMuX3pyLmZsdXNoKCksdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLHRoaXMuX19vcHRpb25VcGRhdGVkPSExLG52LmNhbGwodGhpcyxlKSxpdi5jYWxsKHRoaXMsZSl9ZWxzZSBpZih0LnVuZmluaXNoZWQpe3ZhciBuPTEsaT10aGlzLl9tb2RlbCxyPXRoaXMuX2FwaTt0LnVuZmluaXNoZWQ9ITE7ZG97dmFyIG89K25ldyBEYXRlO3QucGVyZm9ybVNlcmllc1Rhc2tzKGkpLHQucGVyZm9ybURhdGFQcm9jZXNzb3JUYXNrcyhpKSx0dih0aGlzLGkpLHQucGVyZm9ybVZpc3VhbFRhc2tzKGkpLHV2KHRoaXMsdGhpcy5fbW9kZWwscixcInJlbWFpblwiKSxuLT0rbmV3IERhdGUtb313aGlsZShuPjAmJnQudW5maW5pc2hlZCk7dC51bmZpbmlzaGVkfHx0aGlzLl96ci5mbHVzaCgpfX19LGUucHJvdG90eXBlLmdldERvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb219LGUucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9LGUucHJvdG90eXBlLmdldFpyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyfSxlLnByb3RvdHlwZS5zZXRPcHRpb249ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuX2Rpc3Bvc2VkKWJ2KHRoaXMuaWQpO2Vsc2V7dmFyIGkscixvO2lmKEJ5KGUpJiYobj1lLmxhenlVcGRhdGUsaT1lLnNpbGVudCxyPWUucmVwbGFjZU1lcmdlLG89ZS50cmFuc2l0aW9uLGU9ZS5ub3RNZXJnZSksdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSEwLCF0aGlzLl9tb2RlbHx8ZSl7dmFyIGE9bmV3IGJwKHRoaXMuX2FwaSkscz10aGlzLl90aGVtZSxsPXRoaXMuX21vZGVsPW5ldyBwcDtsLnNjaGVkdWxlcj10aGlzLl9zY2hlZHVsZXIsbC5pbml0KG51bGwsbnVsbCxudWxsLHMsdGhpcy5fbG9jYWxlLGEpfXRoaXMuX21vZGVsLnNldE9wdGlvbih0LHtyZXBsYWNlTWVyZ2U6cn0sSXYpLGR2KHRoaXMsbyksbj8odGhpcy5fX29wdGlvblVwZGF0ZWQ9e3NpbGVudDppfSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsdGhpcy5nZXRacigpLndha2VVcCgpKToocXkodGhpcyksSnkudXBkYXRlLmNhbGwodGhpcyksdGhpcy5fenIuZmx1c2goKSx0aGlzLl9fb3B0aW9uVXBkYXRlZD0hMSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsbnYuY2FsbCh0aGlzLGkpLGl2LmNhbGwodGhpcyxpKSl9fSxlLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJFQ2hhcnRzI3NldFRoZW1lKCkgaXMgREVQUkVDQVRFRCBpbiBFQ2hhcnRzIDMuMFwiKX0sZS5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWx9LGUucHJvdG90eXBlLmdldE9wdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbCYmdGhpcy5fbW9kZWwuZ2V0T3B0aW9uKCl9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLmdldFdpZHRoKCl9LGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96ci5nZXRIZWlnaHQoKX0sZS5wcm90b3R5cGUuZ2V0RGV2aWNlUGl4ZWxSYXRpbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96ci5wYWludGVyLmRwcnx8RnkmJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJlZENhbnZhcz1mdW5jdGlvbih0KXtpZihhLmNhbnZhc1N1cHBvcnRlZClyZXR1cm4odD1JKHt9LHR8fHt9KSkucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW98fDEsdC5iYWNrZ3JvdW5kQ29sb3I9dC5iYWNrZ3JvdW5kQ29sb3J8fHRoaXMuX21vZGVsLmdldChcImJhY2tncm91bmRDb2xvclwiKSx0aGlzLl96ci5wYWludGVyLmdldFJlbmRlcmVkQ2FudmFzKHQpfSxlLnByb3RvdHlwZS5nZXRTdmdEYXRhVVJMPWZ1bmN0aW9uKCl7aWYoYS5zdmdTdXBwb3J0ZWQpe3ZhciB0PXRoaXMuX3pyO3JldHVybiBQKHQuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpLChmdW5jdGlvbih0KXt0LnN0b3BBbmltYXRpb24obnVsbCwhMCl9KSksdC5wYWludGVyLnRvRGF0YVVSTCgpfX0sZS5wcm90b3R5cGUuZ2V0RGF0YVVSTD1mdW5jdGlvbih0KXtpZighdGhpcy5fZGlzcG9zZWQpe3ZhciBlPSh0PXR8fHt9KS5leGNsdWRlQ29tcG9uZW50cyxuPXRoaXMuX21vZGVsLGk9W10scj10aGlzO0V5KGUsKGZ1bmN0aW9uKHQpe24uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6dH0sKGZ1bmN0aW9uKHQpe3ZhciBlPXIuX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF07ZS5ncm91cC5pZ25vcmV8fChpLnB1c2goZSksZS5ncm91cC5pZ25vcmU9ITApfSkpfSkpO3ZhciBvPVwic3ZnXCI9PT10aGlzLl96ci5wYWludGVyLmdldFR5cGUoKT90aGlzLmdldFN2Z0RhdGFVUkwoKTp0aGlzLmdldFJlbmRlcmVkQ2FudmFzKHQpLnRvRGF0YVVSTChcImltYWdlL1wiKyh0JiZ0LnR5cGV8fFwicG5nXCIpKTtyZXR1cm4gRXkoaSwoZnVuY3Rpb24odCl7dC5ncm91cC5pZ25vcmU9ITF9KSksb31idih0aGlzLmlkKX0sZS5wcm90b3R5cGUuZ2V0Q29ubmVjdGVkRGF0YVVSTD1mdW5jdGlvbih0KXtpZih0aGlzLl9kaXNwb3NlZClidih0aGlzLmlkKTtlbHNlIGlmKGEuY2FudmFzU3VwcG9ydGVkKXt2YXIgZT1cInN2Z1wiPT09dC50eXBlLG49dGhpcy5ncm91cCxpPU1hdGgubWluLHI9TWF0aC5tYXgsbz0xLzA7aWYoUHZbbl0pe3ZhciBzPW8sbD1vLHU9LTEvMCxoPS0xLzAsYz1bXSxwPXQmJnQucGl4ZWxSYXRpb3x8MTtQKGt2LChmdW5jdGlvbihvLGEpe2lmKG8uZ3JvdXA9PT1uKXt2YXIgcD1lP28uZ2V0WnIoKS5wYWludGVyLmdldFN2Z0RvbSgpLmlubmVySFRNTDpvLmdldFJlbmRlcmVkQ2FudmFzKHcodCkpLGQ9by5nZXREb20oKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzPWkoZC5sZWZ0LHMpLGw9aShkLnRvcCxsKSx1PXIoZC5yaWdodCx1KSxoPXIoZC5ib3R0b20saCksYy5wdXNoKHtkb206cCxsZWZ0OmQubGVmdCx0b3A6ZC50b3B9KX19KSk7dmFyIGQ9KHUqPXApLShzKj1wKSxmPShoKj1wKS0obCo9cCksZz1DKCkseT1IaShnLHtyZW5kZXJlcjplP1wic3ZnXCI6XCJjYW52YXNcIn0pO2lmKHkucmVzaXplKHt3aWR0aDpkLGhlaWdodDpmfSksZSl7dmFyIHY9XCJcIjtyZXR1cm4gRXkoYywoZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LXMsbj10LnRvcC1sO3YrPSc8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoJytlK1wiLFwiK24rJylcIj4nK3QuZG9tK1wiPC9nPlwifSkpLHkucGFpbnRlci5nZXRTdmdSb290KCkuaW5uZXJIVE1MPXYsdC5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3ImJnkucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3IodC5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3IpLHkucmVmcmVzaEltbWVkaWF0ZWx5KCkseS5wYWludGVyLnRvRGF0YVVSTCgpfXJldHVybiB0LmNvbm5lY3RlZEJhY2tncm91bmRDb2xvciYmeS5hZGQobmV3IG9zKHtzaGFwZTp7eDowLHk6MCx3aWR0aDpkLGhlaWdodDpmfSxzdHlsZTp7ZmlsbDp0LmNvbm5lY3RlZEJhY2tncm91bmRDb2xvcn19KSksRXkoYywoZnVuY3Rpb24odCl7dmFyIGU9bmV3IEphKHtzdHlsZTp7eDp0LmxlZnQqcC1zLHk6dC50b3AqcC1sLGltYWdlOnQuZG9tfX0pO3kuYWRkKGUpfSkpLHkucmVmcmVzaEltbWVkaWF0ZWx5KCksZy50b0RhdGFVUkwoXCJpbWFnZS9cIisodCYmdC50eXBlfHxcInBuZ1wiKSl9cmV0dXJuIHRoaXMuZ2V0RGF0YVVSTCh0KX19LGUucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFF5KHRoaXMsXCJjb252ZXJ0VG9QaXhlbFwiLHQsZSl9LGUucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUXkodGhpcyxcImNvbnZlcnRGcm9tUGl4ZWxcIix0LGUpfSxlLnByb3RvdHlwZS5jb250YWluUGl4ZWw9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZighdGhpcy5fZGlzcG9zZWQpcmV0dXJuIFAoUHIodGhpcy5fbW9kZWwsdCksKGZ1bmN0aW9uKHQsaSl7aS5pbmRleE9mKFwiTW9kZWxzXCIpPj0wJiZQKHQsKGZ1bmN0aW9uKHQpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihyJiZyLmNvbnRhaW5Qb2ludCluPW58fCEhci5jb250YWluUG9pbnQoZSk7ZWxzZSBpZihcInNlcmllc01vZGVsc1wiPT09aSl7dmFyIG89dGhpcy5fY2hhcnRzTWFwW3QuX192aWV3SWRdO28mJm8uY29udGFpblBvaW50JiYobj1ufHxvLmNvbnRhaW5Qb2ludChlLHQpKX1lbHNlIDB9KSx0aGlzKX0pLHRoaXMpLCEhbjtidih0aGlzLmlkKX0sZS5wcm90b3R5cGUuZ2V0VmlzdWFsPWZ1bmN0aW9uKHQsZSl7dmFyIG49UHIodGhpcy5fbW9kZWwsdCx7ZGVmYXVsdE1haW5UeXBlOlwic2VyaWVzXCJ9KSxpPW4uc2VyaWVzTW9kZWw7dmFyIHI9aS5nZXREYXRhKCksbz1uLmhhc093blByb3BlcnR5KFwiZGF0YUluZGV4SW5zaWRlXCIpP24uZGF0YUluZGV4SW5zaWRlOm4uaGFzT3duUHJvcGVydHkoXCJkYXRhSW5kZXhcIik/ci5pbmRleE9mUmF3SW5kZXgobi5kYXRhSW5kZXgpOm51bGw7cmV0dXJuIG51bGwhPW8/cGcocixvLGUpOmRnKHIsZSl9LGUucHJvdG90eXBlLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb21wb25lbnRzTWFwW3QuX192aWV3SWRdfSxlLnByb3RvdHlwZS5nZXRWaWV3T2ZTZXJpZXNNb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hhcnRzTWFwW3QuX192aWV3SWRdfSxlLnByb3RvdHlwZS5faW5pdEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0LGUsbixpPXRoaXM7RXkoeHYsKGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUpe3ZhciBuLHI9aS5nZXRNb2RlbCgpLG89ZS50YXJnZXQsYT1cImdsb2JhbG91dFwiPT09dDtpZihhP249e306byYmSmcobywoZnVuY3Rpb24odCl7dmFyIGU9eXModCk7aWYoZSYmbnVsbCE9ZS5kYXRhSW5kZXgpe3ZhciBpPWUuZGF0YU1vZGVsfHxyLmdldFNlcmllc0J5SW5kZXgoZS5zZXJpZXNJbmRleCk7cmV0dXJuIG49aSYmaS5nZXREYXRhUGFyYW1zKGUuZGF0YUluZGV4LGUuZGF0YVR5cGUpfHx7fSwhMH1pZihlLmV2ZW50RGF0YSlyZXR1cm4gbj1JKHt9LGUuZXZlbnREYXRhKSwhMH0pLCEwKSxuKXt2YXIgcz1uLmNvbXBvbmVudFR5cGUsbD1uLmNvbXBvbmVudEluZGV4O1wibWFya0xpbmVcIiE9PXMmJlwibWFya1BvaW50XCIhPT1zJiZcIm1hcmtBcmVhXCIhPT1zfHwocz1cInNlcmllc1wiLGw9bi5zZXJpZXNJbmRleCk7dmFyIHU9cyYmbnVsbCE9bCYmci5nZXRDb21wb25lbnQocyxsKSxoPXUmJmlbXCJzZXJpZXNcIj09PXUubWFpblR5cGU/XCJfY2hhcnRzTWFwXCI6XCJfY29tcG9uZW50c01hcFwiXVt1Ll9fdmlld0lkXTswLG4uZXZlbnQ9ZSxuLnR5cGU9dCxpLl8kZXZlbnRQcm9jZXNzb3IuZXZlbnRJbmZvPXt0YXJnZXRFbDpvLHBhY2tlZEV2ZW50Om4sbW9kZWw6dSx2aWV3Omh9LGkudHJpZ2dlcih0LG4pfX07ZS56ckV2ZW50ZnVsQ2FsbEF0TGFzdD0hMCxpLl96ci5vbih0LGUsaSl9KSksRXkoU3YsKGZ1bmN0aW9uKHQsZSl7aS5fbWVzc2FnZUNlbnRlci5vbihlLChmdW5jdGlvbih0KXt0aGlzLnRyaWdnZXIoZSx0KX0pLGkpfSkpLEV5KFtcInNlbGVjdGNoYW5nZWRcIl0sKGZ1bmN0aW9uKHQpe2kuX21lc3NhZ2VDZW50ZXIub24odCwoZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKHQsZSl9KSxpKX0pKSx0PXRoaXMuX21lc3NhZ2VDZW50ZXIsZT10aGlzLG49dGhpcy5fYXBpLHQub24oXCJzZWxlY3RjaGFuZ2VkXCIsKGZ1bmN0aW9uKHQpe3ZhciBpPW4uZ2V0TW9kZWwoKTt0LmlzRnJvbUNsaWNrPygkZyhcIm1hcFwiLFwic2VsZWN0Y2hhbmdlZFwiLGUsaSx0KSwkZyhcInBpZVwiLFwic2VsZWN0Y2hhbmdlZFwiLGUsaSx0KSk6XCJzZWxlY3RcIj09PXQuZnJvbUFjdGlvbj8oJGcoXCJtYXBcIixcInNlbGVjdGVkXCIsZSxpLHQpLCRnKFwicGllXCIsXCJzZWxlY3RlZFwiLGUsaSx0KSk6XCJ1bnNlbGVjdFwiPT09dC5mcm9tQWN0aW9uJiYoJGcoXCJtYXBcIixcInVuc2VsZWN0ZWRcIixlLGksdCksJGcoXCJwaWVcIixcInVuc2VsZWN0ZWRcIixlLGksdCkpfSkpfSxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VkfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2Rpc3Bvc2VkP2J2KHRoaXMuaWQpOnRoaXMuc2V0T3B0aW9uKHtzZXJpZXM6W119LCEwKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2lmKHRoaXMuX2Rpc3Bvc2VkKWJ2KHRoaXMuaWQpO2Vsc2V7dGhpcy5fZGlzcG9zZWQ9ITAsRXIodGhpcy5nZXREb20oKSxOdixcIlwiKTt2YXIgdD10aGlzLl9hcGksZT10aGlzLl9tb2RlbDtFeSh0aGlzLl9jb21wb25lbnRzVmlld3MsKGZ1bmN0aW9uKG4pe24uZGlzcG9zZShlLHQpfSkpLEV5KHRoaXMuX2NoYXJ0c1ZpZXdzLChmdW5jdGlvbihuKXtuLmRpc3Bvc2UoZSx0KX0pKSx0aGlzLl96ci5kaXNwb3NlKCksZGVsZXRlIGt2W3RoaXMuaWRdfX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2Rpc3Bvc2VkKWJ2KHRoaXMuaWQpO2Vsc2V7dGhpcy5fenIucmVzaXplKHQpO3ZhciBlPXRoaXMuX21vZGVsO2lmKHRoaXMuX2xvYWRpbmdGWCYmdGhpcy5fbG9hZGluZ0ZYLnJlc2l6ZSgpLGUpe3ZhciBuPWUucmVzZXRPcHRpb24oXCJtZWRpYVwiKSxpPXQmJnQuc2lsZW50O3RoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMCxuJiZxeSh0aGlzKSxKeS51cGRhdGUuY2FsbCh0aGlzLHt0eXBlOlwicmVzaXplXCIsYW5pbWF0aW9uOntkdXJhdGlvbjowfX0pLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMSxudi5jYWxsKHRoaXMsaSksaXYuY2FsbCh0aGlzLGkpfX19LGUucHJvdG90eXBlLnNob3dMb2FkaW5nPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlzcG9zZWQpYnYodGhpcy5pZCk7ZWxzZSBpZihCeSh0KSYmKGU9dCx0PVwiXCIpLHQ9dHx8XCJkZWZhdWx0XCIsdGhpcy5oaWRlTG9hZGluZygpLEx2W3RdKXt2YXIgbj1Mdlt0XSh0aGlzLl9hcGksZSksaT10aGlzLl96cjt0aGlzLl9sb2FkaW5nRlg9bixpLmFkZChuKX19LGUucHJvdG90eXBlLmhpZGVMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWQ/YnYodGhpcy5pZCk6KHRoaXMuX2xvYWRpbmdGWCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuX2xvYWRpbmdGWCksdGhpcy5fbG9hZGluZ0ZYPW51bGwpfSxlLnByb3RvdHlwZS5tYWtlQWN0aW9uRnJvbUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPUkoe30sdCk7cmV0dXJuIGUudHlwZT1Tdlt0LnR5cGVdLGV9LGUucHJvdG90eXBlLmRpc3BhdGNoQWN0aW9uPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlzcG9zZWQpYnYodGhpcy5pZCk7ZWxzZSBpZihCeShlKXx8KGU9e3NpbGVudDohIWV9KSx3dlt0LnR5cGVdJiZ0aGlzLl9tb2RlbClpZih0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3MpdGhpcy5fcGVuZGluZ0FjdGlvbnMucHVzaCh0KTtlbHNle3ZhciBuPWUuc2lsZW50O2V2LmNhbGwodGhpcyx0LG4pO3ZhciBpPWUuZmx1c2g7aT90aGlzLl96ci5mbHVzaCgpOiExIT09aSYmYS5icm93c2VyLndlQ2hhdCYmdGhpcy5fdGhyb3R0bGVkWnJGbHVzaCgpLG52LmNhbGwodGhpcyxuKSxpdi5jYWxsKHRoaXMsbil9fSxlLnByb3RvdHlwZS51cGRhdGVMYWJlbExheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xhYmVsTWFuYWdlcjt0LnVwZGF0ZUxheW91dENvbmZpZyh0aGlzLl9hcGkpLHQubGF5b3V0KHRoaXMuX2FwaSksdC5wcm9jZXNzTGFiZWxzT3ZlcmFsbCgpfSxlLnByb3RvdHlwZS5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2Rpc3Bvc2VkKWJ2KHRoaXMuaWQpO2Vsc2V7dmFyIGU9dC5zZXJpZXNJbmRleCxuPXRoaXMuZ2V0TW9kZWwoKS5nZXRTZXJpZXNCeUluZGV4KGUpOzAsbi5hcHBlbmREYXRhKHQpLHRoaXMuX3NjaGVkdWxlci51bmZpbmlzaGVkPSEwLHRoaXMuZ2V0WnIoKS53YWtlVXAoKX19LGUuaW50ZXJuYWxGaWVsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7Zm9yKHZhciBlPVtdLG49dC5jdXJyZW50U3RhdGVzLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtcImVtcGhhc2lzXCIhPT1yJiZcImJsdXJcIiE9PXImJlwic2VsZWN0XCIhPT1yJiZlLnB1c2gocil9dC5zZWxlY3RlZCYmdC5zdGF0ZXMuc2VsZWN0JiZlLnB1c2goXCJzZWxlY3RcIiksMj09PXQuaG92ZXJTdGF0ZSYmdC5zdGF0ZXMuZW1waGFzaXM/ZS5wdXNoKFwiZW1waGFzaXNcIik6MT09PXQuaG92ZXJTdGF0ZSYmdC5zdGF0ZXMuYmx1ciYmZS5wdXNoKFwiYmx1clwiKSx0LnVzZVN0YXRlcyhlKX1mdW5jdGlvbiBlKHQsZSl7aWYoIXQucHJldmVudEF1dG9aKXt2YXIgbj10LmdldChcInpcIiksaT10LmdldChcInpsZXZlbFwiKTtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZighdC5pc0dyb3VwKXtudWxsIT1uJiYodC56PW4pLG51bGwhPWkmJih0LnpsZXZlbD1pKTt2YXIgZT10LmdldFRleHRDb250ZW50KCkscj10LmdldFRleHRHdWlkZUxpbmUoKTtpZihlJiYoZS56PXQueixlLnpsZXZlbD10LnpsZXZlbCxlLnoyPXQuejIrMikscil7dmFyIG89dC50ZXh0R3VpZGVMaW5lQ29uZmlnJiZ0LnRleHRHdWlkZUxpbmVDb25maWcuc2hvd0Fib3ZlO3Iuej10Lnosci56bGV2ZWw9dC56bGV2ZWwsci56Mj10LnoyKyhvPzE6LTEpfX19KSl9fWZ1bmN0aW9uIGkodCxlKXtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZighQnUodCkpe3ZhciBlPXQuZ2V0VGV4dENvbnRlbnQoKSxuPXQuZ2V0VGV4dEd1aWRlTGluZSgpO3Quc3RhdGVUcmFuc2l0aW9uJiYodC5zdGF0ZVRyYW5zaXRpb249bnVsbCksZSYmZS5zdGF0ZVRyYW5zaXRpb24mJihlLnN0YXRlVHJhbnNpdGlvbj1udWxsKSxuJiZuLnN0YXRlVHJhbnNpdGlvbiYmKG4uc3RhdGVUcmFuc2l0aW9uPW51bGwpLHQuaGFzU3RhdGUoKT8odC5wcmV2U3RhdGVzPXQuY3VycmVudFN0YXRlcyx0LmNsZWFyU3RhdGVzKCkpOnQucHJldlN0YXRlcyYmKHQucHJldlN0YXRlcz1udWxsKX19KSl9ZnVuY3Rpb24gcihlLG4pe3ZhciBpPWUuZ2V0TW9kZWwoXCJzdGF0ZUFuaW1hdGlvblwiKSxyPWUuaXNBbmltYXRpb25FbmFibGVkKCksbz1pLmdldChcImR1cmF0aW9uXCIpLGE9bz4wP3tkdXJhdGlvbjpvLGRlbGF5OmkuZ2V0KFwiZGVsYXlcIiksZWFzaW5nOmkuZ2V0KFwiZWFzaW5nXCIpfTpudWxsO24uZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKGUpe2lmKGUuc3RhdGVzJiZlLnN0YXRlcy5lbXBoYXNpcyl7aWYoQnUoZSkpcmV0dXJuO2lmKGUgaW5zdGFuY2VvZiBaYSYmZnVuY3Rpb24odCl7dmFyIGU9X3ModCk7ZS5ub3JtYWxGaWxsPXQuc3R5bGUuZmlsbCxlLm5vcm1hbFN0cm9rZT10LnN0eWxlLnN0cm9rZTt2YXIgbj10LnN0YXRlcy5zZWxlY3R8fHt9O2Uuc2VsZWN0RmlsbD1uLnN0eWxlJiZuLnN0eWxlLmZpbGx8fG51bGwsZS5zZWxlY3RTdHJva2U9bi5zdHlsZSYmbi5zdHlsZS5zdHJva2V8fG51bGx9KGUpLGUuX19kaXJ0eSl7dmFyIG49ZS5wcmV2U3RhdGVzO24mJmUudXNlU3RhdGVzKG4pfWlmKHIpe2Uuc3RhdGVUcmFuc2l0aW9uPWE7dmFyIGk9ZS5nZXRUZXh0Q29udGVudCgpLG89ZS5nZXRUZXh0R3VpZGVMaW5lKCk7aSYmKGkuc3RhdGVUcmFuc2l0aW9uPWEpLG8mJihvLnN0YXRlVHJhbnNpdGlvbj1hKX1lLl9fZGlydHkmJnQoZSl9fSkpfXF5PWZ1bmN0aW9uKHQpe3ZhciBlPXQuX3NjaGVkdWxlcjtlLnJlc3RvcmVQaXBlbGluZXModC5fbW9kZWwpLGUucHJlcGFyZVN0YWdlVGFza3MoKSxLeSh0LCEwKSxLeSh0LCExKSxlLnBsYW4oKX0sS3k9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5fbW9kZWwsaT10Ll9zY2hlZHVsZXIscj1lP3QuX2NvbXBvbmVudHNWaWV3czp0Ll9jaGFydHNWaWV3cyxvPWU/dC5fY29tcG9uZW50c01hcDp0Ll9jaGFydHNNYXAsYT10Ll96cixzPXQuX2FwaSxsPTA7bDxyLmxlbmd0aDtsKyspcltsXS5fX2FsaXZlPSExO2Z1bmN0aW9uIHUodCl7dmFyIGw9dC5fX3JlcXVpcmVOZXdWaWV3O3QuX19yZXF1aXJlTmV3Vmlldz0hMTt2YXIgdT1cIl9lY19cIit0LmlkK1wiX1wiK3QudHlwZSxoPSFsJiZvW3VdO2lmKCFoKXt2YXIgYz1Hcih0LnR5cGUpLHA9ZT9wZi5nZXRDbGFzcyhjLm1haW4sYy5zdWIpOnlmLmdldENsYXNzKGMuc3ViKTswLChoPW5ldyBwKS5pbml0KG4scyksb1t1XT1oLHIucHVzaChoKSxhLmFkZChoLmdyb3VwKX10Ll9fdmlld0lkPWguX19pZD11LGguX19hbGl2ZT0hMCxoLl9fbW9kZWw9dCxoLmdyb3VwLl9fZWNDb21wb25lbnRJbmZvPXttYWluVHlwZTp0Lm1haW5UeXBlLGluZGV4OnQuY29tcG9uZW50SW5kZXh9LCFlJiZpLnByZXBhcmVWaWV3KGgsdCxuLHMpfWU/bi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbih0LGUpe1wic2VyaWVzXCIhPT10JiZ1KGUpfSkpOm4uZWFjaFNlcmllcyh1KTtmb3IobD0wO2w8ci5sZW5ndGg7KXt2YXIgaD1yW2xdO2guX19hbGl2ZT9sKys6KCFlJiZoLnJlbmRlclRhc2suZGlzcG9zZSgpLGEucmVtb3ZlKGguZ3JvdXApLGguZGlzcG9zZShuLHMpLHIuc3BsaWNlKGwsMSksb1toLl9faWRdPT09aCYmZGVsZXRlIG9baC5fX2lkXSxoLl9faWQ9aC5ncm91cC5fX2VjQ29tcG9uZW50SW5mbz1udWxsKX19LCR5PWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dC5fbW9kZWw7aWYoby5zZXRVcGRhdGVQYXlsb2FkKG4pLGkpe3ZhciBhPXt9O2FbaStcIklkXCJdPW5baStcIklkXCJdLGFbaStcIkluZGV4XCJdPW5baStcIkluZGV4XCJdLGFbaStcIk5hbWVcIl09bltpK1wiTmFtZVwiXTt2YXIgcz17bWFpblR5cGU6aSxxdWVyeTphfTtyJiYocy5zdWJUeXBlPXIpO3ZhciBsLHU9bi5leGNsdWRlU2VyaWVzSWQ7bnVsbCE9dSYmKGw9aHQoKSxFeShfcih1KSwoZnVuY3Rpb24odCl7dmFyIGU9VHIodCxudWxsKTtudWxsIT1lJiZsLnNldChlLCEwKX0pKSksbyYmby5lYWNoQ29tcG9uZW50KHMsKGZ1bmN0aW9uKGUpe2wmJm51bGwhPWwuZ2V0KGUuaWQpfHwoYWwobikmJiFuLm5vdEJsdXI/ZSBpbnN0YW5jZW9mIHJmJiZmdW5jdGlvbih0LGUsbil7aWYoYWwoZSkpe3ZhciBpPWUudHlwZT09PXdzLHI9dC5zZXJpZXNJbmRleCxvPXQuZ2V0RGF0YShlLmRhdGFUeXBlKSxhPURyKG8sZSk7YT0oRihhKT9hWzBdOmEpfHwwO3ZhciBzPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtpZighcylmb3IodmFyIGw9by5jb3VudCgpLHU9MDshcyYmdTxsOylzPW8uZ2V0SXRlbUdyYXBoaWNFbCh1KyspO2lmKHMpe3ZhciBoPXlzKHMpO3FzKHIsaC5mb2N1cyxoLmJsdXJTY29wZSxuLGkpfWVsc2V7dmFyIGM9dC5nZXQoW1wiZW1waGFzaXNcIixcImZvY3VzXCJdKSxwPXQuZ2V0KFtcImVtcGhhc2lzXCIsXCJibHVyU2NvcGVcIl0pO251bGwhPWMmJnFzKHIsYyxwLG4saSl9fX0oZSxuLHQuX2FwaSk6b2wobikmJmUgaW5zdGFuY2VvZiByZiYmKCFmdW5jdGlvbih0LGUsbil7aWYob2woZSkpe3ZhciBpPWUuZGF0YVR5cGUscj1Ecih0LmdldERhdGEoaSksZSk7RihyKXx8KHI9W3JdKSx0W2UudHlwZT09PVRzP1widG9nZ2xlU2VsZWN0XCI6ZS50eXBlPT09TXM/XCJzZWxlY3RcIjpcInVuc2VsZWN0XCJdKHIsaSl9fShlLG4sdC5fYXBpKSxLcyhlKSxmdih0KSksaCh0W1wic2VyaWVzXCI9PT1pP1wiX2NoYXJ0c01hcFwiOlwiX2NvbXBvbmVudHNNYXBcIl1bZS5fX3ZpZXdJZF0pKX0pLHQpfWVsc2UgRXkoW10uY29uY2F0KHQuX2NvbXBvbmVudHNWaWV3cykuY29uY2F0KHQuX2NoYXJ0c1ZpZXdzKSxoKTtmdW5jdGlvbiBoKGkpe2kmJmkuX19hbGl2ZSYmaVtlXSYmaVtlXShpLl9fbW9kZWwsbyx0Ll9hcGksbil9fSxKeT17cHJlcGFyZUFuZFVwZGF0ZTpmdW5jdGlvbih0KXtxeSh0aGlzKSxKeS51cGRhdGUuY2FsbCh0aGlzLHQpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbW9kZWwsbj10aGlzLl9hcGksaT10aGlzLl96cixyPXRoaXMuX2Nvb3JkU3lzTWdyLG89dGhpcy5fc2NoZWR1bGVyO2lmKGUpe2Uuc2V0VXBkYXRlUGF5bG9hZCh0KSxvLnJlc3RvcmVEYXRhKGUsdCksby5wZXJmb3JtU2VyaWVzVGFza3MoZSksci5jcmVhdGUoZSxuKSxvLnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3MoZSx0KSx0dih0aGlzLGUpLHIudXBkYXRlKGUsbiksYXYoZSksby5wZXJmb3JtVmlzdWFsVGFza3MoZSx0KSxzdih0aGlzLGUsbix0KTt2YXIgcz1lLmdldChcImJhY2tncm91bmRDb2xvclwiKXx8XCJ0cmFuc3BhcmVudFwiLGw9ZS5nZXQoXCJkYXJrTW9kZVwiKTtpZihhLmNhbnZhc1N1cHBvcnRlZClpLnNldEJhY2tncm91bmRDb2xvcihzKSxudWxsIT1sJiZcImF1dG9cIiE9PWwmJmkuc2V0RGFya01vZGUobCk7ZWxzZXt2YXIgdT1xZShzKTtzPWFuKHUsXCJyZ2JcIiksMD09PXVbM10mJihzPVwidHJhbnNwYXJlbnRcIil9aHYoZSxuKX19LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5fbW9kZWwsaT10aGlzLl9hcGk7aWYobil7bi5zZXRVcGRhdGVQYXlsb2FkKHQpO3ZhciByPVtdO24uZWFjaENvbXBvbmVudCgoZnVuY3Rpb24obyxhKXtpZihcInNlcmllc1wiIT09byl7dmFyIHM9ZS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChhKTtpZihzJiZzLl9fYWxpdmUpaWYocy51cGRhdGVUcmFuc2Zvcm0pe3ZhciBsPXMudXBkYXRlVHJhbnNmb3JtKGEsbixpLHQpO2wmJmwudXBkYXRlJiZyLnB1c2gocyl9ZWxzZSByLnB1c2gocyl9fSkpO3ZhciBvPWh0KCk7bi5lYWNoU2VyaWVzKChmdW5jdGlvbihyKXt2YXIgYT1lLl9jaGFydHNNYXBbci5fX3ZpZXdJZF07aWYoYS51cGRhdGVUcmFuc2Zvcm0pe3ZhciBzPWEudXBkYXRlVHJhbnNmb3JtKHIsbixpLHQpO3MmJnMudXBkYXRlJiZvLnNldChyLnVpZCwxKX1lbHNlIG8uc2V0KHIudWlkLDEpfSkpLGF2KG4pLHRoaXMuX3NjaGVkdWxlci5wZXJmb3JtVmlzdWFsVGFza3Mobix0LHtzZXREaXJ0eTohMCxkaXJ0eU1hcDpvfSksdXYodGhpcyxuLGksdCxvKSxodihuLHRoaXMuX2FwaSl9fSx1cGRhdGVWaWV3OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vZGVsO2UmJihlLnNldFVwZGF0ZVBheWxvYWQodCkseWYubWFya1VwZGF0ZU1ldGhvZCh0LFwidXBkYXRlVmlld1wiKSxhdihlKSx0aGlzLl9zY2hlZHVsZXIucGVyZm9ybVZpc3VhbFRhc2tzKGUsdCx7c2V0RGlydHk6ITB9KSxzdih0aGlzLHRoaXMuX21vZGVsLHRoaXMuX2FwaSx0KSxodihlLHRoaXMuX2FwaSkpfSx1cGRhdGVWaXN1YWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX21vZGVsO24mJihuLnNldFVwZGF0ZVBheWxvYWQodCksbi5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt0LmdldERhdGEoKS5jbGVhckFsbFZpc3VhbCgpfSkpLHlmLm1hcmtVcGRhdGVNZXRob2QodCxcInVwZGF0ZVZpc3VhbFwiKSxhdihuKSx0aGlzLl9zY2hlZHVsZXIucGVyZm9ybVZpc3VhbFRhc2tzKG4sdCx7dmlzdWFsVHlwZTpcInZpc3VhbFwiLHNldERpcnR5OiEwfSksbi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbihpLHIpe2lmKFwic2VyaWVzXCIhPT1pKXt2YXIgbz1lLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKHIpO28mJm8uX19hbGl2ZSYmby51cGRhdGVWaXN1YWwocixuLGUuX2FwaSx0KX19KSksbi5lYWNoU2VyaWVzKChmdW5jdGlvbihpKXtlLl9jaGFydHNNYXBbaS5fX3ZpZXdJZF0udXBkYXRlVmlzdWFsKGksbixlLl9hcGksdCl9KSksaHYobix0aGlzLl9hcGkpKX0sdXBkYXRlTGF5b3V0OmZ1bmN0aW9uKHQpe0p5LnVwZGF0ZS5jYWxsKHRoaXMsdCl9fSxReT1mdW5jdGlvbih0LGUsbixpKXtpZih0Ll9kaXNwb3NlZClidih0LmlkKTtlbHNle2Zvcih2YXIgcixvPXQuX21vZGVsLGE9dC5fY29vcmRTeXNNZ3IuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKSxzPVByKG8sbiksbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgdT1hW2xdO2lmKHVbZV0mJm51bGwhPShyPXVbZV0obyxzLGkpKSlyZXR1cm4gcn0wfX0sdHY9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9jaGFydHNNYXAsaT10Ll9zY2hlZHVsZXI7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpLnVwZGF0ZVN0cmVhbU1vZGVzKHQsblt0Ll9fdmlld0lkXSl9KSl9LGV2PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxpPXRoaXMuZ2V0TW9kZWwoKSxyPXQudHlwZSxvPXQuZXNjYXBlQ29ubmVjdCxhPXd2W3JdLHM9YS5hY3Rpb25JbmZvLGw9KHMudXBkYXRlfHxcInVwZGF0ZVwiKS5zcGxpdChcIjpcIiksdT1sLnBvcCgpLGg9bnVsbCE9bFswXSYmR3IobFswXSk7dGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSEwO3ZhciBjPVt0XSxwPSExO3QuYmF0Y2gmJihwPSEwLGM9Tyh0LmJhdGNoLChmdW5jdGlvbihlKXtyZXR1cm4oZT1UKEkoe30sZSksdCkpLmJhdGNoPW51bGwsZX0pKSk7dmFyIGQsZj1bXSxnPW9sKHQpLHk9YWwodCl8fGc7aWYoRXkoYywoZnVuY3Rpb24odCl7KGQ9KGQ9YS5hY3Rpb24odCxuLl9tb2RlbCxuLl9hcGkpKXx8SSh7fSx0KSkudHlwZT1zLmV2ZW50fHxkLnR5cGUsZi5wdXNoKGQpLHk/KCR5KG4sdSx0LFwic2VyaWVzXCIpLGZ2KG4pKTpoJiYkeShuLHUsdCxoLm1haW4saC5zdWIpfSkpLFwibm9uZVwiPT09dXx8eXx8aHx8KHRoaXMuX19vcHRpb25VcGRhdGVkPyhxeSh0aGlzKSxKeS51cGRhdGUuY2FsbCh0aGlzLHQpLHRoaXMuX19vcHRpb25VcGRhdGVkPSExKTpKeVt1XS5jYWxsKHRoaXMsdCkpLGQ9cD97dHlwZTpzLmV2ZW50fHxyLGVzY2FwZUNvbm5lY3Q6byxiYXRjaDpmfTpmWzBdLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMSwhZSl7dmFyIHY9dGhpcy5fbWVzc2FnZUNlbnRlcjtpZih2LnRyaWdnZXIoZC50eXBlLGQpLGcpe3ZhciBtPXt0eXBlOlwic2VsZWN0Y2hhbmdlZFwiLGVzY2FwZUNvbm5lY3Q6byxzZWxlY3RlZDokcyhpKSxpc0Zyb21DbGljazp0LmlzRnJvbUNsaWNrfHwhMSxmcm9tQWN0aW9uOnQudHlwZSxmcm9tQWN0aW9uUGF5bG9hZDp0fTt2LnRyaWdnZXIobS50eXBlLG0pfX19LG52PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9wZW5kaW5nQWN0aW9ucztlLmxlbmd0aDspe3ZhciBuPWUuc2hpZnQoKTtldi5jYWxsKHRoaXMsbix0KX19LGl2PWZ1bmN0aW9uKHQpeyF0JiZ0aGlzLnRyaWdnZXIoXCJ1cGRhdGVkXCIpfSxydj1mdW5jdGlvbih0LGUpe3Qub24oXCJyZW5kZXJlZFwiLChmdW5jdGlvbihuKXtlLnRyaWdnZXIoXCJyZW5kZXJlZFwiLG4pLCF0LmFuaW1hdGlvbi5pc0ZpbmlzaGVkKCl8fGUuX19vcHRpb25VcGRhdGVkfHxlLl9zY2hlZHVsZXIudW5maW5pc2hlZHx8ZS5fcGVuZGluZ0FjdGlvbnMubGVuZ3RofHxlLnRyaWdnZXIoXCJmaW5pc2hlZFwiKX0pKX0sb3Y9ZnVuY3Rpb24odCxlKXt0Lm9uKFwibW91c2VvdmVyXCIsKGZ1bmN0aW9uKHQpe3ZhciBuPUpnKHQudGFyZ2V0LHJsKTtpZihuKXt2YXIgaT15cyhuKTtxcyhpLnNlcmllc0luZGV4LGkuZm9jdXMsaS5ibHVyU2NvcGUsZS5fYXBpLCEwKSxmdW5jdGlvbih0LGUpeyFqcyh0LGUpJiYhdC5fX2hpZ2hCeU91dGVyJiZCcyh0LGtzKX0obix0KSxmdihlKX19KSkub24oXCJtb3VzZW91dFwiLChmdW5jdGlvbih0KXt2YXIgbj1KZyh0LnRhcmdldCxybCk7aWYobil7dmFyIGk9eXMobik7cXMoaS5zZXJpZXNJbmRleCxpLmZvY3VzLGkuYmx1clNjb3BlLGUuX2FwaSwhMSksZnVuY3Rpb24odCxlKXshanModCxlKSYmIXQuX19oaWdoQnlPdXRlciYmQnModCxQcyl9KG4sdCksZnYoZSl9fSkpLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24odCl7dmFyIG49SmcodC50YXJnZXQsKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT15cyh0KS5kYXRhSW5kZXh9KSwhMCk7aWYobil7dmFyIGk9bi5zZWxlY3RlZD9cInVuc2VsZWN0XCI6XCJzZWxlY3RcIixyPXlzKG4pO2UuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTppLGRhdGFUeXBlOnIuZGF0YVR5cGUsZGF0YUluZGV4SW5zaWRlOnIuZGF0YUluZGV4LHNlcmllc0luZGV4OnIuc2VyaWVzSW5kZXgsaXNGcm9tQ2xpY2s6ITB9KX19KSl9LGF2PWZ1bmN0aW9uKHQpe3QuY2xlYXJDb2xvclBhbGV0dGUoKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3QuY2xlYXJDb2xvclBhbGV0dGUoKX0pKX0sc3Y9ZnVuY3Rpb24odCxlLG4saSl7bHYodCxlLG4saSksRXkodC5fY2hhcnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuX19hbGl2ZT0hMX0pKSx1dih0LGUsbixpKSxFeSh0Ll9jaGFydHNWaWV3cywoZnVuY3Rpb24odCl7dC5fX2FsaXZlfHx0LnJlbW92ZShlLG4pfSkpfSxsdj1mdW5jdGlvbih0LG4sbyxhLHMpe0V5KHN8fHQuX2NvbXBvbmVudHNWaWV3cywoZnVuY3Rpb24odCl7dmFyIHM9dC5fX21vZGVsO2kocyx0KSx0LnJlbmRlcihzLG4sbyxhKSxlKHMsdCkscihzLHQpfSkpfSx1dj1mdW5jdGlvbih0LG4sbyxzLGwpe3ZhciB1PXQuX3NjaGVkdWxlcixoPXQuX2xhYmVsTWFuYWdlcjtoLmNsZWFyTGFiZWxzKCk7dmFyIGM9ITE7bi5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXt2YXIgbj10Ll9jaGFydHNNYXBbZS5fX3ZpZXdJZF07bi5fX2FsaXZlPSEwO3ZhciByPW4ucmVuZGVyVGFzazt1LnVwZGF0ZVBheWxvYWQocixzKSxpKGUsbiksbCYmbC5nZXQoZS51aWQpJiZyLmRpcnR5KCksci5wZXJmb3JtKHUuZ2V0UGVyZm9ybUFyZ3MocikpJiYoYz0hMCksZS5fX3RyYW5zaWVudFRyYW5zaXRpb25PcHQ9bnVsbCxuLmdyb3VwLnNpbGVudD0hIWUuZ2V0KFwic2lsZW50XCIpLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoXCJibGVuZE1vZGVcIil8fG51bGw7MDtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LmlzR3JvdXB8fCh0LnN0eWxlLmJsZW5kPW4pLHQuZWFjaFBlbmRpbmdEaXNwbGF5YWJsZSYmdC5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlKChmdW5jdGlvbih0KXt0LnN0eWxlLmJsZW5kPW59KSl9KSl9KGUsbiksS3MoZSksaC5hZGRMYWJlbHNPZlNlcmllcyhuKX0pKSx1LnVuZmluaXNoZWQ9Y3x8dS51bmZpbmlzaGVkLGgudXBkYXRlTGF5b3V0Q29uZmlnKG8pLGgubGF5b3V0KG8pLGgucHJvY2Vzc0xhYmVsc092ZXJhbGwoKSxuLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKG4pe3ZhciBpPXQuX2NoYXJ0c01hcFtuLl9fdmlld0lkXTtlKG4saSkscihuLGkpfSkpLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fenIuc3RvcmFnZSxpPTA7bi50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5pc0dyb3VwfHxpKyt9KSksaT5lLmdldChcImhvdmVyTGF5ZXJUaHJlc2hvbGRcIikmJiFhLm5vZGUmJiFhLndvcmtlciYmZS5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXtpZighZS5wcmV2ZW50VXNpbmdIb3ZlckxheWVyKXt2YXIgbj10Ll9jaGFydHNNYXBbZS5fX3ZpZXdJZF07bi5fX2FsaXZlJiZuLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LnN0YXRlcy5lbXBoYXNpcyYmKHQuc3RhdGVzLmVtcGhhc2lzLmhvdmVyTGF5ZXI9ITApfSkpfX0pKX0odCxuKX0saHY9ZnVuY3Rpb24odCxlKXtFeShDdiwoZnVuY3Rpb24obil7bih0LGUpfSkpfSxmdj1mdW5jdGlvbih0KXt0Ll9fbmVlZHNVcGRhdGVTdGF0dXM9ITAsdC5nZXRacigpLndha2VVcCgpfSxndj1mdW5jdGlvbihlKXtlLl9fbmVlZHNVcGRhdGVTdGF0dXMmJihlLmdldFpyKCkuc3RvcmFnZS50cmF2ZXJzZSgoZnVuY3Rpb24oZSl7QnUoZSl8fHQoZSl9KSksZS5fX25lZWRzVXBkYXRlU3RhdHVzPSExKX0sY3Y9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihpLGUpLGkucHJvdG90eXBlLmdldENvb3JkaW5hdGVTeXN0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHQuX2Nvb3JkU3lzTWdyLmdldENvb3JkaW5hdGVTeXN0ZW1zKCl9LGkucHJvdG90eXBlLmdldENvbXBvbmVudEJ5RWxlbWVudD1mdW5jdGlvbihlKXtmb3IoO2U7KXt2YXIgbj1lLl9fZWNDb21wb25lbnRJbmZvO2lmKG51bGwhPW4pcmV0dXJuIHQuX21vZGVsLmdldENvbXBvbmVudChuLm1haW5UeXBlLG4uaW5kZXgpO2U9ZS5wYXJlbnR9fSxpLnByb3RvdHlwZS5lbnRlckVtcGhhc2lzPWZ1bmN0aW9uKGUsbil7SHMoZSxuKSxmdih0KX0saS5wcm90b3R5cGUubGVhdmVFbXBoYXNpcz1mdW5jdGlvbihlLG4pe1dzKGUsbiksZnYodCl9LGkucHJvdG90eXBlLmVudGVyQmx1cj1mdW5jdGlvbihlKXtZcyhlKSxmdih0KX0saS5wcm90b3R5cGUubGVhdmVCbHVyPWZ1bmN0aW9uKGUpe1hzKGUpLGZ2KHQpfSxpLnByb3RvdHlwZS5lbnRlclNlbGVjdD1mdW5jdGlvbihlKXtVcyhlKSxmdih0KX0saS5wcm90b3R5cGUubGVhdmVTZWxlY3Q9ZnVuY3Rpb24oZSl7WnMoZSksZnYodCl9LGkucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0TW9kZWwoKX0saS5wcm90b3R5cGUuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwoZSl9LGkucHJvdG90eXBlLmdldFZpZXdPZlNlcmllc01vZGVsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFZpZXdPZlNlcmllc01vZGVsKGUpfSxpfSh2cCkpKHQpfSxwdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3Rbbl1bWHldPWV9fUV5KFN2LChmdW5jdGlvbihuLGkpe3QuX21lc3NhZ2VDZW50ZXIub24oaSwoZnVuY3Rpb24obil7aWYoUHZbdC5ncm91cF0mJjAhPT10W1h5XSl7aWYobiYmbi5lc2NhcGVDb25uZWN0KXJldHVybjt2YXIgaT10Lm1ha2VBY3Rpb25Gcm9tRXZlbnQobikscj1bXTtFeShrdiwoZnVuY3Rpb24oZSl7ZSE9PXQmJmUuZ3JvdXA9PT10Lmdyb3VwJiZyLnB1c2goZSl9KSksZShyLDApLEV5KHIsKGZ1bmN0aW9uKHQpezEhPT10W1h5XSYmdC5kaXNwYXRjaEFjdGlvbihpKX0pKSxlKHIsMil9fSkpfSkpfSxkdj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX21vZGVsO1AoX3IoZSksKGZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5mcm9tLHI9dC50bztudWxsPT1yJiZ5cihlKTt2YXIgbz17aW5jbHVkZU1haW5UeXBlczpbXCJzZXJpZXNcIl0sZW5hYmxlQWxsOiExLGVuYWJsZU5vbmU6ITF9LGE9aT9QcihuLGksbyk6bnVsbCxzPVByKG4scixvKS5zZXJpZXNNb2RlbDtudWxsPT1zJiYoZT1cIlwiKSxhJiZhLnNlcmllc01vZGVsIT09cyYmKGU9XCJcIiksbnVsbCE9ZSYmeXIoZSkscy5fX3RyYW5zaWVudFRyYW5zaXRpb25PcHQ9e2Zyb206aT9pLmRpbWVuc2lvbjpudWxsLHRvOnIuZGltZW5zaW9uLGRpdmlkaW5nTWV0aG9kOnQuZGl2aWRpbmdNZXRob2R9fSkpfX0oKSxlfShGdCksX3Y9bXYucHJvdG90eXBlO192Lm9uPVV5KFwib25cIiksX3Yub2ZmPVV5KFwib2ZmXCIpLF92Lm9uZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcztncigpLHRoaXMub24uY2FsbCh0aGlzLHQsKGZ1bmN0aW9uIG4oKXtmb3IodmFyIHI9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvXT1hcmd1bWVudHNbb107ZSYmZS5hcHBseSYmZS5hcHBseSh0aGlzLHIpLGkub2ZmKHQsbil9KSxuKX07dmFyIHh2PVtcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2VvdmVyXCIsXCJtb3VzZW91dFwiLFwibW91c2Vtb3ZlXCIsXCJtb3VzZWRvd25cIixcIm1vdXNldXBcIixcImdsb2JhbG91dFwiLFwiY29udGV4dG1lbnVcIl07ZnVuY3Rpb24gYnYodCl7MH12YXIgd3Y9e30sU3Y9e30sTXY9W10sSXY9W10sVHY9W10sQ3Y9W10sQXY9W10sRHY9e30sTHY9e30sa3Y9e30sUHY9e30sT3Y9K25ldyBEYXRlLTAsUnY9K25ldyBEYXRlLTAsTnY9XCJfZWNoYXJ0c19pbnN0YW5jZV9cIjtmdW5jdGlvbiBFdih0KXtQdlt0XT0hMX12YXIgenY9RXY7ZnVuY3Rpb24gQnYodCl7cmV0dXJuIGt2W2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlP3QuZ2V0QXR0cmlidXRlKGUpOnRbZV19KHQsTnYpXX1mdW5jdGlvbiBWdih0LGUpe0R2W3RdPWV9ZnVuY3Rpb24gRnYodCl7VnkoSXYsdCk8MCYmSXYucHVzaCh0KX1mdW5jdGlvbiBHdih0LGUpe3F2KE12LHQsZSwyZTMpfWZ1bmN0aW9uIEh2KHQpe1Z5KFR2LHQpPDAmJnQmJlR2LnB1c2godCl9ZnVuY3Rpb24gV3YodCl7VnkoQ3YsdCk8MCYmdCYmQ3YucHVzaCh0KX1mdW5jdGlvbiBZdih0LGUsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKG49ZSxlPVwiXCIpO3ZhciBpPUJ5KHQpP3QudHlwZTpbdCx0PXtldmVudDplfV1bMF07dC5ldmVudD0odC5ldmVudHx8aSkudG9Mb3dlckNhc2UoKSxlPXQuZXZlbnQsU3ZbZV18fChOeShZeS50ZXN0KGkpJiZZeS50ZXN0KGUpKSx3dltpXXx8KHd2W2ldPXthY3Rpb246bixhY3Rpb25JbmZvOnR9KSxTdltlXT1pKX1mdW5jdGlvbiBYdih0LGUpe19wLnJlZ2lzdGVyKHQsZSl9ZnVuY3Rpb24gVXYodCxlKXtxdihBdix0LGUsMWUzLFwibGF5b3V0XCIpfWZ1bmN0aW9uIFp2KHQsZSl7cXYoQXYsdCxlLDNlMyxcInZpc3VhbFwiKX12YXIganY9W107ZnVuY3Rpb24gcXYodCxlLG4saSxyKXtpZigoenkoZSl8fEJ5KGUpKSYmKG49ZSxlPWkpLCEoVnkoanYsbik+PTApKXtqdi5wdXNoKG4pO3ZhciBvPXpmLndyYXBTdGFnZUhhbmRsZXIobixyKTtvLl9fcHJpbz1lLG8uX19yYXc9bix0LnB1c2gobyl9fWZ1bmN0aW9uIEt2KHQsZSl7THZbdF09ZX1mdW5jdGlvbiAkdih0LGUsbil7c2codCxlLG4pfXZhciBKdj1mdW5jdGlvbih0KXt2YXIgZT0odD13KHQpKS50eXBlLG49XCJcIjtlfHx5cihuKTt2YXIgaT1lLnNwbGl0KFwiOlwiKTsyIT09aS5sZW5ndGgmJnlyKG4pO3ZhciByPSExO1wiZWNoYXJ0c1wiPT09aVswXSYmKGU9aVsxXSxyPSEwKSx0Ll9faXNCdWlsdEluPXIsUmQuc2V0KGUsdCl9O1p2KEd5LFBmKSxadihIeSxSZiksWnYoSHksTmYpLFp2KEd5LGNnKSxadihIeSx7Y3JlYXRlT25BbGxTZXJpZXM6ITAscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe2lmKHQuaGFzU3ltYm9sVmlzdWFsJiYhZS5pc1Nlcmllc0ZpbHRlcmVkKHQpKXJldHVybntkYXRhRWFjaDp0LmdldERhdGEoKS5oYXNJdGVtT3B0aW9uP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJdGVtTW9kZWwoZSksaT1uLmdldFNoYWxsb3coXCJzeW1ib2xcIiwhMCkscj1uLmdldFNoYWxsb3coXCJzeW1ib2xTaXplXCIsITApLG89bi5nZXRTaGFsbG93KFwic3ltYm9sUm90YXRlXCIsITApLGE9bi5nZXRTaGFsbG93KFwic3ltYm9sS2VlcEFzcGVjdFwiLCEwKTtudWxsIT1pJiZ0LnNldEl0ZW1WaXN1YWwoZSxcInN5bWJvbFwiLGkpLG51bGwhPXImJnQuc2V0SXRlbVZpc3VhbChlLFwic3ltYm9sU2l6ZVwiLHIpLG51bGwhPW8mJnQuc2V0SXRlbVZpc3VhbChlLFwic3ltYm9sUm90YXRlXCIsbyksbnVsbCE9YSYmdC5zZXRJdGVtVmlzdWFsKGUsXCJzeW1ib2xLZWVwQXNwZWN0XCIsYSl9Om51bGx9fX0pLFp2KDdlMywoZnVuY3Rpb24odCxlKXt0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKG4pe2lmKCF0LmlzU2VyaWVzRmlsdGVyZWQobikpe3ZhciBpPW4uZ2V0RGF0YSgpO2kuaGFzSXRlbVZpc3VhbCgpJiZpLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPWkuZ2V0SXRlbVZpc3VhbCh0LFwiZGVjYWxcIik7biYmKGkuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LFwic3R5bGVcIikuZGVjYWw9a3kobixlKSl9KSk7dmFyIHI9aS5nZXRWaXN1YWwoXCJkZWNhbFwiKTtpZihyKWkuZ2V0VmlzdWFsKFwic3R5bGVcIikuZGVjYWw9a3kocixlKX19KSl9KSksRnYoSHApLEd2KDkwMCwoZnVuY3Rpb24odCl7dmFyIGU9aHQoKTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0KFwic3RhY2tcIik7aWYobil7dmFyIGk9ZS5nZXQobil8fGUuc2V0KG4sW10pLHI9dC5nZXREYXRhKCksbz17c3RhY2tSZXN1bHREaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja1Jlc3VsdERpbWVuc2lvblwiKSxzdGFja2VkT3ZlckRpbWVuc2lvbjpyLmdldENhbGN1bGF0aW9uSW5mbyhcInN0YWNrZWRPdmVyRGltZW5zaW9uXCIpLHN0YWNrZWREaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja2VkRGltZW5zaW9uXCIpLHN0YWNrZWRCeURpbWVuc2lvbjpyLmdldENhbGN1bGF0aW9uSW5mbyhcInN0YWNrZWRCeURpbWVuc2lvblwiKSxpc1N0YWNrZWRCeUluZGV4OnIuZ2V0Q2FsY3VsYXRpb25JbmZvKFwiaXNTdGFja2VkQnlJbmRleFwiKSxkYXRhOnIsc2VyaWVzTW9kZWw6dH07aWYoIW8uc3RhY2tlZERpbWVuc2lvbnx8IW8uaXNTdGFja2VkQnlJbmRleCYmIW8uc3RhY2tlZEJ5RGltZW5zaW9uKXJldHVybjtpLmxlbmd0aCYmci5zZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja2VkT25TZXJpZXNcIixpW2kubGVuZ3RoLTFdLnNlcmllc01vZGVsKSxpLnB1c2gobyl9fSkpLGUuZWFjaChXcCl9KSksS3YoXCJkZWZhdWx0XCIsKGZ1bmN0aW9uKHQsZSl7VChlPWV8fHt9LHt0ZXh0OlwibG9hZGluZ1wiLHRleHRDb2xvcjpcIiMwMDBcIixmb250U2l6ZToxMixmb250V2VpZ2h0Olwibm9ybWFsXCIsZm9udFN0eWxlOlwibm9ybWFsXCIsZm9udEZhbWlseTpcInNhbnMtc2VyaWZcIixtYXNrQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOClcIixzaG93U3Bpbm5lcjohMCxjb2xvcjpcIiM1NDcwYzZcIixzcGlubmVyUmFkaXVzOjEwLGxpbmVXaWR0aDo1LHpsZXZlbDowfSk7dmFyIG49bmV3IHppLGk9bmV3IG9zKHtzdHlsZTp7ZmlsbDplLm1hc2tDb2xvcn0semxldmVsOmUuemxldmVsLHo6MWU0fSk7bi5hZGQoaSk7dmFyIHIsbz1uZXcgbHMoe3N0eWxlOnt0ZXh0OmUudGV4dCxmaWxsOmUudGV4dENvbG9yLGZvbnRTaXplOmUuZm9udFNpemUsZm9udFdlaWdodDplLmZvbnRXZWlnaHQsZm9udFN0eWxlOmUuZm9udFN0eWxlLGZvbnRGYW1pbHk6ZS5mb250RmFtaWx5fX0pLGE9bmV3IG9zKHtzdHlsZTp7ZmlsbDpcIm5vbmVcIn0sdGV4dENvbnRlbnQ6byx0ZXh0Q29uZmlnOntwb3NpdGlvbjpcInJpZ2h0XCIsZGlzdGFuY2U6MTB9LHpsZXZlbDplLnpsZXZlbCx6OjEwMDAxfSk7cmV0dXJuIG4uYWRkKGEpLGUuc2hvd1NwaW5uZXImJigocj1uZXcgYXUoe3NoYXBlOntzdGFydEFuZ2xlOi1FZi8yLGVuZEFuZ2xlOi1FZi8yKy4xLHI6ZS5zcGlubmVyUmFkaXVzfSxzdHlsZTp7c3Ryb2tlOmUuY29sb3IsbGluZUNhcDpcInJvdW5kXCIsbGluZVdpZHRoOmUubGluZVdpZHRofSx6bGV2ZWw6ZS56bGV2ZWwsejoxMDAwMX0pKS5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtlbmRBbmdsZTozKkVmLzJ9KS5zdGFydChcImNpcmN1bGFySW5PdXRcIiksci5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtzdGFydEFuZ2xlOjMqRWYvMn0pLmRlbGF5KDMwMCkuc3RhcnQoXCJjaXJjdWxhckluT3V0XCIpLG4uYWRkKHIpKSxuLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciBuPW8uZ2V0Qm91bmRpbmdSZWN0KCkud2lkdGgscz1lLnNob3dTcGlubmVyP2Uuc3Bpbm5lclJhZGl1czowLGw9KHQuZ2V0V2lkdGgoKS0yKnMtKGUuc2hvd1NwaW5uZXImJm4/MTA6MCktbikvMi0oZS5zaG93U3Bpbm5lciYmbj8wOjUrbi8yKSsoZS5zaG93U3Bpbm5lcj8wOm4vMikrKG4/MDpzKSx1PXQuZ2V0SGVpZ2h0KCkvMjtlLnNob3dTcGlubmVyJiZyLnNldFNoYXBlKHtjeDpsLGN5OnV9KSxhLnNldFNoYXBlKHt4Omwtcyx5OnUtcyx3aWR0aDoyKnMsaGVpZ2h0OjIqc30pLGkuc2V0U2hhcGUoe3g6MCx5OjAsd2lkdGg6dC5nZXRXaWR0aCgpLGhlaWdodDp0LmdldEhlaWdodCgpfSl9LG4ucmVzaXplKCksbn0pKSxZdih7dHlwZTp3cyxldmVudDp3cyx1cGRhdGU6d3N9LGZ0KSxZdih7dHlwZTpTcyxldmVudDpTcyx1cGRhdGU6U3N9LGZ0KSxZdih7dHlwZTpNcyxldmVudDpNcyx1cGRhdGU6TXN9LGZ0KSxZdih7dHlwZTpJcyxldmVudDpJcyx1cGRhdGU6SXN9LGZ0KSxZdih7dHlwZTpUcyxldmVudDpUcyx1cGRhdGU6VHN9LGZ0KSxWdihcImxpZ2h0XCIsUWYpLFZ2KFwiZGFya1wiLHJnKTt2YXIgUXY9W10sdG09e3JlZ2lzdGVyUHJlcHJvY2Vzc29yOkZ2LHJlZ2lzdGVyUHJvY2Vzc29yOkd2LHJlZ2lzdGVyUG9zdEluaXQ6SHYscmVnaXN0ZXJQb3N0VXBkYXRlOld2LHJlZ2lzdGVyQWN0aW9uOll2LHJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbTpYdixyZWdpc3RlckxheW91dDpVdixyZWdpc3RlclZpc3VhbDpadixyZWdpc3RlclRyYW5zZm9ybTpKdixyZWdpc3RlckxvYWRpbmc6S3YscmVnaXN0ZXJNYXA6JHYsUFJJT1JJVFk6V3ksQ29tcG9uZW50TW9kZWw6TmMsQ29tcG9uZW50VmlldzpwZixTZXJpZXNNb2RlbDpyZixDaGFydFZpZXc6eWYscmVnaXN0ZXJDb21wb25lbnRNb2RlbDpmdW5jdGlvbih0KXtOYy5yZWdpc3RlckNsYXNzKHQpfSxyZWdpc3RlckNvbXBvbmVudFZpZXc6ZnVuY3Rpb24odCl7cGYucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJTZXJpZXNNb2RlbDpmdW5jdGlvbih0KXtyZi5yZWdpc3RlckNsYXNzKHQpfSxyZWdpc3RlckNoYXJ0VmlldzpmdW5jdGlvbih0KXt5Zi5yZWdpc3RlckNsYXNzKHQpfSxyZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXI6ZnVuY3Rpb24odCxlKXtOYy5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIodCxlKX0scmVnaXN0ZXJQYWludGVyOmZ1bmN0aW9uKHQsZSl7V2kodCxlKX19O2Z1bmN0aW9uIGVtKHQpe0YodCk/UCh0LChmdW5jdGlvbih0KXtlbSh0KX0pKTpBKFF2LHQpPj0wfHwoUXYucHVzaCh0KSxHKHQpJiYodD17aW5zdGFsbDp0fSksdC5pbnN0YWxsKHRtKSl9ZnVuY3Rpb24gbm0odCl7cmV0dXJuIG51bGw9PXQ/MDp0Lmxlbmd0aHx8MX1mdW5jdGlvbiBpbSh0KXtyZXR1cm4gdH12YXIgcm09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkscixvKXt0aGlzLl9vbGQ9dCx0aGlzLl9uZXc9ZSx0aGlzLl9vbGRLZXlHZXR0ZXI9bnx8aW0sdGhpcy5fbmV3S2V5R2V0dGVyPWl8fGltLHRoaXMuY29udGV4dD1yLHRoaXMuX2RpZmZNb2RlTXVsdGlwbGU9XCJtdWx0aXBsZVwiPT09b31yZXR1cm4gdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGQ9dCx0aGlzfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZT10LHRoaXN9LHQucHJvdG90eXBlLnVwZGF0ZU1hbnlUb09uZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlTWFueVRvT25lPXQsdGhpc30sdC5wcm90b3R5cGUudXBkYXRlT25lVG9NYW55PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91cGRhdGVPbmVUb01hbnk9dCx0aGlzfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlbW92ZT10LHRoaXN9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX2RpZmZNb2RlTXVsdGlwbGU/XCJfZXhlY3V0ZU11bHRpcGxlXCI6XCJfZXhlY3V0ZU9uZVRvT25lXCJdKCl9LHQucHJvdG90eXBlLl9leGVjdXRlT25lVG9PbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vbGQsZT10aGlzLl9uZXcsbj17fSxpPW5ldyBBcnJheSh0Lmxlbmd0aCkscj1uZXcgQXJyYXkoZS5sZW5ndGgpO3RoaXMuX2luaXRJbmRleE1hcCh0LG51bGwsaSxcIl9vbGRLZXlHZXR0ZXJcIiksdGhpcy5faW5pdEluZGV4TWFwKGUsbixyLFwiX25ld0tleUdldHRlclwiKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxzPW5bYV0sbD1ubShzKTtpZihsPjEpe3ZhciB1PXMuc2hpZnQoKTsxPT09cy5sZW5ndGgmJihuW2FdPXNbMF0pLHRoaXMuX3VwZGF0ZSYmdGhpcy5fdXBkYXRlKHUsbyl9ZWxzZSAxPT09bD8oblthXT1udWxsLHRoaXMuX3VwZGF0ZSYmdGhpcy5fdXBkYXRlKHMsbykpOnRoaXMuX3JlbW92ZSYmdGhpcy5fcmVtb3ZlKG8pfXRoaXMuX3BlcmZvcm1SZXN0QWRkKHIsbil9LHQucHJvdG90eXBlLl9leGVjdXRlTXVsdGlwbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vbGQsZT10aGlzLl9uZXcsbj17fSxpPXt9LHI9W10sbz1bXTt0aGlzLl9pbml0SW5kZXhNYXAodCxuLHIsXCJfb2xkS2V5R2V0dGVyXCIpLHRoaXMuX2luaXRJbmRleE1hcChlLGksbyxcIl9uZXdLZXlHZXR0ZXJcIik7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBzPXJbYV0sbD1uW3NdLHU9aVtzXSxoPW5tKGwpLGM9bm0odSk7aWYoaD4xJiYxPT09Yyl0aGlzLl91cGRhdGVNYW55VG9PbmUmJnRoaXMuX3VwZGF0ZU1hbnlUb09uZSh1LGwpLGlbc109bnVsbDtlbHNlIGlmKDE9PT1oJiZjPjEpdGhpcy5fdXBkYXRlT25lVG9NYW55JiZ0aGlzLl91cGRhdGVPbmVUb01hbnkodSxsKSxpW3NdPW51bGw7ZWxzZSBpZigxPT09aCYmMT09PWMpdGhpcy5fdXBkYXRlJiZ0aGlzLl91cGRhdGUodSxsKSxpW3NdPW51bGw7ZWxzZSBpZihoPjEpZm9yKHZhciBwPTA7cDxoO3ArKyl0aGlzLl9yZW1vdmUmJnRoaXMuX3JlbW92ZShsW3BdKTtlbHNlIHRoaXMuX3JlbW92ZSYmdGhpcy5fcmVtb3ZlKGwpfXRoaXMuX3BlcmZvcm1SZXN0QWRkKG8saSl9LHQucHJvdG90eXBlLl9wZXJmb3JtUmVzdEFkZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9ZVtpXSxvPW5tKHIpO2lmKG8+MSlmb3IodmFyIGE9MDthPG87YSsrKXRoaXMuX2FkZCYmdGhpcy5fYWRkKHJbYV0pO2Vsc2UgMT09PW8mJnRoaXMuX2FkZCYmdGhpcy5fYWRkKHIpO2VbaV09bnVsbH19LHQucHJvdG90eXBlLl9pbml0SW5kZXhNYXA9ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXRoaXMuX2RpZmZNb2RlTXVsdGlwbGUsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT1cIl9lY19cIit0aGlzW2ldKHRbb10sbyk7aWYocnx8KG5bb109YSksZSl7dmFyIHM9ZVthXSxsPW5tKHMpOzA9PT1sPyhlW2FdPW8sciYmbi5wdXNoKGEpKToxPT09bD9lW2FdPVtzLG9dOnMucHVzaChvKX19fSx0fSgpO2Z1bmN0aW9uIG9tKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl8fCh0W2VdPVtdKSx0W2VdfWZ1bmN0aW9uIGFtKHQpe3JldHVyblwiY2F0ZWdvcnlcIj09PXQ/XCJvcmRpbmFsXCI6XCJ0aW1lXCI9PT10P1widGltZVwiOlwiZmxvYXRcIn12YXIgc20sbG0sdW0saG0sY20scG0sZG0sZm0sZ20seW0sdm0sbW0sX20seG0sYm09ZnVuY3Rpb24odCl7dGhpcy5vdGhlckRpbXM9e30sbnVsbCE9dCYmSSh0aGlzLHQpfSx3bT1NYXRoLmZsb29yLFNtPVgsTW09TyxJbT1cInVuZGVmaW5lZFwiLFRtPXtmbG9hdDp0eXBlb2YgRmxvYXQ2NEFycmF5PT09SW0/QXJyYXk6RmxvYXQ2NEFycmF5LGludDp0eXBlb2YgSW50MzJBcnJheT09PUltP0FycmF5OkludDMyQXJyYXksb3JkaW5hbDpBcnJheSxudW1iZXI6QXJyYXksdGltZTpBcnJheX0sQ209dHlwZW9mIFVpbnQzMkFycmF5PT09SW0/QXJyYXk6VWludDMyQXJyYXksQW09dHlwZW9mIEludDMyQXJyYXk9PT1JbT9BcnJheTpJbnQzMkFycmF5LERtPXR5cGVvZiBVaW50MTZBcnJheT09PUltP0FycmF5OlVpbnQxNkFycmF5LExtPVtcImhhc0l0ZW1PcHRpb25cIixcIl9uYW1lTGlzdFwiLFwiX2lkTGlzdFwiLFwiX2ludmVydGVkSW5kaWNlc01hcFwiLFwiX3Jhd0RhdGFcIixcIl9kaW1WYWx1ZUdldHRlclwiLFwiX2NvdW50XCIsXCJfcmF3Q291bnRcIixcIl9uYW1lRGltSWR4XCIsXCJfaWREaW1JZHhcIixcIl9uYW1lUmVwZWF0Q291bnRcIl0sa209W1wiX2V4dGVudFwiLFwiX2FwcHJveGltYXRlRXh0ZW50XCIsXCJfcmF3RXh0ZW50XCJdLFBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudHlwZT1cImxpc3RcIix0aGlzLl9jb3VudD0wLHRoaXMuX3Jhd0NvdW50PTAsdGhpcy5fc3RvcmFnZT17fSx0aGlzLl9zdG9yYWdlQXJyPVtdLHRoaXMuX25hbWVMaXN0PVtdLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl92aXN1YWw9e30sdGhpcy5fbGF5b3V0PXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuX2l0ZW1MYXlvdXRzPVtdLHRoaXMuX2dyYXBoaWNFbHM9W10sdGhpcy5fcmF3RXh0ZW50PXt9LHRoaXMuX2V4dGVudD17fSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudD17fSx0aGlzLl9jYWxjdWxhdGlvbkluZm89e30sdGhpcy5oYXNJdGVtT3B0aW9uPSEwLHRoaXMuVFJBTlNGRVJBQkxFX01FVEhPRFM9W1wiY2xvbmVTaGFsbG93XCIsXCJkb3duU2FtcGxlXCIsXCJsdHRiRG93blNhbXBsZVwiLFwibWFwXCJdLHRoaXMuQ0hBTkdBQkxFX01FVEhPRFM9W1wiZmlsdGVyU2VsZlwiLFwic2VsZWN0UmFuZ2VcIl0sdGhpcy5ET1dOU0FNUExFX01FVEhPRFM9W1wiZG93blNhbXBsZVwiLFwibHR0YkRvd25TYW1wbGVcIl0sdGhpcy5nZXRSYXdJbmRleD1jbSx0PXR8fFtcInhcIixcInlcIl07Zm9yKHZhciBuPXt9LGk9W10scj17fSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPXRbb10scz1IKGEpP25ldyBibSh7bmFtZTphfSk6YSBpbnN0YW5jZW9mIGJtP2E6bmV3IGJtKGEpLGw9cy5uYW1lO3MudHlwZT1zLnR5cGV8fFwiZmxvYXRcIixzLmNvb3JkRGltfHwocy5jb29yZERpbT1sLHMuY29vcmREaW1JbmRleD0wKTt2YXIgdT1zLm90aGVyRGltcz1zLm90aGVyRGltc3x8e307aS5wdXNoKGwpLG5bbF09cyxzLmluZGV4PW8scy5jcmVhdGVJbnZlcnRlZEluZGljZXMmJihyW2xdPVtdKSwwPT09dS5pdGVtTmFtZSYmKHRoaXMuX25hbWVEaW1JZHg9byx0aGlzLl9uYW1lT3JkaW5hbE1ldGE9cy5vcmRpbmFsTWV0YSksMD09PXUuaXRlbUlkJiYodGhpcy5faWREaW1JZHg9byx0aGlzLl9pZE9yZGluYWxNZXRhPXMub3JkaW5hbE1ldGEpfXRoaXMuZGltZW5zaW9ucz1pLHRoaXMuX2RpbWVuc2lvbkluZm9zPW4sdGhpcy5ob3N0TW9kZWw9ZSx0aGlzLl9kaW1lbnNpb25zU3VtbWFyeT1mdW5jdGlvbih0KXt2YXIgZT17fSxuPWUuZW5jb2RlPXt9LGk9aHQoKSxyPVtdLG89W10sYT1lLnVzZXJPdXRwdXQ9e2RpbWVuc2lvbk5hbWVzOnQuZGltZW5zaW9ucy5zbGljZSgpLGVuY29kZTp7fX07UCh0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKGUpe3ZhciBzLGw9dC5nZXREaW1lbnNpb25JbmZvKGUpLHU9bC5jb29yZERpbTtpZih1KXt2YXIgaD1sLmNvb3JkRGltSW5kZXg7b20obix1KVtoXT1lLGwuaXNFeHRyYUNvb3JkfHwoaS5zZXQodSwxKSxcIm9yZGluYWxcIiE9PShzPWwudHlwZSkmJlwidGltZVwiIT09cyYmKHJbMF09ZSksb20oYS5lbmNvZGUsdSlbaF09bC5pbmRleCksbC5kZWZhdWx0VG9vbHRpcCYmby5wdXNoKGUpfVZjLmVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIGk9b20obixlKSxyPWwub3RoZXJEaW1zW2VdO251bGwhPXImJiExIT09ciYmKGlbcl09bC5uYW1lKX0pKX0pKTt2YXIgcz1bXSxsPXt9O2kuZWFjaCgoZnVuY3Rpb24odCxlKXt2YXIgaT1uW2VdO2xbZV09aVswXSxzPXMuY29uY2F0KGkpfSkpLGUuZGF0YURpbXNPbkNvb3JkPXMsZS5lbmNvZGVGaXJzdERpbU5vdEV4dHJhPWw7dmFyIHU9bi5sYWJlbDt1JiZ1Lmxlbmd0aCYmKHI9dS5zbGljZSgpKTt2YXIgaD1uLnRvb2x0aXA7cmV0dXJuIGgmJmgubGVuZ3RoP289aC5zbGljZSgpOm8ubGVuZ3RofHwobz1yLnNsaWNlKCkpLG4uZGVmYXVsdGVkTGFiZWw9cixuLmRlZmF1bHRlZFRvb2x0aXA9byxlfSh0aGlzKSx0aGlzLl9pbnZlcnRlZEluZGljZXNNYXA9cix0aGlzLnVzZXJPdXRwdXQ9dGhpcy5fZGltZW5zaW9uc1N1bW1hcnkudXNlck91dHB1dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0JiYoaXNOYU4odCl8fHRoaXMuX2RpbWVuc2lvbkluZm9zLmhhc093blByb3BlcnR5KHQpKXx8KHQ9dGhpcy5kaW1lbnNpb25zW3RdKSx0fSx0LnByb3RvdHlwZS5nZXREaW1lbnNpb25JbmZvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kaW1lbnNpb25JbmZvc1t0aGlzLmdldERpbWVuc2lvbih0KV19LHQucHJvdG90eXBlLmdldERpbWVuc2lvbnNPbkNvb3JkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5LmRhdGFEaW1zT25Db29yZC5zbGljZSgpfSx0LnByb3RvdHlwZS5tYXBEaW1lbnNpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9kaW1lbnNpb25zU3VtbWFyeTtpZihudWxsPT1lKXJldHVybiBuLmVuY29kZUZpcnN0RGltTm90RXh0cmFbdF07dmFyIGk9bi5lbmNvZGVbdF07cmV0dXJuIGk/aVtlXTpudWxsfSx0LnByb3RvdHlwZS5tYXBEaW1lbnNpb25zQWxsPWZ1bmN0aW9uKHQpe3JldHVybih0aGlzLl9kaW1lbnNpb25zU3VtbWFyeS5lbmNvZGVbdF18fFtdKS5zbGljZSgpfSx0LnByb3RvdHlwZS5pbml0RGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9S3AodCl8fGsodCkscj1pP25ldyBpZCh0LHRoaXMuZGltZW5zaW9ucy5sZW5ndGgpOnQ7dGhpcy5fcmF3RGF0YT1yO3ZhciBvPXIuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0O3RoaXMuX3N0b3JhZ2U9e30sdGhpcy5faW5kaWNlcz1udWxsLHRoaXMuX2RvbnRNYWtlSWRGcm9tTmFtZT1udWxsIT10aGlzLl9pZERpbUlkeHx8bz09PVljfHwhIXIuZmlsbFN0b3JhZ2UsdGhpcy5fbmFtZUxpc3Q9KGV8fFtdKS5zbGljZSgpLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl9uYW1lUmVwZWF0Q291bnQ9e30sbnx8KHRoaXMuaGFzSXRlbU9wdGlvbj0hMSksdGhpcy5kZWZhdWx0RGltVmFsdWVHZXR0ZXI9c21bb10sdGhpcy5fZGltVmFsdWVHZXR0ZXI9bj1ufHx0aGlzLmRlZmF1bHREaW1WYWx1ZUdldHRlcix0aGlzLl9kaW1WYWx1ZUdldHRlckFycmF5Um93cz1zbS5hcnJheVJvd3MsdGhpcy5fcmF3RXh0ZW50PXt9LHRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKDAsci5jb3VudCgpKSxyLnB1cmUmJih0aGlzLmhhc0l0ZW1PcHRpb249ITEpfSx0LnByb3RvdHlwZS5nZXRQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYXdEYXRhfSx0LnByb3RvdHlwZS5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Jhd0RhdGEsbj10aGlzLmNvdW50KCk7ZS5hcHBlbmREYXRhKHQpO3ZhciBpPWUuY291bnQoKTtlLnBlcnNpc3RlbnR8fChpKz1uKSx0aGlzLl9pbml0RGF0YUZyb21Qcm92aWRlcihuLGksITApfSx0LnByb3RvdHlwZS5hcHBlbmRWYWx1ZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fc3RvcmFnZSxpPXRoaXMuZGltZW5zaW9ucyxyPWkubGVuZ3RoLG89dGhpcy5fcmF3RXh0ZW50LGE9dGhpcy5jb3VudCgpLHM9YStNYXRoLm1heCh0Lmxlbmd0aCxlP2UubGVuZ3RoOjApLGw9MDtsPHI7bCsrKXt2YXIgdT1pW2xdO29bdV18fChvW3VdPW1tKCkpLGhtKG4sdGhpcy5fZGltZW5zaW9uSW5mb3NbdV0scywhMCl9Zm9yKHZhciBoPU1tKGksKGZ1bmN0aW9uKHQpe3JldHVybiBvW3RdfSkpLGM9dGhpcy5fc3RvcmFnZUFycj1NbShpLChmdW5jdGlvbih0KXtyZXR1cm4gblt0XX0pKSxwPVtdLGQ9YTtkPHM7ZCsrKXtmb3IodmFyIGY9ZC1hLGc9MDtnPHI7ZysrKXt1PWlbZ107dmFyIHk9dGhpcy5fZGltVmFsdWVHZXR0ZXJBcnJheVJvd3ModFtmXXx8cCx1LGYsZyk7Y1tnXVtkXT15O3ZhciB2PWhbZ107eTx2WzBdJiYodlswXT15KSx5PnZbMV0mJih2WzFdPXkpfWUmJih0aGlzLl9uYW1lTGlzdFtkXT1lW2ZdLHRoaXMuX2RvbnRNYWtlSWRGcm9tTmFtZXx8Z20odGhpcyxkKSl9dGhpcy5fcmF3Q291bnQ9dGhpcy5fY291bnQ9cyx0aGlzLl9leHRlbnQ9e30sbG0odGhpcyl9LHQucHJvdG90eXBlLl9pbml0RGF0YUZyb21Qcm92aWRlcj1mdW5jdGlvbih0LGUsbil7aWYoISh0Pj1lKSl7Zm9yKHZhciBpPXRoaXMuX3Jhd0RhdGEscj10aGlzLl9zdG9yYWdlLG89dGhpcy5kaW1lbnNpb25zLGE9by5sZW5ndGgscz10aGlzLl9kaW1lbnNpb25JbmZvcyxsPXRoaXMuX25hbWVMaXN0LHU9dGhpcy5faWRMaXN0LGg9dGhpcy5fcmF3RXh0ZW50LGM9aS5nZXRTb3VyY2UoKS5zb3VyY2VGb3JtYXQ9PT1GYyxwPTA7cDxhO3ArKyl7dmFyIGQ9b1twXTtoW2RdfHwoaFtkXT1tbSgpKSxobShyLHNbZF0sZSxuKX12YXIgZj10aGlzLl9zdG9yYWdlQXJyPU1tKG8sKGZ1bmN0aW9uKHQpe3JldHVybiByW3RdfSkpLGc9TW0obywoZnVuY3Rpb24odCl7cmV0dXJuIGhbdF19KSk7aWYoaS5maWxsU3RvcmFnZSlpLmZpbGxTdG9yYWdlKHQsZSxmLGcpO2Vsc2UgZm9yKHZhciB5PVtdLHY9dDt2PGU7disrKXt5PWkuZ2V0SXRlbSh2LHkpO2Zvcih2YXIgbT0wO208YTttKyspe2Q9b1ttXTt2YXIgXz1mW21dLHg9dGhpcy5fZGltVmFsdWVHZXR0ZXIoeSxkLHYsbSk7X1t2XT14O3ZhciBiPWdbbV07eDxiWzBdJiYoYlswXT14KSx4PmJbMV0mJihiWzFdPXgpfWlmKGMmJiFpLnB1cmUmJnkpe3ZhciB3PXkubmFtZTtudWxsPT1sW3ZdJiZudWxsIT13JiYobFt2XT1Ucih3LG51bGwpKTt2YXIgUz15LmlkO251bGw9PXVbdl0mJm51bGwhPVMmJih1W3ZdPVRyKFMsbnVsbCkpfXRoaXMuX2RvbnRNYWtlSWRGcm9tTmFtZXx8Z20odGhpcyx2KX0haS5wZXJzaXN0ZW50JiZpLmNsZWFuJiZpLmNsZWFuKCksdGhpcy5fcmF3Q291bnQ9dGhpcy5fY291bnQ9ZSx0aGlzLl9leHRlbnQ9e30sbG0odGhpcyl9fSx0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sdC5wcm90b3R5cGUuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5faW5kaWNlcztpZihlKXt2YXIgbj1lLmNvbnN0cnVjdG9yLGk9dGhpcy5fY291bnQ7aWYobj09PUFycmF5KXt0PW5ldyBuKGkpO2Zvcih2YXIgcj0wO3I8aTtyKyspdFtyXT1lW3JdfWVsc2UgdD1uZXcgbihlLmJ1ZmZlciwwLGkpfWVsc2V7dD1uZXcobj11bSh0aGlzKSkodGhpcy5jb3VudCgpKTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXRbcl09cn1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0QnlEaW1JZHg9ZnVuY3Rpb24odCxlKXtpZighKGU+PTAmJmU8dGhpcy5fY291bnQpKXJldHVybiBOYU47dmFyIG49dGhpcy5fc3RvcmFnZUFyclt0XTtyZXR1cm4gbj9uW3RoaXMuZ2V0UmF3SW5kZXgoZSldOk5hTn0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7aWYoIShlPj0wJiZlPHRoaXMuX2NvdW50KSlyZXR1cm4gTmFOO3ZhciBuPXRoaXMuX3N0b3JhZ2VbdF07cmV0dXJuIG4/blt0aGlzLmdldFJhd0luZGV4KGUpXTpOYU59LHQucHJvdG90eXBlLmdldEJ5UmF3SW5kZXg9ZnVuY3Rpb24odCxlKXtpZighKGU+PTAmJmU8dGhpcy5fcmF3Q291bnQpKXJldHVybiBOYU47dmFyIG49dGhpcy5fc3RvcmFnZVt0XTtyZXR1cm4gbj9uW2VdOk5hTn0sdC5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107Rih0KXx8KGU9dCx0PXRoaXMuZGltZW5zaW9ucyk7Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKW4ucHVzaCh0aGlzLmdldCh0W2ldLGUpKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuaGFzVmFsdWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5LmRhdGFEaW1zT25Db29yZCxuPTAsaT1lLmxlbmd0aDtuPGk7bisrKWlmKGlzTmFOKHRoaXMuZ2V0KGVbbl0sdCkpKXJldHVybiExO3JldHVybiEwfSx0LnByb3RvdHlwZS5nZXREYXRhRXh0ZW50PWZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXREaW1lbnNpb24odCk7dmFyIGU9dGhpcy5fc3RvcmFnZVt0XSxuPW1tKCk7aWYoIWUpcmV0dXJuIG47dmFyIGkscj10aGlzLmNvdW50KCk7aWYoIXRoaXMuX2luZGljZXMpcmV0dXJuIHRoaXMuX3Jhd0V4dGVudFt0XS5zbGljZSgpO2lmKGk9dGhpcy5fZXh0ZW50W3RdKXJldHVybiBpLnNsaWNlKCk7Zm9yKHZhciBvPShpPW4pWzBdLGE9aVsxXSxzPTA7czxyO3MrKyl7dmFyIGw9ZVt0aGlzLmdldFJhd0luZGV4KHMpXTtsPG8mJihvPWwpLGw+YSYmKGE9bCl9cmV0dXJuIGk9W28sYV0sdGhpcy5fZXh0ZW50W3RdPWksaX0sdC5wcm90b3R5cGUuZ2V0QXBwcm94aW1hdGVFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5nZXREaW1lbnNpb24odCksdGhpcy5fYXBwcm94aW1hdGVFeHRlbnRbdF18fHRoaXMuZ2V0RGF0YUV4dGVudCh0KX0sdC5wcm90b3R5cGUuc2V0QXBwcm94aW1hdGVFeHRlbnQ9ZnVuY3Rpb24odCxlKXtlPXRoaXMuZ2V0RGltZW5zaW9uKGUpLHRoaXMuX2FwcHJveGltYXRlRXh0ZW50W2VdPXQuc2xpY2UoKX0sdC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRpb25JbmZvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYWxjdWxhdGlvbkluZm9bdF19LHQucHJvdG90eXBlLnNldENhbGN1bGF0aW9uSW5mbz1mdW5jdGlvbih0LGUpe1NtKHQpP0kodGhpcy5fY2FsY3VsYXRpb25JbmZvLHQpOnRoaXMuX2NhbGN1bGF0aW9uSW5mb1t0XT1lfSx0LnByb3RvdHlwZS5nZXRTdW09ZnVuY3Rpb24odCl7dmFyIGU9MDtpZih0aGlzLl9zdG9yYWdlW3RdKWZvcih2YXIgbj0wLGk9dGhpcy5jb3VudCgpO248aTtuKyspe3ZhciByPXRoaXMuZ2V0KHQsbik7aXNOYU4ocil8fChlKz1yKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0TWVkaWFuPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3RoaXMuZWFjaCh0LChmdW5jdGlvbih0KXtpc05hTih0KXx8ZS5wdXNoKHQpfSkpO3ZhciBuPWUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpLGk9dGhpcy5jb3VudCgpO3JldHVybiAwPT09aT8wOmklMj09MT9uWyhpLTEpLzJdOihuW2kvMl0rbltpLzItMV0pLzJ9LHQucHJvdG90eXBlLnJhd0luZGV4T2Y9ZnVuY3Rpb24odCxlKXt2YXIgbj10JiZ0aGlzLl9pbnZlcnRlZEluZGljZXNNYXBbdF07dmFyIGk9bltlXTtyZXR1cm4gbnVsbD09aXx8aXNOYU4oaSk/LTE6aX0sdC5wcm90b3R5cGUuaW5kZXhPZk5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmNvdW50KCk7ZTxuO2UrKylpZih0aGlzLmdldE5hbWUoZSk9PT10KXJldHVybiBlO3JldHVybi0xfSx0LnByb3RvdHlwZS5pbmRleE9mUmF3SW5kZXg9ZnVuY3Rpb24odCl7aWYodD49dGhpcy5fcmF3Q291bnR8fHQ8MClyZXR1cm4tMTtpZighdGhpcy5faW5kaWNlcylyZXR1cm4gdDt2YXIgZT10aGlzLl9pbmRpY2VzLG49ZVt0XTtpZihudWxsIT1uJiZuPHRoaXMuX2NvdW50JiZuPT09dClyZXR1cm4gdDtmb3IodmFyIGk9MCxyPXRoaXMuX2NvdW50LTE7aTw9cjspe3ZhciBvPShpK3IpLzJ8MDtpZihlW29dPHQpaT1vKzE7ZWxzZXtpZighKGVbb10+dCkpcmV0dXJuIG87cj1vLTF9fXJldHVybi0xfSx0LnByb3RvdHlwZS5pbmRpY2VzT2ZOZWFyZXN0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9zdG9yYWdlW3RdLHI9W107aWYoIWkpcmV0dXJuIHI7bnVsbD09biYmKG49MS8wKTtmb3IodmFyIG89MS8wLGE9LTEscz0wLGw9MCx1PXRoaXMuY291bnQoKTtsPHU7bCsrKXt2YXIgaD1lLWlbdGhpcy5nZXRSYXdJbmRleChsKV0sYz1NYXRoLmFicyhoKTtjPD1uJiYoKGM8b3x8Yz09PW8mJmg+PTAmJmE8MCkmJihvPWMsYT1oLHM9MCksaD09PWEmJihyW3MrK109bCkpfXJldHVybiByLmxlbmd0aD1zLHJ9LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3Jhd0RhdGEucGVyc2lzdGVudClyZXR1cm4gdGhpcy5fcmF3RGF0YS5nZXRJdGVtKHRoaXMuZ2V0UmF3SW5kZXgodCkpO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmRpbWVuc2lvbnMubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5kaW1lbnNpb25zW25dO2UucHVzaCh0aGlzLmdldChpLHQpKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFJhd0luZGV4KHQpLG49dGhpcy5fbmFtZUxpc3RbZV07cmV0dXJuIG51bGw9PW4mJm51bGwhPXRoaXMuX25hbWVEaW1JZHgmJihuPWZtKHRoaXMsdGhpcy5fbmFtZURpbUlkeCx0aGlzLl9uYW1lT3JkaW5hbE1ldGEsZSkpLG51bGw9PW4mJihuPVwiXCIpLG59LHQucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKHQpe3JldHVybiBkbSh0aGlzLHRoaXMuZ2V0UmF3SW5kZXgodCkpfSx0LnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXM7aWYodGhpcy5fY291bnQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihpPW4sbj1lLGU9dCx0PVtdKTt2YXIgbz1ufHxpfHx0aGlzLGE9TW0oeW0odCksdGhpcy5nZXREaW1lbnNpb24sdGhpcyk7MDtmb3IodmFyIHM9YS5sZW5ndGgsbD1NbShhLChmdW5jdGlvbih0KXtyZXR1cm4gci5fZGltZW5zaW9uSW5mb3NbdF0uaW5kZXh9KSksdT10aGlzLl9zdG9yYWdlQXJyLGg9MCxjPXRoaXMuY291bnQoKTtoPGM7aCsrKXt2YXIgcD10aGlzLmdldFJhd0luZGV4KGgpO3N3aXRjaChzKXtjYXNlIDA6ZS5jYWxsKG8saCk7YnJlYWs7Y2FzZSAxOmUuY2FsbChvLHVbbFswXV1bcF0saCk7YnJlYWs7Y2FzZSAyOmUuY2FsbChvLHVbbFswXV1bcF0sdVtsWzFdXVtwXSxoKTticmVhaztkZWZhdWx0OmZvcih2YXIgZD0wLGY9W107ZDxzO2QrKylmW2RdPXVbbFtkXV1bcF07ZltkXT1oLGUuYXBwbHkobyxmKX19fX0sdC5wcm90b3R5cGUuZmlsdGVyU2VsZj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzO2lmKHRoaXMuX2NvdW50KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYoaT1uLG49ZSxlPXQsdD1bXSk7dmFyIG89bnx8aXx8dGhpcyxhPU1tKHltKHQpLHRoaXMuZ2V0RGltZW5zaW9uLHRoaXMpOzA7Zm9yKHZhciBzPXRoaXMuY291bnQoKSxsPW5ldyh1bSh0aGlzKSkocyksdT1bXSxoPWEubGVuZ3RoLGM9MCxwPU1tKGEsKGZ1bmN0aW9uKHQpe3JldHVybiByLl9kaW1lbnNpb25JbmZvc1t0XS5pbmRleH0pKSxkPXBbMF0sZj10aGlzLl9zdG9yYWdlQXJyLGc9MDtnPHM7ZysrKXt2YXIgeT12b2lkIDAsdj10aGlzLmdldFJhd0luZGV4KGcpO2lmKDA9PT1oKXk9ZS5jYWxsKG8sZyk7ZWxzZSBpZigxPT09aCl7dmFyIG09ZltkXVt2XTt5PWUuY2FsbChvLG0sZyl9ZWxzZXtmb3IodmFyIF89MDtfPGg7XysrKXVbX109ZltwW19dXVt2XTt1W19dPWcseT1lLmFwcGx5KG8sdSl9eSYmKGxbYysrXT12KX1yZXR1cm4gYzxzJiYodGhpcy5faW5kaWNlcz1sKSx0aGlzLl9jb3VudD1jLHRoaXMuX2V4dGVudD17fSx0aGlzLmdldFJhd0luZGV4PXRoaXMuX2luZGljZXM/cG06Y20sdGhpc319LHQucHJvdG90eXBlLnNlbGVjdFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9jb3VudDtpZihuKXt2YXIgaT1bXTtmb3IodmFyIHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZpLnB1c2gocik7MDt2YXIgbz1pLmxlbmd0aDtpZihvKXt2YXIgYT10aGlzLmNvdW50KCkscz1uZXcodW0odGhpcykpKGEpLGw9MCx1PWlbMF0saD1NbShpLChmdW5jdGlvbih0KXtyZXR1cm4gZS5fZGltZW5zaW9uSW5mb3NbdF0uaW5kZXh9KSksYz10W3VdWzBdLHA9dFt1XVsxXSxkPXRoaXMuX3N0b3JhZ2VBcnIsZj0hMTtpZighdGhpcy5faW5kaWNlcyl7dmFyIGc9MDtpZigxPT09byl7Zm9yKHZhciB5PWRbaFswXV0sdj0wO3Y8bjt2KyspeygoYj15W3ZdKT49YyYmYjw9cHx8aXNOYU4oYikpJiYoc1tsKytdPWcpLGcrK31mPSEwfWVsc2UgaWYoMj09PW8pe3k9ZFtoWzBdXTt2YXIgbT1kW2hbMV1dLF89dFtpWzFdXVswXSx4PXRbaVsxXV1bMV07Zm9yKHY9MDt2PG47disrKXt2YXIgYj15W3ZdLHc9bVt2XTsoYj49YyYmYjw9cHx8aXNOYU4oYikpJiYodz49XyYmdzw9eHx8aXNOYU4odykpJiYoc1tsKytdPWcpLGcrK31mPSEwfX1pZighZilpZigxPT09bylmb3Iodj0wO3Y8YTt2Kyspe3ZhciBTPXRoaXMuZ2V0UmF3SW5kZXgodik7KChiPWRbaFswXV1bU10pPj1jJiZiPD1wfHxpc05hTihiKSkmJihzW2wrK109Uyl9ZWxzZSBmb3Iodj0wO3Y8YTt2Kyspe2Zvcih2YXIgTT0hMCxJPShTPXRoaXMuZ2V0UmF3SW5kZXgodiksMCk7STxvO0krKyl7dmFyIFQ9aVtJXTsoKGI9ZFtoW0ldXVtTXSk8dFtUXVswXXx8Yj50W1RdWzFdKSYmKE09ITEpfU0mJihzW2wrK109dGhpcy5nZXRSYXdJbmRleCh2KSl9cmV0dXJuIGw8YSYmKHRoaXMuX2luZGljZXM9cyksdGhpcy5fY291bnQ9bCx0aGlzLl9leHRlbnQ9e30sdGhpcy5nZXRSYXdJbmRleD10aGlzLl9pbmRpY2VzP3BtOmNtLHRoaXN9fX0sdC5wcm90b3R5cGUubWFwQXJyYXk9ZnVuY3Rpb24odCxlLG4saSl7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKGk9bixuPWUsZT10LHQ9W10pLG49bnx8aXx8dGhpczt2YXIgcj1bXTtyZXR1cm4gdGhpcy5lYWNoKHQsKGZ1bmN0aW9uKCl7ci5wdXNoKGUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pLG4pLHJ9LHQucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1ufHxpfHx0aGlzLG89TW0oeW0odCksdGhpcy5nZXREaW1lbnNpb24sdGhpcyk7dmFyIGE9dm0odGhpcyxvKSxzPWEuX3N0b3JhZ2U7YS5faW5kaWNlcz10aGlzLl9pbmRpY2VzLGEuZ2V0UmF3SW5kZXg9YS5faW5kaWNlcz9wbTpjbTtmb3IodmFyIGw9W10sdT1vLmxlbmd0aCxoPXRoaXMuY291bnQoKSxjPVtdLHA9YS5fcmF3RXh0ZW50LGQ9MDtkPGg7ZCsrKXtmb3IodmFyIGY9MDtmPHU7ZisrKWNbZl09dGhpcy5nZXQob1tmXSxkKTtjW3VdPWQ7dmFyIGc9ZSYmZS5hcHBseShyLGMpO2lmKG51bGwhPWcpe1wib2JqZWN0XCIhPXR5cGVvZiBnJiYobFswXT1nLGc9bCk7Zm9yKHZhciB5PXRoaXMuZ2V0UmF3SW5kZXgoZCksdj0wO3Y8Zy5sZW5ndGg7disrKXt2YXIgbT1vW3ZdLF89Z1t2XSx4PXBbbV0sYj1zW21dO2ImJihiW3ldPV8pLF88eFswXSYmKHhbMF09XyksXz54WzFdJiYoeFsxXT1fKX19fXJldHVybiBhfSx0LnByb3RvdHlwZS5kb3duU2FtcGxlPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj12bSh0aGlzLFt0XSksbz1yLl9zdG9yYWdlLGE9W10scz13bSgxL2UpLGw9b1t0XSx1PXRoaXMuY291bnQoKSxoPXIuX3Jhd0V4dGVudFt0XSxjPW5ldyh1bSh0aGlzKSkodSkscD0wLGQ9MDtkPHU7ZCs9cyl7cz51LWQmJihzPXUtZCxhLmxlbmd0aD1zKTtmb3IodmFyIGY9MDtmPHM7ZisrKXt2YXIgZz10aGlzLmdldFJhd0luZGV4KGQrZik7YVtmXT1sW2ddfXZhciB5PW4oYSksdj10aGlzLmdldFJhd0luZGV4KE1hdGgubWluKGQraShhLHkpfHwwLHUtMSkpO2xbdl09eSx5PGhbMF0mJihoWzBdPXkpLHk+aFsxXSYmKGhbMV09eSksY1twKytdPXZ9cmV0dXJuIHIuX2NvdW50PXAsci5faW5kaWNlcz1jLHIuZ2V0UmF3SW5kZXg9cG0scn0sdC5wcm90b3R5cGUubHR0YkRvd25TYW1wbGU9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbz12bSh0aGlzLFtdKSxhPW8uX3N0b3JhZ2VbdF0scz10aGlzLmNvdW50KCksbD1uZXcodW0odGhpcykpKHMpLHU9MCxoPXdtKDEvZSksYz10aGlzLmdldFJhd0luZGV4KDApO2xbdSsrXT1jO2Zvcih2YXIgcD0xO3A8cy0xO3ArPWgpe2Zvcih2YXIgZD1NYXRoLm1pbihwK2gscy0xKSxmPU1hdGgubWluKHArMipoLHMpLGc9KGYrZCkvMix5PTAsdj1kO3Y8Zjt2Kyspe3ZhciBtPWFbUz10aGlzLmdldFJhd0luZGV4KHYpXTtpc05hTihtKXx8KHkrPW0pfXkvPWYtZDt2YXIgXz1wLHg9TWF0aC5taW4ocCtoLHMpLGI9cC0xLHc9YVtjXTtuPS0xLHI9Xztmb3Iodj1fO3Y8eDt2Kyspe3ZhciBTO209YVtTPXRoaXMuZ2V0UmF3SW5kZXgodildO2lzTmFOKG0pfHwoaT1NYXRoLmFicygoYi1nKSoobS13KS0oYi12KSooeS13KSkpPm4mJihuPWkscj1TKX1sW3UrK109cixjPXJ9cmV0dXJuIGxbdSsrXT10aGlzLmdldFJhd0luZGV4KHMtMSksby5fY291bnQ9dSxvLl9pbmRpY2VzPWwsby5nZXRSYXdJbmRleD1wbSxvfSx0LnByb3RvdHlwZS5nZXRJdGVtTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ob3N0TW9kZWwsbj10aGlzLmdldFJhd0RhdGFJdGVtKHQpO3JldHVybiBuZXcgU2gobixlLGUmJmUuZWNNb2RlbCl9LHQucHJvdG90eXBlLmRpZmY9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHJtKHQ/dC5nZXRJbmRpY2VzKCk6W10sdGhpcy5nZXRJbmRpY2VzKCksKGZ1bmN0aW9uKGUpe3JldHVybiBkbSh0LGUpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBkbShlLHQpfSkpfSx0LnByb3RvdHlwZS5nZXRWaXN1YWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdmlzdWFsO3JldHVybiBlJiZlW3RdfSx0LnByb3RvdHlwZS5zZXRWaXN1YWw9ZnVuY3Rpb24odCxlKXt0aGlzLl92aXN1YWw9dGhpcy5fdmlzdWFsfHx7fSxTbSh0KT9JKHRoaXMuX3Zpc3VhbCx0KTp0aGlzLl92aXN1YWxbdF09ZX0sdC5wcm90b3R5cGUuZ2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2l0ZW1WaXN1YWxzW3RdLGk9biYmbltlXTtyZXR1cm4gbnVsbD09aT90aGlzLmdldFZpc3VhbChlKTppfSx0LnByb3RvdHlwZS5oYXNJdGVtVmlzdWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1WaXN1YWxzLmxlbmd0aD4wfSx0LnByb3RvdHlwZS5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faXRlbVZpc3VhbHMsaT1uW3RdO2l8fChpPW5bdF09e30pO3ZhciByPWlbZV07cmV0dXJuIG51bGw9PXImJihGKHI9dGhpcy5nZXRWaXN1YWwoZSkpP3I9ci5zbGljZSgpOlNtKHIpJiYocj1JKHt9LHIpKSxpW2VdPXIpLHJ9LHQucHJvdG90eXBlLnNldEl0ZW1WaXN1YWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2l0ZW1WaXN1YWxzW3RdfHx7fTt0aGlzLl9pdGVtVmlzdWFsc1t0XT1pLFNtKGUpP0koaSxlKTppW2VdPW59LHQucHJvdG90eXBlLmNsZWFyQWxsVmlzdWFsPWZ1bmN0aW9uKCl7dGhpcy5fdmlzdWFsPXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdfSx0LnByb3RvdHlwZS5zZXRMYXlvdXQ9ZnVuY3Rpb24odCxlKXtpZihTbSh0KSlmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZ0aGlzLnNldExheW91dChuLHRbbl0pO2Vsc2UgdGhpcy5fbGF5b3V0W3RdPWV9LHQucHJvdG90eXBlLmdldExheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF5b3V0W3RdfSx0LnByb3RvdHlwZS5nZXRJdGVtTGF5b3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pdGVtTGF5b3V0c1t0XX0sdC5wcm90b3R5cGUuc2V0SXRlbUxheW91dD1mdW5jdGlvbih0LGUsbil7dGhpcy5faXRlbUxheW91dHNbdF09bj9JKHRoaXMuX2l0ZW1MYXlvdXRzW3RdfHx7fSxlKTplfSx0LnByb3RvdHlwZS5jbGVhckl0ZW1MYXlvdXRzPWZ1bmN0aW9uKCl7dGhpcy5faXRlbUxheW91dHMubGVuZ3RoPTB9LHQucHJvdG90eXBlLnNldEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmhvc3RNb2RlbDtpZihlKXt2YXIgaT15cyhlKTtpLmRhdGFJbmRleD10LGkuZGF0YVR5cGU9dGhpcy5kYXRhVHlwZSxpLnNlcmllc0luZGV4PW4mJm4uc2VyaWVzSW5kZXgsXCJncm91cFwiPT09ZS50eXBlJiZlLnRyYXZlcnNlKF9tLGUpfXRoaXMuX2dyYXBoaWNFbHNbdF09ZX0sdC5wcm90b3R5cGUuZ2V0SXRlbUdyYXBoaWNFbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ3JhcGhpY0Vsc1t0XX0sdC5wcm90b3R5cGUuZWFjaEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCxlKXtQKHRoaXMuX2dyYXBoaWNFbHMsKGZ1bmN0aW9uKG4saSl7biYmdCYmdC5jYWxsKGUsbixpKX0pKX0sdC5wcm90b3R5cGUuY2xvbmVTaGFsbG93PWZ1bmN0aW9uKGUpe2V8fChlPW5ldyB0KE1tKHRoaXMuZGltZW5zaW9ucyx0aGlzLmdldERpbWVuc2lvbkluZm8sdGhpcyksdGhpcy5ob3N0TW9kZWwpKTtpZihlLl9zdG9yYWdlPXRoaXMuX3N0b3JhZ2UsZS5fc3RvcmFnZUFycj10aGlzLl9zdG9yYWdlQXJyLHhtKGUsdGhpcyksdGhpcy5faW5kaWNlcyl7dmFyIG49dGhpcy5faW5kaWNlcy5jb25zdHJ1Y3RvcjtpZihuPT09QXJyYXkpe3ZhciBpPXRoaXMuX2luZGljZXMubGVuZ3RoO2UuX2luZGljZXM9bmV3IG4oaSk7Zm9yKHZhciByPTA7cjxpO3IrKyllLl9pbmRpY2VzW3JdPXRoaXMuX2luZGljZXNbcl19ZWxzZSBlLl9pbmRpY2VzPW5ldyBuKHRoaXMuX2luZGljZXMpfWVsc2UgZS5faW5kaWNlcz1udWxsO3JldHVybiBlLmdldFJhd0luZGV4PWUuX2luZGljZXM/cG06Y20sZX0sdC5wcm90b3R5cGUud3JhcE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXNbdF07XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKHRoaXMuX193cmFwcGVkTWV0aG9kcz10aGlzLl9fd3JhcHBlZE1ldGhvZHN8fFtdLHRoaXMuX193cmFwcGVkTWV0aG9kcy5wdXNoKHQpLHRoaXNbdF09ZnVuY3Rpb24oKXt2YXIgdD1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5hcHBseSh0aGlzLFt0XS5jb25jYXQobnQoYXJndW1lbnRzKSkpfSl9LHQuaW50ZXJuYWxGaWVsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxlLG4saSl7cmV0dXJuIGJkKHRbaV0sdGhpcy5fZGltZW5zaW9uSW5mb3NbZV0pfXNtPXthcnJheVJvd3M6ZSxvYmplY3RSb3dzOmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBiZCh0W2VdLHRoaXMuX2RpbWVuc2lvbkluZm9zW2VdKX0sa2V5ZWRDb2x1bW5zOmUsb3JpZ2luYWw6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dCYmKG51bGw9PXQudmFsdWU/dDp0LnZhbHVlKTtyZXR1cm4hdGhpcy5fcmF3RGF0YS5wdXJlJiZmdW5jdGlvbih0KXtyZXR1cm4gWCh0KSYmISh0IGluc3RhbmNlb2YgQXJyYXkpfSh0KSYmKHRoaXMuaGFzSXRlbU9wdGlvbj0hMCksYmQociBpbnN0YW5jZW9mIEFycmF5P3JbaV06cix0aGlzLl9kaW1lbnNpb25JbmZvc1tlXSl9LHR5cGVkQXJyYXk6ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHRbaV19fSxsbT1mdW5jdGlvbih0KXt2YXIgZT10Ll9pbnZlcnRlZEluZGljZXNNYXA7UChlLChmdW5jdGlvbihuLGkpe3ZhciByPXQuX2RpbWVuc2lvbkluZm9zW2ldLm9yZGluYWxNZXRhO2lmKHIpe249ZVtpXT1uZXcgQW0oci5jYXRlZ29yaWVzLmxlbmd0aCk7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspbltvXT0tMTtmb3Iobz0wO288dC5fY291bnQ7bysrKW5bdC5nZXQoaSxvKV09b319KSl9LGZtPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89dC5fc3RvcmFnZUFycltlXTtyZXR1cm4gbyYmKHI9b1tpXSxuJiZuLmNhdGVnb3JpZXMubGVuZ3RoJiYocj1uLmNhdGVnb3JpZXNbcl0pKSxUcihyLG51bGwpfSx1bT1mdW5jdGlvbih0KXtyZXR1cm4gdC5fcmF3Q291bnQ+NjU1MzU/Q206RG19LGhtPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPVRtW2UudHlwZV0sbz1lLm5hbWU7aWYoaSl7dmFyIGE9dFtvXSxzPWEmJmEubGVuZ3RoO2lmKHMhPT1uKXtmb3IodmFyIGw9bmV3IHIobiksdT0wO3U8czt1KyspbFt1XT1hW3VdO3Rbb109bH19ZWxzZSB0W29dPW5ldyByKG4pfSxjbT1mdW5jdGlvbih0KXtyZXR1cm4gdH0scG09ZnVuY3Rpb24odCl7cmV0dXJuIHQ8dGhpcy5fY291bnQmJnQ+PTA/dGhpcy5faW5kaWNlc1t0XTotMX0sZG09ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9pZExpc3RbZV07cmV0dXJuIG51bGw9PW4mJm51bGwhPXQuX2lkRGltSWR4JiYobj1mbSh0LHQuX2lkRGltSWR4LHQuX2lkT3JkaW5hbE1ldGEsZSkpLG51bGw9PW4mJihuPVwiZVxcMFxcMFwiK2UpLG59LHltPWZ1bmN0aW9uKHQpe3JldHVybiBGKHQpfHwodD1udWxsIT10P1t0XTpbXSksdH0sZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0Ll9kaW1lbnNpb25JbmZvc1tlW25dXXx8Y29uc29sZS5lcnJvcihcIlVua293biBkaW1lbnNpb24gXCIrZVtuXSl9LHZtPWZ1bmN0aW9uKGUsbil7dmFyIGk9ZS5kaW1lbnNpb25zLHI9bmV3IHQoTW0oaSxlLmdldERpbWVuc2lvbkluZm8sZSksZS5ob3N0TW9kZWwpO3htKHIsZSk7Zm9yKHZhciBvLGEscz1yLl9zdG9yYWdlPXt9LGw9ZS5fc3RvcmFnZSx1PXIuX3N0b3JhZ2VBcnI9W10saD0wO2g8aS5sZW5ndGg7aCsrKXt2YXIgYz1pW2hdO2xbY10mJihBKG4sYyk+PTA/KHNbY109KG89bFtjXSxhPXZvaWQgMCwoYT1vLmNvbnN0cnVjdG9yKT09PUFycmF5P28uc2xpY2UoKTpuZXcgYShvKSksci5fcmF3RXh0ZW50W2NdPW1tKCksci5fZXh0ZW50W2NdPW51bGwpOnNbY109bFtjXSx1LnB1c2goc1tjXSkpfXJldHVybiByfSxtbT1mdW5jdGlvbigpe3JldHVyblsxLzAsLTEvMF19LF9tPWZ1bmN0aW9uKHQpe3ZhciBlPXlzKHQpLG49eXModGhpcyk7ZS5zZXJpZXNJbmRleD1uLnNlcmllc0luZGV4LGUuZGF0YUluZGV4PW4uZGF0YUluZGV4LGUuZGF0YVR5cGU9bi5kYXRhVHlwZX0seG09ZnVuY3Rpb24odCxlKXtQKExtLmNvbmNhdChlLl9fd3JhcHBlZE1ldGhvZHN8fFtdKSwoZnVuY3Rpb24obil7ZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSksdC5fX3dyYXBwZWRNZXRob2RzPWUuX193cmFwcGVkTWV0aG9kcyxQKGttLChmdW5jdGlvbihuKXt0W25dPXcoZVtuXSl9KSksdC5fY2FsY3VsYXRpb25JbmZvPUkoe30sZS5fY2FsY3VsYXRpb25JbmZvKX0sZ209ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9uYW1lTGlzdCxpPXQuX2lkTGlzdCxyPXQuX25hbWVEaW1JZHgsbz10Ll9pZERpbUlkeCxhPW5bZV0scz1pW2VdO2lmKG51bGw9PWEmJm51bGwhPXImJihuW2VdPWE9Zm0odCxyLHQuX25hbWVPcmRpbmFsTWV0YSxlKSksbnVsbD09cyYmbnVsbCE9byYmKGlbZV09cz1mbSh0LG8sdC5faWRPcmRpbmFsTWV0YSxlKSksbnVsbD09cyYmbnVsbCE9YSl7dmFyIGw9dC5fbmFtZVJlcGVhdENvdW50LHU9bFthXT0obFthXXx8MCkrMTtzPWEsdT4xJiYocys9XCJfX2VjX19cIit1KSxpW2VdPXN9fX0oKSx0fSgpO2Z1bmN0aW9uIE9tKHQsZSxuKXtLcChlKXx8KGU9SnAoZSkpLG49bnx8e30sdD0odHx8W10pLnNsaWNlKCk7Zm9yKHZhciBpPShuLmRpbXNEZWZ8fFtdKS5zbGljZSgpLHI9aHQoKSxvPWh0KCksYT1bXSxzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPU1hdGgubWF4KHQuZGltZW5zaW9uc0RldGVjdGVkQ291bnR8fDEsZS5sZW5ndGgsbi5sZW5ndGgsaXx8MCk7cmV0dXJuIFAoZSwoZnVuY3Rpb24odCl7dmFyIGU7WCh0KSYmKGU9dC5kaW1zRGVmKSYmKHI9TWF0aC5tYXgocixlLmxlbmd0aCkpfSkpLHJ9KGUsdCxpLG4uZGltQ291bnQpLGw9MDtsPHM7bCsrKXt2YXIgdT1pW2xdLGg9aVtsXT1JKHt9LFgodSk/dTp7bmFtZTp1fSksYz1oLm5hbWUscD1hW2xdPW5ldyBibTtudWxsIT1jJiZudWxsPT1yLmdldChjKSYmKHAubmFtZT1wLmRpc3BsYXlOYW1lPWMsci5zZXQoYyxsKSksbnVsbCE9aC50eXBlJiYocC50eXBlPWgudHlwZSksbnVsbCE9aC5kaXNwbGF5TmFtZSYmKHAuZGlzcGxheU5hbWU9aC5kaXNwbGF5TmFtZSl9dmFyIGQ9bi5lbmNvZGVEZWY7IWQmJm4uZW5jb2RlRGVmYXVsdGVyJiYoZD1uLmVuY29kZURlZmF1bHRlcihlLHMpKTt2YXIgZj1odChkKTtmLmVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIG49X3IodCkuc2xpY2UoKTtpZigxPT09bi5sZW5ndGgmJiFIKG5bMF0pJiZuWzBdPDApZi5zZXQoZSwhMSk7ZWxzZXt2YXIgaT1mLnNldChlLFtdKTtQKG4sKGZ1bmN0aW9uKHQsbil7dmFyIG89SCh0KT9yLmdldCh0KTp0O251bGwhPW8mJm88cyYmKGlbbl09byx5KGFbb10sZSxuKSl9KSl9fSkpO3ZhciBnPTA7ZnVuY3Rpb24geSh0LGUsbil7bnVsbCE9VmMuZ2V0KGUpP3Qub3RoZXJEaW1zW2VdPW46KHQuY29vcmREaW09ZSx0LmNvb3JkRGltSW5kZXg9bixvLnNldChlLCEwKSl9UCh0LChmdW5jdGlvbih0KXt2YXIgZSxuLGkscjtpZihIKHQpKWU9dCxyPXt9O2Vsc2V7ZT0ocj10KS5uYW1lO3ZhciBvPXIub3JkaW5hbE1ldGE7ci5vcmRpbmFsTWV0YT1udWxsLChyPXcocikpLm9yZGluYWxNZXRhPW8sbj1yLmRpbXNEZWYsaT1yLm90aGVyRGltcyxyLm5hbWU9ci5jb29yZERpbT1yLmNvb3JkRGltSW5kZXg9ci5kaW1zRGVmPXIub3RoZXJEaW1zPW51bGx9dmFyIHM9Zi5nZXQoZSk7aWYoITEhPT1zKXtpZighKHM9X3IocykpLmxlbmd0aClmb3IodmFyIGw9MDtsPChuJiZuLmxlbmd0aHx8MSk7bCsrKXtmb3IoO2c8YS5sZW5ndGgmJm51bGwhPWFbZ10uY29vcmREaW07KWcrKztnPGEubGVuZ3RoJiZzLnB1c2goZysrKX1QKHMsKGZ1bmN0aW9uKHQsbyl7dmFyIHM9YVt0XTtpZih5KFQocyxyKSxlLG8pLG51bGw9PXMubmFtZSYmbil7dmFyIGw9bltvXTshWChsKSYmKGw9e25hbWU6bH0pLHMubmFtZT1zLmRpc3BsYXlOYW1lPWwubmFtZSxzLmRlZmF1bHRUb29sdGlwPWwuZGVmYXVsdFRvb2x0aXB9aSYmVChzLm90aGVyRGltcyxpKX0pKX19KSk7dmFyIHY9bi5nZW5lcmF0ZUNvb3JkLG09bi5nZW5lcmF0ZUNvb3JkQ291bnQsXz1udWxsIT1tO209dj9tfHwxOjA7Zm9yKHZhciB4PXZ8fFwidmFsdWVcIixiPTA7YjxzO2IrKyl7bnVsbD09KHA9YVtiXT1hW2JdfHxuZXcgYm0pLmNvb3JkRGltJiYocC5jb29yZERpbT1SbSh4LG8sXykscC5jb29yZERpbUluZGV4PTAsKCF2fHxtPD0wKSYmKHAuaXNFeHRyYUNvb3JkPSEwKSxtLS0pLG51bGw9PXAubmFtZSYmKHAubmFtZT1SbShwLmNvb3JkRGltLHIsITEpKSxudWxsIT1wLnR5cGV8fGVwKGUsYikhPT1qYyYmKCFwLmlzRXh0cmFDb29yZHx8bnVsbD09cC5vdGhlckRpbXMuaXRlbU5hbWUmJm51bGw9PXAub3RoZXJEaW1zLnNlcmllc05hbWUpfHwocC50eXBlPVwib3JkaW5hbFwiKX1yZXR1cm4gYX1mdW5jdGlvbiBSbSh0LGUsbil7aWYobnx8bnVsbCE9ZS5nZXQodCkpe2Zvcih2YXIgaT0wO251bGwhPWUuZ2V0KHQraSk7KWkrKzt0Kz1pfXJldHVybiBlLnNldCh0LCEwKSx0fWZ1bmN0aW9uIE5tKHQsZSl7cmV0dXJuIE9tKChlPWV8fHt9KS5jb29yZERpbWVuc2lvbnN8fFtdLHQse2RpbXNEZWY6ZS5kaW1lbnNpb25zRGVmaW5lfHx0LmRpbWVuc2lvbnNEZWZpbmUsZW5jb2RlRGVmOmUuZW5jb2RlRGVmaW5lfHx0LmVuY29kZURlZmluZSxkaW1Db3VudDplLmRpbWVuc2lvbnNDb3VudCxlbmNvZGVEZWZhdWx0ZXI6ZS5lbmNvZGVEZWZhdWx0ZXIsZ2VuZXJhdGVDb29yZDplLmdlbmVyYXRlQ29vcmQsZ2VuZXJhdGVDb29yZENvdW50OmUuZ2VuZXJhdGVDb29yZENvdW50fSl9dmFyIEVtPWZ1bmN0aW9uKHQpe3RoaXMuY29vcmRTeXNEaW1zPVtdLHRoaXMuYXhpc01hcD1odCgpLHRoaXMuY2F0ZWdvcnlBeGlzTWFwPWh0KCksdGhpcy5jb29yZFN5c05hbWU9dH07dmFyIHptPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJ4QXhpc1wiLE9yKS5tb2RlbHNbMF0sbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJ5QXhpc1wiLE9yKS5tb2RlbHNbMF07ZS5jb29yZFN5c0RpbXM9W1wieFwiLFwieVwiXSxuLnNldChcInhcIixyKSxuLnNldChcInlcIixvKSxCbShyKSYmKGkuc2V0KFwieFwiLHIpLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApLEJtKG8pJiYoaS5zZXQoXCJ5XCIsbyksbnVsbD09ZS5maXJzdENhdGVnb3J5RGltSW5kZXgmJihlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0xKSl9LHNpbmdsZUF4aXM6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKFwic2luZ2xlQXhpc1wiLE9yKS5tb2RlbHNbMF07ZS5jb29yZFN5c0RpbXM9W1wic2luZ2xlXCJdLG4uc2V0KFwic2luZ2xlXCIsciksQm0ocikmJihpLnNldChcInNpbmdsZVwiLHIpLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApfSxwb2xhcjpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJwb2xhclwiLE9yKS5tb2RlbHNbMF0sbz1yLmZpbmRBeGlzTW9kZWwoXCJyYWRpdXNBeGlzXCIpLGE9ci5maW5kQXhpc01vZGVsKFwiYW5nbGVBeGlzXCIpO2UuY29vcmRTeXNEaW1zPVtcInJhZGl1c1wiLFwiYW5nbGVcIl0sbi5zZXQoXCJyYWRpdXNcIixvKSxuLnNldChcImFuZ2xlXCIsYSksQm0obykmJihpLnNldChcInJhZGl1c1wiLG8pLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApLEJtKGEpJiYoaS5zZXQoXCJhbmdsZVwiLGEpLG51bGw9PWUuZmlyc3RDYXRlZ29yeURpbUluZGV4JiYoZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MSkpfSxnZW86ZnVuY3Rpb24odCxlLG4saSl7ZS5jb29yZFN5c0RpbXM9W1wibG5nXCIsXCJsYXRcIl19LHBhcmFsbGVsOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZWNNb2RlbCxvPXIuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxcIix0LmdldChcInBhcmFsbGVsSW5kZXhcIikpLGE9ZS5jb29yZFN5c0RpbXM9by5kaW1lbnNpb25zLnNsaWNlKCk7UChvLnBhcmFsbGVsQXhpc0luZGV4LChmdW5jdGlvbih0LG8pe3ZhciBzPXIuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxBeGlzXCIsdCksbD1hW29dO24uc2V0KGwscyksQm0ocykmJihpLnNldChsLHMpLG51bGw9PWUuZmlyc3RDYXRlZ29yeURpbUluZGV4JiYoZS5maXJzdENhdGVnb3J5RGltSW5kZXg9bykpfSkpfX07ZnVuY3Rpb24gQm0odCl7cmV0dXJuXCJjYXRlZ29yeVwiPT09dC5nZXQoXCJ0eXBlXCIpfWZ1bmN0aW9uIFZtKHQsZSxuKXt2YXIgaSxyLG8sYSxzPShuPW58fHt9KS5ieUluZGV4LGw9bi5zdGFja2VkQ29vcmREaW1lbnNpb24sdT0hKCF0fHwhdC5nZXQoXCJzdGFja1wiKSk7aWYoUChlLChmdW5jdGlvbih0LG4pe0godCkmJihlW25dPXQ9e25hbWU6dH0pLHUmJiF0LmlzRXh0cmFDb29yZCYmKHN8fGl8fCF0Lm9yZGluYWxNZXRhfHwoaT10KSxyfHxcIm9yZGluYWxcIj09PXQudHlwZXx8XCJ0aW1lXCI9PT10LnR5cGV8fGwmJmwhPT10LmNvb3JkRGltfHwocj10KSl9KSksIXJ8fHN8fGl8fChzPSEwKSxyKXtvPVwiX19cXDBlY3N0YWNrcmVzdWx0XCIsYT1cIl9fXFwwZWNzdGFja2Vkb3ZlclwiLGkmJihpLmNyZWF0ZUludmVydGVkSW5kaWNlcz0hMCk7dmFyIGg9ci5jb29yZERpbSxjPXIudHlwZSxwPTA7UChlLChmdW5jdGlvbih0KXt0LmNvb3JkRGltPT09aCYmcCsrfSkpLGUucHVzaCh7bmFtZTpvLGNvb3JkRGltOmgsY29vcmREaW1JbmRleDpwLHR5cGU6Yyxpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwfSkscCsrLGUucHVzaCh7bmFtZTphLGNvb3JkRGltOmEsY29vcmREaW1JbmRleDpwLHR5cGU6Yyxpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwfSl9cmV0dXJue3N0YWNrZWREaW1lbnNpb246ciYmci5uYW1lLHN0YWNrZWRCeURpbWVuc2lvbjppJiZpLm5hbWUsaXNTdGFja2VkQnlJbmRleDpzLHN0YWNrZWRPdmVyRGltZW5zaW9uOmEsc3RhY2tSZXN1bHREaW1lbnNpb246b319ZnVuY3Rpb24gRm0odCxlKXtyZXR1cm4hIWUmJmU9PT10LmdldENhbGN1bGF0aW9uSW5mbyhcInN0YWNrZWREaW1lbnNpb25cIil9ZnVuY3Rpb24gR20odCxlKXtyZXR1cm4gRm0odCxlKT90LmdldENhbGN1bGF0aW9uSW5mbyhcInN0YWNrUmVzdWx0RGltZW5zaW9uXCIpOmV9ZnVuY3Rpb24gSG0odCxlLG4pe249bnx8e30sS3AodCl8fCh0PUpwKHQpKTt2YXIgaSxyPWUuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSxvPV9wLmdldChyKSxhPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSxuPW5ldyBFbShlKSxpPXptW2VdO2lmKGkpcmV0dXJuIGkodCxuLG4uYXhpc01hcCxuLmNhdGVnb3J5QXhpc01hcCksbn0oZSk7YSYmYS5jb29yZFN5c0RpbXMmJihpPU8oYS5jb29yZFN5c0RpbXMsKGZ1bmN0aW9uKHQpe3ZhciBlPXtuYW1lOnR9LG49YS5heGlzTWFwLmdldCh0KTtpZihuKXt2YXIgaT1uLmdldChcInR5cGVcIik7ZS50eXBlPWFtKGkpfXJldHVybiBlfSkpKSxpfHwoaT1vJiYoby5nZXREaW1lbnNpb25zSW5mbz9vLmdldERpbWVuc2lvbnNJbmZvKCk6by5kaW1lbnNpb25zLnNsaWNlKCkpfHxbXCJ4XCIsXCJ5XCJdKTt2YXIgcyxsLHU9bi51c2VFbmNvZGVEZWZhdWx0ZXIsaD1ObSh0LHtjb29yZERpbWVuc2lvbnM6aSxnZW5lcmF0ZUNvb3JkOm4uZ2VuZXJhdGVDb29yZCxlbmNvZGVEZWZhdWx0ZXI6Ryh1KT91OnU/VihKYyxpLGUpOm51bGx9KTthJiZQKGgsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jb29yZERpbSxyPWEuY2F0ZWdvcnlBeGlzTWFwLmdldChpKTtyJiYobnVsbD09cyYmKHM9ZSksdC5vcmRpbmFsTWV0YT1yLmdldE9yZGluYWxNZXRhKCksbi5jcmVhdGVJbnZlcnRlZEluZGljZXMmJih0LmNyZWF0ZUludmVydGVkSW5kaWNlcz0hMCkpLG51bGwhPXQub3RoZXJEaW1zLml0ZW1OYW1lJiYobD0hMCl9KSksbHx8bnVsbD09c3x8KGhbc10ub3RoZXJEaW1zLml0ZW1OYW1lPTApO3ZhciBjPVZtKGUsaCkscD1uZXcgUG0oaCxlKTtwLnNldENhbGN1bGF0aW9uSW5mbyhjKTt2YXIgZD1udWxsIT1zJiZmdW5jdGlvbih0KXtpZih0LnNvdXJjZUZvcm1hdD09PUZjKXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT0wO2Zvcig7ZTx0Lmxlbmd0aCYmbnVsbD09dFtlXTspZSsrO3JldHVybiB0W2VdfSh0LmRhdGF8fFtdKTtyZXR1cm4gbnVsbCE9ZSYmIUYod3IoZSkpfX0odCk/ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIGk9PT1zP246dGhpcy5kZWZhdWx0RGltVmFsdWVHZXR0ZXIodCxlLG4saSl9Om51bGw7cmV0dXJuIHAuaGFzSXRlbU9wdGlvbj0hMSxwLmluaXREYXRhKHQsbnVsbCxkKSxwfXZhciBXbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2V0dGluZz10fHx7fSx0aGlzLl9leHRlbnQ9WzEvMCwtMS8wXX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0U2V0dGluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0dGluZ1t0XX0sdC5wcm90b3R5cGUudW5pb25FeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3RbMF08ZVswXSYmKGVbMF09dFswXSksdFsxXT5lWzFdJiYoZVsxXT10WzFdKX0sdC5wcm90b3R5cGUudW5pb25FeHRlbnRGcm9tRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LHQucHJvdG90eXBlLmdldEV4dGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbnQuc2xpY2UoKX0sdC5wcm90b3R5cGUuc2V0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50O2lzTmFOKHQpfHwoblswXT10KSxpc05hTihlKXx8KG5bMV09ZSl9LHQucHJvdG90eXBlLmlzSW5FeHRlbnRSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZXh0ZW50WzBdPD10JiZ0aGlzLl9leHRlbnRbMV0+PXR9LHQucHJvdG90eXBlLmlzQmxhbms9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNCbGFua30sdC5wcm90b3R5cGUuc2V0Qmxhbms9ZnVuY3Rpb24odCl7dGhpcy5faXNCbGFuaz10fSx0fSgpO2pyKFdtKTt2YXIgWW09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY2F0ZWdvcmllcz10LmNhdGVnb3JpZXN8fFtdLHRoaXMuX25lZWRDb2xsZWN0PXQubmVlZENvbGxlY3QsdGhpcy5fZGVkdXBsaWNhdGlvbj10LmRlZHVwbGljYXRpb259cmV0dXJuIHQuY3JlYXRlQnlBeGlzTW9kZWw9ZnVuY3Rpb24oZSl7dmFyIG49ZS5vcHRpb24saT1uLmRhdGEscj1pJiZPKGksWG0pO3JldHVybiBuZXcgdCh7Y2F0ZWdvcmllczpyLG5lZWRDb2xsZWN0OiFyLGRlZHVwbGljYXRpb246ITEhPT1uLmRlZHBsaWNhdGlvbn0pfSx0LnByb3RvdHlwZS5nZXRPcmRpbmFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRPckNyZWF0ZU1hcCgpLmdldCh0KX0sdC5wcm90b3R5cGUucGFyc2VBbmRDb2xsZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fbmVlZENvbGxlY3Q7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiFuKXJldHVybiB0O2lmKG4mJiF0aGlzLl9kZWR1cGxpY2F0aW9uKXJldHVybiBlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsZTt2YXIgaT10aGlzLl9nZXRPckNyZWF0ZU1hcCgpO3JldHVybiBudWxsPT0oZT1pLmdldCh0KSkmJihuPyhlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsaS5zZXQodCxlKSk6ZT1OYU4pLGV9LHQucHJvdG90eXBlLl9nZXRPckNyZWF0ZU1hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXB8fCh0aGlzLl9tYXA9aHQodGhpcy5jYXRlZ29yaWVzKSl9LHR9KCk7ZnVuY3Rpb24gWG0odCl7cmV0dXJuIFgodCkmJm51bGwhPXQudmFsdWU/dC52YWx1ZTp0K1wiXCJ9dmFyIFVtPWppO2Z1bmN0aW9uIFptKHQsZSxuLGkpe3ZhciByPXt9LG89dFsxXS10WzBdLGE9ci5pbnRlcnZhbD1zcihvL2UsITApO251bGwhPW4mJmE8biYmKGE9ci5pbnRlcnZhbD1uKSxudWxsIT1pJiZhPmkmJihhPXIuaW50ZXJ2YWw9aSk7dmFyIHM9ci5pbnRlcnZhbFByZWNpc2lvbj1qbShhKTtyZXR1cm4gZnVuY3Rpb24odCxlKXshaXNGaW5pdGUodFswXSkmJih0WzBdPWVbMF0pLCFpc0Zpbml0ZSh0WzFdKSYmKHRbMV09ZVsxXSkscW0odCwwLGUpLHFtKHQsMSxlKSx0WzBdPnRbMV0mJih0WzBdPXRbMV0pfShyLm5pY2VUaWNrRXh0ZW50PVtVbShNYXRoLmNlaWwodFswXS9hKSphLHMpLFVtKE1hdGguZmxvb3IodFsxXS9hKSphLHMpXSx0KSxyfWZ1bmN0aW9uIGptKHQpe3JldHVybiAkaSh0KSsyfWZ1bmN0aW9uIHFtKHQsZSxuKXt0W2VdPU1hdGgubWF4KE1hdGgubWluKHRbZV0sblsxXSksblswXSl9ZnVuY3Rpb24gS20odCxlKXtyZXR1cm4gdD49ZVswXSYmdDw9ZVsxXX1mdW5jdGlvbiAkbSh0LGUpe3JldHVybiBlWzFdPT09ZVswXT8uNToodC1lWzBdKS8oZVsxXS1lWzBdKX1mdW5jdGlvbiBKbSh0LGUpe3JldHVybiB0KihlWzFdLWVbMF0pK2VbMF19dmFyIFFtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7bi50eXBlPVwib3JkaW5hbFwiO3ZhciBpPW4uZ2V0U2V0dGluZyhcIm9yZGluYWxNZXRhXCIpO3JldHVybiBpfHwoaT1uZXcgWW0oe30pKSxGKGkpJiYoaT1uZXcgWW0oe2NhdGVnb3JpZXM6TyhpLChmdW5jdGlvbih0KXtyZXR1cm4gWCh0KT90LnZhbHVlOnR9KSl9KSksbi5fb3JkaW5hbE1ldGE9aSxuLl9leHRlbnQ9bi5nZXRTZXR0aW5nKFwiZXh0ZW50XCIpfHxbMCxpLmNhdGVnb3JpZXMubGVuZ3RoLTFdLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLl9vcmRpbmFsTWV0YS5nZXRPcmRpbmFsKHQpOk1hdGgucm91bmQodCl9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCl7cmV0dXJuIEttKHQ9dGhpcy5wYXJzZSh0KSx0aGlzLl9leHRlbnQpJiZudWxsIT10aGlzLl9vcmRpbmFsTWV0YS5jYXRlZ29yaWVzW3RdfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuICRtKHQ9dGhpcy5fZ2V0VGlja051bWJlcih0aGlzLnBhcnNlKHQpKSx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gdD1NYXRoLnJvdW5kKEptKHQsdGhpcy5fZXh0ZW50KSksdGhpcy5nZXRSYXdPcmRpbmFsTnVtYmVyKHQpfSxlLnByb3RvdHlwZS5nZXRUaWNrcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMuX2V4dGVudCxuPWVbMF07bjw9ZVsxXTspdC5wdXNoKHt2YWx1ZTpufSksbisrO3JldHVybiB0fSxlLnByb3RvdHlwZS5nZXRNaW5vclRpY2tzPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuc2V0U29ydEluZm89ZnVuY3Rpb24odCl7aWYobnVsbCE9dCl7Zm9yKHZhciBlPXQub3JkaW5hbE51bWJlcnMsbj10aGlzLl9vcmRpbmFsTnVtYmVyc0J5VGljaz1bXSxpPXRoaXMuX3RpY2tzQnlPcmRpbmFsTnVtYmVyPVtdLHI9MCxvPXRoaXMuX29yZGluYWxNZXRhLmNhdGVnb3JpZXMubGVuZ3RoLGE9TWF0aC5taW4obyxlLmxlbmd0aCk7cjxhOysrcil7dmFyIHM9ZVtyXTtuW3JdPXMsaVtzXT1yfWZvcih2YXIgbD0wO3I8bzsrK3Ipe2Zvcig7bnVsbCE9aVtsXTspbCsrO24ucHVzaChsKSxpW2xdPXJ9fWVsc2UgdGhpcy5fb3JkaW5hbE51bWJlcnNCeVRpY2s9dGhpcy5fdGlja3NCeU9yZGluYWxOdW1iZXI9bnVsbH0sZS5wcm90b3R5cGUuX2dldFRpY2tOdW1iZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlja3NCeU9yZGluYWxOdW1iZXI7cmV0dXJuIGUmJnQ+PTAmJnQ8ZS5sZW5ndGg/ZVt0XTp0fSxlLnByb3RvdHlwZS5nZXRSYXdPcmRpbmFsTnVtYmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29yZGluYWxOdW1iZXJzQnlUaWNrO3JldHVybiBlJiZ0Pj0wJiZ0PGUubGVuZ3RoP2VbdF06dH0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNCbGFuaygpKXt2YXIgZT10aGlzLmdldFJhd09yZGluYWxOdW1iZXIodC52YWx1ZSksbj10aGlzLl9vcmRpbmFsTWV0YS5jYXRlZ29yaWVzW2VdO3JldHVybiBudWxsPT1uP1wiXCI6bitcIlwifX0sZS5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50WzFdLXRoaXMuX2V4dGVudFswXSsxfSxlLnByb3RvdHlwZS51bmlvbkV4dGVudEZyb21EYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy51bmlvbkV4dGVudCh0LmdldEFwcHJveGltYXRlRXh0ZW50KGUpKX0sZS5wcm90b3R5cGUuaXNJbkV4dGVudFJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuX2dldFRpY2tOdW1iZXIodCksdGhpcy5fZXh0ZW50WzBdPD10JiZ0aGlzLl9leHRlbnRbMV0+PXR9LGUucHJvdG90eXBlLmdldE9yZGluYWxNZXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yZGluYWxNZXRhfSxlLnByb3RvdHlwZS5uaWNlVGlja3M9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLm5pY2VFeHRlbnQ9ZnVuY3Rpb24oKXt9LGUudHlwZT1cIm9yZGluYWxcIixlfShXbSk7V20ucmVnaXN0ZXJDbGFzcyhRbSk7dmFyIHRfPWppLGVfPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT1cImludGVydmFsXCIsZS5faW50ZXJ2YWw9MCxlLl9pbnRlcnZhbFByZWNpc2lvbj0yLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gS20odCx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuICRtKHQsdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIEptKHQsdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2V0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50O2lzTmFOKHQpfHwoblswXT1wYXJzZUZsb2F0KHQpKSxpc05hTihlKXx8KG5bMV09cGFyc2VGbG9hdChlKSl9LGUucHJvdG90eXBlLnVuaW9uRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDt0WzBdPGVbMF0mJihlWzBdPXRbMF0pLHRbMV0+ZVsxXSYmKGVbMV09dFsxXSksdGhpcy5zZXRFeHRlbnQoZVswXSxlWzFdKX0sZS5wcm90b3R5cGUuZ2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJ2YWx9LGUucHJvdG90eXBlLnNldEludGVydmFsPWZ1bmN0aW9uKHQpe3RoaXMuX2ludGVydmFsPXQsdGhpcy5fbmljZUV4dGVudD10aGlzLl9leHRlbnQuc2xpY2UoKSx0aGlzLl9pbnRlcnZhbFByZWNpc2lvbj1qbSh0KX0sZS5wcm90b3R5cGUuZ2V0VGlja3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faW50ZXJ2YWwsbj10aGlzLl9leHRlbnQsaT10aGlzLl9uaWNlRXh0ZW50LHI9dGhpcy5faW50ZXJ2YWxQcmVjaXNpb24sbz1bXTtpZighZSlyZXR1cm4gbztuWzBdPGlbMF0mJih0P28ucHVzaCh7dmFsdWU6dF8oaVswXS1lLHIpfSk6by5wdXNoKHt2YWx1ZTpuWzBdfSkpO2Zvcih2YXIgYT1pWzBdO2E8PWlbMV0mJihvLnB1c2goe3ZhbHVlOmF9KSwoYT10XyhhK2UscikpIT09b1tvLmxlbmd0aC0xXS52YWx1ZSk7KWlmKG8ubGVuZ3RoPjFlNClyZXR1cm5bXTt2YXIgcz1vLmxlbmd0aD9vW28ubGVuZ3RoLTFdLnZhbHVlOmlbMV07cmV0dXJuIG5bMV0+cyYmKHQ/by5wdXNoKHt2YWx1ZTp0XyhzK2Uscil9KTpvLnB1c2goe3ZhbHVlOm5bMV19KSksb30sZS5wcm90b3R5cGUuZ2V0TWlub3JUaWNrcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUaWNrcyghMCksbj1bXSxpPXRoaXMuZ2V0RXh0ZW50KCkscj0xO3I8ZS5sZW5ndGg7cisrKXtmb3IodmFyIG89ZVtyXSxhPWVbci0xXSxzPTAsbD1bXSx1PShvLnZhbHVlLWEudmFsdWUpL3Q7czx0LTE7KXt2YXIgaD10XyhhLnZhbHVlKyhzKzEpKnUpO2g+aVswXSYmaDxpWzFdJiZsLnB1c2goaCkscysrfW4ucHVzaChsKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVyblwiXCI7dmFyIG49ZSYmZS5wcmVjaXNpb247cmV0dXJuIG51bGw9PW4/bj0kaSh0LnZhbHVlKXx8MDpcImF1dG9cIj09PW4mJihuPXRoaXMuX2ludGVydmFsUHJlY2lzaW9uKSxoYyh0Xyh0LnZhbHVlLG4sITApKX0sZS5wcm90b3R5cGUubmljZVRpY2tzPWZ1bmN0aW9uKHQsZSxuKXt0PXR8fDU7dmFyIGk9dGhpcy5fZXh0ZW50LHI9aVsxXS1pWzBdO2lmKGlzRmluaXRlKHIpKXtyPDAmJihyPS1yLGkucmV2ZXJzZSgpKTt2YXIgbz1abShpLHQsZSxuKTt0aGlzLl9pbnRlcnZhbFByZWNpc2lvbj1vLmludGVydmFsUHJlY2lzaW9uLHRoaXMuX2ludGVydmFsPW8uaW50ZXJ2YWwsdGhpcy5fbmljZUV4dGVudD1vLm5pY2VUaWNrRXh0ZW50fX0sZS5wcm90b3R5cGUubmljZUV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7aWYoZVswXT09PWVbMV0paWYoMCE9PWVbMF0pe3ZhciBuPWVbMF07dC5maXhNYXh8fChlWzFdKz1uLzIpLGVbMF0tPW4vMn1lbHNlIGVbMV09MTt2YXIgaT1lWzFdLWVbMF07aXNGaW5pdGUoaSl8fChlWzBdPTAsZVsxXT0xKSx0aGlzLm5pY2VUaWNrcyh0LnNwbGl0TnVtYmVyLHQubWluSW50ZXJ2YWwsdC5tYXhJbnRlcnZhbCk7dmFyIHI9dGhpcy5faW50ZXJ2YWw7dC5maXhNaW58fChlWzBdPXRfKE1hdGguZmxvb3IoZVswXS9yKSpyKSksdC5maXhNYXh8fChlWzFdPXRfKE1hdGguY2VpbChlWzFdL3IpKnIpKX0sZS50eXBlPVwiaW50ZXJ2YWxcIixlfShXbSk7V20ucmVnaXN0ZXJDbGFzcyhlXyk7dmFyIG5fPVwiX19lY19zdGFja19cIixpXz1cInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheTtmdW5jdGlvbiByXyh0KXtyZXR1cm4gdC5nZXQoXCJzdGFja1wiKXx8bl8rdC5zZXJpZXNJbmRleH1mdW5jdGlvbiBvXyh0KXtyZXR1cm4gdC5kaW0rdC5pbmRleH1mdW5jdGlvbiBhXyh0LGUpe3ZhciBuPVtdO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7cF8odCkmJiFkXyh0KSYmbi5wdXNoKHQpfSkpLG59ZnVuY3Rpb24gc18odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9e307UCh0LChmdW5jdGlvbih0KXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0QmFzZUF4aXMoKTtpZihcInRpbWVcIj09PW4udHlwZXx8XCJ2YWx1ZVwiPT09bi50eXBlKWZvcih2YXIgaT10LmdldERhdGEoKSxyPW4uZGltK1wiX1wiK24uaW5kZXgsbz1pLm1hcERpbWVuc2lvbihuLmRpbSksYT0wLHM9aS5jb3VudCgpO2E8czsrK2Epe3ZhciBsPWkuZ2V0KG8sYSk7ZVtyXT9lW3JdLnB1c2gobCk6ZVtyXT1bbF19fSkpO3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpe3ZhciByPWVbaV07aWYocil7ci5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSk7Zm9yKHZhciBvPW51bGwsYT0xO2E8ci5sZW5ndGg7KythKXt2YXIgcz1yW2FdLXJbYS0xXTtzPjAmJihvPW51bGw9PT1vP3M6TWF0aC5taW4obyxzKSl9bltpXT1vfX1yZXR1cm4gbn0odCksbj1bXTtyZXR1cm4gUCh0LChmdW5jdGlvbih0KXt2YXIgaSxyPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRCYXNlQXhpcygpLG89ci5nZXRFeHRlbnQoKTtpZihcImNhdGVnb3J5XCI9PT1yLnR5cGUpaT1yLmdldEJhbmRXaWR0aCgpO2Vsc2UgaWYoXCJ2YWx1ZVwiPT09ci50eXBlfHxcInRpbWVcIj09PXIudHlwZSl7dmFyIGE9ci5kaW0rXCJfXCIrci5pbmRleCxzPWVbYV0sbD1NYXRoLmFicyhvWzFdLW9bMF0pLHU9ci5zY2FsZS5nZXRFeHRlbnQoKSxoPU1hdGguYWJzKHVbMV0tdVswXSk7aT1zP2wvaCpzOmx9ZWxzZXt2YXIgYz10LmdldERhdGEoKTtpPU1hdGguYWJzKG9bMV0tb1swXSkvYy5jb3VudCgpfXZhciBwPVppKHQuZ2V0KFwiYmFyV2lkdGhcIiksaSksZD1aaSh0LmdldChcImJhck1heFdpZHRoXCIpLGkpLGY9WmkodC5nZXQoXCJiYXJNaW5XaWR0aFwiKXx8MSxpKSxnPXQuZ2V0KFwiYmFyR2FwXCIpLHk9dC5nZXQoXCJiYXJDYXRlZ29yeUdhcFwiKTtuLnB1c2goe2JhbmRXaWR0aDppLGJhcldpZHRoOnAsYmFyTWF4V2lkdGg6ZCxiYXJNaW5XaWR0aDpmLGJhckdhcDpnLGJhckNhdGVnb3J5R2FwOnksYXhpc0tleTpvXyhyKSxzdGFja0lkOnJfKHQpfSl9KSksbF8obil9ZnVuY3Rpb24gbF8odCl7dmFyIGU9e307UCh0LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuYXhpc0tleSxyPXQuYmFuZFdpZHRoLG89ZVtpXXx8e2JhbmRXaWR0aDpyLHJlbWFpbmVkV2lkdGg6cixhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOm51bGwsZ2FwOlwiMjAlXCIsc3RhY2tzOnt9fSxhPW8uc3RhY2tzO2VbaV09bzt2YXIgcz10LnN0YWNrSWQ7YVtzXXx8by5hdXRvV2lkdGhDb3VudCsrLGFbc109YVtzXXx8e3dpZHRoOjAsbWF4V2lkdGg6MH07dmFyIGw9dC5iYXJXaWR0aDtsJiYhYVtzXS53aWR0aCYmKGFbc10ud2lkdGg9bCxsPU1hdGgubWluKG8ucmVtYWluZWRXaWR0aCxsKSxvLnJlbWFpbmVkV2lkdGgtPWwpO3ZhciB1PXQuYmFyTWF4V2lkdGg7dSYmKGFbc10ubWF4V2lkdGg9dSk7dmFyIGg9dC5iYXJNaW5XaWR0aDtoJiYoYVtzXS5taW5XaWR0aD1oKTt2YXIgYz10LmJhckdhcDtudWxsIT1jJiYoby5nYXA9Yyk7dmFyIHA9dC5iYXJDYXRlZ29yeUdhcDtudWxsIT1wJiYoby5jYXRlZ29yeUdhcD1wKX0pKTt2YXIgbj17fTtyZXR1cm4gUChlLChmdW5jdGlvbih0LGUpe25bZV09e307dmFyIGk9dC5zdGFja3Mscj10LmJhbmRXaWR0aCxvPXQuY2F0ZWdvcnlHYXA7aWYobnVsbD09byl7dmFyIGE9eihpKS5sZW5ndGg7bz1NYXRoLm1heCgzNS00KmEsMTUpK1wiJVwifXZhciBzPVppKG8sciksbD1aaSh0LmdhcCwxKSx1PXQucmVtYWluZWRXaWR0aCxoPXQuYXV0b1dpZHRoQ291bnQsYz0odS1zKS8oaCsoaC0xKSpsKTtjPU1hdGgubWF4KGMsMCksUChpLChmdW5jdGlvbih0KXt2YXIgZT10Lm1heFdpZHRoLG49dC5taW5XaWR0aDtpZih0LndpZHRoKXtpPXQud2lkdGg7ZSYmKGk9TWF0aC5taW4oaSxlKSksbiYmKGk9TWF0aC5tYXgoaSxuKSksdC53aWR0aD1pLHUtPWkrbCppLGgtLX1lbHNle3ZhciBpPWM7ZSYmZTxpJiYoaT1NYXRoLm1pbihlLHUpKSxuJiZuPmkmJihpPW4pLGkhPT1jJiYodC53aWR0aD1pLHUtPWkrbCppLGgtLSl9fSkpLGM9KHUtcykvKGgrKGgtMSkqbCksYz1NYXRoLm1heChjLDApO3ZhciBwLGQ9MDtQKGksKGZ1bmN0aW9uKHQsZSl7dC53aWR0aHx8KHQud2lkdGg9YykscD10LGQrPXQud2lkdGgqKDErbCl9KSkscCYmKGQtPXAud2lkdGgqbCk7dmFyIGY9LWQvMjtQKGksKGZ1bmN0aW9uKHQsaSl7bltlXVtpXT1uW2VdW2ldfHx7YmFuZFdpZHRoOnIsb2Zmc2V0OmYsd2lkdGg6dC53aWR0aH0sZis9dC53aWR0aCooMStsKX0pKX0pKSxufWZ1bmN0aW9uIHVfKHQsZSxuKXtpZih0JiZlKXt2YXIgaT10W29fKGUpXTtyZXR1cm4gbnVsbCE9aSYmbnVsbCE9bj9pW3JfKG4pXTppfX1mdW5jdGlvbiBoXyh0LGUpe3ZhciBuPWFfKHQsZSksaT1zXyhuKSxyPXt9O1AobiwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksbj10LmNvb3JkaW5hdGVTeXN0ZW0sbz1uLmdldEJhc2VBeGlzKCksYT1yXyh0KSxzPWlbb18obyldW2FdLGw9cy5vZmZzZXQsdT1zLndpZHRoLGg9bi5nZXRPdGhlckF4aXMobyksYz10LmdldChcImJhck1pbkhlaWdodFwiKXx8MDtyW2FdPXJbYV18fFtdLGUuc2V0TGF5b3V0KHtiYW5kV2lkdGg6cy5iYW5kV2lkdGgsb2Zmc2V0Omwsc2l6ZTp1fSk7Zm9yKHZhciBwPWUubWFwRGltZW5zaW9uKGguZGltKSxkPWUubWFwRGltZW5zaW9uKG8uZGltKSxmPUZtKGUscCksZz1oLmlzSG9yaXpvbnRhbCgpLHk9Zl8obyxoKSx2PTAsbT1lLmNvdW50KCk7djxtO3YrKyl7dmFyIF89ZS5nZXQocCx2KSx4PWUuZ2V0KGQsdiksYj1fPj0wP1wicFwiOlwiblwiLHc9eTtmJiYoclthXVt4XXx8KHJbYV1beF09e3A6eSxuOnl9KSx3PXJbYV1beF1bYl0pO3ZhciBTLE09dm9pZCAwLEk9dm9pZCAwLFQ9dm9pZCAwLEM9dm9pZCAwO2lmKGcpTT13LEk9KFM9bi5kYXRhVG9Qb2ludChbXyx4XSkpWzFdK2wsVD1TWzBdLXksQz11LE1hdGguYWJzKFQpPGMmJihUPShUPDA/LTE6MSkqYyksaXNOYU4oVCl8fGYmJihyW2FdW3hdW2JdKz1UKTtlbHNlIE09KFM9bi5kYXRhVG9Qb2ludChbeCxfXSkpWzBdK2wsST13LFQ9dSxDPVNbMV0teSxNYXRoLmFicyhDKTxjJiYoQz0oQzw9MD8tMToxKSpjKSxpc05hTihDKXx8ZiYmKHJbYV1beF1bYl0rPUMpO2Uuc2V0SXRlbUxheW91dCh2LHt4Ok0seTpJLHdpZHRoOlQsaGVpZ2h0OkN9KX19KSl9dmFyIGNfPXtzZXJpZXNUeXBlOlwiYmFyXCIscGxhbjpkZigpLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHBfKHQpJiZkXyh0KSl7dmFyIGU9dC5nZXREYXRhKCksbj10LmNvb3JkaW5hdGVTeXN0ZW0saT1uLm1hc3Rlci5nZXRSZWN0KCkscj1uLmdldEJhc2VBeGlzKCksbz1uLmdldE90aGVyQXhpcyhyKSxhPWUubWFwRGltZW5zaW9uKG8uZGltKSxzPWUubWFwRGltZW5zaW9uKHIuZGltKSxsPW8uaXNIb3Jpem9udGFsKCksdT1sPzA6MSxoPXVfKHNfKFt0XSkscix0KS53aWR0aDtyZXR1cm4gaD4uNXx8KGg9LjUpLHtwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgYyxwPXQuY291bnQsZD1uZXcgaV8oMipwKSxmPW5ldyBpXygyKnApLGc9bmV3IGlfKHApLHk9W10sdj1bXSxtPTAsXz0wO251bGwhPShjPXQubmV4dCgpKTspdlt1XT1lLmdldChhLGMpLHZbMS11XT1lLmdldChzLGMpLHk9bi5kYXRhVG9Qb2ludCh2LG51bGwseSksZlttXT1sP2kueCtpLndpZHRoOnlbMF0sZFttKytdPXlbMF0sZlttXT1sP3lbMV06aS55K2kuaGVpZ2h0LGRbbSsrXT15WzFdLGdbXysrXT1jO2Uuc2V0TGF5b3V0KHtsYXJnZVBvaW50czpkLGxhcmdlRGF0YUluZGljZXM6ZyxsYXJnZUJhY2tncm91bmRQb2ludHM6ZixiYXJXaWR0aDpoLHZhbHVlQXhpc1N0YXJ0OmZfKHIsbyksYmFja2dyb3VuZFN0YXJ0Omw/aS54OmkueSx2YWx1ZUF4aXNIb3Jpem9udGFsOmx9KX19fX19O2Z1bmN0aW9uIHBfKHQpe3JldHVybiB0LmNvb3JkaW5hdGVTeXN0ZW0mJlwiY2FydGVzaWFuMmRcIj09PXQuY29vcmRpbmF0ZVN5c3RlbS50eXBlfWZ1bmN0aW9uIGRfKHQpe3JldHVybiB0LnBpcGVsaW5lQ29udGV4dCYmdC5waXBlbGluZUNvbnRleHQubGFyZ2V9ZnVuY3Rpb24gZl8odCxlLG4pe3JldHVybiBlLnRvR2xvYmFsQ29vcmQoZS5kYXRhVG9Db29yZChcImxvZ1wiPT09ZS50eXBlPzE6MCkpfXZhciBnXz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9XCJ0aW1lXCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U2V0dGluZyhcInVzZVVUQ1wiKTtyZXR1cm4gWmgodC52YWx1ZSxHaFtmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwieWVhclwiOmNhc2VcIm1vbnRoXCI6cmV0dXJuXCJkYXlcIjtjYXNlXCJtaWxsaXNlY29uZFwiOnJldHVyblwibWlsbGlzZWNvbmRcIjtkZWZhdWx0OnJldHVyblwic2Vjb25kXCJ9fShYaCh0aGlzLl9taW5MZXZlbFVuaXQpKV18fEdoLnNlY29uZCxlLHRoaXMuZ2V0U2V0dGluZyhcImxvY2FsZVwiKSl9LGUucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldFNldHRpbmcoXCJ1c2VVVENcIik7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgbilvPW47ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKW89bih0LnZhbHVlLGUse2xldmVsOnQubGV2ZWx9KTtlbHNle3ZhciBhPUkoe30sVmgpO2lmKHQubGV2ZWw+MClmb3IodmFyIHM9MDtzPEhoLmxlbmd0aDsrK3MpYVtIaFtzXV09XCJ7cHJpbWFyeXxcIithW0hoW3NdXStcIn1cIjt2YXIgbD1uPyExPT09bi5pbmhlcml0P246VChuLGEpOmEsdT1qaCh0LnZhbHVlLHIpO2lmKGxbdV0pbz1sW3VdO2Vsc2UgaWYobC5pbmhlcml0KXtmb3Iocz1XaC5pbmRleE9mKHUpLTE7cz49MDstLXMpaWYobFt1XSl7bz1sW3VdO2JyZWFrfW89b3x8YS5ub25lfWlmKEYobykpe3ZhciBoPW51bGw9PXQubGV2ZWw/MDp0LmxldmVsPj0wP3QubGV2ZWw6by5sZW5ndGgrdC5sZXZlbDtvPW9baD1NYXRoLm1pbihoLG8ubGVuZ3RoLTEpXX19cmV0dXJuIFpoKG5ldyBEYXRlKHQudmFsdWUpLG8scixpKX0odCxlLG4sdGhpcy5nZXRTZXR0aW5nKFwibG9jYWxlXCIpLGkpfSxlLnByb3RvdHlwZS5nZXRUaWNrcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbnRlcnZhbCxuPXRoaXMuX2V4dGVudCxpPVtdO2lmKCFlKXJldHVybiBpO2kucHVzaCh7dmFsdWU6blswXSxsZXZlbDowfSk7dmFyIHI9dGhpcy5nZXRTZXR0aW5nKFwidXNlVVRDXCIpLG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9MWU0LG89V2gsYT0wO2Z1bmN0aW9uIHModCxlLG4scixvLGEscyl7Zm9yKHZhciBsPW5ldyBEYXRlKGUpLHU9ZSxoPWxbcl0oKTt1PG4mJnU8PWlbMV07KXMucHVzaCh7dmFsdWU6dX0pLGgrPXQsbFtvXShoKSx1PWwuZ2V0VGltZSgpO3MucHVzaCh7dmFsdWU6dSxub3RBZGQ6ITB9KX1mdW5jdGlvbiBsKHQscixvKXt2YXIgYT1bXSxsPSFyLmxlbmd0aDtpZighZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9cnIoZSksbz1ycihuKSxhPWZ1bmN0aW9uKHQpe3JldHVybiBxaChyLHQsaSk9PT1xaChvLHQsaSl9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gYShcInllYXJcIil9LGw9ZnVuY3Rpb24oKXtyZXR1cm4gcygpJiZhKFwibW9udGhcIil9LHU9ZnVuY3Rpb24oKXtyZXR1cm4gbCgpJiZhKFwiZGF5XCIpfSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHUoKSYmYShcImhvdXJcIil9LGM9ZnVuY3Rpb24oKXtyZXR1cm4gaCgpJiZhKFwibWludXRlXCIpfSxwPWZ1bmN0aW9uKCl7cmV0dXJuIGMoKSYmYShcInNlY29uZFwiKX0sZD1mdW5jdGlvbigpe3JldHVybiBwKCkmJmEoXCJtaWxsaXNlY29uZFwiKX07c3dpdGNoKHQpe2Nhc2VcInllYXJcIjpyZXR1cm4gcygpO2Nhc2VcIm1vbnRoXCI6cmV0dXJuIGwoKTtjYXNlXCJkYXlcIjpyZXR1cm4gdSgpO2Nhc2VcImhvdXJcIjpyZXR1cm4gaCgpO2Nhc2VcIm1pbnV0ZVwiOnJldHVybiBjKCk7Y2FzZVwic2Vjb25kXCI6cmV0dXJuIHAoKTtjYXNlXCJtaWxsaXNlY29uZFwiOnJldHVybiBkKCl9fShYaCh0KSxpWzBdLGlbMV0sbikpe2wmJihyPVt7dmFsdWU6d18obmV3IERhdGUoaVswXSksdCxuKX0se3ZhbHVlOmlbMV19XSk7Zm9yKHZhciB1PTA7dTxyLmxlbmd0aC0xO3UrKyl7dmFyIGg9clt1XS52YWx1ZSxjPXJbdSsxXS52YWx1ZTtpZihoIT09Yyl7dmFyIHA9dm9pZCAwLGQ9dm9pZCAwLGY9dm9pZCAwLGc9ITE7c3dpdGNoKHQpe2Nhc2VcInllYXJcIjpwPU1hdGgubWF4KDEsTWF0aC5yb3VuZChlL3poLzM2NSkpLGQ9S2gobiksZj1pYyhuKTticmVhaztjYXNlXCJoYWxmLXllYXJcIjpjYXNlXCJxdWFydGVyXCI6Y2FzZVwibW9udGhcIjpwPW1fKGUpLGQ9JGgobiksZj1yYyhuKTticmVhaztjYXNlXCJ3ZWVrXCI6Y2FzZVwiaGFsZi13ZWVrXCI6Y2FzZVwiZGF5XCI6cD12XyhlKSxkPUpoKG4pLGY9b2MobiksZz0hMDticmVhaztjYXNlXCJoYWxmLWRheVwiOmNhc2VcInF1YXJ0ZXItZGF5XCI6Y2FzZVwiaG91clwiOnA9X18oZSksZD1RaChuKSxmPWFjKG4pO2JyZWFrO2Nhc2VcIm1pbnV0ZVwiOnA9eF8oZSwhMCksZD10YyhuKSxmPXNjKG4pO2JyZWFrO2Nhc2VcInNlY29uZFwiOnA9eF8oZSwhMSksZD1lYyhuKSxmPWxjKG4pO2JyZWFrO2Nhc2VcIm1pbGxpc2Vjb25kXCI6cD1iXyhlKSxkPW5jKG4pLGY9dWMobil9cyhwLGgsYyxkLGYsZyxhKSxcInllYXJcIj09PXQmJm8ubGVuZ3RoPjEmJjA9PT11JiZvLnVuc2hpZnQoe3ZhbHVlOm9bMF0udmFsdWUtcH0pfX1mb3IodT0wO3U8YS5sZW5ndGg7dSsrKW8ucHVzaChhW3VdKTtyZXR1cm4gYX19Zm9yKHZhciB1PVtdLGg9W10sYz0wLHA9MCxkPTA7ZDxvLmxlbmd0aCYmYSsrPHI7KytkKXt2YXIgZj1YaChvW2RdKTtpZihVaChvW2RdKSlpZihsKG9bZF0sdVt1Lmxlbmd0aC0xXXx8W10saCksZiE9PShvW2QrMV0/WGgob1tkKzFdKTpudWxsKSl7aWYoaC5sZW5ndGgpe3A9YyxoLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUtZS52YWx1ZX0pKTtmb3IodmFyIGc9W10seT0wO3k8aC5sZW5ndGg7Kyt5KXt2YXIgdj1oW3ldLnZhbHVlOzAhPT15JiZoW3ktMV0udmFsdWU9PT12fHwoZy5wdXNoKGhbeV0pLHY+PWlbMF0mJnY8PWlbMV0mJmMrKyl9dmFyIG09KGlbMV0taVswXSkvZTtpZihjPjEuNSptJiZwPm0vMS41KWJyZWFrO2lmKHUucHVzaChnKSxjPm18fHQ9PT1vW2RdKWJyZWFrfWg9W119fTA7dmFyIF89TihPKHUsKGZ1bmN0aW9uKHQpe3JldHVybiBOKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlPj1pWzBdJiZ0LnZhbHVlPD1pWzFdJiYhdC5ub3RBZGR9KSl9KSksKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD4wfSkpLHg9W10sYj1fLmxlbmd0aC0xO2ZvcihkPTA7ZDxfLmxlbmd0aDsrK2QpZm9yKHZhciB3PV9bZF0sUz0wO1M8dy5sZW5ndGg7KytTKXgucHVzaCh7dmFsdWU6d1tTXS52YWx1ZSxsZXZlbDpiLWR9KTt4LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUtZS52YWx1ZX0pKTt2YXIgTT1bXTtmb3IoZD0wO2Q8eC5sZW5ndGg7KytkKTAhPT1kJiZ4W2RdLnZhbHVlPT09eFtkLTFdLnZhbHVlfHxNLnB1c2goeFtkXSk7cmV0dXJuIE19KHRoaXMuX21pbkxldmVsVW5pdCx0aGlzLl9hcHByb3hJbnRlcnZhbCxyLG4pO3JldHVybihpPWkuY29uY2F0KG8pKS5wdXNoKHt2YWx1ZTpuWzFdLGxldmVsOjB9KSxpfSxlLnByb3RvdHlwZS5uaWNlRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtpZihlWzBdPT09ZVsxXSYmKGVbMF0tPXpoLGVbMV0rPXpoKSxlWzFdPT09LTEvMCYmZVswXT09PTEvMCl7dmFyIG49bmV3IERhdGU7ZVsxXT0rbmV3IERhdGUobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKSksZVswXT1lWzFdLXpofXRoaXMubmljZVRpY2tzKHQuc3BsaXROdW1iZXIsdC5taW5JbnRlcnZhbCx0Lm1heEludGVydmFsKX0sZS5wcm90b3R5cGUubmljZVRpY2tzPWZ1bmN0aW9uKHQsZSxuKXt0PXR8fDEwO3ZhciBpPXRoaXMuX2V4dGVudCxyPWlbMV0taVswXTt0aGlzLl9hcHByb3hJbnRlcnZhbD1yL3QsbnVsbCE9ZSYmdGhpcy5fYXBwcm94SW50ZXJ2YWw8ZSYmKHRoaXMuX2FwcHJveEludGVydmFsPWUpLG51bGwhPW4mJnRoaXMuX2FwcHJveEludGVydmFsPm4mJih0aGlzLl9hcHByb3hJbnRlcnZhbD1uKTt2YXIgbz15Xy5sZW5ndGgsYT1NYXRoLm1pbihmdW5jdGlvbih0LGUsbixpKXtmb3IoO248aTspe3ZhciByPW4raT4+PjE7dFtyXVsxXTxlP249cisxOmk9cn1yZXR1cm4gbn0oeV8sdGhpcy5fYXBwcm94SW50ZXJ2YWwsMCxvKSxvLTEpO3RoaXMuX2ludGVydmFsPXlfW2FdWzFdLHRoaXMuX21pbkxldmVsVW5pdD15X1tNYXRoLm1heChhLTEsMCldWzBdfSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90Oitycih0KX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gS20odGhpcy5wYXJzZSh0KSx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuICRtKHRoaXMucGFyc2UodCksdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIEptKHQsdGhpcy5fZXh0ZW50KX0sZS50eXBlPVwidGltZVwiLGV9KGVfKSx5Xz1bW1wic2Vjb25kXCIsUmhdLFtcIm1pbnV0ZVwiLE5oXSxbXCJob3VyXCIsRWhdLFtcInF1YXJ0ZXItZGF5XCIsMjE2ZTVdLFtcImhhbGYtZGF5XCIsNDMyZTVdLFtcImRheVwiLDEwMzY4ZTRdLFtcImhhbGYtd2Vla1wiLDMwMjRlNV0sW1wid2Vla1wiLDYwNDhlNV0sW1wibW9udGhcIiwyNjc4NGU1XSxbXCJxdWFydGVyXCIsODIwOGU2XSxbXCJoYWxmLXllYXJcIixCaC8yXSxbXCJ5ZWFyXCIsQmhdXTtmdW5jdGlvbiB2Xyh0LGUpe3JldHVybih0Lz16aCk+MTY/MTY6dD43LjU/Nzp0PjMuNT80OnQ+MS41PzI6MX1mdW5jdGlvbiBtXyh0KXtyZXR1cm4odC89MjU5MmU2KT42PzY6dD4zPzM6dD4yPzI6MX1mdW5jdGlvbiBfXyh0KXtyZXR1cm4odC89RWgpPjEyPzEyOnQ+Nj82OnQ+My41PzQ6dD4yPzI6MX1mdW5jdGlvbiB4Xyh0LGUpe3JldHVybih0Lz1lP05oOlJoKT4zMD8zMDp0PjIwPzIwOnQ+MTU/MTU6dD4xMD8xMDp0PjU/NTp0PjI/MjoxfWZ1bmN0aW9uIGJfKHQpe3JldHVybiBzcih0LCEwKX1mdW5jdGlvbiB3Xyh0LGUsbil7dmFyIGk9bmV3IERhdGUodCk7c3dpdGNoKFhoKGUpKXtjYXNlXCJ5ZWFyXCI6Y2FzZVwibW9udGhcIjppW3JjKG4pXSgwKTtjYXNlXCJkYXlcIjppW29jKG4pXSgxKTtjYXNlXCJob3VyXCI6aVthYyhuKV0oMCk7Y2FzZVwibWludXRlXCI6aVtzYyhuKV0oMCk7Y2FzZVwic2Vjb25kXCI6aVtsYyhuKV0oMCksaVt1YyhuKV0oMCl9cmV0dXJuIGkuZ2V0VGltZSgpfVdtLnJlZ2lzdGVyQ2xhc3MoZ18pO3ZhciBTXz1XbS5wcm90b3R5cGUsTV89ZV8ucHJvdG90eXBlLElfPSRpLFRfPWppLENfPU1hdGguZmxvb3IsQV89TWF0aC5jZWlsLERfPU1hdGgucG93LExfPU1hdGgubG9nLGtfPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT1cImxvZ1wiLGUuYmFzZT0xMCxlLl9vcmlnaW5hbFNjYWxlPW5ldyBlXyxlLl9pbnRlcnZhbD0wLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRUaWNrcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcmlnaW5hbFNjYWxlLG49dGhpcy5fZXh0ZW50LGk9ZS5nZXRFeHRlbnQoKTtyZXR1cm4gTyhNXy5nZXRUaWNrcy5jYWxsKHRoaXMsdCksKGZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWUscj1qaShEXyh0aGlzLmJhc2UsZSkpO3JldHVybiByPWU9PT1uWzBdJiZ0aGlzLl9maXhNaW4/T18ocixpWzBdKTpyLHt2YWx1ZTpyPWU9PT1uWzFdJiZ0aGlzLl9maXhNYXg/T18ocixpWzFdKTpyfX0pLHRoaXMpfSxlLnByb3RvdHlwZS5zZXRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmJhc2U7dD1MXyh0KS9MXyhuKSxlPUxfKGUpL0xfKG4pLE1fLnNldEV4dGVudC5jYWxsKHRoaXMsdCxlKX0sZS5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYXNlLGU9U18uZ2V0RXh0ZW50LmNhbGwodGhpcyk7ZVswXT1EXyh0LGVbMF0pLGVbMV09RF8odCxlWzFdKTt2YXIgbj10aGlzLl9vcmlnaW5hbFNjYWxlLmdldEV4dGVudCgpO3JldHVybiB0aGlzLl9maXhNaW4mJihlWzBdPU9fKGVbMF0sblswXSkpLHRoaXMuX2ZpeE1heCYmKGVbMV09T18oZVsxXSxuWzFdKSksZX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnQ9ZnVuY3Rpb24odCl7dGhpcy5fb3JpZ2luYWxTY2FsZS51bmlvbkV4dGVudCh0KTt2YXIgZT10aGlzLmJhc2U7dFswXT1MXyh0WzBdKS9MXyhlKSx0WzFdPUxfKHRbMV0pL0xfKGUpLFNfLnVuaW9uRXh0ZW50LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnRGcm9tRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LGUucHJvdG90eXBlLm5pY2VUaWNrcz1mdW5jdGlvbih0KXt0PXR8fDEwO3ZhciBlPXRoaXMuX2V4dGVudCxuPWVbMV0tZVswXTtpZighKG49PT0xLzB8fG48PTApKXt2YXIgaT1vcihuKTtmb3IodC9uKmk8PS41JiYoaSo9MTApOyFpc05hTihpKSYmTWF0aC5hYnMoaSk8MSYmTWF0aC5hYnMoaSk+MDspaSo9MTA7dmFyIHI9W2ppKEFfKGVbMF0vaSkqaSksamkoQ18oZVsxXS9pKSppKV07dGhpcy5faW50ZXJ2YWw9aSx0aGlzLl9uaWNlRXh0ZW50PXJ9fSxlLnByb3RvdHlwZS5uaWNlRXh0ZW50PWZ1bmN0aW9uKHQpe01fLm5pY2VFeHRlbnQuY2FsbCh0aGlzLHQpLHRoaXMuX2ZpeE1pbj10LmZpeE1pbix0aGlzLl9maXhNYXg9dC5maXhNYXh9LGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQpe3JldHVybiBLbSh0PUxfKHQpL0xfKHRoaXMuYmFzZSksdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiAkbSh0PUxfKHQpL0xfKHRoaXMuYmFzZSksdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9Sm0odCx0aGlzLl9leHRlbnQpLERfKHRoaXMuYmFzZSx0KX0sZS50eXBlPVwibG9nXCIsZX0oV20pLFBfPWtfLnByb3RvdHlwZTtmdW5jdGlvbiBPXyh0LGUpe3JldHVybiBUXyh0LElfKGUpKX1QXy5nZXRNaW5vclRpY2tzPU1fLmdldE1pbm9yVGlja3MsUF8uZ2V0TGFiZWw9TV8uZ2V0TGFiZWwsV20ucmVnaXN0ZXJDbGFzcyhrXyk7dmFyIFJfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fcHJlcGFyZVBhcmFtcyh0LGUsbil9cmV0dXJuIHQucHJvdG90eXBlLl9wcmVwYXJlUGFyYW1zPWZ1bmN0aW9uKHQsZSxuKXtuWzFdPG5bMF0mJihuPVtOYU4sTmFOXSksdGhpcy5fZGF0YU1pbj1uWzBdLHRoaXMuX2RhdGFNYXg9blsxXTt2YXIgaT10aGlzLl9pc09yZGluYWw9XCJvcmRpbmFsXCI9PT10LnR5cGU7dGhpcy5fbmVlZENyb3NzWmVybz1lLmdldE5lZWRDcm9zc1plcm8mJmUuZ2V0TmVlZENyb3NzWmVybygpO3ZhciByPXRoaXMuX21vZGVsTWluUmF3PWUuZ2V0KFwibWluXCIsITApO0cocik/dGhpcy5fbW9kZWxNaW5OdW09Ql8odCxyKHttaW46blswXSxtYXg6blsxXX0pKTpcImRhdGFNaW5cIiE9PXImJih0aGlzLl9tb2RlbE1pbk51bT1CXyh0LHIpKTt2YXIgbz10aGlzLl9tb2RlbE1heFJhdz1lLmdldChcIm1heFwiLCEwKTtpZihHKG8pP3RoaXMuX21vZGVsTWF4TnVtPUJfKHQsbyh7bWluOm5bMF0sbWF4Om5bMV19KSk6XCJkYXRhTWF4XCIhPT1vJiYodGhpcy5fbW9kZWxNYXhOdW09Ql8odCxvKSksaSl0aGlzLl9heGlzRGF0YUxlbj1lLmdldENhdGVnb3JpZXMoKS5sZW5ndGg7ZWxzZXt2YXIgYT1lLmdldChcImJvdW5kYXJ5R2FwXCIpLHM9RihhKT9hOlthfHwwLGF8fDBdO1wiYm9vbGVhblwiPT10eXBlb2Ygc1swXXx8XCJib29sZWFuXCI9PXR5cGVvZiBzWzFdP3RoaXMuX2JvdW5kYXJ5R2FwSW5uZXI9WzAsMF06dGhpcy5fYm91bmRhcnlHYXBJbm5lcj1bWW4oc1swXSwxKSxZbihzWzFdLDEpXX19LHQucHJvdG90eXBlLmNhbGN1bGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2lzT3JkaW5hbCxlPXRoaXMuX2RhdGFNaW4sbj10aGlzLl9kYXRhTWF4LGk9dGhpcy5fYXhpc0RhdGFMZW4scj10aGlzLl9ib3VuZGFyeUdhcElubmVyLG89dD9udWxsOm4tZXx8TWF0aC5hYnMoZSksYT1cImRhdGFNaW5cIj09PXRoaXMuX21vZGVsTWluUmF3P2U6dGhpcy5fbW9kZWxNaW5OdW0scz1cImRhdGFNYXhcIj09PXRoaXMuX21vZGVsTWF4UmF3P246dGhpcy5fbW9kZWxNYXhOdW0sbD1udWxsIT1hLHU9bnVsbCE9cztudWxsPT1hJiYoYT10P2k/MDpOYU46ZS1yWzBdKm8pLG51bGw9PXMmJihzPXQ/aT9pLTE6TmFOOm4rclsxXSpvKSwobnVsbD09YXx8IWlzRmluaXRlKGEpKSYmKGE9TmFOKSwobnVsbD09c3x8IWlzRmluaXRlKHMpKSYmKHM9TmFOKSxhPnMmJihhPU5hTixzPU5hTik7dmFyIGg9SihhKXx8SihzKXx8dCYmIWk7dGhpcy5fbmVlZENyb3NzWmVybyYmKGE+MCYmcz4wJiYhbCYmKGE9MCksYTwwJiZzPDAmJiF1JiYocz0wKSk7dmFyIGM9dGhpcy5fZGV0ZXJtaW5lZE1pbixwPXRoaXMuX2RldGVybWluZWRNYXg7cmV0dXJuIG51bGwhPWMmJihhPWMsbD0hMCksbnVsbCE9cCYmKHM9cCx1PSEwKSx7bWluOmEsbWF4OnMsbWluRml4ZWQ6bCxtYXhGaXhlZDp1LGlzQmxhbms6aH19LHQucHJvdG90eXBlLm1vZGlmeURhdGFNaW5NYXg9ZnVuY3Rpb24odCxlKXt0aGlzW0VfW3RdXT1lfSx0LnByb3RvdHlwZS5zZXREZXRlcm1pbmVkTWluTWF4PWZ1bmN0aW9uKHQsZSl7dmFyIG49Tl9bdF07dGhpc1tuXT1lfSx0LnByb3RvdHlwZS5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLmZyb3plbj0hMH0sdH0oKSxOXz17bWluOlwiX2RldGVybWluZWRNaW5cIixtYXg6XCJfZGV0ZXJtaW5lZE1heFwifSxFXz17bWluOlwiX2RhdGFNaW5cIixtYXg6XCJfZGF0YU1heFwifTtmdW5jdGlvbiB6Xyh0LGUsbil7dmFyIGk9dC5yYXdFeHRlbnRJbmZvO3JldHVybiBpfHwoaT1uZXcgUl8odCxlLG4pLHQucmF3RXh0ZW50SW5mbz1pLGkpfWZ1bmN0aW9uIEJfKHQsZSl7cmV0dXJuIG51bGw9PWU/bnVsbDpKKGUpP05hTjp0LnBhcnNlKGUpfWZ1bmN0aW9uIFZfKHQsZSl7dmFyIG49dC50eXBlLGk9el8odCxlLHQuZ2V0RXh0ZW50KCkpLmNhbGN1bGF0ZSgpO3Quc2V0QmxhbmsoaS5pc0JsYW5rKTt2YXIgcj1pLm1pbixvPWkubWF4LGE9ZS5lY01vZGVsO2lmKGEmJlwidGltZVwiPT09bil7dmFyIHM9YV8oXCJiYXJcIixhKSxsPSExO2lmKFAocywoZnVuY3Rpb24odCl7bD1sfHx0LmdldEJhc2VBeGlzKCk9PT1lLmF4aXN9KSksbCl7dmFyIHU9c18ocyksaD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMuZ2V0RXh0ZW50KCksbz1yWzFdLXJbMF0sYT11XyhpLG4uYXhpcyk7aWYodm9pZCAwPT09YSlyZXR1cm57bWluOnQsbWF4OmV9O3ZhciBzPTEvMDtQKGEsKGZ1bmN0aW9uKHQpe3M9TWF0aC5taW4odC5vZmZzZXQscyl9KSk7dmFyIGw9LTEvMDtQKGEsKGZ1bmN0aW9uKHQpe2w9TWF0aC5tYXgodC5vZmZzZXQrdC53aWR0aCxsKX0pKSxzPU1hdGguYWJzKHMpLGw9TWF0aC5hYnMobCk7dmFyIHU9cytsLGg9ZS10LGM9aC8oMS0ocytsKS9vKS1oO3JldHVybnttaW46dC09Yyoocy91KSxtYXg6ZSs9YyoobC91KX19KHIsbyxlLHUpO3I9aC5taW4sbz1oLm1heH19cmV0dXJue2V4dGVudDpbcixvXSxmaXhNaW46aS5taW5GaXhlZCxmaXhNYXg6aS5tYXhGaXhlZH19ZnVuY3Rpb24gRl8odCxlKXt2YXIgbj1WXyh0LGUpLGk9bi5leHRlbnQscj1lLmdldChcInNwbGl0TnVtYmVyXCIpO3QgaW5zdGFuY2VvZiBrXyYmKHQuYmFzZT1lLmdldChcImxvZ0Jhc2VcIikpO3ZhciBvPXQudHlwZTt0LnNldEV4dGVudChpWzBdLGlbMV0pLHQubmljZUV4dGVudCh7c3BsaXROdW1iZXI6cixmaXhNaW46bi5maXhNaW4sZml4TWF4Om4uZml4TWF4LG1pbkludGVydmFsOlwiaW50ZXJ2YWxcIj09PW98fFwidGltZVwiPT09bz9lLmdldChcIm1pbkludGVydmFsXCIpOm51bGwsbWF4SW50ZXJ2YWw6XCJpbnRlcnZhbFwiPT09b3x8XCJ0aW1lXCI9PT1vP2UuZ2V0KFwibWF4SW50ZXJ2YWxcIik6bnVsbH0pO3ZhciBhPWUuZ2V0KFwiaW50ZXJ2YWxcIik7bnVsbCE9YSYmdC5zZXRJbnRlcnZhbCYmdC5zZXRJbnRlcnZhbChhKX1mdW5jdGlvbiBHXyh0LGUpe2lmKGU9ZXx8dC5nZXQoXCJ0eXBlXCIpKXN3aXRjaChlKXtjYXNlXCJjYXRlZ29yeVwiOnJldHVybiBuZXcgUW0oe29yZGluYWxNZXRhOnQuZ2V0T3JkaW5hbE1ldGE/dC5nZXRPcmRpbmFsTWV0YSgpOnQuZ2V0Q2F0ZWdvcmllcygpLGV4dGVudDpbMS8wLC0xLzBdfSk7Y2FzZVwidGltZVwiOnJldHVybiBuZXcgZ18oe2xvY2FsZTp0LmVjTW9kZWwuZ2V0TG9jYWxlTW9kZWwoKSx1c2VVVEM6dC5lY01vZGVsLmdldChcInVzZVVUQ1wiKX0pO2RlZmF1bHQ6cmV0dXJuIG5ldyhXbS5nZXRDbGFzcyhlKXx8ZV8pfX1mdW5jdGlvbiBIXyh0KXt2YXIgZSxuLGk9dC5nZXRMYWJlbE1vZGVsKCkuZ2V0KFwiZm9ybWF0dGVyXCIpLHI9XCJjYXRlZ29yeVwiPT09dC50eXBlP3Quc2NhbGUuZ2V0RXh0ZW50KClbMF06bnVsbDtyZXR1cm5cInRpbWVcIj09PXQuc2NhbGUudHlwZT8obj1pLGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuc2NhbGUuZ2V0Rm9ybWF0dGVkTGFiZWwoZSxpLG4pfSk6XCJzdHJpbmdcIj09dHlwZW9mIGk/ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXQuc2NhbGUuZ2V0TGFiZWwobik7cmV0dXJuIGUucmVwbGFjZShcInt2YWx1ZX1cIixudWxsIT1pP2k6XCJcIil9fShpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBpPyhlPWksZnVuY3Rpb24obixpKXtyZXR1cm4gbnVsbCE9ciYmKGk9bi52YWx1ZS1yKSxlKFdfKHQsbiksaSxudWxsIT1uLmxldmVsP3tsZXZlbDpuLmxldmVsfTpudWxsKX0pOmZ1bmN0aW9uKGUpe3JldHVybiB0LnNjYWxlLmdldExhYmVsKGUpfX1mdW5jdGlvbiBXXyh0LGUpe3JldHVyblwiY2F0ZWdvcnlcIj09PXQudHlwZT90LnNjYWxlLmdldExhYmVsKGUpOmUudmFsdWV9ZnVuY3Rpb24gWV8odCxlKXt2YXIgbj1lKk1hdGguUEkvMTgwLGk9dC53aWR0aCxyPXQuaGVpZ2h0LG89aSpNYXRoLmFicyhNYXRoLmNvcyhuKSkrTWF0aC5hYnMocipNYXRoLnNpbihuKSksYT1pKk1hdGguYWJzKE1hdGguc2luKG4pKStNYXRoLmFicyhyKk1hdGguY29zKG4pKTtyZXR1cm4gbmV3IFJuKHQueCx0LnksbyxhKX1mdW5jdGlvbiBYXyh0KXt2YXIgZT10LmdldChcImludGVydmFsXCIpO3JldHVybiBudWxsPT1lP1wiYXV0b1wiOmV9ZnVuY3Rpb24gVV8odCl7cmV0dXJuXCJjYXRlZ29yeVwiPT09dC50eXBlJiYwPT09WF8odC5nZXRMYWJlbE1vZGVsKCkpfWZ1bmN0aW9uIFpfKHQsZSl7dmFyIG49e307cmV0dXJuIFAodC5tYXBEaW1lbnNpb25zQWxsKGUpLChmdW5jdGlvbihlKXtuW0dtKHQsZSldPSEwfSkpLHoobil9dmFyIGpfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TmVlZENyb3NzWmVybz1mdW5jdGlvbigpe3JldHVybiF0aGlzLm9wdGlvbi5zY2FsZX0sdC5wcm90b3R5cGUuZ2V0Q29vcmRTeXNNb2RlbD1mdW5jdGlvbigpe30sdH0oKTt2YXIgcV89e2lzRGltZW5zaW9uU3RhY2tlZDpGbSxlbmFibGVEYXRhU3RhY2s6Vm0sZ2V0U3RhY2tlZERpbWVuc2lvbjpHbX07dmFyIEtfPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZUxpc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIEhtKHQuZ2V0U291cmNlKCksdCl9LGdldExheW91dFJlY3Q6QWMsZGF0YVN0YWNrOnFfLGNyZWF0ZVNjYWxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZTtlIGluc3RhbmNlb2YgU2h8fChuPW5ldyBTaChlKSk7dmFyIGk9R18obik7cmV0dXJuIGkuc2V0RXh0ZW50KHRbMF0sdFsxXSksRl8oaSxuKSxpfSxtaXhpbkF4aXNNb2RlbENvbW1vbk1ldGhvZHM6ZnVuY3Rpb24odCl7TCh0LGpfKX0sZ2V0RUNEYXRhOnlzLGNyZWF0ZVRleHRTdHlsZTpmdW5jdGlvbih0LGUpe3JldHVybiBuaCh0LG51bGwsbnVsbCxcIm5vcm1hbFwiIT09KGU9ZXx8e30pLnN0YXRlKX0sY3JlYXRlRGltZW5zaW9uczpObSxjcmVhdGVTeW1ib2w6dXksZW5hYmxlSG92ZXJFbXBoYXNpczpKc30pO2Z1bmN0aW9uICRfKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtOH1mdW5jdGlvbiBKXyh0LGUsbil7dmFyIGk9MCxyPXRbMF07aWYoIXIpcmV0dXJuITE7Zm9yKHZhciBvPTE7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPXRbb107aSs9TmEoclswXSxyWzFdLGFbMF0sYVsxXSxlLG4pLHI9YX12YXIgcz10WzBdO3JldHVybiAkXyhyWzBdLHNbMF0pJiYkXyhyWzFdLHNbMV0pfHwoaSs9TmEoclswXSxyWzFdLHNbMF0sc1sxXSxlLG4pKSwwIT09aX12YXIgUV89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXtpZih0aGlzLm5hbWU9dCx0aGlzLmdlb21ldHJpZXM9ZSxuKW49W25bMF0sblsxXV07ZWxzZXt2YXIgaT10aGlzLmdldEJvdW5kaW5nUmVjdCgpO249W2kueCtpLndpZHRoLzIsaS55K2kuaGVpZ2h0LzJdfXRoaXMuY2VudGVyPW59cmV0dXJuIHQucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3Q7aWYodClyZXR1cm4gdDtmb3IodmFyIGU9TnVtYmVyLk1BWF9WQUxVRSxuPVtlLGVdLGk9Wy1lLC1lXSxyPVtdLG89W10sYT10aGlzLmdlb21ldHJpZXMscz0wO3M8YS5sZW5ndGg7cysrKXtpZihcInBvbHlnb25cIj09PWFbc10udHlwZSllYShhW3NdLmV4dGVyaW9yLHIsbyksTnQobixuLHIpLEV0KGksaSxvKX1yZXR1cm4gMD09PXMmJihuWzBdPW5bMV09aVswXT1pWzFdPTApLHRoaXMuX3JlY3Q9bmV3IFJuKG5bMF0sblsxXSxpWzBdLW5bMF0saVsxXS1uWzFdKX0sdC5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kaW5nUmVjdCgpLG49dGhpcy5nZW9tZXRyaWVzO2lmKCFlLmNvbnRhaW4odFswXSx0WzFdKSlyZXR1cm4hMTt0OmZvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKylpZihcInBvbHlnb25cIj09PW5baV0udHlwZSl7dmFyIG89bltpXS5leHRlcmlvcixhPW5baV0uaW50ZXJpb3JzO2lmKEpfKG8sdFswXSx0WzFdKSl7Zm9yKHZhciBzPTA7czwoYT9hLmxlbmd0aDowKTtzKyspaWYoSl8oYVtzXSx0WzBdLHRbMV0pKWNvbnRpbnVlIHQ7cmV0dXJuITB9fXJldHVybiExfSx0LnByb3RvdHlwZS50cmFuc2Zvcm1Ubz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLmdldEJvdW5kaW5nUmVjdCgpLG89ci53aWR0aC9yLmhlaWdodDtuP2l8fChpPW4vbyk6bj1vKmk7Zm9yKHZhciBhPW5ldyBSbih0LGUsbixpKSxzPXIuY2FsY3VsYXRlVHJhbnNmb3JtKGEpLGw9dGhpcy5nZW9tZXRyaWVzLHU9MDt1PGwubGVuZ3RoO3UrKylpZihcInBvbHlnb25cIj09PWxbdV0udHlwZSl7Zm9yKHZhciBoPWxbdV0uZXh0ZXJpb3IsYz1sW3VdLmludGVyaW9ycyxwPTA7cDxoLmxlbmd0aDtwKyspUnQoaFtwXSxoW3BdLHMpO2Zvcih2YXIgZD0wO2Q8KGM/Yy5sZW5ndGg6MCk7ZCsrKWZvcihwPTA7cDxjW2RdLmxlbmd0aDtwKyspUnQoY1tkXVtwXSxjW2RdW3BdLHMpfShyPXRoaXMuX3JlY3QpLmNvcHkoYSksdGhpcy5jZW50ZXI9W3IueCtyLndpZHRoLzIsci55K3IuaGVpZ2h0LzJdfSx0LnByb3RvdHlwZS5jbG9uZVNoYWxsb3c9ZnVuY3Rpb24oZSl7bnVsbD09ZSYmKGU9dGhpcy5uYW1lKTt2YXIgbj1uZXcgdChlLHRoaXMuZ2VvbWV0cmllcyx0aGlzLmNlbnRlcik7cmV0dXJuIG4uX3JlY3Q9dGhpcy5fcmVjdCxuLnRyYW5zZm9ybVRvPW51bGwsbn0sdH0oKTtmdW5jdGlvbiB0eCh0LGUsbil7Zm9yKHZhciBpPVtdLHI9ZVswXSxvPWVbMV0sYT0wO2E8dC5sZW5ndGg7YSs9Mil7dmFyIHM9dC5jaGFyQ29kZUF0KGEpLTY0LGw9dC5jaGFyQ29kZUF0KGErMSktNjQ7cz1zPj4xXi0oMSZzKSxsPWw+PjFeLSgxJmwpLHI9cys9cixvPWwrPW8saS5wdXNoKFtzL24sbC9uXSl9cmV0dXJuIGl9ZnVuY3Rpb24gZXgodCxlKXtyZXR1cm4gTyhOKCh0PWZ1bmN0aW9uKHQpe2lmKCF0LlVURjhFbmNvZGluZylyZXR1cm4gdDt2YXIgZT10LG49ZS5VVEY4U2NhbGU7bnVsbD09biYmKG49MTAyNCk7Zm9yKHZhciBpPWUuZmVhdHVyZXMscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLmdlb21ldHJ5O2lmKFwiUG9seWdvblwiPT09by50eXBlKWZvcih2YXIgYT1vLmNvb3JkaW5hdGVzLHM9MDtzPGEubGVuZ3RoO3MrKylhW3NdPXR4KGFbc10sby5lbmNvZGVPZmZzZXRzW3NdLG4pO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PW8udHlwZSlmb3IoYT1vLmNvb3JkaW5hdGVzLHM9MDtzPGEubGVuZ3RoO3MrKylmb3IodmFyIGw9YVtzXSx1PTA7dTxsLmxlbmd0aDt1KyspbFt1XT10eChsW3VdLG8uZW5jb2RlT2Zmc2V0c1tzXVt1XSxuKX1yZXR1cm4gZS5VVEY4RW5jb2Rpbmc9ITEsZX0odCkpLmZlYXR1cmVzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeSYmdC5wcm9wZXJ0aWVzJiZ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aD4wfSkpLChmdW5jdGlvbih0KXt2YXIgbj10LnByb3BlcnRpZXMsaT10Lmdlb21ldHJ5LHI9W107aWYoXCJQb2x5Z29uXCI9PT1pLnR5cGUpe3ZhciBvPWkuY29vcmRpbmF0ZXM7ci5wdXNoKHt0eXBlOlwicG9seWdvblwiLGV4dGVyaW9yOm9bMF0saW50ZXJpb3JzOm8uc2xpY2UoMSl9KX1cIk11bHRpUG9seWdvblwiPT09aS50eXBlJiZQKG89aS5jb29yZGluYXRlcywoZnVuY3Rpb24odCl7dFswXSYmci5wdXNoKHt0eXBlOlwicG9seWdvblwiLGV4dGVyaW9yOnRbMF0saW50ZXJpb3JzOnQuc2xpY2UoMSl9KX0pKTt2YXIgYT1uZXcgUV8obltlfHxcIm5hbWVcIl0scixuLmNwKTtyZXR1cm4gYS5wcm9wZXJ0aWVzPW4sYX0pKX12YXIgbng9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbGluZWFyTWFwOlVpLHJvdW5kOmppLGFzYzpxaSxnZXRQcmVjaXNpb246S2ksZ2V0UHJlY2lzaW9uU2FmZTokaSxnZXRQaXhlbFByZWNpc2lvbjpKaSxnZXRQZXJjZW50V2l0aFByZWNpc2lvbjpRaSxNQVhfU0FGRV9JTlRFR0VSOnRyLHJlbVJhZGlhbjplcixpc1JhZGlhbkFyb3VuZFplcm86bnIscGFyc2VEYXRlOnJyLHF1YW50aXR5Om9yLHF1YW50aXR5RXhwb25lbnQ6YXIsbmljZTpzcixxdWFudGlsZTpscixyZWZvcm1JbnRlcnZhbHM6dXIsaXNOdW1lcmljOmNyLG51bWVyaWNUb051bWJlcjpocn0pLGl4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHBhcnNlOnJyLGZvcm1hdDpaaH0pLHJ4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGV4dGVuZFNoYXBlOmJ1LGV4dGVuZFBhdGg6U3UsbWFrZVBhdGg6VHUsbWFrZUltYWdlOkN1LG1lcmdlUGF0aDpEdSxyZXNpemVQYXRoOkx1LGNyZWF0ZUljb246VXUsdXBkYXRlUHJvcHM6T3UsaW5pdFByb3BzOlJ1LGdldFRyYW5zZm9ybTpWdSxjbGlwUG9pbnRzQnlSZWN0Oll1LGNsaXBSZWN0QnlSZWN0Olh1LHJlZ2lzdGVyU2hhcGU6TXUsZ2V0U2hhcGVDbGFzczpJdSxHcm91cDp6aSxJbWFnZTpKYSxUZXh0OmxzLENpcmNsZTpUbCxFbGxpcHNlOkFsLFNlY3RvcjpXbCxSaW5nOlhsLFBvbHlnb246cWwsUG9seWxpbmU6JGwsUmVjdDpvcyxMaW5lOnR1LEJlemllckN1cnZlOnJ1LEFyYzphdSxJbmNyZW1lbnRhbERpc3BsYXlhYmxlOnZ1LENvbXBvdW5kUGF0aDpzdSxMaW5lYXJHcmFkaWVudDp1dSxSYWRpYWxHcmFkaWVudDpodSxCb3VuZGluZ1JlY3Q6Um59KSxveD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxhZGRDb21tYXM6aGMsdG9DYW1lbENhc2U6Y2Msbm9ybWFsaXplQ3NzQXJyYXk6cGMsZW5jb2RlSFRNTDpnYyxmb3JtYXRUcGw6X2MsZ2V0VG9vbHRpcE1hcmtlcjp4Yyxmb3JtYXRUaW1lOmZ1bmN0aW9uKHQsZSxuKXtcIndlZWtcIiE9PXQmJlwibW9udGhcIiE9PXQmJlwicXVhcnRlclwiIT09dCYmXCJoYWxmLXllYXJcIiE9PXQmJlwieWVhclwiIT09dHx8KHQ9XCJNTS1kZFxcbnl5eXlcIik7dmFyIGk9cnIoZSkscj1uP1wiVVRDXCI6XCJcIixvPWlbXCJnZXRcIityK1wiRnVsbFllYXJcIl0oKSxhPWlbXCJnZXRcIityK1wiTW9udGhcIl0oKSsxLHM9aVtcImdldFwiK3IrXCJEYXRlXCJdKCksbD1pW1wiZ2V0XCIrcitcIkhvdXJzXCJdKCksdT1pW1wiZ2V0XCIrcitcIk1pbnV0ZXNcIl0oKSxoPWlbXCJnZXRcIityK1wiU2Vjb25kc1wiXSgpLGM9aVtcImdldFwiK3IrXCJNaWxsaXNlY29uZHNcIl0oKTtyZXR1cm4gdD10LnJlcGxhY2UoXCJNTVwiLFloKGEsMikpLnJlcGxhY2UoXCJNXCIsYSkucmVwbGFjZShcInl5eXlcIixvKS5yZXBsYWNlKFwieXlcIixvJTEwMCtcIlwiKS5yZXBsYWNlKFwiZGRcIixZaChzLDIpKS5yZXBsYWNlKFwiZFwiLHMpLnJlcGxhY2UoXCJoaFwiLFloKGwsMikpLnJlcGxhY2UoXCJoXCIsbCkucmVwbGFjZShcIm1tXCIsWWgodSwyKSkucmVwbGFjZShcIm1cIix1KS5yZXBsYWNlKFwic3NcIixZaChoLDIpKS5yZXBsYWNlKFwic1wiLGgpLnJlcGxhY2UoXCJTU1NcIixZaChjLDMpKX0sY2FwaXRhbEZpcnN0OmZ1bmN0aW9uKHQpe3JldHVybiB0P3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSk6dH0sdHJ1bmNhdGVUZXh0OnJvLGdldFRleHRSZWN0OmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7cmV0dXJuIGdyKCksbmV3IGxzKHtzdHlsZTp7dGV4dDp0LGZvbnQ6ZSxhbGlnbjpuLHZlcnRpY2FsQWxpZ246aSxwYWRkaW5nOnIscmljaDpvLG92ZXJmbG93OmE/XCJ0cnVuY2F0ZVwiOm51bGwsbGluZUhlaWdodDpzfX0pLmdldEJvdW5kaW5nUmVjdCgpfX0pLGF4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLG1hcDpPLGVhY2g6UCxpbmRleE9mOkEsaW5oZXJpdHM6RCxyZWR1Y2U6UixmaWx0ZXI6TixiaW5kOkIsY3Vycnk6Vixpc0FycmF5OkYsaXNTdHJpbmc6SCxpc09iamVjdDpYLGlzRnVuY3Rpb246RyxleHRlbmQ6SSxkZWZhdWx0czpULGNsb25lOncsbWVyZ2U6U30pLHN4PUxyKCk7ZnVuY3Rpb24gbHgodCl7cmV0dXJuXCJjYXRlZ29yeVwiPT09dC50eXBlP2Z1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGFiZWxNb2RlbCgpLG49aHgodCxlKTtyZXR1cm4hZS5nZXQoXCJzaG93XCIpfHx0LnNjYWxlLmlzQmxhbmsoKT97bGFiZWxzOltdLGxhYmVsQ2F0ZWdvcnlJbnRlcnZhbDpuLmxhYmVsQ2F0ZWdvcnlJbnRlcnZhbH06bn0odCk6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2FsZS5nZXRUaWNrcygpLG49SF8odCk7cmV0dXJue2xhYmVsczpPKGUsKGZ1bmN0aW9uKGUsaSl7cmV0dXJue2Zvcm1hdHRlZExhYmVsOm4oZSxpKSxyYXdMYWJlbDp0LnNjYWxlLmdldExhYmVsKGUpLHRpY2tWYWx1ZTplLnZhbHVlfX0pKX19KHQpfWZ1bmN0aW9uIHV4KHQsZSl7cmV0dXJuXCJjYXRlZ29yeVwiPT09dC50eXBlP2Z1bmN0aW9uKHQsZSl7dmFyIG4saSxyPWN4KHQsXCJ0aWNrc1wiKSxvPVhfKGUpLGE9cHgocixvKTtpZihhKXJldHVybiBhO2UuZ2V0KFwic2hvd1wiKSYmIXQuc2NhbGUuaXNCbGFuaygpfHwobj1bXSk7aWYoRyhvKSluPWd4KHQsbywhMCk7ZWxzZSBpZihcImF1dG9cIj09PW8pe3ZhciBzPWh4KHQsdC5nZXRMYWJlbE1vZGVsKCkpO2k9cy5sYWJlbENhdGVnb3J5SW50ZXJ2YWwsbj1PKHMubGFiZWxzLChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWNrVmFsdWV9KSl9ZWxzZSBuPWZ4KHQsaT1vLCEwKTtyZXR1cm4gZHgocixvLHt0aWNrczpuLHRpY2tDYXRlZ29yeUludGVydmFsOml9KX0odCxlKTp7dGlja3M6Tyh0LnNjYWxlLmdldFRpY2tzKCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpfX1mdW5jdGlvbiBoeCh0LGUpe3ZhciBuLGkscj1jeCh0LFwibGFiZWxzXCIpLG89WF8oZSksYT1weChyLG8pO3JldHVybiBhfHwoRyhvKT9uPWd4KHQsbyk6KGk9XCJhdXRvXCI9PT1vP2Z1bmN0aW9uKHQpe3ZhciBlPXN4KHQpLmF1dG9JbnRlcnZhbDtyZXR1cm4gbnVsbCE9ZT9lOnN4KHQpLmF1dG9JbnRlcnZhbD10LmNhbGN1bGF0ZUNhdGVnb3J5SW50ZXJ2YWwoKX0odCk6byxuPWZ4KHQsaSkpLGR4KHIsbyx7bGFiZWxzOm4sbGFiZWxDYXRlZ29yeUludGVydmFsOml9KSl9ZnVuY3Rpb24gY3godCxlKXtyZXR1cm4gc3godClbZV18fChzeCh0KVtlXT1bXSl9ZnVuY3Rpb24gcHgodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLmtleT09PWUpcmV0dXJuIHRbbl0udmFsdWV9ZnVuY3Rpb24gZHgodCxlLG4pe3JldHVybiB0LnB1c2goe2tleTplLHZhbHVlOm59KSxufWZ1bmN0aW9uIGZ4KHQsZSxuKXt2YXIgaT1IXyh0KSxyPXQuc2NhbGUsbz1yLmdldEV4dGVudCgpLGE9dC5nZXRMYWJlbE1vZGVsKCkscz1bXSxsPU1hdGgubWF4KChlfHwwKSsxLDEpLHU9b1swXSxoPXIuY291bnQoKTswIT09dSYmbD4xJiZoL2w+MiYmKHU9TWF0aC5yb3VuZChNYXRoLmNlaWwodS9sKSpsKSk7dmFyIGM9VV8odCkscD1hLmdldChcInNob3dNaW5MYWJlbFwiKXx8YyxkPWEuZ2V0KFwic2hvd01heExhYmVsXCIpfHxjO3AmJnUhPT1vWzBdJiZnKG9bMF0pO2Zvcih2YXIgZj11O2Y8PW9bMV07Zis9bClnKGYpO2Z1bmN0aW9uIGcodCl7dmFyIGU9e3ZhbHVlOnR9O3MucHVzaChuP3Q6e2Zvcm1hdHRlZExhYmVsOmkoZSkscmF3TGFiZWw6ci5nZXRMYWJlbChlKSx0aWNrVmFsdWU6dH0pfXJldHVybiBkJiZmLWwhPT1vWzFdJiZnKG9bMV0pLHN9ZnVuY3Rpb24gZ3godCxlLG4pe3ZhciBpPXQuc2NhbGUscj1IXyh0KSxvPVtdO3JldHVybiBQKGkuZ2V0VGlja3MoKSwoZnVuY3Rpb24odCl7dmFyIGE9aS5nZXRMYWJlbCh0KSxzPXQudmFsdWU7ZSh0LnZhbHVlLGEpJiZvLnB1c2gobj9zOntmb3JtYXR0ZWRMYWJlbDpyKHQpLHJhd0xhYmVsOmEsdGlja1ZhbHVlOnN9KX0pKSxvfXZhciB5eD1bMCwxXSx2eD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMub25CYW5kPSExLHRoaXMuaW52ZXJzZT0hMSx0aGlzLmRpbT10LHRoaXMuc2NhbGU9ZSx0aGlzLl9leHRlbnQ9bnx8WzAsMF19cmV0dXJuIHQucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50LG49TWF0aC5taW4oZVswXSxlWzFdKSxpPU1hdGgubWF4KGVbMF0sZVsxXSk7cmV0dXJuIHQ+PW4mJnQ8PWl9LHQucHJvdG90eXBlLmNvbnRhaW5EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjYWxlLmNvbnRhaW4odCl9LHQucHJvdG90eXBlLmdldEV4dGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbnQuc2xpY2UoKX0sdC5wcm90b3R5cGUuZ2V0UGl4ZWxQcmVjaXNpb249ZnVuY3Rpb24odCl7cmV0dXJuIEppKHR8fHRoaXMuc2NhbGUuZ2V0RXh0ZW50KCksdGhpcy5fZXh0ZW50KX0sdC5wcm90b3R5cGUuc2V0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50O25bMF09dCxuWzFdPWV9LHQucHJvdG90eXBlLmRhdGFUb0Nvb3JkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50LGk9dGhpcy5zY2FsZTtyZXR1cm4gdD1pLm5vcm1hbGl6ZSh0KSx0aGlzLm9uQmFuZCYmXCJvcmRpbmFsXCI9PT1pLnR5cGUmJm14KG49bi5zbGljZSgpLGkuY291bnQoKSksVWkodCx5eCxuLGUpfSx0LnByb3RvdHlwZS5jb29yZFRvRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2V4dGVudCxpPXRoaXMuc2NhbGU7dGhpcy5vbkJhbmQmJlwib3JkaW5hbFwiPT09aS50eXBlJiZteChuPW4uc2xpY2UoKSxpLmNvdW50KCkpO3ZhciByPVVpKHQsbix5eCxlKTtyZXR1cm4gdGhpcy5zY2FsZS5zY2FsZShyKX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmdldFRpY2tzQ29vcmRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh0PXR8fHt9KS50aWNrTW9kZWx8fHRoaXMuZ2V0VGlja01vZGVsKCksbj1PKHV4KHRoaXMsZSkudGlja3MsKGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKFwib3JkaW5hbFwiPT09dGhpcy5zY2FsZS50eXBlP3RoaXMuc2NhbGUuZ2V0UmF3T3JkaW5hbE51bWJlcih0KTp0KSx0aWNrVmFsdWU6dH19KSx0aGlzKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZS5sZW5ndGg7aWYoIXQub25CYW5kfHxufHwhcilyZXR1cm47dmFyIG8sYSxzPXQuZ2V0RXh0ZW50KCk7aWYoMT09PXIpZVswXS5jb29yZD1zWzBdLG89ZVsxXT17Y29vcmQ6c1swXX07ZWxzZXt2YXIgbD1lW3ItMV0udGlja1ZhbHVlLWVbMF0udGlja1ZhbHVlLHU9KGVbci0xXS5jb29yZC1lWzBdLmNvb3JkKS9sO1AoZSwoZnVuY3Rpb24odCl7dC5jb29yZC09dS8yfSkpLGE9MSt0LnNjYWxlLmdldEV4dGVudCgpWzFdLWVbci0xXS50aWNrVmFsdWUsbz17Y29vcmQ6ZVtyLTFdLmNvb3JkK3UqYX0sZS5wdXNoKG8pfXZhciBoPXNbMF0+c1sxXTtjKGVbMF0uY29vcmQsc1swXSkmJihpP2VbMF0uY29vcmQ9c1swXTplLnNoaWZ0KCkpO2kmJmMoc1swXSxlWzBdLmNvb3JkKSYmZS51bnNoaWZ0KHtjb29yZDpzWzBdfSk7YyhzWzFdLG8uY29vcmQpJiYoaT9vLmNvb3JkPXNbMV06ZS5wb3AoKSk7aSYmYyhvLmNvb3JkLHNbMV0pJiZlLnB1c2goe2Nvb3JkOnNbMV19KTtmdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQ9amkodCksZT1qaShlKSxoP3Q+ZTp0PGV9fSh0aGlzLG4sZS5nZXQoXCJhbGlnbldpdGhMYWJlbFwiKSx0LmNsYW1wKSxufSx0LnByb3RvdHlwZS5nZXRNaW5vclRpY2tzQ29vcmRzPWZ1bmN0aW9uKCl7aWYoXCJvcmRpbmFsXCI9PT10aGlzLnNjYWxlLnR5cGUpcmV0dXJuW107dmFyIHQ9dGhpcy5tb2RlbC5nZXRNb2RlbChcIm1pbm9yVGlja1wiKS5nZXQoXCJzcGxpdE51bWJlclwiKTtyZXR1cm4gdD4wJiZ0PDEwMHx8KHQ9NSksTyh0aGlzLnNjYWxlLmdldE1pbm9yVGlja3ModCksKGZ1bmN0aW9uKHQpe3JldHVybiBPKHQsKGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKHQpLHRpY2tWYWx1ZTp0fX0pLHRoaXMpfSksdGhpcyl9LHQucHJvdG90eXBlLmdldFZpZXdMYWJlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gbHgodGhpcykubGFiZWxzfSx0LnByb3RvdHlwZS5nZXRMYWJlbE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0TW9kZWwoXCJheGlzTGFiZWxcIil9LHQucHJvdG90eXBlLmdldFRpY2tNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKFwiYXhpc1RpY2tcIil9LHQucHJvdG90eXBlLmdldEJhbmRXaWR0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2V4dGVudCxlPXRoaXMuc2NhbGUuZ2V0RXh0ZW50KCksbj1lWzFdLWVbMF0rKHRoaXMub25CYW5kPzE6MCk7MD09PW4mJihuPTEpO3ZhciBpPU1hdGguYWJzKHRbMV0tdFswXSk7cmV0dXJuIE1hdGguYWJzKGkpL259LHQucHJvdG90eXBlLmNhbGN1bGF0ZUNhdGVnb3J5SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMYWJlbE1vZGVsKCk7cmV0dXJue2F4aXNSb3RhdGU6dC5nZXRSb3RhdGU/dC5nZXRSb3RhdGUoKTp0LmlzSG9yaXpvbnRhbCYmIXQuaXNIb3Jpem9udGFsKCk/OTA6MCxsYWJlbFJvdGF0ZTplLmdldChcInJvdGF0ZVwiKXx8MCxmb250OmUuZ2V0Rm9udCgpfX0odCksbj1IXyh0KSxpPShlLmF4aXNSb3RhdGUtZS5sYWJlbFJvdGF0ZSkvMTgwKk1hdGguUEkscj10LnNjYWxlLG89ci5nZXRFeHRlbnQoKSxhPXIuY291bnQoKTtpZihvWzFdLW9bMF08MSlyZXR1cm4gMDt2YXIgcz0xO2E+NDAmJihzPU1hdGgubWF4KDEsTWF0aC5mbG9vcihhLzQwKSkpO2Zvcih2YXIgbD1vWzBdLHU9dC5kYXRhVG9Db29yZChsKzEpLXQuZGF0YVRvQ29vcmQobCksaD1NYXRoLmFicyh1Kk1hdGguY29zKGkpKSxjPU1hdGguYWJzKHUqTWF0aC5zaW4oaSkpLHA9MCxkPTA7bDw9b1sxXTtsKz1zKXt2YXIgZixnLHk9Rm4obih7dmFsdWU6bH0pLGUuZm9udCxcImNlbnRlclwiLFwidG9wXCIpO2Y9MS4zKnkud2lkdGgsZz0xLjMqeS5oZWlnaHQscD1NYXRoLm1heChwLGYsNyksZD1NYXRoLm1heChkLGcsNyl9dmFyIHY9cC9oLG09ZC9jO2lzTmFOKHYpJiYodj0xLzApLGlzTmFOKG0pJiYobT0xLzApO3ZhciBfPU1hdGgubWF4KDAsTWF0aC5mbG9vcihNYXRoLm1pbih2LG0pKSkseD1zeCh0Lm1vZGVsKSxiPXQuZ2V0RXh0ZW50KCksdz14Lmxhc3RBdXRvSW50ZXJ2YWwsUz14Lmxhc3RUaWNrQ291bnQ7cmV0dXJuIG51bGwhPXcmJm51bGwhPVMmJk1hdGguYWJzKHctXyk8PTEmJk1hdGguYWJzKFMtYSk8PTEmJnc+XyYmeC5heGlzRXh0ZW50MD09PWJbMF0mJnguYXhpc0V4dGVudDE9PT1iWzFdP189dzooeC5sYXN0VGlja0NvdW50PWEseC5sYXN0QXV0b0ludGVydmFsPV8seC5heGlzRXh0ZW50MD1iWzBdLHguYXhpc0V4dGVudDE9YlsxXSksX30odGhpcyl9LHR9KCk7ZnVuY3Rpb24gbXgodCxlKXt2YXIgbj0odFsxXS10WzBdKS9lLzI7dFswXSs9bix0WzFdLT1ufWZ1bmN0aW9uIF94KHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHQpfWZ1bmN0aW9uIHh4KHQsZSxuLGkscil7Zm9yKHZhciBvPWUubGVuZ3RoLGE9bi5sZW5ndGgscz10Lm5ld1BvcyxsPXMtaSx1PTA7cysxPG8mJmwrMTxhJiZyKGVbcysxXSxuW2wrMV0pOylzKyssbCsrLHUrKztyZXR1cm4gdSYmdC5jb21wb25lbnRzLnB1c2goe2NvdW50OnUsYWRkZWQ6ITEscmVtb3ZlZDohMSxpbmRpY2VzOltdfSksdC5uZXdQb3M9cyxsfWZ1bmN0aW9uIGJ4KHQsZSxuKXt2YXIgaT10W3QubGVuZ3RoLTFdO2kmJmkuYWRkZWQ9PT1lJiZpLnJlbW92ZWQ9PT1uP3RbdC5sZW5ndGgtMV09e2NvdW50OmkuY291bnQrMSxhZGRlZDplLHJlbW92ZWQ6bixpbmRpY2VzOltdfTp0LnB1c2goe2NvdW50OjEsYWRkZWQ6ZSxyZW1vdmVkOm4saW5kaWNlczpbXX0pfWZ1bmN0aW9uIFN4KHQpe2Zvcih2YXIgZT0wLG49dC5sZW5ndGgsaT0wLHI9MDtlPG47ZSsrKXt2YXIgbz10W2VdO2lmKG8ucmVtb3ZlZCl7Zm9yKHM9cjtzPHIrby5jb3VudDtzKyspby5pbmRpY2VzLnB1c2gocyk7cis9by5jb3VudH1lbHNle2Zvcih2YXIgYT1bXSxzPWk7czxpK28uY291bnQ7cysrKWEucHVzaChzKTtvLmluZGljZXM9YSxpKz1vLmNvdW50LG8uYWRkZWR8fChyKz1vLmNvdW50KX19cmV0dXJuIHR9ZnVuY3Rpb24gTXgodCxlLG4pe3JldHVybiBmdW5jdGlvbih0LGUsbil7bnx8KG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9KSx0PXQuc2xpY2UoKTt2YXIgaT0oZT1lLnNsaWNlKCkpLmxlbmd0aCxyPXQubGVuZ3RoLG89MSxhPWkrcixzPVt7bmV3UG9zOi0xLGNvbXBvbmVudHM6W119XSxsPXh4KHNbMF0sZSx0LDAsbik7aWYoc1swXS5uZXdQb3MrMT49aSYmbCsxPj1yKXtmb3IodmFyIHU9W10saD0wO2g8ZS5sZW5ndGg7aCsrKXUucHVzaChoKTtyZXR1cm5be2luZGljZXM6dSxjb3VudDplLmxlbmd0aCxhZGRlZDohMSxyZW1vdmVkOiExfV19ZnVuY3Rpb24gYygpe2Zvcih2YXIgYT0tMSpvO2E8PW87YSs9Mil7dmFyIGwsdT1zW2EtMV0saD1zW2ErMV0sYz0oaD9oLm5ld1BvczowKS1hO3UmJihzW2EtMV09dm9pZCAwKTt2YXIgcD11JiZ1Lm5ld1BvcysxPGksZD1oJiYwPD1jJiZjPHI7aWYocHx8ZCl7aWYoIXB8fGQmJnUubmV3UG9zPGgubmV3UG9zP2J4KChsPXtuZXdQb3M6KGY9aCkubmV3UG9zLGNvbXBvbmVudHM6Zi5jb21wb25lbnRzLnNsaWNlKDApfSkuY29tcG9uZW50cywhMSwhMCk6KChsPXUpLm5ld1BvcysrLGJ4KGwuY29tcG9uZW50cywhMCwhMSkpLGM9eHgobCxlLHQsYSxuKSxsLm5ld1BvcysxPj1pJiZjKzE+PXIpcmV0dXJuIFN4KGwuY29tcG9uZW50cyk7c1thXT1sfWVsc2Ugc1thXT12b2lkIDB9dmFyIGY7bysrfWZvcig7bzw9YTspe3ZhciBwPWMoKTtpZihwKXJldHVybiBwfX0odCxlLG4pfXZhciBJeD1cIm5vbmVcIixUeD1NYXRoLnJvdW5kLEN4PU1hdGguc2luLEF4PU1hdGguY29zLER4PU1hdGguUEksTHg9MipNYXRoLlBJLGt4PTE4MC9EeCxQeD0xZS00O2Z1bmN0aW9uIE94KHQpe3JldHVybiBUeCgxZTMqdCkvMWUzfWZ1bmN0aW9uIFJ4KHQpe3JldHVybiBUeCgxZTQqdCkvMWU0fWZ1bmN0aW9uIE54KHQpe3JldHVybiB0PFB4JiZ0Pi0xZS00fWZ1bmN0aW9uIEV4KHQsZSl7ZSYmengodCxcInRyYW5zZm9ybVwiLFwibWF0cml4KFwiK094KGVbMF0pK1wiLFwiK094KGVbMV0pK1wiLFwiK094KGVbMl0pK1wiLFwiK094KGVbM10pK1wiLFwiK1J4KGVbNF0pK1wiLFwiK1J4KGVbNV0pK1wiKVwiKX1mdW5jdGlvbiB6eCh0LGUsbil7KCFufHxcImxpbmVhclwiIT09bi50eXBlJiZcInJhZGlhbFwiIT09bi50eXBlKSYmdC5zZXRBdHRyaWJ1dGUoZSxuKX1mdW5jdGlvbiBCeCh0LGUsbil7dmFyIGk9bnVsbD09ZS5vcGFjaXR5PzE6ZS5vcGFjaXR5O2lmKG4gaW5zdGFuY2VvZiBKYSl0LnN0eWxlLm9wYWNpdHk9aStcIlwiO2Vsc2V7aWYoZnVuY3Rpb24odCl7dmFyIGU9dC5maWxsO3JldHVybiBudWxsIT1lJiZlIT09SXh9KGUpKXt2YXIgcj1lLmZpbGw7engodCxcImZpbGxcIixyPVwidHJhbnNwYXJlbnRcIj09PXI/SXg6ciksengodCxcImZpbGwtb3BhY2l0eVwiLChudWxsIT1lLmZpbGxPcGFjaXR5P2UuZmlsbE9wYWNpdHkqaTppKStcIlwiKX1lbHNlIHp4KHQsXCJmaWxsXCIsSXgpO2lmKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3Ryb2tlO3JldHVybiBudWxsIT1lJiZlIT09SXh9KGUpKXt2YXIgbz1lLnN0cm9rZTt6eCh0LFwic3Ryb2tlXCIsbz1cInRyYW5zcGFyZW50XCI9PT1vP0l4Om8pO3ZhciBhPWUubGluZVdpZHRoLHM9ZS5zdHJva2VOb1NjYWxlP24uZ2V0TGluZVNjYWxlKCk6MTt6eCh0LFwic3Ryb2tlLXdpZHRoXCIsKHM/YS9zOjApK1wiXCIpLHp4KHQsXCJwYWludC1vcmRlclwiLGUuc3Ryb2tlRmlyc3Q/XCJzdHJva2VcIjpcImZpbGxcIiksengodCxcInN0cm9rZS1vcGFjaXR5XCIsKG51bGwhPWUuc3Ryb2tlT3BhY2l0eT9lLnN0cm9rZU9wYWNpdHkqaTppKStcIlwiKTt2YXIgbD1lLmxpbmVEYXNoJiZhPjAmJnB5KGUubGluZURhc2gsYSk7aWYobCl7dmFyIHU9ZS5saW5lRGFzaE9mZnNldDtzJiYxIT09cyYmKGw9TyhsLChmdW5jdGlvbih0KXtyZXR1cm4gdC9zfSkpLHUmJih1PVR4KHUvPXMpKSksengodCxcInN0cm9rZS1kYXNoYXJyYXlcIixsLmpvaW4oXCIsXCIpKSx6eCh0LFwic3Ryb2tlLWRhc2hvZmZzZXRcIiwodXx8MCkrXCJcIil9ZWxzZSB6eCh0LFwic3Ryb2tlLWRhc2hhcnJheVwiLFwiXCIpO2UubGluZUNhcCYmengodCxcInN0cm9rZS1saW5lY2FwXCIsZS5saW5lQ2FwKSxlLmxpbmVKb2luJiZ6eCh0LFwic3Ryb2tlLWxpbmVqb2luXCIsZS5saW5lSm9pbiksZS5taXRlckxpbWl0JiZ6eCh0LFwic3Ryb2tlLW1pdGVybGltaXRcIixlLm1pdGVyTGltaXQrXCJcIil9ZWxzZSB6eCh0LFwic3Ryb2tlXCIsSXgpfX12YXIgVng9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2Q9W10sdGhpcy5fc3RyPVwiXCJ9LHQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUpe3RoaXMuX2FkZChcIk1cIix0LGUpfSx0LnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24odCxlKXt0aGlzLl9hZGQoXCJMXCIsdCxlKX0sdC5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpLHIsbyl7dGhpcy5fYWRkKFwiQ1wiLHQsZSxuLGkscixvKX0sdC5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9hZGQoXCJRXCIsdCxlLG4saSl9LHQucHJvdG90eXBlLmFyYz1mdW5jdGlvbih0LGUsbixpLHIsbyl7dGhpcy5lbGxpcHNlKHQsZSxuLG4sMCxpLHIsbyl9LHQucHJvdG90eXBlLmVsbGlwc2U9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXt2YXIgbD0wPT09dGhpcy5fZC5sZW5ndGgsdT1hLW8saD0hcyxjPU1hdGguYWJzKHUpLHA9TngoYy1MeCl8fChoP3U+PUx4Oi11Pj1MeCksZD11PjA/dSVMeDp1JUx4K0x4LGY9ITE7Zj0hIXB8fCFOeChjKSYmZD49RHg9PSEhaDt2YXIgZz1SeCh0K24qQXgobykpLHk9UngoZStpKkN4KG8pKTtwJiYodT1oP0x4LTFlLTQ6MWUtNC1MeCxmPSEwLGwmJnRoaXMuX2QucHVzaChcIk1cIixnLHkpKTt2YXIgdj1SeCh0K24qQXgobyt1KSksbT1SeChlK2kqQ3gobyt1KSk7aWYoaXNOYU4oZyl8fGlzTmFOKHkpfHxpc05hTihuKXx8aXNOYU4oaSl8fGlzTmFOKHIpfHxpc05hTihreCl8fGlzTmFOKHYpfHxpc05hTihtKSlyZXR1cm5cIlwiO3RoaXMuX2QucHVzaChcIkFcIixSeChuKSxSeChpKSxUeChyKmt4KSwrZiwraCx2LG0pfSx0LnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2FkZChcIk1cIix0LGUpLHRoaXMuX2FkZChcIkxcIix0K24sZSksdGhpcy5fYWRkKFwiTFwiLHQrbixlK2kpLHRoaXMuX2FkZChcIkxcIix0LGUraSksdGhpcy5fYWRkKFwiTFwiLHQsZSl9LHQucHJvdG90eXBlLmNsb3NlUGF0aD1mdW5jdGlvbigpe3RoaXMuX2QubGVuZ3RoPjAmJnRoaXMuX2FkZChcIlpcIil9LHQucHJvdG90eXBlLl9hZGQ9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe3RoaXMuX2QucHVzaCh0KTtmb3IodmFyIHU9MTt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKXt2YXIgaD1hcmd1bWVudHNbdV07aWYoaXNOYU4oaCkpcmV0dXJuIHZvaWQodGhpcy5faW52YWxpZD0hMCk7dGhpcy5fZC5wdXNoKFJ4KGgpKX19LHQucHJvdG90eXBlLmdlbmVyYXRlU3RyPWZ1bmN0aW9uKCl7dGhpcy5fc3RyPXRoaXMuX2ludmFsaWQ/XCJcIjp0aGlzLl9kLmpvaW4oXCIgXCIpLHRoaXMuX2Q9W119LHQucHJvdG90eXBlLmdldFN0cj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ9LHR9KCksRng9e2JydXNoOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGUsbj10Ll9fc3ZnRWw7bnx8KG49X3goXCJwYXRoXCIpLHQuX19zdmdFbD1uKSx0LnBhdGh8fHQuY3JlYXRlUGF0aFByb3h5KCk7dmFyIGk9dC5wYXRoO3Quc2hhcGVDaGFuZ2VkKCkmJihpLmJlZ2luUGF0aCgpLHQuYnVpbGRQYXRoKGksdC5zaGFwZSksdC5wYXRoVXBkYXRlZCgpKTt2YXIgcj1pLmdldFZlcnNpb24oKSxvPXQsYT1vLl9fc3ZnUGF0aEJ1aWxkZXI7KG8uX19zdmdQYXRoVmVyc2lvbiE9PXJ8fCFhfHx0LnN0eWxlLnN0cm9rZVBlcmNlbnQ8MSkmJihhfHwoYT1vLl9fc3ZnUGF0aEJ1aWxkZXI9bmV3IFZ4KSxhLnJlc2V0KCksaS5yZWJ1aWxkUGF0aChhLHQuc3R5bGUuc3Ryb2tlUGVyY2VudCksYS5nZW5lcmF0ZVN0cigpLG8uX19zdmdQYXRoVmVyc2lvbj1yKSx6eChuLFwiZFwiLGEuZ2V0U3RyKCkpLEJ4KG4sZSx0KSxFeChuLHQudHJhbnNmb3JtKX19LEd4PXticnVzaDpmdW5jdGlvbih0KXt2YXIgZT10LnN0eWxlLG49ZS5pbWFnZTtpZihuIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9uPW4uc3JjOm4gaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCYmKG49bi50b0RhdGFVUkwoKSksbil7dmFyIGk9ZS54fHwwLHI9ZS55fHwwLG89ZS53aWR0aCxhPWUuaGVpZ2h0LHM9dC5fX3N2Z0VsO3N8fChzPV94KFwiaW1hZ2VcIiksdC5fX3N2Z0VsPXMpLG4hPT10Ll9faW1hZ2VTcmMmJighZnVuY3Rpb24odCxlLG4pe3Quc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsZSxuKX0ocyxcImhyZWZcIixuKSx0Ll9faW1hZ2VTcmM9biksengocyxcIndpZHRoXCIsbytcIlwiKSx6eChzLFwiaGVpZ2h0XCIsYStcIlwiKSx6eChzLFwieFwiLGkrXCJcIiksengocyxcInlcIixyK1wiXCIpLEJ4KHMsZSx0KSxFeChzLHQudHJhbnNmb3JtKX19fSxIeD17bGVmdDpcInN0YXJ0XCIscmlnaHQ6XCJlbmRcIixjZW50ZXI6XCJtaWRkbGVcIixtaWRkbGU6XCJtaWRkbGVcIn07dmFyIFd4PXticnVzaDpmdW5jdGlvbih0KXt2YXIgZT10LnN0eWxlLG49ZS50ZXh0O2lmKG51bGwhPW4mJihuKz1cIlwiKSxuJiYhaXNOYU4oZS54KSYmIWlzTmFOKGUueSkpe3ZhciBpPXQuX19zdmdFbDtpfHwoZnVuY3Rpb24odCxlLG4pe3Quc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIixlLG4pfShpPV94KFwidGV4dFwiKSxcInhtbDpzcGFjZVwiLFwicHJlc2VydmVcIiksdC5fX3N2Z0VsPWkpO3ZhciByPWUuZm9udHx8RW47aS5zdHlsZS5mb250PXIsaS50ZXh0Q29udGVudD1uLEJ4KGksZSx0KSxFeChpLHQudHJhbnNmb3JtKTt2YXIgbz1lLnh8fDAsYT1mdW5jdGlvbih0LGUsbil7cmV0dXJuXCJ0b3BcIj09PW4/dCs9ZS8yOlwiYm90dG9tXCI9PT1uJiYodC09ZS8yKSx0fShlLnl8fDAsV24ociksZS50ZXh0QmFzZWxpbmUpLHM9SHhbZS50ZXh0QWxpZ25dfHxlLnRleHRBbGlnbjt6eChpLFwiZG9taW5hbnQtYmFzZWxpbmVcIixcImNlbnRyYWxcIiksengoaSxcInRleHQtYW5jaG9yXCIscyksengoaSxcInhcIixvK1wiXCIpLHp4KGksXCJ5XCIsYStcIlwiKX19fSxZeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxyKXt0aGlzLm5leHRJZD0wLHRoaXMuX2RvbU5hbWU9XCJfZG9tXCIsdGhpcy5jcmVhdGVFbGVtZW50PV94LHRoaXMuX3pySWQ9dCx0aGlzLl9zdmdSb290PWUsdGhpcy5fdGFnTmFtZXM9XCJzdHJpbmdcIj09dHlwZW9mIG4/W25dOm4sdGhpcy5fbWFya0xhYmVsPWksciYmKHRoaXMuX2RvbU5hbWU9cil9cmV0dXJuIHQucHJvdG90eXBlLmdldERlZnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3ZnUm9vdCxuPXRoaXMuX3N2Z1Jvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkZWZzXCIpO2lmKDA9PT1uLmxlbmd0aCl7aWYodCl7dmFyIGk9ZS5pbnNlcnRCZWZvcmUodGhpcy5jcmVhdGVFbGVtZW50KFwiZGVmc1wiKSxlLmZpcnN0Q2hpbGQpO3JldHVybiBpLmNvbnRhaW5zfHwoaS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1pLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7LS1uKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSksaX1yZXR1cm4gbnVsbH1yZXR1cm4gblswXX0sdC5wcm90b3R5cGUuZG9VcGRhdGU9ZnVuY3Rpb24odCxlKXtpZih0KXt2YXIgbj10aGlzLmdldERlZnMoITEpO2lmKHRbdGhpcy5fZG9tTmFtZV0mJm4uY29udGFpbnModFt0aGlzLl9kb21OYW1lXSkpXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSh0KTtlbHNle3ZhciBpPXRoaXMuYWRkKHQpO2kmJih0W3RoaXMuX2RvbU5hbWVdPWkpfX19LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuYWRkRG9tPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGVmcyghMCk7dC5wYXJlbnROb2RlIT09ZSYmZS5hcHBlbmRDaGlsZCh0KX0sdC5wcm90b3R5cGUucmVtb3ZlRG9tPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGVmcyghMSk7ZSYmdFt0aGlzLl9kb21OYW1lXSYmKGUucmVtb3ZlQ2hpbGQodFt0aGlzLl9kb21OYW1lXSksdFt0aGlzLl9kb21OYW1lXT1udWxsKX0sdC5wcm90b3R5cGUuZ2V0RG9tcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RGVmcyghMSk7aWYoIXQpcmV0dXJuW107dmFyIGU9W107cmV0dXJuIFAodGhpcy5fdGFnTmFtZXMsKGZ1bmN0aW9uKG4pe2Zvcih2YXIgaT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pLHI9MDtyPGkubGVuZ3RoO3IrKyllLnB1c2goaVtyXSl9KSksZX0sdC5wcm90b3R5cGUubWFya0FsbFVudXNlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RG9tcygpLGU9dGhpcztQKHQsKGZ1bmN0aW9uKHQpe3RbZS5fbWFya0xhYmVsXT1cIjBcIn0pKX0sdC5wcm90b3R5cGUubWFya0RvbVVzZWQ9ZnVuY3Rpb24odCl7dCYmKHRbdGhpcy5fbWFya0xhYmVsXT1cIjFcIil9LHQucHJvdG90eXBlLm1hcmtEb21VbnVzZWQ9ZnVuY3Rpb24odCl7dCYmKHRbdGhpcy5fbWFya0xhYmVsXT1cIjBcIil9LHQucHJvdG90eXBlLmlzRG9tVW51c2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIjFcIiE9PXRbdGhpcy5fbWFya0xhYmVsXX0sdC5wcm90b3R5cGUucmVtb3ZlVW51c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZ2V0RGVmcyghMSk7ZSYmUCh0aGlzLmdldERvbXMoKSwoZnVuY3Rpb24obil7dC5pc0RvbVVudXNlZChuKSYmZS5yZW1vdmVDaGlsZChuKX0pKX0sdC5wcm90b3R5cGUuZ2V0U3ZnUHJveHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBaYT9GeDp0IGluc3RhbmNlb2YgSmE/R3g6dCBpbnN0YW5jZW9mIHFhP1d4OkZ4fSx0LnByb3RvdHlwZS5nZXRTdmdFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fc3ZnRWx9LHR9KCk7ZnVuY3Rpb24gWHgodCl7cmV0dXJuXCJsaW5lYXJcIj09PXQudHlwZX1mdW5jdGlvbiBVeCh0KXtyZXR1cm5cInJhZGlhbFwiPT09dC50eXBlfWZ1bmN0aW9uIFp4KHQpe3JldHVybiB0JiYoXCJsaW5lYXJcIj09PXQudHlwZXx8XCJyYWRpYWxcIj09PXQudHlwZSl9dmFyIGp4PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLFtcImxpbmVhckdyYWRpZW50XCIsXCJyYWRpYWxHcmFkaWVudFwiXSxcIl9fZ3JhZGllbnRfaW5fdXNlX19cIil8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5hZGRXaXRob3V0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZSYmZS5zdHlsZSl7dmFyIG49dGhpcztQKFtcImZpbGxcIixcInN0cm9rZVwiXSwoZnVuY3Rpb24oaSl7dmFyIHI9ZS5zdHlsZVtpXTtpZihaeChyKSl7dmFyIG89cixhPW4uZ2V0RGVmcyghMCkscz12b2lkIDA7by5fX2RvbT8ocz1vLl9fZG9tLGEuY29udGFpbnMoby5fX2RvbSl8fG4uYWRkRG9tKHMpKTpzPW4uYWRkKG8pLG4ubWFya1VzZWQoZSk7dmFyIGw9cy5nZXRBdHRyaWJ1dGUoXCJpZFwiKTt0LnNldEF0dHJpYnV0ZShpLFwidXJsKCNcIitsK1wiKVwiKX19KSl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU7aWYoWHgodCkpZT10aGlzLmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiKTtlbHNle2lmKCFVeCh0KSlyZXR1cm4gYihcIklsbGVnYWwgZ3JhZGllbnQgdHlwZS5cIiksbnVsbDtlPXRoaXMuY3JlYXRlRWxlbWVudChcInJhZGlhbEdyYWRpZW50XCIpfXJldHVybiB0LmlkPXQuaWR8fHRoaXMubmV4dElkKyssZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwienJcIit0aGlzLl96cklkK1wiLWdyYWRpZW50LVwiK3QuaWQpLHRoaXMudXBkYXRlRG9tKHQsZSksdGhpcy5hZGREb20oZSksZX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2lmKFp4KHQpKXt2YXIgZT10aGlzO3RoaXMuZG9VcGRhdGUodCwoZnVuY3Rpb24oKXt2YXIgbj10Ll9fZG9tO2lmKG4pe3ZhciBpPW4udGFnTmFtZSxyPXQudHlwZTtcImxpbmVhclwiPT09ciYmXCJsaW5lYXJHcmFkaWVudFwiPT09aXx8XCJyYWRpYWxcIj09PXImJlwicmFkaWFsR3JhZGllbnRcIj09PWk/ZS51cGRhdGVEb20odCx0Ll9fZG9tKTooZS5yZW1vdmVEb20odCksZS5hZGQodCkpfX0pKX19LGUucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUpe2lmKFh4KHQpKWUuc2V0QXR0cmlidXRlKFwieDFcIix0LngrXCJcIiksZS5zZXRBdHRyaWJ1dGUoXCJ5MVwiLHQueStcIlwiKSxlLnNldEF0dHJpYnV0ZShcIngyXCIsdC54MitcIlwiKSxlLnNldEF0dHJpYnV0ZShcInkyXCIsdC55MitcIlwiKTtlbHNle2lmKCFVeCh0KSlyZXR1cm4gdm9pZCBiKFwiSWxsZWdhbCBncmFkaWVudCB0eXBlLlwiKTtlLnNldEF0dHJpYnV0ZShcImN4XCIsdC54K1wiXCIpLGUuc2V0QXR0cmlidXRlKFwiY3lcIix0LnkrXCJcIiksZS5zZXRBdHRyaWJ1dGUoXCJyXCIsdC5yK1wiXCIpfXQuZ2xvYmFsP2Uuc2V0QXR0cmlidXRlKFwiZ3JhZGllbnRVbml0c1wiLFwidXNlclNwYWNlT25Vc2VcIik6ZS5zZXRBdHRyaWJ1dGUoXCJncmFkaWVudFVuaXRzXCIsXCJvYmplY3RCb3VuZGluZ0JveFwiKSxlLmlubmVySFRNTD1cIlwiO2Zvcih2YXIgbj10LmNvbG9yU3RvcHMsaT0wLHI9bi5sZW5ndGg7aTxyOysraSl7dmFyIG89dGhpcy5jcmVhdGVFbGVtZW50KFwic3RvcFwiKTtvLnNldEF0dHJpYnV0ZShcIm9mZnNldFwiLDEwMCpuW2ldLm9mZnNldCtcIiVcIik7dmFyIGE9bltpXS5jb2xvcjtpZihhLmluZGV4T2YoXCJyZ2JhXCIpPi0xKXt2YXIgcz1xZShhKVszXSxsPUplKGEpO28uc2V0QXR0cmlidXRlKFwic3RvcC1jb2xvclwiLFwiI1wiK2wpLG8uc2V0QXR0cmlidXRlKFwic3RvcC1vcGFjaXR5XCIscytcIlwiKX1lbHNlIG8uc2V0QXR0cmlidXRlKFwic3RvcC1jb2xvclwiLG5baV0uY29sb3IpO2UuYXBwZW5kQ2hpbGQobyl9dC5fX2RvbT1lfSxlLnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbihlKXtpZihlLnN0eWxlKXt2YXIgbj1lLnN0eWxlLmZpbGw7biYmbi5fX2RvbSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbCh0aGlzLG4uX19kb20pLChuPWUuc3R5bGUuc3Ryb2tlKSYmbi5fX2RvbSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbCh0aGlzLG4uX19kb20pfX0sZX0oWXgpO2Z1bmN0aW9uIHF4KHQpe3JldHVybiB0JiYoISF0LmltYWdlfHwhIXQuc3ZnRWxlbWVudCl9dmFyIEt4PW5ldyB0eSwkeD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbixbXCJwYXR0ZXJuXCJdLFwiX19wYXR0ZXJuX2luX3VzZV9fXCIpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuYWRkV2l0aG91dFVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKGUmJmUuc3R5bGUpe3ZhciBuPXRoaXM7UChbXCJmaWxsXCIsXCJzdHJva2VcIl0sKGZ1bmN0aW9uKGkpe3ZhciByPWUuc3R5bGVbaV07aWYocXgocikpe3ZhciBvPW4uZ2V0RGVmcyghMCksYT1LeC5nZXQocik7YT9vLmNvbnRhaW5zKGEpfHxuLmFkZERvbShhKTphPW4uYWRkKHIpLG4ubWFya1VzZWQoZSk7dmFyIHM9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTt0LnNldEF0dHJpYnV0ZShpLFwidXJsKCNcIitzK1wiKVwiKX19KSl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7aWYocXgodCkpe3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudChcInBhdHRlcm5cIik7cmV0dXJuIHQuaWQ9bnVsbD09dC5pZD90aGlzLm5leHRJZCsrOnQuaWQsZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwienJcIit0aGlzLl96cklkK1wiLXBhdHRlcm4tXCIrdC5pZCksZS5zZXRBdHRyaWJ1dGUoXCJ4XCIsXCIwXCIpLGUuc2V0QXR0cmlidXRlKFwieVwiLFwiMFwiKSxlLnNldEF0dHJpYnV0ZShcInBhdHRlcm5Vbml0c1wiLFwidXNlclNwYWNlT25Vc2VcIiksdGhpcy51cGRhdGVEb20odCxlKSx0aGlzLmFkZERvbShlKSxlfX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHF4KHQpKXt2YXIgZT10aGlzO3RoaXMuZG9VcGRhdGUodCwoZnVuY3Rpb24oKXt2YXIgbj1LeC5nZXQodCk7ZS51cGRhdGVEb20odCxuKX0pKX19LGUucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3ZnRWxlbWVudDtpZihuIGluc3RhbmNlb2YgU1ZHRWxlbWVudCluLnBhcmVudE5vZGUhPT1lJiYoZS5pbm5lckhUTUw9XCJcIixlLmFwcGVuZENoaWxkKG4pLGUuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0LnN2Z1dpZHRoK1wiXCIpLGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdC5zdmdIZWlnaHQrXCJcIikpO2Vsc2V7dmFyIGk9dm9pZCAwLHI9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltYWdlXCIpO2lmKHIubGVuZ3RoKXtpZighdC5pbWFnZSlyZXR1cm4gdm9pZCBlLnJlbW92ZUNoaWxkKHJbMF0pO2k9clswXX1lbHNlIHQuaW1hZ2UmJihpPXRoaXMuY3JlYXRlRWxlbWVudChcImltYWdlXCIpKTtpZihpKXt2YXIgbz12b2lkIDA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQuaW1hZ2U/bz10LmltYWdlOnQuaW1hZ2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P289dC5pbWFnZS5zcmM6dC5pbWFnZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50JiYobz10LmltYWdlLnRvRGF0YVVSTCgpKSxvKXtpLnNldEF0dHJpYnV0ZShcImhyZWZcIixvKSxpLnNldEF0dHJpYnV0ZShcInhcIixcIjBcIiksaS5zZXRBdHRyaWJ1dGUoXCJ5XCIsXCIwXCIpO3ZhciBhPXRvKG8saSx7ZGlydHk6ZnVuY3Rpb24oKXt9fSwoZnVuY3Rpb24odCl7ZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHQud2lkdGgrXCJcIiksZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0LmhlaWdodCtcIlwiKX0pKTthJiZhLndpZHRoJiZhLmhlaWdodCYmKGUuc2V0QXR0cmlidXRlKFwid2lkdGhcIixhLndpZHRoK1wiXCIpLGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYS5oZWlnaHQrXCJcIikpLGUuYXBwZW5kQ2hpbGQoaSl9fX12YXIgcz1cInRyYW5zbGF0ZShcIisodC54fHwwKStcIiwgXCIrKHQueXx8MCkrXCIpIHJvdGF0ZShcIisodC5yb3RhdGlvbnx8MCkvTWF0aC5QSSoxODArXCIpIHNjYWxlKFwiKyh0LnNjYWxlWHx8MSkrXCIsIFwiKyh0LnNjYWxlWXx8MSkrXCIpXCI7ZS5zZXRBdHRyaWJ1dGUoXCJwYXR0ZXJuVHJhbnNmb3JtXCIscyksS3guc2V0KHQsZSl9LGUucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKGUpe2Uuc3R5bGUmJihxeChlLnN0eWxlLmZpbGwpJiZ0LnByb3RvdHlwZS5tYXJrRG9tVXNlZC5jYWxsKHRoaXMsS3guZ2V0KGUuc3R5bGUuZmlsbCkpLHF4KGUuc3R5bGUuc3Ryb2tlKSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbCh0aGlzLEt4LmdldChlLnN0eWxlLnN0cm9rZSkpKX0sZX0oWXgpO2Z1bmN0aW9uIEp4KHQpe3ZhciBlPXQuX19jbGlwUGF0aHM7cmV0dXJuIGUmJmUubGVuZ3RoPjB9dmFyIFF4PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLG4sXCJjbGlwUGF0aFwiLFwiX19jbGlwcGF0aF9pbl91c2VfX1wiKXx8dGhpcztyZXR1cm4gaS5fcmVmR3JvdXBzPXt9LGkuX2tleUR1cGxpY2F0ZUNvdW50PXt9LGl9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5tYXJrQWxsVW51c2VkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHQucHJvdG90eXBlLm1hcmtBbGxVbnVzZWQuY2FsbCh0aGlzKSx0aGlzLl9yZWZHcm91cHMpdGhpcy5tYXJrRG9tVW51c2VkKHRoaXMuX3JlZkdyb3Vwc1tlXSk7dGhpcy5fa2V5RHVwbGljYXRlQ291bnQ9e319LGUucHJvdG90eXBlLl9nZXRDbGlwUGF0aEdyb3VwPWZ1bmN0aW9uKHQsZSl7aWYoSngodCkpe3ZhciBuPXQuX19jbGlwUGF0aHMsaT10aGlzLl9rZXlEdXBsaWNhdGVDb3VudCxyPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHQpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07ZS5wdXNoKGkuaWQpfXJldHVybiBlLmpvaW4oXCIsXCIpfShuKTtyZXR1cm4gY3kobixlJiZlLl9fY2xpcFBhdGhzKSYmKGlbcl09aVtyXXx8MCxpW3JdJiYocis9XCItXCIraVtyXSksaVtyXSsrKSx0aGlzLl9yZWZHcm91cHNbcl18fCh0aGlzLl9yZWZHcm91cHNbcl09dGhpcy5jcmVhdGVFbGVtZW50KFwiZ1wiKSl9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9nZXRDbGlwUGF0aEdyb3VwKHQsZSk7cmV0dXJuIG4mJih0aGlzLm1hcmtEb21Vc2VkKG4pLHRoaXMudXBkYXRlRG9tKG4sdC5fX2NsaXBQYXRocykpLG59LGUucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUpe2lmKGUmJmUubGVuZ3RoPjApe3ZhciBuPXRoaXMuZ2V0RGVmcyghMCksaT1lWzBdLHI9dm9pZCAwLG89dm9pZCAwO2kuX2RvbT8obz1pLl9kb20uZ2V0QXR0cmlidXRlKFwiaWRcIikscj1pLl9kb20sbi5jb250YWlucyhyKXx8bi5hcHBlbmRDaGlsZChyKSk6KG89XCJ6clwiK3RoaXMuX3pySWQrXCItY2xpcC1cIit0aGlzLm5leHRJZCwrK3RoaXMubmV4dElkLChyPXRoaXMuY3JlYXRlRWxlbWVudChcImNsaXBQYXRoXCIpKS5zZXRBdHRyaWJ1dGUoXCJpZFwiLG8pLG4uYXBwZW5kQ2hpbGQociksaS5fZG9tPXIpLHRoaXMuZ2V0U3ZnUHJveHkoaSkuYnJ1c2goaSk7dmFyIGE9dGhpcy5nZXRTdmdFbGVtZW50KGkpO3IuaW5uZXJIVE1MPVwiXCIsci5hcHBlbmRDaGlsZChhKSx0LnNldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiLFwidXJsKCNcIitvK1wiKVwiKSxlLmxlbmd0aD4xJiZ0aGlzLnVwZGF0ZURvbShyLGUuc2xpY2UoMSkpfWVsc2UgdCYmdC5zZXRBdHRyaWJ1dGUoXCJjbGlwLXBhdGhcIixcIm5vbmVcIil9LGUucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7ZS5fX2NsaXBQYXRocyYmUChlLl9fY2xpcFBhdGhzLChmdW5jdGlvbihlKXtlLl9kb20mJnQucHJvdG90eXBlLm1hcmtEb21Vc2VkLmNhbGwobixlLl9kb20pfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVVbnVzZWQ9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5yZW1vdmVVbnVzZWQuY2FsbCh0aGlzKTt2YXIgZT17fTtmb3IodmFyIG4gaW4gdGhpcy5fcmVmR3JvdXBzKXt2YXIgaT10aGlzLl9yZWZHcm91cHNbbl07dGhpcy5pc0RvbVVudXNlZChpKT9pLnBhcmVudE5vZGUmJmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTplW25dPWl9dGhpcy5fcmVmR3JvdXBzPWV9LGV9KFl4KSx0Yj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuLFtcImZpbHRlclwiXSxcIl9fZmlsdGVyX2luX3VzZV9fXCIsXCJfc2hhZG93RG9tXCIpfHx0aGlzO3JldHVybiBpLl9zaGFkb3dEb21NYXA9e30saS5fc2hhZG93RG9tUG9vbD1bXSxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX2dldEZyb21Qb29sPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2hhZG93RG9tUG9vbC5wb3AoKTtpZighdCl7KHQ9dGhpcy5jcmVhdGVFbGVtZW50KFwiZmlsdGVyXCIpKS5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwienJcIit0aGlzLl96cklkK1wiLXNoYWRvdy1cIit0aGlzLm5leHRJZCsrKTt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoXCJmZURyb3BTaGFkb3dcIik7dC5hcHBlbmRDaGlsZChlKSx0aGlzLmFkZERvbSh0KX1yZXR1cm4gdH0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0LnNoYWRvd0JsdXJ8fHQuc2hhZG93T2Zmc2V0WHx8dC5zaGFkb3dPZmZzZXRZKX0oZS5zdHlsZSkpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGUsbj10LmdldEdsb2JhbFNjYWxlKCk7cmV0dXJuW2Uuc2hhZG93Q29sb3IsKGUuc2hhZG93Qmx1cnx8MCkudG9GaXhlZCgyKSwoZS5zaGFkb3dPZmZzZXRYfHwwKS50b0ZpeGVkKDIpLChlLnNoYWRvd09mZnNldFl8fDApLnRvRml4ZWQoMiksblswXSxuWzFdXS5qb2luKFwiLFwiKX0oZSksaT1lLl9zaGFkb3dEb209dGhpcy5fc2hhZG93RG9tTWFwW25dO2l8fChpPXRoaXMuX2dldEZyb21Qb29sKCksdGhpcy5fc2hhZG93RG9tTWFwW25dPWkpLHRoaXMudXBkYXRlRG9tKHQsZSxpKX1lbHNlIHRoaXMucmVtb3ZlKHQsZSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe251bGwhPWUuX3NoYWRvd0RvbSYmKGUuX3NoYWRvd0RvbT1udWxsLHQuc3R5bGUuZmlsdGVyPVwiXCIpfSxlLnByb3RvdHlwZS51cGRhdGVEb209ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4uY2hpbGRyZW5bMF0scj1lLnN0eWxlLG89ZS5nZXRHbG9iYWxTY2FsZSgpLGE9b1swXSxzPW9bMV07aWYoYSYmcyl7dmFyIGw9ci5zaGFkb3dPZmZzZXRYfHwwLHU9ci5zaGFkb3dPZmZzZXRZfHwwLGg9ci5zaGFkb3dCbHVyLGM9ci5zaGFkb3dDb2xvcjtpLnNldEF0dHJpYnV0ZShcImR4XCIsbC9hK1wiXCIpLGkuc2V0QXR0cmlidXRlKFwiZHlcIix1L3MrXCJcIiksaS5zZXRBdHRyaWJ1dGUoXCJmbG9vZC1jb2xvclwiLGMpO3ZhciBwPWgvMi9hK1wiIFwiK2gvMi9zO2kuc2V0QXR0cmlidXRlKFwic3RkRGV2aWF0aW9uXCIscCksbi5zZXRBdHRyaWJ1dGUoXCJ4XCIsXCItMTAwJVwiKSxuLnNldEF0dHJpYnV0ZShcInlcIixcIi0xMDAlXCIpLG4uc2V0QXR0cmlidXRlKFwid2lkdGhcIixcIjMwMCVcIiksbi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixcIjMwMCVcIiksZS5fc2hhZG93RG9tPW47dmFyIGQ9bi5nZXRBdHRyaWJ1dGUoXCJpZFwiKTt0LnN0eWxlLmZpbHRlcj1cInVybCgjXCIrZCtcIilcIn19LGUucHJvdG90eXBlLnJlbW92ZVVudXNlZD1mdW5jdGlvbigpe2lmKHRoaXMuZ2V0RGVmcyghMSkpe3ZhciB0PXRoaXMuX3NoYWRvd0RvbVBvb2w7Zm9yKHZhciBlIGluIHRoaXMuX3NoYWRvd0RvbU1hcCl7dmFyIG49dGhpcy5fc2hhZG93RG9tTWFwW2VdO3QucHVzaChuKX10aGlzLl9zaGFkb3dEb21NYXA9e319fSxlfShZeCk7ZnVuY3Rpb24gZWIodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfWZ1bmN0aW9uIG5iKHQpe3JldHVybiB0IGluc3RhbmNlb2YgWmE/Rng6dCBpbnN0YW5jZW9mIEphP0d4OnQgaW5zdGFuY2VvZiBxYT9XeDpGeH1mdW5jdGlvbiBpYih0LGUpe3JldHVybiBlJiZ0JiZlLnBhcmVudE5vZGUhPT10fWZ1bmN0aW9uIHJiKHQsZSxuKXtpZihpYih0LGUpJiZuKXt2YXIgaT1uLm5leHRTaWJsaW5nO2k/dC5pbnNlcnRCZWZvcmUoZSxpKTp0LmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiBvYih0LGUpe2lmKGliKHQsZSkpe3ZhciBuPXQuZmlyc3RDaGlsZDtuP3QuaW5zZXJ0QmVmb3JlKGUsbik6dC5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24gYWIodCxlKXtlJiZ0JiZlLnBhcmVudE5vZGU9PT10JiZ0LnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIHNiKHQpe3JldHVybiB0Ll9fc3ZnRWx9dmFyIGxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLnR5cGU9XCJzdmdcIix0aGlzLnJlZnJlc2hIb3Zlcj11YihcInJlZnJlc2hIb3ZlclwiKSx0aGlzLnBhdGhUb0ltYWdlPXViKFwicGF0aFRvSW1hZ2VcIiksdGhpcy5jb25maWdMYXllcj11YihcImNvbmZpZ0xheWVyXCIpLHRoaXMucm9vdD10LHRoaXMuc3RvcmFnZT1lLHRoaXMuX29wdHM9bj1JKHt9LG58fHt9KTt2YXIgcj1feChcInN2Z1wiKTtyLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIixcInhtbG5zXCIsXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKSxyLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIixcInhtbG5zOnhsaW5rXCIsXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpLHIuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLFwiMS4xXCIpLHIuc2V0QXR0cmlidXRlKFwiYmFzZVByb2ZpbGVcIixcImZ1bGxcIiksci5zdHlsZS5jc3NUZXh0PVwidXNlci1zZWxlY3Q6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7XCI7dmFyIG89X3goXCJnXCIpO3IuYXBwZW5kQ2hpbGQobyk7dmFyIGE9X3goXCJnXCIpO3IuYXBwZW5kQ2hpbGQoYSksdGhpcy5fZ3JhZGllbnRNYW5hZ2VyPW5ldyBqeChpLGEpLHRoaXMuX3BhdHRlcm5NYW5hZ2VyPW5ldyAkeChpLGEpLHRoaXMuX2NsaXBQYXRoTWFuYWdlcj1uZXcgUXgoaSxhKSx0aGlzLl9zaGFkb3dNYW5hZ2VyPW5ldyB0YihpLGEpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5zdHlsZS5jc3NUZXh0PVwib3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlXCIsdGhpcy5fc3ZnRG9tPXIsdGhpcy5fc3ZnUm9vdD1hLHRoaXMuX2JhY2tncm91bmRSb290PW8sdGhpcy5fdmlld3BvcnQ9cyx0LmFwcGVuZENoaWxkKHMpLHMuYXBwZW5kQ2hpbGQociksdGhpcy5yZXNpemUobi53aWR0aCxuLmhlaWdodCksdGhpcy5fdmlzaWJsZUxpc3Q9W119cmV0dXJuIHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cInN2Z1wifSx0LnByb3RvdHlwZS5nZXRWaWV3cG9ydFJvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld3BvcnR9LHQucHJvdG90eXBlLmdldFN2Z0RvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdmdEb219LHQucHJvdG90eXBlLmdldFN2Z1Jvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ZnUm9vdH0sdC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRSb290T2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSx0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKTt0aGlzLl9wYWludExpc3QodCl9LHQucHJvdG90eXBlLnNldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbih0KXt0aGlzLl9iYWNrZ3JvdW5kUm9vdCYmdGhpcy5fYmFja2dyb3VuZE5vZGUmJnRoaXMuX2JhY2tncm91bmRSb290LnJlbW92ZUNoaWxkKHRoaXMuX2JhY2tncm91bmROb2RlKTt2YXIgZT1feChcInJlY3RcIik7ZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuZ2V0V2lkdGgoKSksZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmdldEhlaWdodCgpKSxlLnNldEF0dHJpYnV0ZShcInhcIiwwKSxlLnNldEF0dHJpYnV0ZShcInlcIiwwKSxlLnNldEF0dHJpYnV0ZShcImlkXCIsMCksZS5zdHlsZS5maWxsPXQsdGhpcy5fYmFja2dyb3VuZFJvb3QuYXBwZW5kQ2hpbGQoZSksdGhpcy5fYmFja2dyb3VuZE5vZGU9ZX0sdC5wcm90b3R5cGUuY3JlYXRlU1ZHRWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gX3godCl9LHQucHJvdG90eXBlLnBhaW50T25lPWZ1bmN0aW9uKHQpe3ZhciBlPW5iKHQpO3JldHVybiBlJiZlLmJydXNoKHQpLHNiKHQpfSx0LnByb3RvdHlwZS5fcGFpbnRMaXN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dyYWRpZW50TWFuYWdlcixuPXRoaXMuX3BhdHRlcm5NYW5hZ2VyLGk9dGhpcy5fY2xpcFBhdGhNYW5hZ2VyLHI9dGhpcy5fc2hhZG93TWFuYWdlcjtlLm1hcmtBbGxVbnVzZWQoKSxuLm1hcmtBbGxVbnVzZWQoKSxpLm1hcmtBbGxVbnVzZWQoKSxyLm1hcmtBbGxVbnVzZWQoKTtmb3IodmFyIG89dGhpcy5fc3ZnUm9vdCxhPXRoaXMuX3Zpc2libGVMaXN0LHM9dC5sZW5ndGgsbD1bXSx1PTA7dTxzO3UrKyl7dmFyIGg9bmIoeD10W3VdKSxjPXNiKHgpO3guaW52aXNpYmxlfHwoIXguX19kaXJ0eSYmY3x8KGgmJmguYnJ1c2goeCksKGM9c2IoeCkpJiZ4LnN0eWxlJiYoZS51cGRhdGUoeC5zdHlsZS5maWxsKSxlLnVwZGF0ZSh4LnN0eWxlLnN0cm9rZSksbi51cGRhdGUoeC5zdHlsZS5maWxsKSxuLnVwZGF0ZSh4LnN0eWxlLnN0cm9rZSksci51cGRhdGUoYyx4KSkseC5fX2RpcnR5PTApLGMmJmwucHVzaCh4KSl9dmFyIHAsZCxmLGcseSx2PU14KGEsbCk7Zm9yKHU9MDt1PHYubGVuZ3RoO3UrKyl7aWYoKF89dlt1XSkucmVtb3ZlZClmb3IodmFyIG09MDttPF8uY291bnQ7bSsrKXtjPXNiKHg9YVtfLmluZGljZXNbbV1dKTtKeCh4KT8oZj1jKSYmZi5wYXJlbnROb2RlJiZmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZik6YWIobyxjKX19Zm9yKHU9MDt1PHYubGVuZ3RoO3UrKyl7dmFyIF87KF89dlt1XSkuYWRkZWQ7aWYoIV8ucmVtb3ZlZClmb3IobT0wO208Xy5jb3VudDttKyspe3ZhciB4PWxbXy5pbmRpY2VzW21dXSxiPWkudXBkYXRlKHgsZyk7YiE9PXkmJihwPWQsYiYmKHA/cmIobyxiLHApOm9iKG8sYiksZD1iLHA9bnVsbCkseT1iKTtjPXNiKHgpO3A/cmIoeXx8byxjLHApOm9iKHl8fG8sYykscD1jfHxwLHl8fChkPXApLGUubWFya1VzZWQoeCksZS5hZGRXaXRob3V0VXBkYXRlKGMseCksbi5tYXJrVXNlZCh4KSxuLmFkZFdpdGhvdXRVcGRhdGUoYyx4KSxpLm1hcmtVc2VkKHgpLGc9eH19ZS5yZW1vdmVVbnVzZWQoKSxuLnJlbW92ZVVudXNlZCgpLGkucmVtb3ZlVW51c2VkKCksci5yZW1vdmVVbnVzZWQoKSx0aGlzLl92aXNpYmxlTGlzdD1sfSx0LnByb3RvdHlwZS5fZ2V0RGVmcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdmdEb20sbj1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGVmc1wiKTtpZigwPT09bi5sZW5ndGgpe2lmKHQpe3ZhciBpPWUuaW5zZXJ0QmVmb3JlKF94KFwiZGVmc1wiKSxlLmZpcnN0Q2hpbGQpO3JldHVybiBpLmNvbnRhaW5zfHwoaS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1pLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7LS1uKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSksaX1yZXR1cm4gbnVsbH1yZXR1cm4gblswXX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fdmlld3BvcnQ7bi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciBpPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKGkud2lkdGg9dCksbnVsbCE9ZSYmKGkuaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksbi5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy5fd2lkdGghPT10fHx0aGlzLl9oZWlnaHQhPT1lKXt0aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lO3ZhciByPW4uc3R5bGU7ci53aWR0aD10K1wicHhcIixyLmhlaWdodD1lK1wicHhcIjt2YXIgbz10aGlzLl9zdmdEb207by5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHQrXCJcIiksby5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixlK1wiXCIpfXRoaXMuX2JhY2tncm91bmROb2RlJiYodGhpcy5fYmFja2dyb3VuZE5vZGUuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0KSx0aGlzLl9iYWNrZ3JvdW5kTm9kZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixlKSl9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fSx0LnByb3RvdHlwZS5fZ2V0U2l6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRzLG49W1wid2lkdGhcIixcImhlaWdodFwiXVt0XSxpPVtcImNsaWVudFdpZHRoXCIsXCJjbGllbnRIZWlnaHRcIl1bdF0scj1bXCJwYWRkaW5nTGVmdFwiLFwicGFkZGluZ1RvcFwiXVt0XSxvPVtcInBhZGRpbmdSaWdodFwiLFwicGFkZGluZ0JvdHRvbVwiXVt0XTtpZihudWxsIT1lW25dJiZcImF1dG9cIiE9PWVbbl0pcmV0dXJuIHBhcnNlRmxvYXQoZVtuXSk7dmFyIGE9dGhpcy5yb290LHM9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhKTtyZXR1cm4oYVtpXXx8ZWIoc1tuXSl8fGViKGEuc3R5bGVbbl0pKS0oZWIoc1tyXSl8fDApLShlYihzW29dKXx8MCl8MH0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMucm9vdC5pbm5lckhUTUw9XCJcIix0aGlzLl9zdmdSb290PXRoaXMuX2JhY2tncm91bmRSb290PXRoaXMuX3N2Z0RvbT10aGlzLl9iYWNrZ3JvdW5kTm9kZT10aGlzLl92aWV3cG9ydD10aGlzLnN0b3JhZ2U9bnVsbH0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl92aWV3cG9ydDt0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0sdC5wcm90b3R5cGUudG9EYXRhVVJMPWZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCk7dmFyIHQ9dGhpcy5fc3ZnRG9tLGU9dC5vdXRlckhUTUx8fCh0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZSkuaW5uZXJIVE1MO3JldHVyblwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVRGLTgsXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUucmVwbGFjZSgvPjwvZyxcIj5cXG5cXHI8XCIpKX0sdH0oKTtmdW5jdGlvbiB1Yih0KXtyZXR1cm4gZnVuY3Rpb24oKXtiKCdJbiBTVkcgbW9kZSBwYWludGVyIG5vdCBzdXBwb3J0IG1ldGhvZCBcIicrdCsnXCInKX19ZnVuY3Rpb24gaGIoKXtyZXR1cm4hMX1mdW5jdGlvbiBjYih0LGUsbil7dmFyIGk9QygpLHI9ZS5nZXRXaWR0aCgpLG89ZS5nZXRIZWlnaHQoKSxhPWkuc3R5bGU7cmV0dXJuIGEmJihhLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixhLmxlZnQ9XCIwXCIsYS50b3A9XCIwXCIsYS53aWR0aD1yK1wicHhcIixhLmhlaWdodD1vK1wicHhcIixpLnNldEF0dHJpYnV0ZShcImRhdGEtenItZG9tLWlkXCIsdCkpLGkud2lkdGg9cipuLGkuaGVpZ2h0PW8qbixpfXZhciBwYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcixvPXQuY2FsbCh0aGlzKXx8dGhpcztvLm1vdGlvbkJsdXI9ITEsby5sYXN0RnJhbWVBbHBoYT0uNyxvLmRwcj0xLG8udmlydHVhbD0hMSxvLmNvbmZpZz17fSxvLmluY3JlbWVudGFsPSExLG8uemxldmVsPTAsby5tYXhSZXBhaW50UmVjdENvdW50PTUsby5fX2RpcnR5PSEwLG8uX19maXJzdFRpbWVQYWludD0hMCxvLl9fdXNlZD0hMSxvLl9fZHJhd0luZGV4PTAsby5fX3N0YXJ0SW5kZXg9MCxvLl9fZW5kSW5kZXg9MCxvLl9fcHJldlN0YXJ0SW5kZXg9bnVsbCxvLl9fcHJldkVuZEluZGV4PW51bGwsaT1pfHxabixcInN0cmluZ1wiPT10eXBlb2YgZT9yPWNiKGUsbixpKTpYKGUpJiYoZT0ocj1lKS5pZCksby5pZD1lLG8uZG9tPXI7dmFyIGE9ci5zdHlsZTtyZXR1cm4gYSYmKHIub25zZWxlY3RzdGFydD1oYixhLndlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsYS51c2VyU2VsZWN0PVwibm9uZVwiLGEud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9XCJyZ2JhKDAsMCwwLDApXCIsYVtcIi13ZWJraXQtdG91Y2gtY2FsbG91dFwiXT1cIm5vbmVcIixhLnBhZGRpbmc9XCIwXCIsYS5tYXJnaW49XCIwXCIsYS5ib3JkZXJXaWR0aD1cIjBcIiksby5kb21CYWNrPW51bGwsby5jdHhCYWNrPW51bGwsby5wYWludGVyPW4sby5jb25maWc9bnVsbCxvLmRwcj1pLG99cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRFbGVtZW50Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2VuZEluZGV4LXRoaXMuX19zdGFydEluZGV4fSxlLnByb3RvdHlwZS5hZnRlckJydXNoPWZ1bmN0aW9uKCl7dGhpcy5fX3ByZXZTdGFydEluZGV4PXRoaXMuX19zdGFydEluZGV4LHRoaXMuX19wcmV2RW5kSW5kZXg9dGhpcy5fX2VuZEluZGV4fSxlLnByb3RvdHlwZS5pbml0Q29udGV4dD1mdW5jdGlvbigpe3RoaXMuY3R4PXRoaXMuZG9tLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLmN0eC5kcHI9dGhpcy5kcHJ9LGUucHJvdG90eXBlLnNldFVucGFpbnRlZD1mdW5jdGlvbigpe3RoaXMuX19maXJzdFRpbWVQYWludD0hMH0sZS5wcm90b3R5cGUuY3JlYXRlQmFja0J1ZmZlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZHByO3RoaXMuZG9tQmFjaz1jYihcImJhY2stXCIrdGhpcy5pZCx0aGlzLnBhaW50ZXIsdCksdGhpcy5jdHhCYWNrPXRoaXMuZG9tQmFjay5nZXRDb250ZXh0KFwiMmRcIiksMSE9PXQmJnRoaXMuY3R4QmFjay5zY2FsZSh0LHQpfSxlLnByb3RvdHlwZS5jcmVhdGVSZXBhaW50UmVjdHM9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fX2ZpcnN0VGltZVBhaW50KXJldHVybiB0aGlzLl9fZmlyc3RUaW1lUGFpbnQ9ITEsbnVsbDt2YXIgcixvPVtdLGE9dGhpcy5tYXhSZXBhaW50UmVjdENvdW50LHM9ITEsbD1uZXcgUm4oMCwwLDAsMCk7ZnVuY3Rpb24gdSh0KXtpZih0LmlzRmluaXRlKCkmJiF0LmlzWmVybygpKWlmKDA9PT1vLmxlbmd0aCl7KGU9bmV3IFJuKDAsMCwwLDApKS5jb3B5KHQpLG8ucHVzaChlKX1lbHNle2Zvcih2YXIgZSxuPSExLGk9MS8wLHI9MCx1PTA7dTxvLmxlbmd0aDsrK3Upe3ZhciBoPW9bdV07aWYoaC5pbnRlcnNlY3QodCkpe3ZhciBjPW5ldyBSbigwLDAsMCwwKTtjLmNvcHkoaCksYy51bmlvbih0KSxvW3VdPWMsbj0hMDticmVha31pZihzKXtsLmNvcHkodCksbC51bmlvbihoKTt2YXIgcD10LndpZHRoKnQuaGVpZ2h0LGQ9aC53aWR0aCpoLmhlaWdodCxmPWwud2lkdGgqbC5oZWlnaHQtcC1kO2Y8aSYmKGk9ZixyPXUpfX1pZihzJiYob1tyXS51bmlvbih0KSxuPSEwKSwhbikoZT1uZXcgUm4oMCwwLDAsMCkpLmNvcHkodCksby5wdXNoKGUpO3N8fChzPW8ubGVuZ3RoPj1hKX19Zm9yKHZhciBoPXRoaXMuX19zdGFydEluZGV4O2g8dGhpcy5fX2VuZEluZGV4OysraCl7aWYoZD10W2hdKXt2YXIgYz1kLnNob3VsZEJlUGFpbnRlZChuLGksITAsITApOyhmPWQuX19pc1JlbmRlcmVkJiYoZC5fX2RpcnR5JmVpLlJFREFSQVdfQklUfHwhYyk/ZC5nZXRQcmV2UGFpbnRSZWN0KCk6bnVsbCkmJnUoZik7dmFyIHA9YyYmKGQuX19kaXJ0eSZlaS5SRURBUkFXX0JJVHx8IWQuX19pc1JlbmRlcmVkKT9kLmdldFBhaW50UmVjdCgpOm51bGw7cCYmdShwKX19Zm9yKGg9dGhpcy5fX3ByZXZTdGFydEluZGV4O2g8dGhpcy5fX3ByZXZFbmRJbmRleDsrK2gpe3ZhciBkLGY7Yz0oZD1lW2hdKS5zaG91bGRCZVBhaW50ZWQobixpLCEwLCEwKTtpZihkJiYoIWN8fCFkLl9fenIpJiZkLl9faXNSZW5kZXJlZCkoZj1kLmdldFByZXZQYWludFJlY3QoKSkmJnUoZil9ZG97cj0hMTtmb3IoaD0wO2g8by5sZW5ndGg7KWlmKG9baF0uaXNaZXJvKCkpby5zcGxpY2UoaCwxKTtlbHNle2Zvcih2YXIgZz1oKzE7ZzxvLmxlbmd0aDspb1toXS5pbnRlcnNlY3Qob1tnXSk/KHI9ITAsb1toXS51bmlvbihvW2ddKSxvLnNwbGljZShnLDEpKTpnKys7aCsrfX13aGlsZShyKTtyZXR1cm4gdGhpcy5fcGFpbnRSZWN0cz1vLG99LGUucHJvdG90eXBlLmRlYnVnR2V0UGFpbnRSZWN0cz1mdW5jdGlvbigpe3JldHVybih0aGlzLl9wYWludFJlY3RzfHxbXSkuc2xpY2UoKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kcHIsaT10aGlzLmRvbSxyPWkuc3R5bGUsbz10aGlzLmRvbUJhY2s7ciYmKHIud2lkdGg9dCtcInB4XCIsci5oZWlnaHQ9ZStcInB4XCIpLGkud2lkdGg9dCpuLGkuaGVpZ2h0PWUqbixvJiYoby53aWR0aD10Km4sby5oZWlnaHQ9ZSpuLDEhPT1uJiZ0aGlzLmN0eEJhY2suc2NhbGUobixuKSl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmRvbSxyPXRoaXMuY3R4LG89aS53aWR0aCxhPWkuaGVpZ2h0O2U9ZXx8dGhpcy5jbGVhckNvbG9yO3ZhciBzPXRoaXMubW90aW9uQmx1ciYmIXQsbD10aGlzLmxhc3RGcmFtZUFscGhhLHU9dGhpcy5kcHIsaD10aGlzO3MmJih0aGlzLmRvbUJhY2t8fHRoaXMuY3JlYXRlQmFja0J1ZmZlcigpLHRoaXMuY3R4QmFjay5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJjb3B5XCIsdGhpcy5jdHhCYWNrLmRyYXdJbWFnZShpLDAsMCxvL3UsYS91KSk7dmFyIGM9dGhpcy5kb21CYWNrO2Z1bmN0aW9uIHAodCxuLGksbyl7aWYoci5jbGVhclJlY3QodCxuLGksbyksZSYmXCJ0cmFuc3BhcmVudFwiIT09ZSl7dmFyIGE9dm9pZCAwO3EoZSk/KGE9ZS5fX2NhbnZhc0dyYWRpZW50fHxoeShyLGUse3g6MCx5OjAsd2lkdGg6aSxoZWlnaHQ6b30pLGUuX19jYW52YXNHcmFkaWVudD1hKTpLKGUpJiYoYT1teShyLGUse2RpcnR5OmZ1bmN0aW9uKCl7aC5zZXRVbnBhaW50ZWQoKSxoLl9fcGFpbnRlci5yZWZyZXNoKCl9fSkpLHIuc2F2ZSgpLHIuZmlsbFN0eWxlPWF8fGUsci5maWxsUmVjdCh0LG4saSxvKSxyLnJlc3RvcmUoKX1zJiYoci5zYXZlKCksci5nbG9iYWxBbHBoYT1sLHIuZHJhd0ltYWdlKGMsdCxuLGksbyksci5yZXN0b3JlKCkpfSFufHxzP3AoMCwwLG8sYSk6bi5sZW5ndGgmJlAobiwoZnVuY3Rpb24odCl7cCh0LngqdSx0LnkqdSx0LndpZHRoKnUsdC5oZWlnaHQqdSl9KSl9LGV9KEZ0KSxkYj0xZTUsZmI9MzE0MTU5LGdiPS4wMTtmdW5jdGlvbiB5Yih0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9dmFyIHZiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLnR5cGU9XCJjYW52YXNcIix0aGlzLl96bGV2ZWxMaXN0PVtdLHRoaXMuX3ByZXZEaXNwbGF5TGlzdD1bXSx0aGlzLl9sYXllcnM9e30sdGhpcy5fbGF5ZXJDb25maWc9e30sdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nPSExLHRoaXMudHlwZT1cImNhbnZhc1wiO3ZhciByPSF0Lm5vZGVOYW1lfHxcIkNBTlZBU1wiPT09dC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO3RoaXMuX29wdHM9bj1JKHt9LG58fHt9KSx0aGlzLmRwcj1uLmRldmljZVBpeGVsUmF0aW98fFpuLHRoaXMuX3NpbmdsZUNhbnZhcz1yLHRoaXMucm9vdD10O3ZhciBvPXQuc3R5bGU7byYmKG8ud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9XCJ0cmFuc3BhcmVudFwiLG8ud2Via2l0VXNlclNlbGVjdD1cIm5vbmVcIixvLnVzZXJTZWxlY3Q9XCJub25lXCIsb1tcIi13ZWJraXQtdG91Y2gtY2FsbG91dFwiXT1cIm5vbmVcIix0LmlubmVySFRNTD1cIlwiKSx0aGlzLnN0b3JhZ2U9ZTt2YXIgYT10aGlzLl96bGV2ZWxMaXN0O3RoaXMuX3ByZXZEaXNwbGF5TGlzdD1bXTt2YXIgcz10aGlzLl9sYXllcnM7aWYocil7dmFyIGw9dCx1PWwud2lkdGgsaD1sLmhlaWdodDtudWxsIT1uLndpZHRoJiYodT1uLndpZHRoKSxudWxsIT1uLmhlaWdodCYmKGg9bi5oZWlnaHQpLHRoaXMuZHByPW4uZGV2aWNlUGl4ZWxSYXRpb3x8MSxsLndpZHRoPXUqdGhpcy5kcHIsbC5oZWlnaHQ9aCp0aGlzLmRwcix0aGlzLl93aWR0aD11LHRoaXMuX2hlaWdodD1oO3ZhciBjPW5ldyBwYihsLHRoaXMsdGhpcy5kcHIpO2MuX19idWlsdGluX189ITAsYy5pbml0Q29udGV4dCgpLHNbMzE0MTU5XT1jLGMuemxldmVsPWZiLGEucHVzaChmYiksdGhpcy5fZG9tUm9vdD10fWVsc2V7dGhpcy5fd2lkdGg9dGhpcy5fZ2V0U2l6ZSgwKSx0aGlzLl9oZWlnaHQ9dGhpcy5fZ2V0U2l6ZSgxKTt2YXIgcD10aGlzLl9kb21Sb290PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gbi5zdHlsZS5jc3NUZXh0PVtcInBvc2l0aW9uOnJlbGF0aXZlXCIsXCJ3aWR0aDpcIit0K1wicHhcIixcImhlaWdodDpcIitlK1wicHhcIixcInBhZGRpbmc6MFwiLFwibWFyZ2luOjBcIixcImJvcmRlci13aWR0aDowXCJdLmpvaW4oXCI7XCIpK1wiO1wiLG59KHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCk7dC5hcHBlbmRDaGlsZChwKX19cmV0dXJuIHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbnZhc1wifSx0LnByb3RvdHlwZS5pc1NpbmdsZUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDYW52YXN9LHQucHJvdG90eXBlLmdldFZpZXdwb3J0Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb21Sb290fSx0LnByb3RvdHlwZS5nZXRWaWV3cG9ydFJvb3RPZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxuPXRoaXMuX3ByZXZEaXNwbGF5TGlzdCxpPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcmVkcmF3SWQ9TWF0aC5yYW5kb20oKSx0aGlzLl9wYWludExpc3QoZSxuLHQsdGhpcy5fcmVkcmF3SWQpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLGE9dGhpcy5fbGF5ZXJzW29dO2lmKCFhLl9fYnVpbHRpbl9fJiZhLnJlZnJlc2gpe3ZhciBzPTA9PT1yP3RoaXMuX2JhY2tncm91bmRDb2xvcjpudWxsO2EucmVmcmVzaChzKX19cmV0dXJuIHRoaXMuX29wdHMudXNlRGlydHlSZWN0JiYodGhpcy5fcHJldkRpc3BsYXlMaXN0PWUuc2xpY2UoKSksdGhpc30sdC5wcm90b3R5cGUucmVmcmVzaEhvdmVyPWZ1bmN0aW9uKCl7dGhpcy5fcGFpbnRIb3Zlckxpc3QodGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCExKSl9LHQucHJvdG90eXBlLl9wYWludEhvdmVyTGlzdD1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPXRoaXMuX2hvdmVybGF5ZXI7aWYobiYmbi5jbGVhcigpLGUpe2Zvcih2YXIgaSxyPXtpbkhvdmVyOiEwLHZpZXdXaWR0aDp0aGlzLl93aWR0aCx2aWV3SGVpZ2h0OnRoaXMuX2hlaWdodH0sbz0wO288ZTtvKyspe3ZhciBhPXRbb107YS5fX2luSG92ZXImJihufHwobj10aGlzLl9ob3ZlcmxheWVyPXRoaXMuZ2V0TGF5ZXIoZGIpKSxpfHwoaT1uLmN0eCkuc2F2ZSgpLEN5KGksYSxyLG89PT1lLTEpKX1pJiZpLnJlc3RvcmUoKX19LHQucHJvdG90eXBlLmdldEhvdmVyTGF5ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYXllcihkYil9LHQucHJvdG90eXBlLnBhaW50T25lPWZ1bmN0aW9uKHQsZSl7VHkodCxlKX0sdC5wcm90b3R5cGUuX3BhaW50TGlzdD1mdW5jdGlvbih0LGUsbixpKXtpZih0aGlzLl9yZWRyYXdJZD09PWkpe249bnx8ITEsdGhpcy5fdXBkYXRlTGF5ZXJTdGF0dXModCk7dmFyIHI9dGhpcy5fZG9QYWludExpc3QodCxlLG4pLG89ci5maW5pc2hlZCxhPXIubmVlZHNSZWZyZXNoSG92ZXI7aWYodGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nJiZ0aGlzLl9jb21wb3NpdGVNYW51YWxseSgpLGEmJnRoaXMuX3BhaW50SG92ZXJMaXN0KHQpLG8pdGhpcy5lYWNoTGF5ZXIoKGZ1bmN0aW9uKHQpe3QuYWZ0ZXJCcnVzaCYmdC5hZnRlckJydXNoKCl9KSk7ZWxzZXt2YXIgcz10aGlzO21pKChmdW5jdGlvbigpe3MuX3BhaW50TGlzdCh0LGUsbixpKX0pKX19fSx0LnByb3RvdHlwZS5fY29tcG9zaXRlTWFudWFsbHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldExheWVyKGZiKS5jdHgsZT10aGlzLl9kb21Sb290LndpZHRoLG49dGhpcy5fZG9tUm9vdC5oZWlnaHQ7dC5jbGVhclJlY3QoMCwwLGUsbiksdGhpcy5lYWNoQnVpbHRpbkxheWVyKChmdW5jdGlvbihpKXtpLnZpcnR1YWwmJnQuZHJhd0ltYWdlKGkuZG9tLDAsMCxlLG4pfSkpfSx0LnByb3RvdHlwZS5fZG9QYWludExpc3Q9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLHI9W10sbz10aGlzLl9vcHRzLnVzZURpcnR5UmVjdCxzPTA7czx0aGlzLl96bGV2ZWxMaXN0Lmxlbmd0aDtzKyspe3ZhciBsPXRoaXMuX3psZXZlbExpc3Rbc10sdT10aGlzLl9sYXllcnNbbF07dS5fX2J1aWx0aW5fXyYmdSE9PXRoaXMuX2hvdmVybGF5ZXImJih1Ll9fZGlydHl8fG4pJiZyLnB1c2godSl9Zm9yKHZhciBoPSEwLGM9ITEscD1mdW5jdGlvbihhKXt2YXIgcz1yW2FdLGw9cy5jdHgsdT1vJiZzLmNyZWF0ZVJlcGFpbnRSZWN0cyh0LGUsZC5fd2lkdGgsZC5faGVpZ2h0KTtsLnNhdmUoKTt2YXIgcCxmPW4/cy5fX3N0YXJ0SW5kZXg6cy5fX2RyYXdJbmRleCxnPSFuJiZzLmluY3JlbWVudGFsJiZEYXRlLm5vdyx5PWcmJkRhdGUubm93KCksdj1zLnpsZXZlbD09PWQuX3psZXZlbExpc3RbMF0/ZC5fYmFja2dyb3VuZENvbG9yOm51bGw7aWYocy5fX3N0YXJ0SW5kZXg9PT1zLl9fZW5kSW5kZXgpcy5jbGVhcighMSx2LHUpO2Vsc2UgaWYoZj09PXMuX19zdGFydEluZGV4KXt2YXIgbT10W2ZdO20uaW5jcmVtZW50YWwmJm0ubm90Q2xlYXImJiFufHxzLmNsZWFyKCExLHYsdSl9LTE9PT1mJiYoY29uc29sZS5lcnJvcihcIkZvciBzb21lIHVua25vd24gcmVhc29uLiBkcmF3SW5kZXggaXMgLTFcIiksZj1zLl9fc3RhcnRJbmRleCk7dmFyIF89ZnVuY3Rpb24oZSl7dmFyIG49e2luSG92ZXI6ITEsYWxsQ2xpcHBlZDohMSxwcmV2RWw6bnVsbCx2aWV3V2lkdGg6aS5fd2lkdGgsdmlld0hlaWdodDppLl9oZWlnaHR9O2ZvcihwPWY7cDxzLl9fZW5kSW5kZXg7cCsrKXt2YXIgcj10W3BdO2lmKHIuX19pbkhvdmVyJiYoYz0hMCksaS5fZG9QYWludEVsKHIscyxvLGUsbixwPT09cy5fX2VuZEluZGV4LTEpLGcpaWYoRGF0ZS5ub3coKS15PjE1KWJyZWFrfW4ucHJldkVsQ2xpcFBhdGhzJiZsLnJlc3RvcmUoKX07aWYodSlpZigwPT09dS5sZW5ndGgpcD1zLl9fZW5kSW5kZXg7ZWxzZSBmb3IodmFyIHg9ZC5kcHIsYj0wO2I8dS5sZW5ndGg7KytiKXt2YXIgdz11W2JdO2wuc2F2ZSgpLGwuYmVnaW5QYXRoKCksbC5yZWN0KHcueCp4LHcueSp4LHcud2lkdGgqeCx3LmhlaWdodCp4KSxsLmNsaXAoKSxfKHcpLGwucmVzdG9yZSgpfWVsc2UgbC5zYXZlKCksXygpLGwucmVzdG9yZSgpO3MuX19kcmF3SW5kZXg9cCxzLl9fZHJhd0luZGV4PHMuX19lbmRJbmRleCYmKGg9ITEpfSxkPXRoaXMsZj0wO2Y8ci5sZW5ndGg7ZisrKXAoZik7cmV0dXJuIGEud3hhJiZQKHRoaXMuX2xheWVycywoZnVuY3Rpb24odCl7dCYmdC5jdHgmJnQuY3R4LmRyYXcmJnQuY3R4LmRyYXcoKX0pKSx7ZmluaXNoZWQ6aCxuZWVkc1JlZnJlc2hIb3ZlcjpjfX0sdC5wcm90b3R5cGUuX2RvUGFpbnRFbD1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9ZS5jdHg7aWYobil7dmFyIHM9dC5nZXRQYWludFJlY3QoKTsoIWl8fHMmJnMuaW50ZXJzZWN0KGkpKSYmKEN5KGEsdCxyLG8pLHQuc2V0UHJldlBhaW50UmVjdChzKSl9ZWxzZSBDeShhLHQscixvKX0sdC5wcm90b3R5cGUuZ2V0TGF5ZXI9ZnVuY3Rpb24odCxlKXt0aGlzLl9zaW5nbGVDYW52YXMmJiF0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcmJih0PWZiKTt2YXIgbj10aGlzLl9sYXllcnNbdF07cmV0dXJuIG58fCgobj1uZXcgcGIoXCJ6cl9cIit0LHRoaXMsdGhpcy5kcHIpKS56bGV2ZWw9dCxuLl9fYnVpbHRpbl9fPSEwLHRoaXMuX2xheWVyQ29uZmlnW3RdP1Mobix0aGlzLl9sYXllckNvbmZpZ1t0XSwhMCk6dGhpcy5fbGF5ZXJDb25maWdbdC1nYl0mJlMobix0aGlzLl9sYXllckNvbmZpZ1t0LWdiXSwhMCksZSYmKG4udmlydHVhbD1lKSx0aGlzLmluc2VydExheWVyKHQsbiksbi5pbml0Q29udGV4dCgpKSxufSx0LnByb3RvdHlwZS5pbnNlcnRMYXllcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2xheWVycyxpPXRoaXMuX3psZXZlbExpc3Qscj1pLmxlbmd0aCxvPXRoaXMuX2RvbVJvb3QsYT1udWxsLHM9LTE7aWYoblt0XSliKFwiWkxldmVsIFwiK3QrXCIgaGFzIGJlZW4gdXNlZCBhbHJlYWR5XCIpO2Vsc2UgaWYoZnVuY3Rpb24odCl7cmV0dXJuISF0JiYoISF0Ll9fYnVpbHRpbl9ffHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlc2l6ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWZyZXNoKX0oZSkpe2lmKHI+MCYmdD5pWzBdKXtmb3Iocz0wO3M8ci0xJiYhKGlbc108dCYmaVtzKzFdPnQpO3MrKyk7YT1uW2lbc11dfWlmKGkuc3BsaWNlKHMrMSwwLHQpLG5bdF09ZSwhZS52aXJ0dWFsKWlmKGEpe3ZhciBsPWEuZG9tO2wubmV4dFNpYmxpbmc/by5pbnNlcnRCZWZvcmUoZS5kb20sbC5uZXh0U2libGluZyk6by5hcHBlbmRDaGlsZChlLmRvbSl9ZWxzZSBvLmZpcnN0Q2hpbGQ/by5pbnNlcnRCZWZvcmUoZS5kb20sby5maXJzdENoaWxkKTpvLmFwcGVuZENoaWxkKGUuZG9tKTtlLl9fcGFpbnRlcj10aGlzfWVsc2UgYihcIkxheWVyIG9mIHpsZXZlbCBcIit0K1wiIGlzIG5vdCB2YWxpZFwiKX0sdC5wcm90b3R5cGUuZWFjaExheWVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX3psZXZlbExpc3QsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3QuY2FsbChlLHRoaXMuX2xheWVyc1tyXSxyKX19LHQucHJvdG90eXBlLmVhY2hCdWlsdGluTGF5ZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5femxldmVsTGlzdCxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV0sbz10aGlzLl9sYXllcnNbcl07by5fX2J1aWx0aW5fXyYmdC5jYWxsKGUsbyxyKX19LHQucHJvdG90eXBlLmVhY2hPdGhlckxheWVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX3psZXZlbExpc3QsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldLG89dGhpcy5fbGF5ZXJzW3JdO28uX19idWlsdGluX198fHQuY2FsbChlLG8scil9fSx0LnByb3RvdHlwZS5nZXRMYXllcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF5ZXJzfSx0LnByb3RvdHlwZS5fdXBkYXRlTGF5ZXJTdGF0dXM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtvJiYoby5fX2VuZEluZGV4IT09dCYmKG8uX19kaXJ0eT0hMCksby5fX2VuZEluZGV4PXQpfWlmKHRoaXMuZWFjaEJ1aWx0aW5MYXllcigoZnVuY3Rpb24odCxlKXt0Ll9fZGlydHk9dC5fX3VzZWQ9ITF9KSksdGhpcy5fc2luZ2xlQ2FudmFzKWZvcih2YXIgbj0xO248dC5sZW5ndGg7bisrKXtpZigocz10W25dKS56bGV2ZWwhPT10W24tMV0uemxldmVsfHxzLmluY3JlbWVudGFsKXt0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITA7YnJlYWt9fXZhciBpLHIsbz1udWxsLGE9MDtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgcyxsPShzPXRbcl0pLnpsZXZlbCx1PXZvaWQgMDtpIT09bCYmKGk9bCxhPTApLHMuaW5jcmVtZW50YWw/KCh1PXRoaXMuZ2V0TGF5ZXIobCsuMDAxLHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZykpLmluY3JlbWVudGFsPSEwLGE9MSk6dT10aGlzLmdldExheWVyKGwrKGE+MD9nYjowKSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcpLHUuX19idWlsdGluX198fGIoXCJaTGV2ZWwgXCIrbCtcIiBoYXMgYmVlbiB1c2VkIGJ5IHVua293biBsYXllciBcIit1LmlkKSx1IT09byYmKHUuX191c2VkPSEwLHUuX19zdGFydEluZGV4IT09ciYmKHUuX19kaXJ0eT0hMCksdS5fX3N0YXJ0SW5kZXg9cix1LmluY3JlbWVudGFsP3UuX19kcmF3SW5kZXg9LTE6dS5fX2RyYXdJbmRleD1yLGUociksbz11KSxzLl9fZGlydHkmZWkuUkVEQVJBV19CSVQmJiFzLl9faW5Ib3ZlciYmKHUuX19kaXJ0eT0hMCx1LmluY3JlbWVudGFsJiZ1Ll9fZHJhd0luZGV4PDAmJih1Ll9fZHJhd0luZGV4PXIpKX1lKHIpLHRoaXMuZWFjaEJ1aWx0aW5MYXllcigoZnVuY3Rpb24odCxlKXshdC5fX3VzZWQmJnQuZ2V0RWxlbWVudENvdW50KCk+MCYmKHQuX19kaXJ0eT0hMCx0Ll9fc3RhcnRJbmRleD10Ll9fZW5kSW5kZXg9dC5fX2RyYXdJbmRleD0wKSx0Ll9fZGlydHkmJnQuX19kcmF3SW5kZXg8MCYmKHQuX19kcmF3SW5kZXg9dC5fX3N0YXJ0SW5kZXgpfSkpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hCdWlsdGluTGF5ZXIodGhpcy5fY2xlYXJMYXllciksdGhpc30sdC5wcm90b3R5cGUuX2NsZWFyTGF5ZXI9ZnVuY3Rpb24odCl7dC5jbGVhcigpfSx0LnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24odCl7dGhpcy5fYmFja2dyb3VuZENvbG9yPXQsUCh0aGlzLl9sYXllcnMsKGZ1bmN0aW9uKHQpe3Quc2V0VW5wYWludGVkKCl9KSl9LHQucHJvdG90eXBlLmNvbmZpZ0xheWVyPWZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIG49dGhpcy5fbGF5ZXJDb25maWc7blt0XT9TKG5bdF0sZSwhMCk6blt0XT1lO2Zvcih2YXIgaT0wO2k8dGhpcy5femxldmVsTGlzdC5sZW5ndGg7aSsrKXt2YXIgcj10aGlzLl96bGV2ZWxMaXN0W2ldO2lmKHI9PT10fHxyPT09dCtnYilTKHRoaXMuX2xheWVyc1tyXSxuW3RdLCEwKX19fSx0LnByb3RvdHlwZS5kZWxMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnMsbj10aGlzLl96bGV2ZWxMaXN0LGk9ZVt0XTtpJiYoaS5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLmRvbSksZGVsZXRlIGVbdF0sbi5zcGxpY2UoQShuLHQpLDEpKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZG9tUm9vdC5zdHlsZSl7dmFyIG49dGhpcy5fZG9tUm9vdDtuLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIGk9dGhpcy5fb3B0cztpZihudWxsIT10JiYoaS53aWR0aD10KSxudWxsIT1lJiYoaS5oZWlnaHQ9ZSksdD10aGlzLl9nZXRTaXplKDApLGU9dGhpcy5fZ2V0U2l6ZSgxKSxuLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzLl93aWR0aCE9PXR8fGUhPT10aGlzLl9oZWlnaHQpe2Zvcih2YXIgciBpbiBuLnN0eWxlLndpZHRoPXQrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PWUrXCJweFwiLHRoaXMuX2xheWVycyl0aGlzLl9sYXllcnMuaGFzT3duUHJvcGVydHkocikmJnRoaXMuX2xheWVyc1tyXS5yZXNpemUodCxlKTt0aGlzLnJlZnJlc2goITApfXRoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWV9ZWxzZXtpZihudWxsPT10fHxudWxsPT1lKXJldHVybjt0aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lLHRoaXMuZ2V0TGF5ZXIoZmIpLnJlc2l6ZSh0LGUpfXJldHVybiB0aGlzfSx0LnByb3RvdHlwZS5jbGVhckxheWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2xheWVyc1t0XTtlJiZlLmNsZWFyKCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnJvb3QuaW5uZXJIVE1MPVwiXCIsdGhpcy5yb290PXRoaXMuc3RvcmFnZT10aGlzLl9kb21Sb290PXRoaXMuX2xheWVycz1udWxsfSx0LnByb3RvdHlwZS5nZXRSZW5kZXJlZENhbnZhcz1mdW5jdGlvbih0KXtpZih0PXR8fHt9LHRoaXMuX3NpbmdsZUNhbnZhcyYmIXRoaXMuX2NvbXBvc2l0ZU1hbnVhbGx5KXJldHVybiB0aGlzLl9sYXllcnNbMzE0MTU5XS5kb207dmFyIGU9bmV3IHBiKFwiaW1hZ2VcIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpLG49ZS5jdHg7aWYoZS5pbml0Q29udGV4dCgpLGUuY2xlYXIoITEsdC5iYWNrZ3JvdW5kQ29sb3J8fHRoaXMuX2JhY2tncm91bmRDb2xvciksdC5waXhlbFJhdGlvPD10aGlzLmRwcil7dGhpcy5yZWZyZXNoKCk7dmFyIGk9ZS5kb20ud2lkdGgscj1lLmRvbS5oZWlnaHQsbz1lLmN0eDt0aGlzLmVhY2hMYXllcigoZnVuY3Rpb24odCl7dC5fX2J1aWx0aW5fXz9vLmRyYXdJbWFnZSh0LmRvbSwwLDAsaSxyKTp0LnJlbmRlclRvQ2FudmFzJiYoZS5jdHguc2F2ZSgpLHQucmVuZGVyVG9DYW52YXMoZS5jdHgpLGUuY3R4LnJlc3RvcmUoKSl9KSl9ZWxzZSBmb3IodmFyIGE9e2luSG92ZXI6ITEsdmlld1dpZHRoOnRoaXMuX3dpZHRoLHZpZXdIZWlnaHQ6dGhpcy5faGVpZ2h0fSxzPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCksbD0wLHU9cy5sZW5ndGg7bDx1O2wrKyl7Q3kobixzW2xdLGEsbD09PXUtMSl9cmV0dXJuIGUuZG9tfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sdC5wcm90b3R5cGUuX2dldFNpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3B0cyxuPVtcIndpZHRoXCIsXCJoZWlnaHRcIl1bdF0saT1bXCJjbGllbnRXaWR0aFwiLFwiY2xpZW50SGVpZ2h0XCJdW3RdLHI9W1wicGFkZGluZ0xlZnRcIixcInBhZGRpbmdUb3BcIl1bdF0sbz1bXCJwYWRkaW5nUmlnaHRcIixcInBhZGRpbmdCb3R0b21cIl1bdF07aWYobnVsbCE9ZVtuXSYmXCJhdXRvXCIhPT1lW25dKXJldHVybiBwYXJzZUZsb2F0KGVbbl0pO3ZhciBhPXRoaXMucm9vdCxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSk7cmV0dXJuKGFbaV18fHliKHNbbl0pfHx5YihhLnN0eWxlW25dKSktKHliKHNbcl0pfHwwKS0oeWIoc1tvXSl8fDApfDB9LHQucHJvdG90eXBlLnBhdGhUb0ltYWdlPWZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLmRwcjt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGk9bi5nZXRDb250ZXh0KFwiMmRcIikscj10LmdldEJvdW5kaW5nUmVjdCgpLG89dC5zdHlsZSxhPW8uc2hhZG93Qmx1ciplLHM9by5zaGFkb3dPZmZzZXRYKmUsbD1vLnNoYWRvd09mZnNldFkqZSx1PXQuaGFzU3Ryb2tlKCk/by5saW5lV2lkdGg6MCxoPU1hdGgubWF4KHUvMiwtcythKSxjPU1hdGgubWF4KHUvMixzK2EpLHA9TWF0aC5tYXgodS8yLC1sK2EpLGQ9TWF0aC5tYXgodS8yLGwrYSksZj1yLndpZHRoK2grYyxnPXIuaGVpZ2h0K3ArZDtuLndpZHRoPWYqZSxuLmhlaWdodD1nKmUsaS5zY2FsZShlLGUpLGkuY2xlYXJSZWN0KDAsMCxmLGcpLGkuZHByPWU7dmFyIHk9e3g6dC54LHk6dC55LHNjYWxlWDp0LnNjYWxlWCxzY2FsZVk6dC5zY2FsZVkscm90YXRpb246dC5yb3RhdGlvbixvcmlnaW5YOnQub3JpZ2luWCxvcmlnaW5ZOnQub3JpZ2luWX07dC54PWgtci54LHQueT1wLXIueSx0LnJvdGF0aW9uPTAsdC5zY2FsZVg9MSx0LnNjYWxlWT0xLHQudXBkYXRlVHJhbnNmb3JtKCksdCYmQ3koaSx0LHtpbkhvdmVyOiExLHZpZXdXaWR0aDp0aGlzLl93aWR0aCx2aWV3SGVpZ2h0OnRoaXMuX2hlaWdodH0sITApO3ZhciB2PW5ldyBKYSh7c3R5bGU6e3g6MCx5OjAsaW1hZ2U6bn19KTtyZXR1cm4gSSh0LHkpLHZ9LHR9KCk7dmFyIG1iPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbi5sZWdlbmRTeW1ib2w9XCJsaW5lXCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBIbSh0aGlzLmdldFNvdXJjZSgpLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxlLnR5cGU9XCJzZXJpZXMubGluZVwiLGUuZGVwZW5kZW5jaWVzPVtcImdyaWRcIixcInBvbGFyXCJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejozLGNvb3JkaW5hdGVTeXN0ZW06XCJjYXJ0ZXNpYW4yZFwiLGxlZ2VuZEhvdmVyTGluazohMCxjbGlwOiEwLGxhYmVsOntwb3NpdGlvbjpcInRvcFwifSxlbmRMYWJlbDp7c2hvdzohMSx2YWx1ZUFuaW1hdGlvbjohMCxkaXN0YW5jZTo4fSxsaW5lU3R5bGU6e3dpZHRoOjIsdHlwZTpcInNvbGlkXCJ9LGVtcGhhc2lzOntzY2FsZTohMCxsaW5lU3R5bGU6e3dpZHRoOlwiYm9sZGVyXCJ9fSxzdGVwOiExLHNtb290aDohMSxzbW9vdGhNb25vdG9uZTpudWxsLHN5bWJvbDpcImVtcHR5Q2lyY2xlXCIsc3ltYm9sU2l6ZTo0LHN5bWJvbFJvdGF0ZTpudWxsLHNob3dTeW1ib2w6ITAsc2hvd0FsbFN5bWJvbDpcImF1dG9cIixjb25uZWN0TnVsbHM6ITEsc2FtcGxpbmc6XCJub25lXCIsYW5pbWF0aW9uRWFzaW5nOlwibGluZWFyXCIscHJvZ3Jlc3NpdmU6MCxob3ZlckxheWVyVGhyZXNob2xkOjEvMH0sZX0ocmYpO2Z1bmN0aW9uIF9iKHQsZSl7dmFyIG49dC5tYXBEaW1lbnNpb25zQWxsKFwiZGVmYXVsdGVkTGFiZWxcIiksaT1uLmxlbmd0aDtpZigxPT09aSl7dmFyIHI9ZmQodCxlLG5bMF0pO3JldHVybiBudWxsIT1yP3IrXCJcIjpudWxsfWlmKGkpe2Zvcih2YXIgbz1bXSxhPTA7YTxuLmxlbmd0aDthKyspby5wdXNoKGZkKHQsZSxuW2FdKSk7cmV0dXJuIG8uam9pbihcIiBcIil9fWZ1bmN0aW9uIHhiKHQsZSl7dmFyIG49dC5tYXBEaW1lbnNpb25zQWxsKFwiZGVmYXVsdGVkTGFiZWxcIik7aWYoIUYoZSkpcmV0dXJuIGUrXCJcIjtmb3IodmFyIGk9W10scj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz10LmdldERpbWVuc2lvbkluZm8obltyXSk7byYmaS5wdXNoKGVbby5pbmRleF0pfXJldHVybiBpLmpvaW4oXCIgXCIpfXZhciBiYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby51cGRhdGVEYXRhKGUsbixpLHIpLG99cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5fY3JlYXRlU3ltYm9sPWZ1bmN0aW9uKHQsZSxuLGkscil7dGhpcy5yZW1vdmVBbGwoKTt2YXIgbz11eSh0LC0xLC0xLDIsMixudWxsLHIpO28uYXR0cih7ejI6MTAwLGN1bGxpbmc6ITAsc2NhbGVYOmlbMF0vMixzY2FsZVk6aVsxXS8yfSksby5kcmlmdD13Yix0aGlzLl9zeW1ib2xUeXBlPXQsdGhpcy5hZGQobyl9LGUucHJvdG90eXBlLnN0b3BTeW1ib2xBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5jaGlsZEF0KDApLnN0b3BBbmltYXRpb24obnVsbCx0KX0sZS5wcm90b3R5cGUuZ2V0U3ltYm9sUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkQXQoMCl9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbigpe0hzKHRoaXMuY2hpbGRBdCgwKSl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKCl7V3ModGhpcy5jaGlsZEF0KDApKX0sZS5wcm90b3R5cGUuc2V0Wj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2hpbGRBdCgwKTtuLnpsZXZlbD10LG4uej1lfSxlLnByb3RvdHlwZS5zZXREcmFnZ2FibGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZEF0KDApO2UuZHJhZ2dhYmxlPXQsZS5jdXJzb3I9dD9cIm1vdmVcIjplLmN1cnNvcn0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LG4saSxyKXt0aGlzLnNpbGVudD0hMTt2YXIgbz10LmdldEl0ZW1WaXN1YWwobixcInN5bWJvbFwiKXx8XCJjaXJjbGVcIixhPXQuaG9zdE1vZGVsLHM9ZS5nZXRTeW1ib2xTaXplKHQsbiksbD1vIT09dGhpcy5fc3ltYm9sVHlwZSx1PXImJnIuZGlzYWJsZUFuaW1hdGlvbjtpZihsKXt2YXIgaD10LmdldEl0ZW1WaXN1YWwobixcInN5bWJvbEtlZXBBc3BlY3RcIik7dGhpcy5fY3JlYXRlU3ltYm9sKG8sdCxuLHMsaCl9ZWxzZXsocD10aGlzLmNoaWxkQXQoMCkpLnNpbGVudD0hMTt2YXIgYz17c2NhbGVYOnNbMF0vMixzY2FsZVk6c1sxXS8yfTt1P3AuYXR0cihjKTpPdShwLGMsYSxuKX1pZih0aGlzLl91cGRhdGVDb21tb24odCxuLHMsaSxyKSxsKXt2YXIgcD10aGlzLmNoaWxkQXQoMCk7aWYoIXUpe2M9e3NjYWxlWDp0aGlzLl9zaXplWCxzY2FsZVk6dGhpcy5fc2l6ZVksc3R5bGU6e29wYWNpdHk6cC5zdHlsZS5vcGFjaXR5fX07cC5zY2FsZVg9cC5zY2FsZVk9MCxwLnN0eWxlLm9wYWNpdHk9MCxSdShwLGMsYSxuKX19dSYmdGhpcy5jaGlsZEF0KDApLnN0b3BBbmltYXRpb24oXCJyZW1vdmVcIiksdGhpcy5fc2VyaWVzTW9kZWw9YX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbW1vbj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGEscyxsLHUsaCxjLHAsZCxmPXRoaXMuY2hpbGRBdCgwKSxnPXQuaG9zdE1vZGVsO2lmKGkmJihvPWkuZW1waGFzaXNJdGVtU3R5bGUsYT1pLmJsdXJJdGVtU3R5bGUscz1pLnNlbGVjdEl0ZW1TdHlsZSxsPWkuZm9jdXMsdT1pLmJsdXJTY29wZSxoPWkuc3ltYm9sT2Zmc2V0LGM9aS5sYWJlbFN0YXRlc01vZGVscyxwPWkuaG92ZXJTY2FsZSxkPWkuY3Vyc29yU3R5bGUpLCFpfHx0Lmhhc0l0ZW1PcHRpb24pe3ZhciB5PWkmJmkuaXRlbU1vZGVsP2kuaXRlbU1vZGVsOnQuZ2V0SXRlbU1vZGVsKGUpLHY9eS5nZXRNb2RlbChcImVtcGhhc2lzXCIpO289di5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSxzPXkuZ2V0TW9kZWwoW1wic2VsZWN0XCIsXCJpdGVtU3R5bGVcIl0pLmdldEl0ZW1TdHlsZSgpLGE9eS5nZXRNb2RlbChbXCJibHVyXCIsXCJpdGVtU3R5bGVcIl0pLmdldEl0ZW1TdHlsZSgpLGw9di5nZXQoXCJmb2N1c1wiKSx1PXYuZ2V0KFwiYmx1clNjb3BlXCIpLGg9eS5nZXRTaGFsbG93KFwic3ltYm9sT2Zmc2V0XCIpLGM9ZWgoeSkscD12LmdldFNoYWxsb3coXCJzY2FsZVwiKSxkPXkuZ2V0U2hhbGxvdyhcImN1cnNvclwiKX12YXIgbT10LmdldEl0ZW1WaXN1YWwoZSxcInN5bWJvbFJvdGF0ZVwiKTtmLmF0dHIoXCJyb3RhdGlvblwiLChtfHwwKSpNYXRoLlBJLzE4MHx8MCksaCYmKGYueD1aaShoWzBdLG5bMF0pLGYueT1aaShoWzFdLG5bMV0pKSxkJiZmLmF0dHIoXCJjdXJzb3JcIixkKTt2YXIgXz10LmdldEl0ZW1WaXN1YWwoZSxcInN0eWxlXCIpLHg9Xy5maWxsO2lmKGYgaW5zdGFuY2VvZiBKYSl7dmFyIGI9Zi5zdHlsZTtmLnVzZVN0eWxlKEkoe2ltYWdlOmIuaW1hZ2UseDpiLngseTpiLnksd2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LF8pKX1lbHNlIGYuX19pc0VtcHR5QnJ1c2g/Zi51c2VTdHlsZShJKHt9LF8pKTpmLnVzZVN0eWxlKF8pLGYuc3R5bGUuZGVjYWw9bnVsbCxmLnNldENvbG9yKHgsciYmci5zeW1ib2xJbm5lckNvbG9yKSxmLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITA7dmFyIHc9dC5nZXRJdGVtVmlzdWFsKGUsXCJsaWZ0WlwiKSxTPXRoaXMuX3oyO251bGwhPXc/bnVsbD09UyYmKHRoaXMuX3oyPWYuejIsZi56Mis9dyk6bnVsbCE9UyYmKGYuejI9Uyx0aGlzLl96Mj1udWxsKTt2YXIgTT1yJiZyLnVzZU5hbWVMYWJlbDt0aChmLGMse2xhYmVsRmV0Y2hlcjpnLGxhYmVsRGF0YUluZGV4OmUsZGVmYXVsdFRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE0/dC5nZXROYW1lKGUpOl9iKHQsZSl9LGluaGVyaXRDb2xvcjp4LGRlZmF1bHRPcGFjaXR5Ol8ub3BhY2l0eX0pLHRoaXMuX3NpemVYPW5bMF0vMix0aGlzLl9zaXplWT1uWzFdLzI7dmFyIFQ9Zi5lbnN1cmVTdGF0ZShcImVtcGhhc2lzXCIpO2lmKFQuc3R5bGU9byxmLmVuc3VyZVN0YXRlKFwic2VsZWN0XCIpLnN0eWxlPXMsZi5lbnN1cmVTdGF0ZShcImJsdXJcIikuc3R5bGU9YSxwKXt2YXIgQz1NYXRoLm1heCgxLjEsMy90aGlzLl9zaXplWSk7VC5zY2FsZVg9dGhpcy5fc2l6ZVgqQyxULnNjYWxlWT10aGlzLl9zaXplWSpDfXRoaXMuc2V0U3ltYm9sU2NhbGUoMSksSnModGhpcyxsLHUpfSxlLnByb3RvdHlwZS5zZXRTeW1ib2xTY2FsZT1mdW5jdGlvbih0KXt0aGlzLnNjYWxlWD10aGlzLnNjYWxlWT10fSxlLnByb3RvdHlwZS5mYWRlT3V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jaGlsZEF0KDApLGk9dGhpcy5fc2VyaWVzTW9kZWwscj15cyh0aGlzKS5kYXRhSW5kZXgsbz1lJiZlLmFuaW1hdGlvbjtpZih0aGlzLnNpbGVudD1uLnNpbGVudD0hMCxlJiZlLmZhZGVMYWJlbCl7dmFyIGE9bi5nZXRUZXh0Q29udGVudCgpO2EmJk51KGEse3N0eWxlOntvcGFjaXR5OjB9fSxpLHtkYXRhSW5kZXg6cixyZW1vdmVPcHQ6byxjYjpmdW5jdGlvbigpe24ucmVtb3ZlVGV4dENvbnRlbnQoKX19KX1lbHNlIG4ucmVtb3ZlVGV4dENvbnRlbnQoKTtOdShuLHtzdHlsZTp7b3BhY2l0eTowfSxzY2FsZVg6MCxzY2FsZVk6MH0saSx7ZGF0YUluZGV4OnIsY2I6dCxyZW1vdmVPcHQ6b30pfSxlLmdldFN5bWJvbFNpemU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEl0ZW1WaXN1YWwoZSxcInN5bWJvbFNpemVcIik7cmV0dXJuIG4gaW5zdGFuY2VvZiBBcnJheT9uLnNsaWNlKCk6WytuLCtuXX0sZX0oemkpO2Z1bmN0aW9uIHdiKHQsZSl7dGhpcy5wYXJlbnQuZHJpZnQodCxlKX1mdW5jdGlvbiBTYih0LGUsbixpKXtyZXR1cm4gZSYmIWlzTmFOKGVbMF0pJiYhaXNOYU4oZVsxXSkmJiEoaS5pc0lnbm9yZSYmaS5pc0lnbm9yZShuKSkmJiEoaS5jbGlwU2hhcGUmJiFpLmNsaXBTaGFwZS5jb250YWluKGVbMF0sZVsxXSkpJiZcIm5vbmVcIiE9PXQuZ2V0SXRlbVZpc3VhbChuLFwic3ltYm9sXCIpfWZ1bmN0aW9uIE1iKHQpe3JldHVybiBudWxsPT10fHxYKHQpfHwodD17aXNJZ25vcmU6dH0pLHR8fHt9fWZ1bmN0aW9uIEliKHQpe3ZhciBlPXQuaG9zdE1vZGVsLG49ZS5nZXRNb2RlbChcImVtcGhhc2lzXCIpO3JldHVybntlbXBoYXNpc0l0ZW1TdHlsZTpuLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLmdldEl0ZW1TdHlsZSgpLGJsdXJJdGVtU3R5bGU6ZS5nZXRNb2RlbChbXCJibHVyXCIsXCJpdGVtU3R5bGVcIl0pLmdldEl0ZW1TdHlsZSgpLHNlbGVjdEl0ZW1TdHlsZTplLmdldE1vZGVsKFtcInNlbGVjdFwiLFwiaXRlbVN0eWxlXCJdKS5nZXRJdGVtU3R5bGUoKSxmb2N1czpuLmdldChcImZvY3VzXCIpLGJsdXJTY29wZTpuLmdldChcImJsdXJTY29wZVwiKSxzeW1ib2xSb3RhdGU6ZS5nZXQoXCJzeW1ib2xSb3RhdGVcIiksc3ltYm9sT2Zmc2V0OmUuZ2V0KFwic3ltYm9sT2Zmc2V0XCIpLGhvdmVyU2NhbGU6bi5nZXQoXCJzY2FsZVwiKSxsYWJlbFN0YXRlc01vZGVsczplaChlKSxjdXJzb3JTdHlsZTplLmdldChcImN1cnNvclwiKX19dmFyIFRiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmdyb3VwPW5ldyB6aSx0aGlzLl9TeW1ib2xDdG9yPXR8fGJifXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSl7ZT1NYihlKTt2YXIgbj10aGlzLmdyb3VwLGk9dC5ob3N0TW9kZWwscj10aGlzLl9kYXRhLG89dGhpcy5fU3ltYm9sQ3RvcixhPWUuZGlzYWJsZUFuaW1hdGlvbixzPUliKHQpLGw9e2Rpc2FibGVBbmltYXRpb246YX0sdT1lLmdldFN5bWJvbFBvaW50fHxmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRJdGVtTGF5b3V0KGUpfTtyfHxuLnJlbW92ZUFsbCgpLHQuZGlmZihyKS5hZGQoKGZ1bmN0aW9uKGkpe3ZhciByPXUoaSk7aWYoU2IodCxyLGksZSkpe3ZhciBhPW5ldyBvKHQsaSxzLGwpO2Euc2V0UG9zaXRpb24ociksdC5zZXRJdGVtR3JhcGhpY0VsKGksYSksbi5hZGQoYSl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oaCxjKXt2YXIgcD1yLmdldEl0ZW1HcmFwaGljRWwoYyksZD11KGgpO2lmKFNiKHQsZCxoLGUpKXtpZihwKXtwLnVwZGF0ZURhdGEodCxoLHMsbCk7dmFyIGY9e3g6ZFswXSx5OmRbMV19O2E/cC5hdHRyKGYpOk91KHAsZixpKX1lbHNlKHA9bmV3IG8odCxoKSkuc2V0UG9zaXRpb24oZCk7bi5hZGQocCksdC5zZXRJdGVtR3JhcGhpY0VsKGgscCl9ZWxzZSBuLnJlbW92ZShwKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3ZhciBlPXIuZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZlLmZhZGVPdXQoKGZ1bmN0aW9uKCl7bi5yZW1vdmUoZSl9KSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2dldFN5bWJvbFBvaW50PXUsdGhpcy5fZGF0YT10fSx0LnByb3RvdHlwZS5pc1BlcnNpc3RlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX2RhdGE7ZSYmZS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSxuKXt2YXIgaT10Ll9nZXRTeW1ib2xQb2ludChuKTtlLnNldFBvc2l0aW9uKGkpLGUubWFya1JlZHJhdygpfSkpfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc2VyaWVzU2NvcGU9SWIodCksdGhpcy5fZGF0YT1udWxsLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LHQucHJvdG90eXBlLmluY3JlbWVudGFsVXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpKHQpe3QuaXNHcm91cHx8KHQuaW5jcmVtZW50YWw9ITAsdC5lbnN1cmVTdGF0ZShcImVtcGhhc2lzXCIpLmhvdmVyTGF5ZXI9ITApfW49TWIobik7Zm9yKHZhciByPXQuc3RhcnQ7cjx0LmVuZDtyKyspe3ZhciBvPWUuZ2V0SXRlbUxheW91dChyKTtpZihTYihlLG8scixuKSl7dmFyIGE9bmV3IHRoaXMuX1N5bWJvbEN0b3IoZSxyLHRoaXMuX3Nlcmllc1Njb3BlKTthLnRyYXZlcnNlKGkpLGEuc2V0UG9zaXRpb24obyksdGhpcy5ncm91cC5hZGQoYSksZS5zZXRJdGVtR3JhcGhpY0VsKHIsYSl9fX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO24mJnQ/bi5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCl7dC5mYWRlT3V0KChmdW5jdGlvbigpe2UucmVtb3ZlKHQpfSkpfSkpOmUucmVtb3ZlQWxsKCl9LHR9KCk7ZnVuY3Rpb24gQ2IodCxlLG4pe3ZhciBpPXQuZ2V0QmFzZUF4aXMoKSxyPXQuZ2V0T3RoZXJBeGlzKGkpLG89ZnVuY3Rpb24odCxlKXt2YXIgbj0wLGk9dC5zY2FsZS5nZXRFeHRlbnQoKTtcInN0YXJ0XCI9PT1lP249aVswXTpcImVuZFwiPT09ZT9uPWlbMV06aVswXT4wP249aVswXTppWzFdPDAmJihuPWlbMV0pO3JldHVybiBufShyLG4pLGE9aS5kaW0scz1yLmRpbSxsPWUubWFwRGltZW5zaW9uKHMpLHU9ZS5tYXBEaW1lbnNpb24oYSksaD1cInhcIj09PXN8fFwicmFkaXVzXCI9PT1zPzE6MCxjPU8odC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KSkscD0hMSxkPWUuZ2V0Q2FsY3VsYXRpb25JbmZvKFwic3RhY2tSZXN1bHREaW1lbnNpb25cIik7cmV0dXJuIEZtKGUsY1swXSkmJihwPSEwLGNbMF09ZCksRm0oZSxjWzFdKSYmKHA9ITAsY1sxXT1kKSx7ZGF0YURpbXNGb3JQb2ludDpjLHZhbHVlU3RhcnQ6byx2YWx1ZUF4aXNEaW06cyxiYXNlQXhpc0RpbTphLHN0YWNrZWQ6ISFwLHZhbHVlRGltOmwsYmFzZURpbTp1LGJhc2VEYXRhT2Zmc2V0Omgsc3RhY2tlZE92ZXJEaW1lbnNpb246ZS5nZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja2VkT3ZlckRpbWVuc2lvblwiKX19ZnVuY3Rpb24gQWIodCxlLG4saSl7dmFyIHI9TmFOO3Quc3RhY2tlZCYmKHI9bi5nZXQobi5nZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja2VkT3ZlckRpbWVuc2lvblwiKSxpKSksaXNOYU4ocikmJihyPXQudmFsdWVTdGFydCk7dmFyIG89dC5iYXNlRGF0YU9mZnNldCxhPVtdO3JldHVybiBhW29dPW4uZ2V0KHQuYmFzZURpbSxpKSxhWzEtb109cixlLmRhdGFUb1BvaW50KGEpfXZhciBEYj1cInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5LExiPURiP0Zsb2F0MzJBcnJheTpBcnJheTtmdW5jdGlvbiBrYih0KXtyZXR1cm4gRih0KT9EYj9uZXcgRmxvYXQzMkFycmF5KHQpOnQ6bmV3IExiKHQpfXZhciBQYj1NYXRoLm1pbixPYj1NYXRoLm1heDtmdW5jdGlvbiBSYih0LGUpe3JldHVybiBpc05hTih0KXx8aXNOYU4oZSl9ZnVuY3Rpb24gTmIodCxlLG4saSxyLG8sYSxzLGwpe2Zvcih2YXIgdSxoLGMscCxkLGYsZz1uLHk9MDt5PGk7eSsrKXt2YXIgdj1lWzIqZ10sbT1lWzIqZysxXTtpZihnPj1yfHxnPDApYnJlYWs7aWYoUmIodixtKSl7aWYobCl7Zys9bztjb250aW51ZX1icmVha31pZihnPT09bil0W28+MD9cIm1vdmVUb1wiOlwibGluZVRvXCJdKHYsbSksYz12LHA9bTtlbHNle3ZhciBfPXYtdSx4PW0taDtpZihfKl8reCp4PC41KXtnKz1vO2NvbnRpbnVlfWlmKGE+MCl7dmFyIGI9ZytvLHc9ZVsyKmJdLFM9ZVsyKmIrMV0sTT15KzE7aWYobClmb3IoO1JiKHcsUykmJk08aTspTSsrLHc9ZVsyKihiKz1vKV0sUz1lWzIqYisxXTt2YXIgST0uNSxUPTAsQz0wLEE9dm9pZCAwLEQ9dm9pZCAwO2lmKE0+PWl8fFJiKHcsUykpZD12LGY9bTtlbHNle1Q9dy11LEM9Uy1oO3ZhciBMPXYtdSxrPXctdixQPW0taCxPPVMtbSxSPXZvaWQgMCxOPXZvaWQgMDtcInhcIj09PXM/KFI9TWF0aC5hYnMoTCksTj1NYXRoLmFicyhrKSxkPXYtUiphLGY9bSxBPXYrUiphLEQ9bSk6XCJ5XCI9PT1zPyhSPU1hdGguYWJzKFApLE49TWF0aC5hYnMoTyksZD12LGY9bS1SKmEsQT12LEQ9bStSKmEpOihSPU1hdGguc3FydChMKkwrUCpQKSxkPXYtVCphKigxLShJPShOPU1hdGguc3FydChrKmsrTypPKSkvKE4rUikpKSxmPW0tQyphKigxLUkpLEQ9bStDKmEqSSxBPVBiKEE9ditUKmEqSSxPYih3LHYpKSxEPVBiKEQsT2IoUyxtKSksQT1PYihBLFBiKHcsdikpLGY9bS0oQz0oRD1PYihELFBiKFMsbSkpKS1tKSpSL04sZD1QYihkPXYtKFQ9QS12KSpSL04sT2IodSx2KSksZj1QYihmLE9iKGgsbSkpLEE9disoVD12LShkPU9iKGQsUGIodSx2KSkpKSpOL1IsRD1tKyhDPW0tKGY9T2IoZixQYihoLG0pKSkpKk4vUil9dC5iZXppZXJDdXJ2ZVRvKGMscCxkLGYsdixtKSxjPUEscD1EfWVsc2UgdC5saW5lVG8odixtKX11PXYsaD1tLGcrPW99cmV0dXJuIHl9dmFyIEViPWZ1bmN0aW9uKCl7dGhpcy5zbW9vdGg9MCx0aGlzLnNtb290aENvbnN0cmFpbnQ9ITB9LHpiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT1cImVjLXBvbHlsaW5lXCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6XCIjMDAwXCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFYn0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHMsaT0wLHI9bi5sZW5ndGgvMjtpZihlLmNvbm5lY3ROdWxscyl7Zm9yKDtyPjAmJlJiKG5bMipyLTJdLG5bMipyLTFdKTtyLS0pO2Zvcig7aTxyJiZSYihuWzIqaV0sblsyKmkrMV0pO2krKyk7fWZvcig7aTxyOylpKz1OYih0LG4saSxyLHIsMSxlLnNtb290aCxlLnNtb290aE1vbm90b25lLGUuY29ubmVjdE51bGxzKSsxfSxlLnByb3RvdHlwZS5nZXRQb2ludE9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5wYXRofHwodGhpcy5jcmVhdGVQYXRoUHJveHkoKSx0aGlzLmJ1aWxkUGF0aCh0aGlzLnBhdGgsdGhpcy5zaGFwZSkpO2Zvcih2YXIgbixpLHI9dGhpcy5wYXRoLmRhdGEsbz1DYS5DTUQsYT1cInhcIj09PWUscz1bXSxsPTA7bDxyLmxlbmd0aDspe3ZhciB1PXZvaWQgMCxoPXZvaWQgMCxjPXZvaWQgMCxwPXZvaWQgMCxkPXZvaWQgMCxmPXZvaWQgMCxnPXZvaWQgMDtzd2l0Y2gocltsKytdKXtjYXNlIG8uTTpuPXJbbCsrXSxpPXJbbCsrXTticmVhaztjYXNlIG8uTDppZih1PXJbbCsrXSxoPXJbbCsrXSwoZz1hPyh0LW4pLyh1LW4pOih0LWkpLyhoLWkpKTw9MSYmZz49MCl7dmFyIHk9YT8oaC1pKSpnK2k6KHUtbikqZytuO3JldHVybiBhP1t0LHldOlt5LHRdfW49dSxpPWg7YnJlYWs7Y2FzZSBvLkM6dT1yW2wrK10saD1yW2wrK10sYz1yW2wrK10scD1yW2wrK10sZD1yW2wrK10sZj1yW2wrK107dmFyIHY9YT9FbyhuLHUsYyxkLHQscyk6RW8oaSxoLHAsZix0LHMpO2lmKHY+MClmb3IodmFyIG09MDttPHY7bSsrKXt2YXIgXz1zW21dO2lmKF88PTEmJl8+PTApe3k9YT9SbyhpLGgscCxmLF8pOlJvKG4sdSxjLGQsXyk7cmV0dXJuIGE/W3QseV06W3ksdF19fW49ZCxpPWZ9fX0sZX0oWmEpLEJiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZX0oRWIpLFZiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT1cImVjLXBvbHlnb25cIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCYn0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHMsaT1lLnN0YWNrZWRPblBvaW50cyxyPTAsbz1uLmxlbmd0aC8yLGE9ZS5zbW9vdGhNb25vdG9uZTtpZihlLmNvbm5lY3ROdWxscyl7Zm9yKDtvPjAmJlJiKG5bMipvLTJdLG5bMipvLTFdKTtvLS0pO2Zvcig7cjxvJiZSYihuWzIqcl0sblsyKnIrMV0pO3IrKyk7fWZvcig7cjxvOyl7dmFyIHM9TmIodCxuLHIsbyxvLDEsZS5zbW9vdGgsYSxlLmNvbm5lY3ROdWxscyk7TmIodCxpLHIrcy0xLHMsbywtMSxlLnN0YWNrZWRPblNtb290aCxhLGUuY29ubmVjdE51bGxzKSxyKz1zKzEsdC5jbG9zZVBhdGgoKX19LGV9KFphKTtmdW5jdGlvbiBGYih0LGUsbixpLHIpe3ZhciBvPXQuZ2V0QXJlYSgpLGE9by54LHM9by55LGw9by53aWR0aCx1PW8uaGVpZ2h0LGg9bi5nZXQoW1wibGluZVN0eWxlXCIsXCJ3aWR0aFwiXSl8fDI7YS09aC8yLHMtPWgvMixsKz1oLHUrPWgsYT1NYXRoLmZsb29yKGEpLGw9TWF0aC5yb3VuZChsKTt2YXIgYz1uZXcgb3Moe3NoYXBlOnt4OmEseTpzLHdpZHRoOmwsaGVpZ2h0OnV9fSk7aWYoZSl7dmFyIHA9dC5nZXRCYXNlQXhpcygpLGQ9cC5pc0hvcml6b250YWwoKSxmPXAuaW52ZXJzZTtkPyhmJiYoYy5zaGFwZS54Kz1sKSxjLnNoYXBlLndpZHRoPTApOihmfHwoYy5zaGFwZS55Kz11KSxjLnNoYXBlLmhlaWdodD0wKSxSdShjLHtzaGFwZTp7d2lkdGg6bCxoZWlnaHQ6dSx4OmEseTpzfX0sbixudWxsLGksXCJmdW5jdGlvblwiPT10eXBlb2Ygcj9mdW5jdGlvbih0KXtyKHQsYyl9Om51bGwpfXJldHVybiBjfWZ1bmN0aW9uIEdiKHQsZSxuKXt2YXIgaT10LmdldEFyZWEoKSxyPWppKGkucjAsMSksbz1qaShpLnIsMSksYT1uZXcgV2woe3NoYXBlOntjeDpqaSh0LmN4LDEpLGN5OmppKHQuY3ksMSkscjA6cixyOm8sc3RhcnRBbmdsZTppLnN0YXJ0QW5nbGUsZW5kQW5nbGU6aS5lbmRBbmdsZSxjbG9ja3dpc2U6aS5jbG9ja3dpc2V9fSk7ZSYmKFwiYW5nbGVcIj09PXQuZ2V0QmFzZUF4aXMoKS5kaW0/YS5zaGFwZS5lbmRBbmdsZT1pLnN0YXJ0QW5nbGU6YS5zaGFwZS5yPXIsUnUoYSx7c2hhcGU6e2VuZEFuZ2xlOmkuZW5kQW5nbGUscjpvfX0sbikpO3JldHVybiBhfWZ1bmN0aW9uIEhiKHQsZSxuLGkscil7cmV0dXJuIHQ/XCJwb2xhclwiPT09dC50eXBlP0diKHQsZSxuKTpcImNhcnRlc2lhbjJkXCI9PT10LnR5cGU/RmIodCxlLG4saSxyKTpudWxsOm51bGx9ZnVuY3Rpb24gV2IodCxlKXtyZXR1cm4gdC50eXBlPT09ZX1mdW5jdGlvbiBZYih0LGUpe2lmKHQubGVuZ3RoPT09ZS5sZW5ndGgpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0hPT1lW25dKXJldHVybjtyZXR1cm4hMH19ZnVuY3Rpb24gWGIodCl7Zm9yKHZhciBlPTEvMCxuPTEvMCxpPS0xLzAscj0tMS8wLG89MDtvPHQubGVuZ3RoOyl7dmFyIGE9dFtvKytdLHM9dFtvKytdO2lzTmFOKGEpfHwoZT1NYXRoLm1pbihhLGUpLGk9TWF0aC5tYXgoYSxpKSksaXNOYU4ocyl8fChuPU1hdGgubWluKHMsbikscj1NYXRoLm1heChzLHIpKX1yZXR1cm5bW2Usbl0sW2kscl1dfWZ1bmN0aW9uIFViKHQsZSl7dmFyIG49WGIodCksaT1uWzBdLHI9blsxXSxvPVhiKGUpLGE9b1swXSxzPW9bMV07cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKGlbMF0tYVswXSksTWF0aC5hYnMoaVsxXS1hWzFdKSxNYXRoLmFicyhyWzBdLXNbMF0pLE1hdGguYWJzKHJbMV0tc1sxXSkpfWZ1bmN0aW9uIFpiKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6dD8uNTowfWZ1bmN0aW9uIGpiKHQsZSxuKXtmb3IodmFyIGk9ZS5nZXRCYXNlQXhpcygpLHI9XCJ4XCI9PT1pLmRpbXx8XCJyYWRpdXNcIj09PWkuZGltPzA6MSxvPVtdLGE9MCxzPVtdLGw9W10sdT1bXTthPHQubGVuZ3RoLTI7YSs9Milzd2l0Y2godVswXT10W2ErMl0sdVsxXT10W2ErM10sbFswXT10W2FdLGxbMV09dFthKzFdLG8ucHVzaChsWzBdLGxbMV0pLG4pe2Nhc2VcImVuZFwiOnNbcl09dVtyXSxzWzEtcl09bFsxLXJdLG8ucHVzaChzWzBdLHNbMV0pO2JyZWFrO2Nhc2VcIm1pZGRsZVwiOnZhciBoPShsW3JdK3Vbcl0pLzIsYz1bXTtzW3JdPWNbcl09aCxzWzEtcl09bFsxLXJdLGNbMS1yXT11WzEtcl0sby5wdXNoKHNbMF0sc1sxXSksby5wdXNoKGNbMF0sY1sxXSk7YnJlYWs7ZGVmYXVsdDpzW3JdPWxbcl0sc1sxLXJdPXVbMS1yXSxvLnB1c2goc1swXSxzWzFdKX1yZXR1cm4gby5wdXNoKHRbYSsrXSx0W2ErK10pLG99ZnVuY3Rpb24gcWIodCxlLG4pe3ZhciBpPXQuZ2V0KFwic2hvd0FsbFN5bWJvbFwiKSxyPVwiYXV0b1wiPT09aTtpZighaXx8cil7dmFyIG89bi5nZXRBeGVzQnlTY2FsZShcIm9yZGluYWxcIilbMF07aWYobyYmKCFyfHwhZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEV4dGVudCgpLGk9TWF0aC5hYnMoblsxXS1uWzBdKS90LnNjYWxlLmNvdW50KCk7aXNOYU4oaSkmJihpPTApO2Zvcih2YXIgcj1lLmNvdW50KCksbz1NYXRoLm1heCgxLE1hdGgucm91bmQoci81KSksYT0wO2E8cjthKz1vKWlmKDEuNSpiYi5nZXRTeW1ib2xTaXplKGUsYSlbdC5pc0hvcml6b250YWwoKT8xOjBdPmkpcmV0dXJuITE7cmV0dXJuITB9KG8sZSkpKXt2YXIgYT1lLm1hcERpbWVuc2lvbihvLmRpbSkscz17fTtyZXR1cm4gUChvLmdldFZpZXdMYWJlbHMoKSwoZnVuY3Rpb24odCl7dmFyIGU9by5zY2FsZS5nZXRSYXdPcmRpbmFsTnVtYmVyKHQudGlja1ZhbHVlKTtzW2VdPTF9KSksZnVuY3Rpb24odCl7cmV0dXJuIXMuaGFzT3duUHJvcGVydHkoZS5nZXQoYSx0KSl9fX19ZnVuY3Rpb24gS2IodCxlKXtyZXR1cm5bdFsyKmVdLHRbMiplKzFdXX1mdW5jdGlvbiAkYih0LGUsbixpKXtpZihXYihlLFwiY2FydGVzaWFuMmRcIikpe3ZhciByPWkuZ2V0TW9kZWwoXCJlbmRMYWJlbFwiKSxvPXIuZ2V0KFwic2hvd1wiKSxhPXIuZ2V0KFwidmFsdWVBbmltYXRpb25cIikscz1pLmdldERhdGEoKSxsPXtsYXN0RnJhbWVJbmRleDowfSx1PW8/ZnVuY3Rpb24obixpKXt0Ll9lbmRMYWJlbE9uRHVyaW5nKG4saSxzLGwsYSxyLGUpfTpudWxsLGg9ZS5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpLGM9RmIoZSxuLGksKGZ1bmN0aW9uKCl7dmFyIGU9dC5fZW5kTGFiZWw7ZSYmbiYmbnVsbCE9bC5vcmlnaW5hbFgmJmUuYXR0cih7eDpsLm9yaWdpbmFsWCx5Omwub3JpZ2luYWxZfSl9KSx1KTtpZighaS5nZXQoXCJjbGlwXCIsITApKXt2YXIgcD1jLnNoYXBlLGQ9TWF0aC5tYXgocC53aWR0aCxwLmhlaWdodCk7aD8ocC55LT1kLHAuaGVpZ2h0Kz0yKmQpOihwLngtPWQscC53aWR0aCs9MipkKX1yZXR1cm4gdSYmdSgxLGMpLGN9cmV0dXJuIEdiKGUsbixpKX12YXIgSmI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHppLGU9bmV3IFRiO3RoaXMuZ3JvdXAuYWRkKGUuZ3JvdXApLHRoaXMuX3N5bWJvbERyYXc9ZSx0aGlzLl9saW5lR3JvdXA9dH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dC5jb29yZGluYXRlU3lzdGVtLG89dGhpcy5ncm91cCxhPXQuZ2V0RGF0YSgpLHM9dC5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxsPXQuZ2V0TW9kZWwoXCJhcmVhU3R5bGVcIiksdT1hLmdldExheW91dChcInBvaW50c1wiKXx8W10saD1cInBvbGFyXCI9PT1yLnR5cGUsYz10aGlzLl9jb29yZFN5cyxwPXRoaXMuX3N5bWJvbERyYXcsZD10aGlzLl9wb2x5bGluZSxmPXRoaXMuX3BvbHlnb24sZz10aGlzLl9saW5lR3JvdXAseT10LmdldChcImFuaW1hdGlvblwiKSx2PSFsLmlzRW1wdHkoKSxtPWwuZ2V0KFwib3JpZ2luXCIpLF89Q2IocixhLG0pLHg9diYmZnVuY3Rpb24odCxlLG4pe2lmKCFuLnZhbHVlRGltKXJldHVybltdO2Zvcih2YXIgaT1lLmNvdW50KCkscj1rYigyKmkpLG89MDtvPGk7bysrKXt2YXIgYT1BYihuLHQsZSxvKTtyWzIqb109YVswXSxyWzIqbysxXT1hWzFdfXJldHVybiByfShyLGEsXyksYj10LmdldChcInNob3dTeW1ib2xcIiksdz1iJiYhaCYmcWIodCxhLHIpLFM9dGhpcy5fZGF0YTtTJiZTLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGUpe3QuX190ZW1wJiYoby5yZW1vdmUodCksUy5zZXRJdGVtR3JhcGhpY0VsKGUsbnVsbCkpfSkpLGJ8fHAucmVtb3ZlKCksby5hZGQoZyk7dmFyIE0sST0haCYmdC5nZXQoXCJzdGVwXCIpO3ImJnIuZ2V0QXJlYSYmdC5nZXQoXCJjbGlwXCIsITApJiYobnVsbCE9KE09ci5nZXRBcmVhKCkpLndpZHRoPyhNLngtPS4xLE0ueS09LjEsTS53aWR0aCs9LjIsTS5oZWlnaHQrPS4yKTpNLnIwJiYoTS5yMC09LjUsTS5yKz0uNSkpLHRoaXMuX2NsaXBTaGFwZUZvclN5bWJvbD1NLGQmJmMudHlwZT09PXIudHlwZSYmST09PXRoaXMuX3N0ZXA/KHYmJiFmP2Y9dGhpcy5fbmV3UG9seWdvbih1LHgpOmYmJiF2JiYoZy5yZW1vdmUoZiksZj10aGlzLl9wb2x5Z29uPW51bGwpLGh8fHRoaXMuX2luaXRPclVwZGF0ZUVuZExhYmVsKHQsciksZy5zZXRDbGlwUGF0aCgkYih0aGlzLHIsITEsdCkpLGImJnAudXBkYXRlRGF0YShhLHtpc0lnbm9yZTp3LGNsaXBTaGFwZTpNLGRpc2FibGVBbmltYXRpb246ITAsZ2V0U3ltYm9sUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuW3VbMip0XSx1WzIqdCsxXV19fSksWWIodGhpcy5fc3RhY2tlZE9uUG9pbnRzLHgpJiZZYih0aGlzLl9wb2ludHMsdSl8fCh5P3RoaXMuX2RvVXBkYXRlQW5pbWF0aW9uKGEseCxyLG4sSSxtKTooSSYmKHU9amIodSxyLEkpLHgmJih4PWpiKHgscixJKSkpLGQuc2V0U2hhcGUoe3BvaW50czp1fSksZiYmZi5zZXRTaGFwZSh7cG9pbnRzOnUsc3RhY2tlZE9uUG9pbnRzOnh9KSkpKTooYiYmcC51cGRhdGVEYXRhKGEse2lzSWdub3JlOncsY2xpcFNoYXBlOk0sZGlzYWJsZUFuaW1hdGlvbjohMCxnZXRTeW1ib2xQb2ludDpmdW5jdGlvbih0KXtyZXR1cm5bdVsyKnRdLHVbMip0KzFdXX19KSx5JiZ0aGlzLl9pbml0U3ltYm9sTGFiZWxBbmltYXRpb24oYSxyLE0pLEkmJih1PWpiKHUscixJKSx4JiYoeD1qYih4LHIsSSkpKSxkPXRoaXMuX25ld1BvbHlsaW5lKHUpLHYmJihmPXRoaXMuX25ld1BvbHlnb24odSx4KSksaHx8dGhpcy5faW5pdE9yVXBkYXRlRW5kTGFiZWwodCxyKSxnLnNldENsaXBQYXRoKCRiKHRoaXMsciwhMCx0KSkpO3ZhciBDPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRWaXN1YWwoXCJ2aXN1YWxNZXRhXCIpO2lmKG4mJm4ubGVuZ3RoJiZ0LmNvdW50KCkmJlwiY2FydGVzaWFuMmRcIj09PWUudHlwZSl7Zm9yKHZhciBpLHIsbz1uLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT1uW29dLmRpbWVuc2lvbixzPXQuZGltZW5zaW9uc1thXSxsPXQuZ2V0RGltZW5zaW9uSW5mbyhzKTtpZihcInhcIj09PShpPWwmJmwuY29vcmREaW0pfHxcInlcIj09PWkpe3I9bltvXTticmVha319aWYocil7dmFyIHU9ZS5nZXRBeGlzKGkpLGg9TyhyLnN0b3BzLChmdW5jdGlvbih0KXtyZXR1cm57b2Zmc2V0OjAsY29vcmQ6dS50b0dsb2JhbENvb3JkKHUuZGF0YVRvQ29vcmQodC52YWx1ZSkpLGNvbG9yOnQuY29sb3J9fSkpLGM9aC5sZW5ndGgscD1yLm91dGVyQ29sb3JzLnNsaWNlKCk7YyYmaFswXS5jb29yZD5oW2MtMV0uY29vcmQmJihoLnJldmVyc2UoKSxwLnJldmVyc2UoKSk7dmFyIGQ9aFswXS5jb29yZC0xMCxmPWhbYy0xXS5jb29yZCsxMCxnPWYtZDtpZihnPC4wMDEpcmV0dXJuXCJ0cmFuc3BhcmVudFwiO1AoaCwoZnVuY3Rpb24odCl7dC5vZmZzZXQ9KHQuY29vcmQtZCkvZ30pKSxoLnB1c2goe29mZnNldDpjP2hbYy0xXS5vZmZzZXQ6LjUsY29sb3I6cFsxXXx8XCJ0cmFuc3BhcmVudFwifSksaC51bnNoaWZ0KHtvZmZzZXQ6Yz9oWzBdLm9mZnNldDouNSxjb2xvcjpwWzBdfHxcInRyYW5zcGFyZW50XCJ9KTt2YXIgeT1uZXcgdXUoMCwwLDAsMCxoLCEwKTtyZXR1cm4geVtpXT1kLHlbaStcIjJcIl09Zix5fX19KGEscil8fGEuZ2V0VmlzdWFsKFwic3R5bGVcIilbYS5nZXRWaXN1YWwoXCJkcmF3VHlwZVwiKV0sQT10LmdldChbXCJlbXBoYXNpc1wiLFwiZm9jdXNcIl0pLEQ9dC5nZXQoW1wiZW1waGFzaXNcIixcImJsdXJTY29wZVwiXSk7KGQudXNlU3R5bGUoVChzLmdldExpbmVTdHlsZSgpLHtmaWxsOlwibm9uZVwiLHN0cm9rZTpDLGxpbmVKb2luOlwiYmV2ZWxcIn0pKSxubChkLHQsXCJsaW5lU3R5bGVcIiksZC5zdHlsZS5saW5lV2lkdGg+MCYmXCJib2xkZXJcIj09PXQuZ2V0KFtcImVtcGhhc2lzXCIsXCJsaW5lU3R5bGVcIixcIndpZHRoXCJdKSkmJihkLmdldFN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGUubGluZVdpZHRoPWQuc3R5bGUubGluZVdpZHRoKzEpO3lzKGQpLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsSnMoZCxBLEQpO3ZhciBMPVpiKHQuZ2V0KFwic21vb3RoXCIpKSxrPXQuZ2V0KFwic21vb3RoTW9ub3RvbmVcIiksUj10LmdldChcImNvbm5lY3ROdWxsc1wiKTtpZihkLnNldFNoYXBlKHtzbW9vdGg6TCxzbW9vdGhNb25vdG9uZTprLGNvbm5lY3ROdWxsczpSfSksZil7dmFyIE49YS5nZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja2VkT25TZXJpZXNcIiksRT0wO2YudXNlU3R5bGUoVChsLmdldEFyZWFTdHlsZSgpLHtmaWxsOkMsb3BhY2l0eTouNyxsaW5lSm9pbjpcImJldmVsXCIsZGVjYWw6YS5nZXRWaXN1YWwoXCJzdHlsZVwiKS5kZWNhbH0pKSxOJiYoRT1aYihOLmdldChcInNtb290aFwiKSkpLGYuc2V0U2hhcGUoe3Ntb290aDpMLHN0YWNrZWRPblNtb290aDpFLHNtb290aE1vbm90b25lOmssY29ubmVjdE51bGxzOlJ9KSxubChmLHQsXCJhcmVhU3R5bGVcIikseXMoZikuc2VyaWVzSW5kZXg9dC5zZXJpZXNJbmRleCxKcyhmLEEsRCl9dmFyIHo9ZnVuY3Rpb24odCl7aS5fY2hhbmdlUG9seVN0YXRlKHQpfTthLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0JiYodC5vbkhvdmVyU3RhdGVDaGFuZ2U9eil9KSksdGhpcy5fcG9seWxpbmUub25Ib3ZlclN0YXRlQ2hhbmdlPXosdGhpcy5fZGF0YT1hLHRoaXMuX2Nvb3JkU3lzPXIsdGhpcy5fc3RhY2tlZE9uUG9pbnRzPXgsdGhpcy5fcG9pbnRzPXUsdGhpcy5fc3RlcD1JLHRoaXMuX3ZhbHVlT3JpZ2luPW19LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldERhdGEoKSxvPURyKHIsaSk7aWYodGhpcy5fY2hhbmdlUG9seVN0YXRlKFwiZW1waGFzaXNcIiksIShvIGluc3RhbmNlb2YgQXJyYXkpJiZudWxsIT1vJiZvPj0wKXt2YXIgYT1yLmdldExheW91dChcInBvaW50c1wiKSxzPXIuZ2V0SXRlbUdyYXBoaWNFbChvKTtpZighcyl7dmFyIGw9YVsyKm9dLHU9YVsyKm8rMV07aWYoaXNOYU4obCl8fGlzTmFOKHUpKXJldHVybjtpZih0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2wmJiF0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2wuY29udGFpbihsLHUpKXJldHVybjsocz1uZXcgYmIocixvKSkueD1sLHMueT11LHMuc2V0Wih0LmdldChcInpsZXZlbFwiKSx0LmdldChcInpcIikpLHMuX190ZW1wPSEwLHIuc2V0SXRlbUdyYXBoaWNFbChvLHMpLHMuc3RvcFN5bWJvbEFuaW1hdGlvbighMCksdGhpcy5ncm91cC5hZGQocyl9cy5oaWdobGlnaHQoKX1lbHNlIHlmLnByb3RvdHlwZS5oaWdobGlnaHQuY2FsbCh0aGlzLHQsZSxuLGkpfSxlLnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldERhdGEoKSxvPURyKHIsaSk7aWYodGhpcy5fY2hhbmdlUG9seVN0YXRlKFwibm9ybWFsXCIpLG51bGwhPW8mJm8+PTApe3ZhciBhPXIuZ2V0SXRlbUdyYXBoaWNFbChvKTthJiYoYS5fX3RlbXA/KHIuc2V0SXRlbUdyYXBoaWNFbChvLG51bGwpLHRoaXMuZ3JvdXAucmVtb3ZlKGEpKTphLmRvd25wbGF5KCkpfWVsc2UgeWYucHJvdG90eXBlLmRvd25wbGF5LmNhbGwodGhpcyx0LGUsbixpKX0sZS5wcm90b3R5cGUuX2NoYW5nZVBvbHlTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2x5Z29uO1ZzKHRoaXMuX3BvbHlsaW5lLHQpLGUmJlZzKGUsdCl9LGUucHJvdG90eXBlLl9uZXdQb2x5bGluZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2x5bGluZTtyZXR1cm4gZSYmdGhpcy5fbGluZUdyb3VwLnJlbW92ZShlKSxlPW5ldyB6Yih7c2hhcGU6e3BvaW50czp0fSxzZWdtZW50SWdub3JlVGhyZXNob2xkOjIsejI6MTB9KSx0aGlzLl9saW5lR3JvdXAuYWRkKGUpLHRoaXMuX3BvbHlsaW5lPWUsZX0sZS5wcm90b3R5cGUuX25ld1BvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wb2x5Z29uO3JldHVybiBuJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKG4pLG49bmV3IFZiKHtzaGFwZTp7cG9pbnRzOnQsc3RhY2tlZE9uUG9pbnRzOmV9LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6Mn0pLHRoaXMuX2xpbmVHcm91cC5hZGQobiksdGhpcy5fcG9seWdvbj1uLG59LGUucHJvdG90eXBlLl9pbml0U3ltYm9sTGFiZWxBbmltYXRpb249ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1lLmdldEJhc2VBeGlzKCksYT1vLmludmVyc2U7XCJjYXJ0ZXNpYW4yZFwiPT09ZS50eXBlPyhpPW8uaXNIb3Jpem9udGFsKCkscj0hMSk6XCJwb2xhclwiPT09ZS50eXBlJiYoaT1cImFuZ2xlXCI9PT1vLmRpbSxyPSEwKTt2YXIgcz10Lmhvc3RNb2RlbCxsPXMuZ2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIik7XCJmdW5jdGlvblwiPT10eXBlb2YgbCYmKGw9bChudWxsKSk7dmFyIHU9cy5nZXQoXCJhbmltYXRpb25EZWxheVwiKXx8MCxoPVwiZnVuY3Rpb25cIj09dHlwZW9mIHU/dShudWxsKTp1O3QuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsbyl7dmFyIHM9dDtpZihzKXt2YXIgYz1bdC54LHQueV0scD12b2lkIDAsZD12b2lkIDAsZj12b2lkIDA7aWYocil7dmFyIGc9bix5PWUucG9pbnRUb0Nvb3JkKGMpO2k/KHA9Zy5zdGFydEFuZ2xlLGQ9Zy5lbmRBbmdsZSxmPS15WzFdLzE4MCpNYXRoLlBJKToocD1nLnIwLGQ9Zy5yLGY9eVswXSl9ZWxzZXt2YXIgdj1uO2k/KHA9di54LGQ9di54K3Yud2lkdGgsZj10LngpOihwPXYueSt2LmhlaWdodCxkPXYueSxmPXQueSl9dmFyIG09ZD09PXA/MDooZi1wKS8oZC1wKTthJiYobT0xLW0pO3ZhciBfPVwiZnVuY3Rpb25cIj09dHlwZW9mIHU/dShvKTpsKm0raCx4PXMuZ2V0U3ltYm9sUGF0aCgpLGI9eC5nZXRUZXh0Q29udGVudCgpO3MuYXR0cih7c2NhbGVYOjAsc2NhbGVZOjB9KSxzLmFuaW1hdGVUbyh7c2NhbGVYOjEsc2NhbGVZOjF9LHtkdXJhdGlvbjoyMDAsZGVsYXk6X30pLGImJmIuYW5pbWF0ZUZyb20oe3N0eWxlOntvcGFjaXR5OjB9fSx7ZHVyYXRpb246MzAwLGRlbGF5Ol99KSx4LmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMH19KSl9LGUucHJvdG90eXBlLl9pbml0T3JVcGRhdGVFbmRMYWJlbD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0TW9kZWwoXCJlbmRMYWJlbFwiKTtpZihuLmdldChcInNob3dcIikpe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcy5fcG9seWxpbmUsbz10aGlzLl9lbmRMYWJlbDtvfHwoKG89dGhpcy5fZW5kTGFiZWw9bmV3IGxzKHt6MjoyMDB9KSkuaWdub3JlQ2xpcD0hMCxyLnNldFRleHRDb250ZW50KHRoaXMuX2VuZExhYmVsKSxyLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMCk7dmFyIGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4saT10Lmxlbmd0aC8yO2k+MCYmKGU9dFsyKmktMl0sbj10WzIqaS0xXSxpc05hTihlKXx8aXNOYU4obikpO2ktLSk7cmV0dXJuIGktMX0oaS5nZXRMYXlvdXQoXCJwb2ludHNcIikpO2E+PTAmJih0aChyLGVoKHQsXCJlbmRMYWJlbFwiKSx7bGFiZWxGZXRjaGVyOnQsbGFiZWxEYXRhSW5kZXg6YSxkZWZhdWx0VGV4dDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG51bGwhPW4/eGIoaSxuKTpfYihpLHQpfSxlbmFibGVUZXh0U2V0dGVyOiEwfSxmdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0QmFzZUF4aXMoKSxpPW4uaXNIb3Jpem9udGFsKCkscj1uLmludmVyc2Usbz1pP3I/XCJyaWdodFwiOlwibGVmdFwiOlwiY2VudGVyXCIsYT1pP1wibWlkZGxlXCI6cj9cInRvcFwiOlwiYm90dG9tXCI7cmV0dXJue25vcm1hbDp7YWxpZ246dC5nZXQoXCJhbGlnblwiKXx8byx2ZXJ0aWNhbEFsaWduOnQuZ2V0KFwidmVydGljYWxBbGlnblwiKXx8YX19fShuLGUpKSxyLnRleHRDb25maWcucG9zaXRpb249bnVsbCl9ZWxzZSB0aGlzLl9lbmRMYWJlbCYmKHRoaXMuX3BvbHlsaW5lLnJlbW92ZVRleHRDb250ZW50KCksdGhpcy5fZW5kTGFiZWw9bnVsbCl9LGUucHJvdG90eXBlLl9lbmRMYWJlbE9uRHVyaW5nPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPXRoaXMuX2VuZExhYmVsLGw9dGhpcy5fcG9seWxpbmU7aWYocyl7dDwxJiZudWxsPT1pLm9yaWdpbmFsWCYmKGkub3JpZ2luYWxYPXMueCxpLm9yaWdpbmFsWT1zLnkpO3ZhciB1PW4uZ2V0TGF5b3V0KFwicG9pbnRzXCIpLGg9bi5ob3N0TW9kZWwsYz1oLmdldChcImNvbm5lY3ROdWxsc1wiKSxwPW8uZ2V0KFwicHJlY2lzaW9uXCIpLGQ9by5nZXQoXCJkaXN0YW5jZVwiKXx8MCxmPWEuZ2V0QmFzZUF4aXMoKSxnPWYuaXNIb3Jpem9udGFsKCkseT1mLmludmVyc2Usdj1lLnNoYXBlLG09eT9nP3YueDp2Lnkrdi5oZWlnaHQ6Zz92Lngrdi53aWR0aDp2LnksXz0oZz9kOjApKih5Py0xOjEpLHg9KGc/MDotZCkqKHk/LTE6MSksYj1nP1wieFwiOlwieVwiLHc9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxyLG89dC5sZW5ndGgvMixhPVwieFwiPT09bj8wOjEscz0wLGw9LTEsdT0wO3U8bzt1KyspaWYocj10WzIqdSthXSwhaXNOYU4ocikmJiFpc05hTih0WzIqdSsxLWFdKSlpZigwIT09dSl7aWYoaTw9ZSYmcj49ZXx8aT49ZSYmcjw9ZSl7bD11O2JyZWFrfXM9dSxpPXJ9ZWxzZSBpPXI7cmV0dXJue3JhbmdlOltzLGxdLHQ6KGUtaSkvKHItaSl9fSh1LG0sYiksUz13LnJhbmdlLE09U1sxXS1TWzBdLEk9dm9pZCAwO2lmKE0+PTEpe2lmKE0+MSYmIWMpe3ZhciBUPUtiKHUsU1swXSk7cy5hdHRyKHt4OlRbMF0rXyx5OlRbMV0reH0pLHImJihJPWguZ2V0UmF3VmFsdWUoU1swXSkpfWVsc2V7KFQ9bC5nZXRQb2ludE9uKG0sYikpJiZzLmF0dHIoe3g6VFswXStfLHk6VFsxXSt4fSk7dmFyIEM9aC5nZXRSYXdWYWx1ZShTWzBdKSxBPWguZ2V0UmF3VmFsdWUoU1sxXSk7ciYmKEk9QnIobixwLEMsQSx3LnQpKX1pLmxhc3RGcmFtZUluZGV4PVNbMF19ZWxzZXt2YXIgRD0xPT09dHx8aS5sYXN0RnJhbWVJbmRleD4wP1NbMF06MDtUPUtiKHUsRCk7ciYmKEk9aC5nZXRSYXdWYWx1ZShEKSkscy5hdHRyKHt4OlRbMF0rXyx5OlRbMV0reH0pfXImJnVoKHMpLnNldExhYmVsVGV4dChJKX19LGUucHJvdG90eXBlLl9kb1VwZGF0ZUFuaW1hdGlvbj1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9dGhpcy5fcG9seWxpbmUscz10aGlzLl9wb2x5Z29uLGw9dC5ob3N0TW9kZWwsdT1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe2Zvcih2YXIgbD1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiBlLmRpZmYodCkuYWRkKChmdW5jdGlvbih0KXtuLnB1c2goe2NtZDpcIitcIixpZHg6dH0pfSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXtuLnB1c2goe2NtZDpcIj1cIixpZHg6ZSxpZHgxOnR9KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe24ucHVzaCh7Y21kOlwiLVwiLGlkeDp0fSl9KSkuZXhlY3V0ZSgpLG59KHQsZSksdT1bXSxoPVtdLGM9W10scD1bXSxkPVtdLGY9W10sZz1bXSx5PUNiKHIsZSxhKSx2PUNiKG8sdCxzKSxtPXQuZ2V0TGF5b3V0KFwicG9pbnRzXCIpfHxbXSxfPWUuZ2V0TGF5b3V0KFwicG9pbnRzXCIpfHxbXSx4PTA7eDxsLmxlbmd0aDt4Kyspe3ZhciBiPWxbeF0sdz0hMCxTPXZvaWQgMCxNPXZvaWQgMDtzd2l0Y2goYi5jbWQpe2Nhc2VcIj1cIjpTPTIqYi5pZHgsTT0yKmIuaWR4MTt2YXIgST1tW1NdLFQ9bVtTKzFdLEM9X1tNXSxBPV9bTSsxXTsoaXNOYU4oSSl8fGlzTmFOKFQpKSYmKEk9QyxUPUEpLHUucHVzaChJLFQpLGgucHVzaChDLEEpLGMucHVzaChuW1NdLG5bUysxXSkscC5wdXNoKGlbTV0saVtNKzFdKSxnLnB1c2goZS5nZXRSYXdJbmRleChiLmlkeDEpKTticmVhaztjYXNlXCIrXCI6dmFyIEQ9Yi5pZHgsTD15LmRhdGFEaW1zRm9yUG9pbnQsaz1yLmRhdGFUb1BvaW50KFtlLmdldChMWzBdLEQpLGUuZ2V0KExbMV0sRCldKTtNPTIqRCx1LnB1c2goa1swXSxrWzFdKSxoLnB1c2goX1tNXSxfW00rMV0pO3ZhciBQPUFiKHkscixlLEQpO2MucHVzaChQWzBdLFBbMV0pLHAucHVzaChpW01dLGlbTSsxXSksZy5wdXNoKGUuZ2V0UmF3SW5kZXgoRCkpO2JyZWFrO2Nhc2VcIi1cIjp2YXIgTz1iLmlkeCxSPXQuZ2V0UmF3SW5kZXgoTyksTj12LmRhdGFEaW1zRm9yUG9pbnQ7aWYoUz0yKk8sUiE9PU8pe3ZhciBFPW8uZGF0YVRvUG9pbnQoW3QuZ2V0KE5bMF0sTyksdC5nZXQoTlsxXSxPKV0pLHo9QWIodixvLHQsTyk7dS5wdXNoKG1bU10sbVtTKzFdKSxoLnB1c2goRVswXSxFWzFdKSxjLnB1c2gobltTXSxuW1MrMV0pLHAucHVzaCh6WzBdLHpbMV0pLGcucHVzaChSKX1lbHNlIHc9ITF9dyYmKGQucHVzaChiKSxmLnB1c2goZi5sZW5ndGgpKX1mLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdbdF0tZ1tlXX0pKTt2YXIgQj11Lmxlbmd0aCxWPWtiKEIpLEY9a2IoQiksRz1rYihCKSxIPWtiKEIpLFc9W107Zm9yKHg9MDt4PGYubGVuZ3RoO3grKyl7dmFyIFk9Zlt4XSxYPTIqeCxVPTIqWTtWW1hdPXVbVV0sVltYKzFdPXVbVSsxXSxGW1hdPWhbVV0sRltYKzFdPWhbVSsxXSxHW1hdPWNbVV0sR1tYKzFdPWNbVSsxXSxIW1hdPXBbVV0sSFtYKzFdPXBbVSsxXSxXW3hdPWRbWV19cmV0dXJue2N1cnJlbnQ6VixuZXh0OkYsc3RhY2tlZE9uQ3VycmVudDpHLHN0YWNrZWRPbk5leHQ6SCxzdGF0dXM6V319KHRoaXMuX2RhdGEsdCx0aGlzLl9zdGFja2VkT25Qb2ludHMsZSx0aGlzLl9jb29yZFN5cyxuLHRoaXMuX3ZhbHVlT3JpZ2luLG8pLGg9dS5jdXJyZW50LGM9dS5zdGFja2VkT25DdXJyZW50LHA9dS5uZXh0LGQ9dS5zdGFja2VkT25OZXh0O2lmKHImJihoPWpiKHUuY3VycmVudCxuLHIpLGM9amIodS5zdGFja2VkT25DdXJyZW50LG4scikscD1qYih1Lm5leHQsbixyKSxkPWpiKHUuc3RhY2tlZE9uTmV4dCxuLHIpKSxVYihoLHApPjNlM3x8cyYmVWIoYyxkKT4zZTMpcmV0dXJuIGEuc2V0U2hhcGUoe3BvaW50czpwfSksdm9pZChzJiZzLnNldFNoYXBlKHtwb2ludHM6cCxzdGFja2VkT25Qb2ludHM6ZH0pKTthLnNoYXBlLl9fcG9pbnRzPXUuY3VycmVudCxhLnNoYXBlLnBvaW50cz1oO3ZhciBmPXtzaGFwZTp7cG9pbnRzOnB9fTt1LmN1cnJlbnQhPT1oJiYoZi5zaGFwZS5fX3BvaW50cz11Lm5leHQpLGEuc3RvcEFuaW1hdGlvbigpLE91KGEsZixsKSxzJiYocy5zZXRTaGFwZSh7cG9pbnRzOmgsc3RhY2tlZE9uUG9pbnRzOmN9KSxzLnN0b3BBbmltYXRpb24oKSxPdShzLHtzaGFwZTp7c3RhY2tlZE9uUG9pbnRzOmR9fSxsKSxhLnNoYXBlLnBvaW50cyE9PXMuc2hhcGUucG9pbnRzJiYocy5zaGFwZS5wb2ludHM9YS5zaGFwZS5wb2ludHMpKTtmb3IodmFyIGc9W10seT11LnN0YXR1cyx2PTA7djx5Lmxlbmd0aDt2Kyspe2lmKFwiPVwiPT09eVt2XS5jbWQpe3ZhciBtPXQuZ2V0SXRlbUdyYXBoaWNFbCh5W3ZdLmlkeDEpO20mJmcucHVzaCh7ZWw6bSxwdElkeDp2fSl9fWEuYW5pbWF0b3JzJiZhLmFuaW1hdG9ycy5sZW5ndGgmJmEuYW5pbWF0b3JzWzBdLmR1cmluZygoZnVuY3Rpb24oKXtzJiZzLmRpcnR5U2hhcGUoKTtmb3IodmFyIHQ9YS5zaGFwZS5fX3BvaW50cyxlPTA7ZTxnLmxlbmd0aDtlKyspe3ZhciBuPWdbZV0uZWwsaT0yKmdbZV0ucHRJZHg7bi54PXRbaV0sbi55PXRbaSsxXSxuLm1hcmtSZWRyYXcoKX19KSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLG49dGhpcy5fZGF0YTt0aGlzLl9saW5lR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoITApLG4mJm4uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsaSl7dC5fX3RlbXAmJihlLnJlbW92ZSh0KSxuLnNldEl0ZW1HcmFwaGljRWwoaSxudWxsKSl9KSksdGhpcy5fcG9seWxpbmU9dGhpcy5fcG9seWdvbj10aGlzLl9jb29yZFN5cz10aGlzLl9wb2ludHM9dGhpcy5fc3RhY2tlZE9uUG9pbnRzPXRoaXMuX2VuZExhYmVsPXRoaXMuX2RhdGE9bnVsbH0sZS50eXBlPVwibGluZVwiLGV9KHlmKTtmdW5jdGlvbiBRYih0LGUpe3JldHVybntzZXJpZXNUeXBlOnQscGxhbjpkZigpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dC5waXBlbGluZUNvbnRleHQsbz1lfHxyLmxhcmdlO2lmKGkpe3ZhciBhPU8oaS5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gbi5tYXBEaW1lbnNpb24odCl9KSkuc2xpY2UoMCwyKSxzPWEubGVuZ3RoLGw9bi5nZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja1Jlc3VsdERpbWVuc2lvblwiKTtGbShuLGFbMF0pJiYoYVswXT1sKSxGbShuLGFbMV0pJiYoYVsxXT1sKTt2YXIgdT1uLmdldERpbWVuc2lvbkluZm8oYVswXSksaD1uLmdldERpbWVuc2lvbkluZm8oYVsxXSksYz11JiZ1LmluZGV4LHA9aCYmaC5pbmRleDtyZXR1cm4gcyYme3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZW5kLXQuc3RhcnQscj1vJiZrYihuKnMpLGE9W10sbD1bXSx1PXQuc3RhcnQsaD0wO3U8dC5lbmQ7dSsrKXt2YXIgZD12b2lkIDA7aWYoMT09PXMpe3ZhciBmPWUuZ2V0QnlEaW1JZHgoYyx1KTtkPWkuZGF0YVRvUG9pbnQoZixudWxsLGwpfWVsc2UgYVswXT1lLmdldEJ5RGltSWR4KGMsdSksYVsxXT1lLmdldEJ5RGltSWR4KHAsdSksZD1pLmRhdGFUb1BvaW50KGEsbnVsbCxsKTtvPyhyW2grK109ZFswXSxyW2grK109ZFsxXSk6ZS5zZXRJdGVtTGF5b3V0KHUsZC5zbGljZSgpKX1vJiZlLnNldExheW91dChcInBvaW50c1wiLHIpfX19fX19dmFyIHR3PXthdmVyYWdlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MCxpPTA7aTx0Lmxlbmd0aDtpKyspaXNOYU4odFtpXSl8fChlKz10W2ldLG4rKyk7cmV0dXJuIDA9PT1uP05hTjplL259LHN1bTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDtuKyspZSs9dFtuXXx8MDtyZXR1cm4gZX0sbWF4OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMS8wLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPmUmJihlPXRbbl0pO3JldHVybiBpc0Zpbml0ZShlKT9lOk5hTn0sbWluOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xLzAsbj0wO248dC5sZW5ndGg7bisrKXRbbl08ZSYmKGU9dFtuXSk7cmV0dXJuIGlzRmluaXRlKGUpP2U6TmFOfSxuZWFyZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfX0sZXc9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodC5sZW5ndGgvMil9O2Z1bmN0aW9uIG53KHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5nZXQoXCJzYW1wbGluZ1wiKSxvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPWkuY291bnQoKTtpZihhPjEwJiZcImNhcnRlc2lhbjJkXCI9PT1vLnR5cGUmJnIpe3ZhciBzPW8uZ2V0QmFzZUF4aXMoKSxsPW8uZ2V0T3RoZXJBeGlzKHMpLHU9cy5nZXRFeHRlbnQoKSxoPW4uZ2V0RGV2aWNlUGl4ZWxSYXRpbygpLGM9TWF0aC5hYnModVsxXS11WzBdKSooaHx8MSkscD1NYXRoLnJvdW5kKGEvYyk7aWYocD4xKXtcImx0dGJcIj09PXImJnQuc2V0RGF0YShpLmx0dGJEb3duU2FtcGxlKGkubWFwRGltZW5zaW9uKGwuZGltKSwxL3ApKTt2YXIgZD12b2lkIDA7XCJzdHJpbmdcIj09dHlwZW9mIHI/ZD10d1tyXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYoZD1yKSxkJiZ0LnNldERhdGEoaS5kb3duU2FtcGxlKGkubWFwRGltZW5zaW9uKGwuZGltKSwxL3AsZCxldykpfX19fX12YXIgaXc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSG0odGhpcy5nZXRTb3VyY2UoKSx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITB9KX0sZS5wcm90b3R5cGUuZ2V0TWFya2VyUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb29yZGluYXRlU3lzdGVtO2lmKGUpe3ZhciBuPWUuZGF0YVRvUG9pbnQoZS5jbGFtcERhdGEodCkpLGk9dGhpcy5nZXREYXRhKCkscj1pLmdldExheW91dChcIm9mZnNldFwiKSxvPWkuZ2V0TGF5b3V0KFwic2l6ZVwiKTtyZXR1cm4gbltlLmdldEJhc2VBeGlzKCkuaXNIb3Jpem9udGFsKCk/MDoxXSs9citvLzIsbn1yZXR1cm5bTmFOLE5hTl19LGUudHlwZT1cInNlcmllcy5fX2Jhc2VfYmFyX19cIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwiY2FydGVzaWFuMmRcIixsZWdlbmRIb3Zlckxpbms6ITAsYmFyTWluSGVpZ2h0OjAsYmFyTWluQW5nbGU6MCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDo0MDAscHJvZ3Jlc3NpdmU6M2UzLHByb2dyZXNzaXZlQ2h1bmtNb2RlOlwibW9kXCJ9LGV9KHJmKTtyZi5yZWdpc3RlckNsYXNzKGl3KTt2YXIgcnc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gSG0odGhpcy5nZXRTb3VyY2UoKSx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITAsY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzOiEhdGhpcy5nZXQoXCJyZWFsdGltZVNvcnRcIiwhMCl8fG51bGx9KX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZ2V0KFwibGFyZ2VcIikmJnRoaXMuZ2V0KFwicHJvZ3Jlc3NpdmVcIil9LGUucHJvdG90eXBlLmdldFByb2dyZXNzaXZlVGhyZXNob2xkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoXCJwcm9ncmVzc2l2ZVRocmVzaG9sZFwiKSxlPXRoaXMuZ2V0KFwibGFyZ2VUaHJlc2hvbGRcIik7cmV0dXJuIGU+dCYmKHQ9ZSksdH0sZS5wcm90b3R5cGUuYnJ1c2hTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4ucmVjdChlLmdldEl0ZW1MYXlvdXQodCkpfSxlLnR5cGU9XCJzZXJpZXMuYmFyXCIsZS5kZXBlbmRlbmNpZXM9W1wiZ3JpZFwiLFwicG9sYXJcIl0sZS5kZWZhdWx0T3B0aW9uPVRoKGl3LmRlZmF1bHRPcHRpb24se2NsaXA6ITAscm91bmRDYXA6ITEsc2hvd0JhY2tncm91bmQ6ITEsYmFja2dyb3VuZFN0eWxlOntjb2xvcjpcInJnYmEoMTgwLCAxODAsIDE4MCwgMC4yKVwiLGJvcmRlckNvbG9yOm51bGwsYm9yZGVyV2lkdGg6MCxib3JkZXJUeXBlOlwic29saWRcIixib3JkZXJSYWRpdXM6MCxzaGFkb3dCbHVyOjAsc2hhZG93Q29sb3I6bnVsbCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLG9wYWNpdHk6MX0sc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOlwiIzIxMjEyMVwifX0scmVhbHRpbWVTb3J0OiExfSksZX0oaXcpLG93PWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnIwPTAsdGhpcy5yPTAsdGhpcy5zdGFydEFuZ2xlPTAsdGhpcy5lbmRBbmdsZT0yKk1hdGguUEksdGhpcy5jbG9ja3dpc2U9ITB9LGF3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT1cInNhdXNhZ2VcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvd30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jeCxpPWUuY3kscj1NYXRoLm1heChlLnIwfHwwLDApLG89TWF0aC5tYXgoZS5yLDApLGE9LjUqKG8tcikscz1yK2EsbD1lLnN0YXJ0QW5nbGUsdT1lLmVuZEFuZ2xlLGg9ZS5jbG9ja3dpc2UsYz1NYXRoLmNvcyhsKSxwPU1hdGguc2luKGwpLGQ9TWF0aC5jb3ModSksZj1NYXRoLnNpbih1KTsoaD91LWw8MipNYXRoLlBJOmwtdTwyKk1hdGguUEkpJiYodC5tb3ZlVG8oYypyK24scCpyK2kpLHQuYXJjKGMqcytuLHAqcytpLGEsLU1hdGguUEkrbCxsLCFoKSksdC5hcmMobixpLG8sbCx1LCFoKSx0Lm1vdmVUbyhkKm8rbixmKm8raSksdC5hcmMoZCpzK24sZipzK2ksYSx1LTIqTWF0aC5QSSx1LU1hdGguUEksIWgpLDAhPT1yJiYodC5hcmMobixpLHIsdSxsLGgpLHQubW92ZVRvKGMqcituLGYqcitpKSksdC5jbG9zZVBhdGgoKX0sZX0oWmEpLHN3PVtcIml0ZW1TdHlsZVwiLFwiYm9yZGVyV2lkdGhcIl0sbHc9W1wiaXRlbVN0eWxlXCIsXCJib3JkZXJSYWRpdXNcIl0sdXc9WzAsMF0saHc9TWF0aC5tYXgsY3c9TWF0aC5taW47dmFyIHB3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5faXNGaXJzdEZyYW1lPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fbW9kZWw9dCx0aGlzLl9yZW1vdmVPblJlbmRlcmVkTGlzdGVuZXIobiksdGhpcy5fdXBkYXRlRHJhd01vZGUodCk7dmFyIHI9dC5nZXQoXCJjb29yZGluYXRlU3lzdGVtXCIpOyhcImNhcnRlc2lhbjJkXCI9PT1yfHxcInBvbGFyXCI9PT1yKSYmKHRoaXMuX2lzTGFyZ2VEcmF3P3RoaXMuX3JlbmRlckxhcmdlKHQsZSxuKTp0aGlzLl9yZW5kZXJOb3JtYWwodCxlLG4saSkpfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXIoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KSx0aGlzLl91cGRhdGVMYXJnZUNsaXAodCl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUmVuZGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5faW5jcmVtZW50YWxSZW5kZXJMYXJnZSh0LGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlRHJhd01vZGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7bnVsbCE9dGhpcy5faXNMYXJnZURyYXcmJmU9PT10aGlzLl9pc0xhcmdlRHJhd3x8KHRoaXMuX2lzTGFyZ2VEcmF3PWUsdGhpcy5fY2xlYXIoKSl9LGUucHJvdG90eXBlLl9yZW5kZXJOb3JtYWw9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz10aGlzLmdyb3VwLGE9dC5nZXREYXRhKCkscz10aGlzLl9kYXRhLGw9dC5jb29yZGluYXRlU3lzdGVtLHU9bC5nZXRCYXNlQXhpcygpO1wiY2FydGVzaWFuMmRcIj09PWwudHlwZT9yPXUuaXNIb3Jpem9udGFsKCk6XCJwb2xhclwiPT09bC50eXBlJiYocj1cImFuZ2xlXCI9PT11LmRpbSk7dmFyIGg9dC5pc0FuaW1hdGlvbkVuYWJsZWQoKT90Om51bGwsYz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KFwicmVhbHRpbWVTb3J0XCIsITApLGk9ZS5nZXRCYXNlQXhpcygpOzA7aWYobiYmXCJjYXRlZ29yeVwiPT09aS50eXBlJiZcImNhcnRlc2lhbjJkXCI9PT1lLnR5cGUpcmV0dXJue2Jhc2VBeGlzOmksb3RoZXJBeGlzOmUuZ2V0T3RoZXJBeGlzKGkpfX0odCxsKTtjJiZ0aGlzLl9lbmFibGVSZWFsdGltZVNvcnQoYyxhLG4pO3ZhciBwPXQuZ2V0KFwiY2xpcFwiLCEwKXx8YyxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRBcmVhJiZ0LmdldEFyZWEoKTtpZihXYih0LFwiY2FydGVzaWFuMmRcIikpe3ZhciBpPXQuZ2V0QmFzZUF4aXMoKTtpZihcImNhdGVnb3J5XCIhPT1pLnR5cGV8fCFpLm9uQmFuZCl7dmFyIHI9ZS5nZXRMYXlvdXQoXCJiYW5kV2lkdGhcIik7aS5pc0hvcml6b250YWwoKT8obi54LT1yLG4ud2lkdGgrPTIqcik6KG4ueS09cixuLmhlaWdodCs9MipyKX19cmV0dXJuIG59KGwsYSk7by5yZW1vdmVDbGlwUGF0aCgpO3ZhciBmPXQuZ2V0KFwicm91bmRDYXBcIiwhMCksZz10LmdldChcInNob3dCYWNrZ3JvdW5kXCIsITApLHk9dC5nZXRNb2RlbChcImJhY2tncm91bmRTdHlsZVwiKSx2PXkuZ2V0KFwiYm9yZGVyUmFkaXVzXCIpfHwwLG09W10sXz10aGlzLl9iYWNrZ3JvdW5kRWxzLHg9aSYmaS5pc0luaXRTb3J0LGI9aSYmXCJjaGFuZ2VBeGlzT3JkZXJcIj09PWkudHlwZTtmdW5jdGlvbiB3KHQpe3ZhciBlPXl3W2wudHlwZV0oYSx0KSxuPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3KFwicG9sYXJcIj09PXQudHlwZT9XbDpvcykoe3NoYXBlOnd3KGUsbix0KSxzaWxlbnQ6ITAsejI6MH0pfShsLHIsZSk7cmV0dXJuIG4udXNlU3R5bGUoeS5nZXRJdGVtU3R5bGUoKSksXCJjYXJ0ZXNpYW4yZFwiPT09bC50eXBlJiZuLnNldFNoYXBlKFwiclwiLHYpLG1bdF09bixufWEuZGlmZihzKS5hZGQoKGZ1bmN0aW9uKGUpe3ZhciBuPWEuZ2V0SXRlbU1vZGVsKGUpLGk9eXdbbC50eXBlXShhLGUsbik7aWYoZyYmdyhlKSxhLmhhc1ZhbHVlKGUpKXt2YXIgcz0hMTtwJiYocz1kd1tsLnR5cGVdKGQsaSkpO3ZhciB5PWZ3W2wudHlwZV0odCxhLGUsaSxyLGgsdS5tb2RlbCwhMSxmKTt2dyh5LGEsZSxuLGksdCxyLFwicG9sYXJcIj09PWwudHlwZSkseD95LmF0dHIoe3NoYXBlOml9KTpjP2d3KGMsaCx5LGksZSxyLCExLCExKTpSdSh5LHtzaGFwZTppfSx0LGUpLGEuc2V0SXRlbUdyYXBoaWNFbChlLHkpLG8uYWRkKHkpLHkuaWdub3JlPXN9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT1hLmdldEl0ZW1Nb2RlbChlKSxTPXl3W2wudHlwZV0oYSxlLGkpO2lmKGcpe3ZhciBNPXZvaWQgMDswPT09Xy5sZW5ndGg/TT13KG4pOigoTT1fW25dKS51c2VTdHlsZSh5LmdldEl0ZW1TdHlsZSgpKSxcImNhcnRlc2lhbjJkXCI9PT1sLnR5cGUmJk0uc2V0U2hhcGUoXCJyXCIsdiksbVtlXT1NKTt2YXIgST15d1tsLnR5cGVdKGEsZSk7T3UoTSx7c2hhcGU6d3cocixJLGwpfSxoLGUpfXZhciBUPXMuZ2V0SXRlbUdyYXBoaWNFbChuKTtpZighYS5oYXNWYWx1ZShlKSlyZXR1cm4gby5yZW1vdmUoVCksdm9pZChUPW51bGwpO3ZhciBDPSExO3AmJihDPWR3W2wudHlwZV0oZCxTKSkmJm8ucmVtb3ZlKFQpLFR8fChUPWZ3W2wudHlwZV0odCxhLGUsUyxyLGgsdS5tb2RlbCwhIVQsZikpLGJ8fHZ3KFQsYSxlLGksUyx0LHIsXCJwb2xhclwiPT09bC50eXBlKSx4P1QuYXR0cih7c2hhcGU6U30pOmM/Z3coYyxoLFQsUyxlLHIsITAsYik6T3UoVCx7c2hhcGU6U30sdCxlLG51bGwpLGEuc2V0SXRlbUdyYXBoaWNFbChlLFQpLFQuaWdub3JlPUMsby5hZGQoVCl9KSkucmVtb3ZlKChmdW5jdGlvbihlKXt2YXIgbj1zLmdldEl0ZW1HcmFwaGljRWwoZSk7biYmenUobix0LGUpfSkpLmV4ZWN1dGUoKTt2YXIgUz10aGlzLl9iYWNrZ3JvdW5kR3JvdXB8fCh0aGlzLl9iYWNrZ3JvdW5kR3JvdXA9bmV3IHppKTtTLnJlbW92ZUFsbCgpO2Zvcih2YXIgTT0wO008bS5sZW5ndGg7KytNKVMuYWRkKG1bTV0pO28uYWRkKFMpLHRoaXMuX2JhY2tncm91bmRFbHM9bSx0aGlzLl9kYXRhPWF9LGUucHJvdG90eXBlLl9yZW5kZXJMYXJnZT1mdW5jdGlvbih0LGUsbil7dGhpcy5fY2xlYXIoKSx4dyh0LHRoaXMuZ3JvdXApLHRoaXMuX3VwZGF0ZUxhcmdlQ2xpcCh0KX0sZS5wcm90b3R5cGUuX2luY3JlbWVudGFsUmVuZGVyTGFyZ2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9yZW1vdmVCYWNrZ3JvdW5kKCkseHcoZSx0aGlzLmdyb3VwLCEwKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUxhcmdlQ2xpcD1mdW5jdGlvbih0KXt2YXIgZT10LmdldChcImNsaXBcIiwhMCk/SGIodC5jb29yZGluYXRlU3lzdGVtLCExLHQpOm51bGw7ZT90aGlzLmdyb3VwLnNldENsaXBQYXRoKGUpOnRoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKX0sZS5wcm90b3R5cGUuX2VuYWJsZVJlYWx0aW1lU29ydD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcztpZihlLmNvdW50KCkpe3ZhciByPXQuYmFzZUF4aXM7aWYodGhpcy5faXNGaXJzdEZyYW1lKXRoaXMuX2Rpc3BhdGNoSW5pdFNvcnQoZSx0LG4pLHRoaXMuX2lzRmlyc3RGcmFtZT0hMTtlbHNle3ZhciBvPWZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0SXRlbUdyYXBoaWNFbCh0KTtpZihuKXt2YXIgaT1uLnNoYXBlO3JldHVybihyLmlzSG9yaXpvbnRhbCgpP01hdGguYWJzKGkuaGVpZ2h0KTpNYXRoLmFicyhpLndpZHRoKSl8fDB9cmV0dXJuIDB9O3RoaXMuX29uUmVuZGVyZWQ9ZnVuY3Rpb24oKXtpLl91cGRhdGVTb3J0V2l0aGluU2FtZURhdGEoZSxvLHIsbil9LG4uZ2V0WnIoKS5vbihcInJlbmRlcmVkXCIsdGhpcy5fb25SZW5kZXJlZCl9fX0sZS5wcm90b3R5cGUuX2RhdGFTb3J0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoKHQubWFwRGltZW5zaW9uKGUuZGltKSwoZnVuY3Rpb24odCxlKXt2YXIgcj1uKGUpO3I9bnVsbD09cj9OYU46cixpLnB1c2goe2RhdGFJbmRleDplLG1hcHBlZFZhbHVlOnIsb3JkaW5hbE51bWJlcjp0fSl9KSksaS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLm1hcHBlZFZhbHVlLXQubWFwcGVkVmFsdWV9KSkse29yZGluYWxOdW1iZXJzOk8oaSwoZnVuY3Rpb24odCl7cmV0dXJuIHQub3JkaW5hbE51bWJlcn0pKX19LGUucHJvdG90eXBlLl9pc09yZGVyQ2hhbmdlZFdpdGhpblNhbWVEYXRhPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9bi5zY2FsZSxyPXQubWFwRGltZW5zaW9uKG4uZGltKSxvPU51bWJlci5NQVhfVkFMVUUsYT0wLHM9aS5nZXRPcmRpbmFsTWV0YSgpLmNhdGVnb3JpZXMubGVuZ3RoO2E8czsrK2Epe3ZhciBsPXQucmF3SW5kZXhPZihyLGkuZ2V0UmF3T3JkaW5hbE51bWJlcihhKSksdT1sPDA/TnVtYmVyLk1JTl9WQUxVRTplKHQuaW5kZXhPZlJhd0luZGV4KGwpKTtpZih1Pm8pcmV0dXJuITA7bz11fXJldHVybiExfSxlLnByb3RvdHlwZS5faXNPcmRlckRpZmZlcmVudEluVmlldz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnNjYWxlLGk9bi5nZXRFeHRlbnQoKSxyPU1hdGgubWF4KDAsaVswXSksbz1NYXRoLm1pbihpWzFdLG4uZ2V0T3JkaW5hbE1ldGEoKS5jYXRlZ29yaWVzLmxlbmd0aC0xKTtyPD1vOysrcilpZih0Lm9yZGluYWxOdW1iZXJzW3JdIT09bi5nZXRSYXdPcmRpbmFsTnVtYmVyKHIpKXJldHVybiEwfSxlLnByb3RvdHlwZS5fdXBkYXRlU29ydFdpdGhpblNhbWVEYXRhPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHRoaXMuX2lzT3JkZXJDaGFuZ2VkV2l0aGluU2FtZURhdGEodCxlLG4pKXt2YXIgcj10aGlzLl9kYXRhU29ydCh0LG4sZSk7dGhpcy5faXNPcmRlckRpZmZlcmVudEluVmlldyhyLG4pJiYodGhpcy5fcmVtb3ZlT25SZW5kZXJlZExpc3RlbmVyKGkpLGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJjaGFuZ2VBeGlzT3JkZXJcIixjb21wb25lbnRUeXBlOm4uZGltK1wiQXhpc1wiLGF4aXNJZDpuLmluZGV4LHNvcnRJbmZvOnJ9KSl9fSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hJbml0U29ydD1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5iYXNlQXhpcyxyPXRoaXMuX2RhdGFTb3J0KHQsaSwoZnVuY3Rpb24obil7cmV0dXJuIHQuZ2V0KHQubWFwRGltZW5zaW9uKGUub3RoZXJBeGlzLmRpbSksbil9KSk7bi5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImNoYW5nZUF4aXNPcmRlclwiLGNvbXBvbmVudFR5cGU6aS5kaW0rXCJBeGlzXCIsaXNJbml0U29ydDohMCxheGlzSWQ6aS5pbmRleCxzb3J0SW5mbzpyLGFuaW1hdGlvbjp7ZHVyYXRpb246MH19KX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fY2xlYXIodGhpcy5fbW9kZWwpLHRoaXMuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcihlKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcihlKX0sZS5wcm90b3R5cGUuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcj1mdW5jdGlvbih0KXt0aGlzLl9vblJlbmRlcmVkJiYodC5nZXRacigpLm9mZihcInJlbmRlcmVkXCIsdGhpcy5fb25SZW5kZXJlZCksdGhpcy5fb25SZW5kZXJlZD1udWxsKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO3QmJnQuaXNBbmltYXRpb25FbmFibGVkKCkmJm4mJiF0aGlzLl9pc0xhcmdlRHJhdz8odGhpcy5fcmVtb3ZlQmFja2dyb3VuZCgpLHRoaXMuX2JhY2tncm91bmRFbHM9W10sbi5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSl7enUoZSx0LHlzKGUpLmRhdGFJbmRleCl9KSkpOmUucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsLHRoaXMuX2lzRmlyc3RGcmFtZT0hMH0sZS5wcm90b3R5cGUuX3JlbW92ZUJhY2tncm91bmQ9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kR3JvdXApLHRoaXMuX2JhY2tncm91bmRHcm91cD1udWxsfSxlLnR5cGU9XCJiYXJcIixlfSh5ZiksZHc9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS53aWR0aDwwPy0xOjEsaT1lLmhlaWdodDwwPy0xOjE7bjwwJiYoZS54Kz1lLndpZHRoLGUud2lkdGg9LWUud2lkdGgpLGk8MCYmKGUueSs9ZS5oZWlnaHQsZS5oZWlnaHQ9LWUuaGVpZ2h0KTt2YXIgcj10LngrdC53aWR0aCxvPXQueSt0LmhlaWdodCxhPWh3KGUueCx0LngpLHM9Y3coZS54K2Uud2lkdGgsciksbD1odyhlLnksdC55KSx1PWN3KGUueStlLmhlaWdodCxvKSxoPXM8YSxjPXU8bDtyZXR1cm4gZS54PWgmJmE+cj9zOmEsZS55PWMmJmw+bz91OmwsZS53aWR0aD1oPzA6cy1hLGUuaGVpZ2h0PWM/MDp1LWwsbjwwJiYoZS54Kz1lLndpZHRoLGUud2lkdGg9LWUud2lkdGgpLGk8MCYmKGUueSs9ZS5oZWlnaHQsZS5oZWlnaHQ9LWUuaGVpZ2h0KSxofHxjfSxwb2xhcjpmdW5jdGlvbih0LGUpe3ZhciBuPWUucjA8PWUucj8xOi0xO2lmKG48MCl7dmFyIGk9ZS5yO2Uucj1lLnIwLGUucjA9aX12YXIgcj1jdyhlLnIsdC5yKSxvPWh3KGUucjAsdC5yMCk7ZS5yPXIsZS5yMD1vO3ZhciBhPXItbzwwO2lmKG48MCl7aT1lLnI7ZS5yPWUucjAsZS5yMD1pfXJldHVybiBhfX0sZnc9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXt2YXIgdT1uZXcgb3Moe3NoYXBlOkkoe30saSksejI6MX0pOyh1Ll9fZGF0YUluZGV4PW4sdS5uYW1lPVwiaXRlbVwiLG8pJiYodS5zaGFwZVtyP1wiaGVpZ2h0XCI6XCJ3aWR0aFwiXT0wKTtyZXR1cm4gdX0scG9sYXI6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe3ZhciB1PWkuc3RhcnRBbmdsZTxpLmVuZEFuZ2xlLGg9bmV3KCFyJiZsP2F3OldsKSh7c2hhcGU6VCh7Y2xvY2t3aXNlOnV9LGkpLHoyOjF9KTtpZihoLm5hbWU9XCJpdGVtXCIsbyl7dmFyIGM9cj9cInJcIjpcImVuZEFuZ2xlXCIscD17fTtoLnNoYXBlW2NdPXI/MDppLnN0YXJ0QW5nbGUscFtjXT1pW2NdLChzP091OlJ1KShoLHtzaGFwZTpwfSxvKX1yZXR1cm4gaH19O2Z1bmN0aW9uIGd3KHQsZSxuLGkscixvLGEscyl7dmFyIGwsdTtvPyh1PXt4OmkueCx3aWR0aDppLndpZHRofSxsPXt5OmkueSxoZWlnaHQ6aS5oZWlnaHR9KToodT17eTppLnksaGVpZ2h0OmkuaGVpZ2h0fSxsPXt4OmkueCx3aWR0aDppLndpZHRofSksc3x8KGE/T3U6UnUpKG4se3NoYXBlOmx9LGUscixudWxsKSwoYT9PdTpSdSkobix7c2hhcGU6dX0sZT90LmJhc2VBeGlzLm1vZGVsOm51bGwscil9dmFyIHl3PXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRJdGVtTGF5b3V0KGUpLHI9bj9mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KHN3KXx8MCxpPWlzTmFOKGUud2lkdGgpP051bWJlci5NQVhfVkFMVUU6TWF0aC5hYnMoZS53aWR0aCkscj1pc05hTihlLmhlaWdodCk/TnVtYmVyLk1BWF9WQUxVRTpNYXRoLmFicyhlLmhlaWdodCk7cmV0dXJuIE1hdGgubWluKG4saSxyKX0obixpKTowLG89aS53aWR0aD4wPzE6LTEsYT1pLmhlaWdodD4wPzE6LTE7cmV0dXJue3g6aS54K28qci8yLHk6aS55K2Eqci8yLHdpZHRoOmkud2lkdGgtbypyLGhlaWdodDppLmhlaWdodC1hKnJ9fSxwb2xhcjpmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRJdGVtTGF5b3V0KGUpO3JldHVybntjeDppLmN4LGN5OmkuY3kscjA6aS5yMCxyOmkucixzdGFydEFuZ2xlOmkuc3RhcnRBbmdsZSxlbmRBbmdsZTppLmVuZEFuZ2xlfX19O2Z1bmN0aW9uIHZ3KHQsZSxuLGkscixvLGEscyl7dmFyIGw9ZS5nZXRJdGVtVmlzdWFsKG4sXCJzdHlsZVwiKTtzfHx0LnNldFNoYXBlKFwiclwiLGkuZ2V0KGx3KXx8MCksdC51c2VTdHlsZShsKTt2YXIgdT1pLmdldFNoYWxsb3coXCJjdXJzb3JcIik7aWYodSYmdC5hdHRyKFwiY3Vyc29yXCIsdSksIXMpe3ZhciBoPWE/ci5oZWlnaHQ+MD9cImJvdHRvbVwiOlwidG9wXCI6ci53aWR0aD4wP1wibGVmdFwiOlwicmlnaHRcIixjPWVoKGkpO3RoKHQsYyx7bGFiZWxGZXRjaGVyOm8sbGFiZWxEYXRhSW5kZXg6bixkZWZhdWx0VGV4dDpfYihvLmdldERhdGEoKSxuKSxpbmhlcml0Q29sb3I6bC5maWxsLGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eSxkZWZhdWx0T3V0c2lkZVBvc2l0aW9uOmh9KSxoaCh0LmdldFRleHRDb250ZW50KCksYyxvLmdldFJhd1ZhbHVlKG4pLChmdW5jdGlvbih0KXtyZXR1cm4geGIoZSx0KX0pKX12YXIgcD1pLmdldE1vZGVsKFtcImVtcGhhc2lzXCJdKTtKcyh0LHAuZ2V0KFwiZm9jdXNcIikscC5nZXQoXCJibHVyU2NvcGVcIikpLG5sKHQsaSksZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQuc3RhcnRBbmdsZSYmbnVsbCE9dC5lbmRBbmdsZSYmdC5zdGFydEFuZ2xlPT09dC5lbmRBbmdsZX0ocikmJih0LnN0eWxlLmZpbGw9XCJub25lXCIsdC5zdHlsZS5zdHJva2U9XCJub25lXCIsUCh0LnN0YXRlcywoZnVuY3Rpb24odCl7dC5zdHlsZSYmKHQuc3R5bGUuZmlsbD10LnN0eWxlLnN0cm9rZT1cIm5vbmVcIil9KSkpfXZhciBtdz1mdW5jdGlvbigpe30sX3c9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPVwibGFyZ2VCYXJcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtd30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUucG9pbnRzLGk9dGhpcy5fX3N0YXJ0UG9pbnQscj10aGlzLl9fYmFzZURpbUlkeCxvPTA7bzxuLmxlbmd0aDtvKz0yKWlbcl09bltvK3JdLHQubW92ZVRvKGlbMF0saVsxXSksdC5saW5lVG8obltvXSxuW28rMV0pfSxlfShaYSk7ZnVuY3Rpb24geHcodCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9W10sbz1pLmdldExheW91dChcInZhbHVlQXhpc0hvcml6b250YWxcIik/MTowO3JbMS1vXT1pLmdldExheW91dChcInZhbHVlQXhpc1N0YXJ0XCIpO3ZhciBhPWkuZ2V0TGF5b3V0KFwibGFyZ2VEYXRhSW5kaWNlc1wiKSxzPWkuZ2V0TGF5b3V0KFwiYmFyV2lkdGhcIiksbD10LmdldE1vZGVsKFwiYmFja2dyb3VuZFN0eWxlXCIpO2lmKHQuZ2V0KFwic2hvd0JhY2tncm91bmRcIiwhMCkpe3ZhciB1PWkuZ2V0TGF5b3V0KFwibGFyZ2VCYWNrZ3JvdW5kUG9pbnRzXCIpLGg9W107aFsxLW9dPWkuZ2V0TGF5b3V0KFwiYmFja2dyb3VuZFN0YXJ0XCIpO3ZhciBjPW5ldyBfdyh7c2hhcGU6e3BvaW50czp1fSxpbmNyZW1lbnRhbDohIW4sc2lsZW50OiEwLHoyOjB9KTtjLl9fc3RhcnRQb2ludD1oLGMuX19iYXNlRGltSWR4PW8sYy5fX2xhcmdlRGF0YUluZGljZXM9YSxjLl9fYmFyV2lkdGg9cyxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXQoXCJib3JkZXJDb2xvclwiKXx8ZS5nZXQoXCJjb2xvclwiKSxyPWUuZ2V0SXRlbVN0eWxlKCk7dC51c2VTdHlsZShyKSx0LnN0eWxlLmZpbGw9bnVsbCx0LnN0eWxlLnN0cm9rZT1pLHQuc3R5bGUubGluZVdpZHRoPW4uZ2V0TGF5b3V0KFwiYmFyV2lkdGhcIil9KGMsbCxpKSxlLmFkZChjKX12YXIgcD1uZXcgX3coe3NoYXBlOntwb2ludHM6aS5nZXRMYXlvdXQoXCJsYXJnZVBvaW50c1wiKX0saW5jcmVtZW50YWw6ISFufSk7cC5fX3N0YXJ0UG9pbnQ9cixwLl9fYmFzZURpbUlkeD1vLHAuX19sYXJnZURhdGFJbmRpY2VzPWEscC5fX2JhcldpZHRoPXMsZS5hZGQocCksZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4uZ2V0VmlzdWFsKFwic3R5bGVcIik7dC51c2VTdHlsZShJKHt9LGkpKSx0LnN0eWxlLmZpbGw9bnVsbCx0LnN0eWxlLnN0cm9rZT1pLmZpbGwsdC5zdHlsZS5saW5lV2lkdGg9bi5nZXRMYXlvdXQoXCJiYXJXaWR0aFwiKX0ocCwwLGkpLHlzKHApLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsdC5nZXQoXCJzaWxlbnRcIil8fChwLm9uKFwibW91c2Vkb3duXCIsYncpLHAub24oXCJtb3VzZW1vdmVcIixidykpfXZhciBidz1JZigoZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuX19iYXNlRGltSWR4LHI9MS1pLG89dC5zaGFwZS5wb2ludHMsYT10Ll9fbGFyZ2VEYXRhSW5kaWNlcyxzPU1hdGguYWJzKHQuX19iYXJXaWR0aC8yKSxsPXQuX19zdGFydFBvaW50W3JdO3V3WzBdPWUsdXdbMV09bjtmb3IodmFyIHU9dXdbaV0saD11d1sxLWldLGM9dS1zLHA9dStzLGQ9MCxmPW8ubGVuZ3RoLzI7ZDxmO2QrKyl7dmFyIGc9MipkLHk9b1tnK2ldLHY9b1tnK3JdO2lmKHk+PWMmJnk8PXAmJihsPD12P2g+PWwmJmg8PXY6aD49diYmaDw9bCkpcmV0dXJuIGFbZF19cmV0dXJuLTF9KHRoaXMsdC5vZmZzZXRYLHQub2Zmc2V0WSk7eXModGhpcykuZGF0YUluZGV4PWU+PTA/ZTpudWxsfSksMzAsITEpO2Z1bmN0aW9uIHd3KHQsZSxuKXtpZihXYihuLFwiY2FydGVzaWFuMmRcIikpe3ZhciBpPWUscj1uLmdldEFyZWEoKTtyZXR1cm57eDp0P2kueDpyLngseTp0P3IueTppLnksd2lkdGg6dD9pLndpZHRoOnIud2lkdGgsaGVpZ2h0OnQ/ci5oZWlnaHQ6aS5oZWlnaHR9fXZhciBvPWU7cmV0dXJue2N4OihyPW4uZ2V0QXJlYSgpKS5jeCxjeTpyLmN5LHIwOnQ/ci5yMDpvLnIwLHI6dD9yLnI6by5yLHN0YXJ0QW5nbGU6dD9vLnN0YXJ0QW5nbGU6MCxlbmRBbmdsZTp0P28uZW5kQW5nbGU6MipNYXRoLlBJfX12YXIgU3c9MipNYXRoLlBJLE13PU1hdGguUEkvMTgwO2Z1bmN0aW9uIEl3KHQsZSxuKXtlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT1lLm1hcERpbWVuc2lvbihcInZhbHVlXCIpLHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQWModC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsbiksbz10LmdldChcImNlbnRlclwiKSxhPXQuZ2V0KFwicmFkaXVzXCIpO0YoYSl8fChhPVswLGFdKSxGKG8pfHwobz1bbyxvXSk7dmFyIHM9Wmkoci53aWR0aCxuLmdldFdpZHRoKCkpLGw9Wmkoci5oZWlnaHQsbi5nZXRIZWlnaHQoKSksdT1NYXRoLm1pbihzLGwpLGg9Wmkob1swXSxzKStyLngsYz1aaShvWzFdLGwpK3IueSxwPVppKGFbMF0sdS8yKSxkPVppKGFbMV0sdS8yKSxmPS10LmdldChcInN0YXJ0QW5nbGVcIikqTXcsZz10LmdldChcIm1pbkFuZ2xlXCIpKk13LHk9MDtlLmVhY2goaSwoZnVuY3Rpb24odCl7IWlzTmFOKHQpJiZ5Kyt9KSk7dmFyIHY9ZS5nZXRTdW0oaSksbT1NYXRoLlBJLyh2fHx5KSoyLF89dC5nZXQoXCJjbG9ja3dpc2VcIikseD10LmdldChcInJvc2VUeXBlXCIpLGI9dC5nZXQoXCJzdGlsbFNob3daZXJvU3VtXCIpLHc9ZS5nZXREYXRhRXh0ZW50KGkpO3dbMF09MDt2YXIgUz1TdyxNPTAsST1mLFQ9Xz8xOi0xO2lmKGUuc2V0TGF5b3V0KHt2aWV3UmVjdDpyLHI6ZH0pLGUuZWFjaChpLChmdW5jdGlvbih0LG4pe3ZhciBpO2lmKGlzTmFOKHQpKWUuc2V0SXRlbUxheW91dChuLHthbmdsZTpOYU4sc3RhcnRBbmdsZTpOYU4sZW5kQW5nbGU6TmFOLGNsb2Nrd2lzZTpfLGN4OmgsY3k6YyxyMDpwLHI6eD9OYU46ZH0pO2Vsc2V7KGk9XCJhcmVhXCIhPT14PzA9PT12JiZiP206dCptOlN3L3kpPGc/KGk9ZyxTLT1nKTpNKz10O3ZhciByPUkrVCppO2Uuc2V0SXRlbUxheW91dChuLHthbmdsZTppLHN0YXJ0QW5nbGU6SSxlbmRBbmdsZTpyLGNsb2Nrd2lzZTpfLGN4OmgsY3k6YyxyMDpwLHI6eD9VaSh0LHcsW3AsZF0pOmR9KSxJPXJ9fSkpLFM8U3cmJnkpaWYoUzw9LjAwMSl7dmFyIEM9U3cveTtlLmVhY2goaSwoZnVuY3Rpb24odCxuKXtpZighaXNOYU4odCkpe3ZhciBpPWUuZ2V0SXRlbUxheW91dChuKTtpLmFuZ2xlPUMsaS5zdGFydEFuZ2xlPWYrVCpuKkMsaS5lbmRBbmdsZT1mK1QqKG4rMSkqQ319KSl9ZWxzZSBtPVMvTSxJPWYsZS5lYWNoKGksKGZ1bmN0aW9uKHQsbil7aWYoIWlzTmFOKHQpKXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQobikscj1pLmFuZ2xlPT09Zz9nOnQqbTtpLnN0YXJ0QW5nbGU9SSxpLmVuZEFuZ2xlPUkrVCpyLEkrPVQqcn19KSl9KSl9ZnVuY3Rpb24gVHcodCl7cmV0dXJue3Nlcmllc1R5cGU6dCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPWUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwibGVnZW5kXCJ9KTtpZihuJiZuLmxlbmd0aCl7dmFyIGk9dC5nZXREYXRhKCk7aS5maWx0ZXJTZWxmKChmdW5jdGlvbih0KXtmb3IodmFyIGU9aS5nZXROYW1lKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKylpZighbltyXS5pc1NlbGVjdGVkKGUpKXJldHVybiExO3JldHVybiEwfSkpfX19fXZhciBDdz1NYXRoLlBJLzE4MDtmdW5jdGlvbiBBdyh0LGUsbixpLHIsbyxhLHMsbCx1KXtpZighKHQubGVuZ3RoPDIpKXtmb3IodmFyIGg9dC5sZW5ndGgsYz0wO2M8aDtjKyspaWYoXCJvdXRlclwiPT09dFtjXS5wb3NpdGlvbiYmXCJsYWJlbExpbmVcIj09PXRbY10ubGFiZWxBbGlnblRvKXt2YXIgcD10W2NdLmxhYmVsLngtdTt0W2NdLmxpbmVQb2ludHNbMV1bMF0rPXAsdFtjXS5sYWJlbC54PXV9RmcodCxsLGwrYSkmJmZ1bmN0aW9uKHQpe2Zvcih2YXIgbz17bGlzdDpbXSxtYXhZOjB9LGE9e2xpc3Q6W10sbWF4WTowfSxzPTA7czx0Lmxlbmd0aDtzKyspaWYoXCJub25lXCI9PT10W3NdLmxhYmVsQWxpZ25Ubyl7dmFyIGw9dFtzXSx1PWwubGFiZWwueT5uP2E6byxoPU1hdGguYWJzKGwubGFiZWwueS1uKTtpZihoPnUubWF4WSl7dmFyIGM9bC5sYWJlbC54LWUtbC5sZW4yKnIscD1pK2wubGVuLGY9YzxwP01hdGguc3FydChoKmgvKDEtYypjL3AvcCkpOnA7dS5yQj1mLHUubWF4WT1ofXUubGlzdC5wdXNoKGwpfWQobyksZChhKX0odCl9ZnVuY3Rpb24gZCh0KXtmb3IodmFyIG89dC5yQixhPW8qbyxzPTA7czx0Lmxpc3QubGVuZ3RoO3MrKyl7dmFyIGw9dC5saXN0W3NdLHU9TWF0aC5hYnMobC5sYWJlbC55LW4pLGg9aStsLmxlbixjPWgqaCxwPU1hdGguc3FydCgoMS1NYXRoLmFicyh1KnUvYSkpKmMpO2wubGFiZWwueD1lKyhwK2wubGVuMikqcn19fWZ1bmN0aW9uIER3KHQpe3JldHVyblwiY2VudGVyXCI9PT10LnBvc2l0aW9ufWZ1bmN0aW9uIEx3KHQpe3ZhciBlLG4saT10LmdldERhdGEoKSxyPVtdLG89ITEsYT0odC5nZXQoXCJtaW5TaG93TGFiZWxBbmdsZVwiKXx8MCkqQ3cscz1pLmdldExheW91dChcInZpZXdSZWN0XCIpLGw9aS5nZXRMYXlvdXQoXCJyXCIpLHU9cy53aWR0aCxoPXMueCxjPXMueSxwPXMuaGVpZ2h0O2Z1bmN0aW9uIGQodCl7dC5pZ25vcmU9ITB9aS5lYWNoKChmdW5jdGlvbih0KXt2YXIgcz1pLmdldEl0ZW1HcmFwaGljRWwodCksYz1zLnNoYXBlLHA9cy5nZXRUZXh0Q29udGVudCgpLGY9cy5nZXRUZXh0R3VpZGVMaW5lKCksZz1pLmdldEl0ZW1Nb2RlbCh0KSx5PWcuZ2V0TW9kZWwoXCJsYWJlbFwiKSx2PXkuZ2V0KFwicG9zaXRpb25cIil8fGcuZ2V0KFtcImVtcGhhc2lzXCIsXCJsYWJlbFwiLFwicG9zaXRpb25cIl0pLG09eS5nZXQoXCJkaXN0YW5jZVRvTGFiZWxMaW5lXCIpLF89eS5nZXQoXCJhbGlnblRvXCIpLHg9WmkoeS5nZXQoXCJlZGdlRGlzdGFuY2VcIiksdSksYj15LmdldChcImJsZWVkTWFyZ2luXCIpLHc9Zy5nZXRNb2RlbChcImxhYmVsTGluZVwiKSxTPXcuZ2V0KFwibGVuZ3RoXCIpO1M9WmkoUyx1KTt2YXIgTT13LmdldChcImxlbmd0aDJcIik7aWYoTT1aaShNLHUpLE1hdGguYWJzKGMuZW5kQW5nbGUtYy5zdGFydEFuZ2xlKTxhKXJldHVybiBQKHAuc3RhdGVzLGQpLHZvaWQocC5pZ25vcmU9ITApO2lmKGZ1bmN0aW9uKHQpe2lmKCF0Lmlnbm9yZSlyZXR1cm4hMDtmb3IodmFyIGUgaW4gdC5zdGF0ZXMpaWYoITE9PT10LnN0YXRlc1tlXS5pZ25vcmUpcmV0dXJuITA7cmV0dXJuITF9KHApKXt2YXIgSSxULEMsQSxEPShjLnN0YXJ0QW5nbGUrYy5lbmRBbmdsZSkvMixMPU1hdGguY29zKEQpLGs9TWF0aC5zaW4oRCk7ZT1jLmN4LG49Yy5jeTt2YXIgTyxSPVwiaW5zaWRlXCI9PT12fHxcImlubmVyXCI9PT12O2lmKFwiY2VudGVyXCI9PT12KUk9Yy5jeCxUPWMuY3ksQT1cImNlbnRlclwiO2Vsc2V7dmFyIE49KFI/KGMucitjLnIwKS8yKkw6Yy5yKkwpK2UsRT0oUj8oYy5yK2MucjApLzIqazpjLnIqaykrbjtpZihJPU4rMypMLFQ9RSszKmssIVIpe3ZhciB6PU4rTCooUytsLWMuciksQj1FK2sqKFMrbC1jLnIpLFY9eisoTDwwPy0xOjEpKk07ST1cImVkZ2VcIj09PV8/TDwwP2greDpoK3UteDpWKyhMPDA/LW06bSksVD1CLEM9W1tOLEVdLFt6LEJdLFtWLEJdXX1BPVI/XCJjZW50ZXJcIjpcImVkZ2VcIj09PV8/TD4wP1wicmlnaHRcIjpcImxlZnRcIjpMPjA/XCJsZWZ0XCI6XCJyaWdodFwifXZhciBGPXkuZ2V0KFwicm90YXRlXCIpO2lmKE89XCJudW1iZXJcIj09dHlwZW9mIEY/RiooTWF0aC5QSS8xODApOkY/TDwwPy1EK01hdGguUEk6LUQ6MCxvPSEhTyxwLng9SSxwLnk9VCxwLnJvdGF0aW9uPU8scC5zZXRTdHlsZSh7dmVydGljYWxBbGlnbjpcIm1pZGRsZVwifSksUil7cC5zZXRTdHlsZSh7YWxpZ246QX0pO3ZhciBHPXAuc3RhdGVzLnNlbGVjdDtHJiYoRy54Kz1wLngsRy55Kz1wLnkpfWVsc2V7dmFyIEg9cC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO0guYXBwbHlUcmFuc2Zvcm0ocC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpKTt2YXIgVz0ocC5zdHlsZS5tYXJnaW58fDApKzIuMTtILnktPVcvMixILmhlaWdodCs9VyxyLnB1c2goe2xhYmVsOnAsbGFiZWxMaW5lOmYscG9zaXRpb246dixsZW46UyxsZW4yOk0sbWluVHVybkFuZ2xlOncuZ2V0KFwibWluVHVybkFuZ2xlXCIpLG1heFN1cmZhY2VBbmdsZTp3LmdldChcIm1heFN1cmZhY2VBbmdsZVwiKSxzdXJmYWNlTm9ybWFsOm5ldyBJbihMLGspLGxpbmVQb2ludHM6Qyx0ZXh0QWxpZ246QSxsYWJlbERpc3RhbmNlOm0sbGFiZWxBbGlnblRvOl8sZWRnZURpc3RhbmNlOngsYmxlZWRNYXJnaW46YixyZWN0Okh9KX1zLnNldFRleHRDb25maWcoe2luc2lkZTpSfSl9fSkpLCFvJiZ0LmdldChcImF2b2lkTGFiZWxPdmVybGFwXCIpJiZmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe2Zvcih2YXIgbD1bXSx1PVtdLGg9TnVtYmVyLk1BWF9WQUxVRSxjPS1OdW1iZXIuTUFYX1ZBTFVFLHA9MDtwPHQubGVuZ3RoO3ArKyl7dmFyIGQ9dFtwXS5sYWJlbDtEdyh0W3BdKXx8KGQueDxlPyhoPU1hdGgubWluKGgsZC54KSxsLnB1c2godFtwXSkpOihjPU1hdGgubWF4KGMsZC54KSx1LnB1c2godFtwXSkpKX1mb3IoQXcodSxlLG4saSwxLDAsbywwLHMsYyksQXcobCxlLG4saSwtMSwwLG8sMCxzLGgpLHA9MDtwPHQubGVuZ3RoO3ArKyl7dmFyIGY9dFtwXTtpZihkPWYubGFiZWwsIUR3KGYpKXt2YXIgZz1mLmxpbmVQb2ludHM7aWYoZyl7dmFyIHk9XCJlZGdlXCI9PT1mLmxhYmVsQWxpZ25Ubyx2PWYucmVjdC53aWR0aCxtPXZvaWQgMDsobT15P2QueDxlP2dbMl1bMF0tZi5sYWJlbERpc3RhbmNlLWEtZi5lZGdlRGlzdGFuY2U6YStyLWYuZWRnZURpc3RhbmNlLWdbMl1bMF0tZi5sYWJlbERpc3RhbmNlOmQueDxlP2QueC1hLWYuYmxlZWRNYXJnaW46YStyLWQueC1mLmJsZWVkTWFyZ2luKTxmLnJlY3Qud2lkdGgmJihmLmxhYmVsLnN0eWxlLndpZHRoPW0sXCJlZGdlXCI9PT1mLmxhYmVsQWxpZ25UbyYmKHY9bSkpO3ZhciBfPWdbMV1bMF0tZ1syXVswXTt5P2QueDxlP2dbMl1bMF09YStmLmVkZ2VEaXN0YW5jZSt2K2YubGFiZWxEaXN0YW5jZTpnWzJdWzBdPWErci1mLmVkZ2VEaXN0YW5jZS12LWYubGFiZWxEaXN0YW5jZTooZC54PGU/Z1syXVswXT1kLngrZi5sYWJlbERpc3RhbmNlOmdbMl1bMF09ZC54LWYubGFiZWxEaXN0YW5jZSxnWzFdWzBdPWdbMl1bMF0rXyksZ1sxXVsxXT1nWzJdWzFdPWQueX19fX0ocixlLG4sbCx1LHAsaCxjKTtmb3IodmFyIGY9MDtmPHIubGVuZ3RoO2YrKyl7dmFyIGc9cltmXSx5PWcubGFiZWwsdj1nLmxhYmVsTGluZSxtPWlzTmFOKHkueCl8fGlzTmFOKHkueSk7aWYoeSl7eS5zZXRTdHlsZSh7YWxpZ246Zy50ZXh0QWxpZ259KSxtJiYoUCh5LnN0YXRlcyxkKSx5Lmlnbm9yZT0hMCk7dmFyIF89eS5zdGF0ZXMuc2VsZWN0O18mJihfLngrPXkueCxfLnkrPXkueSl9aWYodil7dmFyIHg9Zy5saW5lUG9pbnRzO218fCF4PyhQKHYuc3RhdGVzLGQpLHYuaWdub3JlPSEwKTooT2coeCxnLm1pblR1cm5BbmdsZSksUmcoeCxnLnN1cmZhY2VOb3JtYWwsZy5tYXhTdXJmYWNlQW5nbGUpLHYuc2V0U2hhcGUoe3BvaW50czp4fSkseS5fX2hvc3RUYXJnZXQudGV4dEd1aWRlTGluZUNvbmZpZz17YW5jaG9yOm5ldyBJbih4WzBdWzBdLHhbMF1bMV0pfSl9fX1mdW5jdGlvbiBrdyh0LGUpe3ZhciBuPXQuZ2V0KFwiYm9yZGVyUmFkaXVzXCIpO3JldHVybiBudWxsPT1uP251bGw6KEYobil8fChuPVtuLG5dKSx7aW5uZXJDb3JuZXJSYWRpdXM6WW4oblswXSxlLnIwKSxjb3JuZXJSYWRpdXM6WW4oblsxXSxlLnIpfSl9dmFyIFB3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyLnoyPTI7dmFyIG89bmV3ICRsLGE9bmV3IGxzO3JldHVybiByLnNldFRleHRHdWlkZUxpbmUobyksci5zZXRUZXh0Q29udGVudChhKSxyLnVwZGF0ZURhdGEoZSxuLGksITApLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMsYT10Lmhvc3RNb2RlbCxzPXQuZ2V0SXRlbU1vZGVsKGUpLGw9cy5nZXRNb2RlbChcImVtcGhhc2lzXCIpLHU9dC5nZXRJdGVtTGF5b3V0KGUpLGg9SShrdyhzLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLHUpfHx7fSx1KTtyPyhvLnNldFNoYXBlKGgpLFwic2NhbGVcIj09PWEuZ2V0U2hhbGxvdyhcImFuaW1hdGlvblR5cGVcIik/KG8uc2hhcGUucj11LnIwLFJ1KG8se3NoYXBlOntyOnUucn19LGEsZSkpOm51bGwhPW4/KG8uc2V0U2hhcGUoe3N0YXJ0QW5nbGU6bixlbmRBbmdsZTpufSksUnUobyx7c2hhcGU6e3N0YXJ0QW5nbGU6dS5zdGFydEFuZ2xlLGVuZEFuZ2xlOnUuZW5kQW5nbGV9fSxhLGUpKTooby5zaGFwZS5lbmRBbmdsZT11LnN0YXJ0QW5nbGUsT3Uobyx7c2hhcGU6e2VuZEFuZ2xlOnUuZW5kQW5nbGV9fSxhLGUpKSk6T3Uobyx7c2hhcGU6aH0sYSxlKTtvLnVzZVN0eWxlKHQuZ2V0SXRlbVZpc3VhbChlLFwic3R5bGVcIikpLG5sKG8scyk7dmFyIGM9KHUuc3RhcnRBbmdsZSt1LmVuZEFuZ2xlKS8yLHA9YS5nZXQoXCJzZWxlY3RlZE9mZnNldFwiKSxkPU1hdGguY29zKGMpKnAsZj1NYXRoLnNpbihjKSpwLGc9cy5nZXRTaGFsbG93KFwiY3Vyc29yXCIpO2cmJm8uYXR0cihcImN1cnNvclwiLGcpLHRoaXMuX3VwZGF0ZUxhYmVsKGEsdCxlKSxvLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc2hhcGU9aSh7cjp1LnIrKGwuZ2V0KFwic2NhbGVcIikmJmwuZ2V0KFwic2NhbGVTaXplXCIpfHwwKX0sa3cobC5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKSx1KSksSShvLmVuc3VyZVN0YXRlKFwic2VsZWN0XCIpLHt4OmQseTpmLHNoYXBlOmt3KHMuZ2V0TW9kZWwoW1wic2VsZWN0XCIsXCJpdGVtU3R5bGVcIl0pLHUpfSksSShvLmVuc3VyZVN0YXRlKFwiYmx1clwiKSx7c2hhcGU6a3cocy5nZXRNb2RlbChbXCJibHVyXCIsXCJpdGVtU3R5bGVcIl0pLHUpfSk7dmFyIHk9by5nZXRUZXh0R3VpZGVMaW5lKCksdj1vLmdldFRleHRDb250ZW50KCk7SSh5LmVuc3VyZVN0YXRlKFwic2VsZWN0XCIpLHt4OmQseTpmfSksSSh2LmVuc3VyZVN0YXRlKFwic2VsZWN0XCIpLHt4OmQseTpmfSksSnModGhpcyxsLmdldChcImZvY3VzXCIpLGwuZ2V0KFwiYmx1clNjb3BlXCIpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9ZS5nZXRJdGVtTW9kZWwobiksbz1yLmdldE1vZGVsKFwibGFiZWxMaW5lXCIpLGE9ZS5nZXRJdGVtVmlzdWFsKG4sXCJzdHlsZVwiKSxzPWEmJmEuZmlsbCxsPWEmJmEub3BhY2l0eTt0aChpLGVoKHIpLHtsYWJlbEZldGNoZXI6ZS5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6bixpbmhlcml0Q29sb3I6cyxkZWZhdWx0T3BhY2l0eTpsLGRlZmF1bHRUZXh0OnQuZ2V0Rm9ybWF0dGVkTGFiZWwobixcIm5vcm1hbFwiKXx8ZS5nZXROYW1lKG4pfSk7dmFyIHU9aS5nZXRUZXh0Q29udGVudCgpO2kuc2V0VGV4dENvbmZpZyh7cG9zaXRpb246bnVsbCxyb3RhdGlvbjpudWxsfSksdS5hdHRyKHt6MjoxMH0pLHpnKHRoaXMsQmcocikse3N0cm9rZTpzLG9wYWNpdHk6ZXQoby5nZXQoW1wibGluZVN0eWxlXCIsXCJvcGFjaXR5XCJdKSxsLDEpfSl9LGV9KFdsKSxPdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLmlnbm9yZUxhYmVsTGluZVVwZGF0ZT0hMCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyB6aTt0aGlzLl9zZWN0b3JHcm91cD10fSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz10LmdldERhdGEoKSxhPXRoaXMuX2RhdGEscz10aGlzLmdyb3VwO2lmKCFhJiZvLmNvdW50KCk+MCl7Zm9yKHZhciBsPW8uZ2V0SXRlbUxheW91dCgwKSx1PTE7aXNOYU4obCYmbC5zdGFydEFuZ2xlKSYmdTxvLmNvdW50KCk7Kyt1KWw9by5nZXRJdGVtTGF5b3V0KHUpO2wmJihyPWwuc3RhcnRBbmdsZSl9by5kaWZmKGEpLmFkZCgoZnVuY3Rpb24odCl7dmFyIGU9bmV3IFB3KG8sdCxyKTtvLnNldEl0ZW1HcmFwaGljRWwodCxlKSxzLmFkZChlKX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsZSl7dmFyIG49YS5nZXRJdGVtR3JhcGhpY0VsKGUpO24udXBkYXRlRGF0YShvLHQsciksbi5vZmYoXCJjbGlja1wiKSxzLmFkZChuKSxvLnNldEl0ZW1HcmFwaGljRWwodCxuKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKGUpe3p1KGEuZ2V0SXRlbUdyYXBoaWNFbChlKSx0LGUpfSkpLmV4ZWN1dGUoKSxMdyh0KSxcImV4cGFuc2lvblwiIT09dC5nZXQoXCJhbmltYXRpb25UeXBlVXBkYXRlXCIpJiYodGhpcy5fZGF0YT1vKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihuKXt2YXIgaT10WzBdLW4uY3gscj10WzFdLW4uY3ksbz1NYXRoLnNxcnQoaSppK3Iqcik7cmV0dXJuIG88PW4uciYmbz49bi5yMH19LGUudHlwZT1cInBpZVwiLGV9KHlmKTtmdW5jdGlvbiBSdyh0LGUsbil7ZT1GKGUpJiZ7Y29vcmREaW1lbnNpb25zOmV9fHxJKHt9LGUpO3ZhciBpPXQuZ2V0U291cmNlKCkscj1ObShpLGUpLG89bmV3IFBtKHIsdCk7cmV0dXJuIG8uaW5pdERhdGEoaSxuKSxvfXZhciBOdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9nZXREYXRhV2l0aEVuY29kZWRWaXN1YWw9dCx0aGlzLl9nZXRSYXdEYXRhPWV9cmV0dXJuIHQucHJvdG90eXBlLmdldEFsbE5hbWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0UmF3RGF0YSgpO3JldHVybiB0Lm1hcEFycmF5KHQuZ2V0TmFtZSl9LHQucHJvdG90eXBlLmNvbnRhaW5OYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRSYXdEYXRhKCkuaW5kZXhPZk5hbWUodCk+PTB9LHQucHJvdG90eXBlLmluZGV4T2ZOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXREYXRhV2l0aEVuY29kZWRWaXN1YWwoKS5pbmRleE9mTmFtZSh0KX0sdC5wcm90b3R5cGUuZ2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9nZXREYXRhV2l0aEVuY29kZWRWaXN1YWwoKS5nZXRJdGVtVmlzdWFsKHQsZSl9LHR9KCksRXc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS51c2VDb2xvclBhbGV0dGVPbkRhdGE9ITAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5sZWdlbmRWaXN1YWxQcm92aWRlcj1uZXcgTncoQih0aGlzLmdldERhdGEsdGhpcyksQih0aGlzLmdldFJhd0RhdGEsdGhpcykpLHRoaXMuX2RlZmF1bHRMYWJlbExpbmUoZSl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbigpe3JldHVybiBSdyh0aGlzLHtjb29yZERpbWVuc2lvbnM6W1widmFsdWVcIl0sZW5jb2RlRGVmYXVsdGVyOlYoUWMsdGhpcyl9KX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldERhdGEoKSxpPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUpLHI9W107cmV0dXJuIG4uZWFjaChuLm1hcERpbWVuc2lvbihcInZhbHVlXCIpLChmdW5jdGlvbih0KXtyLnB1c2godCl9KSksaS5wZXJjZW50PVFpKHIsZSxuLmhvc3RNb2RlbC5nZXQoXCJwZXJjZW50UHJlY2lzaW9uXCIpKSxpLiR2YXJzLnB1c2goXCJwZXJjZW50XCIpLGl9LGUucHJvdG90eXBlLl9kZWZhdWx0TGFiZWxMaW5lPWZ1bmN0aW9uKHQpe3hyKHQsXCJsYWJlbExpbmVcIixbXCJzaG93XCJdKTt2YXIgZT10LmxhYmVsTGluZSxuPXQuZW1waGFzaXMubGFiZWxMaW5lO2Uuc2hvdz1lLnNob3cmJnQubGFiZWwuc2hvdyxuLnNob3c9bi5zaG93JiZ0LmVtcGhhc2lzLmxhYmVsLnNob3d9LGUudHlwZT1cInNlcmllcy5waWVcIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsY2VudGVyOltcIjUwJVwiLFwiNTAlXCJdLHJhZGl1czpbMCxcIjc1JVwiXSxjbG9ja3dpc2U6ITAsc3RhcnRBbmdsZTo5MCxtaW5BbmdsZTowLG1pblNob3dMYWJlbEFuZ2xlOjAsc2VsZWN0ZWRPZmZzZXQ6MTAscGVyY2VudFByZWNpc2lvbjoyLHN0aWxsU2hvd1plcm9TdW06ITAsbGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjAsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxsYWJlbDp7cm90YXRlOjAsc2hvdzohMCxvdmVyZmxvdzpcInRydW5jYXRlXCIscG9zaXRpb246XCJvdXRlclwiLGFsaWduVG86XCJub25lXCIsZWRnZURpc3RhbmNlOlwiMjUlXCIsYmxlZWRNYXJnaW46MTAsZGlzdGFuY2VUb0xhYmVsTGluZTo1fSxsYWJlbExpbmU6e3Nob3c6ITAsbGVuZ3RoOjE1LGxlbmd0aDI6MTUsc21vb3RoOiExLG1pblR1cm5BbmdsZTo5MCxtYXhTdXJmYWNlQW5nbGU6OTAsbGluZVN0eWxlOnt3aWR0aDoxLHR5cGU6XCJzb2xpZFwifX0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxfSxsYWJlbExheW91dDp7aGlkZU92ZXJsYXA6ITB9LGVtcGhhc2lzOntzY2FsZTohMCxzY2FsZVNpemU6NX0sYXZvaWRMYWJlbE92ZXJsYXA6ITAsYW5pbWF0aW9uVHlwZTpcImV4cGFuc2lvblwiLGFuaW1hdGlvbkR1cmF0aW9uOjFlMyxhbmltYXRpb25UeXBlVXBkYXRlOlwidHJhbnNpdGlvblwiLGFuaW1hdGlvbkVhc2luZ1VwZGF0ZTpcImN1YmljSW5PdXRcIixhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo1MDAsYW5pbWF0aW9uRWFzaW5nOlwiY3ViaWNJbk91dFwifSxlfShyZik7dmFyIHp3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhtKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwfSl9LGUucHJvdG90eXBlLmdldFByb2dyZXNzaXZlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24ucHJvZ3Jlc3NpdmU7cmV0dXJuIG51bGw9PXQ/dGhpcy5vcHRpb24ubGFyZ2U/NWUzOnRoaXMuZ2V0KFwicHJvZ3Jlc3NpdmVcIik6dH0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZVRocmVzaG9sZDtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoXCJwcm9ncmVzc2l2ZVRocmVzaG9sZFwiKTp0fSxlLnByb3RvdHlwZS5icnVzaFNlbGVjdG9yPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5wb2ludChlLmdldEl0ZW1MYXlvdXQodCkpfSxlLnR5cGU9XCJzZXJpZXMuc2NhdHRlclwiLGUuZGVwZW5kZW5jaWVzPVtcImdyaWRcIixcInBvbGFyXCIsXCJnZW9cIixcInNpbmdsZUF4aXNcIixcImNhbGVuZGFyXCJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbTpcImNhcnRlc2lhbjJkXCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxzeW1ib2xTaXplOjEwLGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxpdGVtU3R5bGU6e29wYWNpdHk6Ljh9LGVtcGhhc2lzOntzY2FsZTohMH0sY2xpcDohMCxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6XCIjMjEyMTIxXCJ9fX0sZX0ocmYpLEJ3PWZ1bmN0aW9uKCl7fSxWdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQnd9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUucG9pbnRzLGk9ZS5zaXplLHI9dGhpcy5zeW1ib2xQcm94eSxvPXIuc2hhcGUsYT10LmdldENvbnRleHQ/dC5nZXRDb250ZXh0KCk6dDtpZihhJiZpWzBdPDQpdGhpcy5fY3R4PWE7ZWxzZXt0aGlzLl9jdHg9bnVsbDtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoOyl7dmFyIGw9bltzKytdLHU9bltzKytdO2lzTmFOKGwpfHxpc05hTih1KXx8KHRoaXMuc29mdENsaXBTaGFwZSYmIXRoaXMuc29mdENsaXBTaGFwZS5jb250YWluKGwsdSl8fChvLng9bC1pWzBdLzIsby55PXUtaVsxXS8yLG8ud2lkdGg9aVswXSxvLmhlaWdodD1pWzFdLHIuYnVpbGRQYXRoKHQsbywhMCkpKX19fSxlLnByb3RvdHlwZS5hZnRlckJydXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zaGFwZSxlPXQucG9pbnRzLG49dC5zaXplLGk9dGhpcy5fY3R4O2lmKGkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDspe3ZhciBvPWVbcisrXSxhPWVbcisrXTtpc05hTihvKXx8aXNOYU4oYSl8fCh0aGlzLnNvZnRDbGlwU2hhcGUmJiF0aGlzLnNvZnRDbGlwU2hhcGUuY29udGFpbihvLGEpfHxpLmZpbGxSZWN0KG8tblswXS8yLGEtblsxXS8yLG5bMF0sblsxXSkpfX0sZS5wcm90b3R5cGUuZmluZERhdGFJbmRleD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnNoYXBlLGk9bi5wb2ludHMscj1uLnNpemUsbz1NYXRoLm1heChyWzBdLDQpLGE9TWF0aC5tYXgoclsxXSw0KSxzPWkubGVuZ3RoLzItMTtzPj0wO3MtLSl7dmFyIGw9MipzLHU9aVtsXS1vLzIsaD1pW2wrMV0tYS8yO2lmKHQ+PXUmJmU+PWgmJnQ8PXUrbyYmZTw9aCthKXJldHVybiBzfXJldHVybi0xfSxlfShaYSksRnc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5ncm91cD1uZXcgeml9cmV0dXJuIHQucHJvdG90eXBlLmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIG49bmV3IFZ3KHtyZWN0SG92ZXI6ITAsY3Vyc29yOlwiZGVmYXVsdFwifSk7bi5zZXRTaGFwZSh7cG9pbnRzOnQuZ2V0TGF5b3V0KFwicG9pbnRzXCIpfSksdGhpcy5fc2V0Q29tbW9uKG4sdCwhMSxlKSx0aGlzLmdyb3VwLmFkZChuKSx0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2luY3JlbWVudGFsKXt2YXIgZT10LmdldExheW91dChcInBvaW50c1wiKTt0aGlzLmdyb3VwLmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7aWYobnVsbCE9dC5zdGFydEluZGV4KXt2YXIgbj0yKih0LmVuZEluZGV4LXQuc3RhcnRJbmRleCksaT00KnQuc3RhcnRJbmRleCoyO2U9bmV3IEZsb2F0MzJBcnJheShlLmJ1ZmZlcixpLG4pfXQuc2V0U2hhcGUoXCJwb2ludHNcIixlKX0pKX19LHQucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2NsZWFySW5jcmVtZW50YWwoKSx0LmNvdW50KCk+MmU2Pyh0aGlzLl9pbmNyZW1lbnRhbHx8KHRoaXMuX2luY3JlbWVudGFsPW5ldyB2dSh7c2lsZW50OiEwfSkpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2luY3JlbWVudGFsKSk6dGhpcy5faW5jcmVtZW50YWw9bnVsbH0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO3RoaXMuX2luY3JlbWVudGFsPyhpPW5ldyBWdyx0aGlzLl9pbmNyZW1lbnRhbC5hZGREaXNwbGF5YWJsZShpLCEwKSk6KChpPW5ldyBWdyh7cmVjdEhvdmVyOiEwLGN1cnNvcjpcImRlZmF1bHRcIixzdGFydEluZGV4OnQuc3RhcnQsZW5kSW5kZXg6dC5lbmR9KSkuaW5jcmVtZW50YWw9ITAsdGhpcy5ncm91cC5hZGQoaSkpLGkuc2V0U2hhcGUoe3BvaW50czplLmdldExheW91dChcInBvaW50c1wiKX0pLHRoaXMuX3NldENvbW1vbihpLGUsISF0aGlzLl9pbmNyZW1lbnRhbCxuKX0sdC5wcm90b3R5cGUuX3NldENvbW1vbj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmhvc3RNb2RlbDtpPWl8fHt9O3ZhciBvPWUuZ2V0VmlzdWFsKFwic3ltYm9sU2l6ZVwiKTt0LnNldFNoYXBlKFwic2l6ZVwiLG8gaW5zdGFuY2VvZiBBcnJheT9vOltvLG9dKSx0LnNvZnRDbGlwU2hhcGU9aS5jbGlwU2hhcGV8fG51bGwsdC5zeW1ib2xQcm94eT11eShlLmdldFZpc3VhbChcInN5bWJvbFwiKSwwLDAsMCwwKSx0LnNldENvbG9yPXQuc3ltYm9sUHJveHkuc2V0Q29sb3I7dmFyIGE9dC5zaGFwZS5zaXplWzBdPDQ7dC51c2VTdHlsZShyLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLmdldEl0ZW1TdHlsZShhP1tcImNvbG9yXCIsXCJzaGFkb3dCbHVyXCIsXCJzaGFkb3dDb2xvclwiXTpbXCJjb2xvclwiXSkpO3ZhciBzPWUuZ2V0VmlzdWFsKFwic3R5bGVcIiksbD1zJiZzLmZpbGw7aWYobCYmdC5zZXRDb2xvcihsKSwhbil7dmFyIHU9eXModCk7dS5zZXJpZXNJbmRleD1yLnNlcmllc0luZGV4LHQub24oXCJtb3VzZW1vdmVcIiwoZnVuY3Rpb24oZSl7dS5kYXRhSW5kZXg9bnVsbDt2YXIgbj10LmZpbmREYXRhSW5kZXgoZS5vZmZzZXRYLGUub2Zmc2V0WSk7bj49MCYmKHUuZGF0YUluZGV4PW4rKHQuc3RhcnRJbmRleHx8MCkpfSkpfX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHRoaXMuX2luY3JlbWVudGFsPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuX2NsZWFySW5jcmVtZW50YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbmNyZW1lbnRhbDt0JiZ0LmNsZWFyRGlzcGxheWJsZXMoKX0sdH0oKSxHdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpO3RoaXMuX3VwZGF0ZVN5bWJvbERyYXcoaSx0KS51cGRhdGVEYXRhKGkse2NsaXBTaGFwZTp0aGlzLl9nZXRDbGlwU2hhcGUodCl9KSx0aGlzLl9maW5pc2hlZD0hMH0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTt0aGlzLl91cGRhdGVTeW1ib2xEcmF3KGksdCkuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlKGkpLHRoaXMuX2ZpbmlzaGVkPSExfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fc3ltYm9sRHJhdy5pbmNyZW1lbnRhbFVwZGF0ZSh0LGUuZ2V0RGF0YSgpLHtjbGlwU2hhcGU6dGhpcy5fZ2V0Q2xpcFNoYXBlKGUpfSksdGhpcy5fZmluaXNoZWQ9dC5lbmQ9PT1lLmdldERhdGEoKS5jb3VudCgpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpO2lmKHRoaXMuZ3JvdXAuZGlydHkoKSwhdGhpcy5fZmluaXNoZWR8fGkuY291bnQoKT4xZTR8fCF0aGlzLl9zeW1ib2xEcmF3LmlzUGVyc2lzdGVudCgpKXJldHVybnt1cGRhdGU6ITB9O3ZhciByPVFiKFwiXCIpLnJlc2V0KHQsZSxuKTtyLnByb2dyZXNzJiZyLnByb2dyZXNzKHtzdGFydDowLGVuZDppLmNvdW50KCksY291bnQ6aS5jb3VudCgpfSxpKSx0aGlzLl9zeW1ib2xEcmF3LnVwZGF0ZUxheW91dChpKX0sZS5wcm90b3R5cGUuX2dldENsaXBTaGFwZT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1lJiZlLmdldEFyZWEmJmUuZ2V0QXJlYSgpO3JldHVybiB0LmdldChcImNsaXBcIiwhMCk/bjpudWxsfSxlLnByb3RvdHlwZS5fdXBkYXRlU3ltYm9sRHJhdz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3N5bWJvbERyYXcsaT1lLnBpcGVsaW5lQ29udGV4dC5sYXJnZTtyZXR1cm4gbiYmaT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwobiYmbi5yZW1vdmUoKSxuPXRoaXMuX3N5bWJvbERyYXc9aT9uZXcgRnc6bmV3IFRiLHRoaXMuX2lzTGFyZ2VEcmF3PWksdGhpcy5ncm91cC5yZW1vdmVBbGwoKSksdGhpcy5ncm91cC5hZGQobi5ncm91cCksbn0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoITApLHRoaXMuX3N5bWJvbERyYXc9bnVsbH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS50eXBlPVwic2NhdHRlclwiLGV9KHlmKSxIdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUudHlwZT1cImdyaWRcIixlLmRlcGVuZGVuY2llcz1bXCJ4QXhpc1wiLFwieUF4aXNcIl0sZS5sYXlvdXRNb2RlPVwiYm94XCIsZS5kZWZhdWx0T3B0aW9uPXtzaG93OiExLHpsZXZlbDowLHo6MCxsZWZ0OlwiMTAlXCIsdG9wOjYwLHJpZ2h0OlwiMTAlXCIsYm90dG9tOjcwLGNvbnRhaW5MYWJlbDohMSxiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLDApXCIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjpcIiNjY2NcIn0sZX0oTmMpLFd3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0Q29vcmRTeXNNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJncmlkXCIsT3IpLm1vZGVsc1swXX0sZS50eXBlPVwiY2FydGVzaWFuMmRBeGlzXCIsZX0oTmMpO0woV3csal8pO3ZhciBZdz17c2hvdzohMCx6bGV2ZWw6MCx6OjAsaW52ZXJzZTohMSxuYW1lOlwiXCIsbmFtZUxvY2F0aW9uOlwiZW5kXCIsbmFtZVJvdGF0ZTpudWxsLG5hbWVUcnVuY2F0ZTp7bWF4V2lkdGg6bnVsbCxlbGxpcHNpczpcIi4uLlwiLHBsYWNlaG9sZGVyOlwiLlwifSxuYW1lVGV4dFN0eWxlOnt9LG5hbWVHYXA6MTUsc2lsZW50OiExLHRyaWdnZXJFdmVudDohMSx0b29sdGlwOntzaG93OiExfSxheGlzUG9pbnRlcjp7fSxheGlzTGluZTp7c2hvdzohMCxvblplcm86ITAsb25aZXJvQXhpc0luZGV4Om51bGwsbGluZVN0eWxlOntjb2xvcjpcIiM2RTcwNzlcIix3aWR0aDoxLHR5cGU6XCJzb2xpZFwifSxzeW1ib2w6W1wibm9uZVwiLFwibm9uZVwiXSxzeW1ib2xTaXplOlsxMCwxNV19LGF4aXNUaWNrOntzaG93OiEwLGluc2lkZTohMSxsZW5ndGg6NSxsaW5lU3R5bGU6e3dpZHRoOjF9fSxheGlzTGFiZWw6e3Nob3c6ITAsaW5zaWRlOiExLHJvdGF0ZTowLHNob3dNaW5MYWJlbDpudWxsLHNob3dNYXhMYWJlbDpudWxsLG1hcmdpbjo4LGZvbnRTaXplOjEyfSxzcGxpdExpbmU6e3Nob3c6ITAsbGluZVN0eWxlOntjb2xvcjpbXCIjRTBFNkYxXCJdLHdpZHRoOjEsdHlwZTpcInNvbGlkXCJ9fSxzcGxpdEFyZWE6e3Nob3c6ITEsYXJlYVN0eWxlOntjb2xvcjpbXCJyZ2JhKDI1MCwyNTAsMjUwLDAuMilcIixcInJnYmEoMjEwLDIxOSwyMzgsMC4yKVwiXX19fSxYdz1TKHtib3VuZGFyeUdhcDohMCxkZWR1cGxpY2F0aW9uOm51bGwsc3BsaXRMaW5lOntzaG93OiExfSxheGlzVGljazp7YWxpZ25XaXRoTGFiZWw6ITEsaW50ZXJ2YWw6XCJhdXRvXCJ9LGF4aXNMYWJlbDp7aW50ZXJ2YWw6XCJhdXRvXCJ9fSxZdyksVXc9Uyh7Ym91bmRhcnlHYXA6WzAsMF0sYXhpc0xpbmU6e3Nob3c6XCJhdXRvXCJ9LGF4aXNUaWNrOntzaG93OlwiYXV0b1wifSxzcGxpdE51bWJlcjo1LG1pbm9yVGljazp7c2hvdzohMSxzcGxpdE51bWJlcjo1LGxlbmd0aDozLGxpbmVTdHlsZTp7fX0sbWlub3JTcGxpdExpbmU6e3Nob3c6ITEsbGluZVN0eWxlOntjb2xvcjpcIiNGNEY3RkRcIix3aWR0aDoxfX19LFl3KSxadz17Y2F0ZWdvcnk6WHcsdmFsdWU6VXcsdGltZTpTKHtzY2FsZTohMCxzcGxpdE51bWJlcjo2LGF4aXNMYWJlbDp7c2hvd01pbkxhYmVsOiExLHNob3dNYXhMYWJlbDohMSxyaWNoOntwcmltYXJ5Ontmb250V2VpZ2h0OlwiYm9sZFwifX19LHNwbGl0TGluZTp7c2hvdzohMX19LFV3KSxsb2c6VCh7c2NhbGU6ITAsbG9nQmFzZToxMH0sVXcpfSxqdz17dmFsdWU6MSxjYXRlZ29yeToxLHRpbWU6MSxsb2c6MX07ZnVuY3Rpb24gcXcodCxlLGkscil7UChqdywoZnVuY3Rpb24obyxhKXt2YXIgcz1TKFMoe30sWndbYV0sITApLHIsITApLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe2Zvcih2YXIgbj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ldPWFyZ3VtZW50c1tpXTt2YXIgcj10LmFwcGx5KHRoaXMsbil8fHRoaXM7cmV0dXJuIHIudHlwZT1lK1wiQXhpcy5cIithLHJ9cmV0dXJuIG4oaSx0KSxpLnByb3RvdHlwZS5tZXJnZURlZmF1bHRBbmRUaGVtZT1mdW5jdGlvbih0LGUpe3ZhciBuPUxjKHRoaXMpLGk9bj9QYyh0KTp7fTtTKHQsZS5nZXRUaGVtZSgpLmdldChhK1wiQXhpc1wiKSksUyh0LHRoaXMuZ2V0RGVmYXVsdE9wdGlvbigpKSx0LnR5cGU9S3codCksbiYma2ModCxpLG4pfSxpLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7XCJjYXRlZ29yeVwiPT09dGhpcy5vcHRpb24udHlwZSYmKHRoaXMuX19vcmRpbmFsTWV0YT1ZbS5jcmVhdGVCeUF4aXNNb2RlbCh0aGlzKSl9LGkucHJvdG90eXBlLmdldENhdGVnb3JpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247aWYoXCJjYXRlZ29yeVwiPT09ZS50eXBlKXJldHVybiB0P2UuZGF0YTp0aGlzLl9fb3JkaW5hbE1ldGEuY2F0ZWdvcmllc30saS5wcm90b3R5cGUuZ2V0T3JkaW5hbE1ldGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX29yZGluYWxNZXRhfSxpLnR5cGU9ZStcIkF4aXMuXCIrYSxpLmRlZmF1bHRPcHRpb249cyxpfShpKTt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwobCl9KSksdC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoZStcIkF4aXNcIixLdyl9ZnVuY3Rpb24gS3codCl7cmV0dXJuIHQudHlwZXx8KHQuZGF0YT9cImNhdGVnb3J5XCI6XCJ2YWx1ZVwiKX12YXIgJHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudHlwZT1cImNhcnRlc2lhblwiLHRoaXMuX2RpbUxpc3Q9W10sdGhpcy5fYXhlcz17fSx0aGlzLm5hbWU9dHx8XCJcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc1t0XX0sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVybiBPKHRoaXMuX2RpbUxpc3QsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9heGVzW3RdfSksdGhpcyl9LHQucHJvdG90eXBlLmdldEF4ZXNCeVNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0PXQudG9Mb3dlckNhc2UoKSxOKHRoaXMuZ2V0QXhlcygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2FsZS50eXBlPT09dH0pKX0sdC5wcm90b3R5cGUuYWRkQXhpcz1mdW5jdGlvbih0KXt2YXIgZT10LmRpbTt0aGlzLl9heGVzW2VdPXQsdGhpcy5fZGltTGlzdC5wdXNoKGUpfSx0fSgpLEp3PVtcInhcIixcInlcIl07ZnVuY3Rpb24gUXcodCl7cmV0dXJuXCJpbnRlcnZhbFwiPT09dC50eXBlfHxcInRpbWVcIj09PXQudHlwZX12YXIgdFM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPVwiY2FydGVzaWFuMmRcIixlLmRpbWVuc2lvbnM9SncsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNhbGNBZmZpbmVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLl90cmFuc2Zvcm09dGhpcy5faW52VHJhbnNmb3JtPW51bGw7dmFyIHQ9dGhpcy5nZXRBeGlzKFwieFwiKS5zY2FsZSxlPXRoaXMuZ2V0QXhpcyhcInlcIikuc2NhbGU7aWYoUXcodCkmJlF3KGUpKXt2YXIgbj10LmdldEV4dGVudCgpLGk9ZS5nZXRFeHRlbnQoKSxyPXRoaXMuZGF0YVRvUG9pbnQoW25bMF0saVswXV0pLG89dGhpcy5kYXRhVG9Qb2ludChbblsxXSxpWzFdXSksYT1uWzFdLW5bMF0scz1pWzFdLWlbMF07aWYoYSYmcyl7dmFyIGw9KG9bMF0tclswXSkvYSx1PShvWzFdLXJbMV0pL3MsaD1yWzBdLW5bMF0qbCxjPXJbMV0taVswXSp1LHA9dGhpcy5fdHJhbnNmb3JtPVtsLDAsMCx1LGgsY107dGhpcy5faW52VHJhbnNmb3JtPWJlKFtdLHApfX19LGUucHJvdG90eXBlLmdldEJhc2VBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXhlc0J5U2NhbGUoXCJvcmRpbmFsXCIpWzBdfHx0aGlzLmdldEF4ZXNCeVNjYWxlKFwidGltZVwiKVswXXx8dGhpcy5nZXRBeGlzKFwieFwiKX0sZS5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXhpcyhcInhcIiksbj10aGlzLmdldEF4aXMoXCJ5XCIpO3JldHVybiBlLmNvbnRhaW4oZS50b0xvY2FsQ29vcmQodFswXSkpJiZuLmNvbnRhaW4obi50b0xvY2FsQ29vcmQodFsxXSkpfSxlLnByb3RvdHlwZS5jb250YWluRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBeGlzKFwieFwiKS5jb250YWluRGF0YSh0WzBdKSYmdGhpcy5nZXRBeGlzKFwieVwiKS5jb250YWluRGF0YSh0WzFdKX0sZS5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlLG4pe249bnx8W107dmFyIGk9dFswXSxyPXRbMV07aWYodGhpcy5fdHJhbnNmb3JtJiZudWxsIT1pJiZpc0Zpbml0ZShpKSYmbnVsbCE9ciYmaXNGaW5pdGUocikpcmV0dXJuIFJ0KG4sdCx0aGlzLl90cmFuc2Zvcm0pO3ZhciBvPXRoaXMuZ2V0QXhpcyhcInhcIiksYT10aGlzLmdldEF4aXMoXCJ5XCIpO3JldHVybiBuWzBdPW8udG9HbG9iYWxDb29yZChvLmRhdGFUb0Nvb3JkKGkpKSxuWzFdPWEudG9HbG9iYWxDb29yZChhLmRhdGFUb0Nvb3JkKHIpKSxufSxlLnByb3RvdHlwZS5jbGFtcERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF4aXMoXCJ4XCIpLnNjYWxlLGk9dGhpcy5nZXRBeGlzKFwieVwiKS5zY2FsZSxyPW4uZ2V0RXh0ZW50KCksbz1pLmdldEV4dGVudCgpLGE9bi5wYXJzZSh0WzBdKSxzPWkucGFyc2UodFsxXSk7cmV0dXJuKGU9ZXx8W10pWzBdPU1hdGgubWluKE1hdGgubWF4KE1hdGgubWluKHJbMF0sclsxXSksYSksTWF0aC5tYXgoclswXSxyWzFdKSksZVsxXT1NYXRoLm1pbihNYXRoLm1heChNYXRoLm1pbihvWzBdLG9bMV0pLHMpLE1hdGgubWF4KG9bMF0sb1sxXSkpLGV9LGUucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQsZSl7aWYoZT1lfHxbXSx0aGlzLl9pbnZUcmFuc2Zvcm0pcmV0dXJuIFJ0KGUsdCx0aGlzLl9pbnZUcmFuc2Zvcm0pO3ZhciBuPXRoaXMuZ2V0QXhpcyhcInhcIiksaT10aGlzLmdldEF4aXMoXCJ5XCIpO3JldHVybiBlWzBdPW4uY29vcmRUb0RhdGEobi50b0xvY2FsQ29vcmQodFswXSkpLGVbMV09aS5jb29yZFRvRGF0YShpLnRvTG9jYWxDb29yZCh0WzFdKSksZX0sZS5wcm90b3R5cGUuZ2V0T3RoZXJBeGlzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEF4aXMoXCJ4XCI9PT10LmRpbT9cInlcIjpcInhcIil9LGUucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF4aXMoXCJ4XCIpLmdldEdsb2JhbEV4dGVudCgpLGU9dGhpcy5nZXRBeGlzKFwieVwiKS5nZXRHbG9iYWxFeHRlbnQoKSxuPU1hdGgubWluKHRbMF0sdFsxXSksaT1NYXRoLm1pbihlWzBdLGVbMV0pLHI9TWF0aC5tYXgodFswXSx0WzFdKS1uLG89TWF0aC5tYXgoZVswXSxlWzFdKS1pO3JldHVybiBuZXcgUm4obixpLHIsbyl9LGV9KCR3KSxlUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLGkpfHx0aGlzO3JldHVybiBhLmluZGV4PTAsYS50eXBlPXJ8fFwidmFsdWVcIixhLnBvc2l0aW9uPW98fFwiYm90dG9tXCIsYX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb247cmV0dXJuXCJ0b3BcIj09PXR8fFwiYm90dG9tXCI9PT10fSxlLnByb3RvdHlwZS5nZXRHbG9iYWxFeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4gZVswXT10aGlzLnRvR2xvYmFsQ29vcmQoZVswXSksZVsxXT10aGlzLnRvR2xvYmFsQ29vcmQoZVsxXSksdCYmZVswXT5lWzFdJiZlLnJldmVyc2UoKSxlfSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9EYXRhKHRoaXMudG9Mb2NhbENvb3JkKHRbXCJ4XCI9PT10aGlzLmRpbT8wOjFdKSxlKX0sZS5wcm90b3R5cGUuc2V0Q2F0ZWdvcnlTb3J0SW5mbz1mdW5jdGlvbih0KXtpZihcImNhdGVnb3J5XCIhPT10aGlzLnR5cGUpcmV0dXJuITE7dGhpcy5tb2RlbC5vcHRpb24uY2F0ZWdvcnlTb3J0SW5mbz10LHRoaXMuc2NhbGUuc2V0U29ydEluZm8odCl9LGV9KHZ4KTtmdW5jdGlvbiBuUyh0LGUsbil7bj1ufHx7fTt2YXIgaT10LmNvb3JkaW5hdGVTeXN0ZW0scj1lLmF4aXMsbz17fSxhPXIuZ2V0QXhlc09uWmVyb09mKClbMF0scz1yLnBvc2l0aW9uLGw9YT9cIm9uWmVyb1wiOnMsdT1yLmRpbSxoPWkuZ2V0UmVjdCgpLGM9W2gueCxoLngraC53aWR0aCxoLnksaC55K2guaGVpZ2h0XSxwPXtsZWZ0OjAscmlnaHQ6MSx0b3A6MCxib3R0b206MSxvblplcm86Mn0sZD1lLmdldChcIm9mZnNldFwiKXx8MCxmPVwieFwiPT09dT9bY1syXS1kLGNbM10rZF06W2NbMF0tZCxjWzFdK2RdO2lmKGEpe3ZhciBnPWEudG9HbG9iYWxDb29yZChhLmRhdGFUb0Nvb3JkKDApKTtmW3Aub25aZXJvXT1NYXRoLm1heChNYXRoLm1pbihnLGZbMV0pLGZbMF0pfW8ucG9zaXRpb249W1wieVwiPT09dT9mW3BbbF1dOmNbMF0sXCJ4XCI9PT11P2ZbcFtsXV06Y1szXV0sby5yb3RhdGlvbj1NYXRoLlBJLzIqKFwieFwiPT09dT8wOjEpO28ubGFiZWxEaXJlY3Rpb249by50aWNrRGlyZWN0aW9uPW8ubmFtZURpcmVjdGlvbj17dG9wOi0xLGJvdHRvbToxLGxlZnQ6LTEscmlnaHQ6MX1bc10sby5sYWJlbE9mZnNldD1hP2ZbcFtzXV0tZltwLm9uWmVyb106MCxlLmdldChbXCJheGlzVGlja1wiLFwiaW5zaWRlXCJdKSYmKG8udGlja0RpcmVjdGlvbj0tby50aWNrRGlyZWN0aW9uKSxRKG4ubGFiZWxJbnNpZGUsZS5nZXQoW1wiYXhpc0xhYmVsXCIsXCJpbnNpZGVcIl0pKSYmKG8ubGFiZWxEaXJlY3Rpb249LW8ubGFiZWxEaXJlY3Rpb24pO3ZhciB5PWUuZ2V0KFtcImF4aXNMYWJlbFwiLFwicm90YXRlXCJdKTtyZXR1cm4gby5sYWJlbFJvdGF0ZT1cInRvcFwiPT09bD8teTp5LG8uejI9MSxvfWZ1bmN0aW9uIGlTKHQpe3JldHVyblwiY2FydGVzaWFuMmRcIj09PXQuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKX1mdW5jdGlvbiByUyh0KXt2YXIgZT17eEF4aXNNb2RlbDpudWxsLHlBeGlzTW9kZWw6bnVsbH07cmV0dXJuIFAoZSwoZnVuY3Rpb24obixpKXt2YXIgcj1pLnJlcGxhY2UoL01vZGVsJC8sXCJcIiksbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMocixPcikubW9kZWxzWzBdO2VbaV09b30pKSxlfXZhciBvUz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT1cImdyaWRcIix0aGlzLl9jb29yZHNNYXA9e30sdGhpcy5fY29vcmRzTGlzdD1bXSx0aGlzLl9heGVzTWFwPXt9LHRoaXMuX2F4ZXNMaXN0PVtdLHRoaXMuYXhpc1BvaW50ZXJFbmFibGVkPSEwLHRoaXMuZGltZW5zaW9ucz1Kdyx0aGlzLl9pbml0Q2FydGVzaWFuKHQsZSxuKSx0aGlzLm1vZGVsPXR9cmV0dXJuIHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fYXhlc01hcDt0aGlzLl91cGRhdGVTY2FsZSh0LHRoaXMubW9kZWwpLFAobi54LChmdW5jdGlvbih0KXtGXyh0LnNjYWxlLHQubW9kZWwpfSkpLFAobi55LChmdW5jdGlvbih0KXtGXyh0LnNjYWxlLHQubW9kZWwpfSkpO3ZhciBpPXt9O1Aobi54LChmdW5jdGlvbih0KXtzUyhuLFwieVwiLHQsaSl9KSksUChuLnksKGZ1bmN0aW9uKHQpe3NTKG4sXCJ4XCIsdCxpKX0pKSx0aGlzLnJlc2l6ZSh0aGlzLm1vZGVsLGUpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkscj0hbiYmdC5nZXQoXCJjb250YWluTGFiZWxcIiksbz1BYyhpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KTt0aGlzLl9yZWN0PW87dmFyIGE9dGhpcy5fYXhlc0xpc3Q7ZnVuY3Rpb24gcygpe1AoYSwoZnVuY3Rpb24odCl7dmFyIGU9dC5pc0hvcml6b250YWwoKSxuPWU/WzAsby53aWR0aF06WzAsby5oZWlnaHRdLGk9dC5pbnZlcnNlPzE6MDt0LnNldEV4dGVudChuW2ldLG5bMS1pXSksZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEV4dGVudCgpLGk9blswXStuWzFdO3QudG9HbG9iYWxDb29yZD1cInhcIj09PXQuZGltP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBpLXQrZX0sdC50b0xvY2FsQ29vcmQ9XCJ4XCI9PT10LmRpbT9mdW5jdGlvbih0KXtyZXR1cm4gdC1lfTpmdW5jdGlvbih0KXtyZXR1cm4gaS10K2V9fSh0LGU/by54Om8ueSl9KSl9cygpLHImJihQKGEsKGZ1bmN0aW9uKHQpe2lmKCF0Lm1vZGVsLmdldChbXCJheGlzTGFiZWxcIixcImluc2lkZVwiXSkpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQubW9kZWwsbj10LnNjYWxlO2lmKGUuZ2V0KFtcImF4aXNMYWJlbFwiLFwic2hvd1wiXSkmJiFuLmlzQmxhbmsoKSl7dmFyIGkscixvPW4uZ2V0RXh0ZW50KCk7cj1uIGluc3RhbmNlb2YgUW0/bi5jb3VudCgpOihpPW4uZ2V0VGlja3MoKSkubGVuZ3RoO3ZhciBhLHM9dC5nZXRMYWJlbE1vZGVsKCksbD1IXyh0KSx1PTE7cj40MCYmKHU9TWF0aC5jZWlsKHIvNDApKTtmb3IodmFyIGg9MDtoPHI7aCs9dSl7dmFyIGM9bChpP2lbaF06e3ZhbHVlOm9bMF0raH0saCkscD1ZXyhzLmdldFRleHRSZWN0KGMpLHMuZ2V0KFwicm90YXRlXCIpfHwwKTthP2EudW5pb24ocCk6YT1wfXJldHVybiBhfX0odCk7aWYoZSl7dmFyIG49dC5pc0hvcml6b250YWwoKT9cImhlaWdodFwiOlwid2lkdGhcIixpPXQubW9kZWwuZ2V0KFtcImF4aXNMYWJlbFwiLFwibWFyZ2luXCJdKTtvW25dLT1lW25dK2ksXCJ0b3BcIj09PXQucG9zaXRpb24/by55Kz1lLmhlaWdodCtpOlwibGVmdFwiPT09dC5wb3NpdGlvbiYmKG8ueCs9ZS53aWR0aCtpKX19fSkpLHMoKSksUCh0aGlzLl9jb29yZHNMaXN0LChmdW5jdGlvbih0KXt0LmNhbGNBZmZpbmVUcmFuc2Zvcm0oKX0pKX0sdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2F4ZXNNYXBbdF07aWYobnVsbCE9bilyZXR1cm4gbltlfHwwXX0sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9heGVzTGlzdC5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRDYXJ0ZXNpYW49ZnVuY3Rpb24odCxlKXtpZihudWxsIT10JiZudWxsIT1lKXt2YXIgbj1cInhcIit0K1wieVwiK2U7cmV0dXJuIHRoaXMuX2Nvb3Jkc01hcFtuXX1YKHQpJiYoZT10LnlBeGlzSW5kZXgsdD10LnhBeGlzSW5kZXgpO2Zvcih2YXIgaT0wLHI9dGhpcy5fY29vcmRzTGlzdDtpPHIubGVuZ3RoO2krKylpZihyW2ldLmdldEF4aXMoXCJ4XCIpLmluZGV4PT09dHx8cltpXS5nZXRBeGlzKFwieVwiKS5pbmRleD09PWUpcmV0dXJuIHJbaV19LHQucHJvdG90eXBlLmdldENhcnRlc2lhbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRzTGlzdC5zbGljZSgpfSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fZmluZENvbnZlcnRUYXJnZXQoZSk7cmV0dXJuIGkuY2FydGVzaWFuP2kuY2FydGVzaWFuLmRhdGFUb1BvaW50KG4pOmkuYXhpcz9pLmF4aXMudG9HbG9iYWxDb29yZChpLmF4aXMuZGF0YVRvQ29vcmQobikpOm51bGx9LHQucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2ZpbmRDb252ZXJ0VGFyZ2V0KGUpO3JldHVybiBpLmNhcnRlc2lhbj9pLmNhcnRlc2lhbi5wb2ludFRvRGF0YShuKTppLmF4aXM/aS5heGlzLmNvb3JkVG9EYXRhKGkuYXhpcy50b0xvY2FsQ29vcmQobikpOm51bGx9LHQucHJvdG90eXBlLl9maW5kQ29udmVydFRhcmdldD1mdW5jdGlvbih0KXt2YXIgZSxuLGk9dC5zZXJpZXNNb2RlbCxyPXQueEF4aXNNb2RlbHx8aSYmaS5nZXRSZWZlcnJpbmdDb21wb25lbnRzKFwieEF4aXNcIixPcikubW9kZWxzWzBdLG89dC55QXhpc01vZGVsfHxpJiZpLmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJ5QXhpc1wiLE9yKS5tb2RlbHNbMF0sYT10LmdyaWRNb2RlbCxzPXRoaXMuX2Nvb3Jkc0xpc3Q7aWYoaSlBKHMsZT1pLmNvb3JkaW5hdGVTeXN0ZW0pPDAmJihlPW51bGwpO2Vsc2UgaWYociYmbyllPXRoaXMuZ2V0Q2FydGVzaWFuKHIuY29tcG9uZW50SW5kZXgsby5jb21wb25lbnRJbmRleCk7ZWxzZSBpZihyKW49dGhpcy5nZXRBeGlzKFwieFwiLHIuY29tcG9uZW50SW5kZXgpO2Vsc2UgaWYobyluPXRoaXMuZ2V0QXhpcyhcInlcIixvLmNvbXBvbmVudEluZGV4KTtlbHNlIGlmKGEpe2EuY29vcmRpbmF0ZVN5c3RlbT09PXRoaXMmJihlPXRoaXMuX2Nvb3Jkc0xpc3RbMF0pfXJldHVybntjYXJ0ZXNpYW46ZSxheGlzOm59fSx0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29vcmRzTGlzdFswXTtpZihlKXJldHVybiBlLmNvbnRhaW5Qb2ludCh0KX0sdC5wcm90b3R5cGUuX2luaXRDYXJ0ZXNpYW49ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10aGlzLG89e2xlZnQ6ITEscmlnaHQ6ITEsdG9wOiExLGJvdHRvbTohMX0sYT17eDp7fSx5Ont9fSxzPXt4OjAseTowfTtpZihlLmVhY2hDb21wb25lbnQoXCJ4QXhpc1wiLGwoXCJ4XCIpLHRoaXMpLGUuZWFjaENvbXBvbmVudChcInlBeGlzXCIsbChcInlcIiksdGhpcyksIXMueHx8IXMueSlyZXR1cm4gdGhpcy5fYXhlc01hcD17fSx2b2lkKHRoaXMuX2F4ZXNMaXN0PVtdKTtmdW5jdGlvbiBsKGUpe3JldHVybiBmdW5jdGlvbihuLGkpe2lmKGFTKG4sdCkpe3ZhciBsPW4uZ2V0KFwicG9zaXRpb25cIik7XCJ4XCI9PT1lP1widG9wXCIhPT1sJiZcImJvdHRvbVwiIT09bCYmKGw9by5ib3R0b20/XCJ0b3BcIjpcImJvdHRvbVwiKTpcImxlZnRcIiE9PWwmJlwicmlnaHRcIiE9PWwmJihsPW8ubGVmdD9cInJpZ2h0XCI6XCJsZWZ0XCIpLG9bbF09ITA7dmFyIHU9bmV3IGVTKGUsR18obiksWzAsMF0sbi5nZXQoXCJ0eXBlXCIpLGwpLGg9XCJjYXRlZ29yeVwiPT09dS50eXBlO3Uub25CYW5kPWgmJm4uZ2V0KFwiYm91bmRhcnlHYXBcIiksdS5pbnZlcnNlPW4uZ2V0KFwiaW52ZXJzZVwiKSxuLmF4aXM9dSx1Lm1vZGVsPW4sdS5ncmlkPXIsdS5pbmRleD1pLHIuX2F4ZXNMaXN0LnB1c2godSksYVtlXVtpXT11LHNbZV0rK319fXRoaXMuX2F4ZXNNYXA9YSxQKGEueCwoZnVuY3Rpb24oZSxuKXtQKGEueSwoZnVuY3Rpb24ocixvKXt2YXIgYT1cInhcIituK1wieVwiK28scz1uZXcgdFMoYSk7cy5tYXN0ZXI9aSxzLm1vZGVsPXQsaS5fY29vcmRzTWFwW2FdPXMsaS5fY29vcmRzTGlzdC5wdXNoKHMpLHMuYWRkQXhpcyhlKSxzLmFkZEF4aXMocil9KSl9KSl9LHQucHJvdG90eXBlLl91cGRhdGVTY2FsZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtQKFpfKHQsZS5kaW0pLChmdW5jdGlvbihuKXtlLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEodCxuKX0pKX1QKHRoaXMuX2F4ZXNMaXN0LChmdW5jdGlvbih0KXtpZih0LnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCksXCJjYXRlZ29yeVwiPT09dC50eXBlKXt2YXIgZT10Lm1vZGVsLmdldChcImNhdGVnb3J5U29ydEluZm9cIik7dC5zY2FsZS5zZXRTb3J0SW5mbyhlKX19KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZihpUyh0KSl7dmFyIGk9clModCkscj1pLnhBeGlzTW9kZWwsbz1pLnlBeGlzTW9kZWw7aWYoIWFTKHIsZSl8fCFhUyhvLGUpKXJldHVybjt2YXIgYT10aGlzLmdldENhcnRlc2lhbihyLmNvbXBvbmVudEluZGV4LG8uY29tcG9uZW50SW5kZXgpLHM9dC5nZXREYXRhKCksbD1hLmdldEF4aXMoXCJ4XCIpLHU9YS5nZXRBeGlzKFwieVwiKTtcImxpc3RcIj09PXMudHlwZSYmKG4ocyxsKSxuKHMsdSkpfX0pLHRoaXMpfSx0LnByb3RvdHlwZS5nZXRUb29sdGlwQXhlcz1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPVtdO3JldHVybiBQKHRoaXMuZ2V0Q2FydGVzaWFucygpLChmdW5jdGlvbihpKXt2YXIgcj1udWxsIT10JiZcImF1dG9cIiE9PXQ/aS5nZXRBeGlzKHQpOmkuZ2V0QmFzZUF4aXMoKSxvPWkuZ2V0T3RoZXJBeGlzKHIpO0EoZSxyKTwwJiZlLnB1c2gociksQShuLG8pPDAmJm4ucHVzaChvKX0pKSx7YmFzZUF4ZXM6ZSxvdGhlckF4ZXM6bn19LHQuY3JlYXRlPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGUuZWFjaENvbXBvbmVudChcImdyaWRcIiwoZnVuY3Rpb24ocixvKXt2YXIgYT1uZXcgdChyLGUsbik7YS5uYW1lPVwiZ3JpZF9cIitvLGEucmVzaXplKHIsbiwhMCksci5jb29yZGluYXRlU3lzdGVtPWEsaS5wdXNoKGEpfSkpLGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYoaVModCkpe3ZhciBlPXJTKHQpLG49ZS54QXhpc01vZGVsLGk9ZS55QXhpc01vZGVsLHI9bi5nZXRDb29yZFN5c01vZGVsKCk7MDt2YXIgbz1yLmNvb3JkaW5hdGVTeXN0ZW07dC5jb29yZGluYXRlU3lzdGVtPW8uZ2V0Q2FydGVzaWFuKG4uY29tcG9uZW50SW5kZXgsaS5jb21wb25lbnRJbmRleCl9fSkpLGl9LHQuZGltZW5zaW9ucz1Kdyx0fSgpO2Z1bmN0aW9uIGFTKHQsZSl7cmV0dXJuIHQuZ2V0Q29vcmRTeXNNb2RlbCgpPT09ZX1mdW5jdGlvbiBzUyh0LGUsbixpKXtuLmdldEF4ZXNPblplcm9PZj1mdW5jdGlvbigpe3JldHVybiByP1tyXTpbXX07dmFyIHIsbz10W2VdLGE9bi5tb2RlbCxzPWEuZ2V0KFtcImF4aXNMaW5lXCIsXCJvblplcm9cIl0pLGw9YS5nZXQoW1wiYXhpc0xpbmVcIixcIm9uWmVyb0F4aXNJbmRleFwiXSk7aWYocyl7aWYobnVsbCE9bClsUyhvW2xdKSYmKHI9b1tsXSk7ZWxzZSBmb3IodmFyIHUgaW4gbylpZihvLmhhc093blByb3BlcnR5KHUpJiZsUyhvW3VdKSYmIWlbaChvW3VdKV0pe3I9b1t1XTticmVha31yJiYoaVtoKHIpXT0hMCl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5kaW0rXCJfXCIrdC5pbmRleH19ZnVuY3Rpb24gbFModCl7cmV0dXJuIHQmJlwiY2F0ZWdvcnlcIiE9PXQudHlwZSYmXCJ0aW1lXCIhPT10LnR5cGUmJmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NhbGUuZ2V0RXh0ZW50KCksbj1lWzBdLGk9ZVsxXTtyZXR1cm4hKG4+MCYmaT4wfHxuPDAmJmk8MCl9KHQpfXZhciB1Uz1NYXRoLlBJLGhTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZ3JvdXA9bmV3IHppLHRoaXMub3B0PWUsdGhpcy5heGlzTW9kZWw9dCxUKGUse2xhYmVsT2Zmc2V0OjAsbmFtZURpcmVjdGlvbjoxLHRpY2tEaXJlY3Rpb246MSxsYWJlbERpcmVjdGlvbjoxLHNpbGVudDohMCxoYW5kbGVBdXRvU2hvd246ZnVuY3Rpb24oKXtyZXR1cm4hMH19KTt2YXIgbj1uZXcgemkoe3g6ZS5wb3NpdGlvblswXSx5OmUucG9zaXRpb25bMV0scm90YXRpb246ZS5yb3RhdGlvbn0pO24udXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdHJhbnNmb3JtR3JvdXA9bn1yZXR1cm4gdC5wcm90b3R5cGUuaGFzQnVpbGRlcj1mdW5jdGlvbih0KXtyZXR1cm4hIWNTW3RdfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7Y1NbdF0odGhpcy5vcHQsdGhpcy5heGlzTW9kZWwsdGhpcy5ncm91cCx0aGlzLl90cmFuc2Zvcm1Hcm91cCl9LHQucHJvdG90eXBlLmdldEdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXB9LHQuaW5uZXJUZXh0TGF5b3V0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG89ZXIoZS10KTtyZXR1cm4gbnIobyk/KHI9bj4wP1widG9wXCI6XCJib3R0b21cIixpPVwiY2VudGVyXCIpOm5yKG8tdVMpPyhyPW4+MD9cImJvdHRvbVwiOlwidG9wXCIsaT1cImNlbnRlclwiKToocj1cIm1pZGRsZVwiLGk9bz4wJiZvPHVTP24+MD9cInJpZ2h0XCI6XCJsZWZ0XCI6bj4wP1wibGVmdFwiOlwicmlnaHRcIikse3JvdGF0aW9uOm8sdGV4dEFsaWduOmksdGV4dFZlcnRpY2FsQWxpZ246cn19LHQubWFrZUF4aXNFdmVudERhdGFCYXNlPWZ1bmN0aW9uKHQpe3ZhciBlPXtjb21wb25lbnRUeXBlOnQubWFpblR5cGUsY29tcG9uZW50SW5kZXg6dC5jb21wb25lbnRJbmRleH07cmV0dXJuIGVbdC5tYWluVHlwZStcIkluZGV4XCJdPXQuY29tcG9uZW50SW5kZXgsZX0sdC5pc0xhYmVsU2lsZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwidG9vbHRpcFwiKTtyZXR1cm4gdC5nZXQoXCJzaWxlbnRcIil8fCEodC5nZXQoXCJ0cmlnZ2VyRXZlbnRcIil8fGUmJmUuc2hvdyl9LHR9KCksY1M9e2F4aXNMaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuZ2V0KFtcImF4aXNMaW5lXCIsXCJzaG93XCJdKTtpZihcImF1dG9cIj09PXImJnQuaGFuZGxlQXV0b1Nob3duJiYocj10LmhhbmRsZUF1dG9TaG93bihcImF4aXNMaW5lXCIpKSxyKXt2YXIgbz1lLmF4aXMuZ2V0RXh0ZW50KCksYT1pLnRyYW5zZm9ybSxzPVtvWzBdLDBdLGw9W29bMV0sMF07YSYmKFJ0KHMscyxhKSxSdChsLGwsYSkpO3ZhciB1PUkoe2xpbmVDYXA6XCJyb3VuZFwifSxlLmdldE1vZGVsKFtcImF4aXNMaW5lXCIsXCJsaW5lU3R5bGVcIl0pLmdldExpbmVTdHlsZSgpKSxoPW5ldyB0dSh7c3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6c1swXSx5MTpzWzFdLHgyOmxbMF0seTI6bFsxXX0sc3R5bGU6dSxzdHJva2VDb250YWluVGhyZXNob2xkOnQuc3Ryb2tlQ29udGFpblRocmVzaG9sZHx8NSxzaWxlbnQ6ITAsejI6MX0pO2guYW5pZD1cImxpbmVcIixuLmFkZChoKTt2YXIgYz1lLmdldChbXCJheGlzTGluZVwiLFwic3ltYm9sXCJdKSxwPWUuZ2V0KFtcImF4aXNMaW5lXCIsXCJzeW1ib2xTaXplXCJdKSxkPWUuZ2V0KFtcImF4aXNMaW5lXCIsXCJzeW1ib2xPZmZzZXRcIl0pfHwwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBkJiYoZD1bZCxkXSksbnVsbCE9Yyl7XCJzdHJpbmdcIj09dHlwZW9mIGMmJihjPVtjLGNdKSxcInN0cmluZ1wiIT10eXBlb2YgcCYmXCJudW1iZXJcIiE9dHlwZW9mIHB8fChwPVtwLHBdKTt2YXIgZj1wWzBdLGc9cFsxXTtQKFt7cm90YXRlOnQucm90YXRpb24rTWF0aC5QSS8yLG9mZnNldDpkWzBdLHI6MH0se3JvdGF0ZTp0LnJvdGF0aW9uLU1hdGguUEkvMixvZmZzZXQ6ZFsxXSxyOk1hdGguc3FydCgoc1swXS1sWzBdKSooc1swXS1sWzBdKSsoc1sxXS1sWzFdKSooc1sxXS1sWzFdKSl9XSwoZnVuY3Rpb24oZSxpKXtpZihcIm5vbmVcIiE9PWNbaV0mJm51bGwhPWNbaV0pe3ZhciByPXV5KGNbaV0sLWYvMiwtZy8yLGYsZyx1LnN0cm9rZSwhMCksbz1lLnIrZS5vZmZzZXQ7ci5hdHRyKHtyb3RhdGlvbjplLnJvdGF0ZSx4OnNbMF0rbypNYXRoLmNvcyh0LnJvdGF0aW9uKSx5OnNbMV0tbypNYXRoLnNpbih0LnJvdGF0aW9uKSxzaWxlbnQ6ITAsejI6MTF9KSxuLmFkZChyKX19KSl9fX0sYXhpc1RpY2tMYWJlbDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMsbz1uLmdldE1vZGVsKFwiYXhpc1RpY2tcIiksYT1vLmdldChcInNob3dcIik7XCJhdXRvXCI9PT1hJiZpLmhhbmRsZUF1dG9TaG93biYmKGE9aS5oYW5kbGVBdXRvU2hvd24oXCJheGlzVGlja1wiKSk7aWYoIWF8fHIuc2NhbGUuaXNCbGFuaygpKXJldHVybjtmb3IodmFyIHM9by5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxsPWkudGlja0RpcmVjdGlvbipvLmdldChcImxlbmd0aFwiKSx1PWdTKHIuZ2V0VGlja3NDb29yZHMoKSxlLnRyYW5zZm9ybSxsLFQocy5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOm4uZ2V0KFtcImF4aXNMaW5lXCIsXCJsaW5lU3R5bGVcIixcImNvbG9yXCJdKX0pLFwidGlja3NcIiksaD0wO2g8dS5sZW5ndGg7aCsrKXQuYWRkKHVbaF0pO3JldHVybiB1fShuLGksZSx0KSxvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uYXhpcztpZighUShpLmF4aXNMYWJlbFNob3csbi5nZXQoW1wiYXhpc0xhYmVsXCIsXCJzaG93XCJdKSl8fHIuc2NhbGUuaXNCbGFuaygpKXJldHVybjt2YXIgbz1uLmdldE1vZGVsKFwiYXhpc0xhYmVsXCIpLGE9by5nZXQoXCJtYXJnaW5cIikscz1yLmdldFZpZXdMYWJlbHMoKSxsPShRKGkubGFiZWxSb3RhdGUsby5nZXQoXCJyb3RhdGVcIikpfHwwKSp1Uy8xODAsdT1oUy5pbm5lclRleHRMYXlvdXQoaS5yb3RhdGlvbixsLGkubGFiZWxEaXJlY3Rpb24pLGg9bi5nZXRDYXRlZ29yaWVzJiZuLmdldENhdGVnb3JpZXMoITApLGM9W10scD1oUy5pc0xhYmVsU2lsZW50KG4pLGQ9bi5nZXQoXCJ0cmlnZ2VyRXZlbnRcIik7cmV0dXJuIFAocywoZnVuY3Rpb24ocyxsKXt2YXIgZj1cIm9yZGluYWxcIj09PXIuc2NhbGUudHlwZT9yLnNjYWxlLmdldFJhd09yZGluYWxOdW1iZXIocy50aWNrVmFsdWUpOnMudGlja1ZhbHVlLGc9cy5mb3JtYXR0ZWRMYWJlbCx5PXMucmF3TGFiZWwsdj1vO2lmKGgmJmhbZl0pe3ZhciBtPWhbZl07WChtKSYmbS50ZXh0U3R5bGUmJih2PW5ldyBTaChtLnRleHRTdHlsZSxvLG4uZWNNb2RlbCkpfXZhciBfPXYuZ2V0VGV4dENvbG9yKCl8fG4uZ2V0KFtcImF4aXNMaW5lXCIsXCJsaW5lU3R5bGVcIixcImNvbG9yXCJdKSx4PXIuZGF0YVRvQ29vcmQoZiksYj1uZXcgbHMoe3g6eCx5OmkubGFiZWxPZmZzZXQraS5sYWJlbERpcmVjdGlvbiphLHJvdGF0aW9uOnUucm90YXRpb24sc2lsZW50OnAsejI6MTAsc3R5bGU6bmgodix7dGV4dDpnLGFsaWduOnYuZ2V0U2hhbGxvdyhcImFsaWduXCIsITApfHx1LnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnYuZ2V0U2hhbGxvdyhcInZlcnRpY2FsQWxpZ25cIiwhMCl8fHYuZ2V0U2hhbGxvdyhcImJhc2VsaW5lXCIsITApfHx1LnRleHRWZXJ0aWNhbEFsaWduLGZpbGw6XCJmdW5jdGlvblwiPT10eXBlb2YgXz9fKFwiY2F0ZWdvcnlcIj09PXIudHlwZT95OlwidmFsdWVcIj09PXIudHlwZT9mK1wiXCI6ZixsKTpffSl9KTtpZihiLmFuaWQ9XCJsYWJlbF9cIitmLGQpe3ZhciB3PWhTLm1ha2VBeGlzRXZlbnREYXRhQmFzZShuKTt3LnRhcmdldFR5cGU9XCJheGlzTGFiZWxcIix3LnZhbHVlPXkseXMoYikuZXZlbnREYXRhPXd9ZS5hZGQoYiksYi51cGRhdGVUcmFuc2Zvcm0oKSxjLnB1c2goYiksdC5hZGQoYiksYi5kZWNvbXBvc2VUcmFuc2Zvcm0oKX0pKSxjfShuLGksZSx0KTshZnVuY3Rpb24odCxlLG4pe2lmKFVfKHQuYXhpcykpcmV0dXJuO3ZhciBpPXQuZ2V0KFtcImF4aXNMYWJlbFwiLFwic2hvd01pbkxhYmVsXCJdKSxyPXQuZ2V0KFtcImF4aXNMYWJlbFwiLFwic2hvd01heExhYmVsXCJdKTtuPW58fFtdO3ZhciBvPShlPWV8fFtdKVswXSxhPWVbMV0scz1lW2UubGVuZ3RoLTFdLGw9ZVtlLmxlbmd0aC0yXSx1PW5bMF0saD1uWzFdLGM9bltuLmxlbmd0aC0xXSxwPW5bbi5sZW5ndGgtMl07ITE9PT1pPyhwUyhvKSxwUyh1KSk6ZFMobyxhKSYmKGk/KHBTKGEpLHBTKGgpKToocFMobykscFModSkpKTshMT09PXI/KHBTKHMpLHBTKGMpKTpkUyhsLHMpJiYocj8ocFMobCkscFMocCkpOihwUyhzKSxwUyhjKSkpfShlLG8sciksZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89bi5nZXRNb2RlbChcIm1pbm9yVGlja1wiKTtpZighby5nZXQoXCJzaG93XCIpfHxyLnNjYWxlLmlzQmxhbmsoKSlyZXR1cm47dmFyIGE9ci5nZXRNaW5vclRpY2tzQ29vcmRzKCk7aWYoIWEubGVuZ3RoKXJldHVybjtmb3IodmFyIHM9by5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxsPWkqby5nZXQoXCJsZW5ndGhcIiksdT1UKHMuZ2V0TGluZVN0eWxlKCksVChuLmdldE1vZGVsKFwiYXhpc1RpY2tcIikuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTpuLmdldChbXCJheGlzTGluZVwiLFwibGluZVN0eWxlXCIsXCJjb2xvclwiXSl9KSksaD0wO2g8YS5sZW5ndGg7aCsrKWZvcih2YXIgYz1nUyhhW2hdLGUudHJhbnNmb3JtLGwsdSxcIm1pbm9ydGlja3NfXCIraCkscD0wO3A8Yy5sZW5ndGg7cCsrKXQuYWRkKGNbcF0pfShuLGksZSx0LnRpY2tEaXJlY3Rpb24pfSxheGlzTmFtZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1RKHQuYXhpc05hbWUsZS5nZXQoXCJuYW1lXCIpKTtpZihyKXt2YXIgbyxhLHM9ZS5nZXQoXCJuYW1lTG9jYXRpb25cIiksbD10Lm5hbWVEaXJlY3Rpb24sdT1lLmdldE1vZGVsKFwibmFtZVRleHRTdHlsZVwiKSxoPWUuZ2V0KFwibmFtZUdhcFwiKXx8MCxjPWUuYXhpcy5nZXRFeHRlbnQoKSxwPWNbMF0+Y1sxXT8tMToxLGQ9W1wic3RhcnRcIj09PXM/Y1swXS1wKmg6XCJlbmRcIj09PXM/Y1sxXStwKmg6KGNbMF0rY1sxXSkvMixmUyhzKT90LmxhYmVsT2Zmc2V0K2wqaDowXSxmPWUuZ2V0KFwibmFtZVJvdGF0ZVwiKTtudWxsIT1mJiYoZj1mKnVTLzE4MCksZlMocyk/bz1oUy5pbm5lclRleHRMYXlvdXQodC5yb3RhdGlvbixudWxsIT1mP2Y6dC5yb3RhdGlvbixsKToobz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvLGE9ZXIobi10KSxzPWlbMF0+aVsxXSxsPVwic3RhcnRcIj09PWUmJiFzfHxcInN0YXJ0XCIhPT1lJiZzO25yKGEtdVMvMik/KG89bD9cImJvdHRvbVwiOlwidG9wXCIscj1cImNlbnRlclwiKTpucihhLTEuNSp1Uyk/KG89bD9cInRvcFwiOlwiYm90dG9tXCIscj1cImNlbnRlclwiKToobz1cIm1pZGRsZVwiLHI9YTwxLjUqdVMmJmE+dVMvMj9sP1wibGVmdFwiOlwicmlnaHRcIjpsP1wicmlnaHRcIjpcImxlZnRcIik7cmV0dXJue3JvdGF0aW9uOmEsdGV4dEFsaWduOnIsdGV4dFZlcnRpY2FsQWxpZ246b319KHQucm90YXRpb24scyxmfHwwLGMpLG51bGwhPShhPXQuYXhpc05hbWVBdmFpbGFibGVXaWR0aCkmJihhPU1hdGguYWJzKGEvTWF0aC5zaW4oby5yb3RhdGlvbikpLCFpc0Zpbml0ZShhKSYmKGE9bnVsbCkpKTt2YXIgZz11LmdldEZvbnQoKSx5PWUuZ2V0KFwibmFtZVRydW5jYXRlXCIsITApfHx7fSx2PXkuZWxsaXBzaXMsbT1RKHQubmFtZVRydW5jYXRlTWF4V2lkdGgseS5tYXhXaWR0aCxhKSxfPWUuZ2V0KFwidG9vbHRpcFwiLCEwKSx4PWUubWFpblR5cGUsYj17Y29tcG9uZW50VHlwZTp4LG5hbWU6ciwkdmFyczpbXCJuYW1lXCJdfTtiW3grXCJJbmRleFwiXT1lLmNvbXBvbmVudEluZGV4O3ZhciB3PW5ldyBscyh7eDpkWzBdLHk6ZFsxXSxyb3RhdGlvbjpvLnJvdGF0aW9uLHNpbGVudDpoUy5pc0xhYmVsU2lsZW50KGUpLHN0eWxlOm5oKHUse3RleHQ6cixmb250Omcsb3ZlcmZsb3c6XCJ0cnVuY2F0ZVwiLHdpZHRoOm0sZWxsaXBzaXM6dixmaWxsOnUuZ2V0VGV4dENvbG9yKCl8fGUuZ2V0KFtcImF4aXNMaW5lXCIsXCJsaW5lU3R5bGVcIixcImNvbG9yXCJdKSxhbGlnbjp1LmdldChcImFsaWduXCIpfHxvLnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnUuZ2V0KFwidmVydGljYWxBbGlnblwiKXx8by50ZXh0VmVydGljYWxBbGlnbn0pLHoyOjF9KTtpZih3LnRvb2x0aXA9XyYmXy5zaG93P0koe2NvbnRlbnQ6cixmb3JtYXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZm9ybWF0dGVyUGFyYW1zOmJ9LF8pOm51bGwsdy5fX2Z1bGxUZXh0PXIsdy5hbmlkPVwibmFtZVwiLGUuZ2V0KFwidHJpZ2dlckV2ZW50XCIpKXt2YXIgUz1oUy5tYWtlQXhpc0V2ZW50RGF0YUJhc2UoZSk7Uy50YXJnZXRUeXBlPVwiYXhpc05hbWVcIixTLm5hbWU9cix5cyh3KS5ldmVudERhdGE9U31pLmFkZCh3KSx3LnVwZGF0ZVRyYW5zZm9ybSgpLG4uYWRkKHcpLHcuZGVjb21wb3NlVHJhbnNmb3JtKCl9fX07ZnVuY3Rpb24gcFModCl7dCYmKHQuaWdub3JlPSEwKX1mdW5jdGlvbiBkUyh0LGUpe3ZhciBuPXQmJnQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKSxpPWUmJmUuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtpZihuJiZpKXt2YXIgcj1nZShbXSk7cmV0dXJuIF9lKHIsciwtdC5yb3RhdGlvbiksbi5hcHBseVRyYW5zZm9ybSh2ZShbXSxyLHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSkpLGkuYXBwbHlUcmFuc2Zvcm0odmUoW10scixlLmdldExvY2FsVHJhbnNmb3JtKCkpKSxuLmludGVyc2VjdChpKX19ZnVuY3Rpb24gZlModCl7cmV0dXJuXCJtaWRkbGVcIj09PXR8fFwiY2VudGVyXCI9PT10fWZ1bmN0aW9uIGdTKHQsZSxuLGkscil7Zm9yKHZhciBvPVtdLGE9W10scz1bXSxsPTA7bDx0Lmxlbmd0aDtsKyspe3ZhciB1PXRbbF0uY29vcmQ7YVswXT11LGFbMV09MCxzWzBdPXUsc1sxXT1uLGUmJihSdChhLGEsZSksUnQocyxzLGUpKTt2YXIgaD1uZXcgdHUoe3N1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6e3gxOmFbMF0seTE6YVsxXSx4MjpzWzBdLHkyOnNbMV19LHN0eWxlOmksejI6MixhdXRvQmF0Y2g6ITAsc2lsZW50OiEwfSk7aC5hbmlkPXIrXCJfXCIrdFtsXS50aWNrVmFsdWUsby5wdXNoKGgpfXJldHVybiBvfWZ1bmN0aW9uIHlTKHQsZSl7dmFyIG49e2F4ZXNJbmZvOnt9LHNlcmllc0ludm9sdmVkOiExLGNvb3JkU3lzQXhlc0luZm86e30sY29vcmRTeXNNYXA6e319O3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnQoXCJ0b29sdGlwXCIpLHI9ZS5nZXRDb21wb25lbnQoXCJheGlzUG9pbnRlclwiKSxvPXIuZ2V0KFwibGlua1wiLCEwKXx8W10sYT1bXTtQKG4uZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKSwoZnVuY3Rpb24obil7aWYobi5heGlzUG9pbnRlckVuYWJsZWQpe3ZhciBzPWJTKG4ubW9kZWwpLGw9dC5jb29yZFN5c0F4ZXNJbmZvW3NdPXt9O3QuY29vcmRTeXNNYXBbc109bjt2YXIgdT1uLm1vZGVsLmdldE1vZGVsKFwidG9vbHRpcFwiLGkpO2lmKFAobi5nZXRBeGVzKCksVihkLCExLG51bGwpKSxuLmdldFRvb2x0aXBBeGVzJiZpJiZ1LmdldChcInNob3dcIikpe3ZhciBoPVwiYXhpc1wiPT09dS5nZXQoXCJ0cmlnZ2VyXCIpLGM9XCJjcm9zc1wiPT09dS5nZXQoW1wiYXhpc1BvaW50ZXJcIixcInR5cGVcIl0pLHA9bi5nZXRUb29sdGlwQXhlcyh1LmdldChbXCJheGlzUG9pbnRlclwiLFwiYXhpc1wiXSkpOyhofHxjKSYmUChwLmJhc2VBeGVzLFYoZCwhY3x8XCJjcm9zc1wiLGgpKSxjJiZQKHAub3RoZXJBeGVzLFYoZCxcImNyb3NzXCIsITEpKX19ZnVuY3Rpb24gZChpLHMsaCl7dmFyIGM9aC5tb2RlbC5nZXRNb2RlbChcImF4aXNQb2ludGVyXCIscikscD1jLmdldChcInNob3dcIik7aWYocCYmKFwiYXV0b1wiIT09cHx8aXx8eFMoYykpKXtudWxsPT1zJiYocz1jLmdldChcInRyaWdnZXJUb29sdGlwXCIpKTt2YXIgZD0oYz1pP2Z1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKFwiYXhpc1BvaW50ZXJcIikscz17fTtQKFtcInR5cGVcIixcInNuYXBcIixcImxpbmVTdHlsZVwiLFwic2hhZG93U3R5bGVcIixcImxhYmVsXCIsXCJhbmltYXRpb25cIixcImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlXCIsXCJhbmltYXRpb25FYXNpbmdVcGRhdGVcIixcInpcIl0sKGZ1bmN0aW9uKHQpe3NbdF09dyhhLmdldCh0KSl9KSkscy5zbmFwPVwiY2F0ZWdvcnlcIiE9PXQudHlwZSYmISFvLFwiY3Jvc3NcIj09PWEuZ2V0KFwidHlwZVwiKSYmKHMudHlwZT1cImxpbmVcIik7dmFyIGw9cy5sYWJlbHx8KHMubGFiZWw9e30pO2lmKG51bGw9PWwuc2hvdyYmKGwuc2hvdz0hMSksXCJjcm9zc1wiPT09cil7dmFyIHU9YS5nZXQoW1wibGFiZWxcIixcInNob3dcIl0pO2lmKGwuc2hvdz1udWxsPT11fHx1LCFvKXt2YXIgaD1zLmxpbmVTdHlsZT1hLmdldChcImNyb3NzU3R5bGVcIik7aCYmVChsLGgudGV4dFN0eWxlKX19cmV0dXJuIHQubW9kZWwuZ2V0TW9kZWwoXCJheGlzUG9pbnRlclwiLG5ldyBTaChzLG4saSkpfShoLHUscixlLGkscyk6YykuZ2V0KFwic25hcFwiKSxmPWJTKGgubW9kZWwpLGc9c3x8ZHx8XCJjYXRlZ29yeVwiPT09aC50eXBlLHk9dC5heGVzSW5mb1tmXT17a2V5OmYsYXhpczpoLGNvb3JkU3lzOm4sYXhpc1BvaW50ZXJNb2RlbDpjLHRyaWdnZXJUb29sdGlwOnMsaW52b2x2ZVNlcmllczpnLHNuYXA6ZCx1c2VIYW5kbGU6eFMoYyksc2VyaWVzTW9kZWxzOltdLGxpbmtHcm91cDpudWxsfTtsW2ZdPXksdC5zZXJpZXNJbnZvbHZlZD10LnNlcmllc0ludm9sdmVkfHxnO3ZhciB2PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUubW9kZWwsaT1lLmRpbSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl18fHt9O2lmKHZTKG9baStcIkF4aXNJZFwiXSxuLmlkKXx8dlMob1tpK1wiQXhpc0luZGV4XCJdLG4uY29tcG9uZW50SW5kZXgpfHx2UyhvW2krXCJBeGlzTmFtZVwiXSxuLm5hbWUpKXJldHVybiByfX0obyxoKTtpZihudWxsIT12KXt2YXIgbT1hW3ZdfHwoYVt2XT17YXhlc0luZm86e319KTttLmF4ZXNJbmZvW2ZdPXksbS5tYXBwZXI9b1t2XS5tYXBwZXIseS5saW5rR3JvdXA9bX19fX0pKX0obix0LGUpLG4uc2VyaWVzSW52b2x2ZWQmJmZ1bmN0aW9uKHQsZSl7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW0saT1lLmdldChbXCJ0b29sdGlwXCIsXCJ0cmlnZ2VyXCJdLCEwKSxyPWUuZ2V0KFtcInRvb2x0aXBcIixcInNob3dcIl0sITApO24mJlwibm9uZVwiIT09aSYmITEhPT1pJiZcIml0ZW1cIiE9PWkmJiExIT09ciYmITEhPT1lLmdldChbXCJheGlzUG9pbnRlclwiLFwic2hvd1wiXSwhMCkmJlAodC5jb29yZFN5c0F4ZXNJbmZvW2JTKG4ubW9kZWwpXSwoZnVuY3Rpb24odCl7dmFyIGk9dC5heGlzO24uZ2V0QXhpcyhpLmRpbSk9PT1pJiYodC5zZXJpZXNNb2RlbHMucHVzaChlKSxudWxsPT10LnNlcmllc0RhdGFDb3VudCYmKHQuc2VyaWVzRGF0YUNvdW50PTApLHQuc2VyaWVzRGF0YUNvdW50Kz1lLmdldERhdGEoKS5jb3VudCgpKX0pKX0pKX0obix0KSxufWZ1bmN0aW9uIHZTKHQsZSl7cmV0dXJuXCJhbGxcIj09PXR8fEYodCkmJkEodCxlKT49MHx8dD09PWV9ZnVuY3Rpb24gbVModCl7dmFyIGU9X1ModCk7aWYoZSl7dmFyIG49ZS5heGlzUG9pbnRlck1vZGVsLGk9ZS5heGlzLnNjYWxlLHI9bi5vcHRpb24sbz1uLmdldChcInN0YXR1c1wiKSxhPW4uZ2V0KFwidmFsdWVcIik7bnVsbCE9YSYmKGE9aS5wYXJzZShhKSk7dmFyIHM9eFMobik7bnVsbD09byYmKHIuc3RhdHVzPXM/XCJzaG93XCI6XCJoaWRlXCIpO3ZhciBsPWkuZ2V0RXh0ZW50KCkuc2xpY2UoKTtsWzBdPmxbMV0mJmwucmV2ZXJzZSgpLChudWxsPT1hfHxhPmxbMV0pJiYoYT1sWzFdKSxhPGxbMF0mJihhPWxbMF0pLHIudmFsdWU9YSxzJiYoci5zdGF0dXM9ZS5heGlzLnNjYWxlLmlzQmxhbmsoKT9cImhpZGVcIjpcInNob3dcIil9fWZ1bmN0aW9uIF9TKHQpe3ZhciBlPSh0LmVjTW9kZWwuZ2V0Q29tcG9uZW50KFwiYXhpc1BvaW50ZXJcIil8fHt9KS5jb29yZFN5c0F4ZXNJbmZvO3JldHVybiBlJiZlLmF4ZXNJbmZvW2JTKHQpXX1mdW5jdGlvbiB4Uyh0KXtyZXR1cm4hIXQuZ2V0KFtcImhhbmRsZVwiLFwic2hvd1wiXSl9ZnVuY3Rpb24gYlModCl7cmV0dXJuIHQudHlwZStcInx8XCIrdC5pZH12YXIgd1M9e30sU1M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsbixpLHIpe3RoaXMuYXhpc1BvaW50ZXJDbGFzcyYmbVMoZSksdC5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9kb1VwZGF0ZUF4aXNQb2ludGVyQ2xhc3MoZSxpLCEwKX0sZS5wcm90b3R5cGUudXBkYXRlQXhpc1BvaW50ZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fZG9VcGRhdGVBeGlzUG9pbnRlckNsYXNzKHQsbiwhMSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2F4aXNQb2ludGVyO24mJm4ucmVtb3ZlKGUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUsbil7dGhpcy5fZGlzcG9zZUF4aXNQb2ludGVyKG4pLHQucHJvdG90eXBlLmRpc3Bvc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5fZG9VcGRhdGVBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQsbixpKXt2YXIgcj1lLmdldEF4aXNQb2ludGVyQ2xhc3ModGhpcy5heGlzUG9pbnRlckNsYXNzKTtpZihyKXt2YXIgbz1mdW5jdGlvbih0KXt2YXIgZT1fUyh0KTtyZXR1cm4gZSYmZS5heGlzUG9pbnRlck1vZGVsfSh0KTtvPyh0aGlzLl9heGlzUG9pbnRlcnx8KHRoaXMuX2F4aXNQb2ludGVyPW5ldyByKSkucmVuZGVyKHQsbyxuLGkpOnRoaXMuX2Rpc3Bvc2VBeGlzUG9pbnRlcihuKX19LGUucHJvdG90eXBlLl9kaXNwb3NlQXhpc1BvaW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5fYXhpc1BvaW50ZXImJnRoaXMuX2F4aXNQb2ludGVyLmRpc3Bvc2UodCksdGhpcy5fYXhpc1BvaW50ZXI9bnVsbH0sZS5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3M9ZnVuY3Rpb24odCxlKXt3U1t0XT1lfSxlLmdldEF4aXNQb2ludGVyQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJndTW3RdfSxlLnR5cGU9XCJheGlzXCIsZX0ocGYpLE1TPUxyKCk7ZnVuY3Rpb24gSVModCxlLG4saSl7dmFyIHI9bi5heGlzO2lmKCFyLnNjYWxlLmlzQmxhbmsoKSl7dmFyIG89bi5nZXRNb2RlbChcInNwbGl0QXJlYVwiKSxhPW8uZ2V0TW9kZWwoXCJhcmVhU3R5bGVcIikscz1hLmdldChcImNvbG9yXCIpLGw9aS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSx1PXIuZ2V0VGlja3NDb29yZHMoe3RpY2tNb2RlbDpvLGNsYW1wOiEwfSk7aWYodS5sZW5ndGgpe3ZhciBoPXMubGVuZ3RoLGM9TVModCkuc3BsaXRBcmVhQ29sb3JzLHA9aHQoKSxkPTA7aWYoYylmb3IodmFyIGY9MDtmPHUubGVuZ3RoO2YrKyl7dmFyIGc9Yy5nZXQodVtmXS50aWNrVmFsdWUpO2lmKG51bGwhPWcpe2Q9KGcrKGgtMSkqZiklaDticmVha319dmFyIHk9ci50b0dsb2JhbENvb3JkKHVbMF0uY29vcmQpLHY9YS5nZXRBcmVhU3R5bGUoKTtzPUYocyk/czpbc107Zm9yKGY9MTtmPHUubGVuZ3RoO2YrKyl7dmFyIG09ci50b0dsb2JhbENvb3JkKHVbZl0uY29vcmQpLF89dm9pZCAwLHg9dm9pZCAwLGI9dm9pZCAwLHc9dm9pZCAwO3IuaXNIb3Jpem9udGFsKCk/KF89eSx4PWwueSxiPW0tXyx3PWwuaGVpZ2h0LHk9XytiKTooXz1sLngseD15LGI9bC53aWR0aCx5PXgrKHc9bS14KSk7dmFyIFM9dVtmLTFdLnRpY2tWYWx1ZTtudWxsIT1TJiZwLnNldChTLGQpLGUuYWRkKG5ldyBvcyh7YW5pZDpudWxsIT1TP1wiYXJlYV9cIitTOm51bGwsc2hhcGU6e3g6Xyx5Ongsd2lkdGg6YixoZWlnaHQ6d30sc3R5bGU6VCh7ZmlsbDpzW2RdfSx2KSxhdXRvQmF0Y2g6ITAsc2lsZW50OiEwfSkpLGQ9KGQrMSklaH1NUyh0KS5zcGxpdEFyZWFDb2xvcnM9cH19fWZ1bmN0aW9uIFRTKHQpe01TKHQpLnNwbGl0QXJlYUNvbG9ycz1udWxsfXZhciBDUz1bXCJheGlzTGluZVwiLFwiYXhpc1RpY2tMYWJlbFwiLFwiYXhpc05hbWVcIl0sQVM9W1wic3BsaXRBcmVhXCIsXCJzcGxpdExpbmVcIixcIm1pbm9yU3BsaXRMaW5lXCJdLERTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPVwiQ2FydGVzaWFuQXhpc1BvaW50ZXJcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsbixpLHIpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIG89dGhpcy5fYXhpc0dyb3VwO2lmKHRoaXMuX2F4aXNHcm91cD1uZXcgemksdGhpcy5ncm91cC5hZGQodGhpcy5fYXhpc0dyb3VwKSxlLmdldChcInNob3dcIikpe3ZhciBhPWUuZ2V0Q29vcmRTeXNNb2RlbCgpLHM9blMoYSxlKSxsPW5ldyBoUyhlLEkoe2hhbmRsZUF1dG9TaG93bjpmdW5jdGlvbih0KXtmb3IodmFyIG49YS5jb29yZGluYXRlU3lzdGVtLmdldENhcnRlc2lhbnMoKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV0uZ2V0T3RoZXJBeGlzKGUuYXhpcykudHlwZTtpZihcInZhbHVlXCI9PT1yfHxcImxvZ1wiPT09cilyZXR1cm4hMH1yZXR1cm4hMX19LHMpKTtQKENTLGwuYWRkLGwpLHRoaXMuX2F4aXNHcm91cC5hZGQobC5nZXRHcm91cCgpKSxQKEFTLChmdW5jdGlvbih0KXtlLmdldChbdCxcInNob3dcIl0pJiZMU1t0XSh0aGlzLHRoaXMuX2F4aXNHcm91cCxlLGEpfSksdGhpcyksV3Uobyx0aGlzLl9heGlzR3JvdXAsZSksdC5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyxlLG4saSxyKX19LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe1RTKHRoaXMpfSxlLnR5cGU9XCJjYXJ0ZXNpYW5BeGlzXCIsZX0oU1MpLExTPXtzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzO2lmKCFyLnNjYWxlLmlzQmxhbmsoKSl7dmFyIG89bi5nZXRNb2RlbChcInNwbGl0TGluZVwiKSxhPW8uZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIikscz1hLmdldChcImNvbG9yXCIpO3M9RihzKT9zOltzXTtmb3IodmFyIGw9aS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSx1PXIuaXNIb3Jpem9udGFsKCksaD0wLGM9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm99KSxwPVtdLGQ9W10sZj1hLmdldExpbmVTdHlsZSgpLGc9MDtnPGMubGVuZ3RoO2crKyl7dmFyIHk9ci50b0dsb2JhbENvb3JkKGNbZ10uY29vcmQpO3U/KHBbMF09eSxwWzFdPWwueSxkWzBdPXksZFsxXT1sLnkrbC5oZWlnaHQpOihwWzBdPWwueCxwWzFdPXksZFswXT1sLngrbC53aWR0aCxkWzFdPXkpO3ZhciB2PWgrKyVzLmxlbmd0aCxtPWNbZ10udGlja1ZhbHVlO2UuYWRkKG5ldyB0dSh7YW5pZDpudWxsIT1tP1wibGluZV9cIitjW2ddLnRpY2tWYWx1ZTpudWxsLHN1YlBpeGVsT3B0aW1pemU6ITAsYXV0b0JhdGNoOiEwLHNoYXBlOnt4MTpwWzBdLHkxOnBbMV0seDI6ZFswXSx5MjpkWzFdfSxzdHlsZTpUKHtzdHJva2U6c1t2XX0sZiksc2lsZW50OiEwfSkpfX19LG1pbm9yU3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uYXhpcyxvPW4uZ2V0TW9kZWwoXCJtaW5vclNwbGl0TGluZVwiKS5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxhPWkuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCkscz1yLmlzSG9yaXpvbnRhbCgpLGw9ci5nZXRNaW5vclRpY2tzQ29vcmRzKCk7aWYobC5sZW5ndGgpZm9yKHZhciB1PVtdLGg9W10sYz1vLmdldExpbmVTdHlsZSgpLHA9MDtwPGwubGVuZ3RoO3ArKylmb3IodmFyIGQ9MDtkPGxbcF0ubGVuZ3RoO2QrKyl7dmFyIGY9ci50b0dsb2JhbENvb3JkKGxbcF1bZF0uY29vcmQpO3M/KHVbMF09Zix1WzFdPWEueSxoWzBdPWYsaFsxXT1hLnkrYS5oZWlnaHQpOih1WzBdPWEueCx1WzFdPWYsaFswXT1hLngrYS53aWR0aCxoWzFdPWYpLGUuYWRkKG5ldyB0dSh7YW5pZDpcIm1pbm9yX2xpbmVfXCIrbFtwXVtkXS50aWNrVmFsdWUsc3ViUGl4ZWxPcHRpbWl6ZTohMCxhdXRvQmF0Y2g6ITAsc2hhcGU6e3gxOnVbMF0seTE6dVsxXSx4MjpoWzBdLHkyOmhbMV19LHN0eWxlOmMsc2lsZW50OiEwfSkpfX0sc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSxuLGkpe0lTKHQsZSxuLGkpfX0sa1M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPVwieEF4aXNcIixlfShEUyksUFM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPWtTLnR5cGUsZX1yZXR1cm4gbihlLHQpLGUudHlwZT1cInlBeGlzXCIsZX0oRFMpLE9TPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT1cImdyaWRcIixlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldChcInNob3dcIikmJnRoaXMuZ3JvdXAuYWRkKG5ldyBvcyh7c2hhcGU6dC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzdHlsZTpUKHtmaWxsOnQuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpfSx0LmdldEl0ZW1TdHlsZSgpKSxzaWxlbnQ6ITAsejI6LTF9KSl9LGUudHlwZT1cImdyaWRcIixlfShwZiksUlM9e29mZnNldDowfTtmdW5jdGlvbiBOUyh0KXt0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhPUyksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKEh3KSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbShcImNhcnRlc2lhbjJkXCIsb1MpLHF3KHQsXCJ4XCIsV3csUlMpLHF3KHQsXCJ5XCIsV3csUlMpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGtTKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhQUyksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7dC54QXhpcyYmdC55QXhpcyYmIXQuZ3JpZCYmKHQuZ3JpZD17fSl9KSl9ZnVuY3Rpb24gRVModCl7dC5lYWNoU2VyaWVzQnlUeXBlKFwicmFkYXJcIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksbj1bXSxpPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihpKXt2YXIgcj1pLmdldEluZGljYXRvckF4ZXMoKTtQKHIsKGZ1bmN0aW9uKHQsbyl7ZS5lYWNoKGUubWFwRGltZW5zaW9uKHJbb10uZGltKSwoZnVuY3Rpb24odCxlKXtuW2VdPW5bZV18fFtdO3ZhciByPWkuZGF0YVRvUG9pbnQodCxvKTtuW2VdW29dPXpTKHIpP3I6QlMoaSl9KSl9KSksZS5lYWNoKChmdW5jdGlvbih0KXt2YXIgcj1FKG5bdF0sKGZ1bmN0aW9uKHQpe3JldHVybiB6Uyh0KX0pKXx8QlMoaSk7blt0XS5wdXNoKHIuc2xpY2UoKSksZS5zZXRJdGVtTGF5b3V0KHQsblt0XSl9KSl9fSkpfWZ1bmN0aW9uIHpTKHQpe3JldHVybiFpc05hTih0WzBdKSYmIWlzTmFOKHRbMV0pfWZ1bmN0aW9uIEJTKHQpe3JldHVyblt0LmN4LHQuY3ldfWZ1bmN0aW9uIFZTKHQpe3ZhciBlPXQucG9sYXI7aWYoZSl7RihlKXx8KGU9W2VdKTt2YXIgbj1bXTtQKGUsKGZ1bmN0aW9uKGUsaSl7ZS5pbmRpY2F0b3I/KGUudHlwZSYmIWUuc2hhcGUmJihlLnNoYXBlPWUudHlwZSksdC5yYWRhcj10LnJhZGFyfHxbXSxGKHQucmFkYXIpfHwodC5yYWRhcj1bdC5yYWRhcl0pLHQucmFkYXIucHVzaChlKSk6bi5wdXNoKGUpfSkpLHQucG9sYXI9bn1QKHQuc2VyaWVzLChmdW5jdGlvbih0KXt0JiZcInJhZGFyXCI9PT10LnR5cGUmJnQucG9sYXJJbmRleCYmKHQucmFkYXJJbmRleD10LnBvbGFySW5kZXgpfSkpfXZhciBGUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXRoaXMuZ3JvdXAsbz10LmdldERhdGEoKSxhPXRoaXMuX2RhdGE7ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPXQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sXCIpfHxcImNpcmNsZVwiO2lmKFwibm9uZVwiIT09bil7dmFyIGk9ZnVuY3Rpb24odCl7cmV0dXJuIEYodCl8fCh0PVsrdCwrdF0pLHR9KHQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sU2l6ZVwiKSkscj11eShuLC0xLC0xLDIsMiksbz10LmdldEl0ZW1WaXN1YWwoZSxcInN5bWJvbFJvdGF0ZVwiKXx8MDtyZXR1cm4gci5hdHRyKHtzdHlsZTp7c3Ryb2tlTm9TY2FsZTohMH0sejI6MTAwLHNjYWxlWDppWzBdLzIsc2NhbGVZOmlbMV0vMixyb3RhdGlvbjpvKk1hdGguUEkvMTgwfHwwfSkscn19ZnVuY3Rpb24gbChlLG4saSxyLG8sYSl7aS5yZW1vdmVBbGwoKTtmb3IodmFyIGw9MDtsPG4ubGVuZ3RoLTE7bCsrKXt2YXIgdT1zKHIsbyk7dSYmKHUuX19kaW1JZHg9bCxlW2xdPyh1LnNldFBvc2l0aW9uKGVbbF0pLEt1W2E/XCJpbml0UHJvcHNcIjpcInVwZGF0ZVByb3BzXCJdKHUse3g6bltsXVswXSx5Om5bbF1bMV19LHQsbykpOnUuc2V0UG9zaXRpb24obltsXSksaS5hZGQodSkpfX1mdW5jdGlvbiB1KHQpe3JldHVybiBPKHQsKGZ1bmN0aW9uKHQpe3JldHVybltpLmN4LGkuY3ldfSkpfW8uZGlmZihhKS5hZGQoKGZ1bmN0aW9uKGUpe3ZhciBuPW8uZ2V0SXRlbUxheW91dChlKTtpZihuKXt2YXIgaT1uZXcgcWwscj1uZXcgJGwsYT17c2hhcGU6e3BvaW50czpufX07aS5zaGFwZS5wb2ludHM9dShuKSxyLnNoYXBlLnBvaW50cz11KG4pLFJ1KGksYSx0LGUpLFJ1KHIsYSx0LGUpO3ZhciBzPW5ldyB6aSxoPW5ldyB6aTtzLmFkZChyKSxzLmFkZChpKSxzLmFkZChoKSxsKHIuc2hhcGUucG9pbnRzLG4saCxvLGUsITApLG8uc2V0SXRlbUdyYXBoaWNFbChlLHMpfX0pKS51cGRhdGUoKGZ1bmN0aW9uKGUsbil7dmFyIGk9YS5nZXRJdGVtR3JhcGhpY0VsKG4pLHI9aS5jaGlsZEF0KDApLHM9aS5jaGlsZEF0KDEpLHU9aS5jaGlsZEF0KDIpLGg9e3NoYXBlOntwb2ludHM6by5nZXRJdGVtTGF5b3V0KGUpfX07aC5zaGFwZS5wb2ludHMmJihsKHIuc2hhcGUucG9pbnRzLGguc2hhcGUucG9pbnRzLHUsbyxlLCExKSxPdShyLGgsdCksT3UocyxoLHQpLG8uc2V0SXRlbUdyYXBoaWNFbChlLGkpKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3IucmVtb3ZlKGEuZ2V0SXRlbUdyYXBoaWNFbCh0KSl9KSkuZXhlY3V0ZSgpLG8uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dmFyIG49by5nZXRJdGVtTW9kZWwoZSksaT10LmNoaWxkQXQoMCksYT10LmNoaWxkQXQoMSkscz10LmNoaWxkQXQoMiksbD1vLmdldEl0ZW1WaXN1YWwoZSxcInN0eWxlXCIpLHU9bC5maWxsO3IuYWRkKHQpLGkudXNlU3R5bGUoVChuLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpLHtmaWxsOlwibm9uZVwiLHN0cm9rZTp1fSkpLG5sKGksbixcImxpbmVTdHlsZVwiKSxubChhLG4sXCJhcmVhU3R5bGVcIik7dmFyIGg9bi5nZXRNb2RlbChcImFyZWFTdHlsZVwiKSxjPWguaXNFbXB0eSgpJiZoLnBhcmVudE1vZGVsLmlzRW1wdHkoKTthLmlnbm9yZT1jLFAoW1wiZW1waGFzaXNcIixcInNlbGVjdFwiLFwiYmx1clwiXSwoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRNb2RlbChbdCxcImFyZWFTdHlsZVwiXSksaT1lLmlzRW1wdHkoKSYmZS5wYXJlbnRNb2RlbC5pc0VtcHR5KCk7YS5lbnN1cmVTdGF0ZSh0KS5pZ25vcmU9aSYmY30pKSxhLnVzZVN0eWxlKFQoaC5nZXRBcmVhU3R5bGUoKSx7ZmlsbDp1LG9wYWNpdHk6LjcsZGVjYWw6bC5kZWNhbH0pKTt2YXIgcD1uLmdldE1vZGVsKFwiZW1waGFzaXNcIiksZD1wLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLmdldEl0ZW1TdHlsZSgpO3MuZWFjaENoaWxkKChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgSmEpe3ZhciBpPXQuc3R5bGU7dC51c2VTdHlsZShJKHtpbWFnZTppLmltYWdlLHg6aS54LHk6aS55LHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSxsKSl9ZWxzZSB0LnVzZVN0eWxlKGwpLHQuc2V0Q29sb3IodSk7dC5lbnN1cmVTdGF0ZShcImVtcGhhc2lzXCIpLnN0eWxlPXcoZCk7dmFyIHI9by5nZXQoby5kaW1lbnNpb25zW3QuX19kaW1JZHhdLGUpOyhudWxsPT1yfHxpc05hTihyKSkmJihyPVwiXCIpLHRoKHQsZWgobikse2xhYmVsRmV0Y2hlcjpvLmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGxhYmVsRGltSW5kZXg6dC5fX2RpbUlkeCxkZWZhdWx0VGV4dDpyLGluaGVyaXRDb2xvcjp1LGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eX0pfSkpLEpzKHQscC5nZXQoXCJmb2N1c1wiKSxwLmdldChcImJsdXJTY29wZVwiKSl9KSksdGhpcy5fZGF0YT1vfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS50eXBlPVwicmFkYXJcIixlfSh5ZiksR1M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnVzZUNvbG9yUGFsZXR0ZU9uRGF0YT0hMCxuLmhhc1N5bWJvbFZpc3VhbD0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyBOdyhCKHRoaXMuZ2V0RGF0YSx0aGlzKSxCKHRoaXMuZ2V0UmF3RGF0YSx0aGlzKSl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFJ3KHRoaXMse2dlbmVyYXRlQ29vcmQ6XCJpbmRpY2F0b3JfXCIsZ2VuZXJhdGVDb29yZENvdW50OjEvMH0pfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuY29vcmRpbmF0ZVN5c3RlbS5nZXRJbmRpY2F0b3JBeGVzKCksbz10aGlzLmdldERhdGEoKS5nZXROYW1lKHQpLGE9XCJcIj09PW8/dGhpcy5uYW1lOm8scz0kZCh0aGlzLHQpO3JldHVybiBZZChcInNlY3Rpb25cIix7aGVhZGVyOmEsc29ydEJsb2NrczohMCxibG9ja3M6TyhyLChmdW5jdGlvbihlKXt2YXIgbj1pLmdldChpLm1hcERpbWVuc2lvbihlLmRpbSksdCk7cmV0dXJuIFlkKFwibmFtZVZhbHVlXCIse21hcmtlclR5cGU6XCJzdWJJdGVtXCIsbWFya2VyQ29sb3I6cyxuYW1lOmUubmFtZSx2YWx1ZTpuLHNvcnRQYXJhbTpufSl9KSl9KX0sZS5wcm90b3R5cGUuZ2V0VG9vbHRpcFBvc2l0aW9uPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpZm9yKHZhciBlPXRoaXMuZ2V0RGF0YSgpLG49dGhpcy5jb29yZGluYXRlU3lzdGVtLGk9ZS5nZXRWYWx1ZXMoTyhuLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3JldHVybiBlLm1hcERpbWVuc2lvbih0KX0pKSx0KSxyPTAsbz1pLmxlbmd0aDtyPG87cisrKWlmKCFpc05hTihpW3JdKSl7dmFyIGE9bi5nZXRJbmRpY2F0b3JBeGVzKCk7cmV0dXJuIG4uY29vcmRUb1BvaW50KGFbcl0uZGF0YVRvQ29vcmQoaVtyXSkscil9fSxlLnR5cGU9XCJzZXJpZXMucmFkYXJcIixlLmRlcGVuZGVuY2llcz1bXCJyYWRhclwiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwicmFkYXJcIixsZWdlbmRIb3Zlckxpbms6ITAscmFkYXJJbmRleDowLGxpbmVTdHlsZTp7d2lkdGg6Mix0eXBlOlwic29saWRcIn0sbGFiZWw6e3Bvc2l0aW9uOlwidG9wXCJ9LHN5bWJvbDpcImVtcHR5Q2lyY2xlXCIsc3ltYm9sU2l6ZTo0fSxlfShyZiksSFM9WncudmFsdWU7ZnVuY3Rpb24gV1ModCxlKXtyZXR1cm4gVCh7c2hvdzplfSx0KX12YXIgWVM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KFwiYm91bmRhcnlHYXBcIiksZT10aGlzLmdldChcInNwbGl0TnVtYmVyXCIpLG49dGhpcy5nZXQoXCJzY2FsZVwiKSxpPXRoaXMuZ2V0KFwiYXhpc0xpbmVcIikscj10aGlzLmdldChcImF4aXNUaWNrXCIpLG89dGhpcy5nZXQoXCJheGlzTGFiZWxcIiksYT10aGlzLmdldChcImF4aXNOYW1lXCIpLHM9dGhpcy5nZXQoW1wiYXhpc05hbWVcIixcInNob3dcIl0pLGw9dGhpcy5nZXQoW1wiYXhpc05hbWVcIixcImZvcm1hdHRlclwiXSksdT10aGlzLmdldChcImF4aXNOYW1lR2FwXCIpLGg9dGhpcy5nZXQoXCJ0cmlnZ2VyRXZlbnRcIiksYz1PKHRoaXMuZ2V0KFwiaW5kaWNhdG9yXCIpfHxbXSwoZnVuY3Rpb24oYyl7bnVsbCE9Yy5tYXgmJmMubWF4PjAmJiFjLm1pbj9jLm1pbj0wOm51bGwhPWMubWluJiZjLm1pbjwwJiYhYy5tYXgmJihjLm1heD0wKTt2YXIgcD1hO251bGwhPWMuY29sb3ImJihwPVQoe2NvbG9yOmMuY29sb3J9LGEpKTt2YXIgZD1TKHcoYykse2JvdW5kYXJ5R2FwOnQsc3BsaXROdW1iZXI6ZSxzY2FsZTpuLGF4aXNMaW5lOmksYXhpc1RpY2s6cixheGlzTGFiZWw6byxuYW1lOmMudGV4dCxuYW1lTG9jYXRpb246XCJlbmRcIixuYW1lR2FwOnUsbmFtZVRleHRTdHlsZTpwLHRyaWdnZXJFdmVudDpofSwhMSk7aWYoc3x8KGQubmFtZT1cIlwiKSxcInN0cmluZ1wiPT10eXBlb2YgbCl7dmFyIGY9ZC5uYW1lO2QubmFtZT1sLnJlcGxhY2UoXCJ7dmFsdWV9XCIsbnVsbCE9Zj9mOlwiXCIpfWVsc2VcImZ1bmN0aW9uXCI9PXR5cGVvZiBsJiYoZC5uYW1lPWwoZC5uYW1lLGQpKTt2YXIgZz1uZXcgU2goZCxudWxsLHRoaXMuZWNNb2RlbCk7cmV0dXJuIEwoZyxqXy5wcm90b3R5cGUpLGcubWFpblR5cGU9XCJyYWRhclwiLGcuY29tcG9uZW50SW5kZXg9dGhpcy5jb21wb25lbnRJbmRleCxnfSksdGhpcyk7dGhpcy5faW5kaWNhdG9yTW9kZWxzPWN9LGUucHJvdG90eXBlLmdldEluZGljYXRvck1vZGVscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRpY2F0b3JNb2RlbHN9LGUudHlwZT1cInJhZGFyXCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjAsY2VudGVyOltcIjUwJVwiLFwiNTAlXCJdLHJhZGl1czpcIjc1JVwiLHN0YXJ0QW5nbGU6OTAsYXhpc05hbWU6e3Nob3c6ITB9LGJvdW5kYXJ5R2FwOlswLDBdLHNwbGl0TnVtYmVyOjUsYXhpc05hbWVHYXA6MTUsc2NhbGU6ITEsc2hhcGU6XCJwb2x5Z29uXCIsYXhpc0xpbmU6Uyh7bGluZVN0eWxlOntjb2xvcjpcIiNiYmJcIn19LEhTLmF4aXNMaW5lKSxheGlzTGFiZWw6V1MoSFMuYXhpc0xhYmVsLCExKSxheGlzVGljazpXUyhIUy5heGlzVGljaywhMSksc3BsaXRMaW5lOldTKEhTLnNwbGl0TGluZSwhMCksc3BsaXRBcmVhOldTKEhTLnNwbGl0QXJlYSwhMCksaW5kaWNhdG9yOltdfSxlfShOYyksWFM9W1wiYXhpc0xpbmVcIixcImF4aXNUaWNrTGFiZWxcIixcImF4aXNOYW1lXCJdLFVTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9idWlsZEF4ZXModCksdGhpcy5fYnVpbGRTcGxpdExpbmVBbmRBcmVhKHQpfSxlLnByb3RvdHlwZS5fYnVpbGRBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtQKE8oZS5nZXRJbmRpY2F0b3JBeGVzKCksKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaFModC5tb2RlbCx7cG9zaXRpb246W2UuY3gsZS5jeV0scm90YXRpb246dC5hbmdsZSxsYWJlbERpcmVjdGlvbjotMSx0aWNrRGlyZWN0aW9uOi0xLG5hbWVEaXJlY3Rpb246MX0pfSkpLChmdW5jdGlvbih0KXtQKFhTLHQuYWRkLHQpLHRoaXMuZ3JvdXAuYWRkKHQuZ2V0R3JvdXAoKSl9KSx0aGlzKX0sZS5wcm90b3R5cGUuX2J1aWxkU3BsaXRMaW5lQW5kQXJlYT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1lLmdldEluZGljYXRvckF4ZXMoKTtpZihuLmxlbmd0aCl7dmFyIGk9dC5nZXQoXCJzaGFwZVwiKSxyPXQuZ2V0TW9kZWwoXCJzcGxpdExpbmVcIiksbz10LmdldE1vZGVsKFwic3BsaXRBcmVhXCIpLGE9ci5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxzPW8uZ2V0TW9kZWwoXCJhcmVhU3R5bGVcIiksbD1yLmdldChcInNob3dcIiksdT1vLmdldChcInNob3dcIiksaD1hLmdldChcImNvbG9yXCIpLGM9cy5nZXQoXCJjb2xvclwiKSxwPUYoaCk/aDpbaF0sZD1GKGMpP2M6W2NdLGY9W10sZz1bXTtpZihcImNpcmNsZVwiPT09aSlmb3IodmFyIHk9blswXS5nZXRUaWNrc0Nvb3JkcygpLHY9ZS5jeCxtPWUuY3ksXz0wO188eS5sZW5ndGg7XysrKXtpZihsKWZbQShmLHAsXyldLnB1c2gobmV3IFRsKHtzaGFwZTp7Y3g6dixjeTptLHI6eVtfXS5jb29yZH19KSk7aWYodSYmXzx5Lmxlbmd0aC0xKWdbQShnLGQsXyldLnB1c2gobmV3IFhsKHtzaGFwZTp7Y3g6dixjeTptLHIwOnlbX10uY29vcmQscjp5W18rMV0uY29vcmR9fSkpfWVsc2V7dmFyIHgsYj1PKG4sKGZ1bmN0aW9uKHQsbil7dmFyIGk9dC5nZXRUaWNrc0Nvb3JkcygpO3JldHVybiB4PW51bGw9PXg/aS5sZW5ndGgtMTpNYXRoLm1pbihpLmxlbmd0aC0xLHgpLE8oaSwoZnVuY3Rpb24odCl7cmV0dXJuIGUuY29vcmRUb1BvaW50KHQuY29vcmQsbil9KSl9KSksdz1bXTtmb3IoXz0wO188PXg7XysrKXtmb3IodmFyIFM9W10sTT0wO008bi5sZW5ndGg7TSsrKVMucHVzaChiW01dW19dKTtpZihTWzBdJiZTLnB1c2goU1swXS5zbGljZSgpKSxsKWZbQShmLHAsXyldLnB1c2gobmV3ICRsKHtzaGFwZTp7cG9pbnRzOlN9fSkpO2lmKHUmJncpZ1tBKGcsZCxfLTEpXS5wdXNoKG5ldyBxbCh7c2hhcGU6e3BvaW50czpTLmNvbmNhdCh3KX19KSk7dz1TLnNsaWNlKCkucmV2ZXJzZSgpfX12YXIgST1hLmdldExpbmVTdHlsZSgpLEM9cy5nZXRBcmVhU3R5bGUoKTtQKGcsKGZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5hZGQoRHUodCx7c3R5bGU6VCh7c3Ryb2tlOlwibm9uZVwiLGZpbGw6ZFtlJWQubGVuZ3RoXX0sQyksc2lsZW50OiEwfSkpfSksdGhpcyksUChmLChmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAuYWRkKER1KHQse3N0eWxlOlQoe2ZpbGw6XCJub25lXCIsc3Ryb2tlOnBbZSVwLmxlbmd0aF19LEkpLHNpbGVudDohMH0pKX0pLHRoaXMpfWZ1bmN0aW9uIEEodCxlLG4pe3ZhciBpPW4lZS5sZW5ndGg7cmV0dXJuIHRbaV09dFtpXXx8W10saX19LGUudHlwZT1cInJhZGFyXCIsZX0ocGYpLFpTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gci50eXBlPVwidmFsdWVcIixyLmFuZ2xlPTAsci5uYW1lPVwiXCIscn1yZXR1cm4gbihlLHQpLGV9KHZ4KSxqUz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuZGltZW5zaW9ucz1bXSx0aGlzLl9tb2RlbD10LHRoaXMuX2luZGljYXRvckF4ZXM9Tyh0LmdldEluZGljYXRvck1vZGVscygpLChmdW5jdGlvbih0LGUpe3ZhciBuPVwiaW5kaWNhdG9yX1wiK2UsaT1uZXcgWlMobixuZXcgZV8pO3JldHVybiBpLm5hbWU9dC5nZXQoXCJuYW1lXCIpLGkubW9kZWw9dCx0LmF4aXM9aSx0aGlzLmRpbWVuc2lvbnMucHVzaChuKSxpfSksdGhpcyksdGhpcy5yZXNpemUodCxuKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0SW5kaWNhdG9yQXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRpY2F0b3JBeGVzfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2luZGljYXRvckF4ZXNbZV07cmV0dXJuIHRoaXMuY29vcmRUb1BvaW50KG4uZGF0YVRvQ29vcmQodCksZSl9LHQucHJvdG90eXBlLmNvb3JkVG9Qb2ludD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2luZGljYXRvckF4ZXNbZV0uYW5nbGU7cmV0dXJuW3RoaXMuY3grdCpNYXRoLmNvcyhuKSx0aGlzLmN5LXQqTWF0aC5zaW4obildfSx0LnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10WzBdLXRoaXMuY3gsbj10WzFdLXRoaXMuY3ksaT1NYXRoLnNxcnQoZSplK24qbik7ZS89aSxuLz1pO2Zvcih2YXIgcixvPU1hdGguYXRhbjIoLW4sZSksYT0xLzAscz0tMSxsPTA7bDx0aGlzLl9pbmRpY2F0b3JBeGVzLmxlbmd0aDtsKyspe3ZhciB1PXRoaXMuX2luZGljYXRvckF4ZXNbbF0saD1NYXRoLmFicyhvLXUuYW5nbGUpO2g8YSYmKHI9dSxzPWwsYT1oKX1yZXR1cm5bcywrKHImJnIuY29vcmRUb0RhdGEoaSkpXX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoXCJjZW50ZXJcIiksaT1lLmdldFdpZHRoKCkscj1lLmdldEhlaWdodCgpLG89TWF0aC5taW4oaSxyKS8yO3RoaXMuY3g9WmkoblswXSxpKSx0aGlzLmN5PVppKG5bMV0sciksdGhpcy5zdGFydEFuZ2xlPXQuZ2V0KFwic3RhcnRBbmdsZVwiKSpNYXRoLlBJLzE4MDt2YXIgYT10LmdldChcInJhZGl1c1wiKTtcInN0cmluZ1wiIT10eXBlb2YgYSYmXCJudW1iZXJcIiE9dHlwZW9mIGF8fChhPVswLGFdKSx0aGlzLnIwPVppKGFbMF0sbyksdGhpcy5yPVppKGFbMV0sbyksUCh0aGlzLl9pbmRpY2F0b3JBeGVzLChmdW5jdGlvbih0LGUpe3Quc2V0RXh0ZW50KHRoaXMucjAsdGhpcy5yKTt2YXIgbj10aGlzLnN0YXJ0QW5nbGUrZSpNYXRoLlBJKjIvdGhpcy5faW5kaWNhdG9yQXhlcy5sZW5ndGg7bj1NYXRoLmF0YW4yKE1hdGguc2luKG4pLE1hdGguY29zKG4pKSx0LmFuZ2xlPW59KSx0aGlzKX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faW5kaWNhdG9yQXhlcyxpPXRoaXMuX21vZGVsO1AobiwoZnVuY3Rpb24odCl7dC5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApfSkpLHQuZWFjaFNlcmllc0J5VHlwZShcInJhZGFyXCIsKGZ1bmN0aW9uKGUscil7aWYoXCJyYWRhclwiPT09ZS5nZXQoXCJjb29yZGluYXRlU3lzdGVtXCIpJiZ0LmdldENvbXBvbmVudChcInJhZGFyXCIsZS5nZXQoXCJyYWRhckluZGV4XCIpKT09PWkpe3ZhciBvPWUuZ2V0RGF0YSgpO1AobiwoZnVuY3Rpb24odCl7dC5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKG8sby5tYXBEaW1lbnNpb24odC5kaW0pKX0pKX19KSx0aGlzKTt2YXIgcj1pLmdldChcInNwbGl0TnVtYmVyXCIpO2Z1bmN0aW9uIG8odCl7dmFyIGU9TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMTApKSxuPXQvZTtyZXR1cm4gMj09PW4/bj01Om4qPTIsbiplfVAobiwoZnVuY3Rpb24odCxlKXt2YXIgbj1WXyh0LnNjYWxlLHQubW9kZWwpLmV4dGVudDtGXyh0LnNjYWxlLHQubW9kZWwpO3ZhciBpPXQubW9kZWwsYT10LnNjYWxlLHM9Ql8oYSxpLmdldChcIm1pblwiLCEwKSksbD1CXyhhLGkuZ2V0KFwibWF4XCIsITApKSx1PWEuZ2V0SW50ZXJ2YWwoKTtpZihudWxsIT1zJiZudWxsIT1sKWEuc2V0RXh0ZW50KCtzLCtsKSxhLnNldEludGVydmFsKChsLXMpL3IpO2Vsc2UgaWYobnVsbCE9cyl7dmFyIGg9dm9pZCAwO2Rve2g9cyt1KnIsYS5zZXRFeHRlbnQoK3MsaCksYS5zZXRJbnRlcnZhbCh1KSx1PW8odSl9d2hpbGUoaDxuWzFdJiZpc0Zpbml0ZShoKSYmaXNGaW5pdGUoblsxXSkpfWVsc2UgaWYobnVsbCE9bCl7dmFyIGM9dm9pZCAwO2Rve2M9bC11KnIsYS5zZXRFeHRlbnQoYywrbCksYS5zZXRJbnRlcnZhbCh1KSx1PW8odSl9d2hpbGUoYz5uWzBdJiZpc0Zpbml0ZShjKSYmaXNGaW5pdGUoblswXSkpfWVsc2V7YS5nZXRUaWNrcygpLmxlbmd0aC0xPnImJih1PW8odSkpO2M9amkoKGg9TWF0aC5jZWlsKG5bMV0vdSkqdSktdSpyKTthLnNldEV4dGVudChjLGgpLGEuc2V0SW50ZXJ2YWwodSl9fSkpfSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybihcIk5vdCBpbXBsZW1lbnRlZC5cIiksbnVsbH0sdC5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybihcIk5vdCBpbXBsZW1lbnRlZC5cIiksbnVsbH0sdC5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJOb3QgaW1wbGVtZW50ZWQuXCIpLCExfSx0LmNyZWF0ZT1mdW5jdGlvbihlLG4pe3ZhciBpPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoXCJyYWRhclwiLChmdW5jdGlvbihyKXt2YXIgbz1uZXcgdChyLGUsbik7aS5wdXNoKG8pLHIuY29vcmRpbmF0ZVN5c3RlbT1vfSkpLGUuZWFjaFNlcmllc0J5VHlwZShcInJhZGFyXCIsKGZ1bmN0aW9uKHQpe1wicmFkYXJcIj09PXQuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSYmKHQuY29vcmRpbmF0ZVN5c3RlbT1pW3QuZ2V0KFwicmFkYXJJbmRleFwiKXx8MF0pfSkpLGl9LHQuZGltZW5zaW9ucz1bXSx0fSgpO2Z1bmN0aW9uIHFTKHQpe3QucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKFwicmFkYXJcIixqUyksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKFlTKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhVUyl9dmFyIEtTPVwiXFwwX2VjX2ludGVyYWN0aW9uX211dGV4XCI7ZnVuY3Rpb24gJFModCxlKXtyZXR1cm4hIUpTKHQpW2VdfWZ1bmN0aW9uIEpTKHQpe3JldHVybiB0W0tTXXx8KHRbS1NdPXt9KX1Zdih7dHlwZTpcInRha2VHbG9iYWxDdXJzb3JcIixldmVudDpcImdsb2JhbEN1cnNvclRha2VuXCIsdXBkYXRlOlwidXBkYXRlXCJ9LChmdW5jdGlvbigpe30pKTt2YXIgUVM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7bi5fenI9ZTt2YXIgaT1CKG4uX21vdXNlZG93bkhhbmRsZXIsbikscj1CKG4uX21vdXNlbW92ZUhhbmRsZXIsbiksbz1CKG4uX21vdXNldXBIYW5kbGVyLG4pLGE9QihuLl9tb3VzZXdoZWVsSGFuZGxlcixuKSxzPUIobi5fcGluY2hIYW5kbGVyLG4pO3JldHVybiBuLmVuYWJsZT1mdW5jdGlvbih0LG4pe3RoaXMuZGlzYWJsZSgpLHRoaXMuX29wdD1UKHcobil8fHt9LHt6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxtb3ZlT25Nb3VzZVdoZWVsOiExLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEwfSksbnVsbD09dCYmKHQ9ITApLCEwIT09dCYmXCJtb3ZlXCIhPT10JiZcInBhblwiIT09dHx8KGUub24oXCJtb3VzZWRvd25cIixpKSxlLm9uKFwibW91c2Vtb3ZlXCIsciksZS5vbihcIm1vdXNldXBcIixvKSksITAhPT10JiZcInNjYWxlXCIhPT10JiZcInpvb21cIiE9PXR8fChlLm9uKFwibW91c2V3aGVlbFwiLGEpLGUub24oXCJwaW5jaFwiLHMpKX0sbi5kaXNhYmxlPWZ1bmN0aW9uKCl7ZS5vZmYoXCJtb3VzZWRvd25cIixpKSxlLm9mZihcIm1vdXNlbW92ZVwiLHIpLGUub2ZmKFwibW91c2V1cFwiLG8pLGUub2ZmKFwibW91c2V3aGVlbFwiLGEpLGUub2ZmKFwicGluY2hcIixzKX0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmlzRHJhZ2dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dpbmd9LGUucHJvdG90eXBlLmlzUGluY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGluY2hpbmd9LGUucHJvdG90eXBlLnNldFBvaW50ZXJDaGVja2VyPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlckNoZWNrZXI9dH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZSgpfSxlLnByb3RvdHlwZS5fbW91c2Vkb3duSGFuZGxlcj1mdW5jdGlvbih0KXtpZighKG5lKHQpfHx0LnRhcmdldCYmdC50YXJnZXQuZHJhZ2dhYmxlKSl7dmFyIGU9dC5vZmZzZXRYLG49dC5vZmZzZXRZO3RoaXMucG9pbnRlckNoZWNrZXImJnRoaXMucG9pbnRlckNoZWNrZXIodCxlLG4pJiYodGhpcy5feD1lLHRoaXMuX3k9bix0aGlzLl9kcmFnZ2luZz0hMCl9fSxlLnByb3RvdHlwZS5fbW91c2Vtb3ZlSGFuZGxlcj1mdW5jdGlvbih0KXtpZih0aGlzLl9kcmFnZ2luZyYmbk0oXCJtb3ZlT25Nb3VzZU1vdmVcIix0LHRoaXMuX29wdCkmJlwicGluY2hcIiE9PXQuZ2VzdHVyZUV2ZW50JiYhJFModGhpcy5fenIsXCJnbG9iYWxQYW5cIikpe3ZhciBlPXQub2Zmc2V0WCxuPXQub2Zmc2V0WSxpPXRoaXMuX3gscj10aGlzLl95LG89ZS1pLGE9bi1yO3RoaXMuX3g9ZSx0aGlzLl95PW4sdGhpcy5fb3B0LnByZXZlbnREZWZhdWx0TW91c2VNb3ZlJiZlZSh0LmV2ZW50KSxlTSh0aGlzLFwicGFuXCIsXCJtb3ZlT25Nb3VzZU1vdmVcIix0LHtkeDpvLGR5OmEsb2xkWDppLG9sZFk6cixuZXdYOmUsbmV3WTpuLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfX0sZS5wcm90b3R5cGUuX21vdXNldXBIYW5kbGVyPWZ1bmN0aW9uKHQpe25lKHQpfHwodGhpcy5fZHJhZ2dpbmc9ITEpfSxlLnByb3RvdHlwZS5fbW91c2V3aGVlbEhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9bk0oXCJ6b29tT25Nb3VzZVdoZWVsXCIsdCx0aGlzLl9vcHQpLG49bk0oXCJtb3ZlT25Nb3VzZVdoZWVsXCIsdCx0aGlzLl9vcHQpLGk9dC53aGVlbERlbHRhLHI9TWF0aC5hYnMoaSksbz10Lm9mZnNldFgsYT10Lm9mZnNldFk7aWYoMCE9PWkmJihlfHxuKSl7aWYoZSl7dmFyIHM9cj4zPzEuNDpyPjE/MS4yOjEuMTt0TSh0aGlzLFwiem9vbVwiLFwiem9vbU9uTW91c2VXaGVlbFwiLHQse3NjYWxlOmk+MD9zOjEvcyxvcmlnaW5YOm8sb3JpZ2luWTphLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfWlmKG4pe3ZhciBsPU1hdGguYWJzKGkpO3RNKHRoaXMsXCJzY3JvbGxNb3ZlXCIsXCJtb3ZlT25Nb3VzZVdoZWVsXCIsdCx7c2Nyb2xsRGVsdGE6KGk+MD8xOi0xKSoobD4zPy40Omw+MT8uMTU6LjA1KSxvcmlnaW5YOm8sb3JpZ2luWTphLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfX19LGUucHJvdG90eXBlLl9waW5jaEhhbmRsZXI9ZnVuY3Rpb24odCl7JFModGhpcy5fenIsXCJnbG9iYWxQYW5cIil8fHRNKHRoaXMsXCJ6b29tXCIsbnVsbCx0LHtzY2FsZTp0LnBpbmNoU2NhbGU+MT8xLjE6MS8xLjEsb3JpZ2luWDp0LnBpbmNoWCxvcmlnaW5ZOnQucGluY2hZLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfSxlfShGdCk7ZnVuY3Rpb24gdE0odCxlLG4saSxyKXt0LnBvaW50ZXJDaGVja2VyJiZ0LnBvaW50ZXJDaGVja2VyKGksci5vcmlnaW5YLHIub3JpZ2luWSkmJihlZShpLmV2ZW50KSxlTSh0LGUsbixpLHIpKX1mdW5jdGlvbiBlTSh0LGUsbixpLHIpe3IuaXNBdmFpbGFibGVCZWhhdmlvcj1CKG5NLG51bGwsbixpKSx0LnRyaWdnZXIoZSxyKX1mdW5jdGlvbiBuTSh0LGUsbil7dmFyIGk9blt0XTtyZXR1cm4hdHx8aSYmKCFIKGkpfHxlLmV2ZW50W2krXCJLZXlcIl0pfWZ1bmN0aW9uIGlNKHQsZSxuKXt2YXIgaT10LnRhcmdldDtpLngrPWUsaS55Kz1uLGkuZGlydHkoKX1mdW5jdGlvbiByTSh0LGUsbixpKXt2YXIgcj10LnRhcmdldCxvPXQuem9vbUxpbWl0LGE9dC56b29tPXQuem9vbXx8MTtpZihhKj1lLG8pe3ZhciBzPW8ubWlufHwwLGw9by5tYXh8fDEvMDthPU1hdGgubWF4KE1hdGgubWluKGwsYSkscyl9dmFyIHU9YS90Lnpvb207dC56b29tPWEsci54LT0obi1yLngpKih1LTEpLHIueS09KGktci55KSoodS0xKSxyLnNjYWxlWCo9dSxyLnNjYWxlWSo9dSxyLmRpcnR5KCl9dmFyIG9NPXtheGlzUG9pbnRlcjoxLHRvb2x0aXA6MSxicnVzaDoxfTtmdW5jdGlvbiBhTSh0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnRCeUVsZW1lbnQodC50b3BUYXJnZXQpLHI9aSYmaS5jb29yZGluYXRlU3lzdGVtO3JldHVybiBpJiZpIT09biYmIW9NLmhhc093blByb3BlcnR5KGkubWFpblR5cGUpJiZyJiZyLm1vZGVsIT09bn1mb3IodmFyIHNNPVsxMjYsMjVdLGxNPVtbWzAsMy41XSxbNywxMS4yXSxbMTUsMTEuOV0sWzMwLDddLFs0MiwuN10sWzUyLC43XSxbNTYsNy43XSxbNTksLjddLFs2NCwuN10sWzY0LDBdLFs1LDBdLFswLDMuNV1dLFtbMTMsMTYuMV0sWzE5LDE0LjddLFsxNiwyMS43XSxbMTEsMjMuMV0sWzEzLDE2LjFdXSxbWzEyLDMyLjJdLFsxNCwzOC41XSxbMTUsMzguNV0sWzEzLDMyLjJdLFsxMiwzMi4yXV0sW1sxNiw0Ny42XSxbMTIsNTMuMl0sWzEzLDUzLjJdLFsxOCw0Ny42XSxbMTYsNDcuNl1dLFtbNiw2NC40XSxbOCw3MF0sWzksNzBdLFs4LDY0LjRdLFs2LDY0LjRdXSxbWzIzLDgyLjZdLFsyOSw3OS44XSxbMzAsNzkuOF0sWzI1LDgyLjZdLFsyMyw4Mi42XV0sW1szNyw3MC43XSxbNDMsNjIuM10sWzQ0LDYyLjNdLFszOSw3MC43XSxbMzcsNzAuN11dLFtbNDgsNTEuMV0sWzUxLDQ1LjVdLFs1Myw0NS41XSxbNTAsNTEuMV0sWzQ4LDUxLjFdXSxbWzUxLDM1XSxbNTEsMjguN10sWzUzLDI4LjddLFs1MywzNV0sWzUxLDM1XV0sW1s1MiwyMi40XSxbNTUsMTcuNV0sWzU2LDE3LjVdLFs1MywyMi40XSxbNTIsMjIuNF1dLFtbNTgsMTIuNl0sWzYyLDddLFs2Myw3XSxbNjAsMTIuNl0sWzU4LDEyLjZdXSxbWzAsMy41XSxbMCw5My4xXSxbNjQsOTMuMV0sWzY0LDBdLFs2MywwXSxbNjMsOTIuNF0sWzEsOTIuNF0sWzEsMy41XSxbMCwzLjVdXV0sdU09MDt1TTxsTS5sZW5ndGg7dU0rKylmb3IodmFyIGhNPTA7aE08bE1bdU1dLmxlbmd0aDtoTSsrKWxNW3VNXVtoTV1bMF0vPTEwLjUsbE1bdU1dW2hNXVsxXS89LTE0LGxNW3VNXVtoTV1bMF0rPXNNWzBdLGxNW3VNXVtoTV1bMV0rPXNNWzFdO3ZhciBjTT17XCLljZfmtbfor7jlsptcIjpbMzIsODBdLFwi5bm/5LicXCI6WzAsLTEwXSxcIummmea4r1wiOlsxMCw1XSxcIua+s+mXqFwiOlstMTAsMTBdLFwi5aSp5rSlXCI6WzUsNV19O3ZhciBwTT17UnVzc2lhOlsxMDAsNjBdLFwiVW5pdGVkIFN0YXRlc1wiOlstOTksMzhdLFwiVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhXCI6Wy05OSwzOF19O3ZhciBkTT1bW1sxMjMuNDUxNjUyNTI2ODU1NDcsMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzUwNzM0MDY0NjAwODg0XSxbMTIzLjQ1MTY1MjUyNjg1NTQ3LDI1Ljc1MDczNDA2NDYwMDg4NF0sWzEyMy40NTE2NTI1MjY4NTU0NywyNS43MzUyNzE2NDQwMjI2MV1dXTt2YXIgZk09THIoKSxnTT17bG9hZDpmdW5jdGlvbih0LGUsbil7dmFyIGk9Zk0oZSkucGFyc2VkO2lmKGkpcmV0dXJuIGk7dmFyIHIsbz1lLnNwZWNpYWxBcmVhc3x8e30sYT1lLmdlb0pTT047dHJ5e3I9YT9leChhLG4pOltdfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgZ2VvSnNvbiBmb3JtYXRcXG5cIit0Lm1lc3NhZ2UpfXJldHVybiBmdW5jdGlvbih0LGUpe1wiY2hpbmFcIj09PXQmJmUucHVzaChuZXcgUV8oXCLljZfmtbfor7jlsptcIixPKGxNLChmdW5jdGlvbih0KXtyZXR1cm57dHlwZTpcInBvbHlnb25cIixleHRlcmlvcjp0fX0pKSxzTSkpfSh0LHIpLFAociwoZnVuY3Rpb24oZSl7dmFyIG49ZS5uYW1lOyFmdW5jdGlvbih0LGUpe2lmKFwiY2hpbmFcIj09PXQpe3ZhciBuPWNNW2UubmFtZV07aWYobil7dmFyIGk9ZS5jZW50ZXI7aVswXSs9blswXS8xMC41LGlbMV0rPS1uWzFdLzE0fX19KHQsZSksZnVuY3Rpb24odCxlKXtpZihcIndvcmxkXCI9PT10KXt2YXIgbj1wTVtlLm5hbWVdO2lmKG4pe3ZhciBpPWUuY2VudGVyO2lbMF09blswXSxpWzFdPW5bMV19fX0odCxlKSxmdW5jdGlvbih0LGUpe1wiY2hpbmFcIj09PXQmJlwi5Y+w5rm+XCI9PT1lLm5hbWUmJmUuZ2VvbWV0cmllcy5wdXNoKHt0eXBlOlwicG9seWdvblwiLGV4dGVyaW9yOmRNWzBdfSl9KHQsZSk7dmFyIGk9b1tuXTtpJiZlLnRyYW5zZm9ybVRvKGkubGVmdCxpLnRvcCxpLndpZHRoLGkuaGVpZ2h0KX0pKSxmTShlKS5wYXJzZWQ9e3JlZ2lvbnM6cixib3VuZGluZ1JlY3Q6eU0ocil9fX07ZnVuY3Rpb24geU0odCl7Zm9yKHZhciBlLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXS5nZXRCb3VuZGluZ1JlY3QoKTsoZT1lfHxpLmNsb25lKCkpLnVuaW9uKGkpfXJldHVybiBlfXZhciB2TSxtTT0vW1xccyxdKy8sX009ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fZGVmcz17fSx0aGlzLl9yb290PW51bGwsdGhpcy5faXNEZWZpbmU9ITEsdGhpcy5faXNUZXh0PSExfXJldHVybiB0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIG49b2codCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBzdmdcIik7dmFyIGk9bmV3IHppO3RoaXMuX3Jvb3Q9aTt2YXIgcj1uLmdldEF0dHJpYnV0ZShcInZpZXdCb3hcIil8fFwiXCIsbz1wYXJzZUZsb2F0KG4uZ2V0QXR0cmlidXRlKFwid2lkdGhcIil8fGUud2lkdGgpLGE9cGFyc2VGbG9hdChuLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKXx8ZS5oZWlnaHQpO2lzTmFOKG8pJiYobz1udWxsKSxpc05hTihhKSYmKGE9bnVsbCksTU0obixpLG51bGwsITApO2Zvcih2YXIgcyxsLHU9bi5maXJzdENoaWxkO3U7KXRoaXMuX3BhcnNlTm9kZSh1LGkpLHU9dS5uZXh0U2libGluZztpZihyKXt2YXIgaD1vdChyKS5zcGxpdChtTSk7aC5sZW5ndGg+PTQmJihzPXt4OnBhcnNlRmxvYXQoaFswXXx8MCkseTpwYXJzZUZsb2F0KGhbMV18fDApLHdpZHRoOnBhcnNlRmxvYXQoaFsyXSksaGVpZ2h0OnBhcnNlRmxvYXQoaFszXSl9KX1pZihzJiZudWxsIT1vJiZudWxsIT1hJiYobD1ETShzLG8sYSksIWUuaWdub3JlVmlld0JveCkpe3ZhciBjPWk7KGk9bmV3IHppKS5hZGQoYyksYy5zY2FsZVg9Yy5zY2FsZVk9bC5zY2FsZSxjLng9bC54LGMueT1sLnl9cmV0dXJuIGUuaWdub3JlUm9vdENsaXB8fG51bGw9PW98fG51bGw9PWF8fGkuc2V0Q2xpcFBhdGgobmV3IG9zKHtzaGFwZTp7eDowLHk6MCx3aWR0aDpvLGhlaWdodDphfX0pKSx7cm9vdDppLHdpZHRoOm8saGVpZ2h0OmEsdmlld0JveFJlY3Q6cyx2aWV3Qm94VHJhbnNmb3JtOmx9fSx0LnByb3RvdHlwZS5fcGFyc2VOb2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcImRlZnNcIj09PXI/dGhpcy5faXNEZWZpbmU9ITA6XCJ0ZXh0XCI9PT1yJiYodGhpcy5faXNUZXh0PSEwKSx0aGlzLl9pc0RlZmluZSl7aWYoaT14TVtyXSl7dmFyIG89aS5jYWxsKHRoaXMsdCksYT10LmdldEF0dHJpYnV0ZShcImlkXCIpO2EmJih0aGlzLl9kZWZzW2FdPW8pfX1lbHNlKGk9dk1bcl0pJiYobj1pLmNhbGwodGhpcyx0LGUpLGUuYWRkKG4pKTtpZihuKWZvcih2YXIgcz10LmZpcnN0Q2hpbGQ7czspMT09PXMubm9kZVR5cGUmJnRoaXMuX3BhcnNlTm9kZShzLG4pLDM9PT1zLm5vZGVUeXBlJiZ0aGlzLl9pc1RleHQmJnRoaXMuX3BhcnNlVGV4dChzLG4pLHM9cy5uZXh0U2libGluZztcImRlZnNcIj09PXI/dGhpcy5faXNEZWZpbmU9ITE6XCJ0ZXh0XCI9PT1yJiYodGhpcy5faXNUZXh0PSExKX0sdC5wcm90b3R5cGUuX3BhcnNlVGV4dD1mdW5jdGlvbih0LGUpe2lmKDE9PT10Lm5vZGVUeXBlKXt2YXIgbj10LmdldEF0dHJpYnV0ZShcImR4XCIpfHwwLGk9dC5nZXRBdHRyaWJ1dGUoXCJkeVwiKXx8MDt0aGlzLl90ZXh0WCs9cGFyc2VGbG9hdChuKSx0aGlzLl90ZXh0WSs9cGFyc2VGbG9hdChpKX12YXIgcj1uZXcgcWEoe3N0eWxlOnt0ZXh0OnQudGV4dENvbnRlbnR9LHg6dGhpcy5fdGV4dFh8fDAseTp0aGlzLl90ZXh0WXx8MH0pO2JNKGUsciksTU0odCxyLHRoaXMuX2RlZnMpO3ZhciBvPXIuc3R5bGUsYT1vLmZvbnRTaXplO2EmJmE8OSYmKG8uZm9udFNpemU9OSxyLnNjYWxlWCo9YS85LHIuc2NhbGVZKj1hLzkpO3ZhciBzPShvLmZvbnRTaXplfHxvLmZvbnRGYW1pbHkpJiZbby5mb250U3R5bGUsby5mb250V2VpZ2h0LChvLmZvbnRTaXplfHwxMikrXCJweFwiLG8uZm9udEZhbWlseXx8XCJzYW5zLXNlcmlmXCJdLmpvaW4oXCIgXCIpO28uZm9udD1zO3ZhciBsPXIuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIHRoaXMuX3RleHRYKz1sLndpZHRoLGUuYWRkKHIpLHJ9LHQuaW50ZXJuYWxGaWVsZD12b2lkKHZNPXtnOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHppO3JldHVybiBiTShlLG4pLE1NKHQsbix0aGlzLl9kZWZzKSxufSxyZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IG9zO3JldHVybiBiTShlLG4pLE1NKHQsbix0aGlzLl9kZWZzKSxuLnNldFNoYXBlKHt4OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ4XCIpfHxcIjBcIikseTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKFwieVwiKXx8XCIwXCIpLHdpZHRoOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKXx8XCIwXCIpLGhlaWdodDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpfHxcIjBcIil9KSxufSxjaXJjbGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgVGw7cmV0dXJuIGJNKGUsbiksTU0odCxuLHRoaXMuX2RlZnMpLG4uc2V0U2hhcGUoe2N4OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJjeFwiKXx8XCIwXCIpLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJjeVwiKXx8XCIwXCIpLHI6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcInJcIil8fFwiMFwiKX0pLG59LGxpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdHU7cmV0dXJuIGJNKGUsbiksTU0odCxuLHRoaXMuX2RlZnMpLG4uc2V0U2hhcGUoe3gxOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ4MVwiKXx8XCIwXCIpLHkxOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ5MVwiKXx8XCIwXCIpLHgyOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ4MlwiKXx8XCIwXCIpLHkyOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ5MlwiKXx8XCIwXCIpfSksbn0sZWxsaXBzZTpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBBbDtyZXR1cm4gYk0oZSxuKSxNTSh0LG4sdGhpcy5fZGVmcyksbi5zZXRTaGFwZSh7Y3g6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcImN4XCIpfHxcIjBcIiksY3k6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcImN5XCIpfHxcIjBcIikscng6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcInJ4XCIpfHxcIjBcIikscnk6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcInJ5XCIpfHxcIjBcIil9KSxufSxwb2x5Z29uOmZ1bmN0aW9uKHQsZSl7dmFyIG4saT10LmdldEF0dHJpYnV0ZShcInBvaW50c1wiKTtpJiYobj13TShpKSk7dmFyIHI9bmV3IHFsKHtzaGFwZTp7cG9pbnRzOm58fFtdfX0pO3JldHVybiBiTShlLHIpLE1NKHQscix0aGlzLl9kZWZzKSxyfSxwb2x5bGluZTpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBaYTtiTShlLG4pLE1NKHQsbix0aGlzLl9kZWZzKTt2YXIgaSxyPXQuZ2V0QXR0cmlidXRlKFwicG9pbnRzXCIpO3JldHVybiByJiYoaT13TShyKSksbmV3ICRsKHtzaGFwZTp7cG9pbnRzOml8fFtdfX0pfSxpbWFnZTpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBKYTtyZXR1cm4gYk0oZSxuKSxNTSh0LG4sdGhpcy5fZGVmcyksbi5zZXRTdHlsZSh7aW1hZ2U6dC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpLHg6K3QuZ2V0QXR0cmlidXRlKFwieFwiKSx5Oit0LmdldEF0dHJpYnV0ZShcInlcIiksd2lkdGg6K3QuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksaGVpZ2h0Oit0LmdldEF0dHJpYnV0ZShcImhlaWdodFwiKX0pLG59LHRleHQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZShcInhcIil8fFwiMFwiLGk9dC5nZXRBdHRyaWJ1dGUoXCJ5XCIpfHxcIjBcIixyPXQuZ2V0QXR0cmlidXRlKFwiZHhcIil8fFwiMFwiLG89dC5nZXRBdHRyaWJ1dGUoXCJkeVwiKXx8XCIwXCI7dGhpcy5fdGV4dFg9cGFyc2VGbG9hdChuKStwYXJzZUZsb2F0KHIpLHRoaXMuX3RleHRZPXBhcnNlRmxvYXQoaSkrcGFyc2VGbG9hdChvKTt2YXIgYT1uZXcgemk7cmV0dXJuIGJNKGUsYSksTU0odCxhLHRoaXMuX2RlZnMpLGF9LHRzcGFuOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoXCJ4XCIpLGk9dC5nZXRBdHRyaWJ1dGUoXCJ5XCIpO251bGwhPW4mJih0aGlzLl90ZXh0WD1wYXJzZUZsb2F0KG4pKSxudWxsIT1pJiYodGhpcy5fdGV4dFk9cGFyc2VGbG9hdChpKSk7dmFyIHI9dC5nZXRBdHRyaWJ1dGUoXCJkeFwiKXx8MCxvPXQuZ2V0QXR0cmlidXRlKFwiZHlcIil8fDAsYT1uZXcgemk7cmV0dXJuIGJNKGUsYSksTU0odCxhLHRoaXMuX2RlZnMpLHRoaXMuX3RleHRYKz1yLHRoaXMuX3RleHRZKz1vLGF9LHBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgbj1NbCh0LmdldEF0dHJpYnV0ZShcImRcIil8fFwiXCIpO3JldHVybiBiTShlLG4pLE1NKHQsbix0aGlzLl9kZWZzKSxufX0pLHR9KCkseE09e2xpbmVhcmdyYWRpZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwieDFcIil8fFwiMFwiLDEwKSxuPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwieTFcIil8fFwiMFwiLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwieDJcIil8fFwiMTBcIiwxMCkscj1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcInkyXCIpfHxcIjBcIiwxMCksbz1uZXcgdXUoZSxuLGkscik7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5maXJzdENoaWxkO2Zvcig7bjspe2lmKDE9PT1uLm5vZGVUeXBlKXt2YXIgaT1uLmdldEF0dHJpYnV0ZShcIm9mZnNldFwiKSxyPXZvaWQgMDtyPWkuaW5kZXhPZihcIiVcIik+MD9wYXJzZUludChpLDEwKS8xMDA6aT9wYXJzZUZsb2F0KGkpOjA7dmFyIG89bi5nZXRBdHRyaWJ1dGUoXCJzdG9wLWNvbG9yXCIpfHxcIiMwMDAwMDBcIjtlLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnIsY29sb3I6b30pfW49bi5uZXh0U2libGluZ319KHQsbyksb319O2Z1bmN0aW9uIGJNKHQsZSl7dCYmdC5fX2luaGVyaXRlZFN0eWxlJiYoZS5fX2luaGVyaXRlZFN0eWxlfHwoZS5fX2luaGVyaXRlZFN0eWxlPXt9KSxUKGUuX19pbmhlcml0ZWRTdHlsZSx0Ll9faW5oZXJpdGVkU3R5bGUpKX1mdW5jdGlvbiB3TSh0KXtmb3IodmFyIGU9b3QodCkuc3BsaXQobU0pLG49W10saT0wO2k8ZS5sZW5ndGg7aSs9Mil7dmFyIHI9cGFyc2VGbG9hdChlW2ldKSxvPXBhcnNlRmxvYXQoZVtpKzFdKTtuLnB1c2goW3Isb10pfXJldHVybiBufXZhciBTTT17ZmlsbDpcImZpbGxcIixzdHJva2U6XCJzdHJva2VcIixcInN0cm9rZS13aWR0aFwiOlwibGluZVdpZHRoXCIsb3BhY2l0eTpcIm9wYWNpdHlcIixcImZpbGwtb3BhY2l0eVwiOlwiZmlsbE9wYWNpdHlcIixcInN0cm9rZS1vcGFjaXR5XCI6XCJzdHJva2VPcGFjaXR5XCIsXCJzdHJva2UtZGFzaGFycmF5XCI6XCJsaW5lRGFzaFwiLFwic3Ryb2tlLWRhc2hvZmZzZXRcIjpcImxpbmVEYXNoT2Zmc2V0XCIsXCJzdHJva2UtbGluZWNhcFwiOlwibGluZUNhcFwiLFwic3Ryb2tlLWxpbmVqb2luXCI6XCJsaW5lSm9pblwiLFwic3Ryb2tlLW1pdGVybGltaXRcIjpcIm1pdGVyTGltaXRcIixcImZvbnQtZmFtaWx5XCI6XCJmb250RmFtaWx5XCIsXCJmb250LXNpemVcIjpcImZvbnRTaXplXCIsXCJmb250LXN0eWxlXCI6XCJmb250U3R5bGVcIixcImZvbnQtd2VpZ2h0XCI6XCJmb250V2VpZ2h0XCIsXCJ0ZXh0LWFsaWduXCI6XCJ0ZXh0QWxpZ25cIixcImFsaWdubWVudC1iYXNlbGluZVwiOlwidGV4dEJhc2VsaW5lXCJ9O2Z1bmN0aW9uIE1NKHQsZSxuLGkpe3ZhciByPWUsbz1yLl9faW5oZXJpdGVkU3R5bGV8fHt9O2lmKDE9PT10Lm5vZGVUeXBlJiYoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKTtpZihuKXtuPW4ucmVwbGFjZSgvLC9nLFwiIFwiKTt2YXIgaT1bXSxyPW51bGw7bi5yZXBsYWNlKENNLChmdW5jdGlvbih0LGUsbil7cmV0dXJuIGkucHVzaChlLG4pLFwiXCJ9KSk7Zm9yKHZhciBvPWkubGVuZ3RoLTE7bz4wO28tPTIpe3ZhciBhPWlbb10scz12b2lkIDA7c3dpdGNoKHI9cnx8WzEsMCwwLDEsMCwwXSxpW28tMV0pe2Nhc2VcInRyYW5zbGF0ZVwiOnM9b3QoYSkuc3BsaXQobU0pLG1lKHIscixbcGFyc2VGbG9hdChzWzBdKSxwYXJzZUZsb2F0KHNbMV18fFwiMFwiKV0pO2JyZWFrO2Nhc2VcInNjYWxlXCI6cz1vdChhKS5zcGxpdChtTSkseGUocixyLFtwYXJzZUZsb2F0KHNbMF0pLHBhcnNlRmxvYXQoc1sxXXx8c1swXSldKTticmVhaztjYXNlXCJyb3RhdGVcIjpzPW90KGEpLnNwbGl0KG1NKSxfZShyLHIscGFyc2VGbG9hdChzWzBdKSk7YnJlYWs7Y2FzZVwic2tld1wiOnM9b3QoYSkuc3BsaXQobU0pLGNvbnNvbGUud2FybihcIlNrZXcgdHJhbnNmb3JtIGlzIG5vdCBzdXBwb3J0ZWQgeWV0XCIpO2JyZWFrO2Nhc2VcIm1hdHJpeFwiOnM9b3QoYSkuc3BsaXQobU0pLHJbMF09cGFyc2VGbG9hdChzWzBdKSxyWzFdPXBhcnNlRmxvYXQoc1sxXSksclsyXT1wYXJzZUZsb2F0KHNbMl0pLHJbM109cGFyc2VGbG9hdChzWzNdKSxyWzRdPXBhcnNlRmxvYXQoc1s0XSkscls1XT1wYXJzZUZsb2F0KHNbNV0pfX1lLnNldExvY2FsVHJhbnNmb3JtKHIpfX0odCxlKSxJKG8sZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxuPXt9O2lmKCFlKXJldHVybiBuO3ZhciBpLHI9e307QU0ubGFzdEluZGV4PTA7Zm9yKDtudWxsIT0oaT1BTS5leGVjKGUpKTspcltpWzFdXT1pWzJdO2Zvcih2YXIgbyBpbiBTTSlTTS5oYXNPd25Qcm9wZXJ0eShvKSYmbnVsbCE9cltvXSYmKG5bU01bb11dPXJbb10pO3JldHVybiBufSh0KSksIWkpKWZvcih2YXIgYSBpbiBTTSlpZihTTS5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHM9dC5nZXRBdHRyaWJ1dGUoYSk7bnVsbCE9cyYmKG9bU01bYV1dPXMpfXIuc3R5bGU9ci5zdHlsZXx8e30sbnVsbCE9by5maWxsJiYoci5zdHlsZS5maWxsPVRNKG8uZmlsbCxuKSksbnVsbCE9by5zdHJva2UmJihyLnN0eWxlLnN0cm9rZT1UTShvLnN0cm9rZSxuKSksUChbXCJsaW5lV2lkdGhcIixcIm9wYWNpdHlcIixcImZpbGxPcGFjaXR5XCIsXCJzdHJva2VPcGFjaXR5XCIsXCJtaXRlckxpbWl0XCIsXCJmb250U2l6ZVwiXSwoZnVuY3Rpb24odCl7bnVsbCE9b1t0XSYmKHIuc3R5bGVbdF09cGFyc2VGbG9hdChvW3RdKSl9KSksby50ZXh0QmFzZWxpbmUmJlwiYXV0b1wiIT09by50ZXh0QmFzZWxpbmV8fChvLnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIiksXCJhbHBoYWJldGljXCI9PT1vLnRleHRCYXNlbGluZSYmKG8udGV4dEJhc2VsaW5lPVwiYm90dG9tXCIpLFwic3RhcnRcIj09PW8udGV4dEFsaWduJiYoby50ZXh0QWxpZ249XCJsZWZ0XCIpLFwiZW5kXCI9PT1vLnRleHRBbGlnbiYmKG8udGV4dEFsaWduPVwicmlnaHRcIiksUChbXCJsaW5lRGFzaE9mZnNldFwiLFwibGluZUNhcFwiLFwibGluZUpvaW5cIixcImZvbnRXZWlnaHRcIixcImZvbnRGYW1pbHlcIixcImZvbnRTdHlsZVwiLFwidGV4dEFsaWduXCIsXCJ0ZXh0QmFzZWxpbmVcIl0sKGZ1bmN0aW9uKHQpe251bGwhPW9bdF0mJihyLnN0eWxlW3RdPW9bdF0pfSkpLG8ubGluZURhc2gmJihyLnN0eWxlLmxpbmVEYXNoPU8ob3Qoby5saW5lRGFzaCkuc3BsaXQobU0pLChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KX0pKSksci5fX2luaGVyaXRlZFN0eWxlPW99dmFyIElNPS91cmxcXChcXHMqIyguKj8pXFwpLztmdW5jdGlvbiBUTSh0LGUpe3ZhciBuPWUmJnQmJnQubWF0Y2goSU0pO3JldHVybiBuP2Vbb3QoblsxXSldOnR9dmFyIENNPS8odHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3WHxza2V3WXxtYXRyaXgpXFwoKFtcXC1cXHMwLTlcXC5lLF0qKVxcKS9nO3ZhciBBTT0vKFteXFxzOjtdKylcXHMqOlxccyooW146O10rKS9nO2Z1bmN0aW9uIERNKHQsZSxuKXt2YXIgaT1lL3Qud2lkdGgscj1uL3QuaGVpZ2h0LG89TWF0aC5taW4oaSxyKTtyZXR1cm57c2NhbGU6byx4Oi0odC54K3Qud2lkdGgvMikqbytlLzIseTotKHQueSt0LmhlaWdodC8yKSpvK24vMn19dmFyIExNPUxyKCk7ZnVuY3Rpb24ga00odCxlKXt2YXIgbixpLHIsbyxhPXQuc3ZnWE1MO3RyeXtydChudWxsIT0oaT0obj1hJiYocj1hLG89e2lnbm9yZVZpZXdCb3g6ITAsaWdub3JlUm9vdENsaXA6ITB9LChuZXcgX00pLnBhcnNlKHIsbykpfHx7fSkucm9vdCkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3ZnIGZvcm1hdFxcblwiK3QubWVzc2FnZSl9dmFyIHM9bi53aWR0aCxsPW4uaGVpZ2h0LHU9bi52aWV3Qm94UmVjdDtpZihlfHwoZT1udWxsPT1zfHxudWxsPT1sP2kuZ2V0Qm91bmRpbmdSZWN0KCk6bmV3IFJuKDAsMCwwLDApLG51bGwhPXMmJihlLndpZHRoPXMpLG51bGwhPWwmJihlLmhlaWdodD1sKSksdSl7dmFyIGg9RE0odSxlLndpZHRoLGUuaGVpZ2h0KSxjPWk7KGk9bmV3IHppKS5hZGQoYyksYy5zY2FsZVg9Yy5zY2FsZVk9aC5zY2FsZSxjLng9aC54LGMueT1oLnl9cmV0dXJuIGkuc2V0Q2xpcFBhdGgobmV3IG9zKHtzaGFwZTplLnBsYWluKCl9KSkse3Jvb3Q6aSxib3VuZGluZ1JlY3Q6ZX19dmFyIFBNPXtnZW9KU09OOmdNLHN2Zzp7bG9hZDpmdW5jdGlvbih0LGUpe3ZhciBuPUxNKGUpLm9yaWdpblJvb3Q7aWYobilyZXR1cm57cm9vdDpuLGJvdW5kaW5nUmVjdDpMTShlKS5ib3VuZGluZ1JlY3R9O3ZhciBpPWtNKGUpO3JldHVybiBMTShlKS5vcmlnaW5Sb290PWkucm9vdCxMTShlKS5ib3VuZGluZ1JlY3Q9aS5ib3VuZGluZ1JlY3QsaX0sbWFrZUdyYXBoaWM6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUxNKGUpLHI9aS5yb290TWFwfHwoaS5yb290TWFwPWh0KCkpLG89ci5nZXQobik7aWYobylyZXR1cm4gbzt2YXIgYT1pLm9yaWdpblJvb3Qscz1pLmJvdW5kaW5nUmVjdDtyZXR1cm4gaS5vcmlnaW5Sb290SG9zdEtleT9vPWtNKGUscykucm9vdDooaS5vcmlnaW5Sb290SG9zdEtleT1uLG89YSksci5zZXQobixvKX0scmVtb3ZlR3JhcGhpYzpmdW5jdGlvbih0LGUsbil7dmFyIGk9TE0oZSkscj1pLnJvb3RNYXA7ciYmci5yZW1vdmVLZXkobiksbj09PWkub3JpZ2luUm9vdEhvc3RLZXkmJihpLm9yaWdpblJvb3RIb3N0S2V5PW51bGwpfX19LE9NPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyPVtdLG89aHQoKSxhPWh0KCk7cmV0dXJuIFAoRU0odCksKGZ1bmN0aW9uKHMpe3ZhciBsPVBNW3MudHlwZV0ubG9hZCh0LHMsbik7UChsLnJlZ2lvbnMsKGZ1bmN0aW9uKHQpe3ZhciBuPXQubmFtZTtlJiZlLmhhc093blByb3BlcnR5KG4pJiYodD10LmNsb25lU2hhbGxvdyhuPWVbbl0pKSxyLnB1c2godCksby5zZXQobix0KSxhLnNldChuLHQuY2VudGVyKX0pKTt2YXIgdT1sLmJvdW5kaW5nUmVjdDt1JiYoaT9pLnVuaW9uKHUpOmk9dS5jbG9uZSgpKX0pKSx7cmVnaW9uczpyLHJlZ2lvbnNNYXA6byxuYW1lQ29vcmRNYXA6YSxib3VuZGluZ1JlY3Q6aXx8bmV3IFJuKDAsMCwwLDApfX0sUk09ZnVuY3Rpb24odCxlKXt2YXIgbj1FTSh0KSxpPVtdO3JldHVybiBQKG4sKGZ1bmN0aW9uKG4pe3ZhciByPVBNW24udHlwZV0ubWFrZUdyYXBoaWM7ciYmaS5wdXNoKHIodCxuLGUpKX0pKSxpfSxOTT1mdW5jdGlvbih0LGUpe1AoRU0odCksKGZ1bmN0aW9uKG4pe3ZhciBpPVBNW24udHlwZV0ubWFrZUdyYXBoaWM7aSYmaSh0LG4sZSl9KSl9O2Z1bmN0aW9uIEVNKHQpe3ZhciBlPWxnKHQpfHxbXTtyZXR1cm4gZX1mdW5jdGlvbiB6TSh0KXt2YXIgZT10LmdldEl0ZW1TdHlsZSgpLG49dC5nZXQoXCJhcmVhQ29sb3JcIik7cmV0dXJuIG51bGwhPW4mJihlLmZpbGw9biksZX12YXIgQk09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPW5ldyB6aTt0aGlzLnVpZD1JaChcImVjX21hcF9kcmF3XCIpLHRoaXMuX2NvbnRyb2xsZXI9bmV3IFFTKHQuZ2V0WnIoKSksdGhpcy5fY29udHJvbGxlckhvc3Q9e3RhcmdldDplfSx0aGlzLmdyb3VwPWUsZS5hZGQodGhpcy5fcmVnaW9uc0dyb3VwPW5ldyB6aSksZS5hZGQodGhpcy5fYmFja2dyb3VuZEdyb3VwPW5ldyB6aSl9cmV0dXJuIHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1cImdlb1wiPT09dC5tYWluVHlwZSxhPXQuZ2V0RGF0YSYmdC5nZXREYXRhKCk7byYmZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInNlcmllc1wiLHN1YlR5cGU6XCJtYXBcIn0sKGZ1bmN0aW9uKGUpe2F8fGUuZ2V0SG9zdEdlb01vZGVsKCkhPT10fHwoYT1lLmdldERhdGEoKSl9KSk7dmFyIHM9dC5jb29yZGluYXRlU3lzdGVtO3RoaXMuX3VwZGF0ZUJhY2tncm91bmQocyk7dmFyIGwsdSxoPXRoaXMuX3JlZ2lvbnNHcm91cCxjPXRoaXMuZ3JvdXAscD1zLmdldFRyYW5zZm9ybUluZm8oKSxkPSFoLmNoaWxkQXQoMCl8fHI7aWYoZCljLnRyYW5zZm9ybT1wLnJvYW1UcmFuc2Zvcm0sYy5kZWNvbXBvc2VUcmFuc2Zvcm0oKSxjLmRpcnR5KCk7ZWxzZXt2YXIgZj1uZXcga2U7Zi50cmFuc2Zvcm09cC5yb2FtVHJhbnNmb3JtLGYuZGVjb21wb3NlVHJhbnNmb3JtKCk7dmFyIGc9e3NjYWxlWDpmLnNjYWxlWCxzY2FsZVk6Zi5zY2FsZVkseDpmLngseTpmLnl9O2w9Zi5zY2FsZVgsdT1mLnNjYWxlWSxPdShjLGcsdCl9aC5yZW1vdmVBbGwoKTt2YXIgeT1odCgpLHY9YSYmYS5nZXRWaXN1YWwoXCJ2aXN1YWxNZXRhXCIpJiZhLmdldFZpc3VhbChcInZpc3VhbE1ldGFcIikubGVuZ3RoPjA7UChzLnJlZ2lvbnMsKGZ1bmN0aW9uKGUpe3ZhciBpPXkuZ2V0KGUubmFtZSl8fHkuc2V0KGUubmFtZSxuZXcgemkpLHI9bmV3IHN1KHtzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc2hhcGU6e3BhdGhzOltdfX0pO2kuYWRkKHIpO3ZhciBzLGY9dC5nZXRSZWdpb25Nb2RlbChlLm5hbWUpfHx0LGc9Zi5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKSxtPWYuZ2V0TW9kZWwoXCJlbXBoYXNpc1wiKSxfPW0uZ2V0TW9kZWwoXCJpdGVtU3R5bGVcIikseD1mLmdldE1vZGVsKFtcImJsdXJcIixcIml0ZW1TdHlsZVwiXSksYj1mLmdldE1vZGVsKFtcInNlbGVjdFwiLFwiaXRlbVN0eWxlXCJdKSx3PXpNKGcpLFM9ek0oXyksTT16TSh4KSxJPXpNKGIpO2lmKGEpe3M9YS5pbmRleE9mTmFtZShlLm5hbWUpO3ZhciBUPWEuZ2V0SXRlbVZpc3VhbChzLFwic3R5bGVcIiksQz1hLmdldEl0ZW1WaXN1YWwocyxcImRlY2FsXCIpO3YmJlQuZmlsbCYmKHcuZmlsbD1ULmZpbGwpLEMmJih3LmRlY2FsPWt5KEMsbikpfXZhciBBPXAucmF3U2NhbGVYLEQ9cC5yYXdTY2FsZVksTD1wLnJhd1gsaz1wLnJhd1ksTz1mdW5jdGlvbih0KXtyZXR1cm5bdFswXSpBK0wsdFsxXSpEK2tdfTtQKGUuZ2VvbWV0cmllcywoZnVuY3Rpb24odCl7aWYoXCJwb2x5Z29uXCI9PT10LnR5cGUpe2Zvcih2YXIgZT1bXSxuPTA7bjx0LmV4dGVyaW9yLmxlbmd0aDsrK24pZS5wdXNoKE8odC5leHRlcmlvcltuXSkpO3Iuc2hhcGUucGF0aHMucHVzaChuZXcgcWwoe3NlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzaGFwZTp7cG9pbnRzOmV9fSkpO2ZvcihuPTA7bjwodC5pbnRlcmlvcnM/dC5pbnRlcmlvcnMubGVuZ3RoOjApOysrbil7Zm9yKHZhciBpPXQuaW50ZXJpb3JzW25dLG89W10sYT0wO2E8aS5sZW5ndGg7KythKW8ucHVzaChPKGlbYV0pKTtyLnNoYXBlLnBhdGhzLnB1c2gobmV3IHFsKHtzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc2hhcGU6e3BvaW50czpvfX0pKX19fSkpLHIuc2V0U3R5bGUodyksci5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLHIuY3VsbGluZz0hMCxyLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGU9UyxyLmVuc3VyZVN0YXRlKFwiYmx1clwiKS5zdHlsZT1NLHIuZW5zdXJlU3RhdGUoXCJzZWxlY3RcIikuc3R5bGU9STtmb3IodmFyIFI9ITEsTj0wO048YnMubGVuZ3RoO04rKyl7dmFyIEU9YnNbTl07aWYoZi5nZXQoXCJub3JtYWxcIj09PUU/W1wibGFiZWxcIixcInNob3dcIl06W0UsXCJsYWJlbFwiLFwic2hvd1wiXSkpe1I9ITA7YnJlYWt9fXZhciB6PWEmJmlzTmFOKGEuZ2V0KGEubWFwRGltZW5zaW9uKFwidmFsdWVcIikscykpLEI9YSYmYS5nZXRJdGVtTGF5b3V0KHMpO2lmKG98fHomJlJ8fEImJkIuc2hvd0xhYmVsKXt2YXIgVj1vP2UubmFtZTpzLEY9dm9pZCAwOyghYXx8cz49MCkmJihGPXQpO3ZhciBHPU8oZS5jZW50ZXIpLEg9bmV3IGxzKHt4OkdbMF0seTpHWzFdLHNjYWxlWDoxL2Muc2NhbGVYLHNjYWxlWToxL2Muc2NhbGVZLHoyOjEwLHNpbGVudDohMH0pO3RoKEgsZWgoZikse2xhYmVsRmV0Y2hlcjpGLGxhYmVsRGF0YUluZGV4OlYsZGVmYXVsdFRleHQ6ZS5uYW1lfSx7bm9ybWFsOnthbGlnbjpcImNlbnRlclwiLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIn19KSxyLnNldFRleHRDb250ZW50KEgpLHIuc2V0VGV4dENvbmZpZyh7bG9jYWw6ITB9KSxyLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMCxkfHxPdShILHtzY2FsZVg6MS9sLHNjYWxlWToxL3V9LHQpfWlmKGEpYS5zZXRJdGVtR3JhcGhpY0VsKHMsaSk7ZWxzZXt2YXIgVz10LmdldFJlZ2lvbk1vZGVsKGUubmFtZSk7eXMocikuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOlwiZ2VvXCIsY29tcG9uZW50SW5kZXg6dC5jb21wb25lbnRJbmRleCxnZW9JbmRleDp0LmNvbXBvbmVudEluZGV4LG5hbWU6ZS5uYW1lLHJlZ2lvbjpXJiZXLm9wdGlvbnx8e319fShpLl9fcmVnaW9uc3x8KGkuX19yZWdpb25zPVtdKSkucHVzaChlKSxpLmhpZ2hEb3duU2lsZW50T25Ub3VjaD0hIXQuZ2V0KFwic2VsZWN0ZWRNb2RlXCIpLEpzKGksbS5nZXQoXCJmb2N1c1wiKSxtLmdldChcImJsdXJTY29wZVwiKSksaC5hZGQoaSl9KSksdGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbiksdGhpcy5fdXBkYXRlTWFwU2VsZWN0SGFuZGxlcih0LGgsbixpKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fcmVnaW9uc0dyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2JhY2tncm91bmRHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9tYXBOYW1lJiZOTSh0aGlzLl9tYXBOYW1lLHRoaXMudWlkKSx0aGlzLl9tYXBOYW1lPW51bGwsdGhpcy5fY29udHJvbGxlckhvc3Q9bnVsbH0sdC5wcm90b3R5cGUuX3VwZGF0ZUJhY2tncm91bmQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5tYXA7dGhpcy5fbWFwTmFtZSE9PWUmJlAoUk0oZSx0aGlzLnVpZCksKGZ1bmN0aW9uKHQpe3RoaXMuX2JhY2tncm91bmRHcm91cC5hZGQodCl9KSx0aGlzKSx0aGlzLl9tYXBOYW1lPWV9LHQucHJvdG90eXBlLl91cGRhdGVDb250cm9sbGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmNvb3JkaW5hdGVTeXN0ZW0scj10aGlzLl9jb250cm9sbGVyLG89dGhpcy5fY29udHJvbGxlckhvc3Q7by56b29tTGltaXQ9dC5nZXQoXCJzY2FsZUxpbWl0XCIpLG8uem9vbT1pLmdldFpvb20oKSxyLmVuYWJsZSh0LmdldChcInJvYW1cIil8fCExKTt2YXIgYT10Lm1haW5UeXBlO2Z1bmN0aW9uIHMoKXt2YXIgZT17dHlwZTpcImdlb1JvYW1cIixjb21wb25lbnRUeXBlOmF9O3JldHVybiBlW2ErXCJJZFwiXT10LmlkLGV9ci5vZmYoXCJwYW5cIikub24oXCJwYW5cIiwoZnVuY3Rpb24odCl7dGhpcy5fbW91c2VEb3duRmxhZz0hMSxpTShvLHQuZHgsdC5keSksbi5kaXNwYXRjaEFjdGlvbihJKHMoKSx7ZHg6dC5keCxkeTp0LmR5fSkpfSksdGhpcyksci5vZmYoXCJ6b29tXCIpLm9uKFwiem9vbVwiLChmdW5jdGlvbih0KXt0aGlzLl9tb3VzZURvd25GbGFnPSExLHJNKG8sdC5zY2FsZSx0Lm9yaWdpblgsdC5vcmlnaW5ZKSxuLmRpc3BhdGNoQWN0aW9uKEkocygpLHt6b29tOnQuc2NhbGUsb3JpZ2luWDp0Lm9yaWdpblgsb3JpZ2luWTp0Lm9yaWdpbll9KSk7dmFyIGU9dGhpcy5ncm91cDt0aGlzLl9yZWdpb25zR3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0VGV4dENvbnRlbnQoKTtuJiYobi5zY2FsZVg9MS9lLnNjYWxlWCxuLnNjYWxlWT0xL2Uuc2NhbGVZLG4ubWFya1JlZHJhdygpKX0pKX0pLHRoaXMpLHIuc2V0UG9pbnRlckNoZWNrZXIoKGZ1bmN0aW9uKGUscixvKXtyZXR1cm4gaS5nZXRWaWV3UmVjdEFmdGVyUm9hbSgpLmNvbnRhaW4ocixvKSYmIWFNKGUsbix0KX0pKX0sdC5wcm90b3R5cGUuX3VwZGF0ZU1hcFNlbGVjdEhhbmRsZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcztlLm9mZihcIm1vdXNlZG93blwiKSx0LmdldChcInNlbGVjdGVkTW9kZVwiKSYmKGUub24oXCJtb3VzZWRvd25cIiwoZnVuY3Rpb24oKXtyLl9tb3VzZURvd25GbGFnPSEwfSkpLGUub24oXCJjbGlja1wiLChmdW5jdGlvbih0KXtyLl9tb3VzZURvd25GbGFnJiYoci5fbW91c2VEb3duRmxhZz0hMSl9KSkpfSx0fSgpLFZNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXtpZighaXx8XCJtYXBUb2dnbGVTZWxlY3RcIiE9PWkudHlwZXx8aS5mcm9tIT09dGhpcy51aWQpe3ZhciByPXRoaXMuZ3JvdXA7aWYoci5yZW1vdmVBbGwoKSwhdC5nZXRIb3N0R2VvTW9kZWwoKSl7aWYoaSYmXCJnZW9Sb2FtXCI9PT1pLnR5cGUmJlwic2VyaWVzXCI9PT1pLmNvbXBvbmVudFR5cGUmJmkuc2VyaWVzSWQ9PT10LmlkKShvPXRoaXMuX21hcERyYXcpJiZyLmFkZChvLmdyb3VwKTtlbHNlIGlmKHQubmVlZHNEcmF3TWFwKXt2YXIgbz10aGlzLl9tYXBEcmF3fHxuZXcgQk0obik7ci5hZGQoby5ncm91cCksby5kcmF3KHQsZSxuLHRoaXMsaSksdGhpcy5fbWFwRHJhdz1vfWVsc2UgdGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGw7dC5nZXQoXCJzaG93TGVnZW5kU3ltYm9sXCIpJiZlLmdldENvbXBvbmVudChcImxlZ2VuZFwiKSYmdGhpcy5fcmVuZGVyU3ltYm9scyh0LGUsbil9fX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsfSxlLnByb3RvdHlwZS5fcmVuZGVyU3ltYm9scz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5vcmlnaW5hbERhdGEscj10aGlzLmdyb3VwO2kuZWFjaChpLm1hcERpbWVuc2lvbihcInZhbHVlXCIpLChmdW5jdGlvbihlLG4pe2lmKCFpc05hTihlKSl7dmFyIG89aS5nZXRJdGVtTGF5b3V0KG4pO2lmKG8mJm8ucG9pbnQpe3ZhciBhPW8ucG9pbnQscz1vLm9mZnNldCxsPW5ldyBUbCh7c3R5bGU6e2ZpbGw6dC5nZXREYXRhKCkuZ2V0VmlzdWFsKFwic3R5bGVcIikuZmlsbH0sc2hhcGU6e2N4OmFbMF0rOSpzLGN5OmFbMV0scjozfSxzaWxlbnQ6ITAsejI6OCsocz8wOjExKX0pO2lmKCFzKXt2YXIgdT10Lm1haW5TZXJpZXMuZ2V0RGF0YSgpLGg9aS5nZXROYW1lKG4pLGM9dS5pbmRleE9mTmFtZShoKSxwPWkuZ2V0SXRlbU1vZGVsKG4pLGQ9cC5nZXRNb2RlbChcImxhYmVsXCIpLGY9dS5nZXRJdGVtR3JhcGhpY0VsKGMpO3RoKGwsZWgocCkse2xhYmVsRmV0Y2hlcjp7Z2V0Rm9ybWF0dGVkTGFiZWw6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5nZXRGb3JtYXR0ZWRMYWJlbChjLG4pfX19KSxsLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMCxkLmdldChcInBvc2l0aW9uXCIpfHxsLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOlwiYm90dG9tXCJ9KSxmLm9uSG92ZXJTdGF0ZUNoYW5nZT1mdW5jdGlvbih0KXtsLnVzZVN0YXRlKHQpfX1yLmFkZChsKX19fSkpfSxlLnR5cGU9XCJtYXBcIixlfSh5ZiksRk09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLm5lZWRzRHJhd01hcD0hMSxuLnNlcmllc0dyb3VwPVtdLG4uZ2V0VG9vbHRpcFBvc2l0aW9uPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLmdldE5hbWUodCksbj10aGlzLmNvb3JkaW5hdGVTeXN0ZW0saT1uLmdldFJlZ2lvbihlKTtyZXR1cm4gaSYmbi5kYXRhVG9Qb2ludChpLmNlbnRlcil9fSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVJ3KHRoaXMse2Nvb3JkRGltZW5zaW9uczpbXCJ2YWx1ZVwiXSxlbmNvZGVEZWZhdWx0ZXI6VihRYyx0aGlzKX0pLG49aHQoKSxpPVtdLHI9MCxvPWUuY291bnQoKTtyPG87cisrKXt2YXIgYT1lLmdldE5hbWUocik7bi5zZXQoYSwhMCl9cmV0dXJuIFAoT00odGhpcy5nZXRNYXBUeXBlKCksdGhpcy5vcHRpb24ubmFtZU1hcCx0aGlzLm9wdGlvbi5uYW1lUHJvcGVydHkpLnJlZ2lvbnMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZTtuLmdldChlKXx8aS5wdXNoKGUpfSkpLGUuYXBwZW5kVmFsdWVzKFtdLGkpLGV9LGUucHJvdG90eXBlLmdldEhvc3RHZW9Nb2RlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLmdlb0luZGV4O3JldHVybiBudWxsIT10P3RoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQoXCJnZW9cIix0KTpudWxsfSxlLnByb3RvdHlwZS5nZXRNYXBUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZ2V0SG9zdEdlb01vZGVsKCl8fHRoaXMpLm9wdGlvbi5tYXB9LGUucHJvdG90eXBlLmdldFJhd1ZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpO3JldHVybiBlLmdldChlLm1hcERpbWVuc2lvbihcInZhbHVlXCIpLHQpfSxlLnByb3RvdHlwZS5nZXRSZWdpb25Nb2RlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKTtyZXR1cm4gZS5nZXRJdGVtTW9kZWwoZS5pbmRleE9mTmFtZSh0KSl9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0UmF3VmFsdWUodCksbz1pLmdldE5hbWUodCksYT10aGlzLnNlcmllc0dyb3VwLHM9W10sbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgdT1hW2xdLm9yaWdpbmFsRGF0YS5pbmRleE9mTmFtZShvKSxoPWkubWFwRGltZW5zaW9uKFwidmFsdWVcIik7aXNOYU4oYVtsXS5vcmlnaW5hbERhdGEuZ2V0KGgsdSkpfHxzLnB1c2goYVtsXS5uYW1lKX1yZXR1cm4gWWQoXCJzZWN0aW9uXCIse2hlYWRlcjpzLmpvaW4oXCIsIFwiKSxub0hlYWRlcjohcy5sZW5ndGgsYmxvY2tzOltZZChcIm5hbWVWYWx1ZVwiLHtuYW1lOm8sdmFsdWU6cn0pXX0pfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxlLnR5cGU9XCJzZXJpZXMubWFwXCIsZS5kZXBlbmRlbmNpZXM9W1wiZ2VvXCJdLGUubGF5b3V0TW9kZT1cImJveFwiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06XCJnZW9cIixtYXA6XCJcIixsZWZ0OlwiY2VudGVyXCIsdG9wOlwiY2VudGVyXCIsYXNwZWN0U2NhbGU6Ljc1LHNob3dMZWdlbmRTeW1ib2w6ITAsYm91bmRpbmdDb29yZHM6bnVsbCxjZW50ZXI6bnVsbCx6b29tOjEsc2NhbGVMaW1pdDpudWxsLHNlbGVjdGVkTW9kZTohMCxsYWJlbDp7c2hvdzohMSxjb2xvcjpcIiMwMDBcIn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDouNSxib3JkZXJDb2xvcjpcIiM0NDRcIixhcmVhQ29sb3I6XCIjZWVlXCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjpcInJnYigxMDAsMCwwKVwifSxpdGVtU3R5bGU6e2FyZWFDb2xvcjpcInJnYmEoMjU1LDIxNSwwLDAuOClcIn19LHNlbGVjdDp7bGFiZWw6e3Nob3c6ITAsY29sb3I6XCJyZ2IoMTAwLDAsMClcIn0saXRlbVN0eWxlOntjb2xvcjpcInJnYmEoMjU1LDIxNSwwLDAuOClcIn19LG5hbWVQcm9wZXJ0eTpcIm5hbWVcIn0sZX0ocmYpO2Z1bmN0aW9uIEdNKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZShcIm1hcFwiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldEhvc3RHZW9Nb2RlbCgpLGk9bj9cIm9cIituLmlkOlwiaVwiK3QuZ2V0TWFwVHlwZSgpOyhlW2ldPWVbaV18fFtdKS5wdXNoKHQpfSkpLFAoZSwoZnVuY3Rpb24odCxlKXtmb3IodmFyIG4saSxyLG89KG49Tyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXREYXRhKCl9KSksaT10WzBdLmdldChcIm1hcFZhbHVlQ2FsY3VsYXRpb25cIikscj17fSxQKG4sKGZ1bmN0aW9uKHQpe3QuZWFjaCh0Lm1hcERpbWVuc2lvbihcInZhbHVlXCIpLChmdW5jdGlvbihlLG4pe3ZhciBpPVwiZWMtXCIrdC5nZXROYW1lKG4pO3JbaV09cltpXXx8W10saXNOYU4oZSl8fHJbaV0ucHVzaChlKX0pKX0pKSxuWzBdLm1hcChuWzBdLm1hcERpbWVuc2lvbihcInZhbHVlXCIpLChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbz1cImVjLVwiK25bMF0uZ2V0TmFtZShlKSxhPTAscz0xLzAsbD0tMS8wLHU9cltvXS5sZW5ndGgsaD0wO2g8dTtoKyspcz1NYXRoLm1pbihzLHJbb11baF0pLGw9TWF0aC5tYXgobCxyW29dW2hdKSxhKz1yW29dW2hdO3JldHVybiAwPT09dT9OYU46XCJtaW5cIj09PWk/czpcIm1heFwiPT09aT9sOlwiYXZlcmFnZVwiPT09aT9hL3U6YX0pKSksYT0wO2E8dC5sZW5ndGg7YSsrKXRbYV0ub3JpZ2luYWxEYXRhPXRbYV0uZ2V0RGF0YSgpO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspdFthXS5zZXJpZXNHcm91cD10LHRbYV0ubmVlZHNEcmF3TWFwPTA9PT1hJiYhdFthXS5nZXRIb3N0R2VvTW9kZWwoKSx0W2FdLnNldERhdGEoby5jbG9uZVNoYWxsb3coKSksdFthXS5tYWluU2VyaWVzPXRbMF19KSl9ZnVuY3Rpb24gSE0odCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKFwibWFwXCIsKGZ1bmN0aW9uKG4pe3ZhciBpPW4uZ2V0TWFwVHlwZSgpO2lmKCFuLmdldEhvc3RHZW9Nb2RlbCgpJiYhZVtpXSl7dmFyIHI9e307UChuLnNlcmllc0dyb3VwLChmdW5jdGlvbihlKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW0saT1lLm9yaWdpbmFsRGF0YTtlLmdldChcInNob3dMZWdlbmRTeW1ib2xcIikmJnQuZ2V0Q29tcG9uZW50KFwibGVnZW5kXCIpJiZpLmVhY2goaS5tYXBEaW1lbnNpb24oXCJ2YWx1ZVwiKSwoZnVuY3Rpb24odCxlKXt2YXIgbz1pLmdldE5hbWUoZSksYT1uLmdldFJlZ2lvbihvKTtpZihhJiYhaXNOYU4odCkpe3ZhciBzPXJbb118fDAsbD1uLmRhdGFUb1BvaW50KGEuY2VudGVyKTtyW29dPXMrMSxpLnNldEl0ZW1MYXlvdXQoZSx7cG9pbnQ6bCxvZmZzZXQ6c30pfX0pKX0pKTt2YXIgbz1uLmdldERhdGEoKTtvLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0TmFtZSh0KSxuPW8uZ2V0SXRlbUxheW91dCh0KXx8e307bi5zaG93TGFiZWw9IXJbZV0sby5zZXRJdGVtTGF5b3V0KHQsbil9KSksZVtpXT0hMH19KSl9ZnVuY3Rpb24gV00odCxlKXt2YXIgbj10LmlzRXhwYW5kP3QuY2hpbGRyZW46W10saT10LnBhcmVudE5vZGUuY2hpbGRyZW4scj10LmhpZXJOb2RlLmk/aVt0LmhpZXJOb2RlLmktMV06bnVsbDtpZihuLmxlbmd0aCl7IWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj1lLmxlbmd0aCxpPTAscj0wO2Zvcig7LS1uPj0wOyl7dmFyIG89ZVtuXTtvLmhpZXJOb2RlLnByZWxpbSs9aSxvLmhpZXJOb2RlLm1vZGlmaWVyKz1pLHIrPW8uaGllck5vZGUuY2hhbmdlLGkrPW8uaGllck5vZGUuc2hpZnQrcn19KHQpO3ZhciBvPShuWzBdLmhpZXJOb2RlLnByZWxpbStuW24ubGVuZ3RoLTFdLmhpZXJOb2RlLnByZWxpbSkvMjtyPyh0LmhpZXJOb2RlLnByZWxpbT1yLmhpZXJOb2RlLnByZWxpbStlKHQsciksdC5oaWVyTm9kZS5tb2RpZmllcj10LmhpZXJOb2RlLnByZWxpbS1vKTp0LmhpZXJOb2RlLnByZWxpbT1vfWVsc2UgciYmKHQuaGllck5vZGUucHJlbGltPXIuaGllck5vZGUucHJlbGltK2UodCxyKSk7dC5wYXJlbnROb2RlLmhpZXJOb2RlLmRlZmF1bHRBbmNlc3Rvcj1mdW5jdGlvbih0LGUsbixpKXtpZihlKXtmb3IodmFyIHI9dCxvPXQsYT1vLnBhcmVudE5vZGUuY2hpbGRyZW5bMF0scz1lLGw9ci5oaWVyTm9kZS5tb2RpZmllcix1PW8uaGllck5vZGUubW9kaWZpZXIsaD1hLmhpZXJOb2RlLm1vZGlmaWVyLGM9cy5oaWVyTm9kZS5tb2RpZmllcjtzPVpNKHMpLG89ak0obykscyYmbzspe3I9Wk0ociksYT1qTShhKSxyLmhpZXJOb2RlLmFuY2VzdG9yPXQ7dmFyIHA9cy5oaWVyTm9kZS5wcmVsaW0rYy1vLmhpZXJOb2RlLnByZWxpbS11K2kocyxvKTtwPjAmJihLTShxTShzLHQsbiksdCxwKSx1Kz1wLGwrPXApLGMrPXMuaGllck5vZGUubW9kaWZpZXIsdSs9by5oaWVyTm9kZS5tb2RpZmllcixsKz1yLmhpZXJOb2RlLm1vZGlmaWVyLGgrPWEuaGllck5vZGUubW9kaWZpZXJ9cyYmIVpNKHIpJiYoci5oaWVyTm9kZS50aHJlYWQ9cyxyLmhpZXJOb2RlLm1vZGlmaWVyKz1jLWwpLG8mJiFqTShhKSYmKGEuaGllck5vZGUudGhyZWFkPW8sYS5oaWVyTm9kZS5tb2RpZmllcis9dS1oLG49dCl9cmV0dXJuIG59KHQscix0LnBhcmVudE5vZGUuaGllck5vZGUuZGVmYXVsdEFuY2VzdG9yfHxpWzBdLGUpfWZ1bmN0aW9uIFlNKHQpe3ZhciBlPXQuaGllck5vZGUucHJlbGltK3QucGFyZW50Tm9kZS5oaWVyTm9kZS5tb2RpZmllcjt0LnNldExheW91dCh7eDplfSwhMCksdC5oaWVyTm9kZS5tb2RpZmllcis9dC5wYXJlbnROb2RlLmhpZXJOb2RlLm1vZGlmaWVyfWZ1bmN0aW9uIFhNKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3Q6JE19ZnVuY3Rpb24gVU0odCxlKXtyZXR1cm4gdC09TWF0aC5QSS8yLHt4OmUqTWF0aC5jb3ModCkseTplKk1hdGguc2luKHQpfX1mdW5jdGlvbiBaTSh0KXt2YXIgZT10LmNoaWxkcmVuO3JldHVybiBlLmxlbmd0aCYmdC5pc0V4cGFuZD9lW2UubGVuZ3RoLTFdOnQuaGllck5vZGUudGhyZWFkfWZ1bmN0aW9uIGpNKHQpe3ZhciBlPXQuY2hpbGRyZW47cmV0dXJuIGUubGVuZ3RoJiZ0LmlzRXhwYW5kP2VbMF06dC5oaWVyTm9kZS50aHJlYWR9ZnVuY3Rpb24gcU0odCxlLG4pe3JldHVybiB0LmhpZXJOb2RlLmFuY2VzdG9yLnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/dC5oaWVyTm9kZS5hbmNlc3RvcjpufWZ1bmN0aW9uIEtNKHQsZSxuKXt2YXIgaT1uLyhlLmhpZXJOb2RlLmktdC5oaWVyTm9kZS5pKTtlLmhpZXJOb2RlLmNoYW5nZS09aSxlLmhpZXJOb2RlLnNoaWZ0Kz1uLGUuaGllck5vZGUubW9kaWZpZXIrPW4sZS5oaWVyTm9kZS5wcmVsaW0rPW4sdC5oaWVyTm9kZS5jaGFuZ2UrPWl9ZnVuY3Rpb24gJE0odCxlKXtyZXR1cm4gdC5wYXJlbnROb2RlPT09ZS5wYXJlbnROb2RlPzE6Mn12YXIgSk09UnQsUU09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udHlwZT1cInZpZXdcIixuLmRpbWVuc2lvbnM9W1wieFwiLFwieVwiXSxuLl9yb2FtVHJhbnNmb3JtYWJsZT1uZXcga2Usbi5fcmF3VHJhbnNmb3JtYWJsZT1uZXcga2Usbi5uYW1lPWUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnNldEJvdW5kaW5nUmVjdD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdGhpcy5fcmVjdD1uZXcgUm4odCxlLG4saSksdGhpcy5fcmVjdH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LGUucHJvdG90eXBlLnNldFZpZXdSZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMudHJhbnNmb3JtVG8odCxlLG4saSksdGhpcy5fdmlld1JlY3Q9bmV3IFJuKHQsZSxuLGkpfSxlLnByb3RvdHlwZS50cmFuc2Zvcm1Ubz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLmdldEJvdW5kaW5nUmVjdCgpLG89dGhpcy5fcmF3VHJhbnNmb3JtYWJsZTtvLnRyYW5zZm9ybT1yLmNhbGN1bGF0ZVRyYW5zZm9ybShuZXcgUm4odCxlLG4saSkpLG8uZGVjb21wb3NlVHJhbnNmb3JtKCksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0KXt0JiYodGhpcy5fY2VudGVyPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpKX0sZS5wcm90b3R5cGUuc2V0Wm9vbT1mdW5jdGlvbih0KXt0PXR8fDE7dmFyIGU9dGhpcy56b29tTGltaXQ7ZSYmKG51bGwhPWUubWF4JiYodD1NYXRoLm1pbihlLm1heCx0KSksbnVsbCE9ZS5taW4mJih0PU1hdGgubWF4KGUubWluLHQpKSksdGhpcy5fem9vbT10LHRoaXMuX3VwZGF0ZUNlbnRlckFuZFpvb20oKX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdENlbnRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuW3QueCt0LndpZHRoLzIsdC55K3QuaGVpZ2h0LzJdfSxlLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2VudGVyfHx0aGlzLmdldERlZmF1bHRDZW50ZXIoKX0sZS5wcm90b3R5cGUuZ2V0Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfHwxfSxlLnByb3RvdHlwZS5nZXRSb2FtVHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLmdldExvY2FsVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLl91cGRhdGVDZW50ZXJBbmRab29tPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZS5nZXRMb2NhbFRyYW5zZm9ybSgpLGU9dGhpcy5fcm9hbVRyYW5zZm9ybWFibGUsbj10aGlzLmdldERlZmF1bHRDZW50ZXIoKSxpPXRoaXMuZ2V0Q2VudGVyKCkscj10aGlzLmdldFpvb20oKTtpPVJ0KFtdLGksdCksbj1SdChbXSxuLHQpLGUub3JpZ2luWD1pWzBdLGUub3JpZ2luWT1pWzFdLGUueD1uWzBdLWlbMF0sZS55PW5bMV0taVsxXSxlLnNjYWxlWD1lLnNjYWxlWT1yLHRoaXMuX3VwZGF0ZVRyYW5zZm9ybSgpfSxlLnByb3RvdHlwZS5fdXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcm9hbVRyYW5zZm9ybWFibGUsZT10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlO2UucGFyZW50PXQsdC51cGRhdGVUcmFuc2Zvcm0oKSxlLnVwZGF0ZVRyYW5zZm9ybSgpLHllKHRoaXMudHJhbnNmb3JtfHwodGhpcy50cmFuc2Zvcm09W10pLGUudHJhbnNmb3JtfHxbMSwwLDAsMSwwLDBdKSx0aGlzLl9yYXdUcmFuc2Zvcm09ZS5nZXRMb2NhbFRyYW5zZm9ybSgpLHRoaXMuaW52VHJhbnNmb3JtPXRoaXMuaW52VHJhbnNmb3JtfHxbXSxiZSh0aGlzLmludlRyYW5zZm9ybSx0aGlzLnRyYW5zZm9ybSksdGhpcy5kZWNvbXBvc2VUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtSW5mbz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLnRyYW5zZm9ybSxlPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7cmV0dXJue3JvYW1UcmFuc2Zvcm06dD9udCh0KTpbMSwwLDAsMSwwLDBdLHJhd1NjYWxlWDplLnNjYWxlWCxyYXdTY2FsZVk6ZS5zY2FsZVkscmF3WDplLngscmF3WTplLnl9fSxlLnByb3RvdHlwZS5nZXRWaWV3UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3UmVjdH0sZS5wcm90b3R5cGUuZ2V0Vmlld1JlY3RBZnRlclJvYW09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cmV0dXJuIHQuYXBwbHlUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm0pLHR9LGUucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lP3RoaXMuX3Jhd1RyYW5zZm9ybTp0aGlzLnRyYW5zZm9ybTtyZXR1cm4gbj1ufHxbXSxpP0pNKG4sdCxpKTp2dChuLHQpfSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmludlRyYW5zZm9ybTtyZXR1cm4gZT9KTShbXSx0LGUpOlt0WzBdLHRbMV1dfSxlLnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dEkoZSk7cmV0dXJuIGk9PT10aGlzP2kuZGF0YVRvUG9pbnQobik6bnVsbH0sZS5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dEkoZSk7cmV0dXJuIGk9PT10aGlzP2kucG9pbnRUb0RhdGEobik6bnVsbH0sZS5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFZpZXdSZWN0QWZ0ZXJSb2FtKCkuY29udGFpbih0WzBdLHRbMV0pfSxlLmRpbWVuc2lvbnM9W1wieFwiLFwieVwiXSxlfShrZSk7ZnVuY3Rpb24gdEkodCl7dmFyIGU9dC5zZXJpZXNNb2RlbDtyZXR1cm4gZT9lLmNvb3JkaW5hdGVTeXN0ZW06bnVsbH12YXIgZUk9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudFBvaW50PVtdLHRoaXMuY2hpbGRQb2ludHM9W119LG5JPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZTpcIiMwMDBcIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGVJfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmNoaWxkUG9pbnRzLGk9bi5sZW5ndGgscj1lLnBhcmVudFBvaW50LG89blswXSxhPW5baS0xXTtpZigxPT09aSlyZXR1cm4gdC5tb3ZlVG8oclswXSxyWzFdKSx2b2lkIHQubGluZVRvKG9bMF0sb1sxXSk7dmFyIHM9ZS5vcmllbnQsbD1cIlRCXCI9PT1zfHxcIkJUXCI9PT1zPzA6MSx1PTEtbCxoPVppKGUuZm9ya1Bvc2l0aW9uLDEpLGM9W107Y1tsXT1yW2xdLGNbdV09clt1XSsoYVt1XS1yW3VdKSpoLHQubW92ZVRvKHJbMF0sclsxXSksdC5saW5lVG8oY1swXSxjWzFdKSx0Lm1vdmVUbyhvWzBdLG9bMV0pLGNbbF09b1tsXSx0LmxpbmVUbyhjWzBdLGNbMV0pLGNbbF09YVtsXSx0LmxpbmVUbyhjWzBdLGNbMV0pLHQubGluZVRvKGFbMF0sYVsxXSk7Zm9yKHZhciBwPTE7cDxpLTE7cCsrKXt2YXIgZD1uW3BdO3QubW92ZVRvKGRbMF0sZFsxXSksY1tsXT1kW2xdLHQubGluZVRvKGNbMF0sY1sxXSl9fSxlfShaYSksaUk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9tYWluR3JvdXA9bmV3IHppLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fY29udHJvbGxlcj1uZXcgUVMoZS5nZXRacigpKSx0aGlzLl9jb250cm9sbGVySG9zdD17dGFyZ2V0OnRoaXMuZ3JvdXB9LHRoaXMuZ3JvdXAuYWRkKHRoaXMuX21haW5Hcm91cCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10LmxheW91dEluZm8sbz10aGlzLl9tYWluR3JvdXA7XCJyYWRpYWxcIj09PXQuZ2V0KFwibGF5b3V0XCIpPyhvLng9ci54K3Iud2lkdGgvMixvLnk9ci55K3IuaGVpZ2h0LzIpOihvLng9ci54LG8ueT1yLnkpLHRoaXMuX3VwZGF0ZVZpZXdDb29yZFN5cyh0KSx0aGlzLl91cGRhdGVDb250cm9sbGVyKHQsZSxuKTt2YXIgYT10aGlzLl9kYXRhO2kuZGlmZihhKS5hZGQoKGZ1bmN0aW9uKGUpe3JJKGksZSkmJm9JKGksZSxudWxsLG8sdCl9KSkudXBkYXRlKChmdW5jdGlvbihlLG4pe3ZhciByPWEuZ2V0SXRlbUdyYXBoaWNFbChuKTtySShpLGUpP29JKGksZSxyLG8sdCk6ciYmYUkoYSxuLHIsbyx0KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKGUpe3ZhciBuPWEuZ2V0SXRlbUdyYXBoaWNFbChlKTtuJiZhSShhLGUsbixvLHQpfSkpLmV4ZWN1dGUoKSx0aGlzLl9ub2RlU2NhbGVSYXRpbz10LmdldChcIm5vZGVTY2FsZVJhdGlvXCIpLHRoaXMuX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGUodCksITA9PT10LmdldChcImV4cGFuZEFuZENvbGxhcHNlXCIpJiZpLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLGkpe2Uub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLChmdW5jdGlvbigpe24uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJ0cmVlRXhwYW5kQW5kQ29sbGFwc2VcIixzZXJpZXNJZDp0LmlkLGRhdGFJbmRleDppfSl9KSl9KSksdGhpcy5fZGF0YT1pfSxlLnByb3RvdHlwZS5fdXBkYXRlVmlld0Nvb3JkU3lzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49W107ZS5lYWNoKChmdW5jdGlvbih0KXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQodCk7IWl8fGlzTmFOKGkueCl8fGlzTmFOKGkueSl8fG4ucHVzaChbK2kueCwraS55XSl9KSk7dmFyIGk9W10scj1bXTtlYShuLGkscik7dmFyIG89dGhpcy5fbWluLGE9dGhpcy5fbWF4O3JbMF0taVswXT09MCYmKGlbMF09bz9vWzBdOmlbMF0tMSxyWzBdPWE/YVswXTpyWzBdKzEpLHJbMV0taVsxXT09MCYmKGlbMV09bz9vWzFdOmlbMV0tMSxyWzFdPWE/YVsxXTpyWzFdKzEpO3ZhciBzPXQuY29vcmRpbmF0ZVN5c3RlbT1uZXcgUU07cy56b29tTGltaXQ9dC5nZXQoXCJzY2FsZUxpbWl0XCIpLHMuc2V0Qm91bmRpbmdSZWN0KGlbMF0saVsxXSxyWzBdLWlbMF0sclsxXS1pWzFdKSxzLnNldENlbnRlcih0LmdldChcImNlbnRlclwiKSkscy5zZXRab29tKHQuZ2V0KFwiem9vbVwiKSksdGhpcy5ncm91cC5hdHRyKHt4OnMueCx5OnMueSxzY2FsZVg6cy5zY2FsZVgsc2NhbGVZOnMuc2NhbGVZfSksdGhpcy5fbWluPWksdGhpcy5fbWF4PXJ9LGUucHJvdG90eXBlLl91cGRhdGVDb250cm9sbGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dGhpcy5fY29udHJvbGxlcixvPXRoaXMuX2NvbnRyb2xsZXJIb3N0LGE9dGhpcy5ncm91cDtyLnNldFBvaW50ZXJDaGVja2VyKChmdW5jdGlvbihlLGkscil7dmFyIG89YS5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gby5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksby5jb250YWluKGkscikmJiFhTShlLG4sdCl9KSksci5lbmFibGUodC5nZXQoXCJyb2FtXCIpKSxvLnpvb21MaW1pdD10LmdldChcInNjYWxlTGltaXRcIiksby56b29tPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRab29tKCksci5vZmYoXCJwYW5cIikub2ZmKFwiem9vbVwiKS5vbihcInBhblwiLChmdW5jdGlvbihlKXtpTShvLGUuZHgsZS5keSksbi5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOlwidHJlZVJvYW1cIixkeDplLmR4LGR5OmUuZHl9KX0pKS5vbihcInpvb21cIiwoZnVuY3Rpb24oZSl7ck0obyxlLnNjYWxlLGUub3JpZ2luWCxlLm9yaWdpblkpLG4uZGlzcGF0Y2hBY3Rpb24oe3Nlcmllc0lkOnQuaWQsdHlwZTpcInRyZWVSb2FtXCIsem9vbTplLnNjYWxlLG9yaWdpblg6ZS5vcmlnaW5YLG9yaWdpblk6ZS5vcmlnaW5ZfSksaS5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSh0KSxuLnVwZGF0ZUxhYmVsTGF5b3V0KCl9KSl9LGUucHJvdG90eXBlLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dGhpcy5fZ2V0Tm9kZUdsb2JhbFNjYWxlKHQpO2UuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dC5zZXRTeW1ib2xTY2FsZShuKX0pKX0sZS5wcm90b3R5cGUuX2dldE5vZGVHbG9iYWxTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoXCJ2aWV3XCIhPT1lLnR5cGUpcmV0dXJuIDE7dmFyIG49dGhpcy5fbm9kZVNjYWxlUmF0aW8saT1lLnNjYWxlWHx8MTtyZXR1cm4oKGUuZ2V0Wm9vbSgpLTEpKm4rMSkvaX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIuZGlzcG9zZSgpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PW51bGx9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX21haW5Hcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGUudHlwZT1cInRyZWVcIixlfSh5Zik7ZnVuY3Rpb24gckkodCxlKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSk7cmV0dXJuIG4mJiFpc05hTihuLngpJiYhaXNOYU4obi55KX1mdW5jdGlvbiBvSSh0LGUsbixpLHIpe3ZhciBvPSFuLGE9dC50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKSxzPWEuZ2V0TW9kZWwoKSxsPWEuZ2V0VmlzdWFsKFwic3R5bGVcIikuZmlsbCx1PSExPT09YS5pc0V4cGFuZCYmMCE9PWEuY2hpbGRyZW4ubGVuZ3RoP2w6XCIjZmZmXCIsaD10LnRyZWUucm9vdCxjPWEucGFyZW50Tm9kZT09PWg/YTphLnBhcmVudE5vZGV8fGEscD10LmdldEl0ZW1HcmFwaGljRWwoYy5kYXRhSW5kZXgpLGQ9Yy5nZXRMYXlvdXQoKSxmPXA/e3g6cC5fX29sZFgseTpwLl9fb2xkWSxyYXdYOnAuX19yYWRpYWxPbGRSYXdYLHJhd1k6cC5fX3JhZGlhbE9sZFJhd1l9OmQsZz1hLmdldExheW91dCgpO28/KChuPW5ldyBiYih0LGUsbnVsbCx7c3ltYm9sSW5uZXJDb2xvcjp1LHVzZU5hbWVMYWJlbDohMH0pKS54PWYueCxuLnk9Zi55KTpuLnVwZGF0ZURhdGEodCxlLG51bGwse3N5bWJvbElubmVyQ29sb3I6dSx1c2VOYW1lTGFiZWw6ITB9KSxuLl9fcmFkaWFsT2xkUmF3WD1uLl9fcmFkaWFsUmF3WCxuLl9fcmFkaWFsT2xkUmF3WT1uLl9fcmFkaWFsUmF3WSxuLl9fcmFkaWFsUmF3WD1nLnJhd1gsbi5fX3JhZGlhbFJhd1k9Zy5yYXdZLGkuYWRkKG4pLHQuc2V0SXRlbUdyYXBoaWNFbChlLG4pLG4uX19vbGRYPW4ueCxuLl9fb2xkWT1uLnksT3Uobix7eDpnLngseTpnLnl9LHIpO3ZhciB5PW4uZ2V0U3ltYm9sUGF0aCgpO2lmKFwicmFkaWFsXCI9PT1yLmdldChcImxheW91dFwiKSl7dmFyIHY9aC5jaGlsZHJlblswXSxtPXYuZ2V0TGF5b3V0KCksXz12LmNoaWxkcmVuLmxlbmd0aCx4PXZvaWQgMCxiPXZvaWQgMDtpZihnLng9PT1tLngmJiEwPT09YS5pc0V4cGFuZCl7dmFyIHc9e3g6KHYuY2hpbGRyZW5bMF0uZ2V0TGF5b3V0KCkueCt2LmNoaWxkcmVuW18tMV0uZ2V0TGF5b3V0KCkueCkvMix5Oih2LmNoaWxkcmVuWzBdLmdldExheW91dCgpLnkrdi5jaGlsZHJlbltfLTFdLmdldExheW91dCgpLnkpLzJ9Oyh4PU1hdGguYXRhbjIody55LW0ueSx3LngtbS54KSk8MCYmKHg9MipNYXRoLlBJK3gpLChiPXcueDxtLngpJiYoeC09TWF0aC5QSSl9ZWxzZSh4PU1hdGguYXRhbjIoZy55LW0ueSxnLngtbS54KSk8MCYmKHg9MipNYXRoLlBJK3gpLDA9PT1hLmNoaWxkcmVuLmxlbmd0aHx8MCE9PWEuY2hpbGRyZW4ubGVuZ3RoJiYhMT09PWEuaXNFeHBhbmQ/KGI9Zy54PG0ueCkmJih4LT1NYXRoLlBJKTooYj1nLng+bS54KXx8KHgtPU1hdGguUEkpO3ZhciBTPWI/XCJsZWZ0XCI6XCJyaWdodFwiLE09cy5nZXRNb2RlbChcImxhYmVsXCIpLEk9TS5nZXQoXCJyb3RhdGVcIiksQz1JKihNYXRoLlBJLzE4MCksQT15LmdldFRleHRDb250ZW50KCk7QSYmKHkuc2V0VGV4dENvbmZpZyh7cG9zaXRpb246TS5nZXQoXCJwb3NpdGlvblwiKXx8Uyxyb3RhdGlvbjpudWxsPT1JPy14OkMsb3JpZ2luOlwiY2VudGVyXCJ9KSxBLnNldFN0eWxlKFwidmVydGljYWxBbGlnblwiLFwibWlkZGxlXCIpKX12YXIgRD1zLmdldChbXCJlbXBoYXNpc1wiLFwiZm9jdXNcIl0pLEw9XCJhbmNlc3RvclwiPT09RD9hLmdldEFuY2VzdG9yc0luZGljZXMoKTpcImRlc2NlbmRhbnRcIj09PUQ/YS5nZXREZXNjZW5kYW50SW5kaWNlcygpOm51bGw7TCYmKHlzKG4pLmZvY3VzPUwpLGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7dmFyIGw9ZS5nZXRNb2RlbCgpLHU9dC5nZXQoXCJlZGdlU2hhcGVcIiksaD10LmdldChcImxheW91dFwiKSxjPXQuZ2V0T3JpZW50KCkscD10LmdldChbXCJsaW5lU3R5bGVcIixcImN1cnZlbmVzc1wiXSksZD10LmdldChcImVkZ2VGb3JrUG9zaXRpb25cIiksZj1sLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpLGc9aS5fX2VkZ2U7aWYoXCJjdXJ2ZVwiPT09dSllLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZSE9PW4mJihnfHwoZz1pLl9fZWRnZT1uZXcgcnUoe3NoYXBlOnNJKGgsYyxwLHIscil9KSksT3UoZyx7c2hhcGU6c0koaCxjLHAsbyxhKX0sdCkpO2Vsc2UgaWYoXCJwb2x5bGluZVwiPT09dSlpZihcIm9ydGhvZ29uYWxcIj09PWgpe2lmKGUhPT1uJiZlLmNoaWxkcmVuJiYwIT09ZS5jaGlsZHJlbi5sZW5ndGgmJiEwPT09ZS5pc0V4cGFuZCl7Zm9yKHZhciB5PWUuY2hpbGRyZW4sdj1bXSxtPTA7bTx5Lmxlbmd0aDttKyspe3ZhciBfPXlbbV0uZ2V0TGF5b3V0KCk7di5wdXNoKFtfLngsXy55XSl9Z3x8KGc9aS5fX2VkZ2U9bmV3IG5JKHtzaGFwZTp7cGFyZW50UG9pbnQ6W2EueCxhLnldLGNoaWxkUG9pbnRzOltbYS54LGEueV1dLG9yaWVudDpjLGZvcmtQb3NpdGlvbjpkfX0pKSxPdShnLHtzaGFwZTp7cGFyZW50UG9pbnQ6W2EueCxhLnldLGNoaWxkUG9pbnRzOnZ9fSx0KX19ZWxzZSAwO2cmJihnLnVzZVN0eWxlKFQoe3N0cm9rZU5vU2NhbGU6ITAsZmlsbDpudWxsfSxmKSksbmwoZyxsLFwibGluZVN0eWxlXCIpLEdzKGcpLHMuYWRkKGcpKX0ocixhLGgsbixmLGQsZyxpKSxuLl9fZWRnZSYmKG4ub25Ib3ZlclN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe2lmKFwiYmx1clwiIT09ZSl7dmFyIGk9YS5wYXJlbnROb2RlJiZ0LmdldEl0ZW1HcmFwaGljRWwoYS5wYXJlbnROb2RlLmRhdGFJbmRleCk7aSYmMT09PWkuaG92ZXJTdGF0ZXx8VnMobi5fX2VkZ2UsZSl9fSl9ZnVuY3Rpb24gYUkodCxlLG4saSxyKXtmb3IodmFyIG8sYT10LnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpLHM9dC50cmVlLnJvb3QsbD1hLnBhcmVudE5vZGU9PT1zP2E6YS5wYXJlbnROb2RlfHxhO251bGw9PShvPWwuZ2V0TGF5b3V0KCkpOylsPWwucGFyZW50Tm9kZT09PXM/bDpsLnBhcmVudE5vZGV8fGw7dmFyIHU9e2R1cmF0aW9uOnIuZ2V0KFwiYW5pbWF0aW9uRHVyYXRpb25VcGRhdGVcIiksZWFzaW5nOnIuZ2V0KFwiYW5pbWF0aW9uRWFzaW5nVXBkYXRlXCIpfTtOdShuLHt4Om8ueCsxLHk6by55KzF9LHIse2NiOmZ1bmN0aW9uKCl7aS5yZW1vdmUobiksdC5zZXRJdGVtR3JhcGhpY0VsKGUsbnVsbCl9LHJlbW92ZU9wdDp1fSksbi5mYWRlT3V0KG51bGwse2ZhZGVMYWJlbDohMCxhbmltYXRpb246dX0pO3ZhciBoPXQuZ2V0SXRlbUdyYXBoaWNFbChsLmRhdGFJbmRleCkuX19lZGdlLGM9bi5fX2VkZ2V8fCghMT09PWwuaXNFeHBhbmR8fDE9PT1sLmNoaWxkcmVuLmxlbmd0aD9oOnZvaWQgMCkscD1yLmdldChcImVkZ2VTaGFwZVwiKSxkPXIuZ2V0KFwibGF5b3V0XCIpLGY9ci5nZXQoXCJvcmllbnRcIiksZz1yLmdldChbXCJsaW5lU3R5bGVcIixcImN1cnZlbmVzc1wiXSk7YyYmKFwiY3VydmVcIj09PXA/TnUoYyx7c2hhcGU6c0koZCxmLGcsbyxvKSxzdHlsZTp7b3BhY2l0eTowfX0scix7Y2I6ZnVuY3Rpb24oKXtpLnJlbW92ZShjKX0scmVtb3ZlT3B0OnV9KTpcInBvbHlsaW5lXCI9PT1wJiZcIm9ydGhvZ29uYWxcIj09PXIuZ2V0KFwibGF5b3V0XCIpJiZOdShjLHtzaGFwZTp7cGFyZW50UG9pbnQ6W28ueCxvLnldLGNoaWxkUG9pbnRzOltbby54LG8ueV1dfSxzdHlsZTp7b3BhY2l0eTowfX0scix7Y2I6ZnVuY3Rpb24oKXtpLnJlbW92ZShjKX0scmVtb3ZlT3B0OnV9KSl9ZnVuY3Rpb24gc0kodCxlLG4saSxyKXt2YXIgbyxhLHMsbCx1LGgsYyxwO2lmKFwicmFkaWFsXCI9PT10KXt1PWkucmF3WCxjPWkucmF3WSxoPXIucmF3WCxwPXIucmF3WTt2YXIgZD1VTSh1LGMpLGY9VU0odSxjKyhwLWMpKm4pLGc9VU0oaCxwKyhjLXApKm4pLHk9VU0oaCxwKTtyZXR1cm57eDE6ZC54fHwwLHkxOmQueXx8MCx4Mjp5Lnh8fDAseTI6eS55fHwwLGNweDE6Zi54fHwwLGNweTE6Zi55fHwwLGNweDI6Zy54fHwwLGNweTI6Zy55fHwwfX1yZXR1cm4gdT1pLngsYz1pLnksaD1yLngscD1yLnksXCJMUlwiIT09ZSYmXCJSTFwiIT09ZXx8KG89dSsoaC11KSpuLGE9YyxzPWgrKHUtaCkqbixsPXApLFwiVEJcIiE9PWUmJlwiQlRcIiE9PWV8fChvPXUsYT1jKyhwLWMpKm4scz1oLGw9cCsoYy1wKSpuKSx7eDE6dSx5MTpjLHgyOmgseTI6cCxjcHgxOm8sY3B5MTphLGNweDI6cyxjcHkyOmx9fXZhciBsST1McigpO2Z1bmN0aW9uIHVJKHQpe3ZhciBlPXQubWFpbkRhdGEsbj10LmRhdGFzO258fChuPXttYWluOmV9LHQuZGF0YXNBdHRyPXttYWluOlwiZGF0YVwifSksdC5kYXRhcz10Lm1haW5EYXRhPW51bGwsZ0koZSxuLHQpLFAobiwoZnVuY3Rpb24obil7UChlLlRSQU5TRkVSQUJMRV9NRVRIT0RTLChmdW5jdGlvbihlKXtuLndyYXBNZXRob2QoZSxWKGhJLHQpKX0pKX0pKSxlLndyYXBNZXRob2QoXCJjbG9uZVNoYWxsb3dcIixWKHBJLHQpKSxQKGUuQ0hBTkdBQkxFX01FVEhPRFMsKGZ1bmN0aW9uKG4pe2Uud3JhcE1ldGhvZChuLFYoY0ksdCkpfSkpLHJ0KG5bZS5kYXRhVHlwZV09PT1lKX1mdW5jdGlvbiBoSSh0LGUpe2lmKGxJKGk9dGhpcykubWFpbkRhdGE9PT1pKXt2YXIgbj1JKHt9LGxJKHRoaXMpLmRhdGFzKTtuW3RoaXMuZGF0YVR5cGVdPWUsZ0koZSxuLHQpfWVsc2UgeUkoZSx0aGlzLmRhdGFUeXBlLGxJKHRoaXMpLm1haW5EYXRhLHQpO3ZhciBpO3JldHVybiBlfWZ1bmN0aW9uIGNJKHQsZSl7cmV0dXJuIHQuc3RydWN0JiZ0LnN0cnVjdC51cGRhdGUoKSxlfWZ1bmN0aW9uIHBJKHQsZSl7cmV0dXJuIFAobEkoZSkuZGF0YXMsKGZ1bmN0aW9uKG4saSl7biE9PWUmJnlJKG4uY2xvbmVTaGFsbG93KCksaSxlLHQpfSkpLGV9ZnVuY3Rpb24gZEkodCl7dmFyIGU9bEkodGhpcykubWFpbkRhdGE7cmV0dXJuIG51bGw9PXR8fG51bGw9PWU/ZTpsSShlKS5kYXRhc1t0XX1mdW5jdGlvbiBmSSgpe3ZhciB0PWxJKHRoaXMpLm1haW5EYXRhO3JldHVybiBudWxsPT10P1t7ZGF0YTp0fV06Tyh6KGxJKHQpLmRhdGFzKSwoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZSxkYXRhOmxJKHQpLmRhdGFzW2VdfX0pKX1mdW5jdGlvbiBnSSh0LGUsbil7bEkodCkuZGF0YXM9e30sUChlLChmdW5jdGlvbihlLGkpe3lJKGUsaSx0LG4pfSkpfWZ1bmN0aW9uIHlJKHQsZSxuLGkpe2xJKG4pLmRhdGFzW2VdPXQsbEkodCkubWFpbkRhdGE9bix0LmRhdGFUeXBlPWUsaS5zdHJ1Y3QmJih0W2kuc3RydWN0QXR0cl09aS5zdHJ1Y3QsaS5zdHJ1Y3RbaS5kYXRhc0F0dHJbZV1dPXQpLHQuZ2V0TGlua2VkRGF0YT1kSSx0LmdldExpbmtlZERhdGFBbGw9Zkl9dmFyIHZJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZGVwdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuZGF0YUluZGV4PS0xLHRoaXMuY2hpbGRyZW49W10sdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5pc0V4cGFuZD0hMSx0aGlzLm5hbWU9dHx8XCJcIix0aGlzLmhvc3RUcmVlPWV9cmV0dXJuIHQucHJvdG90eXBlLmlzUmVtb3ZlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFJbmRleDwwfSx0LnByb3RvdHlwZS5lYWNoTm9kZT1mdW5jdGlvbih0LGUsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49ZSxlPXQsdD1udWxsKSxIKHQ9dHx8e30pJiYodD17b3JkZXI6dH0pO3ZhciBpLHI9dC5vcmRlcnx8XCJwcmVvcmRlclwiLG89dGhpc1t0LmF0dHJ8fFwiY2hpbGRyZW5cIl07XCJwcmVvcmRlclwiPT09ciYmKGk9ZS5jYWxsKG4sdGhpcykpO2Zvcih2YXIgYT0wOyFpJiZhPG8ubGVuZ3RoO2ErKylvW2FdLmVhY2hOb2RlKHQsZSxuKTtcInBvc3RvcmRlclwiPT09ciYmZS5jYWxsKG4sdGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZURlcHRoQW5kSGVpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPTA7dGhpcy5kZXB0aD10O2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmNoaWxkcmVuW25dO2kudXBkYXRlRGVwdGhBbmRIZWlnaHQodCsxKSxpLmhlaWdodD5lJiYoZT1pLmhlaWdodCl9dGhpcy5oZWlnaHQ9ZSsxfSx0LnByb3RvdHlwZS5nZXROb2RlQnlJZD1mdW5jdGlvbih0KXtpZih0aGlzLmdldElkKCk9PT10KXJldHVybiB0aGlzO2Zvcih2YXIgZT0wLG49dGhpcy5jaGlsZHJlbixpPW4ubGVuZ3RoO2U8aTtlKyspe3ZhciByPW5bZV0uZ2V0Tm9kZUJ5SWQodCk7aWYocilyZXR1cm4gcn19LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzKXJldHVybiEwO2Zvcih2YXIgZT0wLG49dGhpcy5jaGlsZHJlbixpPW4ubGVuZ3RoO2U8aTtlKyspe3ZhciByPW5bZV0uY29udGFpbnModCk7aWYocilyZXR1cm4gcn19LHQucHJvdG90eXBlLmdldEFuY2VzdG9ycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10P3RoaXM6dGhpcy5wYXJlbnROb2RlO247KWUucHVzaChuKSxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sdC5wcm90b3R5cGUuZ2V0QW5jZXN0b3JzSW5kaWNlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXM7ZTspdC5wdXNoKGUuZGF0YUluZGV4KSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gdC5yZXZlcnNlKCksdH0sdC5wcm90b3R5cGUuZ2V0RGVzY2VuZGFudEluZGljZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5lYWNoTm9kZSgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuZGF0YUluZGV4KX0pKSx0fSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmhvc3RUcmVlLmRhdGE7cmV0dXJuIGUuZ2V0KGUuZ2V0RGltZW5zaW9uKHR8fFwidmFsdWVcIiksdGhpcy5kYXRhSW5kZXgpfSx0LnByb3RvdHlwZS5zZXRMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpcy5ob3N0VHJlZS5kYXRhLnNldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgsdCxlKX0sdC5wcm90b3R5cGUuZ2V0TGF5b3V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9zdFRyZWUuZGF0YS5nZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4KX0sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldEl0ZW1Nb2RlbCh0aGlzLmRhdGFJbmRleCkuZ2V0TW9kZWwodCl9LHQucHJvdG90eXBlLmdldExldmVsTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ob3N0VHJlZS5sZXZlbE1vZGVsc3x8W10pW3RoaXMuZGVwdGhdfSx0LnByb3RvdHlwZS5zZXRWaXN1YWw9ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpcy5ob3N0VHJlZS5kYXRhLnNldEl0ZW1WaXN1YWwodGhpcy5kYXRhSW5kZXgsdCxlKX0sdC5wcm90b3R5cGUuZ2V0VmlzdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0KX0sdC5wcm90b3R5cGUuZ2V0UmF3SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldFJhd0luZGV4KHRoaXMuZGF0YUluZGV4KX0sdC5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldElkKHRoaXMuZGF0YUluZGV4KX0sdC5wcm90b3R5cGUuaXNBbmNlc3Rvck9mPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnBhcmVudE5vZGU7ZTspe2lmKGU9PT10aGlzKXJldHVybiEwO2U9ZS5wYXJlbnROb2RlfXJldHVybiExfSx0LnByb3RvdHlwZS5pc0Rlc2NlbmRhbnRPZj1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXRoaXMmJnQuaXNBbmNlc3Rvck9mKHRoaXMpfSx0fSgpLG1JPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnR5cGU9XCJ0cmVlXCIsdGhpcy5fbm9kZXM9W10sdGhpcy5ob3N0TW9kZWw9dH1yZXR1cm4gdC5wcm90b3R5cGUuZWFjaE5vZGU9ZnVuY3Rpb24odCxlLG4pe3RoaXMucm9vdC5lYWNoTm9kZSh0LGUsbil9LHQucHJvdG90eXBlLmdldE5vZGVCeURhdGFJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMuX25vZGVzW2VdfSx0LnByb3RvdHlwZS5nZXROb2RlQnlJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290LmdldE5vZGVCeUlkKHQpfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9dGhpcy5fbm9kZXMsbj0wLGk9ZS5sZW5ndGg7bjxpO24rKyllW25dLmRhdGFJbmRleD0tMTtmb3Iobj0wLGk9dC5jb3VudCgpO248aTtuKyspZVt0LmdldFJhd0luZGV4KG4pXS5kYXRhSW5kZXg9bn0sdC5wcm90b3R5cGUuY2xlYXJMYXlvdXRzPWZ1bmN0aW9uKCl7dGhpcy5kYXRhLmNsZWFySXRlbUxheW91dHMoKX0sdC5jcmVhdGVUcmVlPWZ1bmN0aW9uKGUsbixpKXt2YXIgcj1uZXcgdChuKSxvPVtdLGE9MTshZnVuY3Rpb24gdChlLG4pe3ZhciBpPWUudmFsdWU7YT1NYXRoLm1heChhLEYoaSk/aS5sZW5ndGg6MSksby5wdXNoKGUpO3ZhciBzPW5ldyB2SShUcihlLm5hbWUsXCJcIikscik7bj9mdW5jdGlvbih0LGUpe3ZhciBuPWUuY2hpbGRyZW47aWYodC5wYXJlbnROb2RlPT09ZSlyZXR1cm47bi5wdXNoKHQpLHQucGFyZW50Tm9kZT1lfShzLG4pOnIucm9vdD1zLHIuX25vZGVzLnB1c2gocyk7dmFyIGw9ZS5jaGlsZHJlbjtpZihsKWZvcih2YXIgdT0wO3U8bC5sZW5ndGg7dSsrKXQobFt1XSxzKX0oZSksci5yb290LnVwZGF0ZURlcHRoQW5kSGVpZ2h0KDApO3ZhciBzPU5tKG8se2Nvb3JkRGltZW5zaW9uczpbXCJ2YWx1ZVwiXSxkaW1lbnNpb25zQ291bnQ6YX0pLGw9bmV3IFBtKHMsbik7cmV0dXJuIGwuaW5pdERhdGEobyksaSYmaShsKSx1SSh7bWFpbkRhdGE6bCxzdHJ1Y3Q6cixzdHJ1Y3RBdHRyOlwidHJlZVwifSksci51cGRhdGUoKSxyfSx0fSgpO3ZhciBfST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLmhhc1N5bWJvbFZpc3VhbD0hMCxlLmlnbm9yZVN0eWxlT25EYXRhPSEwLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0KXt2YXIgZT17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfSxuPXQubGVhdmVzfHx7fSxpPW5ldyBTaChuLHRoaXMsdGhpcy5lY01vZGVsKSxyPW1JLmNyZWF0ZVRyZWUoZSx0aGlzLChmdW5jdGlvbih0KXt0LndyYXBNZXRob2QoXCJnZXRJdGVtTW9kZWxcIiwoZnVuY3Rpb24odCxlKXt2YXIgbj1yLmdldE5vZGVCeURhdGFJbmRleChlKTtyZXR1cm4gbi5jaGlsZHJlbi5sZW5ndGgmJm4uaXNFeHBhbmR8fCh0LnBhcmVudE1vZGVsPWkpLHR9KSl9KSk7dmFyIG89MDtyLmVhY2hOb2RlKFwicHJlb3JkZXJcIiwoZnVuY3Rpb24odCl7dC5kZXB0aD5vJiYobz10LmRlcHRoKX0pKTt2YXIgYT10LmV4cGFuZEFuZENvbGxhcHNlJiZ0LmluaXRpYWxUcmVlRGVwdGg+PTA/dC5pbml0aWFsVHJlZURlcHRoOm87cmV0dXJuIHIucm9vdC5lYWNoTm9kZShcInByZW9yZGVyXCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaG9zdFRyZWUuZGF0YS5nZXRSYXdEYXRhSXRlbSh0LmRhdGFJbmRleCk7dC5pc0V4cGFuZD1lJiZudWxsIT1lLmNvbGxhcHNlZD8hZS5jb2xsYXBzZWQ6dC5kZXB0aDw9YX0pKSxyLmRhdGF9LGUucHJvdG90eXBlLmdldE9yaWVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KFwib3JpZW50XCIpO3JldHVyblwiaG9yaXpvbnRhbFwiPT09dD90PVwiTFJcIjpcInZlcnRpY2FsXCI9PT10JiYodD1cIlRCXCIpLHR9LGUucHJvdG90eXBlLnNldFpvb209ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxlLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLmdldERhdGEoKS50cmVlLHI9aS5yb290LmNoaWxkcmVuWzBdLG89aS5nZXROb2RlQnlEYXRhSW5kZXgodCksYT1vLmdldFZhbHVlKCkscz1vLm5hbWU7byYmbyE9PXI7KXM9by5wYXJlbnROb2RlLm5hbWUrXCIuXCIrcyxvPW8ucGFyZW50Tm9kZTtyZXR1cm4gWWQoXCJuYW1lVmFsdWVcIix7bmFtZTpzLHZhbHVlOmEsbm9WYWx1ZTppc05hTihhKXx8bnVsbD09YX0pfSxlLnR5cGU9XCJzZXJpZXMudHJlZVwiLGUubGF5b3V0TW9kZT1cImJveFwiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06XCJ2aWV3XCIsbGVmdDpcIjEyJVwiLHRvcDpcIjEyJVwiLHJpZ2h0OlwiMTIlXCIsYm90dG9tOlwiMTIlXCIsbGF5b3V0Olwib3J0aG9nb25hbFwiLGVkZ2VTaGFwZTpcImN1cnZlXCIsZWRnZUZvcmtQb3NpdGlvbjpcIjUwJVwiLHJvYW06ITEsbm9kZVNjYWxlUmF0aW86LjQsY2VudGVyOm51bGwsem9vbToxLG9yaWVudDpcIkxSXCIsc3ltYm9sOlwiZW1wdHlDaXJjbGVcIixzeW1ib2xTaXplOjcsZXhwYW5kQW5kQ29sbGFwc2U6ITAsaW5pdGlhbFRyZWVEZXB0aDoyLGxpbmVTdHlsZTp7Y29sb3I6XCIjY2NjXCIsd2lkdGg6MS41LGN1cnZlbmVzczouNX0saXRlbVN0eWxlOntjb2xvcjpcImxpZ2h0c3RlZWxibHVlXCIsYm9yZGVyQ29sb3I6XCIjYzIzNTMxXCIsYm9yZGVyV2lkdGg6MS41fSxsYWJlbDp7c2hvdzohMH0sYW5pbWF0aW9uRWFzaW5nOlwibGluZWFyXCIsYW5pbWF0aW9uRHVyYXRpb246NzAwLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjUwMH0sZX0ocmYpO2Z1bmN0aW9uIHhJKHQsZSl7Zm9yKHZhciBuLGk9W3RdO249aS5wb3AoKTspaWYoZShuKSxuLmlzRXhwYW5kKXt2YXIgcj1uLmNoaWxkcmVuO2lmKHIubGVuZ3RoKWZvcih2YXIgbz1yLmxlbmd0aC0xO28+PTA7by0tKWkucHVzaChyW29dKX19ZnVuY3Rpb24gYkkodCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJ0cmVlXCIsKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFjKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUpO3QubGF5b3V0SW5mbz1uO3ZhciBpPXQuZ2V0KFwibGF5b3V0XCIpLHI9MCxvPTAsYT1udWxsO1wicmFkaWFsXCI9PT1pPyhyPTIqTWF0aC5QSSxvPU1hdGgubWluKG4uaGVpZ2h0LG4ud2lkdGgpLzIsYT1YTSgoZnVuY3Rpb24odCxlKXtyZXR1cm4odC5wYXJlbnROb2RlPT09ZS5wYXJlbnROb2RlPzE6MikvdC5kZXB0aH0pKSk6KHI9bi53aWR0aCxvPW4uaGVpZ2h0LGE9WE0oKSk7dmFyIHM9dC5nZXREYXRhKCkudHJlZS5yb290LGw9cy5jaGlsZHJlblswXTtpZihsKXshZnVuY3Rpb24odCl7dmFyIGU9dDtlLmhpZXJOb2RlPXtkZWZhdWx0QW5jZXN0b3I6bnVsbCxhbmNlc3RvcjplLHByZWxpbTowLG1vZGlmaWVyOjAsY2hhbmdlOjAsc2hpZnQ6MCxpOjAsdGhyZWFkOm51bGx9O2Zvcih2YXIgbixpLHI9W2VdO249ci5wb3AoKTspaWYoaT1uLmNoaWxkcmVuLG4uaXNFeHBhbmQmJmkubGVuZ3RoKWZvcih2YXIgbz1pLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT1pW29dO2EuaGllck5vZGU9e2RlZmF1bHRBbmNlc3RvcjpudWxsLGFuY2VzdG9yOmEscHJlbGltOjAsbW9kaWZpZXI6MCxjaGFuZ2U6MCxzaGlmdDowLGk6byx0aHJlYWQ6bnVsbH0sci5wdXNoKGEpfX0ocyksZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxyPVt0XSxvPVtdO2k9ci5wb3AoKTspaWYoby5wdXNoKGkpLGkuaXNFeHBhbmQpe3ZhciBhPWkuY2hpbGRyZW47aWYoYS5sZW5ndGgpZm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspci5wdXNoKGFbc10pfWZvcig7aT1vLnBvcCgpOyllKGksbil9KGwsV00sYSkscy5oaWVyTm9kZS5tb2RpZmllcj0tbC5oaWVyTm9kZS5wcmVsaW0seEkobCxZTSk7dmFyIHU9bCxoPWwsYz1sO3hJKGwsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGF5b3V0KCkueDtlPHUuZ2V0TGF5b3V0KCkueCYmKHU9dCksZT5oLmdldExheW91dCgpLngmJihoPXQpLHQuZGVwdGg+Yy5kZXB0aCYmKGM9dCl9KSk7dmFyIHA9dT09PWg/MTphKHUsaCkvMixkPXAtdS5nZXRMYXlvdXQoKS54LGY9MCxnPTAseT0wLHY9MDtpZihcInJhZGlhbFwiPT09aSlmPXIvKGguZ2V0TGF5b3V0KCkueCtwK2QpLGc9by8oYy5kZXB0aC0xfHwxKSx4SShsLChmdW5jdGlvbih0KXt5PSh0LmdldExheW91dCgpLngrZCkqZix2PSh0LmRlcHRoLTEpKmc7dmFyIGU9VU0oeSx2KTt0LnNldExheW91dCh7eDplLngseTplLnkscmF3WDp5LHJhd1k6dn0sITApfSkpO2Vsc2V7dmFyIG09dC5nZXRPcmllbnQoKTtcIlJMXCI9PT1tfHxcIkxSXCI9PT1tPyhnPW8vKGguZ2V0TGF5b3V0KCkueCtwK2QpLGY9ci8oYy5kZXB0aC0xfHwxKSx4SShsLChmdW5jdGlvbih0KXt2PSh0LmdldExheW91dCgpLngrZCkqZyx5PVwiTFJcIj09PW0/KHQuZGVwdGgtMSkqZjpyLSh0LmRlcHRoLTEpKmYsdC5zZXRMYXlvdXQoe3g6eSx5OnZ9LCEwKX0pKSk6XCJUQlwiIT09bSYmXCJCVFwiIT09bXx8KGY9ci8oaC5nZXRMYXlvdXQoKS54K3ArZCksZz1vLyhjLmRlcHRoLTF8fDEpLHhJKGwsKGZ1bmN0aW9uKHQpe3k9KHQuZ2V0TGF5b3V0KCkueCtkKSpmLHY9XCJUQlwiPT09bT8odC5kZXB0aC0xKSpnOm8tKHQuZGVwdGgtMSkqZyx0LnNldExheW91dCh7eDp5LHk6dn0sITApfSkpKX19fSh0LGUpfSkpfWZ1bmN0aW9uIHdJKHQpe3QuZWFjaFNlcmllc0J5VHlwZShcInRyZWVcIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCk7ZS50cmVlLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgbj10LmdldE1vZGVsKCkuZ2V0TW9kZWwoXCJpdGVtU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCk7SShlLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwodC5kYXRhSW5kZXgsXCJzdHlsZVwiKSxuKX0pKX0pKX1mdW5jdGlvbiBTSSh0LGUsbil7dmFyIGk9dC5nZXRab29tKCkscj10LmdldENlbnRlcigpLG89ZS56b29tLGE9dC5kYXRhVG9Qb2ludChyKTtpZihudWxsIT1lLmR4JiZudWxsIT1lLmR5JiYoYVswXS09ZS5keCxhWzFdLT1lLmR5LHQuc2V0Q2VudGVyKHQucG9pbnRUb0RhdGEoYSkpKSxudWxsIT1vKXtpZihuKXt2YXIgcz1uLm1pbnx8MCxsPW4ubWF4fHwxLzA7bz1NYXRoLm1heChNYXRoLm1pbihpKm8sbCkscykvaX10LnNjYWxlWCo9byx0LnNjYWxlWSo9bzt2YXIgdT0oZS5vcmlnaW5YLXQueCkqKG8tMSksaD0oZS5vcmlnaW5ZLXQueSkqKG8tMSk7dC54LT11LHQueS09aCx0LnVwZGF0ZVRyYW5zZm9ybSgpLHQuc2V0Q2VudGVyKHQucG9pbnRUb0RhdGEoYSkpLHQuc2V0Wm9vbShvKmkpfXJldHVybntjZW50ZXI6dC5nZXRDZW50ZXIoKSx6b29tOnQuZ2V0Wm9vbSgpfX1mdW5jdGlvbiBNSSh0LGUsbil7aWYodCYmQShlLHQudHlwZSk+PTApe3ZhciBpPW4uZ2V0RGF0YSgpLnRyZWUucm9vdCxyPXQudGFyZ2V0Tm9kZTtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9aS5nZXROb2RlQnlJZChyKSksciYmaS5jb250YWlucyhyKSlyZXR1cm57bm9kZTpyfTt2YXIgbz10LnRhcmdldE5vZGVJZDtpZihudWxsIT1vJiYocj1pLmdldE5vZGVCeUlkKG8pKSlyZXR1cm57bm9kZTpyfX19ZnVuY3Rpb24gSUkodCl7Zm9yKHZhciBlPVtdO3Q7KSh0PXQucGFyZW50Tm9kZSkmJmUucHVzaCh0KTtyZXR1cm4gZS5yZXZlcnNlKCl9ZnVuY3Rpb24gVEkodCxlKXtyZXR1cm4gQShJSSh0KSxlKT49MH1mdW5jdGlvbiBDSSh0LGUpe2Zvcih2YXIgbj1bXTt0Oyl7dmFyIGk9dC5kYXRhSW5kZXg7bi5wdXNoKHtuYW1lOnQubmFtZSxkYXRhSW5kZXg6aSx2YWx1ZTplLmdldFJhd1ZhbHVlKGkpfSksdD10LnBhcmVudE5vZGV9cmV0dXJuIG4ucmV2ZXJzZSgpLG59dmFyIEFJPWZ1bmN0aW9uKCl7fSxEST1bXCJ0cmVlbWFwWm9vbVRvTm9kZVwiLFwidHJlZW1hcFJlbmRlclwiLFwidHJlZW1hcE1vdmVcIl07ZnVuY3Rpb24gTEkodCl7dmFyIGU9dC5nZXREYXRhKCkudHJlZSxuPXt9O2UuZWFjaE5vZGUoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1lO2kmJmkuZGVwdGg+MTspaT1pLnBhcmVudE5vZGU7dmFyIHI9aHAodC5lY01vZGVsLGkubmFtZXx8aS5kYXRhSW5kZXgrXCJcIixuKTtlLnNldFZpc3VhbChcImRlY2FsXCIscil9KSl9dmFyIGtJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5wcmV2ZW50VXNpbmdIb3ZlckxheWVyPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXtuYW1lOnQubmFtZSxjaGlsZHJlbjp0LmRhdGF9O1BJKG4pO3ZhciBpPXQubGV2ZWxzfHxbXSxyPXRoaXMuZGVzaWduYXRlZFZpc3VhbEl0ZW1TdHlsZT17fSxvPW5ldyBTaCh7aXRlbVN0eWxlOnJ9LHRoaXMsZSksYT1PKChpPXQubGV2ZWxzPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPV9yKGUuZ2V0KFwiY29sb3JcIikpLG89X3IoZS5nZXQoW1wiYXJpYVwiLFwiZGVjYWxcIixcImRlY2Fsc1wiXSkpO2lmKCFyKXJldHVybjtQKHQ9dHx8W10sKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBTaCh0KSxyPWUuZ2V0KFwiY29sb3JcIiksbz1lLmdldChcImRlY2FsXCIpOyhlLmdldChbXCJpdGVtU3R5bGVcIixcImNvbG9yXCJdKXx8ciYmXCJub25lXCIhPT1yKSYmKG49ITApLChlLmdldChbXCJpdGVtU3R5bGVcIixcImRlY2FsXCJdKXx8byYmXCJub25lXCIhPT1vKSYmKGk9ITApfSkpO3ZhciBhPXRbMF18fCh0WzBdPXt9KTtufHwoYS5jb2xvcj1yLnNsaWNlKCkpOyFpJiZvJiYoYS5kZWNhbD1vLnNsaWNlKCkpO3JldHVybiB0fShpLGUpKXx8W10sKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU2godCxvLGUpfSksdGhpcykscz1tSS5jcmVhdGVUcmVlKG4sdGhpcywoZnVuY3Rpb24odCl7dC53cmFwTWV0aG9kKFwiZ2V0SXRlbU1vZGVsXCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49cy5nZXROb2RlQnlEYXRhSW5kZXgoZSksaT1hW24uZGVwdGhdO3JldHVybiB0LnBhcmVudE1vZGVsPWl8fG8sdH0pKX0pKTtyZXR1cm4gcy5kYXRhfSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5yZXNldFZpZXdSb290KCl9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZ2V0RGF0YSgpLHI9dGhpcy5nZXRSYXdWYWx1ZSh0KTtyZXR1cm4gWWQoXCJuYW1lVmFsdWVcIix7bmFtZTppLmdldE5hbWUodCksdmFsdWU6cn0pfSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUpe3ZhciBuPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dGhpcy5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoZSk7cmV0dXJuIG4udHJlZVBhdGhJbmZvPUNJKGksdGhpcyksbn0sZS5wcm90b3R5cGUuc2V0TGF5b3V0SW5mbz1mdW5jdGlvbih0KXt0aGlzLmxheW91dEluZm89dGhpcy5sYXlvdXRJbmZvfHx7fSxJKHRoaXMubGF5b3V0SW5mbyx0KX0sZS5wcm90b3R5cGUubWFwSWRUb0luZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2lkSW5kZXhNYXA7ZXx8KGU9dGhpcy5faWRJbmRleE1hcD1odCgpLHRoaXMuX2lkSW5kZXhNYXBDb3VudD0wKTt2YXIgbj1lLmdldCh0KTtyZXR1cm4gbnVsbD09biYmZS5zZXQodCxuPXRoaXMuX2lkSW5kZXhNYXBDb3VudCsrKSxufSxlLnByb3RvdHlwZS5nZXRWaWV3Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3Um9vdH0sZS5wcm90b3R5cGUucmVzZXRWaWV3Um9vdD1mdW5jdGlvbih0KXt0P3RoaXMuX3ZpZXdSb290PXQ6dD10aGlzLl92aWV3Um9vdDt2YXIgZT10aGlzLmdldFJhd0RhdGEoKS50cmVlLnJvb3Q7dCYmKHQ9PT1lfHxlLmNvbnRhaW5zKHQpKXx8KHRoaXMuX3ZpZXdSb290PWUpfSxlLnByb3RvdHlwZS5lbmFibGVBcmlhRGVjYWw9ZnVuY3Rpb24oKXtMSSh0aGlzKX0sZS50eXBlPVwic2VyaWVzLnRyZWVtYXBcIixlLmxheW91dE1vZGU9XCJib3hcIixlLmRlZmF1bHRPcHRpb249e3Byb2dyZXNzaXZlOjAsbGVmdDpcImNlbnRlclwiLHRvcDpcIm1pZGRsZVwiLHdpZHRoOlwiODAlXCIsaGVpZ2h0OlwiODAlXCIsc29ydDohMCxjbGlwV2luZG93Olwib3JpZ2luXCIsc3F1YXJlUmF0aW86LjUqKDErTWF0aC5zcXJ0KDUpKSxsZWFmRGVwdGg6bnVsbCxkcmlsbERvd25JY29uOlwi4pa2XCIsem9vbVRvTm9kZVJhdGlvOi4xMDI0LHJvYW06ITAsbm9kZUNsaWNrOlwiem9vbVRvTm9kZVwiLGFuaW1hdGlvbjohMCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo5MDAsYW5pbWF0aW9uRWFzaW5nOlwicXVpbnRpY0luT3V0XCIsYnJlYWRjcnVtYjp7c2hvdzohMCxoZWlnaHQ6MjIsbGVmdDpcImNlbnRlclwiLHRvcDpcImJvdHRvbVwiLGVtcHR5SXRlbVdpZHRoOjI1LGl0ZW1TdHlsZTp7Y29sb3I6XCJyZ2JhKDAsMCwwLDAuNylcIix0ZXh0U3R5bGU6e2NvbG9yOlwiI2ZmZlwifX19LGxhYmVsOntzaG93OiEwLGRpc3RhbmNlOjAscGFkZGluZzo1LHBvc2l0aW9uOlwiaW5zaWRlXCIsY29sb3I6XCIjZmZmXCIsb3ZlcmZsb3c6XCJ0cnVuY2F0ZVwifSx1cHBlckxhYmVsOntzaG93OiExLHBvc2l0aW9uOlswLFwiNTAlXCJdLGhlaWdodDoyMCxvdmVyZmxvdzpcInRydW5jYXRlXCIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwifSxpdGVtU3R5bGU6e2NvbG9yOm51bGwsY29sb3JBbHBoYTpudWxsLGNvbG9yU2F0dXJhdGlvbjpudWxsLGJvcmRlcldpZHRoOjAsZ2FwV2lkdGg6MCxib3JkZXJDb2xvcjpcIiNmZmZcIixib3JkZXJDb2xvclNhdHVyYXRpb246bnVsbH0sZW1waGFzaXM6e3VwcGVyTGFiZWw6e3Nob3c6ITAscG9zaXRpb246WzAsXCI1MCVcIl0sZWxsaXBzaXM6ITAsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwifX0sdmlzdWFsRGltZW5zaW9uOjAsdmlzdWFsTWluOm51bGwsdmlzdWFsTWF4Om51bGwsY29sb3I6W10sY29sb3JBbHBoYTpudWxsLGNvbG9yU2F0dXJhdGlvbjpudWxsLGNvbG9yTWFwcGluZ0J5OlwiaW5kZXhcIix2aXNpYmxlTWluOjEwLGNoaWxkcmVuVmlzaWJsZU1pbjpudWxsLGxldmVsczpbXX0sZX0ocmYpO2Z1bmN0aW9uIFBJKHQpe3ZhciBlPTA7UCh0LmNoaWxkcmVuLChmdW5jdGlvbih0KXtQSSh0KTt2YXIgbj10LnZhbHVlO0YobikmJihuPW5bMF0pLGUrPW59KSk7dmFyIG49dC52YWx1ZTtGKG4pJiYobj1uWzBdKSwobnVsbD09bnx8aXNOYU4obikpJiYobj1lKSxuPDAmJihuPTApLEYodC52YWx1ZSk/dC52YWx1ZVswXT1uOnQudmFsdWU9bn12YXIgT0k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ3JvdXA9bmV3IHppLHQuYWRkKHRoaXMuZ3JvdXApfXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbChcImJyZWFkY3J1bWJcIiksbz10aGlzLmdyb3VwO2lmKG8ucmVtb3ZlQWxsKCksci5nZXQoXCJzaG93XCIpJiZuKXt2YXIgYT1yLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLHM9YS5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxsPXtwb3M6e2xlZnQ6ci5nZXQoXCJsZWZ0XCIpLHJpZ2h0OnIuZ2V0KFwicmlnaHRcIiksdG9wOnIuZ2V0KFwidG9wXCIpLGJvdHRvbTpyLmdldChcImJvdHRvbVwiKX0sYm94Ont3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LGVtcHR5SXRlbVdpZHRoOnIuZ2V0KFwiZW1wdHlJdGVtV2lkdGhcIiksdG90YWxXaWR0aDowLHJlbmRlckxpc3Q6W119O3RoaXMuX3ByZXBhcmUobixsLHMpLHRoaXMuX3JlbmRlckNvbnRlbnQodCxsLGEscyxpKSxEYyhvLGwucG9zLGwuYm94KX19LHQucHJvdG90eXBlLl9wcmVwYXJlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dDtpO2k9aS5wYXJlbnROb2RlKXt2YXIgcj1UcihpLmdldE1vZGVsKCkuZ2V0KFwibmFtZVwiKSxcIlwiKSxvPW4uZ2V0VGV4dFJlY3QociksYT1NYXRoLm1heChvLndpZHRoKzE2LGUuZW1wdHlJdGVtV2lkdGgpO2UudG90YWxXaWR0aCs9YSs4LGUucmVuZGVyTGlzdC5wdXNoKHtub2RlOmksdGV4dDpyLHdpZHRoOmF9KX19LHQucHJvdG90eXBlLl9yZW5kZXJDb250ZW50PWZ1bmN0aW9uKHQsZSxuLGkscil7Zm9yKHZhciBvLGEscyxsLHUsaCxjLHAsZCxmPTAsZz1lLmVtcHR5SXRlbVdpZHRoLHk9dC5nZXQoW1wiYnJlYWRjcnVtYlwiLFwiaGVpZ2h0XCJdKSx2PShvPWUucG9zLGE9ZS5ib3gsbD1hLndpZHRoLHU9YS5oZWlnaHQsaD1aaShvLmxlZnQsbCksYz1aaShvLnRvcCx1KSxwPVppKG8ucmlnaHQsbCksZD1aaShvLmJvdHRvbSx1KSwoaXNOYU4oaCl8fGlzTmFOKHBhcnNlRmxvYXQoby5sZWZ0KSkpJiYoaD0wKSwoaXNOYU4ocCl8fGlzTmFOKHBhcnNlRmxvYXQoby5yaWdodCkpKSYmKHA9bCksKGlzTmFOKGMpfHxpc05hTihwYXJzZUZsb2F0KG8udG9wKSkpJiYoYz0wKSwoaXNOYU4oZCl8fGlzTmFOKHBhcnNlRmxvYXQoby5ib3R0b20pKSkmJihkPXUpLHM9cGMoc3x8MCkse3dpZHRoOk1hdGgubWF4KHAtaC1zWzFdLXNbM10sMCksaGVpZ2h0Ok1hdGgubWF4KGQtYy1zWzBdLXNbMl0sMCl9KSxtPWUudG90YWxXaWR0aCxfPWUucmVuZGVyTGlzdCx4PV8ubGVuZ3RoLTE7eD49MDt4LS0pe3ZhciBiPV9beF0sdz1iLm5vZGUsUz1iLndpZHRoLE09Yi50ZXh0O20+di53aWR0aCYmKG0tPVMtZyxTPWcsTT1udWxsKTt2YXIgST1uZXcgcWwoe3NoYXBlOntwb2ludHM6UkkoZiwwLFMseSx4PT09Xy5sZW5ndGgtMSwwPT09eCl9LHN0eWxlOlQobi5nZXRJdGVtU3R5bGUoKSx7bGluZUpvaW46XCJiZXZlbFwifSksdGV4dENvbnRlbnQ6bmV3IGxzKHtzdHlsZTp7dGV4dDpNLGZpbGw6aS5nZXRUZXh0Q29sb3IoKSxmb250OmkuZ2V0Rm9udCgpfX0pLHRleHRDb25maWc6e3Bvc2l0aW9uOlwiaW5zaWRlXCJ9LHo6MTAsb25jbGljazpWKHIsdyl9KTtJLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMCx0aGlzLmdyb3VwLmFkZChJKSxOSShJLHQsdyksZis9Uys4fX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdH0oKTtmdW5jdGlvbiBSSSh0LGUsbixpLHIsbyl7dmFyIGE9W1tyP3Q6dC01LGVdLFt0K24sZV0sW3QrbixlK2ldLFtyP3Q6dC01LGUraV1dO3JldHVybiFvJiZhLnNwbGljZSgyLDAsW3Qrbis1LGUraS8yXSksIXImJmEucHVzaChbdCxlK2kvMl0pLGF9ZnVuY3Rpb24gTkkodCxlLG4pe3lzKHQpLmV2ZW50RGF0YT17Y29tcG9uZW50VHlwZTpcInNlcmllc1wiLGNvbXBvbmVudFN1YlR5cGU6XCJ0cmVlbWFwXCIsY29tcG9uZW50SW5kZXg6ZS5jb21wb25lbnRJbmRleCxzZXJpZXNJbmRleDplLmNvbXBvbmVudEluZGV4LHNlcmllc05hbWU6ZS5uYW1lLHNlcmllc1R5cGU6XCJ0cmVlbWFwXCIsc2VsZlR5cGU6XCJicmVhZGNydW1iXCIsbm9kZURhdGE6e2RhdGFJbmRleDpuJiZuLmRhdGFJbmRleCxuYW1lOm4mJm4ubmFtZX0sdHJlZVBhdGhJbmZvOm4mJkNJKG4sZSl9fXZhciBFST1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9zdG9yYWdlPVtdLHRoaXMuX2VsRXhpc3RzTWFwPXt9fXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm4hdGhpcy5fZWxFeGlzdHNNYXBbdC5pZF0mJih0aGlzLl9lbEV4aXN0c01hcFt0LmlkXT0hMCx0aGlzLl9zdG9yYWdlLnB1c2goe2VsOnQsdGFyZ2V0OmUsZHVyYXRpb246bixkZWxheTppLGVhc2luZzpyfSksITApfSx0LnByb3RvdHlwZS5maW5pc2hlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmluaXNoZWRDYWxsYmFjaz10LHRoaXN9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10aGlzLl9zdG9yYWdlLmxlbmd0aCxuPWZ1bmN0aW9uKCl7LS1lPD0wJiYodC5fc3RvcmFnZS5sZW5ndGg9MCx0Ll9lbEV4aXN0c01hcD17fSx0Ll9maW5pc2hlZENhbGxiYWNrJiZ0Ll9maW5pc2hlZENhbGxiYWNrKCkpfSxpPTAscj10aGlzLl9zdG9yYWdlLmxlbmd0aDtpPHI7aSsrKXt2YXIgbz10aGlzLl9zdG9yYWdlW2ldO28uZWwuYW5pbWF0ZVRvKG8udGFyZ2V0LHtkdXJhdGlvbjpvLmR1cmF0aW9uLGRlbGF5Om8uZGVsYXksZWFzaW5nOm8uZWFzaW5nLHNldFRvRmluYWw6ITAsZG9uZTpuLGFib3J0ZWQ6bn0pfXJldHVybiB0aGlzfSx0fSgpO3ZhciB6ST16aSxCST1vcyxWST1cImxhYmVsXCIsRkk9XCJ1cHBlckxhYmVsXCIsR0k9cXIoW1tcImZpbGxcIixcImNvbG9yXCJdLFtcInN0cm9rZVwiLFwic3Ryb2tlQ29sb3JcIl0sW1wibGluZVdpZHRoXCIsXCJzdHJva2VXaWR0aFwiXSxbXCJzaGFkb3dCbHVyXCJdLFtcInNoYWRvd09mZnNldFhcIl0sW1wic2hhZG93T2Zmc2V0WVwiXSxbXCJzaGFkb3dDb2xvclwiXV0pLEhJPWZ1bmN0aW9uKHQpe3ZhciBlPUdJKHQpO3JldHVybiBlLnN0cm9rZT1lLmZpbGw9ZS5saW5lV2lkdGg9bnVsbCxlfSxXST1McigpLFlJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fc3RhdGU9XCJyZWFkeVwiLG4uX3N0b3JhZ2U9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7aWYoIShBKGUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwic2VyaWVzXCIsc3ViVHlwZTpcInRyZWVtYXBcIixxdWVyeTppfSksdCk8MCkpe3RoaXMuc2VyaWVzTW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZWNNb2RlbD1lO3ZhciByPU1JKGksW1widHJlZW1hcFpvb21Ub05vZGVcIixcInRyZWVtYXBSb290VG9Ob2RlXCJdLHQpLG89aSYmaS50eXBlLGE9dC5sYXlvdXRJbmZvLHM9IXRoaXMuX29sZFRyZWUsbD10aGlzLl9zdG9yYWdlLHU9XCJ0cmVlbWFwUm9vdFRvTm9kZVwiPT09byYmciYmbD97cm9vdE5vZGVHcm91cDpsLm5vZGVHcm91cFtyLm5vZGUuZ2V0UmF3SW5kZXgoKV0sZGlyZWN0aW9uOmkuZGlyZWN0aW9ufTpudWxsLGg9dGhpcy5fZ2l2ZUNvbnRhaW5lckdyb3VwKGEpLGM9dGhpcy5fZG9SZW5kZXIoaCx0LHUpO3N8fG8mJlwidHJlZW1hcFpvb21Ub05vZGVcIiE9PW8mJlwidHJlZW1hcFJvb3RUb05vZGVcIiE9PW8/Yy5yZW5kZXJGaW5hbGx5KCk6dGhpcy5fZG9BbmltYXRpb24oaCxjLHQsdSksdGhpcy5fcmVzZXRDb250cm9sbGVyKG4pLHRoaXMuX3JlbmRlckJyZWFkY3J1bWIodCxuLHIpfX0sZS5wcm90b3R5cGUuX2dpdmVDb250YWluZXJHcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250YWluZXJHcm91cDtyZXR1cm4gZXx8KGU9dGhpcy5fY29udGFpbmVyR3JvdXA9bmV3IHpJLHRoaXMuX2luaXRFdmVudHMoZSksdGhpcy5ncm91cC5hZGQoZSkpLGUueD10LngsZS55PXQueSxlfSxlLnByb3RvdHlwZS5fZG9SZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0RGF0YSgpLnRyZWUscj10aGlzLl9vbGRUcmVlLG89e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LGE9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHM9dGhpcy5fc3RvcmFnZSxsPVtdO2Z1bmN0aW9uIHUodCxpLHIsdSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUpe2lmKCFhKXJldHVybjt2YXIgaD1hLmdldExheW91dCgpLGM9dC5nZXREYXRhKCkscD1hLmdldE1vZGVsKCk7aWYoYy5zZXRJdGVtR3JhcGhpY0VsKGEuZGF0YUluZGV4LG51bGwpLCFofHwhaC5pc0luVmlldylyZXR1cm47dmFyIGQ9aC53aWR0aCxmPWguaGVpZ2h0LGc9aC5ib3JkZXJXaWR0aCx5PWguaW52aXNpYmxlLHY9YS5nZXRSYXdJbmRleCgpLG09cyYmcy5nZXRSYXdJbmRleCgpLF89YS52aWV3Q2hpbGRyZW4seD1oLnVwcGVySGVpZ2h0LGI9XyYmXy5sZW5ndGgsdz1wLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLFM9cC5nZXRNb2RlbChbXCJlbXBoYXNpc1wiLFwiaXRlbVN0eWxlXCJdKSxNPXAuZ2V0TW9kZWwoW1wiYmx1clwiLFwiaXRlbVN0eWxlXCJdKSxUPXAuZ2V0TW9kZWwoW1wic2VsZWN0XCIsXCJpdGVtU3R5bGVcIl0pLEM9dy5nZXQoXCJib3JkZXJSYWRpdXNcIil8fDAsQT1WKFwibm9kZUdyb3VwXCIsekkpO2lmKCFBKXJldHVybjtpZihsLmFkZChBKSxBLng9aC54fHwwLEEueT1oLnl8fDAsQS5tYXJrUmVkcmF3KCksV0koQSkubm9kZVdpZHRoPWQsV0koQSkubm9kZUhlaWdodD1mLGguaXNBYm92ZVZpZXdSb290KXJldHVybiBBO3ZhciBEPVYoXCJiYWNrZ3JvdW5kXCIsQkksdSwxKTtEJiZSKEEsRCxiJiZoLnVwcGVyTGFiZWxIZWlnaHQpO3ZhciBMPXAuZ2V0KFtcImVtcGhhc2lzXCIsXCJmb2N1c1wiXSksaz1wLmdldChbXCJlbXBoYXNpc1wiLFwiYmx1clNjb3BlXCJdKSxQPVwiYW5jZXN0b3JcIj09PUw/YS5nZXRBbmNlc3RvcnNJbmRpY2VzKCk6XCJkZXNjZW5kYW50XCI9PT1MP2EuZ2V0RGVzY2VuZGFudEluZGljZXMoKTpudWxsO2lmKGIpcmwoQSkmJmlsKEEsITEpLEQmJihpbChELCEwKSxjLnNldEl0ZW1HcmFwaGljRWwoYS5kYXRhSW5kZXgsRCksUXMoRCxQfHxMLGspKTtlbHNle3ZhciBPPVYoXCJjb250ZW50XCIsQkksdSwyKTtPJiZOKEEsTyksRCYmcmwoRCkmJmlsKEQsITEpLGlsKEEsITApLGMuc2V0SXRlbUdyYXBoaWNFbChhLmRhdGFJbmRleCxBKSxRcyhBLFB8fEwsayl9cmV0dXJuIEE7ZnVuY3Rpb24gUihlLG4saSl7dmFyIHI9eXMobik7aWYoci5kYXRhSW5kZXg9YS5kYXRhSW5kZXgsci5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LG4uc2V0U2hhcGUoe3g6MCx5OjAsd2lkdGg6ZCxoZWlnaHQ6ZixyOkN9KSx5KUUobik7ZWxzZXtuLmludmlzaWJsZT0hMTt2YXIgbz1hLmdldFZpc3VhbChcInN0eWxlXCIpLHM9by5zdHJva2UsbD1ISSh3KTtsLmZpbGw9czt2YXIgdT1HSShTKTt1LmZpbGw9Uy5nZXQoXCJib3JkZXJDb2xvclwiKTt2YXIgaD1HSShNKTtoLmZpbGw9TS5nZXQoXCJib3JkZXJDb2xvclwiKTt2YXIgYz1HSShUKTtpZihjLmZpbGw9VC5nZXQoXCJib3JkZXJDb2xvclwiKSxpKXt2YXIgcD1kLTIqZzt6KG4scyxwLHgsby5vcGFjaXR5LHt4OmcseTowLHdpZHRoOnAsaGVpZ2h0Onh9KX1lbHNlIG4ucmVtb3ZlVGV4dENvbnRlbnQoKTtuLnNldFN0eWxlKGwpLG4uZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKS5zdHlsZT11LG4uZW5zdXJlU3RhdGUoXCJibHVyXCIpLnN0eWxlPWgsbi5lbnN1cmVTdGF0ZShcInNlbGVjdFwiKS5zdHlsZT1jLEdzKG4pfWUuYWRkKG4pfWZ1bmN0aW9uIE4oZSxuKXt2YXIgaT15cyhuKTtpLmRhdGFJbmRleD1hLmRhdGFJbmRleCxpLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXg7dmFyIHI9TWF0aC5tYXgoZC0yKmcsMCksbz1NYXRoLm1heChmLTIqZywwKTtpZihuLmN1bGxpbmc9ITAsbi5zZXRTaGFwZSh7eDpnLHk6Zyx3aWR0aDpyLGhlaWdodDpvLHI6Q30pLHkpRShuKTtlbHNle24uaW52aXNpYmxlPSExO3ZhciBzPWEuZ2V0VmlzdWFsKFwic3R5bGVcIiksbD1zLmZpbGwsdT1ISSh3KTt1LmZpbGw9bCx1LmRlY2FsPXMuZGVjYWw7dmFyIGg9R0koUyksYz1HSShNKSxwPUdJKFQpO3oobixsLHIscy5vcGFjaXR5KSxuLnNldFN0eWxlKHUpLG4uZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKS5zdHlsZT1oLG4uZW5zdXJlU3RhdGUoXCJibHVyXCIpLnN0eWxlPWMsbi5lbnN1cmVTdGF0ZShcInNlbGVjdFwiKS5zdHlsZT1wLEdzKG4pfWUuYWRkKG4pfWZ1bmN0aW9uIEUodCl7IXQuaW52aXNpYmxlJiZvLnB1c2godCl9ZnVuY3Rpb24geihlLG4saSxyLG8scyl7dmFyIGw9cC5nZXRNb2RlbChzP0ZJOlZJKSx1PVEodC5nZXRGb3JtYXR0ZWRMYWJlbChhLmRhdGFJbmRleCxcIm5vcm1hbFwiLG51bGwsbnVsbCxsLmdldChcImZvcm1hdHRlclwiKSksVHIocC5nZXQoXCJuYW1lXCIpLG51bGwpKTtpZighcyYmaC5pc0xlYWZSb290KXt2YXIgYz10LmdldChcImRyaWxsRG93bkljb25cIiwhMCk7dT1jP2MrXCIgXCIrdTp1fXZhciBkPWwuZ2V0U2hhbGxvdyhcInNob3dcIik7dGgoZSxlaChwLHM/Rkk6VkkpLHtkZWZhdWx0VGV4dDpkP3U6bnVsbCxpbmhlcml0Q29sb3I6bixkZWZhdWx0T3BhY2l0eTppLGxhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OmEuZGF0YUluZGV4fSk7dmFyIGY9ZS5nZXRUZXh0Q29udGVudCgpLGc9Zi5zdHlsZSx5PWl0KGcucGFkZGluZ3x8MCk7cyYmKGUuc2V0VGV4dENvbmZpZyh7bGF5b3V0UmVjdDpzfSksZi5kaXNhYmxlTGFiZWxMYXlvdXQ9ITApLGYuYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5tYXgoKHM/cy53aWR0aDplLnNoYXBlLndpZHRoKS15WzFdLXlbM10sMCksbj1NYXRoLm1heCgocz9zLmhlaWdodDplLnNoYXBlLmhlaWdodCkteVswXS15WzJdLDApO2cud2lkdGg9PT10JiZnLmhlaWdodD09PW58fGYuc2V0U3R5bGUoe3dpZHRoOnQsaGVpZ2h0Om59KX0sZy50cnVuY2F0ZU1pbkNoYXI9MixnLmxpbmVPdmVyZmxvdz1cInRydW5jYXRlXCIsQihnLHMsaCk7dmFyIHY9Zi5nZXRTdGF0ZShcImVtcGhhc2lzXCIpO0Iodj92LnN0eWxlOm51bGwscyxoKX1mdW5jdGlvbiBCKGUsbixpKXt2YXIgcj1lP2UudGV4dDpudWxsO2lmKCFuJiZpLmlzTGVhZlJvb3QmJm51bGwhPXIpe3ZhciBvPXQuZ2V0KFwiZHJpbGxEb3duSWNvblwiLCEwKTtlLnRleHQ9bz9vK1wiIFwiK3I6cn19ZnVuY3Rpb24gVih0LGksbyxhKXt2YXIgcz1udWxsIT1tJiZuW3RdW21dLGw9clt0XTtyZXR1cm4gcz8oblt0XVttXT1udWxsLEYobCxzKSk6eXx8KChzPW5ldyBpKWluc3RhbmNlb2YgeG8mJihzLno9ZnVuY3Rpb24odCxlKXt2YXIgbj0xMCp0K2U7cmV0dXJuKG4tMSkvbn0obyxhKSksRyhsLHMpKSxlW3RdW3ZdPXN9ZnVuY3Rpb24gRih0LGUpe3ZhciBuPXRbdl09e307ZSBpbnN0YW5jZW9mIHpJPyhuLm9sZFg9ZS54LG4ub2xkWT1lLnkpOm4ub2xkU2hhcGU9SSh7fSxlLnNoYXBlKX1mdW5jdGlvbiBHKHQsZSl7dmFyIG49dFt2XT17fSxvPWEucGFyZW50Tm9kZSxzPWUgaW5zdGFuY2VvZiB6aTtpZihvJiYoIWl8fFwiZHJpbGxEb3duXCI9PT1pLmRpcmVjdGlvbikpe3ZhciBsPTAsdT0wLGg9ci5iYWNrZ3JvdW5kW28uZ2V0UmF3SW5kZXgoKV07IWkmJmgmJmgub2xkU2hhcGUmJihsPWgub2xkU2hhcGUud2lkdGgsdT1oLm9sZFNoYXBlLmhlaWdodCkscz8obi5vbGRYPTAsbi5vbGRZPXUpOm4ub2xkU2hhcGU9e3g6bCx5OnUsd2lkdGg6MCxoZWlnaHQ6MH19bi5mYWRlaW49IXN9fShlLGEscyxuLG8sbCx0LGkscix1KX0hZnVuY3Rpb24gdChlLG4saSxyLG8pe3I/KG49ZSxQKGUsKGZ1bmN0aW9uKHQsZSl7IXQuaXNSZW1vdmVkKCkmJnMoZSxlKX0pKSk6bmV3IHJtKG4sZSxhLGEpLmFkZChzKS51cGRhdGUocykucmVtb3ZlKFYocyxudWxsKSkuZXhlY3V0ZSgpO2Z1bmN0aW9uIGEodCl7cmV0dXJuIHQuZ2V0SWQoKX1mdW5jdGlvbiBzKGEscyl7dmFyIGw9bnVsbCE9YT9lW2FdOm51bGwsaD1udWxsIT1zP25bc106bnVsbCxjPXUobCxoLGksbyk7YyYmdChsJiZsLnZpZXdDaGlsZHJlbnx8W10saCYmaC52aWV3Q2hpbGRyZW58fFtdLGMscixvKzEpfX0oaS5yb290P1tpLnJvb3RdOltdLHImJnIucm9vdD9bci5yb290XTpbXSx0LGk9PT1yfHwhciwwKTt2YXIgaD1mdW5jdGlvbih0KXt2YXIgZT17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX07cmV0dXJuIHQmJlAodCwoZnVuY3Rpb24odCxuKXt2YXIgaT1lW25dO1AodCwoZnVuY3Rpb24odCl7dCYmKGkucHVzaCh0KSxXSSh0KS53aWxsRGVsZXRlPSEwKX0pKX0pKSxlfShzKTtyZXR1cm4gdGhpcy5fb2xkVHJlZT1pLHRoaXMuX3N0b3JhZ2U9YSx7bGFzdHNGb3JBbmltYXRpb246byx3aWxsRGVsZXRlRWxzOmgscmVuZGVyRmluYWxseTpmdW5jdGlvbigpe1AoaCwoZnVuY3Rpb24odCl7UCh0LChmdW5jdGlvbih0KXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpfSkpfSkpLFAobCwoZnVuY3Rpb24odCl7dC5pbnZpc2libGU9ITAsdC5kaXJ0eSgpfSkpfX19LGUucHJvdG90eXBlLl9kb0FuaW1hdGlvbj1mdW5jdGlvbih0LGUsbixpKXtpZihuLmdldChcImFuaW1hdGlvblwiKSl7dmFyIHI9bi5nZXQoXCJhbmltYXRpb25EdXJhdGlvblVwZGF0ZVwiKSxvPW4uZ2V0KFwiYW5pbWF0aW9uRWFzaW5nXCIpLGE9KEcocik/MDpyKXx8MCxzPShHKG8pP251bGw6byl8fFwiY3ViaWNPdXRcIixsPW5ldyBFSTtQKGUud2lsbERlbGV0ZUVscywoZnVuY3Rpb24odCxlKXtQKHQsKGZ1bmN0aW9uKHQsbil7aWYoIXQuaW52aXNpYmxlKXt2YXIgcixvPXQucGFyZW50LHU9V0kobyk7aWYoaSYmXCJkcmlsbERvd25cIj09PWkuZGlyZWN0aW9uKXI9bz09PWkucm9vdE5vZGVHcm91cD97c2hhcGU6e3g6MCx5OjAsd2lkdGg6dS5ub2RlV2lkdGgsaGVpZ2h0OnUubm9kZUhlaWdodH0sc3R5bGU6e29wYWNpdHk6MH19OntzdHlsZTp7b3BhY2l0eTowfX07ZWxzZXt2YXIgaD0wLGM9MDt1LndpbGxEZWxldGV8fChoPXUubm9kZVdpZHRoLzIsYz11Lm5vZGVIZWlnaHQvMikscj1cIm5vZGVHcm91cFwiPT09ZT97eDpoLHk6YyxzdHlsZTp7b3BhY2l0eTowfX06e3NoYXBlOnt4OmgseTpjLHdpZHRoOjAsaGVpZ2h0OjB9LHN0eWxlOntvcGFjaXR5OjB9fX1yJiZsLmFkZCh0LHIsYSwwLHMpfX0pKX0pKSxQKHRoaXMuX3N0b3JhZ2UsKGZ1bmN0aW9uKHQsbil7UCh0LChmdW5jdGlvbih0LGkpe3ZhciByPWUubGFzdHNGb3JBbmltYXRpb25bbl1baV0sbz17fTtyJiYodCBpbnN0YW5jZW9mIHppP251bGwhPXIub2xkWCYmKG8ueD10Lngsby55PXQueSx0Lng9ci5vbGRYLHQueT1yLm9sZFkpOihyLm9sZFNoYXBlJiYoby5zaGFwZT1JKHt9LHQuc2hhcGUpLHQuc2V0U2hhcGUoci5vbGRTaGFwZSkpLHIuZmFkZWluPyh0LnNldFN0eWxlKFwib3BhY2l0eVwiLDApLG8uc3R5bGU9e29wYWNpdHk6MX0pOjEhPT10LnN0eWxlLm9wYWNpdHkmJihvLnN0eWxlPXtvcGFjaXR5OjF9KSksbC5hZGQodCxvLGEsMCxzKSl9KSl9KSx0aGlzKSx0aGlzLl9zdGF0ZT1cImFuaW1hdGluZ1wiLGwuZmluaXNoZWQoQigoZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZT1cInJlYWR5XCIsZS5yZW5kZXJGaW5hbGx5KCl9KSx0aGlzKSkuc3RhcnQoKX19LGUucHJvdG90eXBlLl9yZXNldENvbnRyb2xsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udHJvbGxlcjtlfHwoKGU9dGhpcy5fY29udHJvbGxlcj1uZXcgUVModC5nZXRacigpKSkuZW5hYmxlKHRoaXMuc2VyaWVzTW9kZWwuZ2V0KFwicm9hbVwiKSksZS5vbihcInBhblwiLEIodGhpcy5fb25QYW4sdGhpcykpLGUub24oXCJ6b29tXCIsQih0aGlzLl9vblpvb20sdGhpcykpKTt2YXIgbj1uZXcgUm4oMCwwLHQuZ2V0V2lkdGgoKSx0LmdldEhlaWdodCgpKTtlLnNldFBvaW50ZXJDaGVja2VyKChmdW5jdGlvbih0LGUsaSl7cmV0dXJuIG4uY29udGFpbihlLGkpfSkpfSxlLnByb3RvdHlwZS5fY2xlYXJDb250cm9sbGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udHJvbGxlcjt0JiYodC5kaXNwb3NlKCksdD1udWxsKX0sZS5wcm90b3R5cGUuX29uUGFuPWZ1bmN0aW9uKHQpe2lmKFwiYW5pbWF0aW5nXCIhPT10aGlzLl9zdGF0ZSYmKE1hdGguYWJzKHQuZHgpPjN8fE1hdGguYWJzKHQuZHkpPjMpKXt2YXIgZT10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIWUpcmV0dXJuO3ZhciBuPWUuZ2V0TGF5b3V0KCk7aWYoIW4pcmV0dXJuO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwidHJlZW1hcE1vdmVcIixmcm9tOnRoaXMudWlkLHNlcmllc0lkOnRoaXMuc2VyaWVzTW9kZWwuaWQscm9vdFJlY3Q6e3g6bi54K3QuZHgseTpuLnkrdC5keSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH19KX19LGUucHJvdG90eXBlLl9vblpvb209ZnVuY3Rpb24odCl7dmFyIGU9dC5vcmlnaW5YLG49dC5vcmlnaW5ZO2lmKFwiYW5pbWF0aW5nXCIhPT10aGlzLl9zdGF0ZSl7dmFyIGk9dGhpcy5zZXJpZXNNb2RlbC5nZXREYXRhKCkudHJlZS5yb290O2lmKCFpKXJldHVybjt2YXIgcj1pLmdldExheW91dCgpO2lmKCFyKXJldHVybjt2YXIgbz1uZXcgUm4oci54LHIueSxyLndpZHRoLHIuaGVpZ2h0KSxhPXRoaXMuc2VyaWVzTW9kZWwubGF5b3V0SW5mbyxzPVsxLDAsMCwxLDAsMF07bWUocyxzLFstKGUtPWEueCksLShuLT1hLnkpXSkseGUocyxzLFt0LnNjYWxlLHQuc2NhbGVdKSxtZShzLHMsW2Usbl0pLG8uYXBwbHlUcmFuc2Zvcm0ocyksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJ0cmVlbWFwUmVuZGVyXCIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHJvb3RSZWN0Ont4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH19KX19LGUucHJvdG90eXBlLl9pbml0RXZlbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKHQpe2lmKFwicmVhZHlcIj09PWUuX3N0YXRlKXt2YXIgbj1lLnNlcmllc01vZGVsLmdldChcIm5vZGVDbGlja1wiLCEwKTtpZihuKXt2YXIgaT1lLmZpbmRUYXJnZXQodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoaSl7dmFyIHI9aS5ub2RlO2lmKHIuZ2V0TGF5b3V0KCkuaXNMZWFmUm9vdCllLl9yb290VG9Ob2RlKGkpO2Vsc2UgaWYoXCJ6b29tVG9Ob2RlXCI9PT1uKWUuX3pvb21Ub05vZGUoaSk7ZWxzZSBpZihcImxpbmtcIj09PW4pe3ZhciBvPXIuaG9zdFRyZWUuZGF0YS5nZXRJdGVtTW9kZWwoci5kYXRhSW5kZXgpLGE9by5nZXQoXCJsaW5rXCIsITApLHM9by5nZXQoXCJ0YXJnZXRcIiwhMCl8fFwiYmxhbmtcIjthJiZ3YyhhLHMpfX19fX0pLHRoaXMpfSxlLnByb3RvdHlwZS5fcmVuZGVyQnJlYWRjcnVtYj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcztufHwobj1udWxsIT10LmdldChcImxlYWZEZXB0aFwiLCEwKT97bm9kZTp0LmdldFZpZXdSb290KCl9OnRoaXMuZmluZFRhcmdldChlLmdldFdpZHRoKCkvMixlLmdldEhlaWdodCgpLzIpKXx8KG49e25vZGU6dC5nZXREYXRhKCkudHJlZS5yb290fSksKHRoaXMuX2JyZWFkY3J1bWJ8fCh0aGlzLl9icmVhZGNydW1iPW5ldyBPSSh0aGlzLmdyb3VwKSkpLnJlbmRlcih0LGUsbi5ub2RlLChmdW5jdGlvbihlKXtcImFuaW1hdGluZ1wiIT09aS5fc3RhdGUmJihUSSh0LmdldFZpZXdSb290KCksZSk/aS5fcm9vdFRvTm9kZSh7bm9kZTplfSk6aS5fem9vbVRvTm9kZSh7bm9kZTplfSkpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnRyb2xsZXIoKSx0aGlzLl9jb250YWluZXJHcm91cCYmdGhpcy5fY29udGFpbmVyR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3RvcmFnZT17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX0sdGhpcy5fc3RhdGU9XCJyZWFkeVwiLHRoaXMuX2JyZWFkY3J1bWImJnRoaXMuX2JyZWFkY3J1bWIucmVtb3ZlKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnRyb2xsZXIoKX0sZS5wcm90b3R5cGUuX3pvb21Ub05vZGU9ZnVuY3Rpb24odCl7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJ0cmVlbWFwWm9vbVRvTm9kZVwiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxlLnByb3RvdHlwZS5fcm9vdFRvTm9kZT1mdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcInRyZWVtYXBSb290VG9Ob2RlXCIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dC5ub2RlfSl9LGUucHJvdG90eXBlLmZpbmRUYXJnZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdGhpcy5zZXJpZXNNb2RlbC5nZXRWaWV3Um9vdCgpLmVhY2hOb2RlKHthdHRyOlwidmlld0NoaWxkcmVuXCIsb3JkZXI6XCJwcmVvcmRlclwifSwoZnVuY3Rpb24oaSl7dmFyIHI9dGhpcy5fc3RvcmFnZS5iYWNrZ3JvdW5kW2kuZ2V0UmF3SW5kZXgoKV07aWYocil7dmFyIG89ci50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxhPXIuc2hhcGU7aWYoIShhLng8PW9bMF0mJm9bMF08PWEueCthLndpZHRoJiZhLnk8PW9bMV0mJm9bMV08PWEueSthLmhlaWdodCkpcmV0dXJuITE7bj17bm9kZTppLG9mZnNldFg6b1swXSxvZmZzZXRZOm9bMV19fX0pLHRoaXMpLG59LGUudHlwZT1cInRyZWVtYXBcIixlfSh5Zik7dmFyIFhJPVAsVUk9WCxaST0tMSxqST1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5tYXBwaW5nTWV0aG9kLGk9ZS50eXBlLHI9dGhpcy5vcHRpb249dyhlKTt0aGlzLnR5cGU9aSx0aGlzLm1hcHBpbmdNZXRob2Q9bix0aGlzLl9ub3JtYWxpemVEYXRhPXJUW25dO3ZhciBvPXQudmlzdWFsSGFuZGxlcnNbaV07dGhpcy5hcHBseVZpc3VhbD1vLmFwcGx5VmlzdWFsLHRoaXMuZ2V0Q29sb3JNYXBwZXI9by5nZXRDb2xvck1hcHBlcix0aGlzLl9ub3JtYWxpemVkVG9WaXN1YWw9by5fbm9ybWFsaXplZFRvVmlzdWFsW25dLFwicGllY2V3aXNlXCI9PT1uPyhxSShyKSxmdW5jdGlvbih0KXt2YXIgZT10LnBpZWNlTGlzdDt0Lmhhc1NwZWNpYWxWaXN1YWw9ITEsUChlLChmdW5jdGlvbihlLG4pe2Uub3JpZ2luSW5kZXg9bixudWxsIT1lLnZpc3VhbCYmKHQuaGFzU3BlY2lhbFZpc3VhbD0hMCl9KSl9KHIpKTpcImNhdGVnb3J5XCI9PT1uP3IuY2F0ZWdvcmllcz9mdW5jdGlvbih0KXt2YXIgZT10LmNhdGVnb3JpZXMsbj10LmNhdGVnb3J5TWFwPXt9LGk9dC52aXN1YWw7aWYoWEkoZSwoZnVuY3Rpb24odCxlKXtuW3RdPWV9KSksIUYoaSkpe3ZhciByPVtdO1goaSk/WEkoaSwoZnVuY3Rpb24odCxlKXt2YXIgaT1uW2VdO3JbbnVsbCE9aT9pOlpJXT10fSkpOnJbLTFdPWksaT1pVCh0LHIpfWZvcih2YXIgbz1lLmxlbmd0aC0xO28+PTA7by0tKW51bGw9PWlbb10mJihkZWxldGUgbltlW29dXSxlLnBvcCgpKX0ocik6cUkociwhMCk6KHJ0KFwibGluZWFyXCIhPT1ufHxyLmRhdGFFeHRlbnQpLHFJKHIpKX1yZXR1cm4gdC5wcm90b3R5cGUubWFwVmFsdWVUb1Zpc3VhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9ub3JtYWxpemVEYXRhKHQpO3JldHVybiB0aGlzLl9ub3JtYWxpemVkVG9WaXN1YWwoZSx0KX0sdC5wcm90b3R5cGUuZ2V0Tm9ybWFsaXplcj1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMuX25vcm1hbGl6ZURhdGEsdGhpcyl9LHQubGlzdFZpc3VhbFR5cGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHoodC52aXN1YWxIYW5kbGVycyl9LHQuaXNWYWxpZFR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQudmlzdWFsSGFuZGxlcnMuaGFzT3duUHJvcGVydHkoZSl9LHQuZWFjaFZpc3VhbD1mdW5jdGlvbih0LGUsbil7WCh0KT9QKHQsZSxuKTplLmNhbGwobix0KX0sdC5tYXBWaXN1YWw9ZnVuY3Rpb24oZSxuLGkpe3ZhciByLG89RihlKT9bXTpYKGUpP3t9OihyPSEwLG51bGwpO3JldHVybiB0LmVhY2hWaXN1YWwoZSwoZnVuY3Rpb24odCxlKXt2YXIgYT1uLmNhbGwoaSx0LGUpO3I/bz1hOm9bZV09YX0pKSxvfSx0LnJldHJpZXZlVmlzdWFscz1mdW5jdGlvbihlKXt2YXIgbixpPXt9O3JldHVybiBlJiZYSSh0LnZpc3VhbEhhbmRsZXJzLChmdW5jdGlvbih0LHIpe2UuaGFzT3duUHJvcGVydHkocikmJihpW3JdPWVbcl0sbj0hMCl9KSksbj9pOm51bGx9LHQucHJlcGFyZVZpc3VhbFR5cGVzPWZ1bmN0aW9uKHQpe2lmKEYodCkpdD10LnNsaWNlKCk7ZWxzZXtpZighVUkodCkpcmV0dXJuW107dmFyIGU9W107WEkodCwoZnVuY3Rpb24odCxuKXtlLnB1c2gobil9KSksdD1lfXJldHVybiB0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJjb2xvclwiPT09ZSYmXCJjb2xvclwiIT09dCYmMD09PXQuaW5kZXhPZihcImNvbG9yXCIpPzE6LTF9KSksdH0sdC5kZXBlbmRzT249ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNvbG9yXCI9PT1lPyEoIXR8fDAhPT10LmluZGV4T2YoZSkpOnQ9PT1lfSx0LmZpbmRQaWVjZUluZGV4PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkscj0xLzAsbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7dmFyIHM9ZVtvXS52YWx1ZTtpZihudWxsIT1zKXtpZihzPT09dHx8XCJzdHJpbmdcIj09dHlwZW9mIHMmJnM9PT10K1wiXCIpcmV0dXJuIG87biYmYyhzLG8pfX1mb3Iobz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7dmFyIGw9ZVtvXSx1PWwuaW50ZXJ2YWwsaD1sLmNsb3NlO2lmKHUpe2lmKHVbMF09PT0tMS8wKXtpZihvVChoWzFdLHQsdVsxXSkpcmV0dXJuIG99ZWxzZSBpZih1WzFdPT09MS8wKXtpZihvVChoWzBdLHVbMF0sdCkpcmV0dXJuIG99ZWxzZSBpZihvVChoWzBdLHVbMF0sdCkmJm9UKGhbMV0sdCx1WzFdKSlyZXR1cm4gbztuJiZjKHVbMF0sbyksbiYmYyh1WzFdLG8pfX1pZihuKXJldHVybiB0PT09MS8wP2UubGVuZ3RoLTE6dD09PS0xLzA/MDppO2Z1bmN0aW9uIGMoZSxuKXt2YXIgbz1NYXRoLmFicyhlLXQpO288ciYmKHI9byxpPW4pfX0sdC52aXN1YWxIYW5kbGVycz17Y29sb3I6e2FwcGx5VmlzdWFsOkpJKFwiY29sb3JcIiksZ2V0Q29sb3JNYXBwZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gQihcImNhdGVnb3J5XCI9PT10Lm1hcHBpbmdNZXRob2Q/ZnVuY3Rpb24odCxlKXtyZXR1cm4hZSYmKHQ9dGhpcy5fbm9ybWFsaXplRGF0YSh0KSksUUkuY2FsbCh0aGlzLHQpfTpmdW5jdGlvbihlLG4saSl7dmFyIHI9ISFpO3JldHVybiFuJiYoZT10aGlzLl9ub3JtYWxpemVEYXRhKGUpKSxpPVFlKGUsdC5wYXJzZWRWaXN1YWwsaSkscj9pOmFuKGksXCJyZ2JhXCIpfSx0aGlzKX0sX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBhbihRZSh0LHRoaXMub3B0aW9uLnBhcnNlZFZpc3VhbCksXCJyZ2JhXCIpfSxjYXRlZ29yeTpRSSxwaWVjZXdpc2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1uVC5jYWxsKHRoaXMsZSk7cmV0dXJuIG51bGw9PW4mJihuPWFuKFFlKHQsdGhpcy5vcHRpb24ucGFyc2VkVmlzdWFsKSxcInJnYmFcIikpLG59LGZpeGVkOnRUfX0sY29sb3JIdWU6S0koKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJuKHQsZSl9KSksY29sb3JTYXR1cmF0aW9uOktJKChmdW5jdGlvbih0LGUpe3JldHVybiBybih0LG51bGwsZSl9KSksY29sb3JMaWdodG5lc3M6S0koKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJuKHQsbnVsbCxudWxsLGUpfSkpLGNvbG9yQWxwaGE6S0koKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG9uKHQsZSl9KSksZGVjYWw6e2FwcGx5VmlzdWFsOkpJKFwiZGVjYWxcIiksX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOm51bGwsY2F0ZWdvcnk6UUkscGllY2V3aXNlOm51bGwsZml4ZWQ6bnVsbH19LG9wYWNpdHk6e2FwcGx5VmlzdWFsOkpJKFwib3BhY2l0eVwiKSxfbm9ybWFsaXplZFRvVmlzdWFsOmVUKFswLDFdKX0sbGlmdFo6e2FwcGx5VmlzdWFsOkpJKFwibGlmdFpcIiksX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOnRULGNhdGVnb3J5OnRULHBpZWNld2lzZTp0VCxmaXhlZDp0VH19LHN5bWJvbDp7YXBwbHlWaXN1YWw6ZnVuY3Rpb24odCxlLG4pe24oXCJzeW1ib2xcIix0aGlzLm1hcFZhbHVlVG9WaXN1YWwodCkpfSxfbm9ybWFsaXplZFRvVmlzdWFsOntsaW5lYXI6JEksY2F0ZWdvcnk6UUkscGllY2V3aXNlOmZ1bmN0aW9uKHQsZSl7dmFyIG49blQuY2FsbCh0aGlzLGUpO3JldHVybiBudWxsPT1uJiYobj0kSS5jYWxsKHRoaXMsdCkpLG59LGZpeGVkOnRUfX0sc3ltYm9sU2l6ZTp7YXBwbHlWaXN1YWw6SkkoXCJzeW1ib2xTaXplXCIpLF9ub3JtYWxpemVkVG9WaXN1YWw6ZVQoWzAsMV0pfX0sdH0oKTtmdW5jdGlvbiBxSSh0LGUpe3ZhciBuPXQudmlzdWFsLGk9W107WChuKT9YSShuLChmdW5jdGlvbih0KXtpLnB1c2godCl9KSk6bnVsbCE9biYmaS5wdXNoKG4pO2V8fDEhPT1pLmxlbmd0aHx8e2NvbG9yOjEsc3ltYm9sOjF9Lmhhc093blByb3BlcnR5KHQudHlwZSl8fChpWzFdPWlbMF0pLGlUKHQsaSl9ZnVuY3Rpb24gS0kodCl7cmV0dXJue2FwcGx5VmlzdWFsOmZ1bmN0aW9uKGUsbixpKXt2YXIgcj10aGlzLm1hcFZhbHVlVG9WaXN1YWwoZSk7aShcImNvbG9yXCIsdChuKFwiY29sb3JcIikscikpfSxfbm9ybWFsaXplZFRvVmlzdWFsOmVUKFswLDFdKX19ZnVuY3Rpb24gJEkodCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW01hdGgucm91bmQoVWkodCxbMCwxXSxbMCxlLmxlbmd0aC0xXSwhMCkpXXx8e319ZnVuY3Rpb24gSkkodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpKXtpKHQsdGhpcy5tYXBWYWx1ZVRvVmlzdWFsKGUpKX19ZnVuY3Rpb24gUUkodCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW3RoaXMub3B0aW9uLmxvb3AmJnQhPT1aST90JWUubGVuZ3RoOnRdfWZ1bmN0aW9uIHRUKCl7cmV0dXJuIHRoaXMub3B0aW9uLnZpc3VhbFswXX1mdW5jdGlvbiBlVCh0KXtyZXR1cm57bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBVaShlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKX0sY2F0ZWdvcnk6UUkscGllY2V3aXNlOmZ1bmN0aW9uKGUsbil7dmFyIGk9blQuY2FsbCh0aGlzLG4pO3JldHVybiBudWxsPT1pJiYoaT1VaShlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKSksaX0sZml4ZWQ6dFR9fWZ1bmN0aW9uIG5UKHQpe3ZhciBlPXRoaXMub3B0aW9uLG49ZS5waWVjZUxpc3Q7aWYoZS5oYXNTcGVjaWFsVmlzdWFsKXt2YXIgaT1uW2pJLmZpbmRQaWVjZUluZGV4KHQsbildO2lmKGkmJmkudmlzdWFsKXJldHVybiBpLnZpc3VhbFt0aGlzLnR5cGVdfX1mdW5jdGlvbiBpVCh0LGUpe3JldHVybiB0LnZpc3VhbD1lLFwiY29sb3JcIj09PXQudHlwZSYmKHQucGFyc2VkVmlzdWFsPU8oZSwoZnVuY3Rpb24odCl7cmV0dXJuIHFlKHQpfSkpKSxlfXZhciByVD17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBVaSh0LHRoaXMub3B0aW9uLmRhdGFFeHRlbnQsWzAsMV0sITApfSxwaWVjZXdpc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24ucGllY2VMaXN0LG49akkuZmluZFBpZWNlSW5kZXgodCxlLCEwKTtpZihudWxsIT1uKXJldHVybiBVaShuLFswLGUubGVuZ3RoLTFdLFswLDFdLCEwKX0sY2F0ZWdvcnk6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uY2F0ZWdvcmllcz90aGlzLm9wdGlvbi5jYXRlZ29yeU1hcFt0XTp0O3JldHVybiBudWxsPT1lP1pJOmV9LGZpeGVkOmZ0fTtmdW5jdGlvbiBvVCh0LGUsbil7cmV0dXJuIHQ/ZTw9bjplPG59dmFyIGFUPUxyKCksc1Q9e3Nlcmllc1R5cGU6XCJ0cmVlbWFwXCIscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCkudHJlZS5yb290O2UuaXNSZW1vdmVkKCl8fGxUKGUse30sdC5nZXRWaWV3Um9vdCgpLmdldEFuY2VzdG9ycygpLHQpfX07ZnVuY3Rpb24gbFQodCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbCgpLG89dC5nZXRMYXlvdXQoKSxhPXQuaG9zdFRyZWUuZGF0YTtpZihvJiYhby5pbnZpc2libGUmJm8uaXNJblZpZXcpe3ZhciBzLGw9ci5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKSx1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1JKHt9LGUpLHI9bi5kZXNpZ25hdGVkVmlzdWFsSXRlbVN0eWxlO3JldHVybiBQKFtcImNvbG9yXCIsXCJjb2xvckFscGhhXCIsXCJjb2xvclNhdHVyYXRpb25cIl0sKGZ1bmN0aW9uKG4pe3Jbbl09ZVtuXTt2YXIgbz10LmdldChuKTtyW25dPW51bGwsbnVsbCE9byYmKGlbbl09byl9KSksaX0obCxlLGkpLGg9YS5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHQuZGF0YUluZGV4LFwic3R5bGVcIiksYz1sLmdldChcImJvcmRlckNvbG9yXCIpLHA9bC5nZXQoXCJib3JkZXJDb2xvclNhdHVyYXRpb25cIik7bnVsbCE9cCYmKGM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9ZT9ybihlLG51bGwsbnVsbCx0KTpudWxsfShwLHM9dVQodSkpKSxoLnN0cm9rZT1jO3ZhciBkPXQudmlld0NoaWxkcmVuO2lmKGQmJmQubGVuZ3RoKXt2YXIgZj1mdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoIW98fCFvLmxlbmd0aClyZXR1cm47dmFyIGE9Y1QoZSxcImNvbG9yXCIpfHxudWxsIT1yLmNvbG9yJiZcIm5vbmVcIiE9PXIuY29sb3ImJihjVChlLFwiY29sb3JBbHBoYVwiKXx8Y1QoZSxcImNvbG9yU2F0dXJhdGlvblwiKSk7aWYoIWEpcmV0dXJuO3ZhciBzPWUuZ2V0KFwidmlzdWFsTWluXCIpLGw9ZS5nZXQoXCJ2aXN1YWxNYXhcIiksdT1uLmRhdGFFeHRlbnQuc2xpY2UoKTtudWxsIT1zJiZzPHVbMF0mJih1WzBdPXMpLG51bGwhPWwmJmw+dVsxXSYmKHVbMV09bCk7dmFyIGg9ZS5nZXQoXCJjb2xvck1hcHBpbmdCeVwiKSxjPXt0eXBlOmEubmFtZSxkYXRhRXh0ZW50OnUsdmlzdWFsOmEucmFuZ2V9O1wiY29sb3JcIiE9PWMudHlwZXx8XCJpbmRleFwiIT09aCYmXCJpZFwiIT09aD9jLm1hcHBpbmdNZXRob2Q9XCJsaW5lYXJcIjooYy5tYXBwaW5nTWV0aG9kPVwiY2F0ZWdvcnlcIixjLmxvb3A9ITApO3ZhciBwPW5ldyBqSShjKTtyZXR1cm4gYVQocCkuZHJDb2xvck1hcHBpbmdCeT1oLHB9KDAscixvLDAsdSxkKTtQKGQsKGZ1bmN0aW9uKHQsZSl7aWYodC5kZXB0aD49bi5sZW5ndGh8fHQ9PT1uW3QuZGVwdGhdKXt2YXIgbz1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9SSh7fSxlKTtpZihyKXt2YXIgcz1yLnR5cGUsbD1cImNvbG9yXCI9PT1zJiZhVChyKS5kckNvbG9yTWFwcGluZ0J5LHU9XCJpbmRleFwiPT09bD9pOlwiaWRcIj09PWw/by5tYXBJZFRvSW5kZXgobi5nZXRJZCgpKTpuLmdldFZhbHVlKHQuZ2V0KFwidmlzdWFsRGltZW5zaW9uXCIpKTthW3NdPXIubWFwVmFsdWVUb1Zpc3VhbCh1KX1yZXR1cm4gYX0ocix1LHQsZSxmLGkpO2xUKHQsbyxuLGkpfX0pKX1lbHNlIHM9dVQodSksaC5maWxsPXN9fWZ1bmN0aW9uIHVUKHQpe3ZhciBlPWhUKHQsXCJjb2xvclwiKTtpZihlKXt2YXIgbj1oVCh0LFwiY29sb3JBbHBoYVwiKSxpPWhUKHQsXCJjb2xvclNhdHVyYXRpb25cIik7cmV0dXJuIGkmJihlPXJuKGUsbnVsbCxudWxsLGkpKSxuJiYoZT1vbihlLG4pKSxlfX1mdW5jdGlvbiBoVCh0LGUpe3ZhciBuPXRbZV07aWYobnVsbCE9biYmXCJub25lXCIhPT1uKXJldHVybiBufWZ1bmN0aW9uIGNUKHQsZSl7dmFyIG49dC5nZXQoZSk7cmV0dXJuIEYobikmJm4ubGVuZ3RoP3tuYW1lOmUscmFuZ2U6bn06bnVsbH12YXIgcFQ9TWF0aC5tYXgsZFQ9TWF0aC5taW4sZlQ9USxnVD1QLHlUPVtcIml0ZW1TdHlsZVwiLFwiYm9yZGVyV2lkdGhcIl0sdlQ9W1wiaXRlbVN0eWxlXCIsXCJnYXBXaWR0aFwiXSxtVD1bXCJ1cHBlckxhYmVsXCIsXCJzaG93XCJdLF9UPVtcInVwcGVyTGFiZWxcIixcImhlaWdodFwiXSx4VD17c2VyaWVzVHlwZTpcInRyZWVtYXBcIixyZXNldDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmdldFdpZHRoKCksbz1uLmdldEhlaWdodCgpLGE9dC5vcHRpb24scz1BYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9KSxsPWEuc2l6ZXx8W10sdT1aaShmVChzLndpZHRoLGxbMF0pLHIpLGg9WmkoZlQocy5oZWlnaHQsbFsxXSksbyksYz1pJiZpLnR5cGUscD1NSShpLFtcInRyZWVtYXBab29tVG9Ob2RlXCIsXCJ0cmVlbWFwUm9vdFRvTm9kZVwiXSx0KSxkPVwidHJlZW1hcFJlbmRlclwiPT09Y3x8XCJ0cmVlbWFwTW92ZVwiPT09Yz9pLnJvb3RSZWN0Om51bGwsZj10LmdldFZpZXdSb290KCksZz1JSShmKTtpZihcInRyZWVtYXBNb3ZlXCIhPT1jKXt2YXIgeT1cInRyZWVtYXBab29tVG9Ob2RlXCI9PT1jP2Z1bmN0aW9uKHQsZSxuLGkscil7dmFyIG8sYT0oZXx8e30pLm5vZGUscz1baSxyXTtpZighYXx8YT09PW4pcmV0dXJuIHM7dmFyIGw9aSpyLHU9bCp0Lm9wdGlvbi56b29tVG9Ob2RlUmF0aW87Zm9yKDtvPWEucGFyZW50Tm9kZTspe2Zvcih2YXIgaD0wLGM9by5jaGlsZHJlbixwPTAsZD1jLmxlbmd0aDtwPGQ7cCsrKWgrPWNbcF0uZ2V0VmFsdWUoKTt2YXIgZj1hLmdldFZhbHVlKCk7aWYoMD09PWYpcmV0dXJuIHM7dSo9aC9mO3ZhciBnPW8uZ2V0TW9kZWwoKSx5PWcuZ2V0KHlUKTsodSs9NCp5KnkrKDMqeStNYXRoLm1heCh5LElUKGcpKSkqTWF0aC5wb3codSwuNSkpPnRyJiYodT10ciksYT1vfXU8bCYmKHU9bCk7dmFyIHY9TWF0aC5wb3codS9sLC41KTtyZXR1cm5baSp2LHIqdl19KHQscCxmLHUsaCk6ZD9bZC53aWR0aCxkLmhlaWdodF06W3UsaF0sdj1hLnNvcnQ7diYmXCJhc2NcIiE9PXYmJlwiZGVzY1wiIT09diYmKHY9XCJkZXNjXCIpO3ZhciBtPXtzcXVhcmVSYXRpbzphLnNxdWFyZVJhdGlvLHNvcnQ6dixsZWFmRGVwdGg6YS5sZWFmRGVwdGh9O2YuaG9zdFRyZWUuY2xlYXJMYXlvdXRzKCk7dmFyIF89e3g6MCx5OjAsd2lkdGg6eVswXSxoZWlnaHQ6eVsxXSxhcmVhOnlbMF0qeVsxXX07Zi5zZXRMYXlvdXQoXyksYlQoZixtLCExLDApLF89Zi5nZXRMYXlvdXQoKSxnVChnLChmdW5jdGlvbih0LGUpe3ZhciBuPShnW2UrMV18fGYpLmdldFZhbHVlKCk7dC5zZXRMYXlvdXQoSSh7ZGF0YUV4dGVudDpbbixuXSxib3JkZXJXaWR0aDowLHVwcGVySGVpZ2h0OjB9LF8pKX0pKX12YXIgeD10LmdldERhdGEoKS50cmVlLnJvb3Q7eC5zZXRMYXlvdXQoZnVuY3Rpb24odCxlLG4pe2lmKGUpcmV0dXJue3g6ZS54LHk6ZS55fTt2YXIgaT17eDowLHk6MH07aWYoIW4pcmV0dXJuIGk7dmFyIHI9bi5ub2RlLG89ci5nZXRMYXlvdXQoKTtpZighbylyZXR1cm4gaTt2YXIgYT1bby53aWR0aC8yLG8uaGVpZ2h0LzJdLHM9cjtmb3IoO3M7KXt2YXIgbD1zLmdldExheW91dCgpO2FbMF0rPWwueCxhWzFdKz1sLnkscz1zLnBhcmVudE5vZGV9cmV0dXJue3g6dC53aWR0aC8yLWFbMF0seTp0LmhlaWdodC8yLWFbMV19fShzLGQscCksITApLHQuc2V0TGF5b3V0SW5mbyhzKSxNVCh4LG5ldyBSbigtcy54LC1zLnkscixvKSxnLGYsMCl9fTtmdW5jdGlvbiBiVCh0LGUsbixpKXt2YXIgcixvO2lmKCF0LmlzUmVtb3ZlZCgpKXt2YXIgYT10LmdldExheW91dCgpO3I9YS53aWR0aCxvPWEuaGVpZ2h0O3ZhciBzPXQuZ2V0TW9kZWwoKSxsPXMuZ2V0KHlUKSx1PXMuZ2V0KHZUKS8yLGg9SVQocyksYz1NYXRoLm1heChsLGgpLHA9bC11LGQ9Yy11O3Quc2V0TGF5b3V0KHtib3JkZXJXaWR0aDpsLHVwcGVySGVpZ2h0OmMsdXBwZXJMYWJlbEhlaWdodDpofSwhMCk7dmFyIGY9KHI9cFQoci0yKnAsMCkpKihvPXBUKG8tcC1kLDApKSxnPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT10LmNoaWxkcmVufHxbXSxzPWkuc29ydDtcImFzY1wiIT09cyYmXCJkZXNjXCIhPT1zJiYocz1udWxsKTt2YXIgbD1udWxsIT1pLmxlYWZEZXB0aCYmaS5sZWFmRGVwdGg8PW87aWYociYmIWwpcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdOyFmdW5jdGlvbih0LGUpe2UmJnQuc29ydCgoZnVuY3Rpb24odCxuKXt2YXIgaT1cImFzY1wiPT09ZT90LmdldFZhbHVlKCktbi5nZXRWYWx1ZSgpOm4uZ2V0VmFsdWUoKS10LmdldFZhbHVlKCk7cmV0dXJuIDA9PT1pP1wiYXNjXCI9PT1lP3QuZGF0YUluZGV4LW4uZGF0YUluZGV4Om4uZGF0YUluZGV4LXQuZGF0YUluZGV4Oml9KSl9KGE9TihhLChmdW5jdGlvbih0KXtyZXR1cm4hdC5pc1JlbW92ZWQoKX0pKSxzKTt2YXIgdT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPTAscj0wLG89ZS5sZW5ndGg7cjxvO3IrKylpKz1lW3JdLmdldFZhbHVlKCk7dmFyIGEscz10LmdldChcInZpc3VhbERpbWVuc2lvblwiKTtlJiZlLmxlbmd0aD9cInZhbHVlXCI9PT1zJiZuPyhhPVtlW2UubGVuZ3RoLTFdLmdldFZhbHVlKCksZVswXS5nZXRWYWx1ZSgpXSxcImFzY1wiPT09biYmYS5yZXZlcnNlKCkpOihhPVsxLzAsLTEvMF0sZ1QoZSwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRWYWx1ZShzKTtlPGFbMF0mJihhWzBdPWUpLGU+YVsxXSYmKGFbMV09ZSl9KSkpOmE9W05hTixOYU5dO3JldHVybntzdW06aSxkYXRhRXh0ZW50OmF9fShlLGEscyk7aWYoMD09PXUuc3VtKXJldHVybiB0LnZpZXdDaGlsZHJlbj1bXTtpZih1LnN1bT1mdW5jdGlvbih0LGUsbixpLHIpe2lmKCFpKXJldHVybiBuO2Zvcih2YXIgbz10LmdldChcInZpc2libGVNaW5cIiksYT1yLmxlbmd0aCxzPWEsbD1hLTE7bD49MDtsLS0pe3ZhciB1PXJbXCJhc2NcIj09PWk/YS1sLTE6bF0uZ2V0VmFsdWUoKTt1L24qZTxvJiYocz1sLG4tPXUpfXJldHVyblwiYXNjXCI9PT1pP3Iuc3BsaWNlKDAsYS1zKTpyLnNwbGljZShzLGEtcyksbn0oZSxuLHUuc3VtLHMsYSksMD09PXUuc3VtKXJldHVybiB0LnZpZXdDaGlsZHJlbj1bXTtmb3IodmFyIGg9MCxjPWEubGVuZ3RoO2g8YztoKyspe3ZhciBwPWFbaF0uZ2V0VmFsdWUoKS91LnN1bSpuO2FbaF0uc2V0TGF5b3V0KHthcmVhOnB9KX1sJiYoYS5sZW5ndGgmJnQuc2V0TGF5b3V0KHtpc0xlYWZSb290OiEwfSwhMCksYS5sZW5ndGg9MCk7cmV0dXJuIHQudmlld0NoaWxkcmVuPWEsdC5zZXRMYXlvdXQoe2RhdGFFeHRlbnQ6dS5kYXRhRXh0ZW50fSwhMCksYX0odCxzLGYsZSxuLGkpO2lmKGcubGVuZ3RoKXt2YXIgeT17eDpwLHk6ZCx3aWR0aDpyLGhlaWdodDpvfSx2PWRUKHIsbyksbT0xLzAsXz1bXTtfLmFyZWE9MDtmb3IodmFyIHg9MCxiPWcubGVuZ3RoO3g8Yjspe3ZhciB3PWdbeF07Xy5wdXNoKHcpLF8uYXJlYSs9dy5nZXRMYXlvdXQoKS5hcmVhO3ZhciBTPXdUKF8sdixlLnNxdWFyZVJhdGlvKTtTPD1tPyh4KyssbT1TKTooXy5hcmVhLT1fLnBvcCgpLmdldExheW91dCgpLmFyZWEsU1QoXyx2LHksdSwhMSksdj1kVCh5LndpZHRoLHkuaGVpZ2h0KSxfLmxlbmd0aD1fLmFyZWE9MCxtPTEvMCl9aWYoXy5sZW5ndGgmJlNUKF8sdix5LHUsITApLCFuKXt2YXIgTT1zLmdldChcImNoaWxkcmVuVmlzaWJsZU1pblwiKTtudWxsIT1NJiZmPE0mJihuPSEwKX1mb3IoeD0wLGI9Zy5sZW5ndGg7eDxiO3grKyliVChnW3hdLGUsbixpKzEpfX19ZnVuY3Rpb24gd1QodCxlLG4pe2Zvcih2YXIgaT0wLHI9MS8wLG89MCxhPXZvaWQgMCxzPXQubGVuZ3RoO288cztvKyspKGE9dFtvXS5nZXRMYXlvdXQoKS5hcmVhKSYmKGE8ciYmKHI9YSksYT5pJiYoaT1hKSk7dmFyIGw9dC5hcmVhKnQuYXJlYSx1PWUqZSpuO3JldHVybiBsP3BUKHUqaS9sLGwvKHUqcikpOjEvMH1mdW5jdGlvbiBTVCh0LGUsbixpLHIpe3ZhciBvPWU9PT1uLndpZHRoPzA6MSxhPTEtbyxzPVtcInhcIixcInlcIl0sbD1bXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLHU9bltzW29dXSxoPWU/dC5hcmVhL2U6MDsocnx8aD5uW2xbYV1dKSYmKGg9bltsW2FdXSk7Zm9yKHZhciBjPTAscD10Lmxlbmd0aDtjPHA7YysrKXt2YXIgZD10W2NdLGY9e30sZz1oP2QuZ2V0TGF5b3V0KCkuYXJlYS9oOjAseT1mW2xbYV1dPXBUKGgtMippLDApLHY9bltzW29dXStuW2xbb11dLXUsbT1jPT09cC0xfHx2PGc/djpnLF89ZltsW29dXT1wVChtLTIqaSwwKTtmW3NbYV1dPW5bc1thXV0rZFQoaSx5LzIpLGZbc1tvXV09dStkVChpLF8vMiksdSs9bSxkLnNldExheW91dChmLCEwKX1uW3NbYV1dKz1oLG5bbFthXV0tPWh9ZnVuY3Rpb24gTVQodCxlLG4saSxyKXt2YXIgbz10LmdldExheW91dCgpLGE9bltyXSxzPWEmJmE9PT10O2lmKCEoYSYmIXN8fHI9PT1uLmxlbmd0aCYmdCE9PWkpKXt0LnNldExheW91dCh7aXNJblZpZXc6ITAsaW52aXNpYmxlOiFzJiYhZS5pbnRlcnNlY3QobyksaXNBYm92ZVZpZXdSb290OnN9LCEwKTt2YXIgbD1uZXcgUm4oZS54LW8ueCxlLnktby55LGUud2lkdGgsZS5oZWlnaHQpO2dUKHQudmlld0NoaWxkcmVufHxbXSwoZnVuY3Rpb24odCl7TVQodCxsLG4saSxyKzEpfSkpfX1mdW5jdGlvbiBJVCh0KXtyZXR1cm4gdC5nZXQobVQpP3QuZ2V0KF9UKTowfWZ1bmN0aW9uIFRUKHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwibGVnZW5kXCJ9KTtlJiZlLmxlbmd0aCYmdC5lYWNoU2VyaWVzQnlUeXBlKFwiZ3JhcGhcIiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRDYXRlZ29yaWVzRGF0YSgpLGk9dC5nZXRHcmFwaCgpLmRhdGEscj1uLm1hcEFycmF5KG4uZ2V0TmFtZSk7aS5maWx0ZXJTZWxmKChmdW5jdGlvbih0KXt2YXIgbj1pLmdldEl0ZW1Nb2RlbCh0KS5nZXRTaGFsbG93KFwiY2F0ZWdvcnlcIik7aWYobnVsbCE9bil7XCJudW1iZXJcIj09dHlwZW9mIG4mJihuPXJbbl0pO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKWlmKCFlW29dLmlzU2VsZWN0ZWQobikpcmV0dXJuITF9cmV0dXJuITB9KSl9KSl9ZnVuY3Rpb24gQ1QodCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKFwiZ3JhcGhcIiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRDYXRlZ29yaWVzRGF0YSgpLGk9dC5nZXREYXRhKCkscj17fTtuLmVhY2goKGZ1bmN0aW9uKGkpe3ZhciBvPW4uZ2V0TmFtZShpKTtyW1wiZWMtXCIrb109aTt2YXIgYT1uLmdldEl0ZW1Nb2RlbChpKSxzPWEuZ2V0TW9kZWwoXCJpdGVtU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCk7cy5maWxsfHwocy5maWxsPXQuZ2V0Q29sb3JGcm9tUGFsZXR0ZShvLGUpKSxuLnNldEl0ZW1WaXN1YWwoaSxcInN0eWxlXCIscyk7Zm9yKHZhciBsPVtcInN5bWJvbFwiLFwic3ltYm9sU2l6ZVwiLFwic3ltYm9sS2VlcEFzcGVjdFwiXSx1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBoPWEuZ2V0U2hhbGxvdyhsW3VdLCEwKTtudWxsIT1oJiZuLnNldEl0ZW1WaXN1YWwoaSxsW3VdLGgpfX0pKSxuLmNvdW50KCkmJmkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9aS5nZXRJdGVtTW9kZWwodCkuZ2V0U2hhbGxvdyhcImNhdGVnb3J5XCIpO2lmKG51bGwhPWUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1yW1wiZWMtXCIrZV0pO3ZhciBvPW4uZ2V0SXRlbVZpc3VhbChlLFwic3R5bGVcIik7SShpLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwodCxcInN0eWxlXCIpLG8pO2Zvcih2YXIgYT1bXCJzeW1ib2xcIixcInN5bWJvbFNpemVcIixcInN5bWJvbEtlZXBBc3BlY3RcIl0scz0wO3M8YS5sZW5ndGg7cysrKWkuc2V0SXRlbVZpc3VhbCh0LGFbc10sbi5nZXRJdGVtVmlzdWFsKGUsYVtzXSkpfX0pKX0pKX1mdW5jdGlvbiBBVCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdCx0XSksdH1mdW5jdGlvbiBEVCh0KXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJncmFwaFwiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldEdyYXBoKCksbj10LmdldEVkZ2VEYXRhKCksaT1BVCh0LmdldChcImVkZ2VTeW1ib2xcIikpLHI9QVQodC5nZXQoXCJlZGdlU3ltYm9sU2l6ZVwiKSk7bi5zZXRWaXN1YWwoXCJmcm9tU3ltYm9sXCIsaSYmaVswXSksbi5zZXRWaXN1YWwoXCJ0b1N5bWJvbFwiLGkmJmlbMV0pLG4uc2V0VmlzdWFsKFwiZnJvbVN5bWJvbFNpemVcIixyJiZyWzBdKSxuLnNldFZpc3VhbChcInRvU3ltYm9sU2l6ZVwiLHImJnJbMV0pLG4uc2V0VmlzdWFsKFwic3R5bGVcIix0LmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpKSxuLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPW4uZ2V0SXRlbU1vZGVsKHQpLHI9ZS5nZXRFZGdlQnlJbmRleCh0KSxvPUFUKGkuZ2V0U2hhbGxvdyhcInN5bWJvbFwiLCEwKSksYT1BVChpLmdldFNoYWxsb3coXCJzeW1ib2xTaXplXCIsITApKSxzPWkuZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIikuZ2V0TGluZVN0eWxlKCksbD1uLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwodCxcInN0eWxlXCIpO3N3aXRjaChJKGwscyksbC5zdHJva2Upe2Nhc2VcInNvdXJjZVwiOnZhciB1PXIubm9kZTEuZ2V0VmlzdWFsKFwic3R5bGVcIik7bC5zdHJva2U9dSYmdS5maWxsO2JyZWFrO2Nhc2VcInRhcmdldFwiOnU9ci5ub2RlMi5nZXRWaXN1YWwoXCJzdHlsZVwiKTtsLnN0cm9rZT11JiZ1LmZpbGx9b1swXSYmci5zZXRWaXN1YWwoXCJmcm9tU3ltYm9sXCIsb1swXSksb1sxXSYmci5zZXRWaXN1YWwoXCJ0b1N5bWJvbFwiLG9bMV0pLGFbMF0mJnIuc2V0VmlzdWFsKFwiZnJvbVN5bWJvbFNpemVcIixhWzBdKSxhWzFdJiZyLnNldFZpc3VhbChcInRvU3ltYm9sU2l6ZVwiLGFbMV0pfSkpfSkpfXZhciBMVD1cIi0tXFx4M2VcIixrVD1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoXCJhdXRvQ3VydmVuZXNzXCIpfHxudWxsfSxQVD1mdW5jdGlvbih0LGUpe3ZhciBuPWtUKHQpLGk9MjAscj1bXTtpZihcIm51bWJlclwiPT10eXBlb2YgbilpPW47ZWxzZSBpZihGKG4pKXJldHVybiB2b2lkKHQuX19jdXJ2ZW5lc3NMaXN0PW4pO2U+aSYmKGk9ZSk7dmFyIG89aSUyP2krMjppKzM7cj1bXTtmb3IodmFyIGE9MDthPG87YSsrKXIucHVzaCgoYSUyP2ErMTphKS8xMCooYSUyPy0xOjEpKTt0Ll9fY3VydmVuZXNzTGlzdD1yfSxPVD1mdW5jdGlvbih0LGUsbil7dmFyIGk9W3QuaWQsdC5kYXRhSW5kZXhdLmpvaW4oXCIuXCIpLHI9W2UuaWQsZS5kYXRhSW5kZXhdLmpvaW4oXCIuXCIpO3JldHVybltuLnVpZCxpLHJdLmpvaW4oTFQpfSxSVD1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KExUKTtyZXR1cm5bZVswXSxlWzJdLGVbMV1dLmpvaW4oTFQpfSxOVD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuX19lZGdlTWFwO3JldHVybiBuW3RdP25bdF0ubGVuZ3RoOjB9O2Z1bmN0aW9uIEVUKHQsZSxuLGkpe3ZhciByPWtUKGUpLG89RihyKTtpZighcilyZXR1cm4gbnVsbDt2YXIgYT1mdW5jdGlvbih0LGUpe3ZhciBuPU9UKHQubm9kZTEsdC5ub2RlMixlKTtyZXR1cm4gZS5fX2VkZ2VNYXBbbl19KHQsZSk7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKHZhciBzPS0xLGw9MDtsPGEubGVuZ3RoO2wrKylpZihhW2xdPT09bil7cz1sO2JyZWFrfXZhciB1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE5UKE9UKHQubm9kZTEsdC5ub2RlMixlKSxlKStOVChPVCh0Lm5vZGUyLHQubm9kZTEsZSksZSl9KHQsZSk7UFQoZSx1KSx0LmxpbmVTdHlsZT10LmxpbmVTdHlsZXx8e307dmFyIGg9T1QodC5ub2RlMSx0Lm5vZGUyLGUpLGM9ZS5fX2N1cnZlbmVzc0xpc3QscD1vfHx1JTI/MDoxO2lmKGEuaXNGb3J3YXJkKXJldHVybiBjW3Arc107dmFyIGQ9UlQoaCksZj1OVChkLGUpLGc9Y1tzK2YrcF07cmV0dXJuIGk/bz9yJiYwPT09clswXT8oZitwKSUyP2c6LWc6KChmJTI/MDoxKStwKSUyP2c6LWc6KGYrcCklMj9nOi1nOmNbcytmK3BdfWZ1bmN0aW9uIHpUKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighZXx8XCJ2aWV3XCI9PT1lLnR5cGUpe3ZhciBuPXQuZ2V0R3JhcGgoKTtuLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgZT10LmdldE1vZGVsKCk7dC5zZXRMYXlvdXQoWytlLmdldChcInhcIiksK2UuZ2V0KFwieVwiKV0pfSkpLEJUKG4sdCl9fWZ1bmN0aW9uIEJUKHQsZSl7dC5lYWNoRWRnZSgoZnVuY3Rpb24odCxuKXt2YXIgaT1ldCh0LmdldE1vZGVsKCkuZ2V0KFtcImxpbmVTdHlsZVwiLFwiY3VydmVuZXNzXCJdKSwtRVQodCxlLG4sITApLDApLHI9bXQodC5ub2RlMS5nZXRMYXlvdXQoKSksbz1tdCh0Lm5vZGUyLmdldExheW91dCgpKSxhPVtyLG9dOytpJiZhLnB1c2goWyhyWzBdK29bMF0pLzItKHJbMV0tb1sxXSkqaSwoclsxXStvWzFdKS8yLShvWzBdLXJbMF0pKmldKSx0LnNldExheW91dChhKX0pKX1mdW5jdGlvbiBWVCh0LGUpe3QuZWFjaFNlcmllc0J5VHlwZShcImdyYXBoXCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwibGF5b3V0XCIpLG49dC5jb29yZGluYXRlU3lzdGVtO2lmKG4mJlwidmlld1wiIT09bi50eXBlKXt2YXIgaT10LmdldERhdGEoKSxyPVtdO1Aobi5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyPXIuY29uY2F0KGkubWFwRGltZW5zaW9uc0FsbCh0KSl9KSk7Zm9yKHZhciBvPTA7bzxpLmNvdW50KCk7bysrKXtmb3IodmFyIGE9W10scz0hMSxsPTA7bDxyLmxlbmd0aDtsKyspe3ZhciB1PWkuZ2V0KHJbbF0sbyk7aXNOYU4odSl8fChzPSEwKSxhLnB1c2godSl9cz9pLnNldEl0ZW1MYXlvdXQobyxuLmRhdGFUb1BvaW50KGEpKTppLnNldEl0ZW1MYXlvdXQobyxbTmFOLE5hTl0pfUJUKGkuZ3JhcGgsdCl9ZWxzZSBlJiZcIm5vbmVcIiE9PWV8fHpUKHQpfSkpfWZ1bmN0aW9uIEZUKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihcInZpZXdcIiE9PWUudHlwZSlyZXR1cm4gMTt2YXIgbj10Lm9wdGlvbi5ub2RlU2NhbGVSYXRpbyxpPWUuc2NhbGVYO3JldHVybigoZS5nZXRab29tKCktMSkqbisxKS9pfWZ1bmN0aW9uIEdUKHQpe3ZhciBlPXQuZ2V0VmlzdWFsKFwic3ltYm9sU2l6ZVwiKTtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5JiYoZT0oZVswXStlWzFdKS8yKSwrZX12YXIgSFQ9TWF0aC5QSSxXVD1bXTtmdW5jdGlvbiBZVCh0LGUpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighbnx8XCJ2aWV3XCI9PT1uLnR5cGUpe3ZhciBpPW4uZ2V0Qm91bmRpbmdSZWN0KCkscj10LmdldERhdGEoKSxvPXIuZ3JhcGgsYT1pLndpZHRoLzIraS54LHM9aS5oZWlnaHQvMitpLnksbD1NYXRoLm1pbihpLndpZHRoLGkuaGVpZ2h0KS8yLHU9ci5jb3VudCgpO3Iuc2V0TGF5b3V0KHtjeDphLGN5OnN9KSx1JiYoWFRbZV0odCxvLHIsbCxhLHMsdSksby5lYWNoRWRnZSgoZnVuY3Rpb24oZSxuKXt2YXIgaSxyPWV0KGUuZ2V0TW9kZWwoKS5nZXQoW1wibGluZVN0eWxlXCIsXCJjdXJ2ZW5lc3NcIl0pLEVUKGUsdCxuKSwwKSxvPW10KGUubm9kZTEuZ2V0TGF5b3V0KCkpLGw9bXQoZS5ub2RlMi5nZXRMYXlvdXQoKSksdT0ob1swXStsWzBdKS8yLGg9KG9bMV0rbFsxXSkvMjsrciYmKGk9W2EqKHIqPTMpK3UqKDEtcikscypyK2gqKDEtcildKSxlLnNldExheW91dChbbyxsLGldKX0pKSl9fXZhciBYVD17dmFsdWU6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9MCxsPW4uZ2V0U3VtKFwidmFsdWVcIiksdT0yKk1hdGguUEkvKGx8fGEpO2UuZWFjaE5vZGUoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VmFsdWUoXCJ2YWx1ZVwiKSxuPXUqKGw/ZToxKS8yO3MrPW4sdC5zZXRMYXlvdXQoW2kqTWF0aC5jb3MocykrcixpKk1hdGguc2luKHMpK29dKSxzKz1ufSkpfSxzeW1ib2xTaXplOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPTA7V1QubGVuZ3RoPWE7dmFyIGw9RlQodCk7ZS5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9R1QodCk7aXNOYU4oZSkmJihlPTIpLGU8MCYmKGU9MCksZSo9bDt2YXIgbj1NYXRoLmFzaW4oZS8yL2kpO2lzTmFOKG4pJiYobj1IVC8yKSxXVFt0LmRhdGFJbmRleF09bixzKz0yKm59KSk7dmFyIHU9KDIqSFQtcykvYS8yLGg9MDtlLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgZT11K1dUW3QuZGF0YUluZGV4XTtoKz1lLHQuc2V0TGF5b3V0KFtpKk1hdGguY29zKGgpK3IsaSpNYXRoLnNpbihoKStvXSksaCs9ZX0pKX19O2Z1bmN0aW9uIFVUKHQpe3QuZWFjaFNlcmllc0J5VHlwZShcImdyYXBoXCIsKGZ1bmN0aW9uKHQpe1wiY2lyY3VsYXJcIj09PXQuZ2V0KFwibGF5b3V0XCIpJiZZVCh0LFwic3ltYm9sU2l6ZVwiKX0pKX12YXIgWlQ9YnQ7ZnVuY3Rpb24galQodCl7dC5lYWNoU2VyaWVzQnlUeXBlKFwiZ3JhcGhcIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHxcInZpZXdcIj09PWUudHlwZSlpZihcImZvcmNlXCI9PT10LmdldChcImxheW91dFwiKSl7dmFyIG49dC5wcmVzZXJ2ZWRQb2ludHN8fHt9LGk9dC5nZXRHcmFwaCgpLHI9aS5kYXRhLG89aS5lZGdlRGF0YSxhPXQuZ2V0TW9kZWwoXCJmb3JjZVwiKSxzPWEuZ2V0KFwiaW5pdExheW91dFwiKTt0LnByZXNlcnZlZFBvaW50cz9yLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXIuZ2V0SWQodCk7ci5zZXRJdGVtTGF5b3V0KHQsbltlXXx8W05hTixOYU5dKX0pKTpzJiZcIm5vbmVcIiE9PXM/XCJjaXJjdWxhclwiPT09cyYmWVQodCxcInZhbHVlXCIpOnpUKHQpO3ZhciBsPXIuZ2V0RGF0YUV4dGVudChcInZhbHVlXCIpLHU9by5nZXREYXRhRXh0ZW50KFwidmFsdWVcIiksaD1hLmdldChcInJlcHVsc2lvblwiKSxjPWEuZ2V0KFwiZWRnZUxlbmd0aFwiKSxwPUYoaCk/aDpbaCxoXSxkPUYoYyk/YzpbYyxjXTtkPVtkWzFdLGRbMF1dO3ZhciBmPXIubWFwQXJyYXkoXCJ2YWx1ZVwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXIuZ2V0SXRlbUxheW91dChlKSxpPVVpKHQsbCxwKTtyZXR1cm4gaXNOYU4oaSkmJihpPShwWzBdK3BbMV0pLzIpLHt3OmkscmVwOmksZml4ZWQ6ci5nZXRJdGVtTW9kZWwoZSkuZ2V0KFwiZml4ZWRcIikscDohbnx8aXNOYU4oblswXSl8fGlzTmFOKG5bMV0pP251bGw6bn19KSksZz1vLm1hcEFycmF5KFwidmFsdWVcIiwoZnVuY3Rpb24oZSxuKXt2YXIgcj1pLmdldEVkZ2VCeUluZGV4KG4pLG89VWkoZSx1LGQpO2lzTmFOKG8pJiYobz0oZFswXStkWzFdKS8yKTt2YXIgYT1yLmdldE1vZGVsKCkscz1ldChyLmdldE1vZGVsKCkuZ2V0KFtcImxpbmVTdHlsZVwiLFwiY3VydmVuZXNzXCJdKSwtRVQocix0LG4sITApLDApO3JldHVybntuMTpmW3Iubm9kZTEuZGF0YUluZGV4XSxuMjpmW3Iubm9kZTIuZGF0YUluZGV4XSxkOm8sY3VydmVuZXNzOnMsaWdub3JlRm9yY2VMYXlvdXQ6YS5nZXQoXCJpZ25vcmVGb3JjZUxheW91dFwiKX19KSkseT1lLmdldEJvdW5kaW5nUmVjdCgpLHY9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10LHI9ZSxvPW4ucmVjdCxhPW8ud2lkdGgscz1vLmhlaWdodCxsPVtvLngrYS8yLG8ueStzLzJdLHU9bnVsbD09bi5ncmF2aXR5Py4xOm4uZ3Jhdml0eSxoPTA7aDxpLmxlbmd0aDtoKyspe3ZhciBjPWlbaF07Yy5wfHwoYy5wPXl0KGEqKE1hdGgucmFuZG9tKCktLjUpK2xbMF0scyooTWF0aC5yYW5kb20oKS0uNSkrbFsxXSkpLGMucHA9bXQoYy5wKSxjLmVkZ2VzPW51bGx9dmFyIHAsZCxmPW51bGw9PW4uZnJpY3Rpb24/LjY6bi5mcmljdGlvbixnPWY7cmV0dXJue3dhcm1VcDpmdW5jdGlvbigpe2c9LjgqZn0sc2V0Rml4ZWQ6ZnVuY3Rpb24odCl7aVt0XS5maXhlZD0hMH0sc2V0VW5maXhlZDpmdW5jdGlvbih0KXtpW3RdLmZpeGVkPSExfSxiZWZvcmVTdGVwOmZ1bmN0aW9uKHQpe3A9dH0sYWZ0ZXJTdGVwOmZ1bmN0aW9uKHQpe2Q9dH0sc3RlcDpmdW5jdGlvbih0KXtwJiZwKGkscik7Zm9yKHZhciBlPVtdLG49aS5sZW5ndGgsbz0wO288ci5sZW5ndGg7bysrKXt2YXIgYT1yW29dO2lmKCFhLmlnbm9yZUZvcmNlTGF5b3V0KXt2YXIgcz1hLm4xO3d0KGUsKHk9YS5uMikucCxzLnApO3ZhciBoPVN0KGUpLWEuZCxjPXkudy8ocy53K3kudyk7aXNOYU4oYykmJihjPTApLEF0KGUsZSksIXMuZml4ZWQmJlpUKHMucCxzLnAsZSxjKmgqZyksIXkuZml4ZWQmJlpUKHkucCx5LnAsZSwtKDEtYykqaCpnKX19Zm9yKG89MDtvPG47bysrKShfPWlbb10pLmZpeGVkfHwod3QoZSxsLF8ucCksWlQoXy5wLF8ucCxlLHUqZykpO2ZvcihvPTA7bzxuO28rKyl7cz1pW29dO2Zvcih2YXIgZj1vKzE7ZjxuO2YrKyl7dmFyIHk7d3QoZSwoeT1pW2ZdKS5wLHMucCksMD09PShoPVN0KGUpKSYmKF90KGUsTWF0aC5yYW5kb20oKS0uNSxNYXRoLnJhbmRvbSgpLS41KSxoPTEpO3ZhciB2PShzLnJlcCt5LnJlcCkvaC9oOyFzLmZpeGVkJiZaVChzLnBwLHMucHAsZSx2KSwheS5maXhlZCYmWlQoeS5wcCx5LnBwLGUsLXYpfX12YXIgbT1bXTtmb3Iobz0wO288bjtvKyspe3ZhciBfOyhfPWlbb10pLmZpeGVkfHwod3QobSxfLnAsXy5wcCksWlQoXy5wLF8ucCxtLGcpLHZ0KF8ucHAsXy5wKSl9dmFyIHg9KGcqPS45OTIpPC4wMTtkJiZkKGkscix4KSx0JiZ0KHgpfX19KGYsZyx7cmVjdDp5LGdyYXZpdHk6YS5nZXQoXCJncmF2aXR5XCIpLGZyaWN0aW9uOmEuZ2V0KFwiZnJpY3Rpb25cIil9KTt2LmJlZm9yZVN0ZXAoKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj10Lmxlbmd0aDtuPHI7bisrKXRbbl0uZml4ZWQmJnZ0KHRbbl0ucCxpLmdldE5vZGVCeUluZGV4KG4pLmdldExheW91dCgpKX0pKSx2LmFmdGVyU3RlcCgoZnVuY3Rpb24odCxlLG8pe2Zvcih2YXIgYT0wLHM9dC5sZW5ndGg7YTxzO2ErKyl0W2FdLmZpeGVkfHxpLmdldE5vZGVCeUluZGV4KGEpLnNldExheW91dCh0W2FdLnApLG5bci5nZXRJZChhKV09dFthXS5wO2ZvcihhPTAscz1lLmxlbmd0aDthPHM7YSsrKXt2YXIgbD1lW2FdLHU9aS5nZXRFZGdlQnlJbmRleChhKSxoPWwubjEucCxjPWwubjIucCxwPXUuZ2V0TGF5b3V0KCk7KHA9cD9wLnNsaWNlKCk6W10pWzBdPXBbMF18fFtdLHBbMV09cFsxXXx8W10sdnQocFswXSxoKSx2dChwWzFdLGMpLCtsLmN1cnZlbmVzcyYmKHBbMl09WyhoWzBdK2NbMF0pLzItKGhbMV0tY1sxXSkqbC5jdXJ2ZW5lc3MsKGhbMV0rY1sxXSkvMi0oY1swXS1oWzBdKSpsLmN1cnZlbmVzc10pLHUuc2V0TGF5b3V0KHApfX0pKSx0LmZvcmNlTGF5b3V0PXYsdC5wcmVzZXJ2ZWRQb2ludHM9bix2LnN0ZXAoKX1lbHNlIHQuZm9yY2VMYXlvdXQ9bnVsbH0pKX1mdW5jdGlvbiBxVCh0LGUpe3ZhciBuPVtdO3JldHVybiB0LmVhY2hTZXJpZXNCeVR5cGUoXCJncmFwaFwiLChmdW5jdGlvbih0KXt2YXIgaT10LmdldChcImNvb3JkaW5hdGVTeXN0ZW1cIik7aWYoIWl8fFwidmlld1wiPT09aSl7dmFyIHI9dC5nZXREYXRhKCksbz1bXSxhPVtdO2VhKHIubWFwQXJyYXkoKGZ1bmN0aW9uKHQpe3ZhciBlPXIuZ2V0SXRlbU1vZGVsKHQpO3JldHVyblsrZS5nZXQoXCJ4XCIpLCtlLmdldChcInlcIildfSkpLG8sYSksYVswXS1vWzBdPT0wJiYoYVswXSs9MSxvWzBdLT0xKSxhWzFdLW9bMV09PTAmJihhWzFdKz0xLG9bMV0tPTEpO3ZhciBzPShhWzBdLW9bMF0pLyhhWzFdLW9bMV0pLGw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBBYyhJKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse2FzcGVjdDpufSkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUscyk7aXNOYU4ocykmJihvPVtsLngsbC55XSxhPVtsLngrbC53aWR0aCxsLnkrbC5oZWlnaHRdKTt2YXIgdT1hWzBdLW9bMF0saD1hWzFdLW9bMV0sYz1sLndpZHRoLHA9bC5oZWlnaHQsZD10LmNvb3JkaW5hdGVTeXN0ZW09bmV3IFFNO2Quem9vbUxpbWl0PXQuZ2V0KFwic2NhbGVMaW1pdFwiKSxkLnNldEJvdW5kaW5nUmVjdChvWzBdLG9bMV0sdSxoKSxkLnNldFZpZXdSZWN0KGwueCxsLnksYyxwKSxkLnNldENlbnRlcih0LmdldChcImNlbnRlclwiKSksZC5zZXRab29tKHQuZ2V0KFwiem9vbVwiKSksbi5wdXNoKGQpfX0pKSxufXZhciBLVD10dS5wcm90b3R5cGUsJFQ9cnUucHJvdG90eXBlLEpUPWZ1bmN0aW9uKCl7dGhpcy54MT0wLHRoaXMueTE9MCx0aGlzLngyPTAsdGhpcy55Mj0wLHRoaXMucGVyY2VudD0xfTshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9bihlLHQpfShKVCk7ZnVuY3Rpb24gUVQodCl7cmV0dXJuIGlzTmFOKCt0LmNweDEpfHxpc05hTigrdC5jcHkxKX12YXIgdEM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPVwiZWMtbGluZVwiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOlwiIzAwMFwiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSlR9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe1FUKGUpP0tULmJ1aWxkUGF0aC5jYWxsKHRoaXMsdCxlKTokVC5idWlsZFBhdGguY2FsbCh0aGlzLHQsZSl9LGUucHJvdG90eXBlLnBvaW50QXQ9ZnVuY3Rpb24odCl7cmV0dXJuIFFUKHRoaXMuc2hhcGUpP0tULnBvaW50QXQuY2FsbCh0aGlzLHQpOiRULnBvaW50QXQuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS50YW5nZW50QXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zaGFwZSxuPVFUKGUpP1tlLngyLWUueDEsZS55Mi1lLnkxXTokVC50YW5nZW50QXQuY2FsbCh0aGlzLHQpO3JldHVybiBBdChuLG4pfSxlfShaYSksZUM9W1wiZnJvbVN5bWJvbFwiLFwidG9TeW1ib2xcIl07ZnVuY3Rpb24gbkModCl7cmV0dXJuXCJfXCIrdCtcIlR5cGVcIn1mdW5jdGlvbiBpQyh0LGUsbil7dmFyIGk9ZS5nZXRJdGVtVmlzdWFsKG4sdCk7aWYoaSYmXCJub25lXCIhPT1pKXt2YXIgcj1lLmdldEl0ZW1WaXN1YWwobix0K1wiU2l6ZVwiKSxvPWUuZ2V0SXRlbVZpc3VhbChuLHQrXCJSb3RhdGVcIiksYT1GKHIpP3I6W3Iscl0scz11eShpLC1hWzBdLzIsLWFbMV0vMixhWzBdLGFbMV0pO3JldHVybiBzLl9fc3BlY2lmaWVkUm90YXRpb249bnVsbD09b3x8aXNOYU4obyk/dm9pZCAwOitvKk1hdGguUEkvMTgwfHwwLHMubmFtZT10LHN9fWZ1bmN0aW9uIHJDKHQsZSl7dC54MT1lWzBdWzBdLHQueTE9ZVswXVsxXSx0LngyPWVbMV1bMF0sdC55Mj1lWzFdWzFdLHQucGVyY2VudD0xO3ZhciBuPWVbMl07bj8odC5jcHgxPW5bMF0sdC5jcHkxPW5bMV0pOih0LmNweDE9TmFOLHQuY3B5MT1OYU4pfXZhciBvQz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2NyZWF0ZUxpbmUoZSxuLGkpLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5fY3JlYXRlTGluZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWwscj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdEMoe25hbWU6XCJsaW5lXCIsc3ViUGl4ZWxPcHRpbWl6ZTohMH0pO3JldHVybiByQyhlLnNoYXBlLHQpLGV9KHQuZ2V0SXRlbUxheW91dChlKSk7ci5zaGFwZS5wZXJjZW50PTAsUnUocix7c2hhcGU6e3BlcmNlbnQ6MX19LGksZSksdGhpcy5hZGQociksUChlQywoZnVuY3Rpb24obil7dmFyIGk9aUMobix0LGUpO3RoaXMuYWRkKGkpLHRoaXNbbkMobildPXQuZ2V0SXRlbVZpc3VhbChlLG4pfSksdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWwscj10aGlzLmNoaWxkT2ZOYW1lKFwibGluZVwiKSxvPXQuZ2V0SXRlbUxheW91dChlKSxhPXtzaGFwZTp7fX07ckMoYS5zaGFwZSxvKSxPdShyLGEsaSxlKSxQKGVDLChmdW5jdGlvbihuKXt2YXIgaT10LmdldEl0ZW1WaXN1YWwoZSxuKSxyPW5DKG4pO2lmKHRoaXNbcl0hPT1pKXt0aGlzLnJlbW92ZSh0aGlzLmNoaWxkT2ZOYW1lKG4pKTt2YXIgbz1pQyhuLHQsZSk7dGhpcy5hZGQobyl9dGhpc1tyXT1pfSksdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUuZ2V0TGluZVBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZEF0KDApfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29tbW9uU3RsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lmhvc3RNb2RlbCxyPXRoaXMuY2hpbGRPZk5hbWUoXCJsaW5lXCIpLG89biYmbi5lbXBoYXNpc0xpbmVTdHlsZSxhPW4mJm4uYmx1ckxpbmVTdHlsZSxzPW4mJm4uc2VsZWN0TGluZVN0eWxlLGw9biYmbi5sYWJlbFN0YXRlc01vZGVscztpZighbnx8dC5oYXNJdGVtT3B0aW9uKXt2YXIgdT10LmdldEl0ZW1Nb2RlbChlKTtvPXUuZ2V0TW9kZWwoW1wiZW1waGFzaXNcIixcImxpbmVTdHlsZVwiXSkuZ2V0TGluZVN0eWxlKCksYT11LmdldE1vZGVsKFtcImJsdXJcIixcImxpbmVTdHlsZVwiXSkuZ2V0TGluZVN0eWxlKCkscz11LmdldE1vZGVsKFtcInNlbGVjdFwiLFwibGluZVN0eWxlXCJdKS5nZXRMaW5lU3R5bGUoKSxsPWVoKHUpfXZhciBoPXQuZ2V0SXRlbVZpc3VhbChlLFwic3R5bGVcIiksYz1oLnN0cm9rZTtyLnVzZVN0eWxlKGgpLHIuc3R5bGUuZmlsbD1udWxsLHIuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxyLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGU9byxyLmVuc3VyZVN0YXRlKFwiYmx1clwiKS5zdHlsZT1hLHIuZW5zdXJlU3RhdGUoXCJzZWxlY3RcIikuc3R5bGU9cyxQKGVDLChmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkT2ZOYW1lKHQpO2lmKGUpe2Uuc2V0Q29sb3IoYyksZS5zdHlsZS5vcGFjaXR5PWgub3BhY2l0eTtmb3IodmFyIG49MDtuPHhzLmxlbmd0aDtuKyspe3ZhciBpPXhzW25dLG89ci5nZXRTdGF0ZShpKTtpZihvKXt2YXIgYT1vLnN0eWxlfHx7fSxzPWUuZW5zdXJlU3RhdGUoaSksbD1zLnN0eWxlfHwocy5zdHlsZT17fSk7bnVsbCE9YS5zdHJva2UmJihsW2UuX19pc0VtcHR5QnJ1c2g/XCJzdHJva2VcIjpcImZpbGxcIl09YS5zdHJva2UpLG51bGwhPWEub3BhY2l0eSYmKGwub3BhY2l0eT1hLm9wYWNpdHkpfX1lLm1hcmtSZWRyYXcoKX19KSx0aGlzKTt2YXIgcD1pLmdldFJhd1ZhbHVlKGUpO3RoKHRoaXMsbCx7bGFiZWxEYXRhSW5kZXg6ZSxsYWJlbEZldGNoZXI6e2dldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGkuZ2V0Rm9ybWF0dGVkTGFiZWwoZSxuLHQuZGF0YVR5cGUpfX0saW5oZXJpdENvbG9yOmN8fFwiIzAwMFwiLGRlZmF1bHRPcGFjaXR5Omgub3BhY2l0eSxkZWZhdWx0VGV4dDoobnVsbD09cD90LmdldE5hbWUoZSk6aXNGaW5pdGUocCk/amkocCk6cCkrXCJcIn0pO3ZhciBkPXRoaXMuZ2V0VGV4dENvbnRlbnQoKTtpZihkKXt2YXIgZj1sLm5vcm1hbDtkLl9fYWxpZ249ZC5zdHlsZS5hbGlnbixkLl9fdmVydGljYWxBbGlnbj1kLnN0eWxlLnZlcnRpY2FsQWxpZ24sZC5fX3Bvc2l0aW9uPWYuZ2V0KFwicG9zaXRpb25cIil8fFwibWlkZGxlXCI7dmFyIGc9Zi5nZXQoXCJkaXN0YW5jZVwiKTtGKGcpfHwoZz1bZyxnXSksZC5fX2xhYmVsRGlzdGFuY2U9Z310aGlzLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOm51bGwsbG9jYWw6ITAsaW5zaWRlOiExfSksSnModGhpcyl9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbigpe0hzKHRoaXMpfSxlLnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbigpe1dzKHRoaXMpfSxlLnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLnNldExpbmVQb2ludHModC5nZXRJdGVtTGF5b3V0KGUpKX0sZS5wcm90b3R5cGUuc2V0TGluZVBvaW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkT2ZOYW1lKFwibGluZVwiKTtyQyhlLnNoYXBlLHQpLGUuZGlydHkoKX0sZS5wcm90b3R5cGUuYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuY2hpbGRPZk5hbWUoXCJmcm9tU3ltYm9sXCIpLG49dC5jaGlsZE9mTmFtZShcInRvU3ltYm9sXCIpLGk9dC5nZXRUZXh0Q29udGVudCgpO2lmKGV8fG58fGkmJiFpLmlnbm9yZSl7Zm9yKHZhciByPTEsbz10aGlzLnBhcmVudDtvOylvLnNjYWxlWCYmKHIvPW8uc2NhbGVYKSxvPW8ucGFyZW50O3ZhciBhPXQuY2hpbGRPZk5hbWUoXCJsaW5lXCIpO2lmKHRoaXMuX19kaXJ0eXx8YS5fX2RpcnR5KXt2YXIgcz1hLnNoYXBlLnBlcmNlbnQsbD1hLnBvaW50QXQoMCksdT1hLnBvaW50QXQocyksaD13dChbXSx1LGwpO2lmKEF0KGgsaCksZSYmKGUuc2V0UG9zaXRpb24obCksUyhlLDApLGUuc2NhbGVYPWUuc2NhbGVZPXIqcyxlLm1hcmtSZWRyYXcoKSksbiYmKG4uc2V0UG9zaXRpb24odSksUyhuLDEpLG4uc2NhbGVYPW4uc2NhbGVZPXIqcyxuLm1hcmtSZWRyYXcoKSksaSYmIWkuaWdub3JlKXtpLng9aS55PTAsaS5vcmlnaW5YPWkub3JpZ2luWT0wO3ZhciBjPXZvaWQgMCxwPXZvaWQgMCxkPWkuX19sYWJlbERpc3RhbmNlLGY9ZFswXSpyLGc9ZFsxXSpyLHk9cy8yLHY9YS50YW5nZW50QXQoeSksbT1bdlsxXSwtdlswXV0sXz1hLnBvaW50QXQoeSk7bVsxXT4wJiYobVswXT0tbVswXSxtWzFdPS1tWzFdKTt2YXIgeD12WzBdPDA/LTE6MTtpZihcInN0YXJ0XCIhPT1pLl9fcG9zaXRpb24mJlwiZW5kXCIhPT1pLl9fcG9zaXRpb24pe3ZhciBiPS1NYXRoLmF0YW4yKHZbMV0sdlswXSk7dVswXTxsWzBdJiYoYj1NYXRoLlBJK2IpLGkucm90YXRpb249Yn12YXIgdz12b2lkIDA7c3dpdGNoKGkuX19wb3NpdGlvbil7Y2FzZVwiaW5zaWRlU3RhcnRUb3BcIjpjYXNlXCJpbnNpZGVNaWRkbGVUb3BcIjpjYXNlXCJpbnNpZGVFbmRUb3BcIjpjYXNlXCJtaWRkbGVcIjp3PS1nLHA9XCJib3R0b21cIjticmVhaztjYXNlXCJpbnNpZGVTdGFydEJvdHRvbVwiOmNhc2VcImluc2lkZU1pZGRsZUJvdHRvbVwiOmNhc2VcImluc2lkZUVuZEJvdHRvbVwiOnc9ZyxwPVwidG9wXCI7YnJlYWs7ZGVmYXVsdDp3PTAscD1cIm1pZGRsZVwifXN3aXRjaChpLl9fcG9zaXRpb24pe2Nhc2VcImVuZFwiOmkueD1oWzBdKmYrdVswXSxpLnk9aFsxXSpnK3VbMV0sYz1oWzBdPi44P1wibGVmdFwiOmhbMF08LS44P1wicmlnaHRcIjpcImNlbnRlclwiLHA9aFsxXT4uOD9cInRvcFwiOmhbMV08LS44P1wiYm90dG9tXCI6XCJtaWRkbGVcIjticmVhaztjYXNlXCJzdGFydFwiOmkueD0taFswXSpmK2xbMF0saS55PS1oWzFdKmcrbFsxXSxjPWhbMF0+Ljg/XCJyaWdodFwiOmhbMF08LS44P1wibGVmdFwiOlwiY2VudGVyXCIscD1oWzFdPi44P1wiYm90dG9tXCI6aFsxXTwtLjg/XCJ0b3BcIjpcIm1pZGRsZVwiO2JyZWFrO2Nhc2VcImluc2lkZVN0YXJ0VG9wXCI6Y2FzZVwiaW5zaWRlU3RhcnRcIjpjYXNlXCJpbnNpZGVTdGFydEJvdHRvbVwiOmkueD1mKngrbFswXSxpLnk9bFsxXSt3LGM9dlswXTwwP1wicmlnaHRcIjpcImxlZnRcIixpLm9yaWdpblg9LWYqeCxpLm9yaWdpblk9LXc7YnJlYWs7Y2FzZVwiaW5zaWRlTWlkZGxlVG9wXCI6Y2FzZVwiaW5zaWRlTWlkZGxlXCI6Y2FzZVwiaW5zaWRlTWlkZGxlQm90dG9tXCI6Y2FzZVwibWlkZGxlXCI6aS54PV9bMF0saS55PV9bMV0rdyxjPVwiY2VudGVyXCIsaS5vcmlnaW5ZPS13O2JyZWFrO2Nhc2VcImluc2lkZUVuZFRvcFwiOmNhc2VcImluc2lkZUVuZFwiOmNhc2VcImluc2lkZUVuZEJvdHRvbVwiOmkueD0tZip4K3VbMF0saS55PXVbMV0rdyxjPXZbMF0+PTA/XCJyaWdodFwiOlwibGVmdFwiLGkub3JpZ2luWD1mKngsaS5vcmlnaW5ZPS13fWkuc2NhbGVYPWkuc2NhbGVZPXIsaS5zZXRTdHlsZSh7dmVydGljYWxBbGlnbjppLl9fdmVydGljYWxBbGlnbnx8cCxhbGlnbjppLl9fYWxpZ258fGN9KX19fWZ1bmN0aW9uIFModCxlKXt2YXIgbj10Ll9fc3BlY2lmaWVkUm90YXRpb247aWYobnVsbD09bil7dmFyIGk9YS50YW5nZW50QXQoZSk7dC5hdHRyKFwicm90YXRpb25cIiwoMT09PWU/LTE6MSkqTWF0aC5QSS8yLU1hdGguYXRhbjIoaVsxXSxpWzBdKSl9ZWxzZSB0LmF0dHIoXCJyb3RhdGlvblwiLG4pfX0sZX0oemkpLGFDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmdyb3VwPW5ldyB6aSx0aGlzLl9MaW5lQ3Rvcj10fHxvQ31yZXR1cm4gdC5wcm90b3R5cGUuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMsaT1uLmdyb3VwLHI9bi5fbGluZURhdGE7bi5fbGluZURhdGE9dCxyfHxpLnJlbW92ZUFsbCgpO3ZhciBvPXNDKHQpO3QuZGlmZihyKS5hZGQoKGZ1bmN0aW9uKG4pe2UuX2RvQWRkKHQsbixvKX0pKS51cGRhdGUoKGZ1bmN0aW9uKG4saSl7ZS5fZG9VcGRhdGUocix0LGksbixvKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe2kucmVtb3ZlKHIuZ2V0SXRlbUdyYXBoaWNFbCh0KSl9KSkuZXhlY3V0ZSgpfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9saW5lRGF0YTt0JiZ0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLG4pe2UudXBkYXRlTGF5b3V0KHQsbil9KSx0aGlzKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPXNDKHQpLHRoaXMuX2xpbmVEYXRhPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3QuaXNHcm91cHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5pbWF0b3JzJiZ0LmFuaW1hdG9ycy5sZW5ndGg+MH0odCl8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKS5ob3ZlckxheWVyPSEwKX1mb3IodmFyIGk9dC5zdGFydDtpPHQuZW5kO2krKyl7aWYodUMoZS5nZXRJdGVtTGF5b3V0KGkpKSl7dmFyIHI9bmV3IHRoaXMuX0xpbmVDdG9yKGUsaSx0aGlzLl9zZXJpZXNTY29wZSk7ci50cmF2ZXJzZShuKSx0aGlzLmdyb3VwLmFkZChyKSxlLnNldEl0ZW1HcmFwaGljRWwoaSxyKX19fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5fZG9BZGQ9ZnVuY3Rpb24odCxlLG4pe2lmKHVDKHQuZ2V0SXRlbUxheW91dChlKSkpe3ZhciBpPW5ldyB0aGlzLl9MaW5lQ3Rvcih0LGUsbik7dC5zZXRJdGVtR3JhcGhpY0VsKGUsaSksdGhpcy5ncm91cC5hZGQoaSl9fSx0LnByb3RvdHlwZS5fZG9VcGRhdGU9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10LmdldEl0ZW1HcmFwaGljRWwobik7dUMoZS5nZXRJdGVtTGF5b3V0KGkpKT8obz9vLnVwZGF0ZURhdGEoZSxpLHIpOm89bmV3IHRoaXMuX0xpbmVDdG9yKGUsaSxyKSxlLnNldEl0ZW1HcmFwaGljRWwoaSxvKSx0aGlzLmdyb3VwLmFkZChvKSk6dGhpcy5ncm91cC5yZW1vdmUobyl9LHR9KCk7ZnVuY3Rpb24gc0ModCl7dmFyIGU9dC5ob3N0TW9kZWw7cmV0dXJue2xpbmVTdHlsZTplLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpLGVtcGhhc2lzTGluZVN0eWxlOmUuZ2V0TW9kZWwoW1wiZW1waGFzaXNcIixcImxpbmVTdHlsZVwiXSkuZ2V0TGluZVN0eWxlKCksYmx1ckxpbmVTdHlsZTplLmdldE1vZGVsKFtcImJsdXJcIixcImxpbmVTdHlsZVwiXSkuZ2V0TGluZVN0eWxlKCksc2VsZWN0TGluZVN0eWxlOmUuZ2V0TW9kZWwoW1wic2VsZWN0XCIsXCJsaW5lU3R5bGVcIl0pLmdldExpbmVTdHlsZSgpLGxhYmVsU3RhdGVzTW9kZWxzOmVoKGUpfX1mdW5jdGlvbiBsQyh0KXtyZXR1cm4gaXNOYU4odFswXSl8fGlzTmFOKHRbMV0pfWZ1bmN0aW9uIHVDKHQpe3JldHVybiFsQyh0WzBdKSYmIWxDKHRbMV0pfXZhciBoQz1bXSxjQz1bXSxwQz1bXSxkQz1HbyxmQz1QdCxnQz1NYXRoLmFicztmdW5jdGlvbiB5Qyh0LGUsbil7Zm9yKHZhciBpLHI9dFswXSxvPXRbMV0sYT10WzJdLHM9MS8wLGw9bipuLHU9LjEsaD0uMTtoPD0uOTtoKz0uMSl7aENbMF09ZEMoclswXSxvWzBdLGFbMF0saCksaENbMV09ZEMoclsxXSxvWzFdLGFbMV0saCksKGQ9Z0MoZkMoaEMsZSktbCkpPHMmJihzPWQsaT1oKX1mb3IodmFyIGM9MDtjPDMyO2MrKyl7dmFyIHA9aSt1O2NDWzBdPWRDKHJbMF0sb1swXSxhWzBdLGkpLGNDWzFdPWRDKHJbMV0sb1sxXSxhWzFdLGkpLHBDWzBdPWRDKHJbMF0sb1swXSxhWzBdLHApLHBDWzFdPWRDKHJbMV0sb1sxXSxhWzFdLHApO3ZhciBkPWZDKGNDLGUpLWw7aWYoZ0MoZCk8LjAxKWJyZWFrO3ZhciBmPWZDKHBDLGUpLWw7dS89MixkPDA/Zj49MD9pKz11OmktPXU6Zj49MD9pLT11OmkrPXV9cmV0dXJuIGl9ZnVuY3Rpb24gdkModCxlKXt2YXIgbj1bXSxpPVlvLHI9W1tdLFtdLFtdXSxvPVtbXSxbXV0sYT1bXTtlLz0yLHQuZWFjaEVkZ2UoKGZ1bmN0aW9uKHQscyl7dmFyIGw9dC5nZXRMYXlvdXQoKSx1PXQuZ2V0VmlzdWFsKFwiZnJvbVN5bWJvbFwiKSxoPXQuZ2V0VmlzdWFsKFwidG9TeW1ib2xcIik7bC5fX29yaWdpbmFsfHwobC5fX29yaWdpbmFsPVttdChsWzBdKSxtdChsWzFdKV0sbFsyXSYmbC5fX29yaWdpbmFsLnB1c2gobXQobFsyXSkpKTt2YXIgYz1sLl9fb3JpZ2luYWw7aWYobnVsbCE9bFsyXSl7aWYodnQoclswXSxjWzBdKSx2dChyWzFdLGNbMl0pLHZ0KHJbMl0sY1sxXSksdSYmXCJub25lXCIhPT11KXt2YXIgcD1HVCh0Lm5vZGUxKSxkPXlDKHIsY1swXSxwKmUpO2koclswXVswXSxyWzFdWzBdLHJbMl1bMF0sZCxuKSxyWzBdWzBdPW5bM10sclsxXVswXT1uWzRdLGkoclswXVsxXSxyWzFdWzFdLHJbMl1bMV0sZCxuKSxyWzBdWzFdPW5bM10sclsxXVsxXT1uWzRdfWlmKGgmJlwibm9uZVwiIT09aCl7cD1HVCh0Lm5vZGUyKSxkPXlDKHIsY1sxXSxwKmUpO2koclswXVswXSxyWzFdWzBdLHJbMl1bMF0sZCxuKSxyWzFdWzBdPW5bMV0sclsyXVswXT1uWzJdLGkoclswXVsxXSxyWzFdWzFdLHJbMl1bMV0sZCxuKSxyWzFdWzFdPW5bMV0sclsyXVsxXT1uWzJdfXZ0KGxbMF0sclswXSksdnQobFsxXSxyWzJdKSx2dChsWzJdLHJbMV0pfWVsc2V7aWYodnQob1swXSxjWzBdKSx2dChvWzFdLGNbMV0pLHd0KGEsb1sxXSxvWzBdKSxBdChhLGEpLHUmJlwibm9uZVwiIT09dSl7cD1HVCh0Lm5vZGUxKTtidChvWzBdLG9bMF0sYSxwKmUpfWlmKGgmJlwibm9uZVwiIT09aCl7cD1HVCh0Lm5vZGUyKTtidChvWzFdLG9bMV0sYSwtcCplKX12dChsWzBdLG9bMF0pLHZ0KGxbMV0sb1sxXSl9fSkpfWZ1bmN0aW9uIG1DKHQpe3JldHVyblwidmlld1wiPT09dC50eXBlfXZhciBfQz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFRiLGk9bmV3IGFDLHI9dGhpcy5ncm91cDt0aGlzLl9jb250cm9sbGVyPW5ldyBRUyhlLmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6cn0sci5hZGQobi5ncm91cCksci5hZGQoaS5ncm91cCksdGhpcy5fc3ltYm9sRHJhdz1uLHRoaXMuX2xpbmVEcmF3PWksdGhpcy5fZmlyc3RSZW5kZXI9ITB9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXQuY29vcmRpbmF0ZVN5c3RlbTt0aGlzLl9tb2RlbD10O3ZhciBvPXRoaXMuX3N5bWJvbERyYXcsYT10aGlzLl9saW5lRHJhdyxzPXRoaXMuZ3JvdXA7aWYobUMocikpe3ZhciBsPXt4OnIueCx5OnIueSxzY2FsZVg6ci5zY2FsZVgsc2NhbGVZOnIuc2NhbGVZfTt0aGlzLl9maXJzdFJlbmRlcj9zLmF0dHIobCk6T3UocyxsLHQpfXZDKHQuZ2V0R3JhcGgoKSxGVCh0KSk7dmFyIHU9dC5nZXREYXRhKCk7by51cGRhdGVEYXRhKHUpO3ZhciBoPXQuZ2V0RWRnZURhdGEoKTthLnVwZGF0ZURhdGEoaCksdGhpcy5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSgpLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4pLGNsZWFyVGltZW91dCh0aGlzLl9sYXlvdXRUaW1lb3V0KTt2YXIgYz10LmZvcmNlTGF5b3V0LHA9dC5nZXQoW1wiZm9yY2VcIixcImxheW91dEFuaW1hdGlvblwiXSk7YyYmdGhpcy5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihjLHApLHUuZ3JhcGguZWFjaE5vZGUoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YUluZGV4LG49dC5nZXRHcmFwaGljRWwoKSxyPXQuZ2V0TW9kZWwoKTtuLm9mZihcImRyYWdcIikub2ZmKFwiZHJhZ2VuZFwiKTt2YXIgbz1yLmdldChcImRyYWdnYWJsZVwiKTtvJiZuLm9uKFwiZHJhZ1wiLChmdW5jdGlvbigpe2MmJihjLndhcm1VcCgpLCFpLl9sYXlvdXRpbmcmJmkuX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb24oYyxwKSxjLnNldEZpeGVkKGUpLHUuc2V0SXRlbUxheW91dChlLFtuLngsbi55XSkpfSkpLm9uKFwiZHJhZ2VuZFwiLChmdW5jdGlvbigpe2MmJmMuc2V0VW5maXhlZChlKX0pKSxuLnNldERyYWdnYWJsZShvJiYhIWMpLFwiYWRqYWNlbmN5XCI9PT1yLmdldChbXCJlbXBoYXNpc1wiLFwiZm9jdXNcIl0pJiYoeXMobikuZm9jdXM9dC5nZXRBZGphY2VudERhdGFJbmRpY2VzKCkpfSkpLHUuZ3JhcGguZWFjaEVkZ2UoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGhpY0VsKCk7XCJhZGphY2VuY3lcIj09PXQuZ2V0TW9kZWwoKS5nZXQoW1wiZW1waGFzaXNcIixcImZvY3VzXCJdKSYmKHlzKGUpLmZvY3VzPXtlZGdlOlt0LmRhdGFJbmRleF0sbm9kZTpbdC5ub2RlMS5kYXRhSW5kZXgsdC5ub2RlMi5kYXRhSW5kZXhdfSl9KSk7dmFyIGQ9XCJjaXJjdWxhclwiPT09dC5nZXQoXCJsYXlvdXRcIikmJnQuZ2V0KFtcImNpcmN1bGFyXCIsXCJyb3RhdGVMYWJlbFwiXSksZj11LmdldExheW91dChcImN4XCIpLGc9dS5nZXRMYXlvdXQoXCJjeVwiKTt1LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGUpe3ZhciBuPXUuZ2V0SXRlbU1vZGVsKGUpLmdldChbXCJsYWJlbFwiLFwicm90YXRlXCJdKXx8MCxpPXQuZ2V0U3ltYm9sUGF0aCgpO2lmKGQpe3ZhciByPXUuZ2V0SXRlbUxheW91dChlKSxvPU1hdGguYXRhbjIoclsxXS1nLHJbMF0tZik7bzwwJiYobz0yKk1hdGguUEkrbyk7dmFyIGE9clswXTxmO2EmJihvLT1NYXRoLlBJKTt2YXIgcz1hP1wibGVmdFwiOlwicmlnaHRcIjtpLnNldFRleHRDb25maWcoe3JvdGF0aW9uOi1vLHBvc2l0aW9uOnMsb3JpZ2luOlwiY2VudGVyXCJ9KTt2YXIgbD1pLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIik7SShsLnRleHRDb25maWd8fChsLnRleHRDb25maWc9e30pLHtwb3NpdGlvbjpzfSl9ZWxzZSBpLnNldFRleHRDb25maWcoe3JvdGF0aW9uOm4qPU1hdGguUEkvMTgwfSl9KSksdGhpcy5fZmlyc3RSZW5kZXI9ITF9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jb250cm9sbGVyJiZ0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9jb250cm9sbGVySG9zdD1udWxsfSxlLnByb3RvdHlwZS5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7IWZ1bmN0aW9uIGkoKXt0LnN0ZXAoKGZ1bmN0aW9uKHQpe24udXBkYXRlTGF5b3V0KG4uX21vZGVsKSwobi5fbGF5b3V0aW5nPSF0KSYmKGU/bi5fbGF5b3V0VGltZW91dD1zZXRUaW1lb3V0KGksMTYpOmkoKSl9KSl9KCl9LGUucHJvdG90eXBlLl91cGRhdGVDb250cm9sbGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dGhpcy5fY29udHJvbGxlcixvPXRoaXMuX2NvbnRyb2xsZXJIb3N0LGE9dGhpcy5ncm91cDtyLnNldFBvaW50ZXJDaGVja2VyKChmdW5jdGlvbihlLGkscil7dmFyIG89YS5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gby5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksby5jb250YWluKGkscikmJiFhTShlLG4sdCl9KSksbUModC5jb29yZGluYXRlU3lzdGVtKT8oci5lbmFibGUodC5nZXQoXCJyb2FtXCIpKSxvLnpvb21MaW1pdD10LmdldChcInNjYWxlTGltaXRcIiksby56b29tPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRab29tKCksci5vZmYoXCJwYW5cIikub2ZmKFwiem9vbVwiKS5vbihcInBhblwiLChmdW5jdGlvbihlKXtpTShvLGUuZHgsZS5keSksbi5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOlwiZ3JhcGhSb2FtXCIsZHg6ZS5keCxkeTplLmR5fSl9KSkub24oXCJ6b29tXCIsKGZ1bmN0aW9uKGUpe3JNKG8sZS5zY2FsZSxlLm9yaWdpblgsZS5vcmlnaW5ZKSxuLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDp0LmlkLHR5cGU6XCJncmFwaFJvYW1cIix6b29tOmUuc2NhbGUsb3JpZ2luWDplLm9yaWdpblgsb3JpZ2luWTplLm9yaWdpbll9KSxpLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksdkModC5nZXRHcmFwaCgpLEZUKHQpKSxpLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKSxuLnVwZGF0ZUxhYmVsTGF5b3V0KCl9KSkpOnIuZGlzYWJsZSgpfSxlLnByb3RvdHlwZS5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21vZGVsLGU9dC5nZXREYXRhKCksbj1GVCh0KTtlLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGUpe3Quc2V0U3ltYm9sU2NhbGUobil9KSl9LGUucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0KXt2Qyh0LmdldEdyYXBoKCksRlQodCkpLHRoaXMuX3N5bWJvbERyYXcudXBkYXRlTGF5b3V0KCksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3N5bWJvbERyYXcmJnRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCksdGhpcy5fbGluZURyYXcmJnRoaXMuX2xpbmVEcmF3LnJlbW92ZSgpfSxlLnR5cGU9XCJncmFwaFwiLGV9KHlmKTtmdW5jdGlvbiB4Qyh0KXtyZXR1cm5cIl9FQ19cIit0fXZhciBiQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50eXBlPVwiZ3JhcGhcIix0aGlzLm5vZGVzPVtdLHRoaXMuZWRnZXM9W10sdGhpcy5fbm9kZXNNYXA9e30sdGhpcy5fZWRnZXNNYXA9e30sdGhpcy5fZGlyZWN0ZWQ9dHx8ITF9cmV0dXJuIHQucHJvdG90eXBlLmlzRGlyZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0ZWR9LHQucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24odCxlKXt0PW51bGw9PXQ/XCJcIitlOlwiXCIrdDt2YXIgbj10aGlzLl9ub2Rlc01hcDtpZighblt4Qyh0KV0pe3ZhciBpPW5ldyB3Qyh0LGUpO3JldHVybiBpLmhvc3RHcmFwaD10aGlzLHRoaXMubm9kZXMucHVzaChpKSxuW3hDKHQpXT1pLGl9fSx0LnByb3RvdHlwZS5nZXROb2RlQnlJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMubm9kZXNbZV19LHQucHJvdG90eXBlLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub2Rlc01hcFt4Qyh0KV19LHQucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX25vZGVzTWFwLHI9dGhpcy5fZWRnZXNNYXA7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJih0PXRoaXMubm9kZXNbdF0pLFwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT10aGlzLm5vZGVzW2VdKSx0IGluc3RhbmNlb2Ygd0N8fCh0PWlbeEModCldKSxlIGluc3RhbmNlb2Ygd0N8fChlPWlbeEMoZSldKSx0JiZlKXt2YXIgbz10LmlkK1wiLVwiK2UuaWQsYT1uZXcgU0ModCxlLG4pO3JldHVybiBhLmhvc3RHcmFwaD10aGlzLHRoaXMuX2RpcmVjdGVkJiYodC5vdXRFZGdlcy5wdXNoKGEpLGUuaW5FZGdlcy5wdXNoKGEpKSx0LmVkZ2VzLnB1c2goYSksdCE9PWUmJmUuZWRnZXMucHVzaChhKSx0aGlzLmVkZ2VzLnB1c2goYSkscltvXT1hLGF9fSx0LnByb3RvdHlwZS5nZXRFZGdlQnlJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmVkZ2VEYXRhLmdldFJhd0luZGV4KHQpO3JldHVybiB0aGlzLmVkZ2VzW2VdfSx0LnByb3RvdHlwZS5nZXRFZGdlPWZ1bmN0aW9uKHQsZSl7dCBpbnN0YW5jZW9mIHdDJiYodD10LmlkKSxlIGluc3RhbmNlb2Ygd0MmJihlPWUuaWQpO3ZhciBuPXRoaXMuX2VkZ2VzTWFwO3JldHVybiB0aGlzLl9kaXJlY3RlZD9uW3QrXCItXCIrZV06blt0K1wiLVwiK2VdfHxuW2UrXCItXCIrdF19LHQucHJvdG90eXBlLmVhY2hOb2RlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMubm9kZXMsaT1uLmxlbmd0aCxyPTA7cjxpO3IrKyluW3JdLmRhdGFJbmRleD49MCYmdC5jYWxsKGUsbltyXSxyKX0sdC5wcm90b3R5cGUuZWFjaEVkZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5lZGdlcyxpPW4ubGVuZ3RoLHI9MDtyPGk7cisrKW5bcl0uZGF0YUluZGV4Pj0wJiZuW3JdLm5vZGUxLmRhdGFJbmRleD49MCYmbltyXS5ub2RlMi5kYXRhSW5kZXg+PTAmJnQuY2FsbChlLG5bcl0scil9LHQucHJvdG90eXBlLmJyZWFkdGhGaXJzdFRyYXZlcnNlPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKGUgaW5zdGFuY2VvZiB3Q3x8KGU9dGhpcy5fbm9kZXNNYXBbeEMoZSldKSxlKXtmb3IodmFyIHI9XCJvdXRcIj09PW4/XCJvdXRFZGdlc1wiOlwiaW5cIj09PW4/XCJpbkVkZ2VzXCI6XCJlZGdlc1wiLG89MDtvPHRoaXMubm9kZXMubGVuZ3RoO28rKyl0aGlzLm5vZGVzW29dLl9fdmlzaXRlZD0hMTtpZighdC5jYWxsKGksZSxudWxsKSlmb3IodmFyIGE9W2VdO2EubGVuZ3RoOyl7dmFyIHM9YS5zaGlmdCgpLGw9c1tyXTtmb3Iobz0wO288bC5sZW5ndGg7bysrKXt2YXIgdT1sW29dLGg9dS5ub2RlMT09PXM/dS5ub2RlMjp1Lm5vZGUxO2lmKCFoLl9fdmlzaXRlZCl7aWYodC5jYWxsKGksaCxzKSlyZXR1cm47YS5wdXNoKGgpLGguX192aXNpdGVkPSEwfX19fX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZGF0YSxlPXRoaXMuZWRnZURhdGEsbj10aGlzLm5vZGVzLGk9dGhpcy5lZGdlcyxyPTAsbz1uLmxlbmd0aDtyPG87cisrKW5bcl0uZGF0YUluZGV4PS0xO2ZvcihyPTAsbz10LmNvdW50KCk7cjxvO3IrKyluW3QuZ2V0UmF3SW5kZXgocildLmRhdGFJbmRleD1yO2UuZmlsdGVyU2VsZigoZnVuY3Rpb24odCl7dmFyIG49aVtlLmdldFJhd0luZGV4KHQpXTtyZXR1cm4gbi5ub2RlMS5kYXRhSW5kZXg+PTAmJm4ubm9kZTIuZGF0YUluZGV4Pj0wfSkpO2ZvcihyPTAsbz1pLmxlbmd0aDtyPG87cisrKWlbcl0uZGF0YUluZGV4PS0xO2ZvcihyPTAsbz1lLmNvdW50KCk7cjxvO3IrKylpW2UuZ2V0UmF3SW5kZXgocildLmRhdGFJbmRleD1yfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgdCh0aGlzLl9kaXJlY3RlZCksbj10aGlzLm5vZGVzLGk9dGhpcy5lZGdlcyxyPTA7cjxuLmxlbmd0aDtyKyspZS5hZGROb2RlKG5bcl0uaWQsbltyXS5kYXRhSW5kZXgpO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07ZS5hZGRFZGdlKG8ubm9kZTEuaWQsby5ub2RlMi5pZCxvLmRhdGFJbmRleCl9cmV0dXJuIGV9LHR9KCksd0M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5pbkVkZ2VzPVtdLHRoaXMub3V0RWRnZXM9W10sdGhpcy5lZGdlcz1bXSx0aGlzLmRhdGFJbmRleD0tMSx0aGlzLmlkPW51bGw9PXQ/XCJcIjp0LHRoaXMuZGF0YUluZGV4PW51bGw9PWU/LTE6ZX1yZXR1cm4gdC5wcm90b3R5cGUuZGVncmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZXMubGVuZ3RofSx0LnByb3RvdHlwZS5pbkRlZ3JlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluRWRnZXMubGVuZ3RofSx0LnByb3RvdHlwZS5vdXREZWdyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdXRFZGdlcy5sZW5ndGh9LHQucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKHQpe2lmKCEodGhpcy5kYXRhSW5kZXg8MCkpcmV0dXJuIHRoaXMuaG9zdEdyYXBoLmRhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KS5nZXRNb2RlbCh0KX0sdC5wcm90b3R5cGUuZ2V0QWRqYWNlbnREYXRhSW5kaWNlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD17ZWRnZTpbXSxub2RlOltdfSxlPTA7ZTx0aGlzLmVkZ2VzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuZWRnZXNbZV07bi5kYXRhSW5kZXg8MHx8KHQuZWRnZS5wdXNoKG4uZGF0YUluZGV4KSx0Lm5vZGUucHVzaChuLm5vZGUxLmRhdGFJbmRleCxuLm5vZGUyLmRhdGFJbmRleCkpfXJldHVybiB0fSx0fSgpLFNDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5kYXRhSW5kZXg9LTEsdGhpcy5ub2RlMT10LHRoaXMubm9kZTI9ZSx0aGlzLmRhdGFJbmRleD1udWxsPT1uPy0xOm59cmV0dXJuIHQucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKHQpe2lmKCEodGhpcy5kYXRhSW5kZXg8MCkpcmV0dXJuIHRoaXMuaG9zdEdyYXBoLmVkZ2VEYXRhLmdldEl0ZW1Nb2RlbCh0aGlzLmRhdGFJbmRleCkuZ2V0TW9kZWwodCl9LHQucHJvdG90eXBlLmdldEFkamFjZW50RGF0YUluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm57ZWRnZTpbdGhpcy5kYXRhSW5kZXhdLG5vZGU6W3RoaXMubm9kZTEuZGF0YUluZGV4LHRoaXMubm9kZTIuZGF0YUluZGV4XX19LHR9KCk7ZnVuY3Rpb24gTUModCxlKXtyZXR1cm57Z2V0VmFsdWU6ZnVuY3Rpb24obil7dmFyIGk9dGhpc1t0XVtlXTtyZXR1cm4gaS5nZXQoaS5nZXREaW1lbnNpb24obnx8XCJ2YWx1ZVwiKSx0aGlzLmRhdGFJbmRleCl9LHNldFZpc3VhbDpmdW5jdGlvbihuLGkpe3RoaXMuZGF0YUluZGV4Pj0wJiZ0aGlzW3RdW2VdLnNldEl0ZW1WaXN1YWwodGhpcy5kYXRhSW5kZXgsbixpKX0sZ2V0VmlzdWFsOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzW3RdW2VdLmdldEl0ZW1WaXN1YWwodGhpcy5kYXRhSW5kZXgsbil9LHNldExheW91dDpmdW5jdGlvbihuLGkpe3RoaXMuZGF0YUluZGV4Pj0wJiZ0aGlzW3RdW2VdLnNldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgsbixpKX0sZ2V0TGF5b3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LGdldEdyYXBoaWNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldEl0ZW1HcmFwaGljRWwodGhpcy5kYXRhSW5kZXgpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldFJhd0luZGV4KHRoaXMuZGF0YUluZGV4KX19fWZ1bmN0aW9uIElDKHQsZSxuLGkscil7Zm9yKHZhciBvPW5ldyBiQyhpKSxhPTA7YTx0Lmxlbmd0aDthKyspby5hZGROb2RlKFEodFthXS5pZCx0W2FdLm5hbWUsYSksYSk7dmFyIHM9W10sbD1bXSx1PTA7Zm9yKGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGg9ZVthXSxjPWguc291cmNlLHA9aC50YXJnZXQ7by5hZGRFZGdlKGMscCx1KSYmKGwucHVzaChoKSxzLnB1c2goUShUcihoLmlkLG51bGwpLGMrXCIgPiBcIitwKSksdSsrKX12YXIgZCxmPW4uZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKTtpZihcImNhcnRlc2lhbjJkXCI9PT1mfHxcInBvbGFyXCI9PT1mKWQ9SG0odCxuKTtlbHNle3ZhciBnPV9wLmdldChmKSx5PWcmJmcuZGltZW5zaW9uc3x8W107QSh5LFwidmFsdWVcIik8MCYmeS5jb25jYXQoW1widmFsdWVcIl0pO3ZhciB2PU5tKHQse2Nvb3JkRGltZW5zaW9uczp5fSk7KGQ9bmV3IFBtKHYsbikpLmluaXREYXRhKHQpfXZhciBtPW5ldyBQbShbXCJ2YWx1ZVwiXSxuKTtyZXR1cm4gbS5pbml0RGF0YShsLHMpLHImJnIoZCxtKSx1SSh7bWFpbkRhdGE6ZCxzdHJ1Y3Q6byxzdHJ1Y3RBdHRyOlwiZ3JhcGhcIixkYXRhczp7bm9kZTpkLGVkZ2U6bX0sZGF0YXNBdHRyOntub2RlOlwiZGF0YVwiLGVkZ2U6XCJlZGdlRGF0YVwifX0pLG8udXBkYXRlKCksb31MKHdDLE1DKFwiaG9zdEdyYXBoXCIsXCJkYXRhXCIpKSxMKFNDLE1DKFwiaG9zdEdyYXBoXCIsXCJlZGdlRGF0YVwiKSk7dmFyIFRDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG49dGhpcztmdW5jdGlvbiBpKCl7cmV0dXJuIG4uX2NhdGVnb3JpZXNEYXRhfXRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IE53KGksaSksdGhpcy5maWxsRGF0YVRleHRTdHlsZShlLmVkZ2VzfHxlLmxpbmtzKSx0aGlzLl91cGRhdGVDYXRlZ29yaWVzRGF0YSgpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5maWxsRGF0YVRleHRTdHlsZShlLmVkZ2VzfHxlLmxpbmtzKSx0aGlzLl91cGRhdGVDYXRlZ29yaWVzRGF0YSgpfSxlLnByb3RvdHlwZS5tZXJnZURlZmF1bHRBbmRUaGVtZT1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5tZXJnZURlZmF1bHRBbmRUaGVtZS5hcHBseSh0aGlzLGFyZ3VtZW50cykseHIoZSxcImVkZ2VMYWJlbFwiLFtcInNob3dcIl0pfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5lZGdlc3x8dC5saW5rc3x8W10scj10LmRhdGF8fHQubm9kZXN8fFtdLG89dGhpcztpZihyJiZpKXtrVChuPXRoaXMpJiYobi5fX2N1cnZlbmVzc0xpc3Q9W10sbi5fX2VkZ2VNYXA9e30sUFQobikpO3ZhciBhPUlDKHIsaSx0aGlzLCEwLChmdW5jdGlvbih0LGUpe3Qud3JhcE1ldGhvZChcImdldEl0ZW1Nb2RlbFwiLChmdW5jdGlvbih0KXt2YXIgZT1vLl9jYXRlZ29yaWVzTW9kZWxzW3QuZ2V0U2hhbGxvdyhcImNhdGVnb3J5XCIpXTtyZXR1cm4gZSYmKGUucGFyZW50TW9kZWw9dC5wYXJlbnRNb2RlbCx0LnBhcmVudE1vZGVsPWUpLHR9KSk7dmFyIG49U2gucHJvdG90eXBlLmdldE1vZGVsO2Z1bmN0aW9uIGkodCxlKXt2YXIgaT1uLmNhbGwodGhpcyx0LGUpO3JldHVybiBpLnJlc29sdmVQYXJlbnRQYXRoPXIsaX1mdW5jdGlvbiByKHQpe2lmKHQmJihcImxhYmVsXCI9PT10WzBdfHxcImxhYmVsXCI9PT10WzFdKSl7dmFyIGU9dC5zbGljZSgpO3JldHVyblwibGFiZWxcIj09PXRbMF0/ZVswXT1cImVkZ2VMYWJlbFwiOlwibGFiZWxcIj09PXRbMV0mJihlWzFdPVwiZWRnZUxhYmVsXCIpLGV9cmV0dXJuIHR9ZS53cmFwTWV0aG9kKFwiZ2V0SXRlbU1vZGVsXCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc29sdmVQYXJlbnRQYXRoPXIsdC5nZXRNb2RlbD1pLHR9KSl9KSk7cmV0dXJuIFAoYS5lZGdlcywoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuLGkpe2lmKGtUKG4pKXt2YXIgcj1PVCh0LGUsbiksbz1uLl9fZWRnZU1hcCxhPW9bUlQocildO29bcl0mJiFhP29bcl0uaXNGb3J3YXJkPSEwOmEmJm9bcl0mJihhLmlzRm9yd2FyZD0hMCxvW3JdLmlzRm9yd2FyZD0hMSksb1tyXT1vW3JdfHxbXSxvW3JdLnB1c2goaSl9fSh0Lm5vZGUxLHQubm9kZTIsdGhpcyx0LmRhdGFJbmRleCl9KSx0aGlzKSxhLmRhdGF9fSxlLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoKS5ncmFwaH0sZS5wcm90b3R5cGUuZ2V0RWRnZURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmFwaCgpLmVkZ2VEYXRhfSxlLnByb3RvdHlwZS5nZXRDYXRlZ29yaWVzRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXRlZ29yaWVzRGF0YX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7aWYoXCJlZGdlXCI9PT1uKXt2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LG4pLG89aS5ncmFwaC5nZXRFZGdlQnlJbmRleCh0KSxhPWkuZ2V0TmFtZShvLm5vZGUxLmRhdGFJbmRleCkscz1pLmdldE5hbWUoby5ub2RlMi5kYXRhSW5kZXgpLGw9W107cmV0dXJuIG51bGwhPWEmJmwucHVzaChhKSxudWxsIT1zJiZsLnB1c2gocyksWWQoXCJuYW1lVmFsdWVcIix7bmFtZTpsLmpvaW4oXCIgPiBcIiksdmFsdWU6ci52YWx1ZSxub1ZhbHVlOm51bGw9PXIudmFsdWV9KX1yZXR1cm4gdGYoe3Nlcmllczp0aGlzLGRhdGFJbmRleDp0LG11bHRpcGxlU2VyaWVzOmV9KX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhdGVnb3JpZXNEYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQudmFsdWU/dDpJKHt2YWx1ZTowfSx0KX0pKSxlPW5ldyBQbShbXCJ2YWx1ZVwiXSx0aGlzKTtlLmluaXREYXRhKHQpLHRoaXMuX2NhdGVnb3JpZXNEYXRhPWUsdGhpcy5fY2F0ZWdvcmllc01vZGVscz1lLm1hcEFycmF5KChmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRJdGVtTW9kZWwodCl9KSl9LGUucHJvdG90eXBlLnNldFpvb209ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxlLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGUucHJvdG90eXBlLmlzQW5pbWF0aW9uRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5pc0FuaW1hdGlvbkVuYWJsZWQuY2FsbCh0aGlzKSYmIShcImZvcmNlXCI9PT10aGlzLmdldChcImxheW91dFwiKSYmdGhpcy5nZXQoW1wiZm9yY2VcIixcImxheW91dEFuaW1hdGlvblwiXSkpfSxlLnR5cGU9XCJzZXJpZXMuZ3JhcGhcIixlLmRlcGVuZGVuY2llcz1bXCJncmlkXCIsXCJwb2xhclwiLFwiZ2VvXCIsXCJzaW5nbGVBeGlzXCIsXCJjYWxlbmRhclwiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwidmlld1wiLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxmb2N1c05vZGVBZGphY2VuY3k6ITEsY2lyY3VsYXI6e3JvdGF0ZUxhYmVsOiExfSxmb3JjZTp7aW5pdExheW91dDpudWxsLHJlcHVsc2lvbjpbMCw1MF0sZ3Jhdml0eTouMSxmcmljdGlvbjouNixlZGdlTGVuZ3RoOjMwLGxheW91dEFuaW1hdGlvbjohMH0sbGVmdDpcImNlbnRlclwiLHRvcDpcImNlbnRlclwiLHN5bWJvbDpcImNpcmNsZVwiLHN5bWJvbFNpemU6MTAsZWRnZVN5bWJvbDpbXCJub25lXCIsXCJub25lXCJdLGVkZ2VTeW1ib2xTaXplOjEwLGVkZ2VMYWJlbDp7cG9zaXRpb246XCJtaWRkbGVcIixkaXN0YW5jZTo1fSxkcmFnZ2FibGU6ITEscm9hbTohMSxjZW50ZXI6bnVsbCx6b29tOjEsbm9kZVNjYWxlUmF0aW86LjYsbGFiZWw6e3Nob3c6ITEsZm9ybWF0dGVyOlwie2J9XCJ9LGl0ZW1TdHlsZTp7fSxsaW5lU3R5bGU6e2NvbG9yOlwiI2FhYVwiLHdpZHRoOjEsb3BhY2l0eTouNX0sZW1waGFzaXM6e3NjYWxlOiEwLGxhYmVsOntzaG93OiEwfX0sc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOlwiIzIxMjEyMVwifX19LGV9KHJmKSxDQz17dHlwZTpcImdyYXBoUm9hbVwiLGV2ZW50OlwiZ3JhcGhSb2FtXCIsdXBkYXRlOlwibm9uZVwifTt2YXIgQUM9ZnVuY3Rpb24oKXt0aGlzLmFuZ2xlPTAsdGhpcy53aWR0aD0xMCx0aGlzLnI9MTAsdGhpcy54PTAsdGhpcy55PTB9LERDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT1cInBvaW50ZXJcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBQ30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3MsaT1NYXRoLnNpbixyPWUucixvPWUud2lkdGgsYT1lLmFuZ2xlLHM9ZS54LW4oYSkqbyoobz49ci8zPzE6MiksbD1lLnktaShhKSpvKihvPj1yLzM/MToyKTthPWUuYW5nbGUtTWF0aC5QSS8yLHQubW92ZVRvKHMsbCksdC5saW5lVG8oZS54K24oYSkqbyxlLnkraShhKSpvKSx0LmxpbmVUbyhlLngrbihlLmFuZ2xlKSpyLGUueStpKGUuYW5nbGUpKnIpLHQubGluZVRvKGUueC1uKGEpKm8sZS55LWkoYSkqbyksdC5saW5lVG8ocyxsKX0sZX0oWmEpO2Z1bmN0aW9uIExDKHQsZSl7dmFyIG49bnVsbD09dD9cIlwiOnQrXCJcIjtyZXR1cm4gZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP249ZS5yZXBsYWNlKFwie3ZhbHVlfVwiLG4pOlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihuPWUodCkpKSxufXZhciBrQz0yKk1hdGguUEksUEM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBpPXQuZ2V0KFtcImF4aXNMaW5lXCIsXCJsaW5lU3R5bGVcIixcImNvbG9yXCJdKSxyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoXCJjZW50ZXJcIiksaT1lLmdldFdpZHRoKCkscj1lLmdldEhlaWdodCgpLG89TWF0aC5taW4oaSxyKTtyZXR1cm57Y3g6WmkoblswXSxlLmdldFdpZHRoKCkpLGN5OlppKG5bMV0sZS5nZXRIZWlnaHQoKSkscjpaaSh0LmdldChcInJhZGl1c1wiKSxvLzIpfX0odCxuKTt0aGlzLl9yZW5kZXJNYWluKHQsZSxuLGksciksdGhpcy5fZGF0YT10LmdldERhdGEoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3JlbmRlck1haW49ZnVuY3Rpb24odCxlLG4saSxyKXtmb3IodmFyIG89dGhpcy5ncm91cCxhPXQuZ2V0KFwiY2xvY2t3aXNlXCIpLHM9LXQuZ2V0KFwic3RhcnRBbmdsZVwiKS8xODAqTWF0aC5QSSxsPS10LmdldChcImVuZEFuZ2xlXCIpLzE4MCpNYXRoLlBJLHU9dC5nZXRNb2RlbChcImF4aXNMaW5lXCIpLGg9dS5nZXQoXCJyb3VuZENhcFwiKT9hdzpXbCxjPXUuZ2V0KFwic2hvd1wiKSxwPXUuZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIiksZD1wLmdldChcIndpZHRoXCIpLGY9KGwtcykla0N8fGw9PT1zPyhsLXMpJWtDOmtDLGc9cyx5PTA7YyYmeTxpLmxlbmd0aDt5Kyspe3ZhciB2PW5ldyBoKHtzaGFwZTp7c3RhcnRBbmdsZTpnLGVuZEFuZ2xlOmw9cytmKk1hdGgubWluKE1hdGgubWF4KGlbeV1bMF0sMCksMSksY3g6ci5jeCxjeTpyLmN5LGNsb2Nrd2lzZTphLHIwOnIuci1kLHI6ci5yfSxzaWxlbnQ6ITB9KTt2LnNldFN0eWxlKHtmaWxsOmlbeV1bMV19KSx2LnNldFN0eWxlKHAuZ2V0TGluZVN0eWxlKFtcImNvbG9yXCIsXCJ3aWR0aFwiXSkpLG8uYWRkKHYpLGc9bH12YXIgbT1mdW5jdGlvbih0KXtpZih0PD0wKXJldHVybiBpWzBdWzFdO3ZhciBlO2ZvcihlPTA7ZTxpLmxlbmd0aDtlKyspaWYoaVtlXVswXT49dCYmKDA9PT1lPzA6aVtlLTFdWzBdKTx0KXJldHVybiBpW2VdWzFdO3JldHVybiBpW2UtMV1bMV19O2lmKCFhKXt2YXIgXz1zO3M9bCxsPV99dGhpcy5fcmVuZGVyVGlja3ModCxlLG4sbSxyLHMsbCxhLGQpLHRoaXMuX3JlbmRlclRpdGxlQW5kRGV0YWlsKHQsZSxuLG0sciksdGhpcy5fcmVuZGVyQW5jaG9yKHQsciksdGhpcy5fcmVuZGVyUG9pbnRlcih0LGUsbixtLHIscyxsLGEsZCl9LGUucHJvdG90eXBlLl9yZW5kZXJUaWNrcz1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7Zm9yKHZhciB1LGgsYz10aGlzLmdyb3VwLHA9ci5jeCxkPXIuY3ksZj1yLnIsZz0rdC5nZXQoXCJtaW5cIikseT0rdC5nZXQoXCJtYXhcIiksdj10LmdldE1vZGVsKFwic3BsaXRMaW5lXCIpLG09dC5nZXRNb2RlbChcImF4aXNUaWNrXCIpLF89dC5nZXRNb2RlbChcImF4aXNMYWJlbFwiKSx4PXQuZ2V0KFwic3BsaXROdW1iZXJcIiksYj1tLmdldChcInNwbGl0TnVtYmVyXCIpLHc9Wmkodi5nZXQoXCJsZW5ndGhcIiksZiksUz1aaShtLmdldChcImxlbmd0aFwiKSxmKSxNPW8sST0oYS1vKS94LFQ9SS9iLEM9di5nZXRNb2RlbChcImxpbmVTdHlsZVwiKS5nZXRMaW5lU3R5bGUoKSxBPW0uZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIikuZ2V0TGluZVN0eWxlKCksRD12LmdldChcImRpc3RhbmNlXCIpLEw9MDtMPD14O0wrKyl7aWYodT1NYXRoLmNvcyhNKSxoPU1hdGguc2luKE0pLHYuZ2V0KFwic2hvd1wiKSl7dmFyIGs9bmV3IHR1KHtzaGFwZTp7eDE6dSooZi0oUD1EP0QrbDpsKSkrcCx5MTpoKihmLVApK2QseDI6dSooZi13LVApK3AseTI6aCooZi13LVApK2R9LHN0eWxlOkMsc2lsZW50OiEwfSk7XCJhdXRvXCI9PT1DLnN0cm9rZSYmay5zZXRTdHlsZSh7c3Ryb2tlOmkoTC94KX0pLGMuYWRkKGspfWlmKF8uZ2V0KFwic2hvd1wiKSl7dmFyIFA9Xy5nZXQoXCJkaXN0YW5jZVwiKStELE89TEMoamkoTC94Kih5LWcpK2cpLF8uZ2V0KFwiZm9ybWF0dGVyXCIpKSxSPWkoTC94KTtjLmFkZChuZXcgbHMoe3N0eWxlOm5oKF8se3RleHQ6Tyx4OnUqKGYtdy1QKStwLHk6aCooZi13LVApK2QsdmVydGljYWxBbGlnbjpoPC0uOD9cInRvcFwiOmg+Ljg/XCJib3R0b21cIjpcIm1pZGRsZVwiLGFsaWduOnU8LS40P1wibGVmdFwiOnU+LjQ/XCJyaWdodFwiOlwiY2VudGVyXCJ9LHtpbmhlcml0Q29sb3I6Un0pLHNpbGVudDohMH0pKX1pZihtLmdldChcInNob3dcIikmJkwhPT14KXtQPShQPW0uZ2V0KFwiZGlzdGFuY2VcIikpP1ArbDpsO2Zvcih2YXIgTj0wO048PWI7TisrKXt1PU1hdGguY29zKE0pLGg9TWF0aC5zaW4oTSk7dmFyIEU9bmV3IHR1KHtzaGFwZTp7eDE6dSooZi1QKStwLHkxOmgqKGYtUCkrZCx4Mjp1KihmLVMtUCkrcCx5MjpoKihmLVMtUCkrZH0sc2lsZW50OiEwLHN0eWxlOkF9KTtcImF1dG9cIj09PUEuc3Ryb2tlJiZFLnNldFN0eWxlKHtzdHJva2U6aSgoTCtOL2IpL3gpfSksYy5hZGQoRSksTSs9VH1NLT1UfWVsc2UgTSs9SX19LGUucHJvdG90eXBlLl9yZW5kZXJQb2ludGVyPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXt2YXIgdT10aGlzLmdyb3VwLGg9dGhpcy5fZGF0YSxjPXRoaXMuX3Byb2dyZXNzRWxzLHA9W10sZD10LmdldChbXCJwb2ludGVyXCIsXCJzaG93XCJdKSxmPXQuZ2V0TW9kZWwoXCJwcm9ncmVzc1wiKSxnPWYuZ2V0KFwic2hvd1wiKSx5PXQuZ2V0RGF0YSgpLHY9eS5tYXBEaW1lbnNpb24oXCJ2YWx1ZVwiKSxtPSt0LmdldChcIm1pblwiKSxfPSt0LmdldChcIm1heFwiKSx4PVttLF9dLGI9W28sYV07ZnVuY3Rpb24gdyhlLG4pe3ZhciBpLG89eS5nZXRJdGVtTW9kZWwoZSkuZ2V0TW9kZWwoXCJwb2ludGVyXCIpLGE9Wmkoby5nZXQoXCJ3aWR0aFwiKSxyLnIpLHM9Wmkoby5nZXQoXCJsZW5ndGhcIiksci5yKSxsPXQuZ2V0KFtcInBvaW50ZXJcIixcImljb25cIl0pLHU9by5nZXQoXCJvZmZzZXRDZW50ZXJcIiksaD1aaSh1WzBdLHIuciksYz1aaSh1WzFdLHIucikscD1vLmdldChcImtlZXBBc3BlY3RcIik7cmV0dXJuKGk9bD91eShsLGgtYS8yLGMtcyxhLHMsbnVsbCxwKTpuZXcgREMoe3NoYXBlOnthbmdsZTotTWF0aC5QSS8yLHdpZHRoOmEscjpzLHg6aCx5OmN9fSkpLnJvdGF0aW9uPS0obitNYXRoLlBJLzIpLGkueD1yLmN4LGkueT1yLmN5LGl9ZnVuY3Rpb24gUyh0LGUpe3ZhciBuPWYuZ2V0KFwicm91bmRDYXBcIik/YXc6V2wsaT1mLmdldChcIm92ZXJsYXBcIiksYT1pP2YuZ2V0KFwid2lkdGhcIik6bC95LmNvdW50KCksdT1pP3Iuci1hOnIuci0odCsxKSphLGg9aT9yLnI6ci5yLXQqYSxjPW5ldyBuKHtzaGFwZTp7c3RhcnRBbmdsZTpvLGVuZEFuZ2xlOmUsY3g6ci5jeCxjeTpyLmN5LGNsb2Nrd2lzZTpzLHIwOnUscjpofX0pO3JldHVybiBpJiYoYy56Mj1fLXkuZ2V0KHYsdCklXyksY30oZ3x8ZCkmJih5LmRpZmYoaCkuYWRkKChmdW5jdGlvbihlKXtpZihkKXt2YXIgbj13KGUsbyk7UnUobix7cm90YXRpb246LShVaSh5LmdldCh2LGUpLHgsYiwhMCkrTWF0aC5QSS8yKX0sdCksdS5hZGQobikseS5zZXRJdGVtR3JhcGhpY0VsKGUsbil9aWYoZyl7dmFyIGk9UyhlLG8pLHI9Zi5nZXQoXCJjbGlwXCIpO1J1KGkse3NoYXBlOntlbmRBbmdsZTpVaSh5LmdldCh2LGUpLHgsYixyKX19LHQpLHUuYWRkKGkpLHBbZV09aX19KSkudXBkYXRlKChmdW5jdGlvbihlLG4pe2lmKGQpe3ZhciBpPWguZ2V0SXRlbUdyYXBoaWNFbChuKSxyPWk/aS5yb3RhdGlvbjpvLGE9dyhlLHIpO2Eucm90YXRpb249cixPdShhLHtyb3RhdGlvbjotKFVpKHkuZ2V0KHYsZSkseCxiLCEwKStNYXRoLlBJLzIpfSx0KSx1LmFkZChhKSx5LnNldEl0ZW1HcmFwaGljRWwoZSxhKX1pZihnKXt2YXIgcz1jW25dLGw9UyhlLHM/cy5zaGFwZS5lbmRBbmdsZTpvKSxtPWYuZ2V0KFwiY2xpcFwiKTtPdShsLHtzaGFwZTp7ZW5kQW5nbGU6VWkoeS5nZXQodixlKSx4LGIsbSl9fSx0KSx1LmFkZChsKSxwW2VdPWx9fSkpLmV4ZWN1dGUoKSx5LmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXkuZ2V0SXRlbU1vZGVsKHQpLG49ZS5nZXRNb2RlbChcImVtcGhhc2lzXCIpO2lmKGQpe3ZhciByPXkuZ2V0SXRlbUdyYXBoaWNFbCh0KTtyLnVzZVN0eWxlKHkuZ2V0SXRlbVZpc3VhbCh0LFwic3R5bGVcIikpLHIuc2V0U3R5bGUoZS5nZXRNb2RlbChbXCJwb2ludGVyXCIsXCJpdGVtU3R5bGVcIl0pLmdldEl0ZW1TdHlsZSgpKSxcImF1dG9cIj09PXIuc3R5bGUuZmlsbCYmci5zZXRTdHlsZShcImZpbGxcIixpKFVpKHkuZ2V0KHYsdCkseCxbMCwxXSwhMCkpKSxyLnoyRW1waGFzaXNMaWZ0PTAsbmwocixlKSxKcyhyLG4uZ2V0KFwiZm9jdXNcIiksbi5nZXQoXCJibHVyU2NvcGVcIikpfWlmKGcpe3ZhciBvPXBbdF07by51c2VTdHlsZSh5LmdldEl0ZW1WaXN1YWwodCxcInN0eWxlXCIpKSxvLnNldFN0eWxlKGUuZ2V0TW9kZWwoW1wicHJvZ3Jlc3NcIixcIml0ZW1TdHlsZVwiXSkuZ2V0SXRlbVN0eWxlKCkpLG8uejJFbXBoYXNpc0xpZnQ9MCxubChvLGUpLEpzKG8sbi5nZXQoXCJmb2N1c1wiKSxuLmdldChcImJsdXJTY29wZVwiKSl9fSkpLHRoaXMuX3Byb2dyZXNzRWxzPXApfSxlLnByb3RvdHlwZS5fcmVuZGVyQW5jaG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRNb2RlbChcImFuY2hvclwiKTtpZihuLmdldChcInNob3dcIikpe3ZhciBpPW4uZ2V0KFwic2l6ZVwiKSxyPW4uZ2V0KFwiaWNvblwiKSxvPW4uZ2V0KFwib2Zmc2V0Q2VudGVyXCIpLGE9bi5nZXQoXCJrZWVwQXNwZWN0XCIpLHM9dXkocixlLmN4LWkvMitaaShvWzBdLGUuciksZS5jeS1pLzIrWmkob1sxXSxlLnIpLGksaSxudWxsLGEpO3MuejI9bi5nZXQoXCJzaG93QWJvdmVcIik/MTowLHMuc2V0U3R5bGUobi5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSksdGhpcy5ncm91cC5hZGQocyl9fSxlLnByb3RvdHlwZS5fcmVuZGVyVGl0bGVBbmREZXRhaWw9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10aGlzLGE9dC5nZXREYXRhKCkscz1hLm1hcERpbWVuc2lvbihcInZhbHVlXCIpLGw9K3QuZ2V0KFwibWluXCIpLHU9K3QuZ2V0KFwibWF4XCIpLGg9bmV3IHppLGM9W10scD1bXSxkPXQuaXNBbmltYXRpb25FbmFibGVkKCk7YS5kaWZmKHRoaXMuX2RhdGEpLmFkZCgoZnVuY3Rpb24odCl7Y1t0XT1uZXcgbHMoe3NpbGVudDohMH0pLHBbdF09bmV3IGxzKHtzaWxlbnQ6ITB9KX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsZSl7Y1t0XT1vLl90aXRsZUVsc1tlXSxwW3RdPW8uX2RldGFpbEVsc1tlXX0pKS5leGVjdXRlKCksYS5lYWNoKChmdW5jdGlvbihlKXt2YXIgbj1hLmdldEl0ZW1Nb2RlbChlKSxvPWEuZ2V0KHMsZSksZj1uZXcgemksZz1pKFVpKG8sW2wsdV0sWzAsMV0sITApKSx5PW4uZ2V0TW9kZWwoXCJ0aXRsZVwiKTtpZih5LmdldChcInNob3dcIikpe3ZhciB2PXkuZ2V0KFwib2Zmc2V0Q2VudGVyXCIpLG09ci5jeCtaaSh2WzBdLHIuciksXz1yLmN5K1ppKHZbMV0sci5yKTsoQz1jW2VdKS5hdHRyKHtzdHlsZTpuaCh5LHt4Om0seTpfLHRleHQ6YS5nZXROYW1lKGUpLGFsaWduOlwiY2VudGVyXCIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwifSx7aW5oZXJpdENvbG9yOmd9KX0pLGYuYWRkKEMpfXZhciB4PW4uZ2V0TW9kZWwoXCJkZXRhaWxcIik7aWYoeC5nZXQoXCJzaG93XCIpKXt2YXIgYj14LmdldChcIm9mZnNldENlbnRlclwiKSx3PXIuY3grWmkoYlswXSxyLnIpLFM9ci5jeStaaShiWzFdLHIuciksTT1aaSh4LmdldChcIndpZHRoXCIpLHIuciksST1aaSh4LmdldChcImhlaWdodFwiKSxyLnIpLFQ9dC5nZXQoW1wicHJvZ3Jlc3NcIixcInNob3dcIl0pP2EuZ2V0SXRlbVZpc3VhbChlLFwic3R5bGVcIikuZmlsbDpnLEM9cFtlXSxBPXguZ2V0KFwiZm9ybWF0dGVyXCIpO0MuYXR0cih7c3R5bGU6bmgoeCx7eDp3LHk6Uyx0ZXh0OkxDKG8sQSksd2lkdGg6aXNOYU4oTSk/bnVsbDpNLGhlaWdodDppc05hTihJKT9udWxsOkksYWxpZ246XCJjZW50ZXJcIix2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCJ9LHtpbmhlcml0Q29sb3I6VH0pfSksaGgoQyx7bm9ybWFsOnh9LG8sKGZ1bmN0aW9uKHQpe3JldHVybiBMQyh0LEEpfSkpLGQmJmNoKEMsZSxhLHQse2dldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKHQsZSxuLGkscixhKXtyZXR1cm4gTEMoYT9hLmludGVycG9sYXRlZFZhbHVlOm8sQSl9fSksZi5hZGQoQyl9aC5hZGQoZil9KSksdGhpcy5ncm91cC5hZGQoaCksdGhpcy5fdGl0bGVFbHM9Yyx0aGlzLl9kZXRhaWxFbHM9cH0sZS50eXBlPVwiZ2F1Z2VcIixlfSh5ZiksT0M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD1cIml0ZW1TdHlsZVwiLG4udXNlQ29sb3JQYWxldHRlT25EYXRhPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBSdyh0aGlzLFtcInZhbHVlXCJdKX0sZS50eXBlPVwic2VyaWVzLmdhdWdlXCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY2VudGVyOltcIjUwJVwiLFwiNTAlXCJdLGxlZ2VuZEhvdmVyTGluazohMCxyYWRpdXM6XCI3NSVcIixzdGFydEFuZ2xlOjIyNSxlbmRBbmdsZTotNDUsY2xvY2t3aXNlOiEwLG1pbjowLG1heDoxMDAsc3BsaXROdW1iZXI6MTAsYXhpc0xpbmU6e3Nob3c6ITAscm91bmRDYXA6ITEsbGluZVN0eWxlOntjb2xvcjpbWzEsXCIjRTZFQkY4XCJdXSx3aWR0aDoxMH19LHByb2dyZXNzOntzaG93OiExLG92ZXJsYXA6ITAsd2lkdGg6MTAscm91bmRDYXA6ITEsY2xpcDohMH0sc3BsaXRMaW5lOntzaG93OiEwLGxlbmd0aDoxMCxkaXN0YW5jZToxMCxsaW5lU3R5bGU6e2NvbG9yOlwiIzYzNjc3QVwiLHdpZHRoOjMsdHlwZTpcInNvbGlkXCJ9fSxheGlzVGljazp7c2hvdzohMCxzcGxpdE51bWJlcjo1LGxlbmd0aDo2LGRpc3RhbmNlOjEwLGxpbmVTdHlsZTp7Y29sb3I6XCIjNjM2NzdBXCIsd2lkdGg6MSx0eXBlOlwic29saWRcIn19LGF4aXNMYWJlbDp7c2hvdzohMCxkaXN0YW5jZToxNSxjb2xvcjpcIiM0NjQ2NDZcIixmb250U2l6ZToxMn0scG9pbnRlcjp7aWNvbjpudWxsLG9mZnNldENlbnRlcjpbMCwwXSxzaG93OiEwLGxlbmd0aDpcIjYwJVwiLHdpZHRoOjYsa2VlcEFzcGVjdDohMX0sYW5jaG9yOntzaG93OiExLHNob3dBYm92ZTohMSxzaXplOjYsaWNvbjpcImNpcmNsZVwiLG9mZnNldENlbnRlcjpbMCwwXSxrZWVwQXNwZWN0OiExLGl0ZW1TdHlsZTp7Y29sb3I6XCIjZmZmXCIsYm9yZGVyV2lkdGg6MCxib3JkZXJDb2xvcjpcIiM1NDcwYzZcIn19LHRpdGxlOntzaG93OiEwLG9mZnNldENlbnRlcjpbMCxcIjIwJVwiXSxjb2xvcjpcIiM0NjQ2NDZcIixmb250U2l6ZToxNix2YWx1ZUFuaW1hdGlvbjohMX0sZGV0YWlsOntzaG93OiEwLGJhY2tncm91bmRDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJXaWR0aDowLGJvcmRlckNvbG9yOlwiI2NjY1wiLHdpZHRoOjEwMCxoZWlnaHQ6bnVsbCxwYWRkaW5nOls1LDEwXSxvZmZzZXRDZW50ZXI6WzAsXCI0MCVcIl0sY29sb3I6XCIjNDY0NjQ2XCIsZm9udFNpemU6MzAsZm9udFdlaWdodDpcImJvbGRcIixsaW5lSGVpZ2h0OjMwLHZhbHVlQW5pbWF0aW9uOiExfX0sZX0ocmYpO3ZhciBSQz1bXCJpdGVtU3R5bGVcIixcIm9wYWNpdHlcIl0sTkM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcyxyPWksbz1uZXcgJGwsYT1uZXcgbHM7cmV0dXJuIHIuc2V0VGV4dENvbnRlbnQoYSksaS5zZXRUZXh0R3VpZGVMaW5lKG8pLGkudXBkYXRlRGF0YShlLG4sITApLGl9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dC5ob3N0TW9kZWwsbz10LmdldEl0ZW1Nb2RlbChlKSxhPXQuZ2V0SXRlbUxheW91dChlKSxzPW8uZ2V0TW9kZWwoXCJlbXBoYXNpc1wiKSxsPW8uZ2V0KFJDKTtsPW51bGw9PWw/MTpsLGkudXNlU3R5bGUodC5nZXRJdGVtVmlzdWFsKGUsXCJzdHlsZVwiKSksaS5zdHlsZS5saW5lSm9pbj1cInJvdW5kXCIsbj8oaS5zZXRTaGFwZSh7cG9pbnRzOmEucG9pbnRzfSksaS5zdHlsZS5vcGFjaXR5PTAsUnUoaSx7c3R5bGU6e29wYWNpdHk6bH19LHIsZSkpOk91KGkse3N0eWxlOntvcGFjaXR5Omx9LHNoYXBlOntwb2ludHM6YS5wb2ludHN9fSxyLGUpLG5sKGksbyksdGhpcy5fdXBkYXRlTGFiZWwodCxlKSxKcyh0aGlzLHMuZ2V0KFwiZm9jdXNcIikscy5nZXQoXCJibHVyU2NvcGVcIikpfSxlLnByb3RvdHlwZS5fdXBkYXRlTGFiZWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dGhpcy5nZXRUZXh0R3VpZGVMaW5lKCkscj1uLmdldFRleHRDb250ZW50KCksbz10Lmhvc3RNb2RlbCxhPXQuZ2V0SXRlbU1vZGVsKGUpLHM9dC5nZXRJdGVtTGF5b3V0KGUpLmxhYmVsLGw9dC5nZXRJdGVtVmlzdWFsKGUsXCJzdHlsZVwiKSx1PWwuZmlsbDt0aChyLGVoKGEpLHtsYWJlbEZldGNoZXI6dC5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6ZSxkZWZhdWx0T3BhY2l0eTpsLm9wYWNpdHksZGVmYXVsdFRleHQ6dC5nZXROYW1lKGUpfSx7bm9ybWFsOnthbGlnbjpzLnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnMudmVydGljYWxBbGlnbn19KSxuLnNldFRleHRDb25maWcoe2xvY2FsOiEwLGluc2lkZTohIXMuaW5zaWRlLGluc2lkZVN0cm9rZTp1LG91dHNpZGVGaWxsOnV9KTt2YXIgaD1zLmxpbmVQb2ludHM7aS5zZXRTaGFwZSh7cG9pbnRzOmh9KSxuLnRleHRHdWlkZUxpbmVDb25maWc9e2FuY2hvcjpoP25ldyBJbihoWzBdWzBdLGhbMF1bMV0pOm51bGx9LE91KHIse3N0eWxlOnt4OnMueCx5OnMueX19LG8sZSksci5hdHRyKHtyb3RhdGlvbjpzLnJvdGF0aW9uLG9yaWdpblg6cy54LG9yaWdpblk6cy55LHoyOjEwfSksemcobixCZyhhKSx7c3Ryb2tlOnV9KX0sZX0ocWwpLEVDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5pZ25vcmVMYWJlbExpbmVVcGRhdGU9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10aGlzLl9kYXRhLG89dGhpcy5ncm91cDtpLmRpZmYocikuYWRkKChmdW5jdGlvbih0KXt2YXIgZT1uZXcgTkMoaSx0KTtpLnNldEl0ZW1HcmFwaGljRWwodCxlKSxvLmFkZChlKX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ci5nZXRJdGVtR3JhcGhpY0VsKGUpO24udXBkYXRlRGF0YShpLHQpLG8uYWRkKG4pLGkuc2V0SXRlbUdyYXBoaWNFbCh0LG4pfSkpLnJlbW92ZSgoZnVuY3Rpb24oZSl7enUoci5nZXRJdGVtR3JhcGhpY0VsKGUpLHQsZSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9aX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUudHlwZT1cImZ1bm5lbFwiLGV9KHlmKSx6Qz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4udXNlQ29sb3JQYWxldHRlT25EYXRhPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IE53KEIodGhpcy5nZXREYXRhLHRoaXMpLEIodGhpcy5nZXRSYXdEYXRhLHRoaXMpKSx0aGlzLl9kZWZhdWx0TGFiZWxMaW5lKGUpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBSdyh0aGlzLHtjb29yZERpbWVuc2lvbnM6W1widmFsdWVcIl0sZW5jb2RlRGVmYXVsdGVyOlYoUWMsdGhpcyl9KX0sZS5wcm90b3R5cGUuX2RlZmF1bHRMYWJlbExpbmU9ZnVuY3Rpb24odCl7eHIodCxcImxhYmVsTGluZVwiLFtcInNob3dcIl0pO3ZhciBlPXQubGFiZWxMaW5lLG49dC5lbXBoYXNpcy5sYWJlbExpbmU7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5zaG93LG4uc2hvdz1uLnNob3cmJnQuZW1waGFzaXMubGFiZWwuc2hvd30sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldERhdGEoKSxpPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUpLHI9bi5tYXBEaW1lbnNpb24oXCJ2YWx1ZVwiKSxvPW4uZ2V0U3VtKHIpO3JldHVybiBpLnBlcmNlbnQ9bz8rKG4uZ2V0KHIsZSkvbyoxMDApLnRvRml4ZWQoMik6MCxpLiR2YXJzLnB1c2goXCJwZXJjZW50XCIpLGl9LGUudHlwZT1cInNlcmllcy5mdW5uZWxcIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLG1pblNpemU6XCIwJVwiLG1heFNpemU6XCIxMDAlXCIsc29ydDpcImRlc2NlbmRpbmdcIixvcmllbnQ6XCJ2ZXJ0aWNhbFwiLGdhcDowLGZ1bm5lbEFsaWduOlwiY2VudGVyXCIsbGFiZWw6e3Nob3c6ITAscG9zaXRpb246XCJvdXRlclwifSxsYWJlbExpbmU6e3Nob3c6ITAsbGVuZ3RoOjIwLGxpbmVTdHlsZTp7d2lkdGg6MX19LGl0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6XCIjZmZmXCIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX0sc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOlwiIzIxMjEyMVwifX19LGV9KHJmKTtmdW5jdGlvbiBCQyh0LGUpe3QuZWFjaFNlcmllc0J5VHlwZShcImZ1bm5lbFwiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldERhdGEoKSxpPW4ubWFwRGltZW5zaW9uKFwidmFsdWVcIikscj10LmdldChcInNvcnRcIiksbz1mdW5jdGlvbih0LGUpe3JldHVybiBBYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX0odCxlKSxhPXQuZ2V0KFwib3JpZW50XCIpLHM9by53aWR0aCxsPW8uaGVpZ2h0LHU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5tYXBEaW1lbnNpb24oXCJ2YWx1ZVwiKSxpPXQubWFwQXJyYXkobiwoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkscj1bXSxvPVwiYXNjZW5kaW5nXCI9PT1lLGE9MCxzPXQuY291bnQoKTthPHM7YSsrKXJbYV09YTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3Iuc29ydChlKTpcIm5vbmVcIiE9PWUmJnIuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbz9pW3RdLWlbZV06aVtlXS1pW3RdfSkpLHJ9KG4sciksaD1vLngsYz1vLnkscD1cImhvcml6b250YWxcIj09PWE/W1ppKHQuZ2V0KFwibWluU2l6ZVwiKSxsKSxaaSh0LmdldChcIm1heFNpemVcIiksbCldOltaaSh0LmdldChcIm1pblNpemVcIikscyksWmkodC5nZXQoXCJtYXhTaXplXCIpLHMpXSxkPW4uZ2V0RGF0YUV4dGVudChpKSxmPXQuZ2V0KFwibWluXCIpLGc9dC5nZXQoXCJtYXhcIik7bnVsbD09ZiYmKGY9TWF0aC5taW4oZFswXSwwKSksbnVsbD09ZyYmKGc9ZFsxXSk7dmFyIHk9dC5nZXQoXCJmdW5uZWxBbGlnblwiKSx2PXQuZ2V0KFwiZ2FwXCIpLG09KChcImhvcml6b250YWxcIj09PWE/czpsKS12KihuLmNvdW50KCktMSkpL24uY291bnQoKSxfPWZ1bmN0aW9uKHQsZSl7aWYoXCJob3Jpem9udGFsXCI9PT1hKXt2YXIgcj1VaShuLmdldChpLHQpfHwwLFtmLGddLHAsITApLG89dm9pZCAwO3N3aXRjaCh5KXtjYXNlXCJ0b3BcIjpvPWM7YnJlYWs7Y2FzZVwiY2VudGVyXCI6bz1jKyhsLXIpLzI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6bz1jKyhsLXIpfXJldHVybltbZSxvXSxbZSxvK3JdXX12YXIgdSxkPVVpKG4uZ2V0KGksdCl8fDAsW2YsZ10scCwhMCk7c3dpdGNoKHkpe2Nhc2VcImxlZnRcIjp1PWg7YnJlYWs7Y2FzZVwiY2VudGVyXCI6dT1oKyhzLWQpLzI7YnJlYWs7Y2FzZVwicmlnaHRcIjp1PWgrcy1kfXJldHVybltbdSxlXSxbdStkLGVdXX07XCJhc2NlbmRpbmdcIj09PXImJihtPS1tLHY9LXYsXCJob3Jpem9udGFsXCI9PT1hP2grPXM6Yys9bCx1PXUucmV2ZXJzZSgpKTtmb3IodmFyIHg9MDt4PHUubGVuZ3RoO3grKyl7dmFyIGI9dVt4XSx3PXVbeCsxXSxTPW4uZ2V0SXRlbU1vZGVsKGIpO2lmKFwiaG9yaXpvbnRhbFwiPT09YSl7dmFyIE09Uy5nZXQoW1wiaXRlbVN0eWxlXCIsXCJ3aWR0aFwiXSk7bnVsbD09TT9NPW06KE09WmkoTSxzKSxcImFzY2VuZGluZ1wiPT09ciYmKE09LU0pKTt2YXIgST1fKGIsaCksVD1fKHcsaCtNKTtoKz1NK3Ysbi5zZXRJdGVtTGF5b3V0KGIse3BvaW50czpJLmNvbmNhdChULnNsaWNlKCkucmV2ZXJzZSgpKX0pfWVsc2V7dmFyIEM9Uy5nZXQoW1wiaXRlbVN0eWxlXCIsXCJoZWlnaHRcIl0pO251bGw9PUM/Qz1tOihDPVppKEMsbCksXCJhc2NlbmRpbmdcIj09PXImJihDPS1DKSk7ST1fKGIsYyksVD1fKHcsYytDKTtjKz1DK3Ysbi5zZXRJdGVtTGF5b3V0KGIse3BvaW50czpJLmNvbmNhdChULnNsaWNlKCkucmV2ZXJzZSgpKX0pfX0hZnVuY3Rpb24odCl7dmFyIGU9dC5ob3N0TW9kZWwuZ2V0KFwib3JpZW50XCIpO3QuZWFjaCgoZnVuY3Rpb24obil7dmFyIGkscixvLGEscz10LmdldEl0ZW1Nb2RlbChuKSxsPXMuZ2V0TW9kZWwoXCJsYWJlbFwiKS5nZXQoXCJwb3NpdGlvblwiKSx1PXMuZ2V0TW9kZWwoXCJsYWJlbExpbmVcIiksaD10LmdldEl0ZW1MYXlvdXQobiksYz1oLnBvaW50cyxwPVwiaW5uZXJcIj09PWx8fFwiaW5zaWRlXCI9PT1sfHxcImNlbnRlclwiPT09bHx8XCJpbnNpZGVMZWZ0XCI9PT1sfHxcImluc2lkZVJpZ2h0XCI9PT1sO2lmKHApXCJpbnNpZGVMZWZ0XCI9PT1sPyhyPShjWzBdWzBdK2NbM11bMF0pLzIrNSxvPShjWzBdWzFdK2NbM11bMV0pLzIsaT1cImxlZnRcIik6XCJpbnNpZGVSaWdodFwiPT09bD8ocj0oY1sxXVswXStjWzJdWzBdKS8yLTUsbz0oY1sxXVsxXStjWzJdWzFdKS8yLGk9XCJyaWdodFwiKToocj0oY1swXVswXStjWzFdWzBdK2NbMl1bMF0rY1szXVswXSkvNCxvPShjWzBdWzFdK2NbMV1bMV0rY1syXVsxXStjWzNdWzFdKS80LGk9XCJjZW50ZXJcIiksYT1bW3Isb10sW3Isb11dO2Vsc2V7dmFyIGQ9dm9pZCAwLGY9dm9pZCAwLGc9dm9pZCAwLHk9dm9pZCAwLHY9dS5nZXQoXCJsZW5ndGhcIik7XCJsZWZ0XCI9PT1sPyhkPShjWzNdWzBdK2NbMF1bMF0pLzIsZj0oY1szXVsxXStjWzBdWzFdKS8yLHI9KGc9ZC12KS01LGk9XCJyaWdodFwiKTpcInJpZ2h0XCI9PT1sPyhkPShjWzFdWzBdK2NbMl1bMF0pLzIsZj0oY1sxXVsxXStjWzJdWzFdKS8yLHI9KGc9ZCt2KSs1LGk9XCJsZWZ0XCIpOlwidG9wXCI9PT1sPyhkPShjWzNdWzBdK2NbMF1bMF0pLzIsbz0oeT0oZj0oY1szXVsxXStjWzBdWzFdKS8yKS12KS01LGk9XCJjZW50ZXJcIik6XCJib3R0b21cIj09PWw/KGQ9KGNbMV1bMF0rY1syXVswXSkvMixvPSh5PShmPShjWzFdWzFdK2NbMl1bMV0pLzIpK3YpKzUsaT1cImNlbnRlclwiKTpcInJpZ2h0VG9wXCI9PT1sPyhkPVwiaG9yaXpvbnRhbFwiPT09ZT9jWzNdWzBdOmNbMV1bMF0sZj1cImhvcml6b250YWxcIj09PWU/Y1szXVsxXTpjWzFdWzFdLFwiaG9yaXpvbnRhbFwiPT09ZT8obz0oeT1mLXYpLTUsaT1cImNlbnRlclwiKToocj0oZz1kK3YpKzUsaT1cInRvcFwiKSk6XCJyaWdodEJvdHRvbVwiPT09bD8oZD1jWzJdWzBdLGY9Y1syXVsxXSxcImhvcml6b250YWxcIj09PWU/KG89KHk9Zit2KSs1LGk9XCJjZW50ZXJcIik6KHI9KGc9ZCt2KSs1LGk9XCJib3R0b21cIikpOlwibGVmdFRvcFwiPT09bD8oZD1jWzBdWzBdLGY9XCJob3Jpem9udGFsXCI9PT1lP2NbMF1bMV06Y1sxXVsxXSxcImhvcml6b250YWxcIj09PWU/KG89KHk9Zi12KS01LGk9XCJjZW50ZXJcIik6KHI9KGc9ZC12KS01LGk9XCJyaWdodFwiKSk6XCJsZWZ0Qm90dG9tXCI9PT1sPyhkPVwiaG9yaXpvbnRhbFwiPT09ZT9jWzFdWzBdOmNbM11bMF0sZj1cImhvcml6b250YWxcIj09PWU/Y1sxXVsxXTpjWzJdWzFdLFwiaG9yaXpvbnRhbFwiPT09ZT8obz0oeT1mK3YpKzUsaT1cImNlbnRlclwiKToocj0oZz1kLXYpLTUsaT1cInJpZ2h0XCIpKTooZD0oY1sxXVswXStjWzJdWzBdKS8yLGY9KGNbMV1bMV0rY1syXVsxXSkvMixcImhvcml6b250YWxcIj09PWU/KG89KHk9Zit2KSs1LGk9XCJjZW50ZXJcIik6KHI9KGc9ZCt2KSs1LGk9XCJsZWZ0XCIpKSxcImhvcml6b250YWxcIj09PWU/cj1nPWQ6bz15PWYsYT1bW2QsZl0sW2cseV1dfWgubGFiZWw9e2xpbmVQb2ludHM6YSx4OnIseTpvLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIix0ZXh0QWxpZ246aSxpbnNpZGU6cH19KSl9KG4pfSkpfXZhciBWQz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2RhdGFHcm91cD1uZXcgemksbi5faW5pdGlhbGl6ZWQ9ITEsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLmFkZCh0aGlzLl9kYXRhR3JvdXApfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5fZGF0YUdyb3VwLG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHM9dC5jb29yZGluYXRlU3lzdGVtLGw9cy5kaW1lbnNpb25zLHU9SEModCk7aWYoby5kaWZmKGEpLmFkZCgoZnVuY3Rpb24odCl7V0MoR0MobyxyLHQsbCxzKSxvLHQsdSl9KSkudXBkYXRlKChmdW5jdGlvbihlLG4pe3ZhciBpPWEuZ2V0SXRlbUdyYXBoaWNFbChuKSxyPUZDKG8sZSxsLHMpO28uc2V0SXRlbUdyYXBoaWNFbChlLGkpLE91KGkse3NoYXBlOntwb2ludHM6cn19LHQsZSksV0MoaSxvLGUsdSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1hLmdldEl0ZW1HcmFwaGljRWwodCk7ci5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLCF0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITA7dmFyIGg9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQubW9kZWwscj10LmdldFJlY3QoKSxvPW5ldyBvcyh7c2hhcGU6e3g6ci54LHk6ci55LHdpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fX0pLGE9XCJob3Jpem9udGFsXCI9PT1pLmdldChcImxheW91dFwiKT9cIndpZHRoXCI6XCJoZWlnaHRcIjtyZXR1cm4gby5zZXRTaGFwZShhLDApLFJ1KG8se3NoYXBlOnt3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH19LGUsbiksb30ocyx0LChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5yZW1vdmVDbGlwUGF0aCgpfSkpfSkpO3Iuc2V0Q2xpcFBhdGgoaCl9dGhpcy5fZGF0YT1vfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2luaXRpYWxpemVkPSEwLHRoaXMuX2RhdGE9bnVsbCx0aGlzLl9kYXRhR3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9ZS5nZXREYXRhKCkscj1lLmNvb3JkaW5hdGVTeXN0ZW0sbz1yLmRpbWVuc2lvbnMsYT1IQyhlKSxzPXQuc3RhcnQ7czx0LmVuZDtzKyspe3ZhciBsPUdDKGksdGhpcy5fZGF0YUdyb3VwLHMsbyxyKTtsLmluY3JlbWVudGFsPSEwLFdDKGwsaSxzLGEpfX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YUdyb3VwJiZ0aGlzLl9kYXRhR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnR5cGU9XCJwYXJhbGxlbFwiLGV9KHlmKTtmdW5jdGlvbiBGQyh0LGUsbixpKXtmb3IodmFyIHIsbz1bXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW5bYV0sbD10LmdldCh0Lm1hcERpbWVuc2lvbihzKSxlKTtyPWwsKFwiY2F0ZWdvcnlcIj09PWkuZ2V0QXhpcyhzKS50eXBlP251bGw9PXI6bnVsbD09cnx8aXNOYU4ocikpfHxvLnB1c2goaS5kYXRhVG9Qb2ludChsLHMpKX1yZXR1cm4gb31mdW5jdGlvbiBHQyh0LGUsbixpLHIpe3ZhciBvPUZDKHQsbixpLHIpLGE9bmV3ICRsKHtzaGFwZTp7cG9pbnRzOm99LHoyOjEwfSk7cmV0dXJuIGUuYWRkKGEpLHQuc2V0SXRlbUdyYXBoaWNFbChuLGEpLGF9ZnVuY3Rpb24gSEModCl7dmFyIGU9dC5nZXQoXCJzbW9vdGhcIiwhMCk7cmV0dXJuITA9PT1lJiYoZT0uMyksSihlPWhyKGUpKSYmKGU9MCkse3Ntb290aDplfX1mdW5jdGlvbiBXQyh0LGUsbixpKXt0LnVzZVN0eWxlKGUuZ2V0SXRlbVZpc3VhbChuLFwic3R5bGVcIikpLHQuc3R5bGUuZmlsbD1udWxsLHQuc2V0U2hhcGUoXCJzbW9vdGhcIixpLnNtb290aCk7dmFyIHI9ZS5nZXRJdGVtTW9kZWwobiksbz1yLmdldE1vZGVsKFwiZW1waGFzaXNcIik7bmwodCxyLFwibGluZVN0eWxlXCIpLEpzKHQsby5nZXQoXCJmb2N1c1wiKSxvLmdldChcImJsdXJTY29wZVwiKSl9dmFyIFlDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi52aXN1YWxTdHlsZUFjY2Vzc1BhdGg9XCJsaW5lU3R5bGVcIixuLnZpc3VhbERyYXdUeXBlPVwic3Ryb2tlXCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhtKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOkIoWEMsbnVsbCx0aGlzKX0pfSxlLnByb3RvdHlwZS5nZXRSYXdJbmRpY2VzQnlBY3RpdmVTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0sbj10aGlzLmdldERhdGEoKSxpPVtdO3JldHVybiBlLmVhY2hBY3RpdmVTdGF0ZShuLChmdW5jdGlvbihlLHIpe3Q9PT1lJiZpLnB1c2gobi5nZXRSYXdJbmRleChyKSl9KSksaX0sZS50eXBlPVwic2VyaWVzLnBhcmFsbGVsXCIsZS5kZXBlbmRlbmNpZXM9W1wicGFyYWxsZWxcIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbTpcInBhcmFsbGVsXCIscGFyYWxsZWxJbmRleDowLGxhYmVsOntzaG93OiExfSxpbmFjdGl2ZU9wYWNpdHk6LjA1LGFjdGl2ZU9wYWNpdHk6MSxsaW5lU3R5bGU6e3dpZHRoOjEsb3BhY2l0eTouNDUsdHlwZTpcInNvbGlkXCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMX19LHByb2dyZXNzaXZlOjUwMCxzbW9vdGg6ITEsYW5pbWF0aW9uRWFzaW5nOlwibGluZWFyXCJ9LGV9KHJmKTtmdW5jdGlvbiBYQyh0KXt2YXIgZT10LmVjTW9kZWwuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxcIix0LmdldChcInBhcmFsbGVsSW5kZXhcIikpO2lmKGUpe3ZhciBuPXt9O3JldHVybiBQKGUuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7dmFyIGU9K3QucmVwbGFjZShcImRpbVwiLFwiXCIpO25bdF09ZX0pKSxufX12YXIgVUM9W1wibGluZVN0eWxlXCIsXCJvcGFjaXR5XCJdLFpDPXtzZXJpZXNUeXBlOlwicGFyYWxsZWxcIixyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXtub3JtYWw6dC5nZXQoW1wibGluZVN0eWxlXCIsXCJvcGFjaXR5XCJdKSxhY3RpdmU6dC5nZXQoXCJhY3RpdmVPcGFjaXR5XCIpLGluYWN0aXZlOnQuZ2V0KFwiaW5hY3RpdmVPcGFjaXR5XCIpfTtyZXR1cm57cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtuLmVhY2hBY3RpdmVTdGF0ZShlLChmdW5jdGlvbih0LG4pe3ZhciByPWlbdF07aWYoXCJub3JtYWxcIj09PXQmJmUuaGFzSXRlbU9wdGlvbil7dmFyIG89ZS5nZXRJdGVtTW9kZWwobikuZ2V0KFVDLCEwKTtudWxsIT1vJiYocj1vKX1lLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwobixcInN0eWxlXCIpLm9wYWNpdHk9cn0pLHQuc3RhcnQsdC5lbmQpfX19fTtmdW5jdGlvbiBqQyh0KXshZnVuY3Rpb24odCl7aWYodC5wYXJhbGxlbClyZXR1cm47dmFyIGU9ITE7UCh0LnNlcmllcywoZnVuY3Rpb24odCl7dCYmXCJwYXJhbGxlbFwiPT09dC50eXBlJiYoZT0hMCl9KSksZSYmKHQucGFyYWxsZWw9W3t9XSl9KHQpLGZ1bmN0aW9uKHQpe1AoX3IodC5wYXJhbGxlbEF4aXMpLChmdW5jdGlvbihlKXtpZihYKGUpKXt2YXIgbj1lLnBhcmFsbGVsSW5kZXh8fDAsaT1fcih0LnBhcmFsbGVsKVtuXTtpJiZpLnBhcmFsbGVsQXhpc0RlZmF1bHQmJlMoZSxpLnBhcmFsbGVsQXhpc0RlZmF1bHQsITEpfX0pKX0odCl9dmFyIHFDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fbW9kZWw9dCx0aGlzLl9hcGk9bix0aGlzLl9oYW5kbGVyc3x8KHRoaXMuX2hhbmRsZXJzPXt9LFAoS0MsKGZ1bmN0aW9uKHQsZSl7bi5nZXRacigpLm9uKGUsdGhpcy5faGFuZGxlcnNbZV09Qih0LHRoaXMpKX0pLHRoaXMpKSxUZih0aGlzLFwiX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kXCIsdC5nZXQoXCJheGlzRXhwYW5kUmF0ZVwiKSxcImZpeFJhdGVcIil9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXtQKHRoaXMuX2hhbmRsZXJzLChmdW5jdGlvbih0LG4pe2UuZ2V0WnIoKS5vZmYobix0KX0pKSx0aGlzLl9oYW5kbGVycz1udWxsfSxlLnByb3RvdHlwZS5fdGhyb3R0bGVkRGlzcGF0Y2hFeHBhbmQ9ZnVuY3Rpb24odCl7dGhpcy5fZGlzcGF0Y2hFeHBhbmQodCl9LGUucHJvdG90eXBlLl9kaXNwYXRjaEV4cGFuZD1mdW5jdGlvbih0KXt0JiZ0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oSSh7dHlwZTpcInBhcmFsbGVsQXhpc0V4cGFuZFwifSx0KSl9LGUudHlwZT1cInBhcmFsbGVsXCIsZX0ocGYpLEtDPXttb3VzZWRvd246ZnVuY3Rpb24odCl7JEModGhpcyxcImNsaWNrXCIpJiYodGhpcy5fbW91c2VEb3duUG9pbnQ9W3Qub2Zmc2V0WCx0Lm9mZnNldFldKX0sbW91c2V1cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb3VzZURvd25Qb2ludDtpZigkQyh0aGlzLFwiY2xpY2tcIikmJmUpe3ZhciBuPVt0Lm9mZnNldFgsdC5vZmZzZXRZXTtpZihNYXRoLnBvdyhlWzBdLW5bMF0sMikrTWF0aC5wb3coZVsxXS1uWzFdLDIpPjUpcmV0dXJuO3ZhciBpPXRoaXMuX21vZGVsLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdyhbdC5vZmZzZXRYLHQub2Zmc2V0WV0pO1wibm9uZVwiIT09aS5iZWhhdmlvciYmdGhpcy5fZGlzcGF0Y2hFeHBhbmQoe2F4aXNFeHBhbmRXaW5kb3c6aS5heGlzRXhwYW5kV2luZG93fSl9dGhpcy5fbW91c2VEb3duUG9pbnQ9bnVsbH0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9tb3VzZURvd25Qb2ludCYmJEModGhpcyxcIm1vdXNlbW92ZVwiKSl7dmFyIGU9dGhpcy5fbW9kZWwsbj1lLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdyhbdC5vZmZzZXRYLHQub2Zmc2V0WV0pLGk9bi5iZWhhdmlvcjtcImp1bXBcIj09PWkmJnRoaXMuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kLmRlYm91bmNlTmV4dENhbGwoZS5nZXQoXCJheGlzRXhwYW5kRGVib3VuY2VcIikpLHRoaXMuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kKFwibm9uZVwiPT09aT9udWxsOntheGlzRXhwYW5kV2luZG93Om4uYXhpc0V4cGFuZFdpbmRvdyxhbmltYXRpb246XCJqdW1wXCI9PT1pP251bGw6e2R1cmF0aW9uOjB9fSl9fX07ZnVuY3Rpb24gJEModCxlKXt2YXIgbj10Ll9tb2RlbDtyZXR1cm4gbi5nZXQoXCJheGlzRXhwYW5kYWJsZVwiKSYmbi5nZXQoXCJheGlzRXhwYW5kVHJpZ2dlck9uXCIpPT09ZX12YXIgSkM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubWVyZ2VPcHRpb24oe30pfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjt0JiZTKGUsdCwhMCksdGhpcy5faW5pdERpbWVuc2lvbnMoKX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldChcInBhcmFsbGVsSW5kZXhcIik7cmV0dXJuIG51bGwhPW4mJmUuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxcIixuKT09PXRoaXN9LGUucHJvdG90eXBlLnNldEF4aXNFeHBhbmQ9ZnVuY3Rpb24odCl7UChbXCJheGlzRXhwYW5kYWJsZVwiLFwiYXhpc0V4cGFuZENlbnRlclwiLFwiYXhpc0V4cGFuZENvdW50XCIsXCJheGlzRXhwYW5kV2lkdGhcIixcImF4aXNFeHBhbmRXaW5kb3dcIl0sKGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLm9wdGlvbltlXT10W2VdKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5faW5pdERpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRpbWVuc2lvbnM9W10sZT10aGlzLnBhcmFsbGVsQXhpc0luZGV4PVtdO1AoTih0aGlzLmVjTW9kZWwucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTpcInBhcmFsbGVsQXhpc1wifSksKGZ1bmN0aW9uKHQpe3JldHVybih0LmdldChcInBhcmFsbGVsSW5kZXhcIil8fDApPT09dGhpcy5jb21wb25lbnRJbmRleH0pLHRoaXMpLChmdW5jdGlvbihuKXt0LnB1c2goXCJkaW1cIituLmdldChcImRpbVwiKSksZS5wdXNoKG4uY29tcG9uZW50SW5kZXgpfSkpfSxlLnR5cGU9XCJwYXJhbGxlbFwiLGUuZGVwZW5kZW5jaWVzPVtcInBhcmFsbGVsQXhpc1wiXSxlLmxheW91dE1vZGU9XCJib3hcIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MCxsZWZ0OjgwLHRvcDo2MCxyaWdodDo4MCxib3R0b206NjAsbGF5b3V0OlwiaG9yaXpvbnRhbFwiLGF4aXNFeHBhbmRhYmxlOiExLGF4aXNFeHBhbmRDZW50ZXI6bnVsbCxheGlzRXhwYW5kQ291bnQ6MCxheGlzRXhwYW5kV2lkdGg6NTAsYXhpc0V4cGFuZFJhdGU6MTcsYXhpc0V4cGFuZERlYm91bmNlOjUwLGF4aXNFeHBhbmRTbGlkZVRyaWdnZXJBcmVhOlstLjE1LC4wNSwuNF0sYXhpc0V4cGFuZFRyaWdnZXJPbjpcImNsaWNrXCIscGFyYWxsZWxBeGlzRGVmYXVsdDpudWxsfSxlfShOYyksUUM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gYS50eXBlPXJ8fFwidmFsdWVcIixhLmF4aXNJbmRleD1vLGF9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm5cImhvcml6b250YWxcIiE9PXRoaXMuY29vcmRpbmF0ZVN5c3RlbS5nZXRNb2RlbCgpLmdldChcImxheW91dFwiKX0sZX0odngpO2Z1bmN0aW9uIHRBKHQsZSxuLGkscixvKXt0PXR8fDA7dmFyIGE9blsxXS1uWzBdO2lmKG51bGwhPXImJihyPW5BKHIsWzAsYV0pKSxudWxsIT1vJiYobz1NYXRoLm1heChvLG51bGwhPXI/cjowKSksXCJhbGxcIj09PWkpe3ZhciBzPU1hdGguYWJzKGVbMV0tZVswXSk7cz1uQShzLFswLGFdKSxyPW89bkEocyxbcixvXSksaT0wfWVbMF09bkEoZVswXSxuKSxlWzFdPW5BKGVbMV0sbik7dmFyIGw9ZUEoZSxpKTtlW2ldKz10O3ZhciB1LGg9cnx8MCxjPW4uc2xpY2UoKTtyZXR1cm4gbC5zaWduPDA/Y1swXSs9aDpjWzFdLT1oLGVbaV09bkEoZVtpXSxjKSx1PWVBKGUsaSksbnVsbCE9ciYmKHUuc2lnbiE9PWwuc2lnbnx8dS5zcGFuPHIpJiYoZVsxLWldPWVbaV0rbC5zaWduKnIpLHU9ZUEoZSxpKSxudWxsIT1vJiZ1LnNwYW4+byYmKGVbMS1pXT1lW2ldK3Uuc2lnbipvKSxlfWZ1bmN0aW9uIGVBKHQsZSl7dmFyIG49dFtlXS10WzEtZV07cmV0dXJue3NwYW46TWF0aC5hYnMobiksc2lnbjpuPjA/LTE6bjwwPzE6ZT8tMToxfX1mdW5jdGlvbiBuQSh0LGUpe3JldHVybiBNYXRoLm1pbihudWxsIT1lWzFdP2VbMV06MS8wLE1hdGgubWF4KG51bGwhPWVbMF0/ZVswXTotMS8wLHQpKX12YXIgaUE9UCxyQT1NYXRoLm1pbixvQT1NYXRoLm1heCxhQT1NYXRoLmZsb29yLHNBPU1hdGguY2VpbCxsQT1qaSx1QT1NYXRoLlBJLGhBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy50eXBlPVwicGFyYWxsZWxcIix0aGlzLl9heGVzTWFwPWh0KCksdGhpcy5fYXhlc0xheW91dD17fSx0aGlzLmRpbWVuc2lvbnM9dC5kaW1lbnNpb25zLHRoaXMuX21vZGVsPXQsdGhpcy5faW5pdCh0LGUsbil9cmV0dXJuIHQucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmRpbWVuc2lvbnMscj10LnBhcmFsbGVsQXhpc0luZGV4O2lBKGksKGZ1bmN0aW9uKHQsbil7dmFyIGk9cltuXSxvPWUuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxBeGlzXCIsaSksYT10aGlzLl9heGVzTWFwLnNldCh0LG5ldyBRQyh0LEdfKG8pLFswLDBdLG8uZ2V0KFwidHlwZVwiKSxpKSkscz1cImNhdGVnb3J5XCI9PT1hLnR5cGU7YS5vbkJhbmQ9cyYmby5nZXQoXCJib3VuZGFyeUdhcFwiKSxhLmludmVyc2U9by5nZXQoXCJpbnZlcnNlXCIpLG8uYXhpcz1hLGEubW9kZWw9byxhLmNvb3JkaW5hdGVTeXN0ZW09by5jb29yZGluYXRlU3lzdGVtPXRoaXN9KSx0aGlzKX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdXBkYXRlQXhlc0Zyb21TZXJpZXModGhpcy5fbW9kZWwsdCl9LHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYWtlTGF5b3V0SW5mbygpLG49ZS5heGlzQmFzZSxpPWUubGF5b3V0QmFzZSxyPWUucGl4ZWxEaW1JbmRleCxvPXRbMS1yXSxhPXRbcl07cmV0dXJuIG8+PW4mJm88PW4rZS5heGlzTGVuZ3RoJiZhPj1pJiZhPD1pK2UubGF5b3V0TGVuZ3RofSx0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sdC5wcm90b3R5cGUuX3VwZGF0ZUF4ZXNGcm9tU2VyaWVzPWZ1bmN0aW9uKHQsZSl7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbihuKXtpZih0LmNvbnRhaW5zKG4sZSkpe3ZhciBpPW4uZ2V0RGF0YSgpO2lBKHRoaXMuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXhlc01hcC5nZXQodCk7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGksaS5tYXBEaW1lbnNpb24odCkpLEZfKGUuc2NhbGUsZS5tb2RlbCl9KSx0aGlzKX19KSx0aGlzKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVjdD1BYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KSx0aGlzLl9sYXlvdXRBeGVzKCl9LHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUuX21ha2VMYXlvdXRJbmZvPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9tb2RlbCxuPXRoaXMuX3JlY3QsaT1bXCJ4XCIsXCJ5XCJdLHI9W1wid2lkdGhcIixcImhlaWdodFwiXSxvPWUuZ2V0KFwibGF5b3V0XCIpLGE9XCJob3Jpem9udGFsXCI9PT1vPzA6MSxzPW5bclthXV0sbD1bMCxzXSx1PXRoaXMuZGltZW5zaW9ucy5sZW5ndGgsaD1jQShlLmdldChcImF4aXNFeHBhbmRXaWR0aFwiKSxsKSxjPWNBKGUuZ2V0KFwiYXhpc0V4cGFuZENvdW50XCIpfHwwLFswLHVdKSxwPWUuZ2V0KFwiYXhpc0V4cGFuZGFibGVcIikmJnU+MyYmdT5jJiZjPjEmJmg+MCYmcz4wLGQ9ZS5nZXQoXCJheGlzRXhwYW5kV2luZG93XCIpO2Q/KHQ9Y0EoZFsxXS1kWzBdLGwpLGRbMV09ZFswXSt0KToodD1jQShoKihjLTEpLGwpLChkPVtoKihlLmdldChcImF4aXNFeHBhbmRDZW50ZXJcIil8fGFBKHUvMikpLXQvMl0pWzFdPWRbMF0rdCk7dmFyIGY9KHMtdCkvKHUtYyk7ZjwzJiYoZj0wKTt2YXIgZz1bYUEobEEoZFswXS9oLDEpKSsxLHNBKGxBKGRbMV0vaCwxKSktMV0seT1mL2gqZFswXTtyZXR1cm57bGF5b3V0Om8scGl4ZWxEaW1JbmRleDphLGxheW91dEJhc2U6bltpW2FdXSxsYXlvdXRMZW5ndGg6cyxheGlzQmFzZTpuW2lbMS1hXV0sYXhpc0xlbmd0aDpuW3JbMS1hXV0sYXhpc0V4cGFuZGFibGU6cCxheGlzRXhwYW5kV2lkdGg6aCxheGlzQ29sbGFwc2VXaWR0aDpmLGF4aXNFeHBhbmRXaW5kb3c6ZCxheGlzQ291bnQ6dSx3aW5Jbm5lckluZGljZXM6ZyxheGlzRXhwYW5kV2luZG93MFBvczp5fX0sdC5wcm90b3R5cGUuX2xheW91dEF4ZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhlc01hcCxuPXRoaXMuZGltZW5zaW9ucyxpPXRoaXMuX21ha2VMYXlvdXRJbmZvKCkscj1pLmxheW91dDtlLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPVswLGkuYXhpc0xlbmd0aF0sbj10LmludmVyc2U/MTowO3Quc2V0RXh0ZW50KGVbbl0sZVsxLW5dKX0pKSxpQShuLChmdW5jdGlvbihlLG4pe3ZhciBvPShpLmF4aXNFeHBhbmRhYmxlP2RBOnBBKShuLGkpLGE9e2hvcml6b250YWw6e3g6by5wb3NpdGlvbix5OmkuYXhpc0xlbmd0aH0sdmVydGljYWw6e3g6MCx5Om8ucG9zaXRpb259fSxzPXtob3Jpem9udGFsOnVBLzIsdmVydGljYWw6MH0sbD1bYVtyXS54K3QueCxhW3JdLnkrdC55XSx1PXNbcl0saD1bMSwwLDAsMSwwLDBdO19lKGgsaCx1KSxtZShoLGgsbCksdGhpcy5fYXhlc0xheW91dFtlXT17cG9zaXRpb246bCxyb3RhdGlvbjp1LHRyYW5zZm9ybTpoLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6by5heGlzTmFtZUF2YWlsYWJsZVdpZHRoLGF4aXNMYWJlbFNob3c6by5heGlzTGFiZWxTaG93LG5hbWVUcnVuY2F0ZU1heFdpZHRoOm8ubmFtZVRydW5jYXRlTWF4V2lkdGgsdGlja0RpcmVjdGlvbjoxLGxhYmVsRGlyZWN0aW9uOjF9fSksdGhpcyl9LHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2F4ZXNNYXAuZ2V0KHQpfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF4aXNDb29yZFRvUG9pbnQodGhpcy5fYXhlc01hcC5nZXQoZSkuZGF0YVRvQ29vcmQodCksZSl9LHQucHJvdG90eXBlLmVhY2hBY3RpdmVTdGF0ZT1mdW5jdGlvbih0LGUsbixpKXtudWxsPT1uJiYobj0wKSxudWxsPT1pJiYoaT10LmNvdW50KCkpO3ZhciByPXRoaXMuX2F4ZXNNYXAsbz10aGlzLmRpbWVuc2lvbnMsYT1bXSxzPVtdO1AobywoZnVuY3Rpb24oZSl7YS5wdXNoKHQubWFwRGltZW5zaW9uKGUpKSxzLnB1c2goci5nZXQoZSkubW9kZWwpfSkpO2Zvcih2YXIgbD10aGlzLmhhc0F4aXNCcnVzaGVkKCksdT1uO3U8aTt1Kyspe3ZhciBoPXZvaWQgMDtpZihsKXtoPVwiYWN0aXZlXCI7Zm9yKHZhciBjPXQuZ2V0VmFsdWVzKGEsdSkscD0wLGQ9by5sZW5ndGg7cDxkO3ArKyl7aWYoXCJpbmFjdGl2ZVwiPT09c1twXS5nZXRBY3RpdmVTdGF0ZShjW3BdKSl7aD1cImluYWN0aXZlXCI7YnJlYWt9fX1lbHNlIGg9XCJub3JtYWxcIjtlKGgsdSl9fSx0LnByb3RvdHlwZS5oYXNBeGlzQnJ1c2hlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRpbWVuc2lvbnMsZT10aGlzLl9heGVzTWFwLG49ITEsaT0wLHI9dC5sZW5ndGg7aTxyO2krKylcIm5vcm1hbFwiIT09ZS5nZXQodFtpXSkubW9kZWwuZ2V0QWN0aXZlU3RhdGUoKSYmKG49ITApO3JldHVybiBufSx0LnByb3RvdHlwZS5heGlzQ29vcmRUb1BvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZ1KFt0LDBdLHRoaXMuX2F4ZXNMYXlvdXRbZV0udHJhbnNmb3JtKX0sdC5wcm90b3R5cGUuZ2V0QXhpc0xheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdyh0aGlzLl9heGVzTGF5b3V0W3RdKX0sdC5wcm90b3R5cGUuZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYWtlTGF5b3V0SW5mbygpLG49ZS5waXhlbERpbUluZGV4LGk9ZS5heGlzRXhwYW5kV2luZG93LnNsaWNlKCkscj1pWzFdLWlbMF0sbz1bMCxlLmF4aXNFeHBhbmRXaWR0aCooZS5heGlzQ291bnQtMSldO2lmKCF0aGlzLmNvbnRhaW5Qb2ludCh0KSlyZXR1cm57YmVoYXZpb3I6XCJub25lXCIsYXhpc0V4cGFuZFdpbmRvdzppfTt2YXIgYSxzPXRbbl0tZS5sYXlvdXRCYXNlLWUuYXhpc0V4cGFuZFdpbmRvdzBQb3MsbD1cInNsaWRlXCIsdT1lLmF4aXNDb2xsYXBzZVdpZHRoLGg9dGhpcy5fbW9kZWwuZ2V0KFwiYXhpc0V4cGFuZFNsaWRlVHJpZ2dlckFyZWFcIiksYz1udWxsIT1oWzBdO2lmKHUpYyYmdSYmczxyKmhbMF0/KGw9XCJqdW1wXCIsYT1zLXIqaFsyXSk6YyYmdSYmcz5yKigxLWhbMF0pPyhsPVwianVtcFwiLGE9cy1yKigxLWhbMl0pKTooYT1zLXIqaFsxXSk+PTAmJihhPXMtciooMS1oWzFdKSk8PTAmJihhPTApLChhKj1lLmF4aXNFeHBhbmRXaWR0aC91KT90QShhLGksbyxcImFsbFwiKTpsPVwibm9uZVwiO2Vsc2V7dmFyIHA9aVsxXS1pWzBdOyhpPVtvQSgwLG9bMV0qcy9wLXAvMildKVsxXT1yQShvWzFdLGlbMF0rcCksaVswXT1pWzFdLXB9cmV0dXJue2F4aXNFeHBhbmRXaW5kb3c6aSxiZWhhdmlvcjpsfX0sdH0oKTtmdW5jdGlvbiBjQSh0LGUpe3JldHVybiByQShvQSh0LGVbMF0pLGVbMV0pfWZ1bmN0aW9uIHBBKHQsZSl7dmFyIG49ZS5sYXlvdXRMZW5ndGgvKGUuYXhpc0NvdW50LTEpO3JldHVybntwb3NpdGlvbjpuKnQsYXhpc05hbWVBdmFpbGFibGVXaWR0aDpuLGF4aXNMYWJlbFNob3c6ITB9fWZ1bmN0aW9uIGRBKHQsZSl7dmFyIG4saSxyPWUubGF5b3V0TGVuZ3RoLG89ZS5heGlzRXhwYW5kV2lkdGgsYT1lLmF4aXNDb3VudCxzPWUuYXhpc0NvbGxhcHNlV2lkdGgsbD1lLndpbklubmVySW5kaWNlcyx1PXMsaD0hMTtyZXR1cm4gdDxsWzBdPyhuPXQqcyxpPXMpOnQ8PWxbMV0/KG49ZS5heGlzRXhwYW5kV2luZG93MFBvcyt0Km8tZS5heGlzRXhwYW5kV2luZG93WzBdLHU9byxoPSEwKToobj1yLShhLTEtdCkqcyxpPXMpLHtwb3NpdGlvbjpuLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6dSxheGlzTGFiZWxTaG93OmgsbmFtZVRydW5jYXRlTWF4V2lkdGg6aX19dmFyIGZBPXtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KFwicGFyYWxsZWxcIiwoZnVuY3Rpb24oaSxyKXt2YXIgbz1uZXcgaEEoaSx0LGUpO28ubmFtZT1cInBhcmFsbGVsX1wiK3Isby5yZXNpemUoaSxlKSxpLmNvb3JkaW5hdGVTeXN0ZW09byxvLm1vZGVsPWksbi5wdXNoKG8pfSkpLHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYoXCJwYXJhbGxlbFwiPT09dC5nZXQoXCJjb29yZGluYXRlU3lzdGVtXCIpKXt2YXIgZT10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJwYXJhbGxlbFwiLE9yKS5tb2RlbHNbMF07dC5jb29yZGluYXRlU3lzdGVtPWUuY29vcmRpbmF0ZVN5c3RlbX19KSksbn19LGdBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5hY3RpdmVJbnRlcnZhbHM9W10sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEFyZWFTZWxlY3RTdHlsZT1mdW5jdGlvbigpe3JldHVybiBxcihbW1wiZmlsbFwiLFwiY29sb3JcIl0sW1wibGluZVdpZHRoXCIsXCJib3JkZXJXaWR0aFwiXSxbXCJzdHJva2VcIixcImJvcmRlckNvbG9yXCJdLFtcIndpZHRoXCIsXCJ3aWR0aFwiXSxbXCJvcGFjaXR5XCIsXCJvcGFjaXR5XCJdXSkodGhpcy5nZXRNb2RlbChcImFyZWFTZWxlY3RTdHlsZVwiKSl9LGUucHJvdG90eXBlLnNldEFjdGl2ZUludGVydmFscz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVydmFscz13KHQpO2lmKGUpZm9yKHZhciBuPWUubGVuZ3RoLTE7bj49MDtuLS0pcWkoZVtuXSl9LGUucHJvdG90eXBlLmdldEFjdGl2ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlSW50ZXJ2YWxzO2lmKCFlLmxlbmd0aClyZXR1cm5cIm5vcm1hbFwiO2lmKG51bGw9PXR8fGlzTmFOKCt0KSlyZXR1cm5cImluYWN0aXZlXCI7aWYoMT09PWUubGVuZ3RoKXt2YXIgbj1lWzBdO2lmKG5bMF08PXQmJnQ8PW5bMV0pcmV0dXJuXCJhY3RpdmVcIn1lbHNlIGZvcih2YXIgaT0wLHI9ZS5sZW5ndGg7aTxyO2krKylpZihlW2ldWzBdPD10JiZ0PD1lW2ldWzFdKXJldHVyblwiYWN0aXZlXCI7cmV0dXJuXCJpbmFjdGl2ZVwifSxlfShOYyk7TChnQSxqXyk7dmFyIHlBPSEwLHZBPU1hdGgubWluLG1BPU1hdGgubWF4LF9BPU1hdGgucG93LHhBPVwiZ2xvYmFsUGFuXCIsYkE9e3c6WzAsMF0sZTpbMCwxXSxuOlsxLDBdLHM6WzEsMV19LHdBPXt3OlwiZXdcIixlOlwiZXdcIixuOlwibnNcIixzOlwibnNcIixuZTpcIm5lc3dcIixzdzpcIm5lc3dcIixudzpcIm53c2VcIixzZTpcIm53c2VcIn0sU0E9e2JydXNoU3R5bGU6e2xpbmVXaWR0aDoyLHN0cm9rZTpcInJnYmEoMjEwLDIxOSwyMzgsMC4zKVwiLGZpbGw6XCIjRDJEQkVFXCJ9LHRyYW5zZm9ybWFibGU6ITAsYnJ1c2hNb2RlOlwic2luZ2xlXCIscmVtb3ZlT25DbGljazohMX0sTUE9MCxJQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fdHJhY2s9W10sbi5fY292ZXJzPVtdLG4uX2hhbmRsZXJzPXt9LG4uX3pyPWUsbi5ncm91cD1uZXcgemksbi5fdWlkPVwiYnJ1c2hDb250cm9sbGVyX1wiK01BKyssUChKQSwoZnVuY3Rpb24odCxlKXt0aGlzLl9oYW5kbGVyc1tlXT1CKHQsdGhpcyl9KSxuKSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZW5hYmxlQnJ1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2JydXNoVHlwZSYmdGhpcy5fZG9EaXNhYmxlQnJ1c2goKSx0LmJydXNoVHlwZSYmdGhpcy5fZG9FbmFibGVCcnVzaCh0KSx0aGlzfSxlLnByb3RvdHlwZS5fZG9FbmFibGVCcnVzaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl96cjt0aGlzLl9lbmFibGVHbG9iYWxQYW58fGZ1bmN0aW9uKHQsZSxuKXtKUyh0KVtlXT1ufShlLHhBLHRoaXMuX3VpZCksUCh0aGlzLl9oYW5kbGVycywoZnVuY3Rpb24odCxuKXtlLm9uKG4sdCl9KSksdGhpcy5fYnJ1c2hUeXBlPXQuYnJ1c2hUeXBlLHRoaXMuX2JydXNoT3B0aW9uPVModyhTQSksdCwhMCl9LGUucHJvdG90eXBlLl9kb0Rpc2FibGVCcnVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3pyOyFmdW5jdGlvbih0LGUsbil7dmFyIGk9SlModCk7aVtlXT09PW4mJihpW2VdPW51bGwpfSh0LHhBLHRoaXMuX3VpZCksUCh0aGlzLl9oYW5kbGVycywoZnVuY3Rpb24oZSxuKXt0Lm9mZihuLGUpfSkpLHRoaXMuX2JydXNoVHlwZT10aGlzLl9icnVzaE9wdGlvbj1udWxsfSxlLnByb3RvdHlwZS5zZXRQYW5lbHM9ZnVuY3Rpb24odCl7aWYodCYmdC5sZW5ndGgpe3ZhciBlPXRoaXMuX3BhbmVscz17fTtQKHQsKGZ1bmN0aW9uKHQpe2VbdC5wYW5lbElkXT13KHQpfSkpfWVsc2UgdGhpcy5fcGFuZWxzPW51bGw7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLm1vdW50PWZ1bmN0aW9uKHQpe3Q9dHx8e30sdGhpcy5fZW5hYmxlR2xvYmFsUGFuPXQuZW5hYmxlR2xvYmFsUGFuO3ZhciBlPXRoaXMuZ3JvdXA7cmV0dXJuIHRoaXMuX3pyLmFkZChlKSxlLmF0dHIoe3g6dC54fHwwLHk6dC55fHwwLHJvdGF0aW9uOnQucm90YXRpb258fDAsc2NhbGVYOnQuc2NhbGVYfHwxLHNjYWxlWTp0LnNjYWxlWXx8MX0pLHRoaXMuX3RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpc30sZS5wcm90b3R5cGUudXBkYXRlQ292ZXJzPWZ1bmN0aW9uKHQpe3Q9Tyh0LChmdW5jdGlvbih0KXtyZXR1cm4gUyh3KFNBKSx0LCEwKX0pKTt2YXIgZT10aGlzLl9jb3ZlcnMsbj10aGlzLl9jb3ZlcnM9W10saT10aGlzLHI9dGhpcy5fY3JlYXRpbmdDb3ZlcjtyZXR1cm4gbmV3IHJtKGUsdCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbyh0Ll9fYnJ1c2hPcHRpb24sZSl9KSxvKS5hZGQoYSkudXBkYXRlKGEpLnJlbW92ZSgoZnVuY3Rpb24odCl7ZVt0XSE9PXImJmkuZ3JvdXAucmVtb3ZlKGVbdF0pfSkpLmV4ZWN1dGUoKSx0aGlzO2Z1bmN0aW9uIG8odCxlKXtyZXR1cm4obnVsbCE9dC5pZD90LmlkOlwiXFwwLWJydXNoLWluZGV4LVwiK2UpK1wiLVwiK3QuYnJ1c2hUeXBlfWZ1bmN0aW9uIGEobyxhKXt2YXIgcz10W29dO2lmKG51bGwhPWEmJmVbYV09PT1yKW5bb109ZVthXTtlbHNle3ZhciBsPW5bb109bnVsbCE9YT8oZVthXS5fX2JydXNoT3B0aW9uPXMsZVthXSk6Q0EoaSxUQShpLHMpKTtMQShpLGwpfX19LGUucHJvdG90eXBlLnVubW91bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVCcnVzaCghMSksUkEodGhpcyksdGhpcy5fenIucmVtb3ZlKHRoaXMuZ3JvdXApLHRoaXN9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnVubW91bnQoKSx0aGlzLm9mZigpfSxlfShGdCk7ZnVuY3Rpb24gVEEodCxlKXt2YXIgbj10RFtlLmJydXNoVHlwZV0uY3JlYXRlQ292ZXIodCxlKTtyZXR1cm4gbi5fX2JydXNoT3B0aW9uPWUsREEobixlKSx0Lmdyb3VwLmFkZChuKSxufWZ1bmN0aW9uIENBKHQsZSl7dmFyIG49a0EoZSk7cmV0dXJuIG4uZW5kQ3JlYXRpbmcmJihuLmVuZENyZWF0aW5nKHQsZSksREEoZSxlLl9fYnJ1c2hPcHRpb24pKSxlfWZ1bmN0aW9uIEFBKHQsZSl7dmFyIG49ZS5fX2JydXNoT3B0aW9uO2tBKGUpLnVwZGF0ZUNvdmVyU2hhcGUodCxlLG4ucmFuZ2Usbil9ZnVuY3Rpb24gREEodCxlKXt2YXIgbj1lLno7bnVsbD09biYmKG49MWU0KSx0LnRyYXZlcnNlKChmdW5jdGlvbih0KXt0Lno9bix0LnoyPW59KSl9ZnVuY3Rpb24gTEEodCxlKXtrQShlKS51cGRhdGVDb21tb24odCxlKSxBQSh0LGUpfWZ1bmN0aW9uIGtBKHQpe3JldHVybiB0RFt0Ll9fYnJ1c2hPcHRpb24uYnJ1c2hUeXBlXX1mdW5jdGlvbiBQQSh0LGUsbil7dmFyIGkscj10Ll9wYW5lbHM7aWYoIXIpcmV0dXJuIHlBO3ZhciBvPXQuX3RyYW5zZm9ybTtyZXR1cm4gUChyLChmdW5jdGlvbih0KXt0LmlzVGFyZ2V0QnlDdXJzb3IoZSxuLG8pJiYoaT10KX0pKSxpfWZ1bmN0aW9uIE9BKHQsZSl7dmFyIG49dC5fcGFuZWxzO2lmKCFuKXJldHVybiB5QTt2YXIgaT1lLl9fYnJ1c2hPcHRpb24ucGFuZWxJZDtyZXR1cm4gbnVsbCE9aT9uW2ldOnlBfWZ1bmN0aW9uIFJBKHQpe3ZhciBlPXQuX2NvdmVycyxuPWUubGVuZ3RoO3JldHVybiBQKGUsKGZ1bmN0aW9uKGUpe3QuZ3JvdXAucmVtb3ZlKGUpfSksdCksZS5sZW5ndGg9MCwhIW59ZnVuY3Rpb24gTkEodCxlKXt2YXIgbj1PKHQuX2NvdmVycywoZnVuY3Rpb24odCl7dmFyIGU9dC5fX2JydXNoT3B0aW9uLG49dyhlLnJhbmdlKTtyZXR1cm57YnJ1c2hUeXBlOmUuYnJ1c2hUeXBlLHBhbmVsSWQ6ZS5wYW5lbElkLHJhbmdlOm59fSkpO3QudHJpZ2dlcihcImJydXNoXCIse2FyZWFzOm4saXNFbmQ6ISFlLmlzRW5kLHJlbW92ZU9uQ2xpY2s6ISFlLnJlbW92ZU9uQ2xpY2t9KX1mdW5jdGlvbiBFQSh0KXt2YXIgZT10Lmxlbmd0aC0xO3JldHVybiBlPDAmJihlPTApLFt0WzBdLHRbZV1dfWZ1bmN0aW9uIHpBKHQsZSxuLGkpe3ZhciByPW5ldyB6aTtyZXR1cm4gci5hZGQobmV3IG9zKHtuYW1lOlwibWFpblwiLHN0eWxlOkdBKG4pLHNpbGVudDohMCxkcmFnZ2FibGU6ITAsY3Vyc29yOlwibW92ZVwiLGRyaWZ0OlYoWUEsdCxlLHIsW1wiblwiLFwic1wiLFwid1wiLFwiZVwiXSksb25kcmFnZW5kOlYoTkEsZSx7aXNFbmQ6ITB9KX0pKSxQKGksKGZ1bmN0aW9uKG4pe3IuYWRkKG5ldyBvcyh7bmFtZTpuLmpvaW4oXCJcIiksc3R5bGU6e29wYWNpdHk6MH0sZHJhZ2dhYmxlOiEwLHNpbGVudDohMCxpbnZpc2libGU6ITAsZHJpZnQ6VihZQSx0LGUscixuKSxvbmRyYWdlbmQ6VihOQSxlLHtpc0VuZDohMH0pfSkpfSkpLHJ9ZnVuY3Rpb24gQkEodCxlLG4saSl7dmFyIHI9aS5icnVzaFN0eWxlLmxpbmVXaWR0aHx8MCxvPW1BKHIsNiksYT1uWzBdWzBdLHM9blsxXVswXSxsPWEtci8yLHU9cy1yLzIsaD1uWzBdWzFdLGM9blsxXVsxXSxwPWgtbytyLzIsZD1jLW8rci8yLGY9aC1hLGc9Yy1zLHk9ZityLHY9ZytyO0ZBKHQsZSxcIm1haW5cIixhLHMsZixnKSxpLnRyYW5zZm9ybWFibGUmJihGQSh0LGUsXCJ3XCIsbCx1LG8sdiksRkEodCxlLFwiZVwiLHAsdSxvLHYpLEZBKHQsZSxcIm5cIixsLHUseSxvKSxGQSh0LGUsXCJzXCIsbCxkLHksbyksRkEodCxlLFwibndcIixsLHUsbyxvKSxGQSh0LGUsXCJuZVwiLHAsdSxvLG8pLEZBKHQsZSxcInN3XCIsbCxkLG8sbyksRkEodCxlLFwic2VcIixwLGQsbyxvKSl9ZnVuY3Rpb24gVkEodCxlKXt2YXIgbj1lLl9fYnJ1c2hPcHRpb24saT1uLnRyYW5zZm9ybWFibGUscj1lLmNoaWxkQXQoMCk7ci51c2VTdHlsZShHQShuKSksci5hdHRyKHtzaWxlbnQ6IWksY3Vyc29yOmk/XCJtb3ZlXCI6XCJkZWZhdWx0XCJ9KSxQKFtbXCJ3XCJdLFtcImVcIl0sW1wiblwiXSxbXCJzXCJdLFtcInNcIixcImVcIl0sW1wic1wiLFwid1wiXSxbXCJuXCIsXCJlXCJdLFtcIm5cIixcIndcIl1dLChmdW5jdGlvbihuKXt2YXIgcj1lLmNoaWxkT2ZOYW1lKG4uam9pbihcIlwiKSksbz0xPT09bi5sZW5ndGg/V0EodCxuWzBdKTpmdW5jdGlvbih0LGUpe3ZhciBuPVtXQSh0LGVbMF0pLFdBKHQsZVsxXSldO3JldHVybihcImVcIj09PW5bMF18fFwid1wiPT09blswXSkmJm4ucmV2ZXJzZSgpLG4uam9pbihcIlwiKX0odCxuKTtyJiZyLmF0dHIoe3NpbGVudDohaSxpbnZpc2libGU6IWksY3Vyc29yOmk/d0Fbb10rXCItcmVzaXplXCI6bnVsbH0pfSkpfWZ1bmN0aW9uIEZBKHQsZSxuLGkscixvLGEpe3ZhciBzPWUuY2hpbGRPZk5hbWUobik7cyYmcy5zZXRTaGFwZShmdW5jdGlvbih0KXt2YXIgZT12QSh0WzBdWzBdLHRbMV1bMF0pLG49dkEodFswXVsxXSx0WzFdWzFdKSxpPW1BKHRbMF1bMF0sdFsxXVswXSkscj1tQSh0WzBdWzFdLHRbMV1bMV0pO3JldHVybnt4OmUseTpuLHdpZHRoOmktZSxoZWlnaHQ6ci1ufX0oWkEodCxlLFtbaSxyXSxbaStvLHIrYV1dKSkpfWZ1bmN0aW9uIEdBKHQpe3JldHVybiBUKHtzdHJva2VOb1NjYWxlOiEwfSx0LmJydXNoU3R5bGUpfWZ1bmN0aW9uIEhBKHQsZSxuLGkpe3ZhciByPVt2QSh0LG4pLHZBKGUsaSldLG89W21BKHQsbiksbUEoZSxpKV07cmV0dXJuW1tyWzBdLG9bMF1dLFtyWzFdLG9bMV1dXX1mdW5jdGlvbiBXQSh0LGUpe3JldHVybntsZWZ0Olwid1wiLHJpZ2h0OlwiZVwiLHRvcDpcIm5cIixib3R0b206XCJzXCJ9W0d1KHt3OlwibGVmdFwiLGU6XCJyaWdodFwiLG46XCJ0b3BcIixzOlwiYm90dG9tXCJ9W2VdLGZ1bmN0aW9uKHQpe3JldHVybiBWdSh0Lmdyb3VwKX0odCkpXX1mdW5jdGlvbiBZQSh0LGUsbixpLHIsbyl7dmFyIGE9bi5fX2JydXNoT3B0aW9uLHM9dC50b1JlY3RSYW5nZShhLnJhbmdlKSxsPVVBKGUscixvKTtQKGksKGZ1bmN0aW9uKHQpe3ZhciBlPWJBW3RdO3NbZVswXV1bZVsxXV0rPWxbZVswXV19KSksYS5yYW5nZT10LmZyb21SZWN0UmFuZ2UoSEEoc1swXVswXSxzWzFdWzBdLHNbMF1bMV0sc1sxXVsxXSkpLExBKGUsbiksTkEoZSx7aXNFbmQ6ITF9KX1mdW5jdGlvbiBYQSh0LGUsbixpKXt2YXIgcj1lLl9fYnJ1c2hPcHRpb24ucmFuZ2Usbz1VQSh0LG4saSk7UChyLChmdW5jdGlvbih0KXt0WzBdKz1vWzBdLHRbMV0rPW9bMV19KSksTEEodCxlKSxOQSh0LHtpc0VuZDohMX0pfWZ1bmN0aW9uIFVBKHQsZSxuKXt2YXIgaT10Lmdyb3VwLHI9aS50cmFuc2Zvcm1Db29yZFRvTG9jYWwoZSxuKSxvPWkudHJhbnNmb3JtQ29vcmRUb0xvY2FsKDAsMCk7cmV0dXJuW3JbMF0tb1swXSxyWzFdLW9bMV1dfWZ1bmN0aW9uIFpBKHQsZSxuKXt2YXIgaT1PQSh0LGUpO3JldHVybiBpJiZpIT09eUE/aS5jbGlwUGF0aChuLHQuX3RyYW5zZm9ybSk6dyhuKX1mdW5jdGlvbiBqQSh0KXt2YXIgZT10LmV2ZW50O2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBxQSh0LGUsbil7cmV0dXJuIHQuY2hpbGRPZk5hbWUoXCJtYWluXCIpLmNvbnRhaW4oZSxuKX1mdW5jdGlvbiBLQSh0LGUsbixpKXt2YXIgcixvPXQuX2NyZWF0aW5nQ292ZXIsYT10Ll9jcmVhdGluZ1BhbmVsLHM9dC5fYnJ1c2hPcHRpb247aWYodC5fdHJhY2sucHVzaChuLnNsaWNlKCkpLGZ1bmN0aW9uKHQpe3ZhciBlPXQuX3RyYWNrO2lmKCFlLmxlbmd0aClyZXR1cm4hMTt2YXIgbj1lW2UubGVuZ3RoLTFdLGk9ZVswXSxyPW5bMF0taVswXSxvPW5bMV0taVsxXTtyZXR1cm4gX0EocipyK28qbywuNSk+Nn0odCl8fG8pe2lmKGEmJiFvKXtcInNpbmdsZVwiPT09cy5icnVzaE1vZGUmJlJBKHQpO3ZhciBsPXcocyk7bC5icnVzaFR5cGU9JEEobC5icnVzaFR5cGUsYSksbC5wYW5lbElkPWE9PT15QT9udWxsOmEucGFuZWxJZCxvPXQuX2NyZWF0aW5nQ292ZXI9VEEodCxsKSx0Ll9jb3ZlcnMucHVzaChvKX1pZihvKXt2YXIgdT10RFskQSh0Ll9icnVzaFR5cGUsYSldO28uX19icnVzaE9wdGlvbi5yYW5nZT11LmdldENyZWF0aW5nUmFuZ2UoWkEodCxvLHQuX3RyYWNrKSksaSYmKENBKHQsbyksdS51cGRhdGVDb21tb24odCxvKSksQUEodCxvKSxyPXtpc0VuZDppfX19ZWxzZSBpJiZcInNpbmdsZVwiPT09cy5icnVzaE1vZGUmJnMucmVtb3ZlT25DbGljayYmUEEodCxlLG4pJiZSQSh0KSYmKHI9e2lzRW5kOmkscmVtb3ZlT25DbGljazohMH0pO3JldHVybiByfWZ1bmN0aW9uICRBKHQsZSl7cmV0dXJuXCJhdXRvXCI9PT10P2UuZGVmYXVsdEJydXNoVHlwZTp0fXZhciBKQT17bW91c2Vkb3duOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RyYWdnaW5nKVFBKHRoaXMsdCk7ZWxzZSBpZighdC50YXJnZXR8fCF0LnRhcmdldC5kcmFnZ2FibGUpe2pBKHQpO3ZhciBlPXRoaXMuZ3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQub2Zmc2V0WCx0Lm9mZnNldFkpO3RoaXMuX2NyZWF0aW5nQ292ZXI9bnVsbCwodGhpcy5fY3JlYXRpbmdQYW5lbD1QQSh0aGlzLHQsZSkpJiYodGhpcy5fZHJhZ2dpbmc9ITAsdGhpcy5fdHJhY2s9W2Uuc2xpY2UoKV0pfX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXQub2Zmc2V0WCxuPXQub2Zmc2V0WSxpPXRoaXMuZ3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKGUsbik7aWYoZnVuY3Rpb24odCxlLG4pe2lmKHQuX2JydXNoVHlwZSYmIWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Ll96cjtyZXR1cm4gZTwwfHxlPmkuZ2V0V2lkdGgoKXx8bjwwfHxuPmkuZ2V0SGVpZ2h0KCl9KHQsZS5vZmZzZXRYLGUub2Zmc2V0WSkpe3ZhciBpPXQuX3pyLHI9dC5fY292ZXJzLG89UEEodCxlLG4pO2lmKCF0Ll9kcmFnZ2luZylmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIHM9clthXS5fX2JydXNoT3B0aW9uO2lmKG8mJihvPT09eUF8fHMucGFuZWxJZD09PW8ucGFuZWxJZCkmJnREW3MuYnJ1c2hUeXBlXS5jb250YWluKHJbYV0sblswXSxuWzFdKSlyZXR1cm59byYmaS5zZXRDdXJzb3JTdHlsZShcImNyb3NzaGFpclwiKX19KHRoaXMsdCxpKSx0aGlzLl9kcmFnZ2luZyl7akEodCk7dmFyIHI9S0EodGhpcyx0LGksITEpO3ImJk5BKHRoaXMscil9fSxtb3VzZXVwOmZ1bmN0aW9uKHQpe1FBKHRoaXMsdCl9fTtmdW5jdGlvbiBRQSh0LGUpe2lmKHQuX2RyYWdnaW5nKXtqQShlKTt2YXIgbj1lLm9mZnNldFgsaT1lLm9mZnNldFkscj10Lmdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChuLGkpLG89S0EodCxlLHIsITApO3QuX2RyYWdnaW5nPSExLHQuX3RyYWNrPVtdLHQuX2NyZWF0aW5nQ292ZXI9bnVsbCxvJiZOQSh0LG8pfX12YXIgdEQ9e2xpbmVYOmVEKDApLGxpbmVZOmVEKDEpLHJlY3Q6e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdH1yZXR1cm4gekEoe3RvUmVjdFJhbmdlOm4sZnJvbVJlY3RSYW5nZTpufSx0LGUsW1tcIndcIl0sW1wiZVwiXSxbXCJuXCJdLFtcInNcIl0sW1wic1wiLFwiZVwiXSxbXCJzXCIsXCJ3XCJdLFtcIm5cIixcImVcIl0sW1wiblwiLFwid1wiXV0pfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPUVBKHQpO3JldHVybiBIQShlWzFdWzBdLGVbMV1bMV0sZVswXVswXSxlWzBdWzFdKX0sdXBkYXRlQ292ZXJTaGFwZTpmdW5jdGlvbih0LGUsbixpKXtCQSh0LGUsbixpKX0sdXBkYXRlQ29tbW9uOlZBLGNvbnRhaW46cUF9LHBvbHlnb246e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHppO3JldHVybiBuLmFkZChuZXcgJGwoe25hbWU6XCJtYWluXCIsc3R5bGU6R0EoZSksc2lsZW50OiEwfSkpLG59LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVuZENyZWF0aW5nOmZ1bmN0aW9uKHQsZSl7ZS5yZW1vdmUoZS5jaGlsZEF0KDApKSxlLmFkZChuZXcgcWwoe25hbWU6XCJtYWluXCIsZHJhZ2dhYmxlOiEwLGRyaWZ0OlYoWEEsdCxlKSxvbmRyYWdlbmQ6VihOQSx0LHtpc0VuZDohMH0pfSkpfSx1cGRhdGVDb3ZlclNoYXBlOmZ1bmN0aW9uKHQsZSxuLGkpe2UuY2hpbGRBdCgwKS5zZXRTaGFwZSh7cG9pbnRzOlpBKHQsZSxuKX0pfSx1cGRhdGVDb21tb246VkEsY29udGFpbjpxQX19O2Z1bmN0aW9uIGVEKHQpe3JldHVybntjcmVhdGVDb3ZlcjpmdW5jdGlvbihlLG4pe3JldHVybiB6QSh7dG9SZWN0UmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIG49W2UsWzAsMTAwXV07cmV0dXJuIHQmJm4ucmV2ZXJzZSgpLG59LGZyb21SZWN0UmFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF19fSxlLG4sW1tbXCJ3XCJdLFtcImVcIl1dLFtbXCJuXCJdLFtcInNcIl1dXVt0XSl9LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIG49RUEoZSk7cmV0dXJuW3ZBKG5bMF1bdF0sblsxXVt0XSksbUEoblswXVt0XSxuWzFdW3RdKV19LHVwZGF0ZUNvdmVyU2hhcGU6ZnVuY3Rpb24oZSxuLGkscil7dmFyIG8sYT1PQShlLG4pO2lmKGEhPT15QSYmYS5nZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50KW89YS5nZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50KHQpO2Vsc2V7dmFyIHM9ZS5fenI7bz1bMCxbcy5nZXRXaWR0aCgpLHMuZ2V0SGVpZ2h0KCldWzEtdF1dfXZhciBsPVtpLG9dO3QmJmwucmV2ZXJzZSgpLEJBKGUsbixsLHIpfSx1cGRhdGVDb21tb246VkEsY29udGFpbjpxQX19ZnVuY3Rpb24gbkQodCl7cmV0dXJuIHQ9b0QodCksZnVuY3Rpb24oZSl7cmV0dXJuIFl1KGUsdCl9fWZ1bmN0aW9uIGlEKHQsZSl7cmV0dXJuIHQ9b0QodCksZnVuY3Rpb24obil7dmFyIGk9bnVsbCE9ZT9lOm4scj1pP3Qud2lkdGg6dC5oZWlnaHQsbz1pP3QueDp0Lnk7cmV0dXJuW28sbysocnx8MCldfX1mdW5jdGlvbiByRCh0LGUsbil7dmFyIGk9b0QodCk7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGkuY29udGFpbihyWzBdLHJbMV0pJiYhYU0odCxlLG4pfX1mdW5jdGlvbiBvRCh0KXtyZXR1cm4gUm4uY3JlYXRlKHQpfXZhciBhRD1bXCJheGlzTGluZVwiLFwiYXhpc1RpY2tMYWJlbFwiLFwiYXhpc05hbWVcIl0sc0Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IElBKG4uZ2V0WnIoKSkpLm9uKFwiYnJ1c2hcIixCKHRoaXMuX29uQnJ1c2gsdGhpcykpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7aWYoIWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbiYmXCJheGlzQXJlYVNlbGVjdFwiPT09bi50eXBlJiZlLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpcInBhcmFsbGVsQXhpc1wiLHF1ZXJ5Om59KVswXT09PXR9KHQsZSxpKSl7dGhpcy5heGlzTW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIHI9dGhpcy5fYXhpc0dyb3VwO2lmKHRoaXMuX2F4aXNHcm91cD1uZXcgemksdGhpcy5ncm91cC5hZGQodGhpcy5fYXhpc0dyb3VwKSx0LmdldChcInNob3dcIikpe3ZhciBvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxcIix0LmdldChcInBhcmFsbGVsSW5kZXhcIikpfSh0LGUpLGE9by5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRBcmVhU2VsZWN0U3R5bGUoKSxsPXMud2lkdGgsdT10LmF4aXMuZGltLGg9SSh7c3Ryb2tlQ29udGFpblRocmVzaG9sZDpsfSxhLmdldEF4aXNMYXlvdXQodSkpLGM9bmV3IGhTKHQsaCk7UChhRCxjLmFkZCxjKSx0aGlzLl9heGlzR3JvdXAuYWRkKGMuZ2V0R3JvdXAoKSksdGhpcy5fcmVmcmVzaEJydXNoQ29udHJvbGxlcihoLHMsdCxvLGwsbiksV3Uocix0aGlzLl9heGlzR3JvdXAsdCl9fX0sZS5wcm90b3R5cGUuX3JlZnJlc2hCcnVzaENvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPW4uYXhpcy5nZXRFeHRlbnQoKSxzPWFbMV0tYVswXSxsPU1hdGgubWluKDMwLC4xKk1hdGguYWJzKHMpKSx1PVJuLmNyZWF0ZSh7eDphWzBdLHk6LXIvMix3aWR0aDpzLGhlaWdodDpyfSk7dS54LT1sLHUud2lkdGgrPTIqbCx0aGlzLl9icnVzaENvbnRyb2xsZXIubW91bnQoe2VuYWJsZUdsb2JhbFBhbjohMCxyb3RhdGlvbjp0LnJvdGF0aW9uLHg6dC5wb3NpdGlvblswXSx5OnQucG9zaXRpb25bMV19KS5zZXRQYW5lbHMoW3twYW5lbElkOlwicGxcIixjbGlwUGF0aDpuRCh1KSxpc1RhcmdldEJ5Q3Vyc29yOnJEKHUsbyxpKSxnZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50OmlEKHUsMCl9XSkuZW5hYmxlQnJ1c2goe2JydXNoVHlwZTpcImxpbmVYXCIsYnJ1c2hTdHlsZTplLHJlbW92ZU9uQ2xpY2s6ITB9KS51cGRhdGVDb3ZlcnMoZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzO3JldHVybiBPKHQuYWN0aXZlSW50ZXJ2YWxzLChmdW5jdGlvbih0KXtyZXR1cm57YnJ1c2hUeXBlOlwibGluZVhcIixwYW5lbElkOlwicGxcIixyYW5nZTpbZS5kYXRhVG9Db29yZCh0WzBdLCEwKSxlLmRhdGFUb0Nvb3JkKHRbMV0sITApXX19KSl9KG4pKX0sZS5wcm90b3R5cGUuX29uQnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5hcmVhcyxuPXRoaXMuYXhpc01vZGVsLGk9bi5heGlzLHI9TyhlLChmdW5jdGlvbih0KXtyZXR1cm5baS5jb29yZFRvRGF0YSh0LnJhbmdlWzBdLCEwKSxpLmNvb3JkVG9EYXRhKHQucmFuZ2VbMV0sITApXX0pKTsoIW4ub3B0aW9uLnJlYWx0aW1lPT09dC5pc0VuZHx8dC5yZW1vdmVPbkNsaWNrKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJheGlzQXJlYVNlbGVjdFwiLHBhcmFsbGVsQXhpc0lkOm4uaWQsaW50ZXJ2YWxzOnJ9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2JydXNoQ29udHJvbGxlci5kaXNwb3NlKCl9LGUudHlwZT1cInBhcmFsbGVsQXhpc1wiLGV9KHBmKTt2YXIgbEQ9e3R5cGU6XCJheGlzQXJlYVNlbGVjdFwiLGV2ZW50OlwiYXhpc0FyZWFTZWxlY3RlZFwifTt2YXIgdUQ9e3R5cGU6XCJ2YWx1ZVwiLGFyZWFTZWxlY3RTdHlsZTp7d2lkdGg6MjAsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjpcInJnYmEoMTYwLDE5NywyMzIpXCIsY29sb3I6XCJyZ2JhKDE2MCwxOTcsMjMyKVwiLG9wYWNpdHk6LjN9LHJlYWx0aW1lOiEwLHo6MTB9O2Z1bmN0aW9uIGhEKHQpe3QucmVnaXN0ZXJDb21wb25lbnRWaWV3KHFDKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoSkMpLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKFwicGFyYWxsZWxcIixmQSksdC5yZWdpc3RlclByZXByb2Nlc3NvcihqQyksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGdBKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhzRCkscXcodCxcInBhcmFsbGVsXCIsZ0EsdUQpLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24obEQsKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInBhcmFsbGVsQXhpc1wiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXtlLmF4aXMubW9kZWwuc2V0QWN0aXZlSW50ZXJ2YWxzKHQuaW50ZXJ2YWxzKX0pKX0pKSx0LnJlZ2lzdGVyQWN0aW9uKFwicGFyYWxsZWxBeGlzRXhwYW5kXCIsKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInBhcmFsbGVsXCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2Uuc2V0QXhpc0V4cGFuZCh0KX0pKX0pKX0odCl9dmFyIGNEPWZ1bmN0aW9uKCl7dGhpcy54MT0wLHRoaXMueTE9MCx0aGlzLngyPTAsdGhpcy55Mj0wLHRoaXMuY3B4MT0wLHRoaXMuY3B5MT0wLHRoaXMuY3B4Mj0wLHRoaXMuY3B5Mj0wLHRoaXMuZXh0ZW50PTB9LHBEPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjRH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5leHRlbnQ7dC5tb3ZlVG8oZS54MSxlLnkxKSx0LmJlemllckN1cnZlVG8oZS5jcHgxLGUuY3B5MSxlLmNweDIsZS5jcHkyLGUueDIsZS55MiksXCJ2ZXJ0aWNhbFwiPT09ZS5vcmllbnQ/KHQubGluZVRvKGUueDIrbixlLnkyKSx0LmJlemllckN1cnZlVG8oZS5jcHgyK24sZS5jcHkyLGUuY3B4MStuLGUuY3B5MSxlLngxK24sZS55MSkpOih0LmxpbmVUbyhlLngyLGUueTIrbiksdC5iZXppZXJDdXJ2ZVRvKGUuY3B4MixlLmNweTIrbixlLmNweDEsZS5jcHkxK24sZS54MSxlLnkxK24pKSx0LmNsb3NlUGF0aCgpfSxlLnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24oKXtIcyh0aGlzKX0sZS5wcm90b3R5cGUuZG93bnBsYXk9ZnVuY3Rpb24oKXtXcyh0aGlzKX0sZX0oWmEpLGREPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fZm9jdXNBZGphY2VuY3lEaXNhYmxlZD0hMSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dC5nZXRHcmFwaCgpLG89dGhpcy5ncm91cCxhPXQubGF5b3V0SW5mbyxzPWEud2lkdGgsbD1hLmhlaWdodCx1PXQuZ2V0RGF0YSgpLGg9dC5nZXREYXRhKFwiZWRnZVwiKSxjPXQuZ2V0KFwib3JpZW50XCIpO3RoaXMuX21vZGVsPXQsby5yZW1vdmVBbGwoKSxvLng9YS54LG8ueT1hLnksci5lYWNoRWRnZSgoZnVuY3Rpb24oZSl7dmFyIG49bmV3IHBELGk9eXMobik7aS5kYXRhSW5kZXg9ZS5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LGkuZGF0YVR5cGU9XCJlZGdlXCI7dmFyIHIsYSx1LHAsZCxmLGcseSx2PWUuZ2V0TW9kZWwoKSxtPXYuZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIiksXz1tLmdldChcImN1cnZlbmVzc1wiKSx4PWUubm9kZTEuZ2V0TGF5b3V0KCksYj1lLm5vZGUxLmdldE1vZGVsKCksdz1iLmdldChcImxvY2FsWFwiKSxTPWIuZ2V0KFwibG9jYWxZXCIpLE09ZS5ub2RlMi5nZXRMYXlvdXQoKSxJPWUubm9kZTIuZ2V0TW9kZWwoKSxUPUkuZ2V0KFwibG9jYWxYXCIpLEM9SS5nZXQoXCJsb2NhbFlcIiksQT1lLmdldExheW91dCgpO3N3aXRjaChuLnNoYXBlLmV4dGVudD1NYXRoLm1heCgxLEEuZHkpLG4uc2hhcGUub3JpZW50PWMsXCJ2ZXJ0aWNhbFwiPT09Yz8ocj0obnVsbCE9dz93KnM6eC54KStBLnN5LGE9KG51bGwhPVM/UypsOngueSkreC5keSx1PShudWxsIT1UP1QqczpNLngpK0EudHksZD1yLGY9YSooMS1fKSsocD1udWxsIT1DP0MqbDpNLnkpKl8sZz11LHk9YSpfK3AqKDEtXykpOihyPShudWxsIT13P3cqczp4LngpK3guZHgsYT0obnVsbCE9Uz9TKmw6eC55KStBLnN5LGQ9ciooMS1fKSsodT1udWxsIT1UP1QqczpNLngpKl8sZj1hLGc9cipfK3UqKDEtXykseT1wPShudWxsIT1DP0MqbDpNLnkpK0EudHkpLG4uc2V0U2hhcGUoe3gxOnIseTE6YSx4Mjp1LHkyOnAsY3B4MTpkLGNweTE6ZixjcHgyOmcsY3B5Mjp5fSksbi51c2VTdHlsZShtLmdldEl0ZW1TdHlsZSgpKSxuLnN0eWxlLmZpbGwpe2Nhc2VcInNvdXJjZVwiOm4uc3R5bGUuZmlsbD1lLm5vZGUxLmdldFZpc3VhbChcImNvbG9yXCIpLG4uc3R5bGUuZGVjYWw9ZS5ub2RlMS5nZXRWaXN1YWwoXCJzdHlsZVwiKS5kZWNhbDticmVhaztjYXNlXCJ0YXJnZXRcIjpuLnN0eWxlLmZpbGw9ZS5ub2RlMi5nZXRWaXN1YWwoXCJjb2xvclwiKSxuLnN0eWxlLmRlY2FsPWUubm9kZTIuZ2V0VmlzdWFsKFwic3R5bGVcIikuZGVjYWw7YnJlYWs7Y2FzZVwiZ3JhZGllbnRcIjp2YXIgRD1lLm5vZGUxLmdldFZpc3VhbChcImNvbG9yXCIpLEw9ZS5ub2RlMi5nZXRWaXN1YWwoXCJjb2xvclwiKTtcInN0cmluZ1wiPT10eXBlb2YgRCYmXCJzdHJpbmdcIj09dHlwZW9mIEwmJihuLnN0eWxlLmZpbGw9bmV3IHV1KDAsMCwxLDAsW3tjb2xvcjpELG9mZnNldDowfSx7Y29sb3I6TCxvZmZzZXQ6MX1dKSl9dmFyIGs9di5nZXRNb2RlbChcImVtcGhhc2lzXCIpO25sKG4sdixcImxpbmVTdHlsZVwiLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRJdGVtU3R5bGUoKX0pKSxvLmFkZChuKSxoLnNldEl0ZW1HcmFwaGljRWwoZS5kYXRhSW5kZXgsbik7dmFyIFA9ay5nZXQoXCJmb2N1c1wiKTtKcyhuLFwiYWRqYWNlbmN5XCI9PT1QP2UuZ2V0QWRqYWNlbnREYXRhSW5kaWNlcygpOlAsay5nZXQoXCJibHVyU2NvcGVcIikpLHlzKG4pLmRhdGFUeXBlPVwiZWRnZVwifSkpLHIuZWFjaE5vZGUoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZ2V0TGF5b3V0KCksaT1lLmdldE1vZGVsKCkscj1pLmdldChcImxvY2FsWFwiKSxhPWkuZ2V0KFwibG9jYWxZXCIpLGg9aS5nZXRNb2RlbChcImVtcGhhc2lzXCIpLGM9bmV3IG9zKHtzaGFwZTp7eDpudWxsIT1yP3IqczpuLngseTpudWxsIT1hP2EqbDpuLnksd2lkdGg6bi5keCxoZWlnaHQ6bi5keX0sc3R5bGU6aS5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKX0pO3RoKGMsZWgoaSkse2xhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OmUuZGF0YUluZGV4LGRlZmF1bHRUZXh0OmUuaWR9KSxjLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMCxjLnNldFN0eWxlKFwiZmlsbFwiLGUuZ2V0VmlzdWFsKFwiY29sb3JcIikpLGMuc2V0U3R5bGUoXCJkZWNhbFwiLGUuZ2V0VmlzdWFsKFwic3R5bGVcIikuZGVjYWwpLG5sKGMsaSksby5hZGQoYyksdS5zZXRJdGVtR3JhcGhpY0VsKGUuZGF0YUluZGV4LGMpLHlzKGMpLmRhdGFUeXBlPVwibm9kZVwiO3ZhciBwPWguZ2V0KFwiZm9jdXNcIik7SnMoYyxcImFkamFjZW5jeVwiPT09cD9lLmdldEFkamFjZW50RGF0YUluZGljZXMoKTpwLGguZ2V0KFwiYmx1clNjb3BlXCIpKX0pKSx1LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLHIpe3UuZ2V0SXRlbU1vZGVsKHIpLmdldChcImRyYWdnYWJsZVwiKSYmKGUuZHJpZnQ9ZnVuY3Rpb24oZSxvKXtpLl9mb2N1c0FkamFjZW5jeURpc2FibGVkPSEwLHRoaXMuc2hhcGUueCs9ZSx0aGlzLnNoYXBlLnkrPW8sdGhpcy5kaXJ0eSgpLG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJkcmFnTm9kZVwiLHNlcmllc0lkOnQuaWQsZGF0YUluZGV4OnUuZ2V0UmF3SW5kZXgociksbG9jYWxYOnRoaXMuc2hhcGUueC9zLGxvY2FsWTp0aGlzLnNoYXBlLnkvbH0pfSxlLm9uZHJhZ2VuZD1mdW5jdGlvbigpe2kuX2ZvY3VzQWRqYWNlbmN5RGlzYWJsZWQ9ITF9LGUuZHJhZ2dhYmxlPSEwLGUuY3Vyc29yPVwibW92ZVwiKX0pKSwhdGhpcy5fZGF0YSYmdC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmby5zZXRDbGlwUGF0aChmdW5jdGlvbih0LGUsbil7dmFyIGk9bmV3IG9zKHtzaGFwZTp7eDp0LngtMTAseTp0LnktMTAsd2lkdGg6MCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSk7cmV0dXJuIFJ1KGkse3NoYXBlOnt3aWR0aDp0LndpZHRoKzIwfX0sZSxuKSxpfShvLmdldEJvdW5kaW5nUmVjdCgpLHQsKGZ1bmN0aW9uKCl7by5yZW1vdmVDbGlwUGF0aCgpfSkpKSx0aGlzLl9kYXRhPXQuZ2V0RGF0YSgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxlLnR5cGU9XCJzYW5rZXlcIixlfSh5Zik7dmFyIGZEPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lZGdlc3x8dC5saW5rcyxpPXQuZGF0YXx8dC5ub2RlcyxyPXQubGV2ZWxzO3RoaXMubGV2ZWxNb2RlbHM9W107Zm9yKHZhciBvPXRoaXMubGV2ZWxNb2RlbHMsYT0wO2E8ci5sZW5ndGg7YSsrKW51bGwhPXJbYV0uZGVwdGgmJnJbYV0uZGVwdGg+PTAmJihvW3JbYV0uZGVwdGhdPW5ldyBTaChyW2FdLHRoaXMsZSkpO2lmKGkmJm4pcmV0dXJuIElDKGksbix0aGlzLCEwLChmdW5jdGlvbih0LGUpe3Qud3JhcE1ldGhvZChcImdldEl0ZW1Nb2RlbFwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXQucGFyZW50TW9kZWwsaT1uLmdldERhdGEoKS5nZXRJdGVtTGF5b3V0KGUpO2lmKGkpe3ZhciByPWkuZGVwdGgsbz1uLmxldmVsTW9kZWxzW3JdO28mJih0LnBhcmVudE1vZGVsPW8pfXJldHVybiB0fSkpLGUud3JhcE1ldGhvZChcImdldEl0ZW1Nb2RlbFwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXQucGFyZW50TW9kZWwsaT1uLmdldEdyYXBoKCkuZ2V0RWRnZUJ5SW5kZXgoZSkubm9kZTEuZ2V0TGF5b3V0KCk7aWYoaSl7dmFyIHI9aS5kZXB0aCxvPW4ubGV2ZWxNb2RlbHNbcl07byYmKHQucGFyZW50TW9kZWw9byl9cmV0dXJuIHR9KSl9KSkuZGF0YX0sZS5wcm90b3R5cGUuc2V0Tm9kZVBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb24uZGF0YVt0XTtuLmxvY2FsWD1lWzBdLG4ubG9jYWxZPWVbMV19LGUucHJvdG90eXBlLmdldEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmdyYXBofSxlLnByb3RvdHlwZS5nZXRFZGdlRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdyYXBoKCkuZWRnZURhdGF9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkodCl7cmV0dXJuIGlzTmFOKHQpfHxudWxsPT10fWlmKFwiZWRnZVwiPT09bil7dmFyIHI9dGhpcy5nZXREYXRhUGFyYW1zKHQsbiksbz1yLmRhdGEsYT1yLnZhbHVlO3JldHVybiBZZChcIm5hbWVWYWx1ZVwiLHtuYW1lOm8uc291cmNlK1wiIC0tIFwiK28udGFyZ2V0LHZhbHVlOmEsbm9WYWx1ZTppKGEpfSl9dmFyIHM9dGhpcy5nZXRHcmFwaCgpLmdldE5vZGVCeUluZGV4KHQpLmdldExheW91dCgpLnZhbHVlLGw9dGhpcy5nZXREYXRhUGFyYW1zKHQsbikuZGF0YS5uYW1lO3JldHVybiBZZChcIm5hbWVWYWx1ZVwiLHtuYW1lOm51bGwhPWw/bCtcIlwiOm51bGwsdmFsdWU6cyxub1ZhbHVlOmkocyl9KX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uOyEwPT09dC5mb2N1c05vZGVBZGphY2VuY3kmJih0LmZvY3VzTm9kZUFkamFjZW5jeT1cImFsbEVkZ2VzXCIpfSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUsbil7dmFyIGk9dC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5jYWxsKHRoaXMsZSxuKTtpZihudWxsPT1pLnZhbHVlJiZcIm5vZGVcIj09PW4pe3ZhciByPXRoaXMuZ2V0R3JhcGgoKS5nZXROb2RlQnlJbmRleChlKS5nZXRMYXlvdXQoKS52YWx1ZTtpLnZhbHVlPXJ9cmV0dXJuIGl9LGUudHlwZT1cInNlcmllcy5zYW5rZXlcIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwidmlld1wiLGxlZnQ6XCI1JVwiLHRvcDpcIjUlXCIscmlnaHQ6XCIyMCVcIixib3R0b206XCI1JVwiLG9yaWVudDpcImhvcml6b250YWxcIixub2RlV2lkdGg6MjAsbm9kZUdhcDo4LGRyYWdnYWJsZTohMCxmb2N1c05vZGVBZGphY2VuY3k6ITEsbGF5b3V0SXRlcmF0aW9uczozMixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpcInJpZ2h0XCIsZm9udFNpemU6MTJ9LGxldmVsczpbXSxub2RlQWxpZ246XCJqdXN0aWZ5XCIsbGluZVN0eWxlOntjb2xvcjpcIiMzMTQ2NTZcIixvcGFjaXR5Oi4yLGN1cnZlbmVzczouNX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfSxsaW5lU3R5bGU6e29wYWNpdHk6LjV9fSxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6XCIjMjEyMTIxXCJ9fSxhbmltYXRpb25FYXNpbmc6XCJsaW5lYXJcIixhbmltYXRpb25EdXJhdGlvbjoxZTN9LGV9KHJmKTtmdW5jdGlvbiBnRCh0LGUpe3QuZWFjaFNlcmllc0J5VHlwZShcInNhbmtleVwiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldChcIm5vZGVXaWR0aFwiKSxpPXQuZ2V0KFwibm9kZUdhcFwiKSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFjKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUpO3QubGF5b3V0SW5mbz1yO3ZhciBvPXIud2lkdGgsYT1yLmhlaWdodCxzPXQuZ2V0R3JhcGgoKSxsPXMubm9kZXMsdT1zLmVkZ2VzOyFmdW5jdGlvbih0KXtQKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPUlEKHQub3V0RWRnZXMsTUQpLG49SUQodC5pbkVkZ2VzLE1EKSxpPXQuZ2V0VmFsdWUoKXx8MCxyPU1hdGgubWF4KGUsbixpKTt0LnNldExheW91dCh7dmFsdWU6cn0sITApfSkpfShsKSxmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7KGZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe2Zvcih2YXIgcz1bXSxsPVtdLHU9W10saD1bXSxjPTAscD0wO3A8ZS5sZW5ndGg7cCsrKXNbcF09MTtmb3IocD0wO3A8dC5sZW5ndGg7cCsrKWxbcF09dFtwXS5pbkVkZ2VzLmxlbmd0aCwwPT09bFtwXSYmdS5wdXNoKHRbcF0pO3ZhciBkPS0xO2Zvcig7dS5sZW5ndGg7KXtmb3IodmFyIGY9MDtmPHUubGVuZ3RoO2YrKyl7dmFyIGc9dVtmXSx5PWcuaG9zdEdyYXBoLmRhdGEuZ2V0UmF3RGF0YUl0ZW0oZy5kYXRhSW5kZXgpLHY9bnVsbCE9eS5kZXB0aCYmeS5kZXB0aD49MDt2JiZ5LmRlcHRoPmQmJihkPXkuZGVwdGgpLGcuc2V0TGF5b3V0KHtkZXB0aDp2P3kuZGVwdGg6Y30sITApLFwidmVydGljYWxcIj09PW8/Zy5zZXRMYXlvdXQoe2R5Om59LCEwKTpnLnNldExheW91dCh7ZHg6bn0sITApO2Zvcih2YXIgbT0wO208Zy5vdXRFZGdlcy5sZW5ndGg7bSsrKXt2YXIgXz1nLm91dEVkZ2VzW21dO3NbZS5pbmRleE9mKF8pXT0wO3ZhciB4PV8ubm9kZTI7MD09LS1sW3QuaW5kZXhPZih4KV0mJmguaW5kZXhPZih4KTwwJiZoLnB1c2goeCl9fSsrYyx1PWgsaD1bXX1mb3IocD0wO3A8cy5sZW5ndGg7cCsrKWlmKDE9PT1zW3BdKXRocm93IG5ldyBFcnJvcihcIlNhbmtleSBpcyBhIERBRywgdGhlIG9yaWdpbmFsIGRhdGEgaGFzIGN5Y2xlIVwiKTt2YXIgYj1kPmMtMT9kOmMtMTthJiZcImxlZnRcIiE9PWEmJmZ1bmN0aW9uKHQsZSxuLGkpe2lmKFwicmlnaHRcIj09PWUpe2Zvcih2YXIgcj1bXSxvPXQsYT0wO28ubGVuZ3RoOyl7Zm9yKHZhciBzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBsPW9bc107bC5zZXRMYXlvdXQoe3NrTm9kZUhlaWdodDphfSwhMCk7Zm9yKHZhciB1PTA7dTxsLmluRWRnZXMubGVuZ3RoO3UrKyl7dmFyIGg9bC5pbkVkZ2VzW3VdO3IuaW5kZXhPZihoLm5vZGUxKTwwJiZyLnB1c2goaC5ub2RlMSl9fW89cixyPVtdLCsrYX1QKHQsKGZ1bmN0aW9uKHQpe3lEKHQpfHx0LnNldExheW91dCh7ZGVwdGg6TWF0aC5tYXgoMCxpLXQuZ2V0TGF5b3V0KCkuc2tOb2RlSGVpZ2h0KX0sITApfSkpfWVsc2VcImp1c3RpZnlcIj09PWUmJmZ1bmN0aW9uKHQsZSl7UCh0LChmdW5jdGlvbih0KXt5RCh0KXx8dC5vdXRFZGdlcy5sZW5ndGh8fHQuc2V0TGF5b3V0KHtkZXB0aDplfSwhMCl9KSl9KHQsaSl9KHQsYSwwLGIpOyFmdW5jdGlvbih0LGUsbil7UCh0LChmdW5jdGlvbih0KXt2YXIgaT10LmdldExheW91dCgpLmRlcHRoKmU7XCJ2ZXJ0aWNhbFwiPT09bj90LnNldExheW91dCh7eTppfSwhMCk6dC5zZXRMYXlvdXQoe3g6aX0sITApfSkpfSh0LFwidmVydGljYWxcIj09PW8/KHItbikvYjooaS1uKS9iLG8pfSkodCxlLG4scixvLHMsbCksZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXSxpPVwidmVydGljYWxcIj09PWU/XCJ5XCI6XCJ4XCIscj16cih0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRMYXlvdXQoKVtpXX0pKTtyZXR1cm4gci5rZXlzLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pKSxQKHIua2V5cywoZnVuY3Rpb24odCl7bi5wdXNoKHIuYnVja2V0cy5nZXQodCkpfSkpLG59KHQsYSk7KGZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT0xLzA7UCh0LChmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxzPTA7UCh0LChmdW5jdGlvbih0KXtzKz10LmdldExheW91dCgpLnZhbHVlfSkpO3ZhciBsPVwidmVydGljYWxcIj09PW8/KGktKGUtMSkqcikvczoobi0oZS0xKSpyKS9zO2w8YSYmKGE9bCl9KSksUCh0LChmdW5jdGlvbih0KXtQKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRMYXlvdXQoKS52YWx1ZSphO1widmVydGljYWxcIj09PW8/KHQuc2V0TGF5b3V0KHt4OmV9LCEwKSx0LnNldExheW91dCh7ZHg6bn0sITApKToodC5zZXRMYXlvdXQoe3k6ZX0sITApLHQuc2V0TGF5b3V0KHtkeTpufSwhMCkpfSkpfSkpLFAoZSwoZnVuY3Rpb24odCl7dmFyIGU9K3QuZ2V0VmFsdWUoKSphO3Quc2V0TGF5b3V0KHtkeTplfSwhMCl9KSl9KShzLGUsbixpLHIsYSksdkQocyxyLG4saSxhKTtmb3IodmFyIGw9MTtvPjA7by0tKW1EKHMsbCo9Ljk5LGEpLHZEKHMscixuLGksYSksVEQocyxsLGEpLHZEKHMscixuLGksYSl9KHQsZSxvLHIsaSxhLHMpLGZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ2ZXJ0aWNhbFwiPT09ZT9cInhcIjpcInlcIjtQKHQsKGZ1bmN0aW9uKHQpe3Qub3V0RWRnZXMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ub2RlMi5nZXRMYXlvdXQoKVtuXS1lLm5vZGUyLmdldExheW91dCgpW25dfSkpLHQuaW5FZGdlcy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm5vZGUxLmdldExheW91dCgpW25dLWUubm9kZTEuZ2V0TGF5b3V0KClbbl19KSl9KSksUCh0LChmdW5jdGlvbih0KXt2YXIgZT0wLG49MDtQKHQub3V0RWRnZXMsKGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHtzeTplfSwhMCksZSs9dC5nZXRMYXlvdXQoKS5keX0pKSxQKHQuaW5FZGdlcywoZnVuY3Rpb24odCl7dC5zZXRMYXlvdXQoe3R5Om59LCEwKSxuKz10LmdldExheW91dCgpLmR5fSkpfSkpfSh0LHMpfShsLHUsbixpLG8sYSwwIT09TihsLChmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuZ2V0TGF5b3V0KCkudmFsdWV9KSkubGVuZ3RoPzA6dC5nZXQoXCJsYXlvdXRJdGVyYXRpb25zXCIpLHQuZ2V0KFwib3JpZW50XCIpLHQuZ2V0KFwibm9kZUFsaWduXCIpKX0pKX1mdW5jdGlvbiB5RCh0KXt2YXIgZT10Lmhvc3RHcmFwaC5kYXRhLmdldFJhd0RhdGFJdGVtKHQuZGF0YUluZGV4KTtyZXR1cm4gbnVsbCE9ZS5kZXB0aCYmZS5kZXB0aD49MH1mdW5jdGlvbiB2RCh0LGUsbixpLHIpe3ZhciBvPVwidmVydGljYWxcIj09PXI/XCJ4XCI6XCJ5XCI7UCh0LChmdW5jdGlvbih0KXt2YXIgYSxzLGw7dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldExheW91dCgpW29dLWUuZ2V0TGF5b3V0KClbb119KSk7Zm9yKHZhciB1PTAsaD10Lmxlbmd0aCxjPVwidmVydGljYWxcIj09PXI/XCJkeFwiOlwiZHlcIixwPTA7cDxoO3ArKykobD11LShzPXRbcF0pLmdldExheW91dCgpW29dKT4wJiYoYT1zLmdldExheW91dCgpW29dK2wsXCJ2ZXJ0aWNhbFwiPT09cj9zLnNldExheW91dCh7eDphfSwhMCk6cy5zZXRMYXlvdXQoe3k6YX0sITApKSx1PXMuZ2V0TGF5b3V0KClbb10rcy5nZXRMYXlvdXQoKVtjXStlO2lmKChsPXUtZS0oXCJ2ZXJ0aWNhbFwiPT09cj9pOm4pKT4wKXthPXMuZ2V0TGF5b3V0KClbb10tbCxcInZlcnRpY2FsXCI9PT1yP3Muc2V0TGF5b3V0KHt4OmF9LCEwKTpzLnNldExheW91dCh7eTphfSwhMCksdT1hO2ZvcihwPWgtMjtwPj0wOy0tcCkobD0ocz10W3BdKS5nZXRMYXlvdXQoKVtvXStzLmdldExheW91dCgpW2NdK2UtdSk+MCYmKGE9cy5nZXRMYXlvdXQoKVtvXS1sLFwidmVydGljYWxcIj09PXI/cy5zZXRMYXlvdXQoe3g6YX0sITApOnMuc2V0TGF5b3V0KHt5OmF9LCEwKSksdT1zLmdldExheW91dCgpW29dfX0pKX1mdW5jdGlvbiBtRCh0LGUsbil7UCh0LnNsaWNlKCkucmV2ZXJzZSgpLChmdW5jdGlvbih0KXtQKHQsKGZ1bmN0aW9uKHQpe2lmKHQub3V0RWRnZXMubGVuZ3RoKXt2YXIgaT1JRCh0Lm91dEVkZ2VzLF9ELG4pL0lEKHQub3V0RWRnZXMsTUQpO2lmKGlzTmFOKGkpKXt2YXIgcj10Lm91dEVkZ2VzLmxlbmd0aDtpPXI/SUQodC5vdXRFZGdlcyx4RCxuKS9yOjB9aWYoXCJ2ZXJ0aWNhbFwiPT09bil7dmFyIG89dC5nZXRMYXlvdXQoKS54KyhpLVNEKHQsbikpKmU7dC5zZXRMYXlvdXQoe3g6b30sITApfWVsc2V7dmFyIGE9dC5nZXRMYXlvdXQoKS55KyhpLVNEKHQsbikpKmU7dC5zZXRMYXlvdXQoe3k6YX0sITApfX19KSl9KSl9ZnVuY3Rpb24gX0QodCxlKXtyZXR1cm4gU0QodC5ub2RlMixlKSp0LmdldFZhbHVlKCl9ZnVuY3Rpb24geEQodCxlKXtyZXR1cm4gU0QodC5ub2RlMixlKX1mdW5jdGlvbiBiRCh0LGUpe3JldHVybiBTRCh0Lm5vZGUxLGUpKnQuZ2V0VmFsdWUoKX1mdW5jdGlvbiB3RCh0LGUpe3JldHVybiBTRCh0Lm5vZGUxLGUpfWZ1bmN0aW9uIFNEKHQsZSl7cmV0dXJuXCJ2ZXJ0aWNhbFwiPT09ZT90LmdldExheW91dCgpLngrdC5nZXRMYXlvdXQoKS5keC8yOnQuZ2V0TGF5b3V0KCkueSt0LmdldExheW91dCgpLmR5LzJ9ZnVuY3Rpb24gTUQodCl7cmV0dXJuIHQuZ2V0VmFsdWUoKX1mdW5jdGlvbiBJRCh0LGUsbil7Zm9yKHZhciBpPTAscj10Lmxlbmd0aCxvPS0xOysrbzxyOyl7dmFyIGE9K2UodFtvXSxuKTtpc05hTihhKXx8KGkrPWEpfXJldHVybiBpfWZ1bmN0aW9uIFREKHQsZSxuKXtQKHQsKGZ1bmN0aW9uKHQpe1AodCwoZnVuY3Rpb24odCl7aWYodC5pbkVkZ2VzLmxlbmd0aCl7dmFyIGk9SUQodC5pbkVkZ2VzLGJELG4pL0lEKHQuaW5FZGdlcyxNRCk7aWYoaXNOYU4oaSkpe3ZhciByPXQuaW5FZGdlcy5sZW5ndGg7aT1yP0lEKHQuaW5FZGdlcyx3RCxuKS9yOjB9aWYoXCJ2ZXJ0aWNhbFwiPT09bil7dmFyIG89dC5nZXRMYXlvdXQoKS54KyhpLVNEKHQsbikpKmU7dC5zZXRMYXlvdXQoe3g6b30sITApfWVsc2V7dmFyIGE9dC5nZXRMYXlvdXQoKS55KyhpLVNEKHQsbikpKmU7dC5zZXRMYXlvdXQoe3k6YX0sITApfX19KSl9KSl9ZnVuY3Rpb24gQ0QodCl7dC5lYWNoU2VyaWVzQnlUeXBlKFwic2Fua2V5XCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGgoKS5ub2RlcztpZihlLmxlbmd0aCl7dmFyIG49MS8wLGk9LTEvMDtQKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGF5b3V0KCkudmFsdWU7ZTxuJiYobj1lKSxlPmkmJihpPWUpfSkpLFAoZSwoZnVuY3Rpb24oZSl7dmFyIHI9bmV3IGpJKHt0eXBlOlwiY29sb3JcIixtYXBwaW5nTWV0aG9kOlwibGluZWFyXCIsZGF0YUV4dGVudDpbbixpXSx2aXN1YWw6dC5nZXQoXCJjb2xvclwiKX0pLm1hcFZhbHVlVG9WaXN1YWwoZS5nZXRMYXlvdXQoKS52YWx1ZSksbz1lLmdldE1vZGVsKCkuZ2V0KFtcIml0ZW1TdHlsZVwiLFwiY29sb3JcIl0pO251bGwhPW8/KGUuc2V0VmlzdWFsKFwiY29sb3JcIixvKSxlLnNldFZpc3VhbChcInN0eWxlXCIse2ZpbGw6b30pKTooZS5zZXRWaXN1YWwoXCJjb2xvclwiLHIpLGUuc2V0VmlzdWFsKFwic3R5bGVcIix7ZmlsbDpyfSkpfSkpfX0pKX12YXIgQUQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuLGkscj1lLmdldENvbXBvbmVudChcInhBeGlzXCIsdGhpcy5nZXQoXCJ4QXhpc0luZGV4XCIpKSxvPWUuZ2V0Q29tcG9uZW50KFwieUF4aXNcIix0aGlzLmdldChcInlBeGlzSW5kZXhcIikpLGE9ci5nZXQoXCJ0eXBlXCIpLHM9by5nZXQoXCJ0eXBlXCIpO1wiY2F0ZWdvcnlcIj09PWE/KHQubGF5b3V0PVwiaG9yaXpvbnRhbFwiLG49ci5nZXRPcmRpbmFsTWV0YSgpLGk9ITApOlwiY2F0ZWdvcnlcIj09PXM/KHQubGF5b3V0PVwidmVydGljYWxcIixuPW8uZ2V0T3JkaW5hbE1ldGEoKSxpPSEwKTp0LmxheW91dD10LmxheW91dHx8XCJob3Jpem9udGFsXCI7dmFyIGw9W1wieFwiLFwieVwiXSx1PVwiaG9yaXpvbnRhbFwiPT09dC5sYXlvdXQ/MDoxLGg9dGhpcy5fYmFzZUF4aXNEaW09bFt1XSxjPWxbMS11XSxwPVtyLG9dLGQ9cFt1XS5nZXQoXCJ0eXBlXCIpLGY9cFsxLXVdLmdldChcInR5cGVcIiksZz10LmRhdGE7aWYoZyYmaSl7dmFyIHk9W107UChnLChmdW5jdGlvbih0LGUpe3ZhciBuO0YodCk/KG49dC5zbGljZSgpLHQudW5zaGlmdChlKSk6Rih0LnZhbHVlKT8obj10LnZhbHVlLnNsaWNlKCksdC52YWx1ZS51bnNoaWZ0KGUpKTpuPXQseS5wdXNoKG4pfSkpLHQuZGF0YT15fXZhciB2PXRoaXMuZGVmYXVsdFZhbHVlRGltZW5zaW9ucyxtPVt7bmFtZTpoLHR5cGU6YW0oZCksb3JkaW5hbE1ldGE6bixvdGhlckRpbXM6e3Rvb2x0aXA6ITEsaXRlbU5hbWU6MH0sZGltc0RlZjpbXCJiYXNlXCJdfSx7bmFtZTpjLHR5cGU6YW0oZiksZGltc0RlZjp2LnNsaWNlKCl9XTtyZXR1cm4gUncodGhpcyx7Y29vcmREaW1lbnNpb25zOm0sZGltZW5zaW9uc0NvdW50OnYubGVuZ3RoKzEsZW5jb2RlRGVmYXVsdGVyOlYoSmMsbSx0aGlzKX0pfSx0LnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2Jhc2VBeGlzRGltO3JldHVybiB0aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KHQrXCJBeGlzXCIsdGhpcy5nZXQodCtcIkF4aXNJbmRleFwiKSkuYXhpc30sdH0oKSxERD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uZGVmYXVsdFZhbHVlRGltZW5zaW9ucz1be25hbWU6XCJtaW5cIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6XCJRMVwiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZTpcIm1lZGlhblwiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZTpcIlEzXCIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOlwibWF4XCIsZGVmYXVsdFRvb2x0aXA6ITB9XSxuLnZpc3VhbERyYXdUeXBlPVwic3Ryb2tlXCIsbn1yZXR1cm4gbihlLHQpLGUudHlwZT1cInNlcmllcy5ib3hwbG90XCIsZS5kZXBlbmRlbmNpZXM9W1wieEF4aXNcIixcInlBeGlzXCIsXCJncmlkXCJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06XCJjYXJ0ZXNpYW4yZFwiLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxib3hXaWR0aDpbNyw1MF0saXRlbVN0eWxlOntjb2xvcjpcIiNmZmZcIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7c2NhbGU6ITAsaXRlbVN0eWxlOntib3JkZXJXaWR0aDoyLHNoYWRvd0JsdXI6NSxzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHNoYWRvd0NvbG9yOlwicmdiYSgwLDAsMCwwLjIpXCJ9fSxhbmltYXRpb25EdXJhdGlvbjo4MDB9LGV9KHJmKTtMKERELEFELCEwKTt2YXIgTEQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMuZ3JvdXAsbz10aGlzLl9kYXRhO3RoaXMuX2RhdGF8fHIucmVtb3ZlQWxsKCk7dmFyIGE9XCJob3Jpem9udGFsXCI9PT10LmdldChcImxheW91dFwiKT8xOjA7aS5kaWZmKG8pLmFkZCgoZnVuY3Rpb24odCl7aWYoaS5oYXNWYWx1ZSh0KSl7dmFyIGU9T0QoaS5nZXRJdGVtTGF5b3V0KHQpLGksdCxhLCEwKTtpLnNldEl0ZW1HcmFwaGljRWwodCxlKSxyLmFkZChlKX19KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe3ZhciBuPW8uZ2V0SXRlbUdyYXBoaWNFbChlKTtpZihpLmhhc1ZhbHVlKHQpKXt2YXIgcz1pLmdldEl0ZW1MYXlvdXQodCk7bj9SRChzLG4saSx0KTpuPU9EKHMsaSx0LGEpLHIuYWRkKG4pLGkuc2V0SXRlbUdyYXBoaWNFbCh0LG4pfWVsc2Ugci5yZW1vdmUobil9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1vLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmci5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9aX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO3RoaXMuX2RhdGE9bnVsbCxuJiZuLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0JiZlLnJlbW92ZSh0KX0pKX0sZS50eXBlPVwiYm94cGxvdFwiLGV9KHlmKSxrRD1mdW5jdGlvbigpe30sUEQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPVwiYm94cGxvdEJveFBhdGhcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBrRH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHMsaT0wO2Zvcih0Lm1vdmVUbyhuW2ldWzBdLG5baV1bMV0pLGkrKztpPDQ7aSsrKXQubGluZVRvKG5baV1bMF0sbltpXVsxXSk7Zm9yKHQuY2xvc2VQYXRoKCk7aTxuLmxlbmd0aDtpKyspdC5tb3ZlVG8obltpXVswXSxuW2ldWzFdKSxpKyssdC5saW5lVG8obltpXVswXSxuW2ldWzFdKX0sZX0oWmEpO2Z1bmN0aW9uIE9EKHQsZSxuLGkscil7dmFyIG89dC5lbmRzLGE9bmV3IFBEKHtzaGFwZTp7cG9pbnRzOnI/TkQobyxpLHQpOm99fSk7cmV0dXJuIFJEKHQsYSxlLG4sciksYX1mdW5jdGlvbiBSRCh0LGUsbixpLHIpe3ZhciBvPW4uaG9zdE1vZGVsOygwLEt1W3I/XCJpbml0UHJvcHNcIjpcInVwZGF0ZVByb3BzXCJdKShlLHtzaGFwZTp7cG9pbnRzOnQuZW5kc319LG8saSksZS51c2VTdHlsZShuLmdldEl0ZW1WaXN1YWwoaSxcInN0eWxlXCIpKSxlLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsZS56Mj0xMDA7dmFyIGE9bi5nZXRJdGVtTW9kZWwoaSk7bmwoZSxhKSxKcyhlLGEuZ2V0KFtcImVtcGhhc2lzXCIsXCJmb2N1c1wiXSksYS5nZXQoW1wiZW1waGFzaXNcIixcImJsdXJTY29wZVwiXSkpfWZ1bmN0aW9uIE5EKHQsZSxuKXtyZXR1cm4gTyh0LChmdW5jdGlvbih0KXtyZXR1cm4odD10LnNsaWNlKCkpW2VdPW4uaW5pdEJhc2VsaW5lLHR9KSl9ZnVuY3Rpb24gRUQodCxlKXt0LmVhY2hSYXdTZXJpZXNCeVR5cGUoXCJib3hwbG90XCIsKGZ1bmN0aW9uKHQpe3QuZ2V0RGF0YSgpLnNldFZpc3VhbChcImxlZ2VuZFN5bWJvbFwiLFwicm91bmRSZWN0XCIpfSkpfXZhciB6RD1QO2Z1bmN0aW9uIEJEKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W107cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZShcImJveHBsb3RcIiwoZnVuY3Rpb24odCl7dmFyIGk9dC5nZXRCYXNlQXhpcygpLHI9QShuLGkpO3I8MCYmKHI9bi5sZW5ndGgsbltyXT1pLGVbcl09e2F4aXM6aSxzZXJpZXNNb2RlbHM6W119KSxlW3JdLnNlcmllc01vZGVscy5wdXNoKHQpfSkpLGV9KHQpO3pEKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWxzO2UubGVuZ3RoJiYoIWZ1bmN0aW9uKHQpe3ZhciBlLG4saT10LmF4aXMscj10LnNlcmllc01vZGVscyxvPXIubGVuZ3RoLGE9dC5ib3hXaWR0aExpc3Q9W10scz10LmJveE9mZnNldExpc3Q9W10sbD1bXTtpZihcImNhdGVnb3J5XCI9PT1pLnR5cGUpbj1pLmdldEJhbmRXaWR0aCgpO2Vsc2V7dmFyIHU9MDt6RChyLChmdW5jdGlvbih0KXt1PU1hdGgubWF4KHUsdC5nZXREYXRhKCkuY291bnQoKSl9KSksZT1pLmdldEV4dGVudCgpLE1hdGguYWJzKGVbMV0tZVswXSl9ekQociwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJib3hXaWR0aFwiKTtGKGUpfHwoZT1bZSxlXSksbC5wdXNoKFtaaShlWzBdLG4pfHwwLFppKGVbMV0sbil8fDBdKX0pKTt2YXIgaD0uOCpuLTIsYz1oL28qLjMscD0oaC1jKihvLTEpKS9vLGQ9cC8yLWgvMjt6RChyLChmdW5jdGlvbih0LGUpe3MucHVzaChkKSxkKz1jK3AsYS5wdXNoKE1hdGgubWluKE1hdGgubWF4KHAsbFtlXVswXSksbFtlXVsxXSkpfSkpfSh0KSx6RChlLChmdW5jdGlvbihlLG4peyFmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dC5nZXREYXRhKCksbz1uLzIsYT1cImhvcml6b250YWxcIj09PXQuZ2V0KFwibGF5b3V0XCIpPzA6MSxzPTEtYSxsPVtcInhcIixcInlcIl0sdT1yLm1hcERpbWVuc2lvbihsW2FdKSxoPXIubWFwRGltZW5zaW9uc0FsbChsW3NdKTtpZihudWxsPT11fHxoLmxlbmd0aDw1KXJldHVybjtmb3IodmFyIGM9MDtjPHIuY291bnQoKTtjKyspe3ZhciBwPXIuZ2V0KHUsYyksZD1fKHAsaFsyXSxjKSxmPV8ocCxoWzBdLGMpLGc9XyhwLGhbMV0sYykseT1fKHAsaFszXSxjKSx2PV8ocCxoWzRdLGMpLG09W107eChtLGcsITEpLHgobSx5LCEwKSxtLnB1c2goZixnLHYseSksYihtLGYpLGIobSx2KSxiKG0sZCksci5zZXRJdGVtTGF5b3V0KGMse2luaXRCYXNlbGluZTpkW3NdLGVuZHM6bX0pfWZ1bmN0aW9uIF8odCxuLG8pe3ZhciBsLHU9ci5nZXQobixvKSxoPVtdO3JldHVybiBoW2FdPXQsaFtzXT11LGlzTmFOKHQpfHxpc05hTih1KT9sPVtOYU4sTmFOXToobD1pLmRhdGFUb1BvaW50KGgpKVthXSs9ZSxsfWZ1bmN0aW9uIHgodCxlLG4pe3ZhciBpPWUuc2xpY2UoKSxyPWUuc2xpY2UoKTtpW2FdKz1vLHJbYV0tPW8sbj90LnB1c2goaSxyKTp0LnB1c2gocixpKX1mdW5jdGlvbiBiKHQsZSl7dmFyIG49ZS5zbGljZSgpLGk9ZS5zbGljZSgpO25bYV0tPW8saVthXSs9byx0LnB1c2gobixpKX19KGUsdC5ib3hPZmZzZXRMaXN0W25dLHQuYm94V2lkdGhMaXN0W25dKX0pKSl9KSl9dmFyIFZEPXt0eXBlOlwiZWNoYXJ0czpib3hwbG90XCIsdHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlPXQudXBzdHJlYW07aWYoZS5zb3VyY2VGb3JtYXQhPT1HYyl7dmFyIG49XCJcIjswLHlyKG4pfXZhciBpPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9W10scj0oZT1lfHx7fSkuYm91bmRJUVIsbz1cIm5vbmVcIj09PXJ8fDA9PT1yLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9cWkodFthXS5zbGljZSgpKSxsPWxyKHMsLjI1KSx1PWxyKHMsLjUpLGg9bHIocywuNzUpLGM9c1swXSxwPXNbcy5sZW5ndGgtMV0sZD0obnVsbD09cj8xLjU6cikqKGgtbCksZj1vP2M6TWF0aC5tYXgoYyxsLWQpLGc9bz9wOk1hdGgubWluKHAsaCtkKSx5PWUuaXRlbU5hbWVGb3JtYXR0ZXIsdj1HKHkpP3koe3ZhbHVlOmF9KTpIKHkpP3kucmVwbGFjZShcInt2YWx1ZX1cIixhK1wiXCIpOmErXCJcIjtuLnB1c2goW3YsZixsLHUsaCxnXSk7Zm9yKHZhciBtPTA7bTxzLmxlbmd0aDttKyspe3ZhciBfPXNbbV07aWYoXzxmfHxfPmcpe3ZhciB4PVt2LF9dO2kucHVzaCh4KX19fXJldHVybntib3hEYXRhOm4sb3V0bGllcnM6aX19KGUuZ2V0UmF3RGF0YSgpLHQuY29uZmlnKTtyZXR1cm5be2RpbWVuc2lvbnM6W1wiSXRlbU5hbWVcIixcIkxvd1wiLFwiUTFcIixcIlEyXCIsXCJRM1wiLFwiSGlnaFwiXSxkYXRhOmkuYm94RGF0YX0se2RhdGE6aS5vdXRsaWVyc31dfX07dmFyIEZEPVtcImNvbG9yXCIsXCJib3JkZXJDb2xvclwiXSxHRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KSx0aGlzLl9pc0xhcmdlRHJhdz90aGlzLl9yZW5kZXJMYXJnZSh0KTp0aGlzLl9yZW5kZXJOb3JtYWwodCl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fY2xlYXIoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5faXNMYXJnZURyYXc/dGhpcy5faW5jcmVtZW50YWxSZW5kZXJMYXJnZSh0LGUpOnRoaXMuX2luY3JlbWVudGFsUmVuZGVyTm9ybWFsKHQsZSl9LGUucHJvdG90eXBlLl91cGRhdGVEcmF3TW9kZT1mdW5jdGlvbih0KXt2YXIgZT10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTtudWxsIT10aGlzLl9pc0xhcmdlRHJhdyYmZT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwodGhpcy5faXNMYXJnZURyYXc9ZSx0aGlzLl9jbGVhcigpKX0sZS5wcm90b3R5cGUuX3JlbmRlck5vcm1hbD1mdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXRoaXMuX2RhdGEsaT10aGlzLmdyb3VwLHI9ZS5nZXRMYXlvdXQoXCJpc1NpbXBsZUJveFwiKSxvPXQuZ2V0KFwiY2xpcFwiLCEwKSxhPXQuY29vcmRpbmF0ZVN5c3RlbSxzPWEuZ2V0QXJlYSYmYS5nZXRBcmVhKCk7dGhpcy5fZGF0YXx8aS5yZW1vdmVBbGwoKSxlLmRpZmYobikuYWRkKChmdW5jdGlvbihuKXtpZihlLmhhc1ZhbHVlKG4pKXt2YXIgYT1lLmdldEl0ZW1MYXlvdXQobik7aWYobyYmWEQocyxhKSlyZXR1cm47dmFyIGw9WUQoYSxuLCEwKTtSdShsLHtzaGFwZTp7cG9pbnRzOmEuZW5kc319LHQsbiksVUQobCxlLG4sciksaS5hZGQobCksZS5zZXRJdGVtR3JhcGhpY0VsKG4sbCl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oYSxsKXt2YXIgdT1uLmdldEl0ZW1HcmFwaGljRWwobCk7aWYoZS5oYXNWYWx1ZShhKSl7dmFyIGg9ZS5nZXRJdGVtTGF5b3V0KGEpO28mJlhEKHMsaCk/aS5yZW1vdmUodSk6KHU/T3UodSx7c2hhcGU6e3BvaW50czpoLmVuZHN9fSx0LGEpOnU9WUQoaCksVUQodSxlLGEsciksaS5hZGQodSksZS5zZXRJdGVtR3JhcGhpY0VsKGEsdSkpfWVsc2UgaS5yZW1vdmUodSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1uLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmaS5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9ZX0sZS5wcm90b3R5cGUuX3JlbmRlckxhcmdlPWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyKCksS0QodCx0aGlzLmdyb3VwKTt2YXIgZT10LmdldChcImNsaXBcIiwhMCk/SGIodC5jb29yZGluYXRlU3lzdGVtLCExLHQpOm51bGw7ZT90aGlzLmdyb3VwLnNldENsaXBQYXRoKGUpOnRoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKX0sZS5wcm90b3R5cGUuX2luY3JlbWVudGFsUmVuZGVyTm9ybWFsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGk9ZS5nZXREYXRhKCkscj1pLmdldExheW91dChcImlzU2ltcGxlQm94XCIpO251bGwhPShuPXQubmV4dCgpKTspe3ZhciBvPVlEKGkuZ2V0SXRlbUxheW91dChuKSk7VUQobyxpLG4sciksby5pbmNyZW1lbnRhbD0hMCx0aGlzLmdyb3VwLmFkZChvKX19LGUucHJvdG90eXBlLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlPWZ1bmN0aW9uKHQsZSl7S0QoZSx0aGlzLmdyb3VwLCEwKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyKCl9LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnR5cGU9XCJjYW5kbGVzdGlja1wiLGV9KHlmKSxIRD1mdW5jdGlvbigpe30sV0Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPVwibm9ybWFsQ2FuZGxlc3RpY2tCb3hcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBIRH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHM7dGhpcy5fX3NpbXBsZUJveD8odC5tb3ZlVG8obls0XVswXSxuWzRdWzFdKSx0LmxpbmVUbyhuWzZdWzBdLG5bNl1bMV0pKToodC5tb3ZlVG8oblswXVswXSxuWzBdWzFdKSx0LmxpbmVUbyhuWzFdWzBdLG5bMV1bMV0pLHQubGluZVRvKG5bMl1bMF0sblsyXVsxXSksdC5saW5lVG8oblszXVswXSxuWzNdWzFdKSx0LmNsb3NlUGF0aCgpLHQubW92ZVRvKG5bNF1bMF0sbls0XVsxXSksdC5saW5lVG8obls1XVswXSxuWzVdWzFdKSx0Lm1vdmVUbyhuWzZdWzBdLG5bNl1bMV0pLHQubGluZVRvKG5bN11bMF0sbls3XVsxXSkpfSxlfShaYSk7ZnVuY3Rpb24gWUQodCxlLG4pe3ZhciBpPXQuZW5kcztyZXR1cm4gbmV3IFdEKHtzaGFwZTp7cG9pbnRzOm4/WkQoaSx0KTppfSx6MjoxMDB9KX1mdW5jdGlvbiBYRCh0LGUpe2Zvcih2YXIgbj0hMCxpPTA7aTxlLmVuZHMubGVuZ3RoO2krKylpZih0LmNvbnRhaW4oZS5lbmRzW2ldWzBdLGUuZW5kc1tpXVsxXSkpe249ITE7YnJlYWt9cmV0dXJuIG59ZnVuY3Rpb24gVUQodCxlLG4saSl7dmFyIHI9ZS5nZXRJdGVtTW9kZWwobik7dC51c2VTdHlsZShlLmdldEl0ZW1WaXN1YWwobixcInN0eWxlXCIpKSx0LnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsdC5fX3NpbXBsZUJveD1pLG5sKHQscil9ZnVuY3Rpb24gWkQodCxlKXtyZXR1cm4gTyh0LChmdW5jdGlvbih0KXtyZXR1cm4odD10LnNsaWNlKCkpWzFdPWUuaW5pdEJhc2VsaW5lLHR9KSl9dmFyIGpEPWZ1bmN0aW9uKCl7fSxxRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9XCJsYXJnZUNhbmRsZXN0aWNrQm94XCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgakR9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnBvaW50cyxpPTA7aTxuLmxlbmd0aDspaWYodGhpcy5fX3NpZ249PT1uW2krK10pe3ZhciByPW5baSsrXTt0Lm1vdmVUbyhyLG5baSsrXSksdC5saW5lVG8ocixuW2krK10pfWVsc2UgaSs9M30sZX0oWmEpO2Z1bmN0aW9uIEtEKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKS5nZXRMYXlvdXQoXCJsYXJnZVBvaW50c1wiKSxyPW5ldyBxRCh7c2hhcGU6e3BvaW50czppfSxfX3NpZ246MX0pO2UuYWRkKHIpO3ZhciBvPW5ldyBxRCh7c2hhcGU6e3BvaW50czppfSxfX3NpZ246LTF9KTtlLmFkZChvKSwkRCgxLHIsdCksJEQoLTEsbyx0KSxuJiYoci5pbmNyZW1lbnRhbD0hMCxvLmluY3JlbWVudGFsPSEwKX1mdW5jdGlvbiAkRCh0LGUsbixpKXt2YXIgcj1uLmdldChbXCJpdGVtU3R5bGVcIix0PjA/XCJib3JkZXJDb2xvclwiOlwiYm9yZGVyQ29sb3IwXCJdKXx8bi5nZXQoW1wiaXRlbVN0eWxlXCIsdD4wP1wiY29sb3JcIjpcImNvbG9yMFwiXSksbz1uLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLmdldEl0ZW1TdHlsZShGRCk7ZS51c2VTdHlsZShvKSxlLnN0eWxlLmZpbGw9bnVsbCxlLnN0eWxlLnN0cm9rZT1yfXZhciBKRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uZGVmYXVsdFZhbHVlRGltZW5zaW9ucz1be25hbWU6XCJvcGVuXCIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOlwiY2xvc2VcIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6XCJsb3dlc3RcIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6XCJoaWdoZXN0XCIsZGVmYXVsdFRvb2x0aXA6ITB9XSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0U2hhZG93RGltPWZ1bmN0aW9uKCl7cmV0dXJuXCJvcGVuXCJ9LGUucHJvdG90eXBlLmJydXNoU2VsZWN0b3I9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0SXRlbUxheW91dCh0KTtyZXR1cm4gaSYmbi5yZWN0KGkuYnJ1c2hSZWN0KX0sZS50eXBlPVwic2VyaWVzLmNhbmRsZXN0aWNrXCIsZS5kZXBlbmRlbmNpZXM9W1wieEF4aXNcIixcInlBeGlzXCIsXCJncmlkXCJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06XCJjYXJ0ZXNpYW4yZFwiLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxjbGlwOiEwLGl0ZW1TdHlsZTp7Y29sb3I6XCIjZWI1NDU0XCIsY29sb3IwOlwiIzQ3YjI2MlwiLGJvcmRlckNvbG9yOlwiI2ViNTQ1NFwiLGJvcmRlckNvbG9yMDpcIiM0N2IyNjJcIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7c2NhbGU6ITAsaXRlbVN0eWxlOntib3JkZXJXaWR0aDoyfX0sYmFyTWF4V2lkdGg6bnVsbCxiYXJNaW5XaWR0aDpudWxsLGJhcldpZHRoOm51bGwsbGFyZ2U6ITAsbGFyZ2VUaHJlc2hvbGQ6NjAwLHByb2dyZXNzaXZlOjNlMyxwcm9ncmVzc2l2ZVRocmVzaG9sZDoxZTQscHJvZ3Jlc3NpdmVDaHVua01vZGU6XCJtb2RcIixhbmltYXRpb25FYXNpbmc6XCJsaW5lYXJcIixhbmltYXRpb25EdXJhdGlvbjozMDB9LGV9KHJmKTtmdW5jdGlvbiBRRCh0KXt0JiZGKHQuc2VyaWVzKSYmUCh0LnNlcmllcywoZnVuY3Rpb24odCl7WCh0KSYmXCJrXCI9PT10LnR5cGUmJih0LnR5cGU9XCJjYW5kbGVzdGlja1wiKX0pKX1MKEpELEFELCEwKTt2YXIgdEw9W1wiaXRlbVN0eWxlXCIsXCJib3JkZXJDb2xvclwiXSxlTD1bXCJpdGVtU3R5bGVcIixcImJvcmRlckNvbG9yMFwiXSxuTD1bXCJpdGVtU3R5bGVcIixcImNvbG9yXCJdLGlMPVtcIml0ZW1TdHlsZVwiLFwiY29sb3IwXCJdLHJMPXtzZXJpZXNUeXBlOlwiY2FuZGxlc3RpY2tcIixwbGFuOmRmKCkscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZS5nZXQodD4wP25MOmlMKX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGUuZ2V0KHQ+MD90TDplTCl9aWYodC5nZXREYXRhKCkuc2V0VmlzdWFsKFwibGVnZW5kU3ltYm9sXCIsXCJyb3VuZFJlY3RcIiksIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSlyZXR1cm4hdC5waXBlbGluZUNvbnRleHQubGFyZ2UmJntwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcjtudWxsIT0ocj10Lm5leHQoKSk7KXt2YXIgbz1lLmdldEl0ZW1Nb2RlbChyKSxhPWUuZ2V0SXRlbUxheW91dChyKS5zaWduLHM9by5nZXRJdGVtU3R5bGUoKTtzLmZpbGw9bihhLG8pLHMuc3Ryb2tlPWkoYSxvKXx8cy5maWxsLEkoZS5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHIsXCJzdHlsZVwiKSxzKX19fX19LG9MPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5LGFMPXtzZXJpZXNUeXBlOlwiY2FuZGxlc3RpY2tcIixwbGFuOmRmKCkscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtLG49dC5nZXREYXRhKCksaT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5nZXRCYXNlQXhpcygpLHI9XCJjYXRlZ29yeVwiPT09aS50eXBlP2kuZ2V0QmFuZFdpZHRoKCk6KG49aS5nZXRFeHRlbnQoKSxNYXRoLmFicyhuWzFdLW5bMF0pL2UuY291bnQoKSksbz1aaSh0dCh0LmdldChcImJhck1heFdpZHRoXCIpLHIpLHIpLGE9WmkodHQodC5nZXQoXCJiYXJNaW5XaWR0aFwiKSwxKSxyKSxzPXQuZ2V0KFwiYmFyV2lkdGhcIik7cmV0dXJuIG51bGwhPXM/WmkocyxyKTpNYXRoLm1heChNYXRoLm1pbihyLzIsbyksYSl9KHQsbikscj1bXCJ4XCIsXCJ5XCJdLG89bi5tYXBEaW1lbnNpb24oclswXSksYT1uLm1hcERpbWVuc2lvbnNBbGwoclsxXSkscz1hWzBdLGw9YVsxXSx1PWFbMl0saD1hWzNdO2lmKG4uc2V0TGF5b3V0KHtjYW5kbGVXaWR0aDppLGlzU2ltcGxlQm94Omk8PTEuM30pLCEobnVsbD09b3x8YS5sZW5ndGg8NCkpcmV0dXJue3Byb2dyZXNzOnQucGlwZWxpbmVDb250ZXh0LmxhcmdlP2Z1bmN0aW9uKHQsbil7dmFyIGkscixhPW5ldyBvTCg0KnQuY291bnQpLGM9MCxwPVtdLGQ9W107Zm9yKDtudWxsIT0ocj10Lm5leHQoKSk7KXt2YXIgZj1uLmdldChvLHIpLGc9bi5nZXQocyxyKSx5PW4uZ2V0KGwsciksdj1uLmdldCh1LHIpLG09bi5nZXQoaCxyKTtpc05hTihmKXx8aXNOYU4odil8fGlzTmFOKG0pPyhhW2MrK109TmFOLGMrPTMpOihhW2MrK109c0wobixyLGcseSxsKSxwWzBdPWYscFsxXT12LGk9ZS5kYXRhVG9Qb2ludChwLG51bGwsZCksYVtjKytdPWk/aVswXTpOYU4sYVtjKytdPWk/aVsxXTpOYU4scFsxXT1tLGk9ZS5kYXRhVG9Qb2ludChwLG51bGwsZCksYVtjKytdPWk/aVsxXTpOYU4pfW4uc2V0TGF5b3V0KFwibGFyZ2VQb2ludHNcIixhKX06ZnVuY3Rpb24odCxuKXt2YXIgcjtmb3IoO251bGwhPShyPXQubmV4dCgpKTspe3ZhciBhPW4uZ2V0KG8sciksYz1uLmdldChzLHIpLHA9bi5nZXQobCxyKSxkPW4uZ2V0KHUsciksZj1uLmdldChoLHIpLGc9TWF0aC5taW4oYyxwKSx5PU1hdGgubWF4KGMscCksdj13KGcsYSksbT13KHksYSksXz13KGQsYSkseD13KGYsYSksYj1bXTtTKGIsbSwwKSxTKGIsdiwxKSxiLnB1c2goSSh4KSxJKG0pLEkoXyksSSh2KSksbi5zZXRJdGVtTGF5b3V0KHIse3NpZ246c0wobixyLGMscCxsKSxpbml0QmFzZWxpbmU6Yz5wP21bMV06dlsxXSxlbmRzOmIsYnJ1c2hSZWN0Ok0oZCxmLGEpfSl9ZnVuY3Rpb24gdyh0LG4pe3ZhciBpPVtdO3JldHVybiBpWzBdPW4saVsxXT10LGlzTmFOKG4pfHxpc05hTih0KT9bTmFOLE5hTl06ZS5kYXRhVG9Qb2ludChpKX1mdW5jdGlvbiBTKHQsZSxuKXt2YXIgcj1lLnNsaWNlKCksbz1lLnNsaWNlKCk7clswXT1rdShyWzBdK2kvMiwxLCExKSxvWzBdPWt1KG9bMF0taS8yLDEsITApLG4/dC5wdXNoKHIsbyk6dC5wdXNoKG8scil9ZnVuY3Rpb24gTSh0LGUsbil7dmFyIHI9dyh0LG4pLG89dyhlLG4pO3JldHVybiByWzBdLT1pLzIsb1swXS09aS8yLHt4OnJbMF0seTpyWzFdLHdpZHRoOmksaGVpZ2h0Om9bMV0tclsxXX19ZnVuY3Rpb24gSSh0KXtyZXR1cm4gdFswXT1rdSh0WzBdLDEpLHR9fX19fTtmdW5jdGlvbiBzTCh0LGUsbixpLHIpe3JldHVybiBuPmk/LTE6bjxpPzE6ZT4wP3QuZ2V0KHIsZS0xKTw9aT8xOi0xOjF9ZnVuY3Rpb24gbEwodCxlKXt2YXIgbj1lLnJpcHBsZUVmZmVjdENvbG9yfHxlLmNvbG9yO3QuZWFjaENoaWxkKChmdW5jdGlvbih0KXt0LmF0dHIoe3o6ZS56LHpsZXZlbDplLnpsZXZlbCxzdHlsZTp7c3Ryb2tlOlwic3Ryb2tlXCI9PT1lLmJydXNoVHlwZT9uOm51bGwsZmlsbDpcImZpbGxcIj09PWUuYnJ1c2hUeXBlP246bnVsbH19KX0pKX12YXIgdUw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcyxyPW5ldyBiYihlLG4pLG89bmV3IHppO3JldHVybiBpLmFkZChyKSxpLmFkZChvKSxpLnVwZGF0ZURhdGEoZSxuKSxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuc3RvcEVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbigpe3RoaXMuY2hpbGRBdCgxKS5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuc3RhcnRFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc3ltYm9sVHlwZSxuPXQuY29sb3IsaT10aGlzLmNoaWxkQXQoMSkscj0wO3I8MztyKyspe3ZhciBvPXV5KGUsLTEsLTEsMiwyLG4pO28uYXR0cih7c3R5bGU6e3N0cm9rZU5vU2NhbGU6ITB9LHoyOjk5LHNpbGVudDohMCxzY2FsZVg6LjUsc2NhbGVZOi41fSk7dmFyIGE9LXIvMyp0LnBlcmlvZCt0LmVmZmVjdE9mZnNldDtvLmFuaW1hdGUoXCJcIiwhMCkud2hlbih0LnBlcmlvZCx7c2NhbGU6W3QucmlwcGxlU2NhbGUvMix0LnJpcHBsZVNjYWxlLzJdfSkuZGVsYXkoYSkuc3RhcnQoKSxvLmFuaW1hdGVTdHlsZSghMCkud2hlbih0LnBlcmlvZCx7b3BhY2l0eTowfSkuZGVsYXkoYSkuc3RhcnQoKSxpLmFkZChvKX1sTChpLHQpfSxlLnByb3RvdHlwZS51cGRhdGVFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2VmZmVjdENmZyxuPXRoaXMuY2hpbGRBdCgxKSxpPVtcInN5bWJvbFR5cGVcIixcInBlcmlvZFwiLFwicmlwcGxlU2NhbGVcIl0scj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKGVbb10hPT10W29dKXJldHVybiB0aGlzLnN0b3BFZmZlY3RBbmltYXRpb24oKSx2b2lkIHRoaXMuc3RhcnRFZmZlY3RBbmltYXRpb24odCl9bEwobix0KX0sZS5wcm90b3R5cGUuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7SHModGhpcyl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKCl7V3ModGhpcyl9LGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dC5ob3N0TW9kZWw7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZURhdGEodCxlKTt2YXIgcj10aGlzLmNoaWxkQXQoMSksbz10LmdldEl0ZW1Nb2RlbChlKSxhPXQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sXCIpLHM9ZnVuY3Rpb24odCl7cmV0dXJuIEYodCl8fCh0PVsrdCwrdF0pLHR9KHQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sU2l6ZVwiKSksbD10LmdldEl0ZW1WaXN1YWwoZSxcInN0eWxlXCIpLHU9bCYmbC5maWxsO3Iuc2V0U2NhbGUocyksci50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5zZXRTdHlsZShcImZpbGxcIix1KX0pKTt2YXIgaD1vLmdldFNoYWxsb3coXCJzeW1ib2xPZmZzZXRcIik7aCYmKHIueD1aaShoWzBdLHNbMF0pLHIueT1aaShoWzFdLHNbMV0pKTt2YXIgYz10LmdldEl0ZW1WaXN1YWwoZSxcInN5bWJvbFJvdGF0ZVwiKTtyLnJvdGF0aW9uPShjfHwwKSpNYXRoLlBJLzE4MHx8MDt2YXIgcD17fTtwLnNob3dFZmZlY3RPbj1pLmdldChcInNob3dFZmZlY3RPblwiKSxwLnJpcHBsZVNjYWxlPW8uZ2V0KFtcInJpcHBsZUVmZmVjdFwiLFwic2NhbGVcIl0pLHAuYnJ1c2hUeXBlPW8uZ2V0KFtcInJpcHBsZUVmZmVjdFwiLFwiYnJ1c2hUeXBlXCJdKSxwLnBlcmlvZD0xZTMqby5nZXQoW1wicmlwcGxlRWZmZWN0XCIsXCJwZXJpb2RcIl0pLHAuZWZmZWN0T2Zmc2V0PWUvdC5jb3VudCgpLHAuej1pLmdldFNoYWxsb3coXCJ6XCIpfHwwLHAuemxldmVsPWkuZ2V0U2hhbGxvdyhcInpsZXZlbFwiKXx8MCxwLnN5bWJvbFR5cGU9YSxwLmNvbG9yPXUscC5yaXBwbGVFZmZlY3RDb2xvcj1vLmdldChbXCJyaXBwbGVFZmZlY3RcIixcImNvbG9yXCJdKSx0aGlzLm9mZihcIm1vdXNlb3ZlclwiKS5vZmYoXCJtb3VzZW91dFwiKS5vZmYoXCJlbXBoYXNpc1wiKS5vZmYoXCJub3JtYWxcIiksXCJyZW5kZXJcIj09PXAuc2hvd0VmZmVjdE9uPyh0aGlzLl9lZmZlY3RDZmc/dGhpcy51cGRhdGVFZmZlY3RBbmltYXRpb24ocCk6dGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbihwKSx0aGlzLl9lZmZlY3RDZmc9cCk6KHRoaXMuX2VmZmVjdENmZz1udWxsLHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpLHRoaXMub25Ib3ZlclN0YXRlQ2hhbmdlPWZ1bmN0aW9uKHQpe1wiZW1waGFzaXNcIj09PXQ/XCJyZW5kZXJcIiE9PXAuc2hvd0VmZmVjdE9uJiZuLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKHApOlwibm9ybWFsXCI9PT10JiZcInJlbmRlclwiIT09cC5zaG93RWZmZWN0T24mJm4uc3RvcEVmZmVjdEFuaW1hdGlvbigpfSksdGhpcy5fZWZmZWN0Q2ZnPXAsSnModGhpcyl9LGUucHJvdG90eXBlLmZhZGVPdXQ9ZnVuY3Rpb24odCl7dGhpcy5vZmYoXCJtb3VzZW92ZXJcIikub2ZmKFwibW91c2VvdXRcIiksdCYmdCgpfSxlfSh6aSk7RCh1TCx6aSk7dmFyIGhMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9zeW1ib2xEcmF3PW5ldyBUYih1TCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10aGlzLl9zeW1ib2xEcmF3O3IudXBkYXRlRGF0YShpKSx0aGlzLmdyb3VwLmFkZChyLmdyb3VwKX0sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTt0aGlzLmdyb3VwLmRpcnR5KCk7dmFyIHI9UWIoXCJcIikucmVzZXQodCxlLG4pO3IucHJvZ3Jlc3MmJnIucHJvZ3Jlc3Moe3N0YXJ0OjAsZW5kOmkuY291bnQoKSxjb3VudDppLmNvdW50KCl9LGkpLHRoaXMuX3N5bWJvbERyYXcudXBkYXRlTGF5b3V0KCl9LGUucHJvdG90eXBlLl91cGRhdGVHcm91cFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07ZSYmZS5nZXRSb2FtVHJhbnNmb3JtJiYodGhpcy5ncm91cC50cmFuc2Zvcm09d2UoZS5nZXRSb2FtVHJhbnNmb3JtKCkpLHRoaXMuZ3JvdXAuZGVjb21wb3NlVHJhbnNmb3JtKCkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZSghMCl9LGUudHlwZT1cImVmZmVjdFNjYXR0ZXJcIixlfSh5ZiksY0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmhhc1N5bWJvbFZpc3VhbD0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSG0odGhpcy5nZXRTb3VyY2UoKSx0aGlzLHt1c2VFbmNvZGVEZWZhdWx0ZXI6ITB9KX0sZS5wcm90b3R5cGUuYnJ1c2hTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4ucG9pbnQoZS5nZXRJdGVtTGF5b3V0KHQpKX0sZS50eXBlPVwic2VyaWVzLmVmZmVjdFNjYXR0ZXJcIixlLmRlcGVuZGVuY2llcz1bXCJncmlkXCIsXCJwb2xhclwiXSxlLmRlZmF1bHRPcHRpb249e2Nvb3JkaW5hdGVTeXN0ZW06XCJjYXJ0ZXNpYW4yZFwiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsZWZmZWN0VHlwZTpcInJpcHBsZVwiLHByb2dyZXNzaXZlOjAsc2hvd0VmZmVjdE9uOlwicmVuZGVyXCIscmlwcGxlRWZmZWN0OntwZXJpb2Q6NCxzY2FsZToyLjUsYnJ1c2hUeXBlOlwiZmlsbFwifSxzeW1ib2xTaXplOjEwfSxlfShyZik7dmFyIHBMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5hZGQoci5jcmVhdGVMaW5lKGUsbixpKSksci5fdXBkYXRlRWZmZWN0U3ltYm9sKGUsbikscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgb0ModCxlLG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlRWZmZWN0U3ltYm9sPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJdGVtTW9kZWwoZSkuZ2V0TW9kZWwoXCJlZmZlY3RcIiksaT1uLmdldChcInN5bWJvbFNpemVcIikscj1uLmdldChcInN5bWJvbFwiKTtGKGkpfHwoaT1baSxpXSk7dmFyIG89dC5nZXRJdGVtVmlzdWFsKGUsXCJzdHlsZVwiKSxhPW4uZ2V0KFwiY29sb3JcIil8fG8mJm8uc3Ryb2tlLHM9dGhpcy5jaGlsZEF0KDEpO3RoaXMuX3N5bWJvbFR5cGUhPT1yJiYodGhpcy5yZW1vdmUocyksKHM9dXkociwtLjUsLS41LDEsMSxhKSkuejI9MTAwLHMuY3VsbGluZz0hMCx0aGlzLmFkZChzKSkscyYmKHMuc2V0U3R5bGUoXCJzaGFkb3dDb2xvclwiLGEpLHMuc2V0U3R5bGUobi5nZXRJdGVtU3R5bGUoW1wiY29sb3JcIl0pKSxzLnNjYWxlWD1pWzBdLHMuc2NhbGVZPWlbMV0scy5zZXRDb2xvcihhKSx0aGlzLl9zeW1ib2xUeXBlPXIsdGhpcy5fc3ltYm9sU2NhbGU9aSx0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxuLGUpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5jaGlsZEF0KDEpO2lmKGkpe3ZhciByPXRoaXMsbz10LmdldEl0ZW1MYXlvdXQobiksYT0xZTMqZS5nZXQoXCJwZXJpb2RcIikscz1lLmdldChcImxvb3BcIiksbD1lLmdldChcImNvbnN0YW50U3BlZWRcIiksdT1RKGUuZ2V0KFwiZGVsYXlcIiksKGZ1bmN0aW9uKGUpe3JldHVybiBlL3QuY291bnQoKSphLzN9KSk7aWYoaS5pZ25vcmU9ITAsdGhpcy5fdXBkYXRlQW5pbWF0aW9uUG9pbnRzKGksbyksbD4wJiYoYT10aGlzLl9nZXRMaW5lTGVuZ3RoKGkpL2wqMWUzKSwoYSE9PXRoaXMuX3BlcmlvZHx8cyE9PXRoaXMuX2xvb3ApJiYoaS5zdG9wQW5pbWF0aW9uKCksYT4wKSl7dmFyIGg9dm9pZCAwO2g9XCJmdW5jdGlvblwiPT10eXBlb2YgdT91KG4pOnUsaS5fX3Q+MCYmKGg9LWEqaS5fX3QpLGkuX190PTA7dmFyIGM9aS5hbmltYXRlKFwiXCIscykud2hlbihhLHtfX3Q6MX0pLmRlbGF5KGgpLmR1cmluZygoZnVuY3Rpb24oKXtyLl91cGRhdGVTeW1ib2xQb3NpdGlvbihpKX0pKTtzfHxjLmRvbmUoKGZ1bmN0aW9uKCl7ci5yZW1vdmUoaSl9KSksYy5zdGFydCgpfXRoaXMuX3BlcmlvZD1hLHRoaXMuX2xvb3A9c319LGUucHJvdG90eXBlLl9nZXRMaW5lTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiBMdCh0Ll9fcDEsdC5fX2NwMSkrTHQodC5fX2NwMSx0Ll9fcDIpfSxlLnByb3RvdHlwZS5fdXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dC5fX3AxPWVbMF0sdC5fX3AyPWVbMV0sdC5fX2NwMT1lWzJdfHxbKGVbMF1bMF0rZVsxXVswXSkvMiwoZVswXVsxXStlWzFdWzFdKS8yXX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZURhdGEodCxlLG4pLHRoaXMuX3VwZGF0ZUVmZmVjdFN5bWJvbCh0LGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlU3ltYm9sUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5fX3AxLG49dC5fX3AyLGk9dC5fX2NwMSxyPXQuX190LG89W3QueCx0LnldLGE9by5zbGljZSgpLHM9R28sbD1IbztvWzBdPXMoZVswXSxpWzBdLG5bMF0sciksb1sxXT1zKGVbMV0saVsxXSxuWzFdLHIpO3ZhciB1PWwoZVswXSxpWzBdLG5bMF0sciksaD1sKGVbMV0saVsxXSxuWzFdLHIpO3Qucm90YXRpb249LU1hdGguYXRhbjIoaCx1KS1NYXRoLlBJLzIsXCJsaW5lXCIhPT10aGlzLl9zeW1ib2xUeXBlJiZcInJlY3RcIiE9PXRoaXMuX3N5bWJvbFR5cGUmJlwicm91bmRSZWN0XCIhPT10aGlzLl9zeW1ib2xUeXBlfHwodm9pZCAwIT09dC5fX2xhc3RUJiZ0Ll9fbGFzdFQ8dC5fX3Q/KHQuc2NhbGVZPTEuMDUqTHQoYSxvKSwxPT09ciYmKG9bMF09YVswXSsob1swXS1hWzBdKS8yLG9bMV09YVsxXSsob1sxXS1hWzFdKS8yKSk6MT09PXQuX19sYXN0VD90LnNjYWxlWT0yKkx0KGUsbyk6dC5zY2FsZVk9dGhpcy5fc3ltYm9sU2NhbGVbMV0pLHQuX19sYXN0VD10Ll9fdCx0Lmlnbm9yZT0hMSx0Lng9b1swXSx0Lnk9b1sxXX0sZS5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZUxheW91dCh0LGUpO3ZhciBuPXQuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKFwiZWZmZWN0XCIpO3RoaXMuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbih0LG4sZSl9LGV9KHppKSxkTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2NyZWF0ZVBvbHlsaW5lKGUsbixpKSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX2NyZWF0ZVBvbHlsaW5lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEl0ZW1MYXlvdXQoZSkscj1uZXcgJGwoe3NoYXBlOntwb2ludHM6aX19KTt0aGlzLmFkZChyKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLG4pfSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lmhvc3RNb2RlbDtPdSh0aGlzLmNoaWxkQXQoMCkse3NoYXBlOntwb2ludHM6dC5nZXRJdGVtTGF5b3V0KGUpfX0saSxlKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29tbW9uU3RsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmNoaWxkQXQoMCkscj10LmdldEl0ZW1Nb2RlbChlKSxvPW4mJm4uZW1waGFzaXNMaW5lU3R5bGU7biYmIXQuaGFzSXRlbU9wdGlvbnx8KG89ci5nZXRNb2RlbChbXCJlbXBoYXNpc1wiLFwibGluZVN0eWxlXCJdKS5nZXRMaW5lU3R5bGUoKSksaS51c2VTdHlsZSh0LmdldEl0ZW1WaXN1YWwoZSxcInN0eWxlXCIpKSxpLnN0eWxlLmZpbGw9bnVsbCxpLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsaS5lbnN1cmVTdGF0ZShcImVtcGhhc2lzXCIpLnN0eWxlPW8sSnModGhpcyl9LGUucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuY2hpbGRBdCgwKS5zZXRTaGFwZShcInBvaW50c1wiLHQuZ2V0SXRlbUxheW91dChlKSl9LGV9KHppKSxmTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9sYXN0RnJhbWU9MCxlLl9sYXN0RnJhbWVQZXJjZW50PTAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgZEwodCxlLG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcG9pbnRzPWU7Zm9yKHZhciBuPVswXSxpPTAscj0xO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3ItMV0sYT1lW3JdO2krPUx0KG8sYSksbi5wdXNoKGkpfWlmKDAhPT1pKXtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKW5bcl0vPWk7dGhpcy5fb2Zmc2V0cz1uLHRoaXMuX2xlbmd0aD1pfWVsc2UgdGhpcy5fbGVuZ3RoPTB9LGUucHJvdG90eXBlLl9nZXRMaW5lTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sZS5wcm90b3R5cGUuX3VwZGF0ZVN5bWJvbFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX190LG49dGhpcy5fcG9pbnRzLGk9dGhpcy5fb2Zmc2V0cyxyPW4ubGVuZ3RoO2lmKGkpe3ZhciBvLGE9dGhpcy5fbGFzdEZyYW1lO2lmKGU8dGhpcy5fbGFzdEZyYW1lUGVyY2VudCl7Zm9yKG89TWF0aC5taW4oYSsxLHItMSk7bz49MCYmIShpW29dPD1lKTtvLS0pO289TWF0aC5taW4obyxyLTIpfWVsc2V7Zm9yKG89YTtvPHImJiEoaVtvXT5lKTtvKyspO289TWF0aC5taW4oby0xLHItMil9dmFyIHM9KGUtaVtvXSkvKGlbbysxXS1pW29dKSxsPW5bb10sdT1uW28rMV07dC54PWxbMF0qKDEtcykrcyp1WzBdLHQueT1sWzFdKigxLXMpK3MqdVsxXTt2YXIgaD11WzBdLWxbMF0sYz11WzFdLWxbMV07dC5yb3RhdGlvbj0tTWF0aC5hdGFuMihjLGgpLU1hdGguUEkvMix0aGlzLl9sYXN0RnJhbWU9byx0aGlzLl9sYXN0RnJhbWVQZXJjZW50PWUsdC5pZ25vcmU9ITF9fSxlfShwTCksZ0w9ZnVuY3Rpb24oKXt0aGlzLnBvbHlsaW5lPSExLHRoaXMuY3VydmVuZXNzPTAsdGhpcy5zZWdzPVtdfSx5TD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6XCIjMDAwXCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnTH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5zZWdzLGk9ZS5jdXJ2ZW5lc3M7aWYoZS5wb2x5bGluZSlmb3IodmFyIHI9MDtyPG4ubGVuZ3RoOyl7dmFyIG89bltyKytdO2lmKG8+MCl7dC5tb3ZlVG8obltyKytdLG5bcisrXSk7Zm9yKHZhciBhPTE7YTxvO2ErKyl0LmxpbmVUbyhuW3IrK10sbltyKytdKX19ZWxzZSBmb3Iocj0wO3I8bi5sZW5ndGg7KXt2YXIgcz1uW3IrK10sbD1uW3IrK10sdT1uW3IrK10saD1uW3IrK107aWYodC5tb3ZlVG8ocyxsKSxpPjApe3ZhciBjPShzK3UpLzItKGwtaCkqaSxwPShsK2gpLzItKHUtcykqaTt0LnF1YWRyYXRpY0N1cnZlVG8oYyxwLHUsaCl9ZWxzZSB0LmxpbmVUbyh1LGgpfX0sZS5wcm90b3R5cGUuZmluZERhdGFJbmRleD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2hhcGUsaT1uLnNlZ3Mscj1uLmN1cnZlbmVzcyxvPXRoaXMuc3R5bGUubGluZVdpZHRoO2lmKG4ucG9seWxpbmUpZm9yKHZhciBhPTAscz0wO3M8aS5sZW5ndGg7KXt2YXIgbD1pW3MrK107aWYobD4wKWZvcih2YXIgdT1pW3MrK10saD1pW3MrK10sYz0xO2M8bDtjKyspe2lmKEFhKHUsaCxwPWlbcysrXSxkPWlbcysrXSxvLHQsZSkpcmV0dXJuIGF9YSsrfWVsc2UgZm9yKGE9MCxzPTA7czxpLmxlbmd0aDspe3U9aVtzKytdLGg9aVtzKytdO3ZhciBwPWlbcysrXSxkPWlbcysrXTtpZihyPjApe2lmKExhKHUsaCwodStwKS8yLShoLWQpKnIsKGgrZCkvMi0ocC11KSpyLHAsZCxvLHQsZSkpcmV0dXJuIGF9ZWxzZSBpZihBYSh1LGgscCxkLG8sdCxlKSlyZXR1cm4gYTthKyt9cmV0dXJuLTF9LGV9KFphKSx2TD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmdyb3VwPW5ldyB6aX1yZXR1cm4gdC5wcm90b3R5cGUuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2luY3JlbWVudGFsfSx0LnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIGU9bmV3IHlMKHtyZWN0SG92ZXI6ITAsY3Vyc29yOlwiZGVmYXVsdFwifSk7ZS5zZXRTaGFwZSh7c2Vnczp0LmdldExheW91dChcImxpbmVzUG9pbnRzXCIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCksdGhpcy5ncm91cC5hZGQoZSksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHQuY291bnQoKT41ZTU/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IHZ1KHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyB5TDtuLnNldFNoYXBlKHtzZWdzOmUuZ2V0TGF5b3V0KFwibGluZXNQb2ludHNcIil9KSx0aGlzLl9zZXRDb21tb24obixlLCEhdGhpcy5faW5jcmVtZW50YWwpLHRoaXMuX2luY3JlbWVudGFsP3RoaXMuX2luY3JlbWVudGFsLmFkZERpc3BsYXlhYmxlKG4sITApOihuLnJlY3RIb3Zlcj0hMCxuLmN1cnNvcj1cImRlZmF1bHRcIixuLl9fc3RhcnRJbmRleD10LnN0YXJ0LHRoaXMuZ3JvdXAuYWRkKG4pKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHRoaXMuX2luY3JlbWVudGFsPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuX3NldENvbW1vbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5ob3N0TW9kZWw7dC5zZXRTaGFwZSh7cG9seWxpbmU6aS5nZXQoXCJwb2x5bGluZVwiKSxjdXJ2ZW5lc3M6aS5nZXQoW1wibGluZVN0eWxlXCIsXCJjdXJ2ZW5lc3NcIl0pfSksdC51c2VTdHlsZShpLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpKSx0LnN0eWxlLnN0cm9rZU5vU2NhbGU9ITA7dmFyIHI9ZS5nZXRWaXN1YWwoXCJzdHlsZVwiKTtpZihyJiZyLnN0cm9rZSYmdC5zZXRTdHlsZShcInN0cm9rZVwiLHIuc3Ryb2tlKSx0LnNldFN0eWxlKFwiZmlsbFwiLG51bGwpLCFuKXt2YXIgbz15cyh0KTtvLnNlcmllc0luZGV4PWkuc2VyaWVzSW5kZXgsdC5vbihcIm1vdXNlbW92ZVwiLChmdW5jdGlvbihlKXtvLmRhdGFJbmRleD1udWxsO3ZhciBuPXQuZmluZERhdGFJbmRleChlLm9mZnNldFgsZS5vZmZzZXRZKTtuPjAmJihvLmRhdGFJbmRleD1uK3QuX19zdGFydEluZGV4KX0pKX19LHQucHJvdG90eXBlLl9jbGVhckluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW5jcmVtZW50YWw7dCYmdC5jbGVhckRpc3BsYXlibGVzKCl9LHR9KCksbUw9e3Nlcmllc1R5cGU6XCJsaW5lc1wiLHBsYW46ZGYoKSxyZXNldDpmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj10LmdldChcInBvbHlsaW5lXCIpLGk9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJue3Byb2dyZXNzOmZ1bmN0aW9uKHIsbyl7dmFyIGE9W107aWYoaSl7dmFyIHM9dm9pZCAwLGw9ci5lbmQtci5zdGFydDtpZihuKXtmb3IodmFyIHU9MCxoPXIuc3RhcnQ7aDxyLmVuZDtoKyspdSs9dC5nZXRMaW5lQ29vcmRzQ291bnQoaCk7cz1uZXcgRmxvYXQzMkFycmF5KGwrMip1KX1lbHNlIHM9bmV3IEZsb2F0MzJBcnJheSg0KmwpO3ZhciBjPTAscD1bXTtmb3IoaD1yLnN0YXJ0O2g8ci5lbmQ7aCsrKXt2YXIgZD10LmdldExpbmVDb29yZHMoaCxhKTtuJiYoc1tjKytdPWQpO2Zvcih2YXIgZj0wO2Y8ZDtmKyspcD1lLmRhdGFUb1BvaW50KGFbZl0sITEscCksc1tjKytdPXBbMF0sc1tjKytdPXBbMV19by5zZXRMYXlvdXQoXCJsaW5lc1BvaW50c1wiLHMpfWVsc2UgZm9yKGg9ci5zdGFydDtoPHIuZW5kO2grKyl7dmFyIGc9by5nZXRJdGVtTW9kZWwoaCkseT0oZD10LmdldExpbmVDb29yZHMoaCxhKSxbXSk7aWYobilmb3IodmFyIHY9MDt2PGQ7disrKXkucHVzaChlLmRhdGFUb1BvaW50KGFbdl0pKTtlbHNle3lbMF09ZS5kYXRhVG9Qb2ludChhWzBdKSx5WzFdPWUuZGF0YVRvUG9pbnQoYVsxXSk7dmFyIG09Zy5nZXQoW1wibGluZVN0eWxlXCIsXCJjdXJ2ZW5lc3NcIl0pOyttJiYoeVsyXT1bKHlbMF1bMF0reVsxXVswXSkvMi0oeVswXVsxXS15WzFdWzFdKSptLCh5WzBdWzFdK3lbMV1bMV0pLzItKHlbMV1bMF0teVswXVswXSkqbV0pfW8uc2V0SXRlbUxheW91dChoLHkpfX19fX0sX0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMuX3VwZGF0ZUxpbmVEcmF3KGksdCksbz10LmdldChcInpsZXZlbFwiKSxhPXQuZ2V0KFtcImVmZmVjdFwiLFwidHJhaWxMZW5ndGhcIl0pLHM9bi5nZXRacigpLGw9XCJzdmdcIj09PXMucGFpbnRlci5nZXRUeXBlKCk7KGx8fHMucGFpbnRlci5nZXRMYXllcihvKS5jbGVhcighMCksbnVsbD09dGhpcy5fbGFzdFpsZXZlbHx8bHx8cy5jb25maWdMYXllcih0aGlzLl9sYXN0WmxldmVsLHttb3Rpb25CbHVyOiExfSksdGhpcy5fc2hvd0VmZmVjdCh0KSYmYSkmJihsfHxzLmNvbmZpZ0xheWVyKG8se21vdGlvbkJsdXI6ITAsbGFzdEZyYW1lQWxwaGE6TWF0aC5tYXgoTWF0aC5taW4oYS8xMCsuOSwxKSwwKX0pKTtyLnVwZGF0ZURhdGEoaSk7dmFyIHU9dC5nZXQoXCJjbGlwXCIsITApJiZIYih0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk7dT90aGlzLmdyb3VwLnNldENsaXBQYXRoKHUpOnRoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9sYXN0WmxldmVsPW8sdGhpcy5fZmluaXNoZWQ9ITB9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlTGluZURyYXcoaSx0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUoaSksdGhpcy5fY2xlYXJMYXllcihuKSx0aGlzLl9maW5pc2hlZD0hMX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2xpbmVEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkpLHRoaXMuX2ZpbmlzaGVkPXQuZW5kPT09ZS5nZXREYXRhKCkuY291bnQoKX0sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXQucGlwZWxpbmVDb250ZXh0O2lmKCF0aGlzLl9maW5pc2hlZHx8ci5sYXJnZXx8ci5wcm9ncmVzc2l2ZVJlbmRlcilyZXR1cm57dXBkYXRlOiEwfTt2YXIgbz1tTC5yZXNldCh0LGUsbik7by5wcm9ncmVzcyYmby5wcm9ncmVzcyh7c3RhcnQ6MCxlbmQ6aS5jb3VudCgpLGNvdW50OmkuY291bnQoKX0saSksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCksdGhpcy5fY2xlYXJMYXllcihuKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUxpbmVEcmF3PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbGluZURyYXcsaT10aGlzLl9zaG93RWZmZWN0KGUpLHI9ISFlLmdldChcInBvbHlsaW5lXCIpLG89ZS5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJuIG4mJmk9PT10aGlzLl9oYXNFZmZldCYmcj09PXRoaXMuX2lzUG9seWxpbmUmJm89PT10aGlzLl9pc0xhcmdlRHJhd3x8KG4mJm4ucmVtb3ZlKCksbj10aGlzLl9saW5lRHJhdz1vP25ldyB2TDpuZXcgYUMocj9pP2ZMOmRMOmk/cEw6b0MpLHRoaXMuX2hhc0VmZmV0PWksdGhpcy5faXNQb2x5bGluZT1yLHRoaXMuX2lzTGFyZ2VEcmF3PW8sdGhpcy5ncm91cC5yZW1vdmVBbGwoKSksdGhpcy5ncm91cC5hZGQobi5ncm91cCksbn0sZS5wcm90b3R5cGUuX3Nob3dFZmZlY3Q9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmdldChbXCJlZmZlY3RcIixcInNob3dcIl0pfSxlLnByb3RvdHlwZS5fY2xlYXJMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10LmdldFpyKCk7XCJzdmdcIj09PWUucGFpbnRlci5nZXRUeXBlKCl8fG51bGw9PXRoaXMuX2xhc3RabGV2ZWx8fGUucGFpbnRlci5nZXRMYXllcih0aGlzLl9sYXN0WmxldmVsKS5jbGVhcighMCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2xpbmVEcmF3JiZ0aGlzLl9saW5lRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdz1udWxsLHRoaXMuX2NsZWFyTGF5ZXIoZSl9LGUudHlwZT1cImxpbmVzXCIsZX0oeWYpLHhMPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50MzJBcnJheT9BcnJheTpVaW50MzJBcnJheSxiTD1cInVuZGVmaW5lZFwiPT10eXBlb2YgRmxvYXQ2NEFycmF5P0FycmF5OkZsb2F0NjRBcnJheTtmdW5jdGlvbiB3TCh0KXt2YXIgZT10LmRhdGE7ZSYmZVswXSYmZVswXVswXSYmZVswXVswXS5jb29yZCYmKHQuZGF0YT1PKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXtjb29yZHM6W3RbMF0uY29vcmQsdFsxXS5jb29yZF19O3JldHVybiB0WzBdLm5hbWUmJihlLmZyb21OYW1lPXRbMF0ubmFtZSksdFsxXS5uYW1lJiYoZS50b05hbWU9dFsxXS5uYW1lKSxNKFtlLHRbMF0sdFsxXV0pfSkpKX12YXIgU0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD1cImxpbmVTdHlsZVwiLG4udmlzdWFsRHJhd1R5cGU9XCJzdHJva2VcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXtlLmRhdGE9ZS5kYXRhfHxbXSx3TChlKTt2YXIgbj10aGlzLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5KGUuZGF0YSk7dGhpcy5fZmxhdENvb3Jkcz1uLmZsYXRDb29yZHMsdGhpcy5fZmxhdENvb3Jkc09mZnNldD1uLmZsYXRDb29yZHNPZmZzZXQsbi5mbGF0Q29vcmRzJiYoZS5kYXRhPW5ldyBGbG9hdDMyQXJyYXkobi5jb3VudCkpLHQucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlKXtpZih3TChlKSxlLmRhdGEpe3ZhciBuPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkoZS5kYXRhKTt0aGlzLl9mbGF0Q29vcmRzPW4uZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PW4uZmxhdENvb3Jkc09mZnNldCxuLmZsYXRDb29yZHMmJihlLmRhdGE9bmV3IEZsb2F0MzJBcnJheShuLmNvdW50KSl9dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkodC5kYXRhKTtlLmZsYXRDb29yZHMmJih0aGlzLl9mbGF0Q29vcmRzPyh0aGlzLl9mbGF0Q29vcmRzPWN0KHRoaXMuX2ZsYXRDb29yZHMsZS5mbGF0Q29vcmRzKSx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PWN0KHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQsZS5mbGF0Q29vcmRzT2Zmc2V0KSk6KHRoaXMuX2ZsYXRDb29yZHM9ZS5mbGF0Q29vcmRzLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9ZS5mbGF0Q29vcmRzT2Zmc2V0KSx0LmRhdGE9bmV3IEZsb2F0MzJBcnJheShlLmNvdW50KSksdGhpcy5nZXRSYXdEYXRhKCkuYXBwZW5kRGF0YSh0LmRhdGEpfSxlLnByb3RvdHlwZS5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCksbj1lLm9wdGlvbiBpbnN0YW5jZW9mIEFycmF5P2Uub3B0aW9uOmUuZ2V0U2hhbGxvdyhcImNvb3Jkc1wiKTtyZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0TGluZUNvb3Jkc0NvdW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0P3RoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0KzFdOnRoaXMuX2dldENvb3Jkc0Zyb21JdGVtTW9kZWwodCkubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRMaW5lQ29vcmRzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZmxhdENvb3Jkc09mZnNldCl7Zm9yKHZhciBuPXRoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0XSxpPXRoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0KzFdLHI9MDtyPGk7cisrKWVbcl09ZVtyXXx8W10sZVtyXVswXT10aGlzLl9mbGF0Q29vcmRzW24rMipyXSxlW3JdWzFdPXRoaXMuX2ZsYXRDb29yZHNbbisyKnIrMV07cmV0dXJuIGl9dmFyIG89dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKWVbcl09ZVtyXXx8W10sZVtyXVswXT1vW3JdWzBdLGVbcl1bMV09b1tyXVsxXTtyZXR1cm4gby5sZW5ndGh9LGUucHJvdG90eXBlLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPTA7aWYodGhpcy5fZmxhdENvb3JkcyYmKGU9dGhpcy5fZmxhdENvb3Jkcy5sZW5ndGgpLFwibnVtYmVyXCI9PXR5cGVvZiB0WzBdKXtmb3IodmFyIG49dC5sZW5ndGgsaT1uZXcgeEwobikscj1uZXcgYkwobiksbz0wLGE9MCxzPTAsbD0wO2w8bjspe3MrKzt2YXIgdT10W2wrK107aVthKytdPW8rZSxpW2ErK109dTtmb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgYz10W2wrK10scD10W2wrK107cltvKytdPWMscltvKytdPXB9fXJldHVybntmbGF0Q29vcmRzT2Zmc2V0Om5ldyBVaW50MzJBcnJheShpLmJ1ZmZlciwwLGEpLGZsYXRDb29yZHM6cixjb3VudDpzfX1yZXR1cm57ZmxhdENvb3Jkc09mZnNldDpudWxsLGZsYXRDb29yZHM6bnVsbCxjb3VudDp0Lmxlbmd0aH19LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFBtKFtcInZhbHVlXCJdLHRoaXMpO3JldHVybiBuLmhhc0l0ZW1PcHRpb249ITEsbi5pbml0RGF0YSh0LmRhdGEsW10sKGZ1bmN0aW9uKHQsZSxpLHIpe2lmKHQgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gTmFOO24uaGFzSXRlbU9wdGlvbj0hMDt2YXIgbz10LnZhbHVlO3JldHVybiBudWxsIT1vP28gaW5zdGFuY2VvZiBBcnJheT9vW3JdOm86dm9pZCAwfSkpLG59LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZ2V0RGF0YSgpLmdldEl0ZW1Nb2RlbCh0KSxyPWkuZ2V0KFwibmFtZVwiKTtpZihyKXJldHVybiByO3ZhciBvPWkuZ2V0KFwiZnJvbU5hbWVcIiksYT1pLmdldChcInRvTmFtZVwiKSxzPVtdO3JldHVybiBudWxsIT1vJiZzLnB1c2gobyksbnVsbCE9YSYmcy5wdXNoKGEpLFlkKFwibmFtZVZhbHVlXCIse25hbWU6cy5qb2luKFwiID4gXCIpfSl9LGUucHJvdG90eXBlLnByZXZlbnRJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nZXQoW1wiZWZmZWN0XCIsXCJzaG93XCJdKX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZTtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoXCJwcm9ncmVzc2l2ZVwiKTp0fSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlVGhyZXNob2xkO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzJlNDp0aGlzLmdldChcInByb2dyZXNzaXZlVGhyZXNob2xkXCIpOnR9LGUudHlwZT1cInNlcmllcy5saW5lc1wiLGUuZGVwZW5kZW5jaWVzPVtcImdyaWRcIixcInBvbGFyXCIsXCJnZW9cIixcImNhbGVuZGFyXCJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbTpcImdlb1wiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAseEF4aXNJbmRleDowLHlBeGlzSW5kZXg6MCxzeW1ib2w6W1wibm9uZVwiLFwibm9uZVwiXSxzeW1ib2xTaXplOlsxMCwxMF0sZ2VvSW5kZXg6MCxlZmZlY3Q6e3Nob3c6ITEscGVyaW9kOjQsY29uc3RhbnRTcGVlZDowLHN5bWJvbDpcImNpcmNsZVwiLHN5bWJvbFNpemU6Myxsb29wOiEwLHRyYWlsTGVuZ3RoOi4yfSxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDoyZTMscG9seWxpbmU6ITEsY2xpcDohMCxsYWJlbDp7c2hvdzohMSxwb3NpdGlvbjpcImVuZFwifSxsaW5lU3R5bGU6e29wYWNpdHk6LjV9fSxlfShyZik7ZnVuY3Rpb24gTUwodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3QsdF0pLHR9dmFyIElMPXtzZXJpZXNUeXBlOlwibGluZXNcIixyZXNldDpmdW5jdGlvbih0KXt2YXIgZT1NTCh0LmdldChcInN5bWJvbFwiKSksbj1NTCh0LmdldChcInN5bWJvbFNpemVcIikpLGk9dC5nZXREYXRhKCk7cmV0dXJuIGkuc2V0VmlzdWFsKFwiZnJvbVN5bWJvbFwiLGUmJmVbMF0pLGkuc2V0VmlzdWFsKFwidG9TeW1ib2xcIixlJiZlWzFdKSxpLnNldFZpc3VhbChcImZyb21TeW1ib2xTaXplXCIsbiYmblswXSksaS5zZXRWaXN1YWwoXCJ0b1N5bWJvbFNpemVcIixuJiZuWzFdKSx7ZGF0YUVhY2g6aS5oYXNJdGVtT3B0aW9uP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJdGVtTW9kZWwoZSksaT1NTChuLmdldFNoYWxsb3coXCJzeW1ib2xcIiwhMCkpLHI9TUwobi5nZXRTaGFsbG93KFwic3ltYm9sU2l6ZVwiLCEwKSk7aVswXSYmdC5zZXRJdGVtVmlzdWFsKGUsXCJmcm9tU3ltYm9sXCIsaVswXSksaVsxXSYmdC5zZXRJdGVtVmlzdWFsKGUsXCJ0b1N5bWJvbFwiLGlbMV0pLHJbMF0mJnQuc2V0SXRlbVZpc3VhbChlLFwiZnJvbVN5bWJvbFNpemVcIixyWzBdKSxyWzFdJiZ0LnNldEl0ZW1WaXN1YWwoZSxcInRvU3ltYm9sU2l6ZVwiLHJbMV0pfTpudWxsfX19O3ZhciBUTD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmJsdXJTaXplPTMwLHRoaXMucG9pbnRTaXplPTIwLHRoaXMubWF4T3BhY2l0eT0xLHRoaXMubWluT3BhY2l0eT0wLHRoaXMuX2dyYWRpZW50UGl4ZWxzPXtpblJhbmdlOm51bGwsb3V0T2ZSYW5nZTpudWxsfTt2YXIgdD1DKCk7dGhpcy5jYW52YXM9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT10aGlzLl9nZXRCcnVzaCgpLHM9dGhpcy5fZ2V0R3JhZGllbnQocixcImluUmFuZ2VcIiksbD10aGlzLl9nZXRHcmFkaWVudChyLFwib3V0T2ZSYW5nZVwiKSx1PXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsaD10aGlzLmNhbnZhcyxjPWguZ2V0Q29udGV4dChcIjJkXCIpLHA9dC5sZW5ndGg7aC53aWR0aD1lLGguaGVpZ2h0PW47Zm9yKHZhciBkPTA7ZDxwOysrZCl7dmFyIGY9dFtkXSxnPWZbMF0seT1mWzFdLHY9aShmWzJdKTtjLmdsb2JhbEFscGhhPXYsYy5kcmF3SW1hZ2UoYSxnLXUseS11KX1pZighaC53aWR0aHx8IWguaGVpZ2h0KXJldHVybiBoO2Zvcih2YXIgbT1jLmdldEltYWdlRGF0YSgwLDAsaC53aWR0aCxoLmhlaWdodCksXz1tLmRhdGEseD0wLGI9Xy5sZW5ndGgsdz10aGlzLm1pbk9wYWNpdHksUz10aGlzLm1heE9wYWNpdHktdzt4PGI7KXt2PV9beCszXS8yNTY7dmFyIE09NCpNYXRoLmZsb29yKDI1NSp2KTtpZih2PjApe3ZhciBJPW8odik/czpsO3Y+MCYmKHY9dipTK3cpLF9beCsrXT1JW01dLF9beCsrXT1JW00rMV0sX1t4KytdPUlbTSsyXSxfW3grK109SVtNKzNdKnYqMjU2fWVsc2UgeCs9NH1yZXR1cm4gYy5wdXRJbWFnZURhdGEobSwwLDApLGh9LHQucHJvdG90eXBlLl9nZXRCcnVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2JydXNoQ2FudmFzfHwodGhpcy5fYnJ1c2hDYW52YXM9QygpKSxlPXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsbj0yKmU7dC53aWR0aD1uLHQuaGVpZ2h0PW47dmFyIGk9dC5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIGkuY2xlYXJSZWN0KDAsMCxuLG4pLGkuc2hhZG93T2Zmc2V0WD1uLGkuc2hhZG93Qmx1cj10aGlzLmJsdXJTaXplLGkuc2hhZG93Q29sb3I9XCIjMDAwXCIsaS5iZWdpblBhdGgoKSxpLmFyYygtZSxlLHRoaXMucG9pbnRTaXplLDAsMipNYXRoLlBJLCEwKSxpLmNsb3NlUGF0aCgpLGkuZmlsbCgpLHR9LHQucHJvdG90eXBlLl9nZXRHcmFkaWVudD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9ncmFkaWVudFBpeGVscyxpPW5bZV18fChuW2VdPW5ldyBVaW50OENsYW1wZWRBcnJheSgxMDI0KSkscj1bMCwwLDAsMF0sbz0wLGE9MDthPDI1NjthKyspdFtlXShhLzI1NSwhMCxyKSxpW28rK109clswXSxpW28rK109clsxXSxpW28rK109clsyXSxpW28rK109clszXTtyZXR1cm4gaX0sdH0oKTtmdW5jdGlvbiBDTCh0KXt2YXIgZT10LmRpbWVuc2lvbnM7cmV0dXJuXCJsbmdcIj09PWVbMF0mJlwibGF0XCI9PT1lWzFdfXZhciBBTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO2UuZWFjaENvbXBvbmVudChcInZpc3VhbE1hcFwiLChmdW5jdGlvbihlKXtlLmVhY2hUYXJnZXRTZXJpZXMoKGZ1bmN0aW9uKG4pe249PT10JiYoaT1lKX0pKX0pKSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2luY3JlbWVudGFsRGlzcGxheWFibGU9bnVsbDt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW07XCJjYXJ0ZXNpYW4yZFwiPT09ci50eXBlfHxcImNhbGVuZGFyXCI9PT1yLnR5cGU/dGhpcy5fcmVuZGVyT25DYXJ0ZXNpYW5BbmRDYWxlbmRhcih0LG4sMCx0LmdldERhdGEoKS5jb3VudCgpKTpDTChyKSYmdGhpcy5fcmVuZGVyT25HZW8ocix0LGksbil9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZS5jb29yZGluYXRlU3lzdGVtO3ImJihDTChyKT90aGlzLnJlbmRlcihlLG4saSk6dGhpcy5fcmVuZGVyT25DYXJ0ZXNpYW5BbmRDYWxlbmRhcihlLGksdC5zdGFydCx0LmVuZCwhMCkpfSxlLnByb3RvdHlwZS5fcmVuZGVyT25DYXJ0ZXNpYW5BbmRDYWxlbmRhcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGEscyxsLHU9dC5jb29yZGluYXRlU3lzdGVtO2lmKFdiKHUsXCJjYXJ0ZXNpYW4yZFwiKSl7dmFyIGg9dS5nZXRBeGlzKFwieFwiKSxjPXUuZ2V0QXhpcyhcInlcIik7MCxvPWguZ2V0QmFuZFdpZHRoKCksYT1jLmdldEJhbmRXaWR0aCgpLHM9aC5zY2FsZS5nZXRFeHRlbnQoKSxsPWMuc2NhbGUuZ2V0RXh0ZW50KCl9Zm9yKHZhciBwPXRoaXMuZ3JvdXAsZD10LmdldERhdGEoKSxmPXQuZ2V0TW9kZWwoW1wiZW1waGFzaXNcIixcIml0ZW1TdHlsZVwiXSkuZ2V0SXRlbVN0eWxlKCksZz10LmdldE1vZGVsKFtcImJsdXJcIixcIml0ZW1TdHlsZVwiXSkuZ2V0SXRlbVN0eWxlKCkseT10LmdldE1vZGVsKFtcInNlbGVjdFwiLFwiaXRlbVN0eWxlXCJdKS5nZXRJdGVtU3R5bGUoKSx2PWVoKHQpLG09dC5nZXQoW1wiZW1waGFzaXNcIixcImZvY3VzXCJdKSxfPXQuZ2V0KFtcImVtcGhhc2lzXCIsXCJibHVyU2NvcGVcIl0pLHg9V2IodSxcImNhcnRlc2lhbjJkXCIpP1tkLm1hcERpbWVuc2lvbihcInhcIiksZC5tYXBEaW1lbnNpb24oXCJ5XCIpLGQubWFwRGltZW5zaW9uKFwidmFsdWVcIildOltkLm1hcERpbWVuc2lvbihcInRpbWVcIiksZC5tYXBEaW1lbnNpb24oXCJ2YWx1ZVwiKV0sYj1uO2I8aTtiKyspe3ZhciB3PXZvaWQgMCxTPWQuZ2V0SXRlbVZpc3VhbChiLFwic3R5bGVcIik7aWYoV2IodSxcImNhcnRlc2lhbjJkXCIpKXt2YXIgTT1kLmdldCh4WzBdLGIpLEk9ZC5nZXQoeFsxXSxiKTtpZihpc05hTihkLmdldCh4WzJdLGIpKXx8TTxzWzBdfHxNPnNbMV18fEk8bFswXXx8ST5sWzFdKWNvbnRpbnVlO3ZhciBUPXUuZGF0YVRvUG9pbnQoW00sSV0pO3c9bmV3IG9zKHtzaGFwZTp7eDpNYXRoLmZsb29yKE1hdGgucm91bmQoVFswXSktby8yKSx5Ok1hdGguZmxvb3IoTWF0aC5yb3VuZChUWzFdKS1hLzIpLHdpZHRoOk1hdGguY2VpbChvKSxoZWlnaHQ6TWF0aC5jZWlsKGEpfSxzdHlsZTpTfSl9ZWxzZXtpZihpc05hTihkLmdldCh4WzFdLGIpKSljb250aW51ZTt3PW5ldyBvcyh7ejI6MSxzaGFwZTp1LmRhdGFUb1JlY3QoW2QuZ2V0KHhbMF0sYildKS5jb250ZW50U2hhcGUsc3R5bGU6U30pfXZhciBDPWQuZ2V0SXRlbU1vZGVsKGIpO2lmKGQuaGFzSXRlbU9wdGlvbil7dmFyIEE9Qy5nZXRNb2RlbChcImVtcGhhc2lzXCIpO2Y9QS5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSxnPUMuZ2V0TW9kZWwoW1wiYmx1clwiLFwiaXRlbVN0eWxlXCJdKS5nZXRJdGVtU3R5bGUoKSx5PUMuZ2V0TW9kZWwoW1wic2VsZWN0XCIsXCJpdGVtU3R5bGVcIl0pLmdldEl0ZW1TdHlsZSgpLG09QS5nZXQoXCJmb2N1c1wiKSxfPUEuZ2V0KFwiYmx1clNjb3BlXCIpLHY9ZWgoQyl9dmFyIEQ9dC5nZXRSYXdWYWx1ZShiKSxMPVwiLVwiO0QmJm51bGwhPURbMl0mJihMPURbMl0rXCJcIiksdGgodyx2LHtsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDpiLGRlZmF1bHRPcGFjaXR5OlMub3BhY2l0eSxkZWZhdWx0VGV4dDpMfSksdy5lbnN1cmVTdGF0ZShcImVtcGhhc2lzXCIpLnN0eWxlPWYsdy5lbnN1cmVTdGF0ZShcImJsdXJcIikuc3R5bGU9Zyx3LmVuc3VyZVN0YXRlKFwic2VsZWN0XCIpLnN0eWxlPXksSnModyxtLF8pLHcuaW5jcmVtZW50YWw9cixyJiYody5zdGF0ZXMuZW1waGFzaXMuaG92ZXJMYXllcj0hMCkscC5hZGQodyksZC5zZXRJdGVtR3JhcGhpY0VsKGIsdyl9fSxlLnByb3RvdHlwZS5fcmVuZGVyT25HZW89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi50YXJnZXRWaXN1YWxzLmluUmFuZ2Usbz1uLnRhcmdldFZpc3VhbHMub3V0T2ZSYW5nZSxhPWUuZ2V0RGF0YSgpLHM9dGhpcy5faG1MYXllcnx8dGhpcy5faG1MYXllcnx8bmV3IFRMO3MuYmx1clNpemU9ZS5nZXQoXCJibHVyU2l6ZVwiKSxzLnBvaW50U2l6ZT1lLmdldChcInBvaW50U2l6ZVwiKSxzLm1pbk9wYWNpdHk9ZS5nZXQoXCJtaW5PcGFjaXR5XCIpLHMubWF4T3BhY2l0eT1lLmdldChcIm1heE9wYWNpdHlcIik7dmFyIGw9dC5nZXRWaWV3UmVjdCgpLmNsb25lKCksdT10LmdldFJvYW1UcmFuc2Zvcm0oKTtsLmFwcGx5VHJhbnNmb3JtKHUpO3ZhciBoPU1hdGgubWF4KGwueCwwKSxjPU1hdGgubWF4KGwueSwwKSxwPU1hdGgubWluKGwud2lkdGgrbC54LGkuZ2V0V2lkdGgoKSksZD1NYXRoLm1pbihsLmhlaWdodCtsLnksaS5nZXRIZWlnaHQoKSksZj1wLWgsZz1kLWMseT1bYS5tYXBEaW1lbnNpb24oXCJsbmdcIiksYS5tYXBEaW1lbnNpb24oXCJsYXRcIiksYS5tYXBEaW1lbnNpb24oXCJ2YWx1ZVwiKV0sdj1hLm1hcEFycmF5KHksKGZ1bmN0aW9uKGUsbixpKXt2YXIgcj10LmRhdGFUb1BvaW50KFtlLG5dKTtyZXR1cm4gclswXS09aCxyWzFdLT1jLHIucHVzaChpKSxyfSkpLG09bi5nZXRFeHRlbnQoKSxfPVwidmlzdWFsTWFwLmNvbnRpbnVvdXNcIj09PW4udHlwZT9mdW5jdGlvbih0LGUpe3ZhciBuPXRbMV0tdFswXTtyZXR1cm4gZT1bKGVbMF0tdFswXSkvbiwoZVsxXS10WzBdKS9uXSxmdW5jdGlvbih0KXtyZXR1cm4gdD49ZVswXSYmdDw9ZVsxXX19KG0sbi5vcHRpb24ucmFuZ2UpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10WzFdLXRbMF0scj0oZT1PKGUsKGZ1bmN0aW9uKGUpe3JldHVybntpbnRlcnZhbDpbKGUuaW50ZXJ2YWxbMF0tdFswXSkvaSwoZS5pbnRlcnZhbFsxXS10WzBdKS9pXX19KSkpLmxlbmd0aCxvPTA7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpO2ZvcihpPW87aTxyO2krKylpZigoYT1lW2ldLmludGVydmFsKVswXTw9dCYmdDw9YVsxXSl7bz1pO2JyZWFrfWlmKGk9PT1yKWZvcihpPW8tMTtpPj0wO2ktLSl7dmFyIGE7aWYoKGE9ZVtpXS5pbnRlcnZhbClbMF08PXQmJnQ8PWFbMV0pe289aTticmVha319cmV0dXJuIGk+PTAmJmk8ciYmbltpXX19KG0sbi5nZXRQaWVjZUxpc3QoKSxuLm9wdGlvbi5zZWxlY3RlZCk7cy51cGRhdGUodixmLGcsci5jb2xvci5nZXROb3JtYWxpemVyKCkse2luUmFuZ2U6ci5jb2xvci5nZXRDb2xvck1hcHBlcigpLG91dE9mUmFuZ2U6by5jb2xvci5nZXRDb2xvck1hcHBlcigpfSxfKTt2YXIgeD1uZXcgSmEoe3N0eWxlOnt3aWR0aDpmLGhlaWdodDpnLHg6aCx5OmMsaW1hZ2U6cy5jYW52YXN9LHNpbGVudDohMH0pO3RoaXMuZ3JvdXAuYWRkKHgpfSxlLnR5cGU9XCJoZWF0bWFwXCIsZX0oeWYpLERMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhtKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7Z2VuZXJhdGVDb29yZDpcInZhbHVlXCJ9KX0sZS5wcm90b3R5cGUucHJldmVudEluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9X3AuZ2V0KHRoaXMuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSk7aWYodCYmdC5kaW1lbnNpb25zKXJldHVyblwibG5nXCI9PT10LmRpbWVuc2lvbnNbMF0mJlwibGF0XCI9PT10LmRpbWVuc2lvbnNbMV19LGUudHlwZT1cInNlcmllcy5oZWF0bWFwXCIsZS5kZXBlbmRlbmNpZXM9W1wiZ3JpZFwiLFwiZ2VvXCIsXCJjYWxlbmRhclwiXSxlLmRlZmF1bHRPcHRpb249e2Nvb3JkaW5hdGVTeXN0ZW06XCJjYXJ0ZXNpYW4yZFwiLHpsZXZlbDowLHo6MixnZW9JbmRleDowLGJsdXJTaXplOjMwLHBvaW50U2l6ZToyMCxtYXhPcGFjaXR5OjEsbWluT3BhY2l0eTowLHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjpcIiMyMTIxMjFcIn19fSxlfShyZik7dmFyIExMPVtcIml0ZW1TdHlsZVwiLFwiYm9yZGVyV2lkdGhcIl0sa0w9W3t4eTpcInhcIix3aDpcIndpZHRoXCIsaW5kZXg6MCxwb3NEZXNjOltcImxlZnRcIixcInJpZ2h0XCJdfSx7eHk6XCJ5XCIsd2g6XCJoZWlnaHRcIixpbmRleDoxLHBvc0Rlc2M6W1widG9wXCIsXCJib3R0b21cIl19XSxQTD1uZXcgVGwsT0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdyb3VwLHI9dC5nZXREYXRhKCksbz10aGlzLl9kYXRhLGE9dC5jb29yZGluYXRlU3lzdGVtLHM9YS5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpLGw9YS5tYXN0ZXIuZ2V0UmVjdCgpLHU9e2VjU2l6ZTp7d2lkdGg6bi5nZXRXaWR0aCgpLGhlaWdodDpuLmdldEhlaWdodCgpfSxzZXJpZXNNb2RlbDp0LGNvb3JkU3lzOmEsY29vcmRTeXNFeHRlbnQ6W1tsLngsbC54K2wud2lkdGhdLFtsLnksbC55K2wuaGVpZ2h0XV0saXNIb3Jpem9udGFsOnMsdmFsdWVEaW06a0xbK3NdLGNhdGVnb3J5RGltOmtMWzEtK3NdfTtyZXR1cm4gci5kaWZmKG8pLmFkZCgoZnVuY3Rpb24odCl7aWYoci5oYXNWYWx1ZSh0KSl7dmFyIGU9R0wocix0KSxuPVJMKHIsdCxlLHUpLG89WUwocix1LG4pO3Iuc2V0SXRlbUdyYXBoaWNFbCh0LG8pLGkuYWRkKG8pLHFMKG8sdSxuKX19KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe3ZhciBuPW8uZ2V0SXRlbUdyYXBoaWNFbChlKTtpZihyLmhhc1ZhbHVlKHQpKXt2YXIgYT1HTChyLHQpLHM9Ukwocix0LGEsdSksbD1VTChyLHMpO24mJmwhPT1uLl9fcGljdG9yaWFsU2hhcGVTdHImJihpLnJlbW92ZShuKSxyLnNldEl0ZW1HcmFwaGljRWwodCxudWxsKSxuPW51bGwpLG4/ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4uYW5pbWF0aW9uTW9kZWwscj1uLmRhdGFJbmRleDtPdSh0Ll9fcGljdG9yaWFsQnVuZGxlLHt4Om4uYnVuZGxlUG9zaXRpb25bMF0seTpuLmJ1bmRsZVBvc2l0aW9uWzFdfSxpLHIpLG4uc3ltYm9sUmVwZWF0P3pMKHQsZSxuLCEwKTpCTCh0LGUsbiwhMCk7VkwodCxuLCEwKSxGTCh0LGUsbiwhMCl9KG4sdSxzKTpuPVlMKHIsdSxzLCEwKSxyLnNldEl0ZW1HcmFwaGljRWwodCxuKSxuLl9fcGljdG9yaWFsU3ltYm9sTWV0YT1zLGkuYWRkKG4pLHFMKG4sdSxzKX1lbHNlIGkucmVtb3ZlKG4pfSkpLnJlbW92ZSgoZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtR3JhcGhpY0VsKHQpO2UmJlhMKG8sdCxlLl9fcGljdG9yaWFsU3ltYm9sTWV0YS5hbmltYXRpb25Nb2RlbCxlKX0pKS5leGVjdXRlKCksdGhpcy5fZGF0YT1yLHRoaXMuZ3JvdXB9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ3JvdXAsaT10aGlzLl9kYXRhO3QuZ2V0KFwiYW5pbWF0aW9uXCIpP2kmJmkuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUpe1hMKGkseXMoZSkuZGF0YUluZGV4LHQsZSl9KSk6bi5yZW1vdmVBbGwoKX0sZS50eXBlPVwicGljdG9yaWFsQmFyXCIsZX0oeWYpO2Z1bmN0aW9uIFJMKHQsZSxuLGkpe3ZhciByPXQuZ2V0SXRlbUxheW91dChlKSxvPW4uZ2V0KFwic3ltYm9sUmVwZWF0XCIpLGE9bi5nZXQoXCJzeW1ib2xDbGlwXCIpLHM9bi5nZXQoXCJzeW1ib2xQb3NpdGlvblwiKXx8XCJzdGFydFwiLGw9KG4uZ2V0KFwic3ltYm9sUm90YXRlXCIpfHwwKSpNYXRoLlBJLzE4MHx8MCx1PW4uZ2V0KFwic3ltYm9sUGF0dGVyblNpemVcIil8fDIsaD1uLmlzQW5pbWF0aW9uRW5hYmxlZCgpLGM9e2RhdGFJbmRleDplLGxheW91dDpyLGl0ZW1Nb2RlbDpuLHN5bWJvbFR5cGU6dC5nZXRJdGVtVmlzdWFsKGUsXCJzeW1ib2xcIil8fFwiY2lyY2xlXCIsc3R5bGU6dC5nZXRJdGVtVmlzdWFsKGUsXCJzdHlsZVwiKSxzeW1ib2xDbGlwOmEsc3ltYm9sUmVwZWF0Om8sc3ltYm9sUmVwZWF0RGlyZWN0aW9uOm4uZ2V0KFwic3ltYm9sUmVwZWF0RGlyZWN0aW9uXCIpLHN5bWJvbFBhdHRlcm5TaXplOnUscm90YXRpb246bCxhbmltYXRpb25Nb2RlbDpoP246bnVsbCxob3ZlclNjYWxlOmgmJm4uZ2V0KFtcImVtcGhhc2lzXCIsXCJzY2FsZVwiXSksejI6bi5nZXRTaGFsbG93KFwielwiLCEwKXx8MH07IWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG8sYT1pLnZhbHVlRGltLHM9dC5nZXQoXCJzeW1ib2xCb3VuZGluZ0RhdGFcIiksbD1pLmNvb3JkU3lzLmdldE90aGVyQXhpcyhpLmNvb3JkU3lzLmdldEJhc2VBeGlzKCkpLHU9bC50b0dsb2JhbENvb3JkKGwuZGF0YVRvQ29vcmQoMCkpLGg9MS0rKG5bYS53aF08PTApO2lmKEYocykpe3ZhciBjPVtOTChsLHNbMF0pLXUsTkwobCxzWzFdKS11XTtjWzFdPGNbMF0mJmMucmV2ZXJzZSgpLG89Y1toXX1lbHNlIG89bnVsbCE9cz9OTChsLHMpLXU6ZT9pLmNvb3JkU3lzRXh0ZW50W2EuaW5kZXhdW2hdLXU6blthLndoXTtyLmJvdW5kaW5nTGVuZ3RoPW8sZSYmKHIucmVwZWF0Q3V0TGVuZ3RoPW5bYS53aF0pO3IucHhTaWduPW8+MD8xOm88MD8tMTowfShuLG8scixpLGMpLGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUpe3ZhciBoLGM9bC52YWx1ZURpbSxwPWwuY2F0ZWdvcnlEaW0sZD1NYXRoLmFicyhuW3Aud2hdKSxmPXQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sU2l6ZVwiKTtoPUYoZik/Zi5zbGljZSgpOm51bGw9PWY/W1wiMTAwJVwiLFwiMTAwJVwiXTpbZixmXTtoW3AuaW5kZXhdPVppKGhbcC5pbmRleF0sZCksaFtjLmluZGV4XT1aaShoW2MuaW5kZXhdLGk/ZDpNYXRoLmFicyhvKSksdS5zeW1ib2xTaXplPWgsKHUuc3ltYm9sU2NhbGU9W2hbMF0vcyxoWzFdL3NdKVtjLmluZGV4XSo9KGwuaXNIb3Jpem9udGFsPy0xOjEpKmF9KHQsZSxyLG8sMCxjLmJvdW5kaW5nTGVuZ3RoLGMucHhTaWduLHUsaSxjKSxmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuZ2V0KExMKXx8MDtvJiYoUEwuYXR0cih7c2NhbGVYOmVbMF0sc2NhbGVZOmVbMV0scm90YXRpb246bn0pLFBMLnVwZGF0ZVRyYW5zZm9ybSgpLG8vPVBMLmdldExpbmVTY2FsZSgpLG8qPWVbaS52YWx1ZURpbS5pbmRleF0pO3IudmFsdWVMaW5lV2lkdGg9b30obixjLnN5bWJvbFNjYWxlLGwsaSxjKTt2YXIgcD1jLnN5bWJvbFNpemUsZD1uLmdldChcInN5bWJvbE9mZnNldFwiKTtyZXR1cm4gRihkKSYmKGQ9W1ppKGRbMF0scFswXSksWmkoZFsxXSxwWzFdKV0pLGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUsaCxjKXt2YXIgcD1oLmNhdGVnb3J5RGltLGQ9aC52YWx1ZURpbSxmPWMucHhTaWduLGc9TWF0aC5tYXgoZVtkLmluZGV4XStzLDApLHk9ZztpZihpKXt2YXIgdj1NYXRoLmFicyhsKSxtPVEodC5nZXQoXCJzeW1ib2xNYXJnaW5cIiksXCIxNSVcIikrXCJcIixfPSExO20ubGFzdEluZGV4T2YoXCIhXCIpPT09bS5sZW5ndGgtMSYmKF89ITAsbT1tLnNsaWNlKDAsbS5sZW5ndGgtMSkpO3ZhciB4PVppKG0sZVtkLmluZGV4XSksYj1NYXRoLm1heChnKzIqeCwwKSx3PV8/MDoyKngsUz1jcihpKSxNPVM/aTpLTCgodit3KS9iKTtiPWcrMiooeD0odi1NKmcpLzIvKF8/TTpNLTEpKSx3PV8/MDoyKngsU3x8XCJmaXhlZFwiPT09aXx8KE09dT9LTCgoTWF0aC5hYnModSkrdykvYik6MCkseT1NKmItdyxjLnJlcGVhdFRpbWVzPU0sYy5zeW1ib2xNYXJnaW49eH12YXIgVD1mKih5LzIpLEM9Yy5wYXRoUG9zaXRpb249W107Q1twLmluZGV4XT1uW3Aud2hdLzIsQ1tkLmluZGV4XT1cInN0YXJ0XCI9PT1hP1Q6XCJlbmRcIj09PWE/bC1UOmwvMixvJiYoQ1swXSs9b1swXSxDWzFdKz1vWzFdKTt2YXIgQT1jLmJ1bmRsZVBvc2l0aW9uPVtdO0FbcC5pbmRleF09bltwLnh5XSxBW2QuaW5kZXhdPW5bZC54eV07dmFyIEQ9Yy5iYXJSZWN0U2hhcGU9SSh7fSxuKTtEW2Qud2hdPWYqTWF0aC5tYXgoTWF0aC5hYnMobltkLndoXSksTWF0aC5hYnMoQ1tkLmluZGV4XStUKSksRFtwLndoXT1uW3Aud2hdO3ZhciBMPWMuY2xpcFNoYXBlPXt9O0xbcC54eV09LW5bcC54eV0sTFtwLndoXT1oLmVjU2l6ZVtwLndoXSxMW2QueHldPTAsTFtkLndoXT1uW2Qud2hdfShuLHAscixvLDAsZCxzLGMudmFsdWVMaW5lV2lkdGgsYy5ib3VuZGluZ0xlbmd0aCxjLnJlcGVhdEN1dExlbmd0aCxpLGMpLGN9ZnVuY3Rpb24gTkwodCxlKXtyZXR1cm4gdC50b0dsb2JhbENvb3JkKHQuZGF0YVRvQ29vcmQodC5zY2FsZS5wYXJzZShlKSkpfWZ1bmN0aW9uIEVMKHQpe3ZhciBlPXQuc3ltYm9sUGF0dGVyblNpemUsbj11eSh0LnN5bWJvbFR5cGUsLWUvMiwtZS8yLGUsZSk7cmV0dXJuIG4uYXR0cih7Y3VsbGluZzohMH0pLFwiaW1hZ2VcIiE9PW4udHlwZSYmbi5zZXRTdHlsZSh7c3Ryb2tlTm9TY2FsZTohMH0pLG59ZnVuY3Rpb24gekwodCxlLG4saSl7dmFyIHI9dC5fX3BpY3RvcmlhbEJ1bmRsZSxvPW4uc3ltYm9sU2l6ZSxhPW4udmFsdWVMaW5lV2lkdGgscz1uLnBhdGhQb3NpdGlvbixsPWUudmFsdWVEaW0sdT1uLnJlcGVhdFRpbWVzfHwwLGg9MCxjPW9bZS52YWx1ZURpbS5pbmRleF0rYSsyKm4uc3ltYm9sTWFyZ2luO2ZvcihaTCh0LChmdW5jdGlvbih0KXt0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXg9aCx0Ll9fcGljdG9yaWFsUmVwZWF0VGltZXM9dSxoPHU/akwodCxudWxsLGYoaCksbixpKTpqTCh0LG51bGwse3NjYWxlWDowLHNjYWxlWTowfSxuLGksKGZ1bmN0aW9uKCl7ci5yZW1vdmUodCl9KSksaCsrfSkpO2g8dTtoKyspe3ZhciBwPUVMKG4pO3AuX19waWN0b3JpYWxBbmltYXRpb25JbmRleD1oLHAuX19waWN0b3JpYWxSZXBlYXRUaW1lcz11LHIuYWRkKHApO3ZhciBkPWYoaCk7akwocCx7eDpkLngseTpkLnksc2NhbGVYOjAsc2NhbGVZOjB9LHtzY2FsZVg6ZC5zY2FsZVgsc2NhbGVZOmQuc2NhbGVZLHJvdGF0aW9uOmQucm90YXRpb259LG4saSl9ZnVuY3Rpb24gZih0KXt2YXIgZT1zLnNsaWNlKCksaT1uLnB4U2lnbixyPXQ7cmV0dXJuKFwic3RhcnRcIj09PW4uc3ltYm9sUmVwZWF0RGlyZWN0aW9uP2k+MDppPDApJiYocj11LTEtdCksZVtsLmluZGV4XT1jKihyLXUvMisuNSkrc1tsLmluZGV4XSx7eDplWzBdLHk6ZVsxXSxzY2FsZVg6bi5zeW1ib2xTY2FsZVswXSxzY2FsZVk6bi5zeW1ib2xTY2FsZVsxXSxyb3RhdGlvbjpuLnJvdGF0aW9ufX19ZnVuY3Rpb24gQkwodCxlLG4saSl7dmFyIHI9dC5fX3BpY3RvcmlhbEJ1bmRsZSxvPXQuX19waWN0b3JpYWxNYWluUGF0aDtvP2pMKG8sbnVsbCx7eDpuLnBhdGhQb3NpdGlvblswXSx5Om4ucGF0aFBvc2l0aW9uWzFdLHNjYWxlWDpuLnN5bWJvbFNjYWxlWzBdLHNjYWxlWTpuLnN5bWJvbFNjYWxlWzFdLHJvdGF0aW9uOm4ucm90YXRpb259LG4saSk6KG89dC5fX3BpY3RvcmlhbE1haW5QYXRoPUVMKG4pLHIuYWRkKG8pLGpMKG8se3g6bi5wYXRoUG9zaXRpb25bMF0seTpuLnBhdGhQb3NpdGlvblsxXSxzY2FsZVg6MCxzY2FsZVk6MCxyb3RhdGlvbjpuLnJvdGF0aW9ufSx7c2NhbGVYOm4uc3ltYm9sU2NhbGVbMF0sc2NhbGVZOm4uc3ltYm9sU2NhbGVbMV19LG4saSkpfWZ1bmN0aW9uIFZMKHQsZSxuKXt2YXIgaT1JKHt9LGUuYmFyUmVjdFNoYXBlKSxyPXQuX19waWN0b3JpYWxCYXJSZWN0O3I/akwocixudWxsLHtzaGFwZTppfSxlLG4pOihyPXQuX19waWN0b3JpYWxCYXJSZWN0PW5ldyBvcyh7ejI6MixzaGFwZTppLHNpbGVudDohMCxzdHlsZTp7c3Ryb2tlOlwidHJhbnNwYXJlbnRcIixmaWxsOlwidHJhbnNwYXJlbnRcIixsaW5lV2lkdGg6MH19KSx0LmFkZChyKSl9ZnVuY3Rpb24gRkwodCxlLG4saSl7aWYobi5zeW1ib2xDbGlwKXt2YXIgcj10Ll9fcGljdG9yaWFsQ2xpcFBhdGgsbz1JKHt9LG4uY2xpcFNoYXBlKSxhPWUudmFsdWVEaW0scz1uLmFuaW1hdGlvbk1vZGVsLGw9bi5kYXRhSW5kZXg7aWYocilPdShyLHtzaGFwZTpvfSxzLGwpO2Vsc2V7b1thLndoXT0wLHI9bmV3IG9zKHtzaGFwZTpvfSksdC5fX3BpY3RvcmlhbEJ1bmRsZS5zZXRDbGlwUGF0aChyKSx0Ll9fcGljdG9yaWFsQ2xpcFBhdGg9cjt2YXIgdT17fTt1W2Eud2hdPW4uY2xpcFNoYXBlW2Eud2hdLEt1W2k/XCJ1cGRhdGVQcm9wc1wiOlwiaW5pdFByb3BzXCJdKHIse3NoYXBlOnV9LHMsbCl9fX1mdW5jdGlvbiBHTCh0LGUpe3ZhciBuPXQuZ2V0SXRlbU1vZGVsKGUpO3JldHVybiBuLmdldEFuaW1hdGlvbkRlbGF5UGFyYW1zPUhMLG4uaXNBbmltYXRpb25FbmFibGVkPVdMLG59ZnVuY3Rpb24gSEwodCl7cmV0dXJue2luZGV4OnQuX19waWN0b3JpYWxBbmltYXRpb25JbmRleCxjb3VudDp0Ll9fcGljdG9yaWFsUmVwZWF0VGltZXN9fWZ1bmN0aW9uIFdMKCl7cmV0dXJuIHRoaXMucGFyZW50TW9kZWwuaXNBbmltYXRpb25FbmFibGVkKCkmJiEhdGhpcy5nZXRTaGFsbG93KFwiYW5pbWF0aW9uXCIpfWZ1bmN0aW9uIFlMKHQsZSxuLGkpe3ZhciByPW5ldyB6aSxvPW5ldyB6aTtyZXR1cm4gci5hZGQobyksci5fX3BpY3RvcmlhbEJ1bmRsZT1vLG8ueD1uLmJ1bmRsZVBvc2l0aW9uWzBdLG8ueT1uLmJ1bmRsZVBvc2l0aW9uWzFdLG4uc3ltYm9sUmVwZWF0P3pMKHIsZSxuKTpCTChyLDAsbiksVkwocixuLGkpLEZMKHIsZSxuLGkpLHIuX19waWN0b3JpYWxTaGFwZVN0cj1VTCh0LG4pLHIuX19waWN0b3JpYWxTeW1ib2xNZXRhPW4scn1mdW5jdGlvbiBYTCh0LGUsbixpKXt2YXIgcj1pLl9fcGljdG9yaWFsQmFyUmVjdDtyJiZyLnJlbW92ZVRleHRDb250ZW50KCk7dmFyIG89W107WkwoaSwoZnVuY3Rpb24odCl7by5wdXNoKHQpfSkpLGkuX19waWN0b3JpYWxNYWluUGF0aCYmby5wdXNoKGkuX19waWN0b3JpYWxNYWluUGF0aCksaS5fX3BpY3RvcmlhbENsaXBQYXRoJiYobj1udWxsKSxQKG8sKGZ1bmN0aW9uKHQpe051KHQse3NjYWxlWDowLHNjYWxlWTowfSxuLGUsKGZ1bmN0aW9uKCl7aS5wYXJlbnQmJmkucGFyZW50LnJlbW92ZShpKX0pKX0pKSx0LnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKX1mdW5jdGlvbiBVTCh0LGUpe3JldHVyblt0LmdldEl0ZW1WaXN1YWwoZS5kYXRhSW5kZXgsXCJzeW1ib2xcIil8fFwibm9uZVwiLCEhZS5zeW1ib2xSZXBlYXQsISFlLnN5bWJvbENsaXBdLmpvaW4oXCI6XCIpfWZ1bmN0aW9uIFpMKHQsZSxuKXtQKHQuX19waWN0b3JpYWxCdW5kbGUuY2hpbGRyZW4oKSwoZnVuY3Rpb24oaSl7aSE9PXQuX19waWN0b3JpYWxCYXJSZWN0JiZlLmNhbGwobixpKX0pKX1mdW5jdGlvbiBqTCh0LGUsbixpLHIsbyl7ZSYmdC5hdHRyKGUpLGkuc3ltYm9sQ2xpcCYmIXI/biYmdC5hdHRyKG4pOm4mJkt1W3I/XCJ1cGRhdGVQcm9wc1wiOlwiaW5pdFByb3BzXCJdKHQsbixpLmFuaW1hdGlvbk1vZGVsLGkuZGF0YUluZGV4LG8pfWZ1bmN0aW9uIHFMKHQsZSxuKXt2YXIgaT1uLmRhdGFJbmRleCxyPW4uaXRlbU1vZGVsLG89ci5nZXRNb2RlbChcImVtcGhhc2lzXCIpLGE9by5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSxzPXIuZ2V0TW9kZWwoW1wiYmx1clwiLFwiaXRlbVN0eWxlXCJdKS5nZXRJdGVtU3R5bGUoKSxsPXIuZ2V0TW9kZWwoW1wic2VsZWN0XCIsXCJpdGVtU3R5bGVcIl0pLmdldEl0ZW1TdHlsZSgpLHU9ci5nZXRTaGFsbG93KFwiY3Vyc29yXCIpLGg9by5nZXQoXCJmb2N1c1wiKSxjPW8uZ2V0KFwiYmx1clNjb3BlXCIpLHA9by5nZXQoXCJzY2FsZVwiKTtaTCh0LChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgSmEpe3ZhciBlPXQuc3R5bGU7dC51c2VTdHlsZShJKHtpbWFnZTplLmltYWdlLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxuLnN0eWxlKSl9ZWxzZSB0LnVzZVN0eWxlKG4uc3R5bGUpO3ZhciBpPXQuZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKTtpLnN0eWxlPWEscCYmKGkuc2NhbGVYPTEuMSp0LnNjYWxlWCxpLnNjYWxlWT0xLjEqdC5zY2FsZVkpLHQuZW5zdXJlU3RhdGUoXCJibHVyXCIpLnN0eWxlPXMsdC5lbnN1cmVTdGF0ZShcInNlbGVjdFwiKS5zdHlsZT1sLHUmJih0LmN1cnNvcj11KSx0LnoyPW4uejJ9KSk7dmFyIGQ9ZS52YWx1ZURpbS5wb3NEZXNjWysobi5ib3VuZGluZ0xlbmd0aD4wKV07dGgodC5fX3BpY3RvcmlhbEJhclJlY3QsZWgocikse2xhYmVsRmV0Y2hlcjplLnNlcmllc01vZGVsLGxhYmVsRGF0YUluZGV4OmksZGVmYXVsdFRleHQ6X2IoZS5zZXJpZXNNb2RlbC5nZXREYXRhKCksaSksaW5oZXJpdENvbG9yOm4uc3R5bGUuZmlsbCxkZWZhdWx0T3BhY2l0eTpuLnN0eWxlLm9wYWNpdHksZGVmYXVsdE91dHNpZGVQb3NpdGlvbjpkfSksSnModCxoLGMpfWZ1bmN0aW9uIEtMKHQpe3ZhciBlPU1hdGgucm91bmQodCk7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtND9lOk1hdGguY2VpbCh0KX12YXIgJEw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmhhc1N5bWJvbFZpc3VhbD0hMCxuLmRlZmF1bHRTeW1ib2w9XCJyb3VuZFJlY3RcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhY2s9bnVsbCx0LnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUudHlwZT1cInNlcmllcy5waWN0b3JpYWxCYXJcIixlLmRlcGVuZGVuY2llcz1bXCJncmlkXCJdLGUuZGVmYXVsdE9wdGlvbj1UaChpdy5kZWZhdWx0T3B0aW9uLHtzeW1ib2w6XCJjaXJjbGVcIixzeW1ib2xTaXplOm51bGwsc3ltYm9sUm90YXRlOm51bGwsc3ltYm9sUG9zaXRpb246bnVsbCxzeW1ib2xPZmZzZXQ6bnVsbCxzeW1ib2xNYXJnaW46bnVsbCxzeW1ib2xSZXBlYXQ6ITEsc3ltYm9sUmVwZWF0RGlyZWN0aW9uOlwiZW5kXCIsc3ltYm9sQ2xpcDohMSxzeW1ib2xCb3VuZGluZ0RhdGE6bnVsbCxzeW1ib2xQYXR0ZXJuU2l6ZTo0MDAsYmFyR2FwOlwiLTEwMCVcIixwcm9ncmVzc2l2ZTowLGVtcGhhc2lzOntzY2FsZTohMX0sc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOlwiIzIxMjEyMVwifX19KSxlfShpdyk7dmFyIEpMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fbGF5ZXJzPVtdLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcyxvPXRoaXMuZ3JvdXAsYT10LmdldExheWVyU2VyaWVzKCkscz1pLmdldExheW91dChcImxheW91dEluZm9cIiksbD1zLnJlY3QsdT1zLmJvdW5kYXJ5R2FwO2Z1bmN0aW9uIGgodCl7cmV0dXJuIHQubmFtZX1vLng9MCxvLnk9bC55K3VbMF07dmFyIGM9bmV3IHJtKHRoaXMuX2xheWVyc1Nlcmllc3x8W10sYSxoLGgpLHA9W107ZnVuY3Rpb24gZChlLG4scyl7dmFyIGw9ci5fbGF5ZXJzO2lmKFwicmVtb3ZlXCIhPT1lKXtmb3IodmFyIHUsaCxjPVtdLGQ9W10sZj1hW25dLmluZGljZXMsZz0wO2c8Zi5sZW5ndGg7ZysrKXt2YXIgeT1pLmdldEl0ZW1MYXlvdXQoZltnXSksdj15LngsbT15LnkwLF89eS55O2MucHVzaCh2LG0pLGQucHVzaCh2LG0rXyksdT1pLmdldEl0ZW1WaXN1YWwoZltnXSxcInN0eWxlXCIpfXZhciB4PWkuZ2V0SXRlbUxheW91dChmWzBdKSxiPXQuZ2V0TW9kZWwoXCJsYWJlbFwiKS5nZXQoXCJtYXJnaW5cIiksdz10LmdldE1vZGVsKFwiZW1waGFzaXNcIik7aWYoXCJhZGRcIj09PWUpe3ZhciBTPXBbbl09bmV3IHppO2g9bmV3IFZiKHtzaGFwZTp7cG9pbnRzOmMsc3RhY2tlZE9uUG9pbnRzOmQsc21vb3RoOi40LHN0YWNrZWRPblNtb290aDouNCxzbW9vdGhDb25zdHJhaW50OiExfSx6MjowfSksUy5hZGQoaCksby5hZGQoUyksdC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmaC5zZXRDbGlwUGF0aChmdW5jdGlvbih0LGUsbil7dmFyIGk9bmV3IG9zKHtzaGFwZTp7eDp0LngtMTAseTp0LnktMTAsd2lkdGg6MCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSk7cmV0dXJuIFJ1KGkse3NoYXBlOnt4OnQueC01MCx3aWR0aDp0LndpZHRoKzEwMCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSxlLG4pLGl9KGguZ2V0Qm91bmRpbmdSZWN0KCksdCwoZnVuY3Rpb24oKXtoLnJlbW92ZUNsaXBQYXRoKCl9KSkpfWVsc2V7Uz1sW3NdO2g9Uy5jaGlsZEF0KDApLG8uYWRkKFMpLHBbbl09UyxPdShoLHtzaGFwZTp7cG9pbnRzOmMsc3RhY2tlZE9uUG9pbnRzOmR9fSx0KX10aChoLGVoKHQpLHtsYWJlbERhdGFJbmRleDpmW2ctMV0sZGVmYXVsdFRleHQ6aS5nZXROYW1lKGZbZy0xXSksaW5oZXJpdENvbG9yOnUuZmlsbH0se25vcm1hbDp7dmVydGljYWxBbGlnbjpcIm1pZGRsZVwifX0pLGguc2V0VGV4dENvbmZpZyh7cG9zaXRpb246bnVsbCxsb2NhbDohMH0pO3ZhciBNPWguZ2V0VGV4dENvbnRlbnQoKTtNJiYoTS54PXgueC1iLE0ueT14LnkwK3gueS8yKSxoLnVzZVN0eWxlKHUpLGkuc2V0SXRlbUdyYXBoaWNFbChuLGgpLG5sKGgsdCksSnMoaCx3LmdldChcImZvY3VzXCIpLHcuZ2V0KFwiYmx1clNjb3BlXCIpKX1lbHNlIG8ucmVtb3ZlKGxbbl0pfWMuYWRkKEIoZCx0aGlzLFwiYWRkXCIpKS51cGRhdGUoQihkLHRoaXMsXCJ1cGRhdGVcIikpLnJlbW92ZShCKGQsdGhpcyxcInJlbW92ZVwiKSkuZXhlY3V0ZSgpLHRoaXMuX2xheWVyc1Nlcmllcz1hLHRoaXMuX2xheWVycz1wfSxlLnR5cGU9XCJ0aGVtZVJpdmVyXCIsZX0oeWYpO3ZhciBRTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4udXNlQ29sb3JQYWxldHRlT25EYXRhPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IE53KEIodGhpcy5nZXREYXRhLHRoaXMpLEIodGhpcy5nZXRSYXdEYXRhLHRoaXMpKX0sZS5wcm90b3R5cGUuZml4RGF0YT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPXt9LGk9enIodCwoZnVuY3Rpb24odCl7cmV0dXJuIG4uaGFzT3duUHJvcGVydHkodFswXStcIlwiKXx8KG5bdFswXStcIlwiXT0tMSksdFsyXX0pKSxyPVtdO2kuYnVja2V0cy5lYWNoKChmdW5jdGlvbih0LGUpe3IucHVzaCh7bmFtZTplLGRhdGFMaXN0OnR9KX0pKTtmb3IodmFyIG89ci5sZW5ndGgsYT0wO2E8bzsrK2Epe2Zvcih2YXIgcz1yW2FdLm5hbWUsbD0wO2w8clthXS5kYXRhTGlzdC5sZW5ndGg7KytsKXt2YXIgdT1yW2FdLmRhdGFMaXN0W2xdWzBdK1wiXCI7blt1XT1hfWZvcih2YXIgdSBpbiBuKW4uaGFzT3duUHJvcGVydHkodSkmJm5bdV0hPT1hJiYoblt1XT1hLHRbZV09W3UsMCxzXSxlKyspfXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJzaW5nbGVBeGlzXCIsT3IpLm1vZGVsc1swXS5nZXQoXCJ0eXBlXCIpLGk9Tih0LmRhdGEsKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10WzJdfSkpLHI9dGhpcy5maXhEYXRhKGl8fFtdKSxvPVtdLGE9dGhpcy5uYW1lTWFwPWh0KCkscz0wLGw9MDtsPHIubGVuZ3RoOysrbClvLnB1c2gocltsXVsyXSksYS5nZXQocltsXVsyXSl8fChhLnNldChyW2xdWzJdLHMpLHMrKyk7dmFyIHU9Tm0ocix7Y29vcmREaW1lbnNpb25zOltcInNpbmdsZVwiXSxkaW1lbnNpb25zRGVmaW5lOlt7bmFtZTpcInRpbWVcIix0eXBlOmFtKG4pfSx7bmFtZTpcInZhbHVlXCIsdHlwZTpcImZsb2F0XCJ9LHtuYW1lOlwibmFtZVwiLHR5cGU6XCJvcmRpbmFsXCJ9XSxlbmNvZGVEZWZpbmU6e3NpbmdsZTowLHZhbHVlOjEsaXRlbU5hbWU6Mn19KSxoPW5ldyBQbSh1LHRoaXMpO3JldHVybiBoLmluaXREYXRhKHIpLGh9LGUucHJvdG90eXBlLmdldExheWVyU2VyaWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0RGF0YSgpLGU9dC5jb3VudCgpLG49W10saT0wO2k8ZTsrK2kpbltpXT1pO3ZhciByPXQubWFwRGltZW5zaW9uKFwic2luZ2xlXCIpLG89enIobiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0KFwibmFtZVwiLGUpfSkpLGE9W107cmV0dXJuIG8uYnVja2V0cy5lYWNoKChmdW5jdGlvbihlLG4pe2Uuc29ydCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5nZXQocixlKS10LmdldChyLG4pfSkpLGEucHVzaCh7bmFtZTpuLGluZGljZXM6ZX0pfSkpLGF9LGUucHJvdG90eXBlLmdldEF4aXNUb29sdGlwRGF0YT1mdW5jdGlvbih0LGUsbil7Rih0KXx8KHQ9dD9bdF06W10pO2Zvcih2YXIgaSxyPXRoaXMuZ2V0RGF0YSgpLG89dGhpcy5nZXRMYXllclNlcmllcygpLGE9W10scz1vLmxlbmd0aCxsPTA7bDxzOysrbCl7Zm9yKHZhciB1PU51bWJlci5NQVhfVkFMVUUsaD0tMSxjPW9bbF0uaW5kaWNlcy5sZW5ndGgscD0wO3A8YzsrK3Ape3ZhciBkPXIuZ2V0KHRbMF0sb1tsXS5pbmRpY2VzW3BdKSxmPU1hdGguYWJzKGQtZSk7Zjw9dSYmKGk9ZCx1PWYsaD1vW2xdLmluZGljZXNbcF0pfWEucHVzaChoKX1yZXR1cm57ZGF0YUluZGljZXM6YSxuZXN0ZXN0VmFsdWU6aX19LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZ2V0RGF0YSgpO3JldHVybiBZZChcIm5hbWVWYWx1ZVwiLHtuYW1lOmkuZ2V0TmFtZSh0KSx2YWx1ZTppLmdldChpLm1hcERpbWVuc2lvbihcInZhbHVlXCIpLHQpfSl9LGUudHlwZT1cInNlcmllcy50aGVtZVJpdmVyXCIsZS5kZXBlbmRlbmNpZXM9W1wic2luZ2xlQXhpc1wiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwic2luZ2xlQXhpc1wiLGJvdW5kYXJ5R2FwOltcIjEwJVwiLFwiMTAlXCJdLHNpbmdsZUF4aXNJbmRleDowLGFuaW1hdGlvbkVhc2luZzpcImxpbmVhclwiLGxhYmVsOnttYXJnaW46NCxzaG93OiEwLHBvc2l0aW9uOlwibGVmdFwiLGZvbnRTaXplOjExfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9fX0sZX0ocmYpO2Z1bmN0aW9uIHRrKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKFwidGhlbWVSaXZlclwiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXt9LHI9bi5nZXRSZWN0KCk7aS5yZWN0PXI7dmFyIG89dC5nZXQoXCJib3VuZGFyeUdhcFwiKSxhPW4uZ2V0QXhpcygpOyhpLmJvdW5kYXJ5R2FwPW8sXCJob3Jpem9udGFsXCI9PT1hLm9yaWVudCk/KG9bMF09Wmkob1swXSxyLmhlaWdodCksb1sxXT1aaShvWzFdLHIuaGVpZ2h0KSxlayhlLHQsci5oZWlnaHQtb1swXS1vWzFdKSk6KG9bMF09Wmkob1swXSxyLndpZHRoKSxvWzFdPVppKG9bMV0sci53aWR0aCksZWsoZSx0LHIud2lkdGgtb1swXS1vWzFdKSk7ZS5zZXRMYXlvdXQoXCJsYXlvdXRJbmZvXCIsaSl9KSl9ZnVuY3Rpb24gZWsodCxlLG4pe2lmKHQuY291bnQoKSlmb3IodmFyIGkscj1lLmNvb3JkaW5hdGVTeXN0ZW0sbz1lLmdldExheWVyU2VyaWVzKCksYT10Lm1hcERpbWVuc2lvbihcInNpbmdsZVwiKSxzPXQubWFwRGltZW5zaW9uKFwidmFsdWVcIiksbD1PKG8sKGZ1bmN0aW9uKGUpe3JldHVybiBPKGUuaW5kaWNlcywoZnVuY3Rpb24oZSl7dmFyIG49ci5kYXRhVG9Qb2ludCh0LmdldChhLGUpKTtyZXR1cm4gblsxXT10LmdldChzLGUpLG59KSl9KSksdT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsbj10WzBdLmxlbmd0aCxpPVtdLHI9W10sbz0wLGE9MDthPG47KythKXtmb3IodmFyIHM9MCxsPTA7bDxlOysrbClzKz10W2xdW2FdWzFdO3M+byYmKG89cyksaS5wdXNoKHMpfWZvcih2YXIgdT0wO3U8bjsrK3Upclt1XT0oby1pW3VdKS8yO289MDtmb3IodmFyIGg9MDtoPG47KytoKXt2YXIgYz1pW2hdK3JbaF07Yz5vJiYobz1jKX1yZXR1cm57eTA6cixtYXg6b319KGwpLGg9dS55MCxjPW4vdS5tYXgscD1vLmxlbmd0aCxkPW9bMF0uaW5kaWNlcy5sZW5ndGgsZj0wO2Y8ZDsrK2Ype2k9aFtmXSpjLHQuc2V0SXRlbUxheW91dChvWzBdLmluZGljZXNbZl0se2xheWVySW5kZXg6MCx4OmxbMF1bZl1bMF0seTA6aSx5OmxbMF1bZl1bMV0qY30pO2Zvcih2YXIgZz0xO2c8cDsrK2cpaSs9bFtnLTFdW2ZdWzFdKmMsdC5zZXRJdGVtTGF5b3V0KG9bZ10uaW5kaWNlc1tmXSx7bGF5ZXJJbmRleDpnLHg6bFtnXVtmXVswXSx5MDppLHk6bFtnXVtmXVsxXSpjfSl9fXZhciBuaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztvLnoyPTIsby50ZXh0Q29uZmlnPXtpbnNpZGU6ITB9LHlzKG8pLnNlcmllc0luZGV4PW4uc2VyaWVzSW5kZXg7dmFyIGE9bmV3IGxzKHt6Mjo0LHNpbGVudDplLmdldE1vZGVsKCkuZ2V0KFtcImxhYmVsXCIsXCJzaWxlbnRcIl0pfSk7cmV0dXJuIG8uc2V0VGV4dENvbnRlbnQoYSksby51cGRhdGVEYXRhKCEwLGUsbixpLHIpLG99cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxuLGkscil7dGhpcy5ub2RlPWUsZS5waWVjZT10aGlzLG49bnx8dGhpcy5fc2VyaWVzTW9kZWwsaT1pfHx0aGlzLl9lY01vZGVsO3ZhciBvPXRoaXM7eXMobykuZGF0YUluZGV4PWUuZGF0YUluZGV4O3ZhciBhPWUuZ2V0TW9kZWwoKSxzPWEuZ2V0TW9kZWwoXCJlbXBoYXNpc1wiKSxsPWUuZ2V0TGF5b3V0KCksdT1JKHt9LGwpO3UubGFiZWw9bnVsbDt2YXIgaD1lLmdldFZpc3VhbChcInN0eWxlXCIpO2gubGluZUpvaW49XCJiZXZlbFwiO3ZhciBjPWUuZ2V0VmlzdWFsKFwiZGVjYWxcIik7YyYmKGguZGVjYWw9a3koYyxyKSk7dmFyIHA9a3coYS5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKSx1KTtJKHUscCksUCh4cywoZnVuY3Rpb24odCl7dmFyIGU9by5lbnN1cmVTdGF0ZSh0KSxuPWEuZ2V0TW9kZWwoW3QsXCJpdGVtU3R5bGVcIl0pO2Uuc3R5bGU9bi5nZXRJdGVtU3R5bGUoKTt2YXIgaT1rdyhuLHUpO2kmJihlLnNoYXBlPWkpfSkpLHQ/KG8uc2V0U2hhcGUodSksby5zaGFwZS5yPWwucjAsT3Uobyx7c2hhcGU6e3I6bC5yfX0sbixlLmRhdGFJbmRleCkpOk91KG8se3NoYXBlOnV9LG4pLG8udXNlU3R5bGUoaCksdGhpcy5fdXBkYXRlTGFiZWwobik7dmFyIGQ9YS5nZXRTaGFsbG93KFwiY3Vyc29yXCIpO2QmJm8uYXR0cihcImN1cnNvclwiLGQpLHRoaXMuX3Nlcmllc01vZGVsPW58fHRoaXMuX3Nlcmllc01vZGVsLHRoaXMuX2VjTW9kZWw9aXx8dGhpcy5fZWNNb2RlbDt2YXIgZj1zLmdldChcImZvY3VzXCIpO0pzKHRoaXMsKFwiYW5jZXN0b3JcIj09PWY/ZS5nZXRBbmNlc3RvcnNJbmRpY2VzKCk6XCJkZXNjZW5kYW50XCI9PT1mP2UuZ2V0RGVzY2VuZGFudEluZGljZXMoKTpudWxsKXx8ZixzLmdldChcImJsdXJTY29wZVwiKSl9LGUucHJvdG90eXBlLl91cGRhdGVMYWJlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5ub2RlLmdldE1vZGVsKCksaT1uLmdldE1vZGVsKFwibGFiZWxcIikscj10aGlzLm5vZGUuZ2V0TGF5b3V0KCksbz1yLmVuZEFuZ2xlLXIuc3RhcnRBbmdsZSxhPShyLnN0YXJ0QW5nbGUrci5lbmRBbmdsZSkvMixzPU1hdGguY29zKGEpLGw9TWF0aC5zaW4oYSksdT10aGlzLGg9dS5nZXRUZXh0Q29udGVudCgpLGM9dGhpcy5ub2RlLmRhdGFJbmRleCxwPWkuZ2V0KFwibWluQW5nbGVcIikvMTgwKk1hdGguUEksZD1pLmdldChcInNob3dcIikmJiEobnVsbCE9cCYmTWF0aC5hYnMobyk8cCk7ZnVuY3Rpb24gZih0LGUpe3ZhciBuPXQuZ2V0KGUpO3JldHVybiBudWxsPT1uP2kuZ2V0KGUpOm59aC5pZ25vcmU9IWQsUChicywoZnVuY3Rpb24oaSl7dmFyIG89XCJub3JtYWxcIj09PWk/bi5nZXRNb2RlbChcImxhYmVsXCIpOm4uZ2V0TW9kZWwoW2ksXCJsYWJlbFwiXSkscD1cIm5vcm1hbFwiPT09aSxkPXA/aDpoLmVuc3VyZVN0YXRlKGkpLGc9dC5nZXRGb3JtYXR0ZWRMYWJlbChjLGkpO3AmJihnPWd8fGUubm9kZS5uYW1lKSxkLnN0eWxlPW5oKG8se30sbnVsbCxcIm5vcm1hbFwiIT09aSwhMCksZyYmKGQuc3R5bGUudGV4dD1nKTt2YXIgeT1vLmdldChcInNob3dcIik7bnVsbD09eXx8cHx8KGQuaWdub3JlPSF5KTt2YXIgdixtPWYobyxcInBvc2l0aW9uXCIpLF89cD91OnUuc3RhdGVzW2ldLHg9Xy5zdHlsZS5maWxsO18udGV4dENvbmZpZz17b3V0c2lkZUZpbGw6XCJpbmhlcml0XCI9PT1vLmdldChcImNvbG9yXCIpP3g6bnVsbCxpbnNpZGU6XCJvdXRzaWRlXCIhPT1tfTt2YXIgYj1mKG8sXCJkaXN0YW5jZVwiKXx8MCx3PWYobyxcImFsaWduXCIpO1wib3V0c2lkZVwiPT09bT8odj1yLnIrYix3PWE+TWF0aC5QSS8yP1wicmlnaHRcIjpcImxlZnRcIik6dyYmXCJjZW50ZXJcIiE9PXc/XCJsZWZ0XCI9PT13Pyh2PXIucjArYixhPk1hdGguUEkvMiYmKHc9XCJyaWdodFwiKSk6XCJyaWdodFwiPT09dyYmKHY9ci5yLWIsYT5NYXRoLlBJLzImJih3PVwibGVmdFwiKSk6KHY9KHIucityLnIwKS8yLHc9XCJjZW50ZXJcIiksZC5zdHlsZS5hbGlnbj13LGQuc3R5bGUudmVydGljYWxBbGlnbj1mKG8sXCJ2ZXJ0aWNhbEFsaWduXCIpfHxcIm1pZGRsZVwiLGQueD12KnMrci5jeCxkLnk9dipsK3IuY3k7dmFyIFM9ZihvLFwicm90YXRlXCIpLE09MDtcInJhZGlhbFwiPT09Uz8oTT0tYSk8LU1hdGguUEkvMiYmKE0rPU1hdGguUEkpOlwidGFuZ2VudGlhbFwiPT09Uz8oTT1NYXRoLlBJLzItYSk+TWF0aC5QSS8yP00tPU1hdGguUEk6TTwtTWF0aC5QSS8yJiYoTSs9TWF0aC5QSSk6XCJudW1iZXJcIj09dHlwZW9mIFMmJihNPVMqTWF0aC5QSS8xODApLGQucm90YXRpb249TX0pKSxoLmRpcnR5U3R5bGUoKX0sZX0oV2wpLGlrPVwic3VuYnVyc3RSb290VG9Ob2RlXCIscms9XCJzdW5idXJzdEhpZ2hsaWdodFwiO3ZhciBvaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpczt0aGlzLnNlcmllc01vZGVsPXQsdGhpcy5hcGk9bix0aGlzLmVjTW9kZWw9ZTt2YXIgbz10LmdldERhdGEoKSxhPW8udHJlZS5yb290LHM9dC5nZXRWaWV3Um9vdCgpLGw9dGhpcy5ncm91cCx1PXQuZ2V0KFwicmVuZGVyTGFiZWxGb3JaZXJvRGF0YVwiKSxoPVtdO3MuZWFjaE5vZGUoKGZ1bmN0aW9uKHQpe2gucHVzaCh0KX0pKTt2YXIgYz10aGlzLl9vbGRDaGlsZHJlbnx8W107IWZ1bmN0aW9uKGkscil7aWYoMD09PWkubGVuZ3RoJiYwPT09ci5sZW5ndGgpcmV0dXJuO2Z1bmN0aW9uIHModCl7cmV0dXJuIHQuZ2V0SWQoKX1mdW5jdGlvbiBoKHMsaCl7IWZ1bmN0aW9uKGkscil7dXx8IWl8fGkuZ2V0VmFsdWUoKXx8KGk9bnVsbCk7aWYoaSE9PWEmJnIhPT1hKWlmKHImJnIucGllY2UpaT8oci5waWVjZS51cGRhdGVEYXRhKCExLGksdCxlLG4pLG8uc2V0SXRlbUdyYXBoaWNFbChpLmRhdGFJbmRleCxyLnBpZWNlKSk6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuO3QucGllY2UmJihsLnJlbW92ZSh0LnBpZWNlKSx0LnBpZWNlPW51bGwpfShyKTtlbHNlIGlmKGkpe3ZhciBzPW5ldyBuayhpLHQsZSxuKTtsLmFkZChzKSxvLnNldEl0ZW1HcmFwaGljRWwoaS5kYXRhSW5kZXgscyl9fShudWxsPT1zP251bGw6aVtzXSxudWxsPT1oP251bGw6cltoXSl9bmV3IHJtKHIsaSxzLHMpLmFkZChoKS51cGRhdGUoaCkucmVtb3ZlKFYoaCxudWxsKSkuZXhlY3V0ZSgpfShoLGMpLGZ1bmN0aW9uKGksbyl7by5kZXB0aD4wPyhyLnZpcnR1YWxQaWVjZT9yLnZpcnR1YWxQaWVjZS51cGRhdGVEYXRhKCExLGksdCxlLG4pOihyLnZpcnR1YWxQaWVjZT1uZXcgbmsoaSx0LGUsbiksbC5hZGQoci52aXJ0dWFsUGllY2UpKSxvLnBpZWNlLm9mZihcImNsaWNrXCIpLHIudmlydHVhbFBpZWNlLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24odCl7ci5fcm9vdFRvTm9kZShvLnBhcmVudE5vZGUpfSkpKTpyLnZpcnR1YWxQaWVjZSYmKGwucmVtb3ZlKHIudmlydHVhbFBpZWNlKSxyLnZpcnR1YWxQaWVjZT1udWxsKX0oYSxzKSx0aGlzLl9pbml0RXZlbnRzKCksdGhpcy5fb2xkQ2hpbGRyZW49aH0sZS5wcm90b3R5cGUuX2luaXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZ3JvdXAub2ZmKFwiY2xpY2tcIiksdGhpcy5ncm91cC5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKGUpe3ZhciBuPSExO3Quc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKS5lYWNoTm9kZSgoZnVuY3Rpb24oaSl7aWYoIW4mJmkucGllY2UmJmkucGllY2U9PT1lLnRhcmdldCl7dmFyIHI9aS5nZXRNb2RlbCgpLmdldChcIm5vZGVDbGlja1wiKTtpZihcInJvb3RUb05vZGVcIj09PXIpdC5fcm9vdFRvTm9kZShpKTtlbHNlIGlmKFwibGlua1wiPT09cil7dmFyIG89aS5nZXRNb2RlbCgpLGE9by5nZXQoXCJsaW5rXCIpO2lmKGEpd2MoYSxvLmdldChcInRhcmdldFwiLCEwKXx8XCJfYmxhbmtcIil9bj0hMH19KSl9KSl9LGUucHJvdG90eXBlLl9yb290VG9Ob2RlPWZ1bmN0aW9uKHQpe3QhPT10aGlzLnNlcmllc01vZGVsLmdldFZpZXdSb290KCkmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOmlrLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnR9KX0sZS5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihuKXt2YXIgaT10WzBdLW4uY3gscj10WzFdLW4uY3ksbz1NYXRoLnNxcnQoaSppK3Iqcik7cmV0dXJuIG88PW4uciYmbz49bi5yMH19LGUudHlwZT1cInN1bmJ1cnN0XCIsZX0oeWYpLGFrPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5pZ25vcmVTdHlsZU9uRGF0YT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfTtzayhuKTt2YXIgaT1PKHQubGV2ZWxzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTaCh0LHRoaXMsZSl9KSx0aGlzKSxyPW1JLmNyZWF0ZVRyZWUobix0aGlzLChmdW5jdGlvbih0KXt0LndyYXBNZXRob2QoXCJnZXRJdGVtTW9kZWxcIiwoZnVuY3Rpb24odCxlKXt2YXIgbj1yLmdldE5vZGVCeURhdGFJbmRleChlKSxvPWlbbi5kZXB0aF07cmV0dXJuIG8mJih0LnBhcmVudE1vZGVsPW8pLHR9KSl9KSk7cmV0dXJuIHIuZGF0YX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMucmVzZXRWaWV3Um9vdCgpfSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUpe3ZhciBuPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dGhpcy5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoZSk7cmV0dXJuIG4udHJlZVBhdGhJbmZvPUNJKGksdGhpcyksbn0sZS5wcm90b3R5cGUuZ2V0Vmlld1Jvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1Jvb3R9LGUucHJvdG90eXBlLnJlc2V0Vmlld1Jvb3Q9ZnVuY3Rpb24odCl7dD90aGlzLl92aWV3Um9vdD10OnQ9dGhpcy5fdmlld1Jvb3Q7dmFyIGU9dGhpcy5nZXRSYXdEYXRhKCkudHJlZS5yb290O3QmJih0PT09ZXx8ZS5jb250YWlucyh0KSl8fCh0aGlzLl92aWV3Um9vdD1lKX0sZS5wcm90b3R5cGUuZW5hYmxlQXJpYURlY2FsPWZ1bmN0aW9uKCl7TEkodGhpcyl9LGUudHlwZT1cInNlcmllcy5zdW5idXJzdFwiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNlbnRlcjpbXCI1MCVcIixcIjUwJVwiXSxyYWRpdXM6WzAsXCI3NSVcIl0sY2xvY2t3aXNlOiEwLHN0YXJ0QW5nbGU6OTAsbWluQW5nbGU6MCxzdGlsbFNob3daZXJvU3VtOiEwLG5vZGVDbGljazpcInJvb3RUb05vZGVcIixyZW5kZXJMYWJlbEZvclplcm9EYXRhOiExLGxhYmVsOntyb3RhdGU6XCJyYWRpYWxcIixzaG93OiEwLG9wYWNpdHk6MSxhbGlnbjpcImNlbnRlclwiLHBvc2l0aW9uOlwiaW5zaWRlXCIsZGlzdGFuY2U6NSxzaWxlbnQ6ITB9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjpcIndoaXRlXCIsYm9yZGVyVHlwZTpcInNvbGlkXCIsc2hhZG93Qmx1cjowLHNoYWRvd0NvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjIpXCIsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCxvcGFjaXR5OjF9LGVtcGhhc2lzOntmb2N1czpcImRlc2NlbmRhbnRcIn0sYmx1cjp7aXRlbVN0eWxlOntvcGFjaXR5Oi4yfSxsYWJlbDp7b3BhY2l0eTouMX19LGFuaW1hdGlvblR5cGU6XCJleHBhbnNpb25cIixhbmltYXRpb25EdXJhdGlvbjoxZTMsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6NTAwLGRhdGE6W10sbGV2ZWxzOltdLHNvcnQ6XCJkZXNjXCJ9LGV9KHJmKTtmdW5jdGlvbiBzayh0KXt2YXIgZT0wO1AodC5jaGlsZHJlbiwoZnVuY3Rpb24odCl7c2sodCk7dmFyIG49dC52YWx1ZTtGKG4pJiYobj1uWzBdKSxlKz1ufSkpO3ZhciBuPXQudmFsdWU7RihuKSYmKG49blswXSksKG51bGw9PW58fGlzTmFOKG4pKSYmKG49ZSksbjwwJiYobj0wKSxGKHQudmFsdWUpP3QudmFsdWVbMF09bjp0LnZhbHVlPW59dmFyIGxrPU1hdGguUEkvMTgwO2Z1bmN0aW9uIHVrKHQsZSxuKXtlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJjZW50ZXJcIiksaT10LmdldChcInJhZGl1c1wiKTtGKGkpfHwoaT1bMCxpXSksRihlKXx8KGU9W2UsZV0pO3ZhciByPW4uZ2V0V2lkdGgoKSxvPW4uZ2V0SGVpZ2h0KCksYT1NYXRoLm1pbihyLG8pLHM9WmkoZVswXSxyKSxsPVppKGVbMV0sbyksdT1aaShpWzBdLGEvMiksaD1aaShpWzFdLGEvMiksYz0tdC5nZXQoXCJzdGFydEFuZ2xlXCIpKmxrLHA9dC5nZXQoXCJtaW5BbmdsZVwiKSpsayxkPXQuZ2V0RGF0YSgpLnRyZWUucm9vdCxmPXQuZ2V0Vmlld1Jvb3QoKSxnPWYuZGVwdGgseT10LmdldChcInNvcnRcIik7bnVsbCE9eSYmaGsoZix5KTt2YXIgdj0wO1AoZi5jaGlsZHJlbiwoZnVuY3Rpb24odCl7IWlzTmFOKHQuZ2V0VmFsdWUoKSkmJnYrK30pKTt2YXIgbT1mLmdldFZhbHVlKCksXz1NYXRoLlBJLyhtfHx2KSoyLHg9Zi5kZXB0aD4wLGI9Zi5oZWlnaHQtKHg/LTE6MSksdz0oaC11KS8oYnx8MSksUz10LmdldChcImNsb2Nrd2lzZVwiKSxNPXQuZ2V0KFwic3RpbGxTaG93WmVyb1N1bVwiKSxJPVM/MTotMSxUPWZ1bmN0aW9uKHQsZSl7aWYodCl7dmFyIG49ZTtpZih0IT09ZCl7dmFyIGk9dC5nZXRWYWx1ZSgpLHI9MD09PW0mJk0/XzppKl87cjxwJiYocj1wKSxuPWUrSSpyO3ZhciBvPXQuZGVwdGgtZy0oeD8tMToxKSxoPXUrdypvLGM9dSt3KihvKzEpLGY9dC5nZXRNb2RlbCgpO251bGwhPWYuZ2V0KFwicjBcIikmJihoPVppKGYuZ2V0KFwicjBcIiksYS8yKSksbnVsbCE9Zi5nZXQoXCJyXCIpJiYoYz1aaShmLmdldChcInJcIiksYS8yKSksdC5zZXRMYXlvdXQoe2FuZ2xlOnIsc3RhcnRBbmdsZTplLGVuZEFuZ2xlOm4sY2xvY2t3aXNlOlMsY3g6cyxjeTpsLHIwOmgscjpjfSl9aWYodC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5sZW5ndGgpe3ZhciB5PTA7UCh0LmNoaWxkcmVuLChmdW5jdGlvbih0KXt5Kz1UKHQsZSt5KX0pKX1yZXR1cm4gbi1lfX07aWYoeCl7dmFyIEM9dSxBPXUrdyxEPTIqTWF0aC5QSTtkLnNldExheW91dCh7YW5nbGU6RCxzdGFydEFuZ2xlOmMsZW5kQW5nbGU6YytELGNsb2Nrd2lzZTpTLGN4OnMsY3k6bCxyMDpDLHI6QX0pfVQoZixjKX0pKX1mdW5jdGlvbiBoayh0LGUpe3ZhciBuPXQuY2hpbGRyZW58fFtdO3QuY2hpbGRyZW49ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXt2YXIgbj1PKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRWYWx1ZSgpO3JldHVybntwYXJhbXM6e2RlcHRoOnQuZGVwdGgsaGVpZ2h0OnQuaGVpZ2h0LGRhdGFJbmRleDp0LmRhdGFJbmRleCxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBufX0saW5kZXg6ZX19KSk7cmV0dXJuIG4uc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0LnBhcmFtcyxuLnBhcmFtcyl9KSksTyhuLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlLmluZGV4XX0pKX12YXIgaT1cImFzY1wiPT09ZTtyZXR1cm4gdC5zb3J0KChmdW5jdGlvbih0LGUpe3ZhciBuPSh0LmdldFZhbHVlKCktZS5nZXRWYWx1ZSgpKSooaT8xOi0xKTtyZXR1cm4gMD09PW4/KHQuZGF0YUluZGV4LWUuZGF0YUluZGV4KSooaT8tMToxKTpufSkpfShuLGUpLG4ubGVuZ3RoJiZQKHQuY2hpbGRyZW4sKGZ1bmN0aW9uKHQpe2hrKHQsZSl9KSl9ZnVuY3Rpb24gY2sodCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKFwic3VuYnVyc3RcIiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXREYXRhKCksaT1uLnRyZWU7aS5lYWNoTm9kZSgoZnVuY3Rpb24ocil7dmFyIG89ci5nZXRNb2RlbCgpLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLmdldEl0ZW1TdHlsZSgpO28uZmlsbHx8KG8uZmlsbD1mdW5jdGlvbih0LG4saSl7Zm9yKHZhciByPXQ7ciYmci5kZXB0aD4xOylyPXIucGFyZW50Tm9kZTt2YXIgbz1uLmdldENvbG9yRnJvbVBhbGV0dGUoci5uYW1lfHxyLmRhdGFJbmRleCtcIlwiLGUpO3JldHVybiB0LmRlcHRoPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBvJiYobz0kZShvLCh0LmRlcHRoLTEpLyhpLTEpKi41KSksb30ocix0LGkucm9vdC5oZWlnaHQpKSxJKG4uZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChyLmRhdGFJbmRleCxcInN0eWxlXCIpLG8pfSkpfSkpfWZ1bmN0aW9uIHBrKHQsZSl7cmV0dXJuIGU9ZXx8WzAsMF0sTyhbXCJ4XCIsXCJ5XCJdLChmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMuZ2V0QXhpcyhuKSxvPWVbaV0sYT10W2ldLzI7cmV0dXJuXCJjYXRlZ29yeVwiPT09ci50eXBlP3IuZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoci5kYXRhVG9Db29yZChvLWEpLXIuZGF0YVRvQ29vcmQobythKSl9KSx0aGlzKX1mdW5jdGlvbiBkayh0LGUpe3JldHVybiBlPWV8fFswLDBdLE8oWzAsMV0sKGZ1bmN0aW9uKG4pe3ZhciBpPWVbbl0scj10W25dLzIsbz1bXSxhPVtdO3JldHVybiBvW25dPWktcixhW25dPWkrcixvWzEtbl09YVsxLW5dPWVbMS1uXSxNYXRoLmFicyh0aGlzLmRhdGFUb1BvaW50KG8pW25dLXRoaXMuZGF0YVRvUG9pbnQoYSlbbl0pfSksdGhpcyl9ZnVuY3Rpb24gZmsodCxlKXt2YXIgbj10aGlzLmdldEF4aXMoKSxpPWUgaW5zdGFuY2VvZiBBcnJheT9lWzBdOmUscj0odCBpbnN0YW5jZW9mIEFycmF5P3RbMF06dCkvMjtyZXR1cm5cImNhdGVnb3J5XCI9PT1uLnR5cGU/bi5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhuLmRhdGFUb0Nvb3JkKGktciktbi5kYXRhVG9Db29yZChpK3IpKX1mdW5jdGlvbiBnayh0LGUpe3JldHVybiBlPWV8fFswLDBdLE8oW1wiUmFkaXVzXCIsXCJBbmdsZVwiXSwoZnVuY3Rpb24obixpKXt2YXIgcj10aGlzW1wiZ2V0XCIrbitcIkF4aXNcIl0oKSxvPWVbaV0sYT10W2ldLzIscz1cImNhdGVnb3J5XCI9PT1yLnR5cGU/ci5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhyLmRhdGFUb0Nvb3JkKG8tYSktci5kYXRhVG9Db29yZChvK2EpKTtyZXR1cm5cIkFuZ2xlXCI9PT1uJiYocz1zKk1hdGguUEkvMTgwKSxzfSksdGhpcyl9ZnVuY3Rpb24geWsodCxlLG4saSl7cmV0dXJuIHQmJih0LmxlZ2FjeXx8ITEhPT10LmxlZ2FjeSYmIW4mJiFpJiZcInRzcGFuXCIhPT1lJiYoXCJ0ZXh0XCI9PT1lfHxkdCh0LFwidGV4dFwiKSkpfWZ1bmN0aW9uIHZrKHQsZSxuKXt2YXIgaSxyLG8sYT10O2lmKFwidGV4dFwiPT09ZSlvPWE7ZWxzZXtvPXt9LGR0KGEsXCJ0ZXh0XCIpJiYoby50ZXh0PWEudGV4dCksZHQoYSxcInJpY2hcIikmJihvLnJpY2g9YS5yaWNoKSxkdChhLFwidGV4dEZpbGxcIikmJihvLmZpbGw9YS50ZXh0RmlsbCksZHQoYSxcInRleHRTdHJva2VcIikmJihvLnN0cm9rZT1hLnRleHRTdHJva2UpLHI9e3R5cGU6XCJ0ZXh0XCIsc3R5bGU6byxzaWxlbnQ6ITB9LGk9e307dmFyIHM9ZHQoYSxcInRleHRQb3NpdGlvblwiKTtuP2kucG9zaXRpb249cz9hLnRleHRQb3NpdGlvbjpcImluc2lkZVwiOnMmJihpLnBvc2l0aW9uPWEudGV4dFBvc2l0aW9uKSxkdChhLFwidGV4dFBvc2l0aW9uXCIpJiYoaS5wb3NpdGlvbj1hLnRleHRQb3NpdGlvbiksZHQoYSxcInRleHRPZmZzZXRcIikmJihpLm9mZnNldD1hLnRleHRPZmZzZXQpLGR0KGEsXCJ0ZXh0Um90YXRpb25cIikmJihpLnJvdGF0aW9uPWEudGV4dFJvdGF0aW9uKSxkdChhLFwidGV4dERpc3RhbmNlXCIpJiYoaS5kaXN0YW5jZT1hLnRleHREaXN0YW5jZSl9cmV0dXJuIG1rKG8sdCksUChvLnJpY2gsKGZ1bmN0aW9uKHQpe21rKHQsdCl9KSkse3RleHRDb25maWc6aSx0ZXh0Q29udGVudDpyfX1mdW5jdGlvbiBtayh0LGUpe2UmJihlLmZvbnQ9ZS50ZXh0Rm9udHx8ZS5mb250LGR0KGUsXCJ0ZXh0U3Ryb2tlV2lkdGhcIikmJih0LmxpbmVXaWR0aD1lLnRleHRTdHJva2VXaWR0aCksZHQoZSxcInRleHRBbGlnblwiKSYmKHQuYWxpZ249ZS50ZXh0QWxpZ24pLGR0KGUsXCJ0ZXh0VmVydGljYWxBbGlnblwiKSYmKHQudmVydGljYWxBbGlnbj1lLnRleHRWZXJ0aWNhbEFsaWduKSxkdChlLFwidGV4dExpbmVIZWlnaHRcIikmJih0LmxpbmVIZWlnaHQ9ZS50ZXh0TGluZUhlaWdodCksZHQoZSxcInRleHRXaWR0aFwiKSYmKHQud2lkdGg9ZS50ZXh0V2lkdGgpLGR0KGUsXCJ0ZXh0SGVpZ2h0XCIpJiYodC5oZWlnaHQ9ZS50ZXh0SGVpZ2h0KSxkdChlLFwidGV4dEJhY2tncm91bmRDb2xvclwiKSYmKHQuYmFja2dyb3VuZENvbG9yPWUudGV4dEJhY2tncm91bmRDb2xvciksZHQoZSxcInRleHRQYWRkaW5nXCIpJiYodC5wYWRkaW5nPWUudGV4dFBhZGRpbmcpLGR0KGUsXCJ0ZXh0Qm9yZGVyQ29sb3JcIikmJih0LmJvcmRlckNvbG9yPWUudGV4dEJvcmRlckNvbG9yKSxkdChlLFwidGV4dEJvcmRlcldpZHRoXCIpJiYodC5ib3JkZXJXaWR0aD1lLnRleHRCb3JkZXJXaWR0aCksZHQoZSxcInRleHRCb3JkZXJSYWRpdXNcIikmJih0LmJvcmRlclJhZGl1cz1lLnRleHRCb3JkZXJSYWRpdXMpLGR0KGUsXCJ0ZXh0Qm94U2hhZG93Q29sb3JcIikmJih0LnNoYWRvd0NvbG9yPWUudGV4dEJveFNoYWRvd0NvbG9yKSxkdChlLFwidGV4dEJveFNoYWRvd0JsdXJcIikmJih0LnNoYWRvd0JsdXI9ZS50ZXh0Qm94U2hhZG93Qmx1ciksZHQoZSxcInRleHRCb3hTaGFkb3dPZmZzZXRYXCIpJiYodC5zaGFkb3dPZmZzZXRYPWUudGV4dEJveFNoYWRvd09mZnNldFgpLGR0KGUsXCJ0ZXh0Qm94U2hhZG93T2Zmc2V0WVwiKSYmKHQuc2hhZG93T2Zmc2V0WT1lLnRleHRCb3hTaGFkb3dPZmZzZXRZKSl9ZnVuY3Rpb24gX2sodCxlLG4pe3ZhciBpPXQ7aS50ZXh0UG9zaXRpb249aS50ZXh0UG9zaXRpb258fG4ucG9zaXRpb258fFwiaW5zaWRlXCIsbnVsbCE9bi5vZmZzZXQmJihpLnRleHRPZmZzZXQ9bi5vZmZzZXQpLG51bGwhPW4ucm90YXRpb24mJihpLnRleHRSb3RhdGlvbj1uLnJvdGF0aW9uKSxudWxsIT1uLmRpc3RhbmNlJiYoaS50ZXh0RGlzdGFuY2U9bi5kaXN0YW5jZSk7dmFyIHI9aS50ZXh0UG9zaXRpb24uaW5kZXhPZihcImluc2lkZVwiKT49MCxvPXQuZmlsbHx8XCIjMDAwXCI7eGsoaSxlKTt2YXIgYT1udWxsPT1pLnRleHRGaWxsO3JldHVybiByP2EmJihpLnRleHRGaWxsPW4uaW5zaWRlRmlsbHx8XCIjZmZmXCIsIWkudGV4dFN0cm9rZSYmbi5pbnNpZGVTdHJva2UmJihpLnRleHRTdHJva2U9bi5pbnNpZGVTdHJva2UpLCFpLnRleHRTdHJva2UmJihpLnRleHRTdHJva2U9byksbnVsbD09aS50ZXh0U3Ryb2tlV2lkdGgmJihpLnRleHRTdHJva2VXaWR0aD0yKSk6KGEmJihpLnRleHRGaWxsPW4ub3V0c2lkZUZpbGx8fG8pLCFpLnRleHRTdHJva2UmJm4ub3V0c2lkZVN0cm9rZSYmKGkudGV4dFN0cm9rZT1uLm91dHNpZGVTdHJva2UpKSxpLnRleHQ9ZS50ZXh0LGkucmljaD1lLnJpY2gsUChlLnJpY2gsKGZ1bmN0aW9uKHQpe3hrKHQsdCl9KSksaX1mdW5jdGlvbiB4ayh0LGUpe2UmJihkdChlLFwiZmlsbFwiKSYmKHQudGV4dEZpbGw9ZS5maWxsKSxkdChlLFwic3Ryb2tlXCIpJiYodC50ZXh0U3Ryb2tlPWUuZmlsbCksZHQoZSxcImxpbmVXaWR0aFwiKSYmKHQudGV4dFN0cm9rZVdpZHRoPWUubGluZVdpZHRoKSxkdChlLFwiZm9udFwiKSYmKHQuZm9udD1lLmZvbnQpLGR0KGUsXCJmb250U3R5bGVcIikmJih0LmZvbnRTdHlsZT1lLmZvbnRTdHlsZSksZHQoZSxcImZvbnRXZWlnaHRcIikmJih0LmZvbnRXZWlnaHQ9ZS5mb250V2VpZ2h0KSxkdChlLFwiZm9udFNpemVcIikmJih0LmZvbnRTaXplPWUuZm9udFNpemUpLGR0KGUsXCJmb250RmFtaWx5XCIpJiYodC5mb250RmFtaWx5PWUuZm9udEZhbWlseSksZHQoZSxcImFsaWduXCIpJiYodC50ZXh0QWxpZ249ZS5hbGlnbiksZHQoZSxcInZlcnRpY2FsQWxpZ25cIikmJih0LnRleHRWZXJ0aWNhbEFsaWduPWUudmVydGljYWxBbGlnbiksZHQoZSxcImxpbmVIZWlnaHRcIikmJih0LnRleHRMaW5lSGVpZ2h0PWUubGluZUhlaWdodCksZHQoZSxcIndpZHRoXCIpJiYodC50ZXh0V2lkdGg9ZS53aWR0aCksZHQoZSxcImhlaWdodFwiKSYmKHQudGV4dEhlaWdodD1lLmhlaWdodCksZHQoZSxcImJhY2tncm91bmRDb2xvclwiKSYmKHQudGV4dEJhY2tncm91bmRDb2xvcj1lLmJhY2tncm91bmRDb2xvciksZHQoZSxcInBhZGRpbmdcIikmJih0LnRleHRQYWRkaW5nPWUucGFkZGluZyksZHQoZSxcImJvcmRlckNvbG9yXCIpJiYodC50ZXh0Qm9yZGVyQ29sb3I9ZS5ib3JkZXJDb2xvciksZHQoZSxcImJvcmRlcldpZHRoXCIpJiYodC50ZXh0Qm9yZGVyV2lkdGg9ZS5ib3JkZXJXaWR0aCksZHQoZSxcImJvcmRlclJhZGl1c1wiKSYmKHQudGV4dEJvcmRlclJhZGl1cz1lLmJvcmRlclJhZGl1cyksZHQoZSxcInNoYWRvd0NvbG9yXCIpJiYodC50ZXh0Qm94U2hhZG93Q29sb3I9ZS5zaGFkb3dDb2xvciksZHQoZSxcInNoYWRvd0JsdXJcIikmJih0LnRleHRCb3hTaGFkb3dCbHVyPWUuc2hhZG93Qmx1ciksZHQoZSxcInNoYWRvd09mZnNldFhcIikmJih0LnRleHRCb3hTaGFkb3dPZmZzZXRYPWUuc2hhZG93T2Zmc2V0WCksZHQoZSxcInNoYWRvd09mZnNldFlcIikmJih0LnRleHRCb3hTaGFkb3dPZmZzZXRZPWUuc2hhZG93T2Zmc2V0WSksZHQoZSxcInRleHRTaGFkb3dDb2xvclwiKSYmKHQudGV4dFNoYWRvd0NvbG9yPWUudGV4dFNoYWRvd0NvbG9yKSxkdChlLFwidGV4dFNoYWRvd0JsdXJcIikmJih0LnRleHRTaGFkb3dCbHVyPWUudGV4dFNoYWRvd0JsdXIpLGR0KGUsXCJ0ZXh0U2hhZG93T2Zmc2V0WFwiKSYmKHQudGV4dFNoYWRvd09mZnNldFg9ZS50ZXh0U2hhZG93T2Zmc2V0WCksZHQoZSxcInRleHRTaGFkb3dPZmZzZXRZXCIpJiYodC50ZXh0U2hhZG93T2Zmc2V0WT1lLnRleHRTaGFkb3dPZmZzZXRZKSl9dmFyIGJrPUNhLkNNRCx3az0yKk1hdGguUEksU2s9W1wieFwiLFwieVwiXSxNaz1bXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLElrPVtdO2Z1bmN0aW9uIFRrKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtNX1mdW5jdGlvbiBDayh0KXt2YXIgZSxuLGkscixvLGE9dC5kYXRhLHM9dC5sZW4oKSxsPVtdLHU9MCxoPTAsYz0wLHA9MDtmdW5jdGlvbiBkKHQsbil7ZSYmZS5sZW5ndGg+MiYmbC5wdXNoKGUpLGU9W3Qsbl19ZnVuY3Rpb24gZih0LG4saSxyKXtUayh0LGkpJiZUayhuLHIpfHxlLnB1c2godCxuLGkscixpLHIpfWZ1bmN0aW9uIGcodCxuLGkscixvLGEpe3ZhciBzPU1hdGguYWJzKG4tdCksbD00Kk1hdGgudGFuKHMvNCkvMyx1PW48dD8tMToxLGg9TWF0aC5jb3ModCksYz1NYXRoLnNpbih0KSxwPU1hdGguY29zKG4pLGQ9TWF0aC5zaW4obiksZj1oKm8raSxnPWMqYStyLHk9cCpvK2ksdj1kKmErcixtPW8qbCp1LF89YSpsKnU7ZS5wdXNoKGYtbSpjLGcrXypoLHkrbSpkLHYtXypwLHksdil9Zm9yKHZhciB5PTA7eTxzOyl7dmFyIHY9YVt5KytdLG09MT09PXk7c3dpdGNoKG0mJihjPXU9YVt5XSxwPWg9YVt5KzFdLHYhPT1iay5MJiZ2IT09YmsuQyYmdiE9PWJrLlF8fChlPVtjLHBdKSksdil7Y2FzZSBiay5NOnU9Yz1hW3krK10saD1wPWFbeSsrXSxkKGMscCk7YnJlYWs7Y2FzZSBiay5MOmYodSxoLG49YVt5KytdLGk9YVt5KytdKSx1PW4saD1pO2JyZWFrO2Nhc2UgYmsuQzplLnB1c2goYVt5KytdLGFbeSsrXSxhW3krK10sYVt5KytdLHU9YVt5KytdLGg9YVt5KytdKTticmVhaztjYXNlIGJrLlE6bj1hW3krK10saT1hW3krK10scj1hW3krK10sbz1hW3krK10sZS5wdXNoKHUrMi8zKihuLXUpLGgrMi8zKihpLWgpLHIrMi8zKihuLXIpLG8rMi8zKihpLW8pLHIsbyksdT1yLGg9bzticmVhaztjYXNlIGJrLkE6dmFyIF89YVt5KytdLHg9YVt5KytdLGI9YVt5KytdLHc9YVt5KytdLFM9YVt5KytdLE09YVt5KytdK1M7eSs9MTt2YXIgST0hYVt5KytdO249TWF0aC5jb3MoUykqYitfLGk9TWF0aC5zaW4oUykqdyt4LG0/ZChjPW4scD1pKTpmKHUsaCxuLGkpLHU9TWF0aC5jb3MoTSkqYitfLGg9TWF0aC5zaW4oTSkqdyt4O2Zvcih2YXIgVD0oST8tMToxKSpNYXRoLlBJLzIsQz1TO0k/Qz5NOkM8TTtDKz1UKXtnKEMsST9NYXRoLm1heChDK1QsTSk6TWF0aC5taW4oQytULE0pLF8seCxiLHcpfWJyZWFrO2Nhc2UgYmsuUjpjPXU9YVt5KytdLHA9aD1hW3krK10sbj1jK2FbeSsrXSxpPXArYVt5KytdLGQobixwKSxmKG4scCxuLGkpLGYobixpLGMsaSksZihjLGksYyxwKSxmKGMscCxuLHApO2JyZWFrO2Nhc2UgYmsuWjplJiZmKHUsaCxjLHApLHU9YyxoPXB9fXJldHVybiBlJiZlLmxlbmd0aD4yJiZsLnB1c2goZSksbH1mdW5jdGlvbiBBayh0LGUpe3ZhciBuPXQubGVuZ3RoLGk9ZS5sZW5ndGg7aWYobj09PWkpcmV0dXJuW3QsZV07Zm9yKHZhciByPW48aT90OmUsbz1NYXRoLm1pbihuLGkpLGE9TWF0aC5hYnMoaS1uKS82LHM9KG8tMikvNixsPU1hdGguY2VpbChhL3MpKzEsdT1bclswXSxyWzFdXSxoPWEsYz1bXSxwPVtdLGQ9MjtkPG87KXt2YXIgZj1yW2QtMl0sZz1yW2QtMV0seT1yW2QrK10sdj1yW2QrK10sbT1yW2QrK10sXz1yW2QrK10seD1yW2QrK10sYj1yW2QrK107aWYoaDw9MCl1LnB1c2goeSx2LG0sXyx4LGIpO2Vsc2V7Zm9yKHZhciB3PU1hdGgubWluKGgsbC0xKSsxLFM9MTtTPD13O1MrKyl7dmFyIE09Uy93O0JvKGYseSxtLHgsTSxjKSxCbyhnLHYsXyxiLE0scCksZj1jWzNdLGc9cFszXSx1LnB1c2goY1sxXSxwWzFdLGNbMl0scFsyXSxmLGcpLHk9Y1s1XSx2PXBbNV0sbT1jWzZdLF89cFs2XX1oLT13LTF9fXJldHVybiByPT09dD9bdSxlXTpbdCx1XX1mdW5jdGlvbiBEayh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPXRbbi0yXSxyPXRbbi0xXSxvPVtdLGE9MDthPGUubGVuZ3RoOylvW2ErK109aSxvW2ErK109cjtyZXR1cm4gb31mdW5jdGlvbiBMayh0KXtmb3IodmFyIGU9MCxuPTAsaT0wLHI9dC5sZW5ndGgsbz0wLGE9ci0yO288cjthPW8sbys9Mil7dmFyIHM9dFthXSxsPXRbYSsxXSx1PXRbb10saD10W28rMV0sYz1zKmgtdSpsO2UrPWMsbis9KHMrdSkqYyxpKz0obCtoKSpjfXJldHVybiAwPT09ZT9bdFswXXx8MCx0WzFdfHwwXTpbbi9lLzMsaS9lLzMsZV19ZnVuY3Rpb24ga2sodCxlLG4saSl7Zm9yKHZhciByPSh0Lmxlbmd0aC0yKS82LG89MS8wLGE9MCxzPXQubGVuZ3RoLGw9cy0yLHU9MDt1PHI7dSsrKXtmb3IodmFyIGg9Nip1LGM9MCxwPTA7cDxzO3ArPTIpe3ZhciBkPTA9PT1wP2g6KGgrcC0yKSVsKzIsZj10W2RdLW5bMF0sZz10W2QrMV0tblsxXSx5PWVbcF0taVswXS1mLHY9ZVtwKzFdLWlbMV0tZztjKz15Knkrdip2fWM8byYmKG89YyxhPXUpfXJldHVybiBhfWZ1bmN0aW9uIFBrKHQpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoLGk9MDtpPG47aSs9MillW2ldPXRbbi1pLTJdLGVbaSsxXT10W24taS0xXTtyZXR1cm4gZX1mdW5jdGlvbiBPayh0LGUsbil7dmFyIGkscjtpZighdHx8IWUpcmV0dXJuIGU7IXQucGF0aCYmdC5jcmVhdGVQYXRoUHJveHkoKSwoaT10LnBhdGgpLmJlZ2luUGF0aCgpLHQuYnVpbGRQYXRoKGksdC5zaGFwZSksIWUucGF0aCYmZS5jcmVhdGVQYXRoUHJveHkoKSwocj1lLnBhdGgpPT09aSYmKHI9bmV3IENhKCExKSksci5iZWdpblBhdGgoKSxFayhlKT9lLl9fb2xkQnVpbGRQYXRoKHIsZS5zaGFwZSk6ZS5idWlsZFBhdGgocixlLnNoYXBlKTt2YXIgbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpLHIsbz1bXSxhPVtdLHM9MDtzPE1hdGgubWF4KHQubGVuZ3RoLGUubGVuZ3RoKTtzKyspe3ZhciBsPXRbc10sdT1lW3NdLGg9dm9pZCAwLGM9dm9pZCAwO2w/dT8oaT1oPShuPUFrKGwsdSkpWzBdLHI9Yz1uWzFdKTooYz1EayhyfHxsLGwpLGg9bCk6KGg9RGsoaXx8dSx1KSxjPXUpLG8ucHVzaChoKSxhLnB1c2goYyl9cmV0dXJuW28sYV19KENrKGkpLENrKHIpKSxhPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcixvPVtdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXSxsPWVbYV0sdT1MayhzKSxoPUxrKGwpO251bGw9PXImJihyPXVbMl08MCE9aFsyXTwwKTt2YXIgYz1bXSxwPVtdLGQ9MCxmPTEvMCxnPVtdLHk9cy5sZW5ndGg7ciYmKHM9UGsocykpO2Zvcih2YXIgdj02KmtrKHMsbCx1LGgpLG09eS0yLF89MDtfPG07Xys9Mil7dmFyIHg9KHYrXyklbSsyO2NbXysyXT1zW3hdLXVbMF0sY1tfKzNdPXNbeCsxXS11WzFdfWlmKGNbMF09c1t2XS11WzBdLGNbMV09c1t2KzFdLXVbMV0sbj4wKWZvcih2YXIgYj1pL24sdz0taS8yO3c8PWkvMjt3Kz1iKXt2YXIgUz1NYXRoLnNpbih3KSxNPU1hdGguY29zKHcpLEk9MDtmb3IoXz0wO188cy5sZW5ndGg7Xys9Mil7dmFyIFQ9Y1tfXSxDPWNbXysxXSxBPWxbX10taFswXSxEPWxbXysxXS1oWzFdLEw9QSpNLUQqUyxrPUEqUytEKk07Z1tfXT1MLGdbXysxXT1rO3ZhciBQPUwtVCxPPWstQztJKz1QKlArTypPfWlmKEk8Zil7Zj1JLGQ9dztmb3IodmFyIFI9MDtSPGcubGVuZ3RoO1IrKylwW1JdPWdbUl19fWVsc2UgZm9yKHZhciBOPTA7Tjx5O04rPTIpcFtOXT1sW05dLWhbMF0scFtOKzFdPWxbTisxXS1oWzFdO28ucHVzaCh7ZnJvbTpjLHRvOnAsZnJvbUNwOnUsdG9DcDpoLHJvdGF0aW9uOi1kfSl9cmV0dXJuIG99KG9bMF0sb1sxXSwxMCxNYXRoLlBJKTshZnVuY3Rpb24odCxlLG4pe2lmKEVrKHQpKXJldHVybiB2b2lkIE5rKHQsZSxuKTt2YXIgaT10O2kuX19vbGRCdWlsZFBhdGg9aS5idWlsZFBhdGgsaS5idWlsZFBhdGg9UmssTmsoaSxlLG4pfShlLGEsMCk7dmFyIHM9biYmbi5kb25lLGw9biYmbi5hYm9ydGVkLHU9biYmbi5kdXJpbmc7cmV0dXJuIGUuYW5pbWF0ZVRvKHtfX21vcnBoVDoxfSxUKHtkdXJpbmc6ZnVuY3Rpb24odCl7ZS5kaXJ0eVNoYXBlKCksdSYmdSh0KX0sZG9uZTpmdW5jdGlvbigpe3ZhciB0O0VrKHQ9ZSkmJih0LmJ1aWxkUGF0aD10Ll9fb2xkQnVpbGRQYXRoLHQuX19vbGRCdWlsZFBhdGg9dC5fX21vcnBoaW5nRGF0YT1udWxsKSxlLmNyZWF0ZVBhdGhQcm94eSgpLGUuZGlydHlTaGFwZSgpLHMmJnMoKX0sYWJvcnRlZDpmdW5jdGlvbigpe2wmJmwoKX19LG4pKSxlfWZ1bmN0aW9uIFJrKHQpe2Zvcih2YXIgZT10aGlzLl9fbW9ycGhpbmdEYXRhLG49dGhpcy5fX21vcnBoVCxpPTEtbixyPVtdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGE9ZVtvXSxzPWEuZnJvbSxsPWEudG8sdT1hLnJvdGF0aW9uKm4saD1hLmZyb21DcCxjPWEudG9DcCxwPU1hdGguc2luKHUpLGQ9TWF0aC5jb3ModSk7T3QocixoLGMsbik7Zm9yKHZhciBmPTA7ZjxzLmxlbmd0aDtmKz0yKXt2YXIgZz1zW2ZdLHk9c1tmKzFdLHY9ZyppK2xbZl0qbixtPXkqaStsW2YrMV0qbjtJa1tmXT12KmQtbSpwK3JbMF0sSWtbZisxXT12KnArbSpkK3JbMV19Zm9yKGY9MDtmPHMubGVuZ3RoOykwPT09ZiYmdC5tb3ZlVG8oSWtbZisrXSxJa1tmKytdKSx0LmJlemllckN1cnZlVG8oSWtbZisrXSxJa1tmKytdLElrW2YrK10sSWtbZisrXSxJa1tmKytdLElrW2YrK10pfX1mdW5jdGlvbiBOayh0LGUsbil7dC5fX21vcnBoaW5nRGF0YT1lLHQuX19tb3JwaFQ9bn1mdW5jdGlvbiBFayh0KXtyZXR1cm4gbnVsbCE9dC5fX29sZEJ1aWxkUGF0aH1mdW5jdGlvbiB6ayh0KXtyZXR1cm4hIXQuX19jb21iaW5pbmdTdWJMaXN0fWZ1bmN0aW9uIEJrKHQsZSxuLGkpe2Zvcih2YXIgcj1bXSxvPTAsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdO2lmKHprKHMpKXtmb3IodmFyIGw9cy5fX2NvbWJpbmluZ1N1Ykxpc3QsdT0wO3U8bC5sZW5ndGg7dSsrKXIucHVzaChsW3VdKTtvKz1sLmxlbmd0aH1lbHNlIHIucHVzaChzKSxvKyt9aWYobyl7dmFyIGg9bj9uLmRpdmlkaW5nTWV0aG9kOm51bGwsYz1ZayhlLG8saCk7cnQoYy5sZW5ndGg9PT1vKTt2YXIgcD1uJiZuLmRvbmUsZD1uJiZuLmFib3J0ZWQsZj1uJiZuLmR1cmluZyxnPTAseT0hMSx2PVQoe2R1cmluZzpmdW5jdGlvbih0KXtmJiZmKHQpfSxkb25lOmZ1bmN0aW9uKCl7KytnPT09Yy5sZW5ndGgmJighZnVuY3Rpb24odCl7aWYoIXprKHQpKXJldHVybjt2YXIgZT10O1ZrKGUsbnVsbCksZS5hZGRTZWxmVG9acj1lLl9fb2xkQWRkU2VsZlRvWnIsZS5yZW1vdmVTZWxmRnJvbVpyPWUuX19vbGRSZW1vdmVTZWxmRnJvbVpyLGUuYnVpbGRQYXRoPWUuX19vbGRCdWlsZFBhdGgsZS5jaGlsZHJlblJlZj1lLl9fY29tYmluaW5nU3ViTGlzdD1lLl9fb2xkQWRkU2VsZlRvWnI9ZS5fX29sZFJlbW92ZVNlbGZGcm9tWnI9ZS5fX29sZEJ1aWxkUGF0aD1udWxsfShlKSxwJiZwKCkpfSxhYm9ydGVkOmZ1bmN0aW9uKCl7eXx8KHk9ITAsZCYmZCgpKX19LG4pO2ZvcihhPTA7YTxvO2ErKyl7dmFyIG09clthXSxfPWNbYV07aSYmaShlLF8sITApLE9rKG0sXyx2KX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZih6ayh0KSlyZXR1cm4gdm9pZCBWayh0LGUpO3ZhciBuPXQ7VmsobixlKSxuLl9fb2xkQWRkU2VsZlRvWnI9dC5hZGRTZWxmVG9acixuLl9fb2xkUmVtb3ZlU2VsZkZyb21acj10LnJlbW92ZVNlbGZGcm9tWnIsbi5hZGRTZWxmVG9acj1GayxuLnJlbW92ZVNlbGZGcm9tWnI9SGssbi5fX29sZEJ1aWxkUGF0aD1uLmJ1aWxkUGF0aCxuLmJ1aWxkUGF0aD1mdCxuLmNoaWxkcmVuUmVmPVdrfShlLGMpLHtmcm9tSW5kaXZpZHVhbHM6cix0b0luZGl2aWR1YWxzOmMsY291bnQ6b319fWZ1bmN0aW9uIFZrKHQsZSl7aWYodC5fX2NvbWJpbmluZ1N1Ykxpc3QhPT1lKXtpZihHayh0LFwicmVtb3ZlU2VsZkZyb21aclwiKSx0Ll9fY29tYmluaW5nU3ViTGlzdD1lLGUpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS5wYXJlbnQ9dDtHayh0LFwiYWRkU2VsZlRvWnJcIil9fWZ1bmN0aW9uIEZrKHQpe3RoaXMuX19vbGRBZGRTZWxmVG9acih0KSxHayh0aGlzLFwiYWRkU2VsZlRvWnJcIil9ZnVuY3Rpb24gR2sodCxlKXt2YXIgbj10Ll9fY29tYmluaW5nU3ViTGlzdCxpPXQuX196cjtpZihuJiZpKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXtuW3JdW2VdKGkpfX1mdW5jdGlvbiBIayh0KXt0aGlzLl9fb2xkUmVtb3ZlU2VsZkZyb21acih0KTtmb3IodmFyIGU9dGhpcy5fX2NvbWJpbmluZ1N1Ykxpc3Qsbj0wO248ZS5sZW5ndGg7bisrKXtlW25dLnJlbW92ZVNlbGZGcm9tWnIodCl9fWZ1bmN0aW9uIFdrKCl7cmV0dXJuIHRoaXMuX19jb21iaW5pbmdTdWJMaXN0fWZ1bmN0aW9uIFlrKHQsZSxuKXtyZXR1cm5cImR1cGxpY2F0ZVwiPT09bj9Yayh0LGUpOmZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoZTw9MClyZXR1cm4gbjtpZigxPT09ZSlyZXR1cm4gWGsodCxlKTtpZih0IGluc3RhbmNlb2Ygb3MpZm9yKHZhciBpPShjPXQuc2hhcGUpLmhlaWdodD5jLndpZHRoPzE6MCxyPU1rW2ldLG89U2tbaV0sYT1jW3JdL2Uscz1jW29dLGw9MDtsPGU7bCsrLHMrPWEpe3ZhciB1PXt4OmMueCx5OmMueSx3aWR0aDpjLndpZHRoLGhlaWdodDpjLmhlaWdodH07dVtvXT1zLHVbcl09bDxlLTE/YTpjW29dK2Nbcl0tczt2YXIgaD1uZXcgb3Moe3NoYXBlOnV9KTtuLnB1c2goaCl9ZWxzZXtpZighKHQgaW5zdGFuY2VvZiBXbCkpcmV0dXJuIFhrKHQsZSk7dmFyIGMscD0oYz10LnNoYXBlKS5jbG9ja3dpc2UsZD1jLnN0YXJ0QW5nbGUsZj1jLmVuZEFuZ2xlLGc9KGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSt3aypNYXRoW24/XCJjZWlsXCI6XCJmbG9vclwiXSgodC1lKS93ayl9KGQsYy5lbmRBbmdsZSxwKS1kKS9lLHk9ZDtmb3IobD0wO2w8ZTtsKysseSs9Zyl7aD1uZXcgV2woe3NoYXBlOntjeDpjLmN4LGN5OmMuY3kscjpjLnIscjA6Yy5yMCxjbG9ja3dpc2U6cCxzdGFydEFuZ2xlOnksZW5kQW5nbGU6bD09PWUtMT9mOnkrZ319KTtuLnB1c2goaCl9fXJldHVybiBufSh0LGUpfWZ1bmN0aW9uIFhrKHQsZSl7dmFyIG49W107aWYoZTw9MClyZXR1cm4gbjtmb3IodmFyIGk9dC5jb25zdHJ1Y3RvcixyPTA7cjxlO3IrKyl7dmFyIG89bmV3IGkoe3NoYXBlOncodC5zaGFwZSl9KTtuLnB1c2gobyl9cmV0dXJuIG59dmFyIFVrPUxyKCksWms9e3g6MSx5OjEsc2NhbGVYOjEsc2NhbGVZOjEsb3JpZ2luWDoxLG9yaWdpblk6MSxyb3RhdGlvbjoxfSxqaz0oeihaaykuam9pbihcIiwgXCIpLHtjb2xvcjpcImZpbGxcIixib3JkZXJDb2xvcjpcInN0cm9rZVwifSkscWs9e3N5bWJvbDoxLHN5bWJvbFNpemU6MSxzeW1ib2xLZWVwQXNwZWN0OjEsbGVnZW5kU3ltYm9sOjEsdmlzdWFsTWV0YToxLGxpZnRaOjEsZGVjYWw6MX0sS2s9XCJlbXBoYXNpc1wiLCRrPVwibm9ybWFsXCIsSms9XCJibHVyXCIsUWs9XCJzZWxlY3RcIix0UD1bJGssS2ssSmssUWtdLGVQPXtub3JtYWw6W1wiaXRlbVN0eWxlXCJdLGVtcGhhc2lzOltLayxcIml0ZW1TdHlsZVwiXSxibHVyOltKayxcIml0ZW1TdHlsZVwiXSxzZWxlY3Q6W1FrLFwiaXRlbVN0eWxlXCJdfSxuUD17bm9ybWFsOltcImxhYmVsXCJdLGVtcGhhc2lzOltLayxcImxhYmVsXCJdLGJsdXI6W0prLFwibGFiZWxcIl0sc2VsZWN0OltRayxcImxhYmVsXCJdfSxpUD17bm9ybWFsOnt9LGVtcGhhc2lzOnt9LGJsdXI6e30sc2VsZWN0Ont9fSxyUD17cG9zaXRpb246W1wieFwiLFwieVwiXSxzY2FsZTpbXCJzY2FsZVhcIixcInNjYWxlWVwiXSxvcmlnaW46W1wib3JpZ2luWFwiLFwib3JpZ2luWVwiXX0sb1A9bmV3IGtlLGFQPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0KXt2YXIgZT10Lm1hc3Rlci5nZXRSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOlwiY2FydGVzaWFuMmRcIix4OmUueCx5OmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0sYXBpOntjb29yZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhVG9Qb2ludChlKX0sc2l6ZTpCKHBrLHQpfX19LGdlbzpmdW5jdGlvbih0KXt2YXIgZT10LmdldEJvdW5kaW5nUmVjdCgpO3JldHVybntjb29yZFN5czp7dHlwZTpcImdlb1wiLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHpvb206dC5nZXRab29tKCl9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSl9LHNpemU6Qihkayx0KX19fSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmVjdCgpO3JldHVybntjb29yZFN5czp7dHlwZTpcInNpbmdsZUF4aXNcIix4OmUueCx5OmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0sYXBpOntjb29yZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhVG9Qb2ludChlKX0sc2l6ZTpCKGZrLHQpfX19LHBvbGFyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmFkaXVzQXhpcygpLG49dC5nZXRBbmdsZUF4aXMoKSxpPWUuZ2V0RXh0ZW50KCk7cmV0dXJuIGlbMF0+aVsxXSYmaS5yZXZlcnNlKCkse2Nvb3JkU3lzOnt0eXBlOlwicG9sYXJcIixjeDp0LmN4LGN5OnQuY3kscjppWzFdLHIwOmlbMF19LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oaSl7dmFyIHI9ZS5kYXRhVG9SYWRpdXMoaVswXSksbz1uLmRhdGFUb0FuZ2xlKGlbMV0pLGE9dC5jb29yZFRvUG9pbnQoW3Isb10pO3JldHVybiBhLnB1c2gocixvKk1hdGguUEkvMTgwKSxhfSxzaXplOkIoZ2ssdCl9fX0sY2FsZW5kYXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSZWN0KCksbj10LmdldFJhbmdlSW5mbygpO3JldHVybntjb29yZFN5czp7dHlwZTpcImNhbGVuZGFyXCIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY2VsbFdpZHRoOnQuZ2V0Q2VsbFdpZHRoKCksY2VsbEhlaWdodDp0LmdldENlbGxIZWlnaHQoKSxyYW5nZUluZm86e3N0YXJ0Om4uc3RhcnQsZW5kOm4uZW5kLHdlZWtzOm4ud2Vla3MsZGF5Q291bnQ6bi5hbGxEYXl9fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSxuKX19fX19LHNQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRaTGV2ZWw9dGhpcy5nZXQoXCJ6bGV2ZWxcIiwhMCksdGhpcy5jdXJyZW50Wj10aGlzLmdldChcInpcIiwhMCl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhtKHRoaXMuZ2V0U291cmNlKCksdGhpcyl9LGUucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUsbik7cmV0dXJuIGkmJihyLmluZm89VWsoaSkuaW5mbykscn0sZS50eXBlPVwic2VyaWVzLmN1c3RvbVwiLGUuZGVwZW5kZW5jaWVzPVtcImdyaWRcIixcInBvbGFyXCIsXCJnZW9cIixcInNpbmdsZUF4aXNcIixcImNhbGVuZGFyXCJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbTpcImNhcnRlc2lhbjJkXCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxjbGlwOiExfSxlfShyZiksbFA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuX2RhdGEsbz10LmdldERhdGEoKSxhPXRoaXMuZ3JvdXAscz1BUCh0LG8sZSxuKSxsPXQuX190cmFuc2llbnRUcmFuc2l0aW9uT3B0O2lmKCFsfHxudWxsIT1sLmZyb20mJm51bGwhPWwudG8pe3ZhciB1PW5ldyBXUCh0LGwpLGg9bD9cIm11bHRpcGxlXCI6XCJvbmVUb09uZVwiO25ldyBybShyP3IuZ2V0SW5kaWNlcygpOltdLG8uZ2V0SW5kaWNlcygpLHVQKHIsaCxsJiZsLmZyb20pLHVQKG8saCxsJiZsLnRvKSxudWxsLGgpLmFkZCgoZnVuY3Rpb24oZSl7TFAobixudWxsLGUscyhlLGkpLHQsYSxvLG51bGwpfSkpLnJlbW92ZSgoZnVuY3Rpb24oZSl7VlAoci5nZXRJdGVtR3JhcGhpY0VsKGUpLHQsYSl9KSkudXBkYXRlKChmdW5jdGlvbihlLGwpe3UucmVzZXQoXCJvbmVUb09uZVwiKTt2YXIgaD1yLmdldEl0ZW1HcmFwaGljRWwobCk7dS5maW5kQW5kQWRkRnJvbShoKSx1Lmhhc0Zyb20oKSYmKEhQKGgsYSksaD1udWxsKSxMUChuLGgsZSxzKGUsaSksdCxhLG8sdSksdS5hcHBseU1vcnBoaW5nKCl9KSkudXBkYXRlTWFueVRvT25lKChmdW5jdGlvbihlLGwpe3UucmVzZXQoXCJtYW55VG9PbmVcIik7Zm9yKHZhciBoPTA7aDxsLmxlbmd0aDtoKyspe3ZhciBjPXIuZ2V0SXRlbUdyYXBoaWNFbChsW2hdKTt1LmZpbmRBbmRBZGRGcm9tKGMpLEhQKGMsYSl9TFAobixudWxsLGUscyhlLGkpLHQsYSxvLHUpLHUuYXBwbHlNb3JwaGluZygpfSkpLnVwZGF0ZU9uZVRvTWFueSgoZnVuY3Rpb24oZSxsKXt1LnJlc2V0KFwib25lVG9NYW55XCIpO3ZhciBoPWUubGVuZ3RoLGM9ci5nZXRJdGVtR3JhcGhpY0VsKGwpO3UuZmluZEFuZEFkZEZyb20oYyksSFAoYyxhKTtmb3IodmFyIHA9MDtwPGg7cCsrKUxQKG4sbnVsbCxlW3BdLHMoZVtwXSxpKSx0LGEsbyx1KTt1LmFwcGx5TW9ycGhpbmcoKX0pKS5leGVjdXRlKCl9ZWxzZSByJiZyLmVhY2goKGZ1bmN0aW9uKGUpe1ZQKHIuZ2V0SXRlbUdyYXBoaWNFbChlKSx0LGEpfSkpLG8uZWFjaCgoZnVuY3Rpb24oZSl7TFAobixudWxsLGUscyhlLGkpLHQsYSxvLG51bGwpfSkpO3ZhciBjPXQuZ2V0KFwiY2xpcFwiLCEwKT9IYih0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk6bnVsbDtjP2Euc2V0Q2xpcFBhdGgoYyk6YS5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX2RhdGE9b30sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmdldERhdGEoKSxhPUFQKGUsbyxuLGkpO2Z1bmN0aW9uIHModCl7dC5pc0dyb3VwfHwodC5pbmNyZW1lbnRhbD0hMCx0LmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuaG92ZXJMYXllcj0hMCl9Zm9yKHZhciBsPXQuc3RhcnQ7bDx0LmVuZDtsKyspe0xQKG51bGwsbnVsbCxsLGEobCxyKSxlLHRoaXMuZ3JvdXAsbyxudWxsKS50cmF2ZXJzZShzKX19LGUucHJvdG90eXBlLmZpbHRlckZvckV4cG9zZWRFdmVudD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmVsZW1lbnQ7aWYobnVsbD09cnx8bi5uYW1lPT09cilyZXR1cm4hMDtmb3IoOyhuPW4uX19ob3N0VGFyZ2V0fHxuLnBhcmVudCkmJm4hPT10aGlzLmdyb3VwOylpZihuLm5hbWU9PT1yKXJldHVybiEwO3JldHVybiExfSxlLnR5cGU9XCJjdXN0b21cIixlfSh5Zik7ZnVuY3Rpb24gdVAodCxlLG4pe2lmKHQpe2lmKFwib25lVG9PbmVcIj09PWUpcmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZ2V0SWQobil9O3ZhciBpPXQuZ2V0RGltZW5zaW9uKG4pLHI9dC5nZXREaW1lbnNpb25JbmZvKGkpO2lmKCFyKXt2YXIgbz1cIlwiOzAseXIobyl9dmFyIGE9ci5vcmRpbmFsTWV0YTtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj10LmdldChpLG4pO3JldHVybiBhJiYocj1hLmNhdGVnb3JpZXNbcl0pLG51bGw9PXJ8fEoocik/ZStcIlwiOlwiX2VjX1wiK3J9fX1mdW5jdGlvbiBoUCh0KXt2YXIgZSxuPXQudHlwZTtpZihcInBhdGhcIj09PW4pe3ZhciBpPXQuc2hhcGUscj1udWxsIT1pLndpZHRoJiZudWxsIT1pLmhlaWdodD97eDppLnh8fDAseTppLnl8fDAsd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9Om51bGwsbz1GUChpKTtlPVR1KG8sbnVsbCxyLGkubGF5b3V0fHxcImNlbnRlclwiKSxVayhlKS5jdXN0b21QYXRoRGF0YT1vfWVsc2UgaWYoXCJpbWFnZVwiPT09billPW5ldyBKYSh7fSksVWsoZSkuY3VzdG9tSW1hZ2VQYXRoPXQuc3R5bGUuaW1hZ2U7ZWxzZSBpZihcInRleHRcIj09PW4pZT1uZXcgbHMoe30pO2Vsc2UgaWYoXCJncm91cFwiPT09billPW5ldyB6aTtlbHNle2lmKFwiY29tcG91bmRQYXRoXCI9PT1uKXRocm93IG5ldyBFcnJvcignXCJjb21wb3VuZFBhdGhcIiBpcyBub3Qgc3VwcG9ydGVkIHlldC4nKTt2YXIgYT1JdShuKTtpZighYSl7dmFyIHM9XCJcIjswLHlyKHMpfWU9bmV3IGF9cmV0dXJuIFVrKGUpLmN1c3RvbUdyYXBoaWNUeXBlPW4sZS5uYW1lPXQubmFtZSxlLnoyRW1waGFzaXNMaWZ0PTEsZS56MlNlbGVjdExpZnQ9MSxlfWZ1bmN0aW9uIGNQKHQsZSxuLGkscixvLGEscyxsLHUpe3ZhciBoPXt9LGM9e30scD1lLmlzR3JvdXA/bnVsbDplOyFuJiZmUChcInNoYXBlXCIsZSxudWxsLHIsaCxsKSxnUChcInNoYXBlXCIscixjKSwhbiYmZlAoXCJleHRyYVwiLGUsbnVsbCxyLGgsbCksZ1AoXCJleHRyYVwiLHIsYyksIW4mJnlQKGUsbnVsbCxyLGgsbCksZnVuY3Rpb24odCxlKXtJUCh0LGUsXCJwb3NpdGlvblwiKSxJUCh0LGUsXCJzY2FsZVwiKSxJUCh0LGUsXCJvcmlnaW5cIiksVFAodCxlLFwieFwiKSxUUCh0LGUsXCJ5XCIpLFRQKHQsZSxcInNjYWxlWFwiKSxUUCh0LGUsXCJzY2FsZVlcIiksVFAodCxlLFwib3JpZ2luWFwiKSxUUCh0LGUsXCJvcmlnaW5ZXCIpLFRQKHQsZSxcInJvdGF0aW9uXCIpfShyLGMpO3ZhciBkPWEmJmEubm9ybWFsLmNmZztpZihkJiZlLnNldFRleHRDb25maWcoZCksXCJ0ZXh0XCI9PT1lLnR5cGUmJm8pe3ZhciBmPW87ZHQoZixcInRleHRGaWxsXCIpJiYoZi5maWxsPWYudGV4dEZpbGwpLGR0KGYsXCJ0ZXh0U3Ryb2tlXCIpJiYoZi5zdHJva2U9Zi50ZXh0U3Ryb2tlKX1pZihvKXt2YXIgZz12b2lkIDAseT1HUChlKT9vLmRlY2FsOm51bGw7dCYmeSYmKHkuZGlydHk9ITAsZz1reSh5LHQpKSxvLl9fZGVjYWxQYXR0ZXJuPWd9cmV0dXJuIW4mJnZQKGUsbnVsbCxyLG8saCxsKSxwJiZkdChyLFwiaW52aXNpYmxlXCIpJiYocC5pbnZpc2libGU9ci5pbnZpc2libGUpLG58fChwUChlLGMsbyksZFAoZSxpLHIscyxoLGwpKSxkdChyLFwic2lsZW50XCIpJiYoZS5zaWxlbnQ9ci5zaWxlbnQpLGR0KHIsXCJpZ25vcmVcIikmJihlLmlnbm9yZT1yLmlnbm9yZSksdXx8ZHQocixcImluZm9cIikmJihVayhlKS5pbmZvPXIuaW5mbyksbz9lLmRpcnR5KCk6ZS5tYXJrUmVkcmF3KCksbj9jOm51bGx9ZnVuY3Rpb24gcFAodCxlLG4pe3ZhciBpPXQuaXNHcm91cD9udWxsOnQ7aWYoaSYmbil7dmFyIHI9bi5fX2RlY2FsUGF0dGVybixvPXZvaWQgMDtyJiYobz1uLmRlY2FsLG4uZGVjYWw9ciksaS51c2VTdHlsZShuKSxyJiYobi5kZWNhbD1vKTtmb3IodmFyIGE9aS5hbmltYXRvcnMscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO1wic3R5bGVcIj09PWwudGFyZ2V0TmFtZSYmbC5jaGFuZ2VUYXJnZXQoaS5zdHlsZSl9fWUmJnQuYXR0cihlKX1mdW5jdGlvbiBkUCh0LGUsbixpLHIsbyl7aWYocil7dmFyIGE9bi5kdXJpbmc7VWsodCkudXNlckR1cmluZz1hO3ZhciBzPXtkYXRhSW5kZXg6ZSxpc0Zyb206ITAsZHVyaW5nOmE/Qih3UCx7ZWw6dCx1c2VyRHVyaW5nOmF9KTpudWxsfTtvP1J1KHQscixpLHMpOk91KHQscixpLHMpfX1mdW5jdGlvbiBmUCh0LGUsbixpLHIsbyl7dmFyIGE9aVt0XTtpZihhKXt2YXIgcyxsPWVbdF0sdT1hLmVudGVyRnJvbTtpZihvJiZ1KXshcyYmKHM9clt0XT17fSk7Zm9yKHZhciBoPXoodSksYz0wO2M8aC5sZW5ndGg7YysrKXtzW189aFtjXV09dVtfXX19aWYoIW8mJmwmJihudWxsPT1ufHxcInNoYXBlXCIhPT10KSlpZihhLnRyYW5zaXRpb24peyFzJiYocz1yW3RdPXt9KTt2YXIgcD1fcihhLnRyYW5zaXRpb24pO2ZvcihjPTA7YzxwLmxlbmd0aDtjKyspe3ZhciBkPWxbXz1wW2NdXTswLHNbX109ZH19ZWxzZSBpZihBKGkudHJhbnNpdGlvbix0KT49MCl7IXMmJihzPXJbdF09e30pO3ZhciBmPXoobCk7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKyl7ZD1sW189ZltjXV07bVAoYVtfXSxkKSYmKHNbX109ZCl9fXZhciBnPWEubGVhdmVUbztpZihnKXt2YXIgeT1fUChlKSx2PXlbdF18fCh5W3RdPXt9KSxtPXooZyk7Zm9yKGM9MDtjPG0ubGVuZ3RoO2MrKyl7dmFyIF87dltfPW1bY11dPWdbX119fX19ZnVuY3Rpb24gZ1AodCxlLG4pe3ZhciBpPWVbdF07aWYoaSlmb3IodmFyIHI9blt0XT17fSxvPXooaSksYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO3Jbc109bW4oaVtzXSl9fWZ1bmN0aW9uIHlQKHQsZSxuLGkscil7dmFyIG89bi5lbnRlckZyb207aWYociYmbylmb3IodmFyIGE9eihvKSxzPTA7czxhLmxlbmd0aDtzKyspezAsaVtmPWFbc11dPW9bZl19aWYoIXIpaWYoZSl7dmFyIGw9ZnVuY3Rpb24odCxlKXtpZighdHx8dD09PWV8fHQucGFyZW50PT09ZS5wYXJlbnQpcmV0dXJuIHQ7dmFyIG49b1AudHJhbnNmb3JtfHwob1AudHJhbnNmb3JtPWdlKFtdKSksaT10LmdldENvbXB1dGVkVHJhbnNmb3JtKCk7aT95ZShuLGkpOmdlKG4pO3ZhciByPWUucGFyZW50O3ImJnIuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTtyZXR1cm4gb1Aub3JpZ2luWD10Lm9yaWdpblgsb1Aub3JpZ2luWT10Lm9yaWdpblksb1AucGFyZW50PXIsb1AuZGVjb21wb3NlVHJhbnNmb3JtKCksb1B9KGUsdCk7Q1AoaSxcInhcIixsKSxDUChpLFwieVwiLGwpLENQKGksXCJzY2FsZVhcIixsKSxDUChpLFwic2NhbGVZXCIsbCksQ1AoaSxcIm9yaWdpblhcIixsKSxDUChpLFwib3JpZ2luWVwiLGwpLENQKGksXCJyb3RhdGlvblwiLGwpfWVsc2UgaWYobi50cmFuc2l0aW9uKXt2YXIgdT1fcihuLnRyYW5zaXRpb24pO2ZvcihzPTA7czx1Lmxlbmd0aDtzKyspe2lmKFwic3R5bGVcIiE9PShmPXVbc10pJiZcInNoYXBlXCIhPT1mJiZcImV4dHJhXCIhPT1mKXt2YXIgaD10W2ZdOzAsaVtmXT1ofX19ZWxzZSBDUChpLFwieFwiLHQpLENQKGksXCJ5XCIsdCk7dmFyIGM9bi5sZWF2ZVRvO2lmKGMpe3ZhciBwPV9QKHQpLGQ9eihjKTtmb3Iocz0wO3M8ZC5sZW5ndGg7cysrKXt2YXIgZjswLHBbZj1kW3NdXT1jW2ZdfX19ZnVuY3Rpb24gdlAodCxlLG4saSxyLG8pe2lmKGkpe3ZhciBhLHM9KGV8fHQpLnN0eWxlLGw9aS5lbnRlckZyb207aWYobyYmbCl7dmFyIHU9eihsKTshYSYmKGE9ci5zdHlsZT17fSk7Zm9yKHZhciBoPTA7aDx1Lmxlbmd0aDtoKyspe2FbeD11W2hdXT1sW3hdfX1pZighbyYmcylpZihpLnRyYW5zaXRpb24pe3ZhciBjPV9yKGkudHJhbnNpdGlvbik7IWEmJihhPXIuc3R5bGU9e30pO2ZvcihoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBwPXNbeD1jW2hdXTthW3hdPXB9fWVsc2UgaWYodC5nZXRBbmltYXRpb25TdHlsZVByb3BzJiZBKG4udHJhbnNpdGlvbixcInN0eWxlXCIpPj0wKXt2YXIgZD10LmdldEFuaW1hdGlvblN0eWxlUHJvcHMoKSxmPWQ/ZC5zdHlsZTpudWxsO2lmKGYpeyFhJiYoYT1yLnN0eWxlPXt9KTt2YXIgZz16KGkpO2ZvcihoPTA7aDxnLmxlbmd0aDtoKyspe2lmKGZbeD1nW2hdXSl7cD1zW3hdO2FbeF09cH19fX12YXIgeT1pLmxlYXZlVG87aWYoeSl7dmFyIHY9eih5KSxtPV9QKHQpLF89bS5zdHlsZXx8KG0uc3R5bGU9e30pO2ZvcihoPTA7aDx2Lmxlbmd0aDtoKyspe3ZhciB4O19beD12W2hdXT15W3hdfX19fWZ1bmN0aW9uIG1QKHQsZSl7cmV0dXJuIGsodCk/dCE9PWU6bnVsbCE9dCYmaXNGaW5pdGUodCl9ZnVuY3Rpb24gX1AodCl7dmFyIGU9VWsodCk7cmV0dXJuIGUubGVhdmVUb1Byb3BzfHwoZS5sZWF2ZVRvUHJvcHM9e30pfXZhciB4UD17fSxiUD17c2V0VHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHhQLmVsW3RdPWUsdGhpc30sZ2V0VHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3JldHVybiB4UC5lbFt0XX0sc2V0U2hhcGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4oeFAuZWwuc2hhcGV8fCh4UC5lbC5zaGFwZT17fSkpW3RdPWUseFAuaXNTaGFwZURpcnR5PSEwLHRoaXN9LGdldFNoYXBlOmZ1bmN0aW9uKHQpe3ZhciBlPXhQLmVsLnNoYXBlO2lmKGUpcmV0dXJuIGVbdF19LHNldFN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49eFAuZWwuc3R5bGU7cmV0dXJuIG4mJihuW3RdPWUseFAuaXNTdHlsZURpcnR5PSEwKSx0aGlzfSxnZXRTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT14UC5lbC5zdHlsZTtpZihlKXJldHVybiBlW3RdfSxzZXRFeHRyYTpmdW5jdGlvbih0LGUpe3JldHVybih4UC5lbC5leHRyYXx8KHhQLmVsLmV4dHJhPXt9KSlbdF09ZSx0aGlzfSxnZXRFeHRyYTpmdW5jdGlvbih0KXt2YXIgZT14UC5lbC5leHRyYTtpZihlKXJldHVybiBlW3RdfX07ZnVuY3Rpb24gd1AoKXt2YXIgdD10aGlzLGU9dC5lbDtpZihlKXt2YXIgbj1VayhlKS51c2VyRHVyaW5nLGk9dC51c2VyRHVyaW5nO249PT1pPyh4UC5lbD1lLHhQLmlzU2hhcGVEaXJ0eT0hMSx4UC5pc1N0eWxlRGlydHk9ITEsaShiUCkseFAuaXNTaGFwZURpcnR5JiZlLmRpcnR5U2hhcGUmJmUuZGlydHlTaGFwZSgpLHhQLmlzU3R5bGVEaXJ0eSYmZS5kaXJ0eVN0eWxlJiZlLmRpcnR5U3R5bGUoKSk6dC5lbD10LnVzZXJEdXJpbmc9bnVsbH19ZnVuY3Rpb24gU1AodCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5pc0dyb3VwP251bGw6ZSxsPXImJnJbdF0uY2ZnO2lmKHMpe3ZhciB1PXMuZW5zdXJlU3RhdGUodCk7aWYoITE9PT1pKXt2YXIgaD1zLmdldFN0YXRlKHQpO2gmJihoLnN0eWxlPW51bGwpfWVsc2UgdS5zdHlsZT1pfHxudWxsO2wmJih1LnRleHRDb25maWc9bCksR3Mocyl9fWZ1bmN0aW9uIE1QKHQsZSxuKXt2YXIgaT1uPT09JGsscj1pP2U6UlAoZSxuKSxvPXI/ci56MjpudWxsO251bGwhPW8mJigoaT90OnQuZW5zdXJlU3RhdGUobikpLnoyPW98fDApfWZ1bmN0aW9uIElQKHQsZSxuLGkpe3ZhciByPXRbbl0sbz1yUFtuXTtyJiYoaT8oZVtvWzBdXT1pW29bMF1dLGVbb1sxXV09aVtvWzFdXSk6KGVbb1swXV09clswXSxlW29bMV1dPXJbMV0pKX1mdW5jdGlvbiBUUCh0LGUsbixpKXtudWxsIT10W25dJiYoZVtuXT1pP2lbbl06dFtuXSl9ZnVuY3Rpb24gQ1AodCxlLG4pe24mJih0W2VdPW5bZV0pfWZ1bmN0aW9uIEFQKHQsZSxuLGkpe3ZhciByPXQuZ2V0KFwicmVuZGVySXRlbVwiKSxvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPXt9O28mJihhPW8ucHJlcGFyZUN1c3RvbXM/by5wcmVwYXJlQ3VzdG9tcyhvKTphUFtvLnR5cGVdKG8pKTtmb3IodmFyIHMsbCx1PVQoe2dldFdpZHRoOmkuZ2V0V2lkdGgsZ2V0SGVpZ2h0OmkuZ2V0SGVpZ2h0LGdldFpyOmkuZ2V0WnIsZ2V0RGV2aWNlUGl4ZWxSYXRpbzppLmdldERldmljZVBpeGVsUmF0aW8sdmFsdWU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbD09biYmKG49cyksZS5nZXQoZS5nZXREaW1lbnNpb24odHx8MCksbil9LHN0eWxlOmZ1bmN0aW9uKG4saSl7MDtudWxsPT1pJiYoaT1zKTt2YXIgcj1lLmdldEl0ZW1WaXN1YWwoaSxcInN0eWxlXCIpLG89ciYmci5maWxsLGE9ciYmci5vcGFjaXR5LGw9bShpLCRrKS5nZXRJdGVtU3R5bGUoKTtudWxsIT1vJiYobC5maWxsPW8pLG51bGwhPWEmJihsLm9wYWNpdHk9YSk7dmFyIHU9e2luaGVyaXRDb2xvcjpIKG8pP286XCIjMDAwXCJ9LGg9XyhpLCRrKSxjPW5oKGgsbnVsbCx1LCExLCEwKTtjLnRleHQ9aC5nZXRTaGFsbG93KFwic2hvd1wiKT90dCh0LmdldEZvcm1hdHRlZExhYmVsKGksJGspLF9iKGUsaSkpOm51bGw7dmFyIHA9aWgoaCx1LCExKTtyZXR1cm4gYihuLGwpLGw9X2sobCxjLHApLG4mJngobCxuKSxsLmxlZ2FjeT0hMCxsfSxvcmRpbmFsUmF3VmFsdWU6ZnVuY3Rpb24odCxuKXtudWxsPT1uJiYobj1zKTt2YXIgaT1lLmdldERpbWVuc2lvbkluZm8odHx8MCk7aWYoIWkpcmV0dXJuO3ZhciByPWUuZ2V0KGkubmFtZSxuKSxvPWkmJmkub3JkaW5hbE1ldGE7cmV0dXJuIG8/by5jYXRlZ29yaWVzW3JdOnJ9LHN0eWxlRW1waGFzaXM6ZnVuY3Rpb24obixpKXswO251bGw9PWkmJihpPXMpO3ZhciByPW0oaSxLaykuZ2V0SXRlbVN0eWxlKCksbz1fKGksS2spLGE9bmgobyxudWxsLG51bGwsITAsITApO2EudGV4dD1vLmdldFNoYWxsb3coXCJzaG93XCIpP2V0KHQuZ2V0Rm9ybWF0dGVkTGFiZWwoaSxLayksdC5nZXRGb3JtYXR0ZWRMYWJlbChpLCRrKSxfYihlLGkpKTpudWxsO3ZhciBsPWloKG8sbnVsbCwhMCk7cmV0dXJuIGIobixyKSxyPV9rKHIsYSxsKSxuJiZ4KHIsbiksci5sZWdhY3k9ITAscn0sdmlzdWFsOmZ1bmN0aW9uKHQsbil7aWYobnVsbD09biYmKG49cyksZHQoamssdCkpe3ZhciBpPWUuZ2V0SXRlbVZpc3VhbChuLFwic3R5bGVcIik7cmV0dXJuIGk/aVtqa1t0XV06bnVsbH1pZihkdChxayx0KSlyZXR1cm4gZS5nZXRJdGVtVmlzdWFsKG4sdCl9LGJhckxheW91dDpmdW5jdGlvbih0KXtpZihcImNhcnRlc2lhbjJkXCI9PT1vLnR5cGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT1bXSxuPXQuYXhpcyxpPVwiYXhpczBcIjtpZihcImNhdGVnb3J5XCI9PT1uLnR5cGUpe2Zvcih2YXIgcj1uLmdldEJhbmRXaWR0aCgpLG89MDtvPHQuY291bnQ7bysrKWUucHVzaChUKHtiYW5kV2lkdGg6cixheGlzS2V5Omksc3RhY2tJZDpuXytvfSx0KSk7dmFyIGE9bF8oZSkscz1bXTtmb3Iobz0wO288dC5jb3VudDtvKyspe3ZhciBsPWEuYXhpczBbbl8rb107bC5vZmZzZXRDZW50ZXI9bC5vZmZzZXQrbC53aWR0aC8yLHMucHVzaChsKX1yZXR1cm4gc319KFQoe2F4aXM6by5nZXRCYXNlQXhpcygpfSx0KSl9fSxjdXJyZW50U2VyaWVzSW5kaWNlczpmdW5jdGlvbigpe3JldHVybiBuLmdldEN1cnJlbnRTZXJpZXNJbmRpY2VzKCl9LGZvbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIGxoKHQsbil9fSxhLmFwaXx8e30pLGg9e2NvbnRleHQ6e30sc2VyaWVzSWQ6dC5pZCxzZXJpZXNOYW1lOnQubmFtZSxzZXJpZXNJbmRleDp0LnNlcmllc0luZGV4LGNvb3JkU3lzOmEuY29vcmRTeXMsZGF0YUluc2lkZUxlbmd0aDplLmNvdW50KCksZW5jb2RlOkRQKHQuZ2V0RGF0YSgpKX0sYz17fSxwPXt9LGQ9e30sZj17fSxnPTA7Zzx0UC5sZW5ndGg7ZysrKXt2YXIgeT10UFtnXTtkW3ldPXQuZ2V0TW9kZWwoZVBbeV0pLGZbeV09dC5nZXRNb2RlbChuUFt5XSl9ZnVuY3Rpb24gdih0KXtyZXR1cm4gdD09PXM/bHx8KGw9ZS5nZXRJdGVtTW9kZWwodCkpOmUuZ2V0SXRlbU1vZGVsKHQpfWZ1bmN0aW9uIG0odCxuKXtyZXR1cm4gZS5oYXNJdGVtT3B0aW9uP3Q9PT1zP2Nbbl18fChjW25dPXYodCkuZ2V0TW9kZWwoZVBbbl0pKTp2KHQpLmdldE1vZGVsKGVQW25dKTpkW25dfWZ1bmN0aW9uIF8odCxuKXtyZXR1cm4gZS5oYXNJdGVtT3B0aW9uP3Q9PT1zP3Bbbl18fChwW25dPXYodCkuZ2V0TW9kZWwoblBbbl0pKTp2KHQpLmdldE1vZGVsKG5QW25dKTpmW25dfXJldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBzPXQsbD1udWxsLGM9e30scD17fSxyJiZyKFQoe2RhdGFJbmRleEluc2lkZTp0LGRhdGFJbmRleDplLmdldFJhd0luZGV4KHQpLGFjdGlvblR5cGU6bj9uLnR5cGU6bnVsbH0saCksdSl9O2Z1bmN0aW9uIHgodCxlKXtmb3IodmFyIG4gaW4gZSlkdChlLG4pJiYodFtuXT1lW25dKX1mdW5jdGlvbiBiKHQsZSl7dCYmKHQudGV4dEZpbGwmJihlLnRleHRGaWxsPXQudGV4dEZpbGwpLHQudGV4dFBvc2l0aW9uJiYoZS50ZXh0UG9zaXRpb249dC50ZXh0UG9zaXRpb24pKX19ZnVuY3Rpb24gRFAodCl7dmFyIGU9e307cmV0dXJuIFAodC5kaW1lbnNpb25zLChmdW5jdGlvbihuLGkpe3ZhciByPXQuZ2V0RGltZW5zaW9uSW5mbyhuKTtpZighci5pc0V4dHJhQ29vcmQpe3ZhciBvPXIuY29vcmREaW07KGVbb109ZVtvXXx8W10pW3IuY29vcmREaW1JbmRleF09aX19KSksZX1mdW5jdGlvbiBMUCh0LGUsbixpLHIsbyxhLHMpe2lmKGkpcmV0dXJuKGU9a1AodCxlLG4saSxyLG8sITAscykpJiZhLnNldEl0ZW1HcmFwaGljRWwobixlKSxKcyhlLGkuZm9jdXMsaS5ibHVyU2NvcGUpLGU7SFAoZSxvKX1mdW5jdGlvbiBrUCh0LGUsbixpLHIsbyxhLHMpe3ZhciBsPS0xO2UmJlBQKGUsaSkmJihsPW8uY2hpbGRyZW5SZWYoKS5pbmRleE9mKGUpLGU9bnVsbCk7dmFyIHU9IWU7ZT9lLmNsZWFyU3RhdGVzKCk6ZT1oUChpKTt2YXIgaD0oVWsoZSkuY2FuTW9ycGg9aS5tb3JwaCYmR1AoZSkpJiZzJiZzLmhhc0Zyb20oKSxjPXUmJiFoO2lQLm5vcm1hbC5jZmc9aVAubm9ybWFsLmNvbk9wdD1pUC5lbXBoYXNpcy5jZmc9aVAuZW1waGFzaXMuY29uT3B0PWlQLmJsdXIuY2ZnPWlQLmJsdXIuY29uT3B0PWlQLnNlbGVjdC5jZmc9aVAuc2VsZWN0LmNvbk9wdD1udWxsLGlQLmlzTGVnYWN5PSExLGZ1bmN0aW9uKHQsZSxuLGkscixvKXtpZih0LmlzR3JvdXApcmV0dXJuO09QKG4sbnVsbCxvKSxPUChuLEtrLG8pO3ZhciBhPW8ubm9ybWFsLmNvbk9wdCxzPW8uZW1waGFzaXMuY29uT3B0LGw9by5ibHVyLmNvbk9wdCx1PW8uc2VsZWN0LmNvbk9wdDtpZihudWxsIT1hfHxudWxsIT1zfHxudWxsIT11fHxudWxsIT1sKXt2YXIgaD10LmdldFRleHRDb250ZW50KCk7aWYoITE9PT1hKWgmJnQucmVtb3ZlVGV4dENvbnRlbnQoKTtlbHNle2E9by5ub3JtYWwuY29uT3B0PWF8fHt0eXBlOlwidGV4dFwifSxoP2guY2xlYXJTdGF0ZXMoKTooaD1oUChhKSx0LnNldFRleHRDb250ZW50KGgpKTt2YXIgYz1hJiZhLnN0eWxlO2NQKG51bGwsaCxudWxsLGUsYSxjLG51bGwsaSxyLCEwKTtmb3IodmFyIHA9MDtwPHRQLmxlbmd0aDtwKyspe3ZhciBkPXRQW3BdO2lmKGQhPT0kayl7dmFyIGY9b1tkXS5jb25PcHQ7U1AoZCxoLDAsTlAoYSxmLGQpLG51bGwpfX1jP2guZGlydHkoKTpoLm1hcmtSZWRyYXcoKX19fShlLG4saSxyLGMsaVApLGZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5jbGlwUGF0aDtpZighMT09PW8pdCYmdC5nZXRDbGlwUGF0aCgpJiZ0LnJlbW92ZUNsaXBQYXRoKCk7ZWxzZSBpZihvKXt2YXIgYT10LmdldENsaXBQYXRoKCk7YSYmUFAoYSxvKSYmKGE9bnVsbCksYXx8KGE9aFAobyksdC5zZXRDbGlwUGF0aChhKSksY1AobnVsbCxhLG51bGwsZSxvLG51bGwsbnVsbCxpLHIsITEpfX0oZSxuLGkscixjKTt2YXIgcD1jUCh0LGUsaCxuLGksaS5zdHlsZSxpUCxyLGMsITEpO2gmJnMuYWRkVG8oZSxpLG4scCk7Zm9yKHZhciBkPTA7ZDx0UC5sZW5ndGg7ZCsrKXt2YXIgZj10UFtkXTtpZihmIT09JGspe3ZhciBnPVJQKGksZik7U1AoZixlLDAsTlAoaSxnLGYpLGlQKX19cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkpe2lmKCF0LmlzR3JvdXApe3ZhciByPXQsbz1uLmN1cnJlbnRaLGE9bi5jdXJyZW50WkxldmVsO3Iuej1vLHIuemxldmVsPWE7dmFyIHM9ZS56MjtudWxsIT1zJiYoci56Mj1zfHwwKTtmb3IodmFyIGw9MDtsPHRQLmxlbmd0aDtsKyspTVAocixlLHRQW2xdKX19KGUsaSxyKSxcImdyb3VwXCI9PT1pLnR5cGUmJmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1pLmNoaWxkcmVuLHM9YT9hLmxlbmd0aDowLGw9aS4kbWVyZ2VDaGlsZHJlbix1PVwiYnlOYW1lXCI9PT1sfHxpLmRpZmZDaGlsZHJlbkJ5TmFtZSxoPSExPT09bDtpZighcyYmIXUmJiFoKXJldHVybjtpZih1KXJldHVybiBjPXthcGk6dCxvbGRDaGlsZHJlbjplLmNoaWxkcmVuKCl8fFtdLG5ld0NoaWxkcmVuOmF8fFtdLGRhdGFJbmRleDpuLHNlcmllc01vZGVsOnIsZ3JvdXA6ZSxtb3JwaFByZXBhcmF0aW9uOm99LHZvaWQgbmV3IHJtKGMub2xkQ2hpbGRyZW4sYy5uZXdDaGlsZHJlbixFUCxFUCxjKS5hZGQoelApLnVwZGF0ZSh6UCkucmVtb3ZlKEJQKS5leGVjdXRlKCk7dmFyIGM7aCYmZS5yZW1vdmVBbGwoKTtmb3IodmFyIHA9MDtwPHM7cCsrKWFbcF0mJmtQKHQsZS5jaGlsZEF0KHApLG4sYVtwXSxyLGUsITEsbyk7Zm9yKHZhciBkPWUuY2hpbGRDb3VudCgpLTE7ZD49cDtkLS0pVlAoZS5jaGlsZEF0KGQpLHIsZSl9KHQsZSxuLGkscixzKSxsPj0wP28ucmVwbGFjZUF0KGUsbCk6by5hZGQoZSksZX1mdW5jdGlvbiBQUCh0LGUpe3ZhciBuLGk9VWsodCkscj1lLnR5cGUsbz1lLnNoYXBlLGE9ZS5zdHlsZTtyZXR1cm4gbnVsbCE9ciYmciE9PWkuY3VzdG9tR3JhcGhpY1R5cGV8fFwicGF0aFwiPT09ciYmKChuPW8pJiYoZHQobixcInBhdGhEYXRhXCIpfHxkdChuLFwiZFwiKSkpJiZGUChvKSE9PWkuY3VzdG9tUGF0aERhdGF8fFwiaW1hZ2VcIj09PXImJmR0KGEsXCJpbWFnZVwiKSYmYS5pbWFnZSE9PWkuY3VzdG9tSW1hZ2VQYXRofWZ1bmN0aW9uIE9QKHQsZSxuKXt2YXIgaT1lP1JQKHQsZSk6dCxyPWU/TlAodCxpLEtrKTp0LnN0eWxlLG89dC50eXBlLGE9aT9pLnRleHRDb25maWc6bnVsbCxzPXQudGV4dENvbnRlbnQsbD1zP2U/UlAocyxlKTpzOm51bGw7aWYociYmKG4uaXNMZWdhY3l8fHlrKHIsbywhIWEsISFsKSkpe24uaXNMZWdhY3k9ITA7dmFyIHU9dmsocixvLCFlKTshYSYmdS50ZXh0Q29uZmlnJiYoYT11LnRleHRDb25maWcpLCFsJiZ1LnRleHRDb250ZW50JiYobD11LnRleHRDb250ZW50KX1pZighZSYmbCl7dmFyIGg9bDshaC50eXBlJiYoaC50eXBlPVwidGV4dFwiKX12YXIgYz1lP25bZV06bi5ub3JtYWw7Yy5jZmc9YSxjLmNvbk9wdD1sfWZ1bmN0aW9uIFJQKHQsZSl7cmV0dXJuIGU/dD90W2VdOm51bGw6dH1mdW5jdGlvbiBOUCh0LGUsbil7dmFyIGk9ZSYmZS5zdHlsZTtyZXR1cm4gbnVsbD09aSYmbj09PUtrJiZ0JiYoaT10LnN0eWxlRW1waGFzaXMpLGl9ZnVuY3Rpb24gRVAodCxlKXt2YXIgbj10JiZ0Lm5hbWU7cmV0dXJuIG51bGwhPW4/bjpcImVcXDBcXDBcIitlfWZ1bmN0aW9uIHpQKHQsZSl7dmFyIG49dGhpcy5jb250ZXh0LGk9bnVsbCE9dD9uLm5ld0NoaWxkcmVuW3RdOm51bGwscj1udWxsIT1lP24ub2xkQ2hpbGRyZW5bZV06bnVsbDtrUChuLmFwaSxyLG4uZGF0YUluZGV4LGksbi5zZXJpZXNNb2RlbCxuLmdyb3VwLDAsbi5tb3JwaFByZXBhcmF0aW9uKX1mdW5jdGlvbiBCUCh0KXt2YXIgZT10aGlzLmNvbnRleHQ7VlAoZS5vbGRDaGlsZHJlblt0XSxlLnNlcmllc01vZGVsLGUuZ3JvdXApfWZ1bmN0aW9uIFZQKHQsZSxuKXtpZih0KXt2YXIgaT1Vayh0KS5sZWF2ZVRvUHJvcHM7aT9PdSh0LGksZSx7Y2I6ZnVuY3Rpb24oKXtuLnJlbW92ZSh0KX19KTpuLnJlbW92ZSh0KX19ZnVuY3Rpb24gRlAodCl7cmV0dXJuIHQmJih0LnBhdGhEYXRhfHx0LmQpfWZ1bmN0aW9uIEdQKHQpe3JldHVybiB0JiZ0IGluc3RhbmNlb2YgWmF9ZnVuY3Rpb24gSFAodCxlKXt0JiZlLnJlbW92ZSh0KX12YXIgV1A9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZnJvbUxpc3Q9W10sdGhpcy5fdG9MaXN0PVtdLHRoaXMuX3RvRWxPcHRpb25MaXN0PVtdLHRoaXMuX2FsbFByb3BzRmluYWxMaXN0PVtdLHRoaXMuX3RvRGF0YUluZGljZXM9W10sdGhpcy5fbW9ycGhDb25maWdMaXN0PVtdLHRoaXMuX3Nlcmllc01vZGVsPXQsdGhpcy5fdHJhbnNPcHQ9ZX1yZXR1cm4gdC5wcm90b3R5cGUuaGFzRnJvbT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZnJvbUxpc3QubGVuZ3RofSx0LnByb3RvdHlwZS5maW5kQW5kQWRkRnJvbT1mdW5jdGlvbih0KXtpZih0JiYoVWsodCkuY2FuTW9ycGgmJnRoaXMuX2Zyb21MaXN0LnB1c2godCksdC5pc0dyb3VwKSlmb3IodmFyIGU9dC5jaGlsZHJlblJlZigpLG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLmZpbmRBbmRBZGRGcm9tKGVbbl0pfSx0LnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0LGUsbixpKXt0JiYodGhpcy5fdG9MaXN0LnB1c2godCksdGhpcy5fdG9FbE9wdGlvbkxpc3QucHVzaChlKSx0aGlzLl90b0RhdGFJbmRpY2VzLnB1c2gobiksdGhpcy5fYWxsUHJvcHNGaW5hbExpc3QucHVzaChpKSl9LHQucHJvdG90eXBlLmFwcGx5TW9ycGhpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90eXBlLGU9dGhpcy5fZnJvbUxpc3Qsbj10aGlzLl90b0xpc3QubGVuZ3RoLGk9ZS5sZW5ndGg7aWYoaSYmbilpZihcIm9uZVRvT25lXCI9PT10KWZvcih2YXIgcj0wO3I8bjtyKyspdGhpcy5fb25lVG9PbmVGb3JTaW5nbGVUbyhyLHIpO2Vsc2UgaWYoXCJtYW55VG9PbmVcIj09PXQpZm9yKHZhciBvPU1hdGgubWF4KDEsTWF0aC5mbG9vcihpL24pKSxhPShyPTAsMCk7cjxuO3IrKyxhKz1vKXt2YXIgcz1yKzE+PW4/aS1hOm87dGhpcy5fbWFueVRvT25lRm9yU2luZ2xlVG8ocixhPj1pP251bGw6YSxzKX1lbHNlIGlmKFwib25lVG9NYW55XCI9PT10KWZvcih2YXIgbD1NYXRoLm1heCgxLE1hdGguZmxvb3Iobi9pKSksdT0wLGg9MDt1PG47dSs9bCxoKyspe3ZhciBjPXUrbD49bj9uLXU6bDt0aGlzLl9vbmVUb01hbnlGb3JTaW5nbGVGcm9tKHUsYyxoPj1pP251bGw6aCl9fSx0LnByb3RvdHlwZS5fb25lVG9PbmVGb3JTaW5nbGVUbz1mdW5jdGlvbih0LGUpe3ZhciBuLGk9dGhpcy5fdG9MaXN0W3RdLHI9dGhpcy5fdG9FbE9wdGlvbkxpc3RbdF0sbz10aGlzLl90b0RhdGFJbmRpY2VzW3RdLGE9dGhpcy5fYWxsUHJvcHNGaW5hbExpc3RbdF0scz10aGlzLl9mcm9tTGlzdFtlXSxsPXRoaXMuX2dldE9yQ3JlYXRlTW9ycGhDb25maWcobyksdT1sLmR1cmF0aW9uO2lmKHMmJnprKHMpKXtpZihwUChpLGEsci5zdHlsZSksdSl7dmFyIGg9QmsoW3NdLGksbCxZUCk7dGhpcy5fcHJvY2Vzc1Jlc3VsdEluZGl2aWR1YWxzKGgsdCxudWxsKX19ZWxzZXt2YXIgYz11JiZzJiYocyE9PWl8fChFayhuPXMpfHx6ayhuKSkpP3M6bnVsbCxwPXt9O2ZQKFwic2hhcGVcIixpLGMscixwLCExKSxmUChcImV4dHJhXCIsaSxjLHIscCwhMSkseVAoaSxjLHIscCwhMSksdlAoaSxjLHIsci5zdHlsZSxwLCExKSxwUChpLGEsci5zdHlsZSksYyYmT2soYyxpLGwpLGRQKGksbyxyLHRoaXMuX3Nlcmllc01vZGVsLHAsITEpfX0sdC5wcm90b3R5cGUuX21hbnlUb09uZUZvclNpbmdsZVRvPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl90b0xpc3RbdF0scj10aGlzLl90b0VsT3B0aW9uTGlzdFt0XTtwUChpLHRoaXMuX2FsbFByb3BzRmluYWxMaXN0W3RdLHIuc3R5bGUpO3ZhciBvPXRoaXMuX2dldE9yQ3JlYXRlTW9ycGhDb25maWcodGhpcy5fdG9EYXRhSW5kaWNlc1t0XSk7aWYoby5kdXJhdGlvbiYmbnVsbCE9ZSl7Zm9yKHZhciBhPVtdLHM9ZTtzPG47cysrKWEucHVzaCh0aGlzLl9mcm9tTGlzdFtzXSk7dmFyIGw9QmsoYSxpLG8sWVApO3RoaXMuX3Byb2Nlc3NSZXN1bHRJbmRpdmlkdWFscyhsLHQsbnVsbCl9fSx0LnByb3RvdHlwZS5fb25lVG9NYW55Rm9yU2luZ2xlRnJvbT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPW51bGw9PW4/bnVsbDp0aGlzLl9mcm9tTGlzdFtuXSxyPXRoaXMuX3RvTGlzdCxvPVtdLGE9dDthPGU7YSsrKXt2YXIgcz1yW2FdO3BQKHMsdGhpcy5fYWxsUHJvcHNGaW5hbExpc3RbYV0sdGhpcy5fdG9FbE9wdGlvbkxpc3RbYV0uc3R5bGUpLG8ucHVzaChzKX12YXIgbD10aGlzLl9nZXRPckNyZWF0ZU1vcnBoQ29uZmlnKHRoaXMuX3RvRGF0YUluZGljZXNbdF0pO2lmKGwuZHVyYXRpb24mJmkpe3ZhciB1PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89ZS5sZW5ndGgsYT1uP24uZGl2aWRpbmdNZXRob2Q6bnVsbCxzPSExO2lmKHprKHQpKXt2YXIgbD10Ll9fY29tYmluaW5nU3ViTGlzdDtsLmxlbmd0aD09PW8/cj1sOihyPVlrKHQsbyxhKSxzPSEwKX1lbHNlIHI9WWsodCxvLGEpLHM9ITA7cnQoci5sZW5ndGg9PT1vKTtmb3IodmFyIHU9MDt1PG87dSsrKXMmJmkmJmkodCxyW3VdLCExKSxPayhyW3VdLGVbdV0sbik7cmV0dXJue2Zyb21JbmRpdmlkdWFsczpyLHRvSW5kaXZpZHVhbHM6ZSxjb3VudDpvfX0oaSxvLGwsWVApO3RoaXMuX3Byb2Nlc3NSZXN1bHRJbmRpdmlkdWFscyh1LHQsZSl9fSx0LnByb3RvdHlwZS5fcHJvY2Vzc1Jlc3VsdEluZGl2aWR1YWxzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9bnVsbCE9bixyPTA7cjx0LmNvdW50O3IrKyl7dmFyIG89dC5mcm9tSW5kaXZpZHVhbHNbcl0sYT10LnRvSW5kaXZpZHVhbHNbcl0scz1lKyhpP3I6MCksbD10aGlzLl90b0VsT3B0aW9uTGlzdFtzXSx1PXRoaXMuX3RvRGF0YUluZGljZXNbc10saD17fTt5UChhLG8sbCxoLCExKSx2UChhLG8sbCxsLnN0eWxlLGgsITEpLGRQKGEsdSxsLHRoaXMuX3Nlcmllc01vZGVsLGgsITEpfX0sdC5wcm90b3R5cGUuX2dldE9yQ3JlYXRlTW9ycGhDb25maWc9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI9dGhpcy5fbW9ycGhDb25maWdMaXN0LG89clt0XTtpZihvKXJldHVybiBvO3ZhciBhPXRoaXMuX3Nlcmllc01vZGVsLHM9dGhpcy5fdHJhbnNPcHQ7aWYoYS5pc0FuaW1hdGlvbkVuYWJsZWQoKSl7dmFyIGw9dm9pZCAwO2lmKGEmJmEuZWNNb2RlbCl7dmFyIHU9YS5lY01vZGVsLmdldFVwZGF0ZVBheWxvYWQoKTtsPXUmJnUuYW5pbWF0aW9ufWlmKGwpZT1sLmR1cmF0aW9ufHwwLG49bC5lYXNpbmd8fFwiY3ViaWNPdXRcIixpPWwuZGVsYXl8fDA7ZWxzZXtuPWEuZ2V0KFwiYW5pbWF0aW9uRWFzaW5nVXBkYXRlXCIpO3ZhciBoPWEuZ2V0KFwiYW5pbWF0aW9uRGVsYXlVcGRhdGVcIik7aT1HKGgpP2godCk6aDt2YXIgYz1hLmdldChcImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlXCIpO2U9RyhjKT9jKHQpOmN9fXJldHVybiBvPXtkdXJhdGlvbjplfHwwLGRlbGF5OmksZWFzaW5nOm4sZGl2aWRpbmdNZXRob2Q6cz9zLmRpdmlkaW5nTWV0aG9kOm51bGx9LHJbdF09byxvfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt0aGlzLl90eXBlPXQsdGhpcy5fZnJvbUxpc3QubGVuZ3RoPXRoaXMuX3RvTGlzdC5sZW5ndGg9dGhpcy5fdG9FbE9wdGlvbkxpc3QubGVuZ3RoPXRoaXMuX2FsbFByb3BzRmluYWxMaXN0Lmxlbmd0aD10aGlzLl90b0RhdGFJbmRpY2VzLmxlbmd0aD0wfSx0fSgpO2Z1bmN0aW9uIFlQKHQsZSxuKXtlLnN0eWxlPW4/dyh0LnN0eWxlKTp0LnN0eWxlLGUuemxldmVsPXQuemxldmVsLGUuej10LnosZS56Mj10LnoyfXZhciBYUD1McigpLFVQPXcsWlA9QixqUD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLmFuaW1hdGlvblRocmVzaG9sZD0xNX1yZXR1cm4gdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuZ2V0KFwidmFsdWVcIiksbz1lLmdldChcInN0YXR1c1wiKTtpZih0aGlzLl9heGlzTW9kZWw9dCx0aGlzLl9heGlzUG9pbnRlck1vZGVsPWUsdGhpcy5fYXBpPW4saXx8dGhpcy5fbGFzdFZhbHVlIT09cnx8dGhpcy5fbGFzdFN0YXR1cyE9PW8pe3RoaXMuX2xhc3RWYWx1ZT1yLHRoaXMuX2xhc3RTdGF0dXM9bzt2YXIgYT10aGlzLl9ncm91cCxzPXRoaXMuX2hhbmRsZTtpZighb3x8XCJoaWRlXCI9PT1vKXJldHVybiBhJiZhLmhpZGUoKSx2b2lkKHMmJnMuaGlkZSgpKTthJiZhLnNob3coKSxzJiZzLnNob3coKTt2YXIgbD17fTt0aGlzLm1ha2VFbE9wdGlvbihsLHIsdCxlLG4pO3ZhciB1PWwuZ3JhcGhpY0tleTt1IT09dGhpcy5fbGFzdEdyYXBoaWNLZXkmJnRoaXMuY2xlYXIobiksdGhpcy5fbGFzdEdyYXBoaWNLZXk9dTt2YXIgaD10aGlzLl9tb3ZlQW5pbWF0aW9uPXRoaXMuZGV0ZXJtaW5lQW5pbWF0aW9uKHQsZSk7aWYoYSl7dmFyIGM9VihxUCxlLGgpO3RoaXMudXBkYXRlUG9pbnRlckVsKGEsbCxjKSx0aGlzLnVwZGF0ZUxhYmVsRWwoYSxsLGMsZSl9ZWxzZSBhPXRoaXMuX2dyb3VwPW5ldyB6aSx0aGlzLmNyZWF0ZVBvaW50ZXJFbChhLGwsdCxlKSx0aGlzLmNyZWF0ZUxhYmVsRWwoYSxsLHQsZSksbi5nZXRacigpLmFkZChhKTtRUChhLGUsITApLHRoaXMuX3JlbmRlckhhbmRsZShyKX19LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLmNsZWFyKHQpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIodCl9LHQucHJvdG90eXBlLmRldGVybWluZUFuaW1hdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0KFwiYW5pbWF0aW9uXCIpLGk9dC5heGlzLHI9XCJjYXRlZ29yeVwiPT09aS50eXBlLG89ZS5nZXQoXCJzbmFwXCIpO2lmKCFvJiYhcilyZXR1cm4hMTtpZihcImF1dG9cIj09PW58fG51bGw9PW4pe3ZhciBhPXRoaXMuYW5pbWF0aW9uVGhyZXNob2xkO2lmKHImJmkuZ2V0QmFuZFdpZHRoKCk+YSlyZXR1cm4hMDtpZihvKXt2YXIgcz1fUyh0KS5zZXJpZXNEYXRhQ291bnQsbD1pLmdldEV4dGVudCgpO3JldHVybiBNYXRoLmFicyhsWzBdLWxbMV0pL3M+YX1yZXR1cm4hMX1yZXR1cm4hMD09PW59LHQucHJvdG90eXBlLm1ha2VFbE9wdGlvbj1mdW5jdGlvbih0LGUsbixpLHIpe30sdC5wcm90b3R5cGUuY3JlYXRlUG9pbnRlckVsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUucG9pbnRlcjtpZihyKXt2YXIgbz1YUCh0KS5wb2ludGVyRWw9bmV3IEt1W3IudHlwZV0oVVAoZS5wb2ludGVyKSk7dC5hZGQobyl9fSx0LnByb3RvdHlwZS5jcmVhdGVMYWJlbEVsPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKGUubGFiZWwpe3ZhciByPVhQKHQpLmxhYmVsRWw9bmV3IGxzKFVQKGUubGFiZWwpKTt0LmFkZChyKSwkUChyLGkpfX0sdC5wcm90b3R5cGUudXBkYXRlUG9pbnRlckVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1YUCh0KS5wb2ludGVyRWw7aSYmZS5wb2ludGVyJiYoaS5zZXRTdHlsZShlLnBvaW50ZXIuc3R5bGUpLG4oaSx7c2hhcGU6ZS5wb2ludGVyLnNoYXBlfSkpfSx0LnByb3RvdHlwZS51cGRhdGVMYWJlbEVsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPVhQKHQpLmxhYmVsRWw7ciYmKHIuc2V0U3R5bGUoZS5sYWJlbC5zdHlsZSksbihyLHt4OmUubGFiZWwueCx5OmUubGFiZWwueX0pLCRQKHIsaSkpfSx0LnByb3RvdHlwZS5fcmVuZGVySGFuZGxlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9kcmFnZ2luZyYmdGhpcy51cGRhdGVIYW5kbGVUcmFuc2Zvcm0pe3ZhciBlLG49dGhpcy5fYXhpc1BvaW50ZXJNb2RlbCxpPXRoaXMuX2FwaS5nZXRacigpLHI9dGhpcy5faGFuZGxlLG89bi5nZXRNb2RlbChcImhhbmRsZVwiKSxhPW4uZ2V0KFwic3RhdHVzXCIpO2lmKCFvLmdldChcInNob3dcIil8fCFhfHxcImhpZGVcIj09PWEpcmV0dXJuIHImJmkucmVtb3ZlKHIpLHZvaWQodGhpcy5faGFuZGxlPW51bGwpO3RoaXMuX2hhbmRsZXx8KGU9ITAscj10aGlzLl9oYW5kbGU9VXUoby5nZXQoXCJpY29uXCIpLHtjdXJzb3I6XCJtb3ZlXCIsZHJhZ2dhYmxlOiEwLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe2VlKHQuZXZlbnQpfSxvbm1vdXNlZG93bjpaUCh0aGlzLl9vbkhhbmRsZURyYWdNb3ZlLHRoaXMsMCwwKSxkcmlmdDpaUCh0aGlzLl9vbkhhbmRsZURyYWdNb3ZlLHRoaXMpLG9uZHJhZ2VuZDpaUCh0aGlzLl9vbkhhbmRsZURyYWdFbmQsdGhpcyl9KSxpLmFkZChyKSksUVAocixuLCExKSxyLnNldFN0eWxlKG8uZ2V0SXRlbVN0eWxlKG51bGwsW1wiY29sb3JcIixcImJvcmRlckNvbG9yXCIsXCJib3JkZXJXaWR0aFwiLFwib3BhY2l0eVwiLFwic2hhZG93Q29sb3JcIixcInNoYWRvd0JsdXJcIixcInNoYWRvd09mZnNldFhcIixcInNoYWRvd09mZnNldFlcIl0pKTt2YXIgcz1vLmdldChcInNpemVcIik7RihzKXx8KHM9W3Msc10pLHIuc2NhbGVYPXNbMF0vMixyLnNjYWxlWT1zWzFdLzIsVGYodGhpcyxcIl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXJcIixvLmdldChcInRocm90dGxlXCIpfHwwLFwiZml4UmF0ZVwiKSx0aGlzLl9tb3ZlSGFuZGxlVG9WYWx1ZSh0LGUpfX0sdC5wcm90b3R5cGUuX21vdmVIYW5kbGVUb1ZhbHVlPWZ1bmN0aW9uKHQsZSl7cVAodGhpcy5fYXhpc1BvaW50ZXJNb2RlbCwhZSYmdGhpcy5fbW92ZUFuaW1hdGlvbix0aGlzLl9oYW5kbGUsSlAodGhpcy5nZXRIYW5kbGVUcmFuc2Zvcm0odCx0aGlzLl9heGlzTW9kZWwsdGhpcy5fYXhpc1BvaW50ZXJNb2RlbCkpKX0sdC5wcm90b3R5cGUuX29uSGFuZGxlRHJhZ01vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9oYW5kbGU7aWYobil7dGhpcy5fZHJhZ2dpbmc9ITA7dmFyIGk9dGhpcy51cGRhdGVIYW5kbGVUcmFuc2Zvcm0oSlAobiksW3QsZV0sdGhpcy5fYXhpc01vZGVsLHRoaXMuX2F4aXNQb2ludGVyTW9kZWwpO3RoaXMuX3BheWxvYWRJbmZvPWksbi5zdG9wQW5pbWF0aW9uKCksbi5hdHRyKEpQKGkpKSxYUChuKS5sYXN0UHJvcD1udWxsLHRoaXMuX2RvRGlzcGF0Y2hBeGlzUG9pbnRlcigpfX0sdC5wcm90b3R5cGUuX2RvRGlzcGF0Y2hBeGlzUG9pbnRlcj1mdW5jdGlvbigpe2lmKHRoaXMuX2hhbmRsZSl7dmFyIHQ9dGhpcy5fcGF5bG9hZEluZm8sZT10aGlzLl9heGlzTW9kZWw7dGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwidXBkYXRlQXhpc1BvaW50ZXJcIix4OnQuY3Vyc29yUG9pbnRbMF0seTp0LmN1cnNvclBvaW50WzFdLHRvb2x0aXBPcHRpb246dC50b29sdGlwT3B0aW9uLGF4ZXNJbmZvOlt7YXhpc0RpbTplLmF4aXMuZGltLGF4aXNJbmRleDplLmNvbXBvbmVudEluZGV4fV19KX19LHQucHJvdG90eXBlLl9vbkhhbmRsZURyYWdFbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl9oYW5kbGUpe3ZhciB0PXRoaXMuX2F4aXNQb2ludGVyTW9kZWwuZ2V0KFwidmFsdWVcIik7dGhpcy5fbW92ZUhhbmRsZVRvVmFsdWUodCksdGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiaGlkZVRpcFwifSl9fSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0KXt0aGlzLl9sYXN0VmFsdWU9bnVsbCx0aGlzLl9sYXN0U3RhdHVzPW51bGw7dmFyIGU9dC5nZXRacigpLG49dGhpcy5fZ3JvdXAsaT10aGlzLl9oYW5kbGU7ZSYmbiYmKHRoaXMuX2xhc3RHcmFwaGljS2V5PW51bGwsbiYmZS5yZW1vdmUobiksaSYmZS5yZW1vdmUoaSksdGhpcy5fZ3JvdXA9bnVsbCx0aGlzLl9oYW5kbGU9bnVsbCx0aGlzLl9wYXlsb2FkSW5mbz1udWxsKX0sdC5wcm90b3R5cGUuZG9DbGVhcj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuYnVpbGRMYWJlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJue3g6dFtuPW58fDBdLHk6dFsxLW5dLHdpZHRoOmVbbl0saGVpZ2h0OmVbMS1uXX19LHR9KCk7ZnVuY3Rpb24gcVAodCxlLG4saSl7S1AoWFAobikubGFzdFByb3AsaSl8fChYUChuKS5sYXN0UHJvcD1pLGU/T3UobixpLHQpOihuLnN0b3BBbmltYXRpb24oKSxuLmF0dHIoaSkpKX1mdW5jdGlvbiBLUCh0LGUpe2lmKFgodCkmJlgoZSkpe3ZhciBuPSEwO3JldHVybiBQKGUsKGZ1bmN0aW9uKGUsaSl7bj1uJiZLUCh0W2ldLGUpfSkpLCEhbn1yZXR1cm4gdD09PWV9ZnVuY3Rpb24gJFAodCxlKXt0W2UuZ2V0KFtcImxhYmVsXCIsXCJzaG93XCJdKT9cInNob3dcIjpcImhpZGVcIl0oKX1mdW5jdGlvbiBKUCh0KXtyZXR1cm57eDp0Lnh8fDAseTp0Lnl8fDAscm90YXRpb246dC5yb3RhdGlvbnx8MH19ZnVuY3Rpb24gUVAodCxlLG4pe3ZhciBpPWUuZ2V0KFwielwiKSxyPWUuZ2V0KFwiemxldmVsXCIpO3QmJnQudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe1wiZ3JvdXBcIiE9PXQudHlwZSYmKG51bGwhPWkmJih0Lno9aSksbnVsbCE9ciYmKHQuemxldmVsPXIpLHQuc2lsZW50PW4pfSkpfWZ1bmN0aW9uIHRPKHQpe3ZhciBlLG49dC5nZXQoXCJ0eXBlXCIpLGk9dC5nZXRNb2RlbChuK1wiU3R5bGVcIik7cmV0dXJuXCJsaW5lXCI9PT1uPyhlPWkuZ2V0TGluZVN0eWxlKCkpLmZpbGw9bnVsbDpcInNoYWRvd1wiPT09biYmKChlPWkuZ2V0QXJlYVN0eWxlKCkpLnN0cm9rZT1udWxsKSxlfWZ1bmN0aW9uIGVPKHQsZSxuLGkscil7dmFyIG89bk8obi5nZXQoXCJ2YWx1ZVwiKSxlLmF4aXMsZS5lY01vZGVsLG4uZ2V0KFwic2VyaWVzRGF0YUluZGljZXNcIikse3ByZWNpc2lvbjpuLmdldChbXCJsYWJlbFwiLFwicHJlY2lzaW9uXCJdKSxmb3JtYXR0ZXI6bi5nZXQoW1wibGFiZWxcIixcImZvcm1hdHRlclwiXSl9KSxhPW4uZ2V0TW9kZWwoXCJsYWJlbFwiKSxzPXBjKGEuZ2V0KFwicGFkZGluZ1wiKXx8MCksbD1hLmdldEZvbnQoKSx1PUZuKG8sbCksaD1yLnBvc2l0aW9uLGM9dS53aWR0aCtzWzFdK3NbM10scD11LmhlaWdodCtzWzBdK3NbMl0sZD1yLmFsaWduO1wicmlnaHRcIj09PWQmJihoWzBdLT1jKSxcImNlbnRlclwiPT09ZCYmKGhbMF0tPWMvMik7dmFyIGY9ci52ZXJ0aWNhbEFsaWduO1wiYm90dG9tXCI9PT1mJiYoaFsxXS09cCksXCJtaWRkbGVcIj09PWYmJihoWzFdLT1wLzIpLGZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWkuZ2V0V2lkdGgoKSxvPWkuZ2V0SGVpZ2h0KCk7dFswXT1NYXRoLm1pbih0WzBdK2UsciktZSx0WzFdPU1hdGgubWluKHRbMV0rbixvKS1uLHRbMF09TWF0aC5tYXgodFswXSwwKSx0WzFdPU1hdGgubWF4KHRbMV0sMCl9KGgsYyxwLGkpO3ZhciBnPWEuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpO2cmJlwiYXV0b1wiIT09Z3x8KGc9ZS5nZXQoW1wiYXhpc0xpbmVcIixcImxpbmVTdHlsZVwiLFwiY29sb3JcIl0pKSx0LmxhYmVsPXt4OmhbMF0seTpoWzFdLHN0eWxlOm5oKGEse3RleHQ6byxmb250OmwsZmlsbDphLmdldFRleHRDb2xvcigpLHBhZGRpbmc6cyxiYWNrZ3JvdW5kQ29sb3I6Z30pLHoyOjEwfX1mdW5jdGlvbiBuTyh0LGUsbixpLHIpe3Q9ZS5zY2FsZS5wYXJzZSh0KTt2YXIgbz1lLnNjYWxlLmdldExhYmVsKHt2YWx1ZTp0fSx7cHJlY2lzaW9uOnIucHJlY2lzaW9ufSksYT1yLmZvcm1hdHRlcjtpZihhKXt2YXIgcz17dmFsdWU6V18oZSx7dmFsdWU6dH0pLGF4aXNEaW1lbnNpb246ZS5kaW0sYXhpc0luZGV4OmUuaW5kZXgsc2VyaWVzRGF0YTpbXX07UChpLChmdW5jdGlvbih0KXt2YXIgZT1uLmdldFNlcmllc0J5SW5kZXgodC5zZXJpZXNJbmRleCksaT10LmRhdGFJbmRleEluc2lkZSxyPWUmJmUuZ2V0RGF0YVBhcmFtcyhpKTtyJiZzLnNlcmllc0RhdGEucHVzaChyKX0pKSxIKGEpP289YS5yZXBsYWNlKFwie3ZhbHVlfVwiLG8pOkcoYSkmJihvPWEocykpfXJldHVybiBvfWZ1bmN0aW9uIGlPKHQsZSxuKXt2YXIgaT1bMSwwLDAsMSwwLDBdO3JldHVybiBfZShpLGksbi5yb3RhdGlvbiksbWUoaSxpLG4ucG9zaXRpb24pLEZ1KFt0LmRhdGFUb0Nvb3JkKGUpLChuLmxhYmVsT2Zmc2V0fHwwKSsobi5sYWJlbERpcmVjdGlvbnx8MSkqKG4ubGFiZWxNYXJnaW58fDApXSxpKX1mdW5jdGlvbiByTyh0LGUsbixpLHIsbyl7dmFyIGE9aFMuaW5uZXJUZXh0TGF5b3V0KG4ucm90YXRpb24sMCxuLmxhYmVsRGlyZWN0aW9uKTtuLmxhYmVsTWFyZ2luPXIuZ2V0KFtcImxhYmVsXCIsXCJtYXJnaW5cIl0pLGVPKGUsaSxyLG8se3Bvc2l0aW9uOmlPKGkuYXhpcyx0LG4pLGFsaWduOmEudGV4dEFsaWduLHZlcnRpY2FsQWxpZ246YS50ZXh0VmVydGljYWxBbGlnbn0pfWZ1bmN0aW9uIG9PKHQsZSxuKXtyZXR1cm57eDE6dFtuPW58fDBdLHkxOnRbMS1uXSx4MjplW25dLHkyOmVbMS1uXX19ZnVuY3Rpb24gYU8odCxlLG4pe3JldHVybnt4OnRbbj1ufHwwXSx5OnRbMS1uXSx3aWR0aDplW25dLGhlaWdodDplWzEtbl19fWZ1bmN0aW9uIHNPKHQsZSxuLGkscixvKXtyZXR1cm57Y3g6dCxjeTplLHIwOm4scjppLHN0YXJ0QW5nbGU6cixlbmRBbmdsZTpvLGNsb2Nrd2lzZTohMH19dmFyIGxPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9by5ncmlkLHM9aS5nZXQoXCJ0eXBlXCIpLGw9dU8oYSxvKS5nZXRPdGhlckF4aXMobykuZ2V0R2xvYmFsRXh0ZW50KCksdT1vLnRvR2xvYmFsQ29vcmQoby5kYXRhVG9Db29yZChlLCEwKSk7aWYocyYmXCJub25lXCIhPT1zKXt2YXIgaD10TyhpKSxjPWhPW3NdKG8sdSxsKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y31yTyhlLHQsblMoYS5tb2RlbCxuKSxuLGkscil9LGUucHJvdG90eXBlLmdldEhhbmRsZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7dmFyIGk9blMoZS5heGlzLmdyaWQubW9kZWwsZSx7bGFiZWxJbnNpZGU6ITF9KTtpLmxhYmVsTWFyZ2luPW4uZ2V0KFtcImhhbmRsZVwiLFwibWFyZ2luXCJdKTt2YXIgcj1pTyhlLmF4aXMsdCxpKTtyZXR1cm57eDpyWzBdLHk6clsxXSxyb3RhdGlvbjppLnJvdGF0aW9uKyhpLmxhYmVsRGlyZWN0aW9uPDA/TWF0aC5QSTowKX19LGUucHJvdG90eXBlLnVwZGF0ZUhhbmRsZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMsbz1yLmdyaWQsYT1yLmdldEdsb2JhbEV4dGVudCghMCkscz11TyhvLHIpLmdldE90aGVyQXhpcyhyKS5nZXRHbG9iYWxFeHRlbnQoKSxsPVwieFwiPT09ci5kaW0/MDoxLHU9W3QueCx0LnldO3VbbF0rPWVbbF0sdVtsXT1NYXRoLm1pbihhWzFdLHVbbF0pLHVbbF09TWF0aC5tYXgoYVswXSx1W2xdKTt2YXIgaD0oc1sxXStzWzBdKS8yLGM9W2gsaF07Y1tsXT11W2xdO3JldHVybnt4OnVbMF0seTp1WzFdLHJvdGF0aW9uOnQucm90YXRpb24sY3Vyc29yUG9pbnQ6Yyx0b29sdGlwT3B0aW9uOlt7dmVydGljYWxBbGlnbjpcIm1pZGRsZVwifSx7YWxpZ246XCJjZW50ZXJcIn1dW2xdfX0sZX0oalApO2Z1bmN0aW9uIHVPKHQsZSl7dmFyIG49e307cmV0dXJuIG5bZS5kaW0rXCJBeGlzSW5kZXhcIl09ZS5pbmRleCx0LmdldENhcnRlc2lhbihuKX12YXIgaE89e2xpbmU6ZnVuY3Rpb24odCxlLG4pe3JldHVybnt0eXBlOlwiTGluZVwiLHN1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6b08oW2UsblswXV0sW2UsblsxXV0sY08odCkpfX0sc2hhZG93OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLHI9blsxXS1uWzBdO3JldHVybnt0eXBlOlwiUmVjdFwiLHNoYXBlOmFPKFtlLWkvMixuWzBdXSxbaSxyXSxjTyh0KSl9fX07ZnVuY3Rpb24gY08odCl7cmV0dXJuXCJ4XCI9PT10LmRpbT8wOjF9dmFyIHBPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT1cImF4aXNQb2ludGVyXCIsZS5kZWZhdWx0T3B0aW9uPXtzaG93OlwiYXV0b1wiLHpsZXZlbDowLHo6NTAsdHlwZTpcImxpbmVcIixzbmFwOiExLHRyaWdnZXJUb29sdGlwOiEwLHZhbHVlOm51bGwsc3RhdHVzOm51bGwsbGluazpbXSxhbmltYXRpb246bnVsbCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZToyMDAsbGluZVN0eWxlOntjb2xvcjpcIiNCOUJFQzlcIix3aWR0aDoxLHR5cGU6XCJkYXNoZWRcIn0sc2hhZG93U3R5bGU6e2NvbG9yOlwicmdiYSgyMTAsMjE5LDIzOCwwLjIpXCJ9LGxhYmVsOntzaG93OiEwLGZvcm1hdHRlcjpudWxsLHByZWNpc2lvbjpcImF1dG9cIixtYXJnaW46Myxjb2xvcjpcIiNmZmZcIixwYWRkaW5nOls1LDcsNSw3XSxiYWNrZ3JvdW5kQ29sb3I6XCJhdXRvXCIsYm9yZGVyQ29sb3I6bnVsbCxib3JkZXJXaWR0aDowLGJvcmRlclJhZGl1czozfSxoYW5kbGU6e3Nob3c6ITEsaWNvbjpcIk0xMC43LDExLjl2LTEuM0g5LjN2MS4zYy00LjksMC4zLTguOCw0LjQtOC44LDkuNGMwLDUsMy45LDkuMSw4LjgsOS40aDEuM2M0LjktMC4zLDguOC00LjQsOC44LTkuNEMxOS41LDE2LjMsMTUuNiwxMi4yLDEwLjcsMTEuOXogTTEzLjMsMjQuNEg2Ljd2LTEuMmg2LjZ6IE0xMy4zLDIySDYuN3YtMS4yaDYuNnogTTEzLjMsMTkuNkg2Ljd2LTEuMmg2LjZ6XCIsc2l6ZTo0NSxtYXJnaW46NTAsY29sb3I6XCIjMzMzXCIsc2hhZG93Qmx1cjozLHNoYWRvd0NvbG9yOlwiI2FhYVwiLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjIsdGhyb3R0bGU6NDB9fSxlfShOYyksZE89THIoKSxmTz1QO2Z1bmN0aW9uIGdPKHQsZSxuKXtpZighYS5ub2RlKXt2YXIgaT1lLmdldFpyKCk7ZE8oaSkucmVjb3Jkc3x8KGRPKGkpLnJlY29yZHM9e30pLGZ1bmN0aW9uKHQsZSl7aWYoZE8odCkuaW5pdGlhbGl6ZWQpcmV0dXJuO2Z1bmN0aW9uIG4obixpKXt0Lm9uKG4sKGZ1bmN0aW9uKG4pe3ZhciByPWZ1bmN0aW9uKHQpe3ZhciBlPXtzaG93VGlwOltdLGhpZGVUaXA6W119LG49ZnVuY3Rpb24oaSl7dmFyIHI9ZVtpLnR5cGVdO3I/ci5wdXNoKGkpOihpLmRpc3BhdGNoQWN0aW9uPW4sdC5kaXNwYXRjaEFjdGlvbihpKSl9O3JldHVybntkaXNwYXRjaEFjdGlvbjpuLHBlbmRpbmdzOmV9fShlKTtmTyhkTyh0KS5yZWNvcmRzLChmdW5jdGlvbih0KXt0JiZpKHQsbixyLmRpc3BhdGNoQWN0aW9uKX0pKSxmdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5zaG93VGlwLmxlbmd0aCxyPXQuaGlkZVRpcC5sZW5ndGg7aT9uPXQuc2hvd1RpcFtpLTFdOnImJihuPXQuaGlkZVRpcFtyLTFdKTtuJiYobi5kaXNwYXRjaEFjdGlvbj1udWxsLGUuZGlzcGF0Y2hBY3Rpb24obikpfShyLnBlbmRpbmdzLGUpfSkpfWRPKHQpLmluaXRpYWxpemVkPSEwLG4oXCJjbGlja1wiLFYodk8sXCJjbGlja1wiKSksbihcIm1vdXNlbW92ZVwiLFYodk8sXCJtb3VzZW1vdmVcIikpLG4oXCJnbG9iYWxvdXRcIix5Tyl9KGksZSksKGRPKGkpLnJlY29yZHNbdF18fChkTyhpKS5yZWNvcmRzW3RdPXt9KSkuaGFuZGxlcj1ufX1mdW5jdGlvbiB5Tyh0LGUsbil7dC5oYW5kbGVyKFwibGVhdmVcIixudWxsLG4pfWZ1bmN0aW9uIHZPKHQsZSxuLGkpe2UuaGFuZGxlcih0LG4saSl9ZnVuY3Rpb24gbU8odCxlKXtpZighYS5ub2RlKXt2YXIgbj1lLmdldFpyKCk7KGRPKG4pLnJlY29yZHN8fHt9KVt0XSYmKGRPKG4pLnJlY29yZHNbdF09bnVsbCl9fXZhciBfTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0Q29tcG9uZW50KFwidG9vbHRpcFwiKSxyPXQuZ2V0KFwidHJpZ2dlck9uXCIpfHxpJiZpLmdldChcInRyaWdnZXJPblwiKXx8XCJtb3VzZW1vdmV8Y2xpY2tcIjtnTyhcImF4aXNQb2ludGVyXCIsbiwoZnVuY3Rpb24odCxlLG4pe1wibm9uZVwiIT09ciYmKFwibGVhdmVcIj09PXR8fHIuaW5kZXhPZih0KT49MCkmJm4oe3R5cGU6XCJ1cGRhdGVBeGlzUG9pbnRlclwiLGN1cnJUcmlnZ2VyOnQseDplJiZlLm9mZnNldFgseTplJiZlLm9mZnNldFl9KX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7bU8oXCJheGlzUG9pbnRlclwiLGUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7bU8oXCJheGlzUG9pbnRlclwiLGUpfSxlLnR5cGU9XCJheGlzUG9pbnRlclwiLGV9KHBmKTtmdW5jdGlvbiB4Tyh0LGUpe3ZhciBuLGk9W10scj10LnNlcmllc0luZGV4O2lmKG51bGw9PXJ8fCEobj1lLmdldFNlcmllc0J5SW5kZXgocikpKXJldHVybntwb2ludDpbXX07dmFyIG89bi5nZXREYXRhKCksYT1EcihvLHQpO2lmKG51bGw9PWF8fGE8MHx8RihhKSlyZXR1cm57cG9pbnQ6W119O3ZhciBzPW8uZ2V0SXRlbUdyYXBoaWNFbChhKSxsPW4uY29vcmRpbmF0ZVN5c3RlbTtpZihuLmdldFRvb2x0aXBQb3NpdGlvbilpPW4uZ2V0VG9vbHRpcFBvc2l0aW9uKGEpfHxbXTtlbHNlIGlmKGwmJmwuZGF0YVRvUG9pbnQpaWYodC5pc1N0YWNrZWQpe3ZhciB1PWwuZ2V0QmFzZUF4aXMoKSxoPWwuZ2V0T3RoZXJBeGlzKHUpLmRpbSxjPXUuZGltLHA9XCJ4XCI9PT1ofHxcInJhZGl1c1wiPT09aD8xOjAsZD1vLm1hcERpbWVuc2lvbihjKSxmPVtdO2ZbcF09by5nZXQoZCxhKSxmWzEtcF09by5nZXQoby5nZXRDYWxjdWxhdGlvbkluZm8oXCJzdGFja1Jlc3VsdERpbWVuc2lvblwiKSxhKSxpPWwuZGF0YVRvUG9pbnQoZil8fFtdfWVsc2UgaT1sLmRhdGFUb1BvaW50KG8uZ2V0VmFsdWVzKE8obC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gby5tYXBEaW1lbnNpb24odCl9KSksYSkpfHxbXTtlbHNlIGlmKHMpe3ZhciBnPXMuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtnLmFwcGx5VHJhbnNmb3JtKHMudHJhbnNmb3JtKSxpPVtnLngrZy53aWR0aC8yLGcueStnLmhlaWdodC8yXX1yZXR1cm57cG9pbnQ6aSxlbDpzfX12YXIgYk89THIoKTtmdW5jdGlvbiB3Tyh0LGUsbil7dmFyIGk9dC5jdXJyVHJpZ2dlcixyPVt0LngsdC55XSxvPXQsYT10LmRpc3BhdGNoQWN0aW9ufHxCKG4uZGlzcGF0Y2hBY3Rpb24sbikscz1lLmdldENvbXBvbmVudChcImF4aXNQb2ludGVyXCIpLmNvb3JkU3lzQXhlc0luZm87aWYocyl7Q08ocikmJihyPXhPKHtzZXJpZXNJbmRleDpvLnNlcmllc0luZGV4LGRhdGFJbmRleDpvLmRhdGFJbmRleH0sZSkucG9pbnQpO3ZhciBsPUNPKHIpLHU9by5heGVzSW5mbyxoPXMuYXhlc0luZm8sYz1cImxlYXZlXCI9PT1pfHxDTyhyKSxwPXt9LGQ9e30sZj17bGlzdDpbXSxtYXA6e319LGc9e3Nob3dQb2ludGVyOlYoTU8sZCksc2hvd1Rvb2x0aXA6VihJTyxmKX07UChzLmNvb3JkU3lzTWFwLChmdW5jdGlvbih0LGUpe3ZhciBuPWx8fHQuY29udGFpblBvaW50KHIpO1Aocy5jb29yZFN5c0F4ZXNJbmZvW2VdLChmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpcyxvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjwodHx8W10pLmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoZS5heGlzLmRpbT09PWkuYXhpc0RpbSYmZS5heGlzLm1vZGVsLmNvbXBvbmVudEluZGV4PT09aS5heGlzSW5kZXgpcmV0dXJuIGl9fSh1LHQpO2lmKCFjJiZuJiYoIXV8fG8pKXt2YXIgYT1vJiZvLnZhbHVlO251bGwhPWF8fGx8fChhPWkucG9pbnRUb0RhdGEocikpLG51bGwhPWEmJlNPKHQsYSxnLCExLHApfX0pKX0pKTt2YXIgeT17fTtyZXR1cm4gUChoLChmdW5jdGlvbih0LGUpe3ZhciBuPXQubGlua0dyb3VwO24mJiFkW2VdJiZQKG4uYXhlc0luZm8sKGZ1bmN0aW9uKGUsaSl7dmFyIHI9ZFtpXTtpZihlIT09dCYmcil7dmFyIG89ci52YWx1ZTtuLm1hcHBlciYmKG89dC5heGlzLnNjYWxlLnBhcnNlKG4ubWFwcGVyKG8sVE8oZSksVE8odCkpKSkseVt0LmtleV09b319KSl9KSksUCh5LChmdW5jdGlvbih0LGUpe1NPKGhbZV0sdCxnLCEwLHApfSkpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmF4ZXNJbmZvPVtdO1AoZSwoZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmF4aXNQb2ludGVyTW9kZWwub3B0aW9uLG89dFtuXTtvPyghZS51c2VIYW5kbGUmJihyLnN0YXR1cz1cInNob3dcIiksci52YWx1ZT1vLnZhbHVlLHIuc2VyaWVzRGF0YUluZGljZXM9KG8ucGF5bG9hZEJhdGNofHxbXSkuc2xpY2UoKSk6IWUudXNlSGFuZGxlJiYoci5zdGF0dXM9XCJoaWRlXCIpLFwic2hvd1wiPT09ci5zdGF0dXMmJmkucHVzaCh7YXhpc0RpbTplLmF4aXMuZGltLGF4aXNJbmRleDplLmF4aXMubW9kZWwuY29tcG9uZW50SW5kZXgsdmFsdWU6ci52YWx1ZX0pfSkpfShkLGgscCksZnVuY3Rpb24odCxlLG4saSl7aWYoQ08oZSl8fCF0Lmxpc3QubGVuZ3RoKXJldHVybiB2b2lkIGkoe3R5cGU6XCJoaWRlVGlwXCJ9KTt2YXIgcj0oKHQubGlzdFswXS5kYXRhQnlBeGlzWzBdfHx7fSkuc2VyaWVzRGF0YUluZGljZXN8fFtdKVswXXx8e307aSh7dHlwZTpcInNob3dUaXBcIixlc2NhcGVDb25uZWN0OiEwLHg6ZVswXSx5OmVbMV0sdG9vbHRpcE9wdGlvbjpuLnRvb2x0aXBPcHRpb24scG9zaXRpb246bi5wb3NpdGlvbixkYXRhSW5kZXhJbnNpZGU6ci5kYXRhSW5kZXhJbnNpZGUsZGF0YUluZGV4OnIuZGF0YUluZGV4LHNlcmllc0luZGV4OnIuc2VyaWVzSW5kZXgsZGF0YUJ5Q29vcmRTeXM6dC5saXN0fSl9KGYscix0LGEpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmdldFpyKCkscj1cImF4aXNQb2ludGVyTGFzdEhpZ2hsaWdodHNcIixvPWJPKGkpW3JdfHx7fSxhPWJPKGkpW3JdPXt9O1AodCwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmF4aXNQb2ludGVyTW9kZWwub3B0aW9uO1wic2hvd1wiPT09bi5zdGF0dXMmJlAobi5zZXJpZXNEYXRhSW5kaWNlcywoZnVuY3Rpb24odCl7dmFyIGU9dC5zZXJpZXNJbmRleCtcIiB8IFwiK3QuZGF0YUluZGV4O2FbZV09dH0pKX0pKTt2YXIgcz1bXSxsPVtdO1AobywoZnVuY3Rpb24odCxlKXshYVtlXSYmbC5wdXNoKHQpfSkpLFAoYSwoZnVuY3Rpb24odCxlKXshb1tlXSYmcy5wdXNoKHQpfSkpLGwubGVuZ3RoJiZuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiZG93bnBsYXlcIixlc2NhcGVDb25uZWN0OiEwLG5vdEJsdXI6ITAsYmF0Y2g6bH0pLHMubGVuZ3RoJiZuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiaGlnaGxpZ2h0XCIsZXNjYXBlQ29ubmVjdDohMCxub3RCbHVyOiEwLGJhdGNoOnN9KX0oaCwwLG4pLHB9fWZ1bmN0aW9uIFNPKHQsZSxuLGkscil7dmFyIG89dC5heGlzO2lmKCFvLnNjYWxlLmlzQmxhbmsoKSYmby5jb250YWluRGF0YShlKSlpZih0Lmludm9sdmVTZXJpZXMpe3ZhciBhPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5heGlzLGk9bi5kaW0scj10LG89W10sYT1OdW1iZXIuTUFYX1ZBTFVFLHM9LTE7cmV0dXJuIFAoZS5zZXJpZXNNb2RlbHMsKGZ1bmN0aW9uKGUsbCl7dmFyIHUsaCxjPWUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbnNBbGwoaSk7aWYoZS5nZXRBeGlzVG9vbHRpcERhdGEpe3ZhciBwPWUuZ2V0QXhpc1Rvb2x0aXBEYXRhKGMsdCxuKTtoPXAuZGF0YUluZGljZXMsdT1wLm5lc3Rlc3RWYWx1ZX1lbHNle2lmKCEoaD1lLmdldERhdGEoKS5pbmRpY2VzT2ZOZWFyZXN0KGNbMF0sdCxcImNhdGVnb3J5XCI9PT1uLnR5cGU/LjU6bnVsbCkpLmxlbmd0aClyZXR1cm47dT1lLmdldERhdGEoKS5nZXQoY1swXSxoWzBdKX1pZihudWxsIT11JiZpc0Zpbml0ZSh1KSl7dmFyIGQ9dC11LGY9TWF0aC5hYnMoZCk7Zjw9YSYmKChmPGF8fGQ+PTAmJnM8MCkmJihhPWYscz1kLHI9dSxvLmxlbmd0aD0wKSxQKGgsKGZ1bmN0aW9uKHQpe28ucHVzaCh7c2VyaWVzSW5kZXg6ZS5zZXJpZXNJbmRleCxkYXRhSW5kZXhJbnNpZGU6dCxkYXRhSW5kZXg6ZS5nZXREYXRhKCkuZ2V0UmF3SW5kZXgodCl9KX0pKSl9fSkpLHtwYXlsb2FkQmF0Y2g6byxzbmFwVG9WYWx1ZTpyfX0oZSx0KSxzPWEucGF5bG9hZEJhdGNoLGw9YS5zbmFwVG9WYWx1ZTtzWzBdJiZudWxsPT1yLnNlcmllc0luZGV4JiZJKHIsc1swXSksIWkmJnQuc25hcCYmby5jb250YWluRGF0YShsKSYmbnVsbCE9bCYmKGU9bCksbi5zaG93UG9pbnRlcih0LGUscyksbi5zaG93VG9vbHRpcCh0LGEsbCl9ZWxzZSBuLnNob3dQb2ludGVyKHQsZSl9ZnVuY3Rpb24gTU8odCxlLG4saSl7dFtlLmtleV09e3ZhbHVlOm4scGF5bG9hZEJhdGNoOml9fWZ1bmN0aW9uIElPKHQsZSxuLGkpe3ZhciByPW4ucGF5bG9hZEJhdGNoLG89ZS5heGlzLGE9by5tb2RlbCxzPWUuYXhpc1BvaW50ZXJNb2RlbDtpZihlLnRyaWdnZXJUb29sdGlwJiZyLmxlbmd0aCl7dmFyIGw9ZS5jb29yZFN5cy5tb2RlbCx1PWJTKGwpLGg9dC5tYXBbdV07aHx8KGg9dC5tYXBbdV09e2Nvb3JkU3lzSWQ6bC5pZCxjb29yZFN5c0luZGV4OmwuY29tcG9uZW50SW5kZXgsY29vcmRTeXNUeXBlOmwudHlwZSxjb29yZFN5c01haW5UeXBlOmwubWFpblR5cGUsZGF0YUJ5QXhpczpbXX0sdC5saXN0LnB1c2goaCkpLGguZGF0YUJ5QXhpcy5wdXNoKHtheGlzRGltOm8uZGltLGF4aXNJbmRleDphLmNvbXBvbmVudEluZGV4LGF4aXNUeXBlOmEudHlwZSxheGlzSWQ6YS5pZCx2YWx1ZTppLHZhbHVlTGFiZWxPcHQ6e3ByZWNpc2lvbjpzLmdldChbXCJsYWJlbFwiLFwicHJlY2lzaW9uXCJdKSxmb3JtYXR0ZXI6cy5nZXQoW1wibGFiZWxcIixcImZvcm1hdHRlclwiXSl9LHNlcmllc0RhdGFJbmRpY2VzOnIuc2xpY2UoKX0pfX1mdW5jdGlvbiBUTyh0KXt2YXIgZT10LmF4aXMubW9kZWwsbj17fSxpPW4uYXhpc0RpbT10LmF4aXMuZGltO3JldHVybiBuLmF4aXNJbmRleD1uW2krXCJBeGlzSW5kZXhcIl09ZS5jb21wb25lbnRJbmRleCxuLmF4aXNOYW1lPW5baStcIkF4aXNOYW1lXCJdPWUubmFtZSxuLmF4aXNJZD1uW2krXCJBeGlzSWRcIl09ZS5pZCxufWZ1bmN0aW9uIENPKHQpe3JldHVybiF0fHxudWxsPT10WzBdfHxpc05hTih0WzBdKXx8bnVsbD09dFsxXXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gQU8odCl7U1MucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKFwiQ2FydGVzaWFuQXhpc1BvaW50ZXJcIixsTyksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKHBPKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhfTyksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7aWYodCl7KCF0LmF4aXNQb2ludGVyfHwwPT09dC5heGlzUG9pbnRlci5sZW5ndGgpJiYodC5heGlzUG9pbnRlcj17fSk7dmFyIGU9dC5heGlzUG9pbnRlci5saW5rO2UmJiFGKGUpJiYodC5heGlzUG9pbnRlci5saW5rPVtlXSl9fSkpLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuU1RBVElTVElDLChmdW5jdGlvbih0LGUpe3QuZ2V0Q29tcG9uZW50KFwiYXhpc1BvaW50ZXJcIikuY29vcmRTeXNBeGVzSW5mbz15Uyh0LGUpfSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJ1cGRhdGVBeGlzUG9pbnRlclwiLGV2ZW50OlwidXBkYXRlQXhpc1BvaW50ZXJcIix1cGRhdGU6XCI6dXBkYXRlQXhpc1BvaW50ZXJcIn0sd08pfXZhciBETz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm1ha2VFbE9wdGlvbj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uYXhpcztcImFuZ2xlXCI9PT1vLmRpbSYmKHRoaXMuYW5pbWF0aW9uVGhyZXNob2xkPU1hdGguUEkvMTgpO3ZhciBhPW8ucG9sYXIscz1hLmdldE90aGVyQXhpcyhvKS5nZXRFeHRlbnQoKSxsPW8uZGF0YVRvQ29vcmQoZSksdT1pLmdldChcInR5cGVcIik7aWYodSYmXCJub25lXCIhPT11KXt2YXIgaD10TyhpKSxjPUxPW3VdKG8sYSxsLHMpO2Muc3R5bGU9aCx0LmdyYXBoaWNLZXk9Yy50eXBlLHQucG9pbnRlcj1jfXZhciBwPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89ZS5heGlzLGE9by5kYXRhVG9Db29yZCh0KSxzPWkuZ2V0QW5nbGVBeGlzKCkuZ2V0RXh0ZW50KClbMF07cz1zLzE4MCpNYXRoLlBJO3ZhciBsLHUsaCxjPWkuZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpO2lmKFwicmFkaXVzXCI9PT1vLmRpbSl7dmFyIHA9WzEsMCwwLDEsMCwwXTtfZShwLHAscyksbWUocCxwLFtpLmN4LGkuY3ldKSxsPUZ1KFthLC1yXSxwKTt2YXIgZD1lLmdldE1vZGVsKFwiYXhpc0xhYmVsXCIpLmdldChcInJvdGF0ZVwiKXx8MCxmPWhTLmlubmVyVGV4dExheW91dChzLGQqTWF0aC5QSS8xODAsLTEpO3U9Zi50ZXh0QWxpZ24saD1mLnRleHRWZXJ0aWNhbEFsaWdufWVsc2V7dmFyIGc9Y1sxXTtsPWkuY29vcmRUb1BvaW50KFtnK3IsYV0pO3ZhciB5PWkuY3gsdj1pLmN5O3U9TWF0aC5hYnMobFswXS15KS9nPC4zP1wiY2VudGVyXCI6bFswXT55P1wibGVmdFwiOlwicmlnaHRcIixoPU1hdGguYWJzKGxbMV0tdikvZzwuMz9cIm1pZGRsZVwiOmxbMV0+dj9cInRvcFwiOlwiYm90dG9tXCJ9cmV0dXJue3Bvc2l0aW9uOmwsYWxpZ246dSx2ZXJ0aWNhbEFsaWduOmh9fShlLG4sMCxhLGkuZ2V0KFtcImxhYmVsXCIsXCJtYXJnaW5cIl0pKTtlTyh0LG4saSxyLHApfSxlfShqUCk7dmFyIExPPXtsaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVyblwiYW5nbGVcIj09PXQuZGltP3t0eXBlOlwiTGluZVwiLHNoYXBlOm9PKGUuY29vcmRUb1BvaW50KFtpWzBdLG5dKSxlLmNvb3JkVG9Qb2ludChbaVsxXSxuXSkpfTp7dHlwZTpcIkNpcmNsZVwiLHNoYXBlOntjeDplLmN4LGN5OmUuY3kscjpufX19LHNoYWRvdzpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLG89TWF0aC5QSS8xODA7cmV0dXJuXCJhbmdsZVwiPT09dC5kaW0/e3R5cGU6XCJTZWN0b3JcIixzaGFwZTpzTyhlLmN4LGUuY3ksaVswXSxpWzFdLCgtbi1yLzIpKm8sKHIvMi1uKSpvKX06e3R5cGU6XCJTZWN0b3JcIixzaGFwZTpzTyhlLmN4LGUuY3ksbi1yLzIsbityLzIsMCwyKk1hdGguUEkpfX19LGtPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmZpbmRBeGlzTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuZWNNb2RlbC5lYWNoQ29tcG9uZW50KHQsKGZ1bmN0aW9uKHQpe3QuZ2V0Q29vcmRTeXNNb2RlbCgpPT09dGhpcyYmKGU9dCl9KSx0aGlzKSxlfSxlLnR5cGU9XCJwb2xhclwiLGUuZGVwZW5kZW5jaWVzPVtcInJhZGl1c0F4aXNcIixcImFuZ2xlQXhpc1wiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MCxjZW50ZXI6W1wiNTAlXCIsXCI1MCVcIl0scmFkaXVzOlwiODAlXCJ9LGV9KE5jKSxQTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldENvb3JkU3lzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZWZlcnJpbmdDb21wb25lbnRzKFwicG9sYXJcIixPcikubW9kZWxzWzBdfSxlLnR5cGU9XCJwb2xhckF4aXNcIixlfShOYyk7TChQTyxqXyk7dmFyIE9PPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT1cImFuZ2xlQXhpc1wiLGV9KFBPKSxSTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9XCJyYWRpdXNBeGlzXCIsZX0oUE8pLE5PPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsXCJyYWRpdXNcIixlLG4pfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb2xhci5wb2ludFRvRGF0YSh0LGUpW1wicmFkaXVzXCI9PT10aGlzLmRpbT8wOjFdfSxlfSh2eCk7Tk8ucHJvdG90eXBlLmRhdGFUb1JhZGl1cz12eC5wcm90b3R5cGUuZGF0YVRvQ29vcmQsTk8ucHJvdG90eXBlLnJhZGl1c1RvRGF0YT12eC5wcm90b3R5cGUuY29vcmRUb0RhdGE7dmFyIEVPPUxyKCksek89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxcImFuZ2xlXCIsZSxufHxbMCwzNjBdKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucG9sYXIucG9pbnRUb0RhdGEodCxlKVtcInJhZGl1c1wiPT09dGhpcy5kaW0/MDoxXX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlQ2F0ZWdvcnlJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmdldExhYmVsTW9kZWwoKSxuPXQuc2NhbGUsaT1uLmdldEV4dGVudCgpLHI9bi5jb3VudCgpO2lmKGlbMV0taVswXTwxKXJldHVybiAwO3ZhciBvPWlbMF0sYT10LmRhdGFUb0Nvb3JkKG8rMSktdC5kYXRhVG9Db29yZChvKSxzPU1hdGguYWJzKGEpLGw9Rm4obnVsbD09bz9cIlwiOm8rXCJcIixlLmdldEZvbnQoKSxcImNlbnRlclwiLFwidG9wXCIpLHU9TWF0aC5tYXgobC5oZWlnaHQsNykvcztpc05hTih1KSYmKHU9MS8wKTt2YXIgaD1NYXRoLm1heCgwLE1hdGguZmxvb3IodSkpLGM9RU8odC5tb2RlbCkscD1jLmxhc3RBdXRvSW50ZXJ2YWwsZD1jLmxhc3RUaWNrQ291bnQ7cmV0dXJuIG51bGwhPXAmJm51bGwhPWQmJk1hdGguYWJzKHAtaCk8PTEmJk1hdGguYWJzKGQtcik8PTEmJnA+aD9oPXA6KGMubGFzdFRpY2tDb3VudD1yLGMubGFzdEF1dG9JbnRlcnZhbD1oKSxofSxlfSh2eCk7ek8ucHJvdG90eXBlLmRhdGFUb0FuZ2xlPXZ4LnByb3RvdHlwZS5kYXRhVG9Db29yZCx6Ty5wcm90b3R5cGUuYW5nbGVUb0RhdGE9dngucHJvdG90eXBlLmNvb3JkVG9EYXRhO3ZhciBCTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5kaW1lbnNpb25zPVtcInJhZGl1c1wiLFwiYW5nbGVcIl0sdGhpcy50eXBlPVwicG9sYXJcIix0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMuX3JhZGl1c0F4aXM9bmV3IE5PLHRoaXMuX2FuZ2xlQXhpcz1uZXcgek8sdGhpcy5heGlzUG9pbnRlckVuYWJsZWQ9ITAsdGhpcy5uYW1lPXR8fFwiXCIsdGhpcy5fcmFkaXVzQXhpcy5wb2xhcj10aGlzLl9hbmdsZUF4aXMucG9sYXI9dGhpc31yZXR1cm4gdC5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9pbnRUb0Nvb3JkKHQpO3JldHVybiB0aGlzLl9yYWRpdXNBeGlzLmNvbnRhaW4oZVswXSkmJnRoaXMuX2FuZ2xlQXhpcy5jb250YWluKGVbMV0pfSx0LnByb3RvdHlwZS5jb250YWluRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpcy5jb250YWluRGF0YSh0WzBdKSYmdGhpcy5fYW5nbGVBeGlzLmNvbnRhaW5EYXRhKHRbMV0pfSx0LnByb3RvdHlwZS5nZXRBeGlzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW1wiX1wiK3QrXCJBeGlzXCJdfSx0LnByb3RvdHlwZS5nZXRBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuX3JhZGl1c0F4aXMsdGhpcy5fYW5nbGVBeGlzXX0sdC5wcm90b3R5cGUuZ2V0QXhlc0J5U2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10aGlzLl9hbmdsZUF4aXMsaT10aGlzLl9yYWRpdXNBeGlzO3JldHVybiBuLnNjYWxlLnR5cGU9PT10JiZlLnB1c2gobiksaS5zY2FsZS50eXBlPT09dCYmZS5wdXNoKGkpLGV9LHQucHJvdG90eXBlLmdldEFuZ2xlQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmdsZUF4aXN9LHQucHJvdG90eXBlLmdldFJhZGl1c0F4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpc30sdC5wcm90b3R5cGUuZ2V0T3RoZXJBeGlzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2FuZ2xlQXhpcztyZXR1cm4gdD09PWU/dGhpcy5fcmFkaXVzQXhpczplfSx0LnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF4ZXNCeVNjYWxlKFwib3JkaW5hbFwiKVswXXx8dGhpcy5nZXRBeGVzQnlTY2FsZShcInRpbWVcIilbMF18fHRoaXMuZ2V0QW5nbGVBeGlzKCl9LHQucHJvdG90eXBlLmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGwhPXQmJlwiYXV0b1wiIT09dD90aGlzLmdldEF4aXModCk6dGhpcy5nZXRCYXNlQXhpcygpO3JldHVybntiYXNlQXhlczpbZV0sb3RoZXJBeGVzOlt0aGlzLmdldE90aGVyQXhpcyhlKV19fSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9Qb2ludChbdGhpcy5fcmFkaXVzQXhpcy5kYXRhVG9SYWRpdXModFswXSxlKSx0aGlzLl9hbmdsZUF4aXMuZGF0YVRvQW5nbGUodFsxXSxlKV0pfSx0LnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucG9pbnRUb0Nvb3JkKHQpO3JldHVyblt0aGlzLl9yYWRpdXNBeGlzLnJhZGl1c1RvRGF0YShuWzBdLGUpLHRoaXMuX2FuZ2xlQXhpcy5hbmdsZVRvRGF0YShuWzFdLGUpXX0sdC5wcm90b3R5cGUucG9pbnRUb0Nvb3JkPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0tdGhpcy5jeCxuPXRbMV0tdGhpcy5jeSxpPXRoaXMuZ2V0QW5nbGVBeGlzKCkscj1pLmdldEV4dGVudCgpLG89TWF0aC5taW4oclswXSxyWzFdKSxhPU1hdGgubWF4KHJbMF0sclsxXSk7aS5pbnZlcnNlP289YS0zNjA6YT1vKzM2MDt2YXIgcz1NYXRoLnNxcnQoZSplK24qbik7ZS89cyxuLz1zO2Zvcih2YXIgbD1NYXRoLmF0YW4yKC1uLGUpL01hdGguUEkqMTgwLHU9bDxvPzE6LTE7bDxvfHxsPmE7KWwrPTM2MCp1O3JldHVybltzLGxdfSx0LnByb3RvdHlwZS5jb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxuPXRbMV0vMTgwKk1hdGguUEk7cmV0dXJuW01hdGguY29zKG4pKmUrdGhpcy5jeCwtTWF0aC5zaW4obikqZSt0aGlzLmN5XX0sdC5wcm90b3R5cGUuZ2V0QXJlYT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0QW5nbGVBeGlzKCksZT10aGlzLmdldFJhZGl1c0F4aXMoKS5nZXRFeHRlbnQoKS5zbGljZSgpO2VbMF0+ZVsxXSYmZS5yZXZlcnNlKCk7dmFyIG49dC5nZXRFeHRlbnQoKSxpPU1hdGguUEkvMTgwO3JldHVybntjeDp0aGlzLmN4LGN5OnRoaXMuY3kscjA6ZVswXSxyOmVbMV0sc3RhcnRBbmdsZTotblswXSppLGVuZEFuZ2xlOi1uWzFdKmksY2xvY2t3aXNlOnQuaW52ZXJzZSxjb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC10aGlzLmN4LGk9ZS10aGlzLmN5LHI9bipuK2kqaSxvPXRoaXMucixhPXRoaXMucjA7cmV0dXJuIHI8PW8qbyYmcj49YSphfX19LHQucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gVk8oZSk9PT10aGlzP3RoaXMuZGF0YVRvUG9pbnQobik6bnVsbH0sdC5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFZPKGUpPT09dGhpcz90aGlzLnBvaW50VG9EYXRhKG4pOm51bGx9LHR9KCk7ZnVuY3Rpb24gVk8odCl7dmFyIGU9dC5zZXJpZXNNb2RlbCxuPXQucG9sYXJNb2RlbDtyZXR1cm4gbiYmbi5jb29yZGluYXRlU3lzdGVtfHxlJiZlLmNvb3JkaW5hdGVTeXN0ZW19ZnVuY3Rpb24gRk8odCxlKXt2YXIgbj10aGlzLGk9bi5nZXRBbmdsZUF4aXMoKSxyPW4uZ2V0UmFkaXVzQXhpcygpO2lmKGkuc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKSxyLnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZih0LmNvb3JkaW5hdGVTeXN0ZW09PT1uKXt2YXIgZT10LmdldERhdGEoKTtQKFpfKGUsXCJyYWRpdXNcIiksKGZ1bmN0aW9uKHQpe3Iuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSkpLFAoWl8oZSxcImFuZ2xlXCIpLChmdW5jdGlvbih0KXtpLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSx0KX0pKX19KSksRl8oaS5zY2FsZSxpLm1vZGVsKSxGXyhyLnNjYWxlLHIubW9kZWwpLFwiY2F0ZWdvcnlcIj09PWkudHlwZSYmIWkub25CYW5kKXt2YXIgbz1pLmdldEV4dGVudCgpLGE9MzYwL2kuc2NhbGUuY291bnQoKTtpLmludmVyc2U/b1sxXSs9YTpvWzFdLT1hLGkuc2V0RXh0ZW50KG9bMF0sb1sxXSl9fWZ1bmN0aW9uIEdPKHQsZSl7aWYodC50eXBlPWUuZ2V0KFwidHlwZVwiKSx0LnNjYWxlPUdfKGUpLHQub25CYW5kPWUuZ2V0KFwiYm91bmRhcnlHYXBcIikmJlwiY2F0ZWdvcnlcIj09PXQudHlwZSx0LmludmVyc2U9ZS5nZXQoXCJpbnZlcnNlXCIpLGZ1bmN0aW9uKHQpe3JldHVyblwiYW5nbGVBeGlzXCI9PT10Lm1haW5UeXBlfShlKSl7dC5pbnZlcnNlPXQuaW52ZXJzZSE9PWUuZ2V0KFwiY2xvY2t3aXNlXCIpO3ZhciBuPWUuZ2V0KFwic3RhcnRBbmdsZVwiKTt0LnNldEV4dGVudChuLG4rKHQuaW52ZXJzZT8tMzYwOjM2MCkpfWUuYXhpcz10LHQubW9kZWw9ZX12YXIgSE89e2RpbWVuc2lvbnM6Qk8ucHJvdG90eXBlLmRpbWVuc2lvbnMsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIHQuZWFjaENvbXBvbmVudChcInBvbGFyXCIsKGZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IEJPKGkrXCJcIik7ci51cGRhdGU9Rk87dmFyIG89ci5nZXRSYWRpdXNBeGlzKCksYT1yLmdldEFuZ2xlQXhpcygpLHM9dC5maW5kQXhpc01vZGVsKFwicmFkaXVzQXhpc1wiKSxsPXQuZmluZEF4aXNNb2RlbChcImFuZ2xlQXhpc1wiKTtHTyhvLHMpLEdPKGEsbCksZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0KFwiY2VudGVyXCIpLHI9bi5nZXRXaWR0aCgpLG89bi5nZXRIZWlnaHQoKTt0LmN4PVppKGlbMF0sciksdC5jeT1aaShpWzFdLG8pO3ZhciBhPXQuZ2V0UmFkaXVzQXhpcygpLHM9TWF0aC5taW4ocixvKS8yLGw9ZS5nZXQoXCJyYWRpdXNcIik7bnVsbD09bD9sPVswLFwiMTAwJVwiXTpGKGwpfHwobD1bMCxsXSk7dmFyIHU9W1ppKGxbMF0scyksWmkobFsxXSxzKV07YS5pbnZlcnNlP2Euc2V0RXh0ZW50KHVbMV0sdVswXSk6YS5zZXRFeHRlbnQodVswXSx1WzFdKX0ocix0LGUpLG4ucHVzaChyKSx0LmNvb3JkaW5hdGVTeXN0ZW09cixyLm1vZGVsPXR9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZihcInBvbGFyXCI9PT10LmdldChcImNvb3JkaW5hdGVTeXN0ZW1cIikpe3ZhciBlPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cyhcInBvbGFyXCIsT3IpLm1vZGVsc1swXTswLHQuY29vcmRpbmF0ZVN5c3RlbT1lLmNvb3JkaW5hdGVTeXN0ZW19fSkpLG59fSxXTz1bXCJheGlzTGluZVwiLFwiYXhpc0xhYmVsXCIsXCJheGlzVGlja1wiLFwibWlub3JUaWNrXCIsXCJzcGxpdExpbmVcIixcIm1pbm9yU3BsaXRMaW5lXCIsXCJzcGxpdEFyZWFcIl07ZnVuY3Rpb24gWU8odCxlLG4pe2VbMV0+ZVswXSYmKGU9ZS5zbGljZSgpLnJldmVyc2UoKSk7dmFyIGk9dC5jb29yZFRvUG9pbnQoW2VbMF0sbl0pLHI9dC5jb29yZFRvUG9pbnQoW2VbMV0sbl0pO3JldHVybnt4MTppWzBdLHkxOmlbMV0seDI6clswXSx5MjpyWzFdfX1mdW5jdGlvbiBYTyh0KXtyZXR1cm4gdC5nZXRSYWRpdXNBeGlzKCkuaW52ZXJzZT8wOjF9ZnVuY3Rpb24gVU8odCl7dmFyIGU9dFswXSxuPXRbdC5sZW5ndGgtMV07ZSYmbiYmTWF0aC5hYnMoTWF0aC5hYnMoZS5jb29yZC1uLmNvb3JkKS0zNjApPDFlLTQmJnQucG9wKCl9dmFyIFpPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPVwiUG9sYXJBeGlzUG9pbnRlclwiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KFwic2hvd1wiKSl7dmFyIG49dC5heGlzLGk9bi5wb2xhcixyPWkuZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpLG89bi5nZXRUaWNrc0Nvb3JkcygpLGE9bi5nZXRNaW5vclRpY2tzQ29vcmRzKCkscz1PKG4uZ2V0Vmlld0xhYmVscygpLChmdW5jdGlvbih0KXt0PXcodCk7dmFyIGU9bi5zY2FsZSxpPVwib3JkaW5hbFwiPT09ZS50eXBlP2UuZ2V0UmF3T3JkaW5hbE51bWJlcih0LnRpY2tWYWx1ZSk6dC50aWNrVmFsdWU7cmV0dXJuIHQuY29vcmQ9bi5kYXRhVG9Db29yZChpKSx0fSkpO1VPKHMpLFVPKG8pLFAoV08sKGZ1bmN0aW9uKGUpeyF0LmdldChbZSxcInNob3dcIl0pfHxuLnNjYWxlLmlzQmxhbmsoKSYmXCJheGlzTGluZVwiIT09ZXx8ak9bZV0odGhpcy5ncm91cCx0LGksbyxhLHIscyl9KSx0aGlzKX19LGUudHlwZT1cImFuZ2xlQXhpc1wiLGV9KFNTKSxqTz17YXhpc0xpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHM9ZS5nZXRNb2RlbChbXCJheGlzTGluZVwiLFwibGluZVN0eWxlXCJdKSxsPVhPKG4pLHU9bD8wOjE7KGE9MD09PW9bdV0/bmV3IFRsKHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6b1tsXX0sc3R5bGU6cy5nZXRMaW5lU3R5bGUoKSx6MjoxLHNpbGVudDohMH0pOm5ldyBYbCh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyOm9bbF0scjA6b1t1XX0sc3R5bGU6cy5nZXRMaW5lU3R5bGUoKSx6MjoxLHNpbGVudDohMH0pKS5zdHlsZS5maWxsPW51bGwsdC5hZGQoYSl9LGF4aXNUaWNrOmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKFwiYXhpc1RpY2tcIikscz0oYS5nZXQoXCJpbnNpZGVcIik/LTE6MSkqYS5nZXQoXCJsZW5ndGhcIiksbD1vW1hPKG4pXSx1PU8oaSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0dSh7c2hhcGU6WU8obixbbCxsK3NdLHQuY29vcmQpfSl9KSk7dC5hZGQoRHUodSx7c3R5bGU6VChhLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpLHtzdHJva2U6ZS5nZXQoW1wiYXhpc0xpbmVcIixcImxpbmVTdHlsZVwiLFwiY29sb3JcIl0pfSl9KSl9LG1pbm9yVGljazpmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoci5sZW5ndGgpe2Zvcih2YXIgYT1lLmdldE1vZGVsKFwiYXhpc1RpY2tcIikscz1lLmdldE1vZGVsKFwibWlub3JUaWNrXCIpLGw9KGEuZ2V0KFwiaW5zaWRlXCIpPy0xOjEpKnMuZ2V0KFwibGVuZ3RoXCIpLHU9b1tYTyhuKV0saD1bXSxjPTA7YzxyLmxlbmd0aDtjKyspZm9yKHZhciBwPTA7cDxyW2NdLmxlbmd0aDtwKyspaC5wdXNoKG5ldyB0dSh7c2hhcGU6WU8obixbdSx1K2xdLHJbY11bcF0uY29vcmQpfSkpO3QuYWRkKER1KGgse3N0eWxlOlQocy5nZXRNb2RlbChcImxpbmVTdHlsZVwiKS5nZXRMaW5lU3R5bGUoKSxUKGEuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTplLmdldChbXCJheGlzTGluZVwiLFwibGluZVN0eWxlXCIsXCJjb2xvclwiXSl9KSl9KSl9fSxheGlzTGFiZWw6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5nZXRDYXRlZ29yaWVzKCEwKSxsPWUuZ2V0TW9kZWwoXCJheGlzTGFiZWxcIiksdT1sLmdldChcIm1hcmdpblwiKSxoPWUuZ2V0KFwidHJpZ2dlckV2ZW50XCIpO1AoYSwoZnVuY3Rpb24oaSxyKXt2YXIgYT1sLGM9aS50aWNrVmFsdWUscD1vW1hPKG4pXSxkPW4uY29vcmRUb1BvaW50KFtwK3UsaS5jb29yZF0pLGY9bi5jeCxnPW4uY3kseT1NYXRoLmFicyhkWzBdLWYpL3A8LjM/XCJjZW50ZXJcIjpkWzBdPmY/XCJsZWZ0XCI6XCJyaWdodFwiLHY9TWF0aC5hYnMoZFsxXS1nKS9wPC4zP1wibWlkZGxlXCI6ZFsxXT5nP1widG9wXCI6XCJib3R0b21cIjtpZihzJiZzW2NdKXt2YXIgbT1zW2NdO1gobSkmJm0udGV4dFN0eWxlJiYoYT1uZXcgU2gobS50ZXh0U3R5bGUsbCxsLmVjTW9kZWwpKX12YXIgXz1uZXcgbHMoe3NpbGVudDpoUy5pc0xhYmVsU2lsZW50KGUpLHN0eWxlOm5oKGEse3g6ZFswXSx5OmRbMV0sZmlsbDphLmdldFRleHRDb2xvcigpfHxlLmdldChbXCJheGlzTGluZVwiLFwibGluZVN0eWxlXCIsXCJjb2xvclwiXSksdGV4dDppLmZvcm1hdHRlZExhYmVsLGFsaWduOnksdmVydGljYWxBbGlnbjp2fSl9KTtpZih0LmFkZChfKSxoKXt2YXIgeD1oUy5tYWtlQXhpc0V2ZW50RGF0YUJhc2UoZSk7eC50YXJnZXRUeXBlPVwiYXhpc0xhYmVsXCIseC52YWx1ZT1pLnJhd0xhYmVsLHlzKF8pLmV2ZW50RGF0YT14fX0pLHRoaXMpfSxzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0TW9kZWwoXCJzcGxpdExpbmVcIikuZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIikscz1hLmdldChcImNvbG9yXCIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD0wO2g8aS5sZW5ndGg7aCsrKXt2YXIgYz1sKyslcy5sZW5ndGg7dVtjXT11W2NdfHxbXSx1W2NdLnB1c2gobmV3IHR1KHtzaGFwZTpZTyhuLG8saVtoXS5jb29yZCl9KSl9Zm9yKGg9MDtoPHUubGVuZ3RoO2grKyl0LmFkZChEdSh1W2hdLHtzdHlsZTpUKHtzdHJva2U6c1toJXMubGVuZ3RoXX0sYS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwLHo6ZS5nZXQoXCJ6XCIpfSkpfSxtaW5vclNwbGl0TGluZTpmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoci5sZW5ndGgpe2Zvcih2YXIgYT1lLmdldE1vZGVsKFwibWlub3JTcGxpdExpbmVcIikuZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIikscz1bXSxsPTA7bDxyLmxlbmd0aDtsKyspZm9yKHZhciB1PTA7dTxyW2xdLmxlbmd0aDt1Kyspcy5wdXNoKG5ldyB0dSh7c2hhcGU6WU8obixvLHJbbF1bdV0uY29vcmQpfSkpO3QuYWRkKER1KHMse3N0eWxlOmEuZ2V0TGluZVN0eWxlKCksc2lsZW50OiEwLHo6ZS5nZXQoXCJ6XCIpfSkpfX0sc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSxuLGkscixvKXtpZihpLmxlbmd0aCl7dmFyIGE9ZS5nZXRNb2RlbChcInNwbGl0QXJlYVwiKS5nZXRNb2RlbChcImFyZWFTdHlsZVwiKSxzPWEuZ2V0KFwiY29sb3JcIiksbD0wO3M9cyBpbnN0YW5jZW9mIEFycmF5P3M6W3NdO2Zvcih2YXIgdT1bXSxoPU1hdGguUEkvMTgwLGM9LWlbMF0uY29vcmQqaCxwPU1hdGgubWluKG9bMF0sb1sxXSksZD1NYXRoLm1heChvWzBdLG9bMV0pLGY9ZS5nZXQoXCJjbG9ja3dpc2VcIiksZz0xLHk9aS5sZW5ndGg7Zzw9eTtnKyspe3ZhciB2PWc9PT15P2lbMF0uY29vcmQ6aVtnXS5jb29yZCxtPWwrKyVzLmxlbmd0aDt1W21dPXVbbV18fFtdLHVbbV0ucHVzaChuZXcgV2woe3NoYXBlOntjeDpuLmN4LGN5Om4uY3kscjA6cCxyOmQsc3RhcnRBbmdsZTpjLGVuZEFuZ2xlOi12KmgsY2xvY2t3aXNlOmZ9LHNpbGVudDohMH0pKSxjPS12Kmh9Zm9yKGc9MDtnPHUubGVuZ3RoO2crKyl0LmFkZChEdSh1W2ddLHtzdHlsZTpUKHtmaWxsOnNbZyVzLmxlbmd0aF19LGEuZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMH0pKX19fSxxTz1bXCJheGlzTGluZVwiLFwiYXhpc1RpY2tMYWJlbFwiLFwiYXhpc05hbWVcIl0sS089W1wic3BsaXRMaW5lXCIsXCJzcGxpdEFyZWFcIixcIm1pbm9yU3BsaXRMaW5lXCJdLCRPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPVwiUG9sYXJBeGlzUG9pbnRlclwiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KFwic2hvd1wiKSl7dmFyIG49dGhpcy5fYXhpc0dyb3VwLGk9dGhpcy5fYXhpc0dyb3VwPW5ldyB6aTt0aGlzLmdyb3VwLmFkZChpKTt2YXIgcj10LmF4aXMsbz1yLnBvbGFyLGE9by5nZXRBbmdsZUF4aXMoKSxzPXIuZ2V0VGlja3NDb29yZHMoKSxsPXIuZ2V0TWlub3JUaWNrc0Nvb3JkcygpLHU9YS5nZXRFeHRlbnQoKVswXSxoPXIuZ2V0RXh0ZW50KCksYz1mdW5jdGlvbih0LGUsbil7cmV0dXJue3Bvc2l0aW9uOlt0LmN4LHQuY3ldLHJvdGF0aW9uOm4vMTgwKk1hdGguUEksbGFiZWxEaXJlY3Rpb246LTEsdGlja0RpcmVjdGlvbjotMSxuYW1lRGlyZWN0aW9uOjEsbGFiZWxSb3RhdGU6ZS5nZXRNb2RlbChcImF4aXNMYWJlbFwiKS5nZXQoXCJyb3RhdGVcIiksejI6MX19KG8sdCx1KSxwPW5ldyBoUyh0LGMpO1AocU8scC5hZGQscCksaS5hZGQocC5nZXRHcm91cCgpKSxXdShuLGksdCksUChLTywoZnVuY3Rpb24oZSl7dC5nZXQoW2UsXCJzaG93XCJdKSYmIXIuc2NhbGUuaXNCbGFuaygpJiZKT1tlXSh0aGlzLmdyb3VwLHQsbyx1LGgscyxsKX0pLHRoaXMpfX0sZS50eXBlPVwicmFkaXVzQXhpc1wiLGV9KFNTKSxKTz17c3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKFwic3BsaXRMaW5lXCIpLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLHM9YS5nZXQoXCJjb2xvclwiKSxsPTA7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciB1PVtdLGg9MDtoPG8ubGVuZ3RoO2grKyl7dmFyIGM9bCsrJXMubGVuZ3RoO3VbY109dVtjXXx8W10sdVtjXS5wdXNoKG5ldyBUbCh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyOm9baF0uY29vcmR9fSkpfWZvcihoPTA7aDx1Lmxlbmd0aDtoKyspdC5hZGQoRHUodVtoXSx7c3R5bGU6VCh7c3Ryb2tlOnNbaCVzLmxlbmd0aF0sZmlsbDpudWxsfSxhLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9LG1pbm9yU3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe2lmKGEubGVuZ3RoKXtmb3IodmFyIHM9ZS5nZXRNb2RlbChcIm1pbm9yU3BsaXRMaW5lXCIpLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLGw9W10sdT0wO3U8YS5sZW5ndGg7dSsrKWZvcih2YXIgaD0wO2g8YVt1XS5sZW5ndGg7aCsrKWwucHVzaChuZXcgVGwoe3NoYXBlOntjeDpuLmN4LGN5Om4uY3kscjphW3VdW2hdLmNvb3JkfX0pKTt0LmFkZChEdShsLHtzdHlsZTpUKHtmaWxsOm51bGx9LHMuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMH0pKX19LHNwbGl0QXJlYTpmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoby5sZW5ndGgpe3ZhciBhPWUuZ2V0TW9kZWwoXCJzcGxpdEFyZWFcIikuZ2V0TW9kZWwoXCJhcmVhU3R5bGVcIikscz1hLmdldChcImNvbG9yXCIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD1vWzBdLmNvb3JkLGM9MTtjPG8ubGVuZ3RoO2MrKyl7dmFyIHA9bCsrJXMubGVuZ3RoO3VbcF09dVtwXXx8W10sdVtwXS5wdXNoKG5ldyBXbCh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyMDpoLHI6b1tjXS5jb29yZCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJfSxzaWxlbnQ6ITB9KSksaD1vW2NdLmNvb3JkfWZvcihjPTA7Yzx1Lmxlbmd0aDtjKyspdC5hZGQoRHUodVtjXSx7c3R5bGU6VCh7ZmlsbDpzW2Mlcy5sZW5ndGhdfSxhLmdldEFyZWFTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fX07ZnVuY3Rpb24gUU8odCl7cmV0dXJuIHQuZ2V0KFwic3RhY2tcIil8fFwiX19lY19zdGFja19cIit0LnNlcmllc0luZGV4fWZ1bmN0aW9uIHRSKHQsZSl7cmV0dXJuIGUuZGltK3QubW9kZWwuY29tcG9uZW50SW5kZXh9ZnVuY3Rpb24gZVIodCxlLG4pe3ZhciBpPXt9LHI9ZnVuY3Rpb24odCl7dmFyIGU9e307UCh0LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5jb29yZGluYXRlU3lzdGVtLG89ci5nZXRCYXNlQXhpcygpLGE9dFIocixvKSxzPW8uZ2V0RXh0ZW50KCksbD1cImNhdGVnb3J5XCI9PT1vLnR5cGU/by5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhzWzFdLXNbMF0pL2kuY291bnQoKSx1PWVbYV18fHtiYW5kV2lkdGg6bCxyZW1haW5lZFdpZHRoOmwsYXV0b1dpZHRoQ291bnQ6MCxjYXRlZ29yeUdhcDpcIjIwJVwiLGdhcDpcIjMwJVwiLHN0YWNrczp7fX0saD11LnN0YWNrcztlW2FdPXU7dmFyIGM9UU8odCk7aFtjXXx8dS5hdXRvV2lkdGhDb3VudCsrLGhbY109aFtjXXx8e3dpZHRoOjAsbWF4V2lkdGg6MH07dmFyIHA9WmkodC5nZXQoXCJiYXJXaWR0aFwiKSxsKSxkPVppKHQuZ2V0KFwiYmFyTWF4V2lkdGhcIiksbCksZj10LmdldChcImJhckdhcFwiKSxnPXQuZ2V0KFwiYmFyQ2F0ZWdvcnlHYXBcIik7cCYmIWhbY10ud2lkdGgmJihwPU1hdGgubWluKHUucmVtYWluZWRXaWR0aCxwKSxoW2NdLndpZHRoPXAsdS5yZW1haW5lZFdpZHRoLT1wKSxkJiYoaFtjXS5tYXhXaWR0aD1kKSxudWxsIT1mJiYodS5nYXA9ZiksbnVsbCE9ZyYmKHUuY2F0ZWdvcnlHYXA9Zyl9KSk7dmFyIG49e307cmV0dXJuIFAoZSwoZnVuY3Rpb24odCxlKXtuW2VdPXt9O3ZhciBpPXQuc3RhY2tzLHI9dC5iYW5kV2lkdGgsbz1aaSh0LmNhdGVnb3J5R2FwLHIpLGE9WmkodC5nYXAsMSkscz10LnJlbWFpbmVkV2lkdGgsbD10LmF1dG9XaWR0aENvdW50LHU9KHMtbykvKGwrKGwtMSkqYSk7dT1NYXRoLm1heCh1LDApLFAoaSwoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1heFdpZHRoO24mJm48dSYmKG49TWF0aC5taW4obixzKSx0LndpZHRoJiYobj1NYXRoLm1pbihuLHQud2lkdGgpKSxzLT1uLHQud2lkdGg9bixsLS0pfSkpLHU9KHMtbykvKGwrKGwtMSkqYSksdT1NYXRoLm1heCh1LDApO3ZhciBoLGM9MDtQKGksKGZ1bmN0aW9uKHQsZSl7dC53aWR0aHx8KHQud2lkdGg9dSksaD10LGMrPXQud2lkdGgqKDErYSl9KSksaCYmKGMtPWgud2lkdGgqYSk7dmFyIHA9LWMvMjtQKGksKGZ1bmN0aW9uKHQsaSl7bltlXVtpXT1uW2VdW2ldfHx7b2Zmc2V0OnAsd2lkdGg6dC53aWR0aH0scCs9dC53aWR0aCooMSthKX0pKX0pKSxufShOKGUuZ2V0U2VyaWVzQnlUeXBlKHQpLChmdW5jdGlvbih0KXtyZXR1cm4hZS5pc1Nlcmllc0ZpbHRlcmVkKHQpJiZ0LmNvb3JkaW5hdGVTeXN0ZW0mJlwicG9sYXJcIj09PXQuY29vcmRpbmF0ZVN5c3RlbS50eXBlfSkpKTtlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7aWYoXCJwb2xhclwiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGUpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dC5jb29yZGluYXRlU3lzdGVtLG89bi5nZXRCYXNlQXhpcygpLGE9dFIobixvKSxzPVFPKHQpLGw9clthXVtzXSx1PWwub2Zmc2V0LGg9bC53aWR0aCxjPW4uZ2V0T3RoZXJBeGlzKG8pLHA9dC5jb29yZGluYXRlU3lzdGVtLmN4LGQ9dC5jb29yZGluYXRlU3lzdGVtLmN5LGY9dC5nZXQoXCJiYXJNaW5IZWlnaHRcIil8fDAsZz10LmdldChcImJhck1pbkFuZ2xlXCIpfHwwO2lbc109aVtzXXx8W107Zm9yKHZhciB5PWUubWFwRGltZW5zaW9uKGMuZGltKSx2PWUubWFwRGltZW5zaW9uKG8uZGltKSxtPUZtKGUseSksXz1cInJhZGl1c1wiIT09by5kaW18fCF0LmdldChcInJvdW5kQ2FwXCIsITApLHg9Yy5kYXRhVG9Db29yZCgwKSxiPTAsdz1lLmNvdW50KCk7Yjx3O2IrKyl7dmFyIFM9ZS5nZXQoeSxiKSxNPWUuZ2V0KHYsYiksST1TPj0wP1wicFwiOlwiblwiLFQ9eDttJiYoaVtzXVtNXXx8KGlbc11bTV09e3A6eCxuOnh9KSxUPWlbc11bTV1bSV0pO3ZhciBDPXZvaWQgMCxBPXZvaWQgMCxEPXZvaWQgMCxMPXZvaWQgMDtpZihcInJhZGl1c1wiPT09Yy5kaW0pe3ZhciBrPWMuZGF0YVRvQ29vcmQoUykteCxQPW8uZGF0YVRvQ29vcmQoTSk7TWF0aC5hYnMoayk8ZiYmKGs9KGs8MD8tMToxKSpmKSxDPVQsQT1UK2ssTD0oRD1QLXUpLWgsbSYmKGlbc11bTV1bSV09QSl9ZWxzZXt2YXIgTz1jLmRhdGFUb0Nvb3JkKFMsXykteCxSPW8uZGF0YVRvQ29vcmQoTSk7TWF0aC5hYnMoTyk8ZyYmKE89KE88MD8tMToxKSpnKSxBPShDPVIrdSkraCxEPVQsTD1UK08sbSYmKGlbc11bTV1bSV09TCl9ZS5zZXRJdGVtTGF5b3V0KGIse2N4OnAsY3k6ZCxyMDpDLHI6QSxzdGFydEFuZ2xlOi1EKk1hdGguUEkvMTgwLGVuZEFuZ2xlOi1MKk1hdGguUEkvMTgwfSl9fX0pKX12YXIgblI9e3N0YXJ0QW5nbGU6OTAsY2xvY2t3aXNlOiEwLHNwbGl0TnVtYmVyOjEyLGF4aXNMYWJlbDp7cm90YXRlOjB9fSxpUj17c3BsaXROdW1iZXI6NX0sclI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPVwicG9sYXJcIixlfShwZik7dmFyIG9SPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dC5jYWxsKHRoaXMsZSl8fHRoaXM7by5kaW1lbnNpb25zPVtcImxuZ1wiLFwibGF0XCJdLG8udHlwZT1cImdlb1wiLG8ubWFwPW47dmFyIGE9T00obixpKTtyZXR1cm4gby5fbmFtZUNvb3JkTWFwPWEubmFtZUNvb3JkTWFwLG8uX3JlZ2lvbnNNYXA9YS5yZWdpb25zTWFwLG8uX2ludmVydExvbmdpdHV0ZT1udWxsPT1yfHxyLG8ucmVnaW9ucz1hLnJlZ2lvbnMsby5fcmVjdD1hLmJvdW5kaW5nUmVjdCxvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY29udGFpbkNvb3JkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnJlZ2lvbnMsbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl0uY29udGFpbih0KSlyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUudHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXRoaXMuX2ludmVydExvbmdpdHV0ZTtyPXIuY2xvbmUoKSxvJiYoci55PS1yLnktci5oZWlnaHQpO3ZhciBhPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7YS50cmFuc2Zvcm09ci5jYWxjdWxhdGVUcmFuc2Zvcm0obmV3IFJuKHQsZSxuLGkpKSxhLmRlY29tcG9zZVRyYW5zZm9ybSgpLG8mJihhLnNjYWxlWT0tYS5zY2FsZVkpLGEudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLmdldFJlZ2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVnaW9uc01hcC5nZXQodCl9LGUucHJvdG90eXBlLmdldFJlZ2lvbkJ5Q29vcmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5jb250YWluKHQpKXJldHVybiBlW25dfSxlLnByb3RvdHlwZS5hZGRHZW9Db29yZD1mdW5jdGlvbih0LGUpe3RoaXMuX25hbWVDb29yZE1hcC5zZXQodCxlKX0sZS5wcm90b3R5cGUuZ2V0R2VvQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25hbWVDb29yZE1hcC5nZXQodCl9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSxlLnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUsbil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXRoaXMuZ2V0R2VvQ29vcmQodCkpLHQpcmV0dXJuIFFNLnByb3RvdHlwZS5kYXRhVG9Qb2ludC5jYWxsKHRoaXMsdCxlLG4pfSxlLnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9YVIoZSk7cmV0dXJuIGk9PT10aGlzP2kuZGF0YVRvUG9pbnQobik6bnVsbH0sZS5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9YVIoZSk7cmV0dXJuIGk9PT10aGlzP2kucG9pbnRUb0RhdGEobik6bnVsbH0sZX0oUU0pO2Z1bmN0aW9uIGFSKHQpe3ZhciBlPXQuZ2VvTW9kZWwsbj10LnNlcmllc01vZGVsO3JldHVybiBlP2UuY29vcmRpbmF0ZVN5c3RlbTpuP24uY29vcmRpbmF0ZVN5c3RlbXx8KG4uZ2V0UmVmZXJyaW5nQ29tcG9uZW50cyhcImdlb1wiLE9yKS5tb2RlbHNbMF18fHt9KS5jb29yZGluYXRlU3lzdGVtOm51bGx9ZnVuY3Rpb24gc1IodCxlKXt2YXIgbj10LmdldChcImJvdW5kaW5nQ29vcmRzXCIpO2lmKG51bGwhPW4pe3ZhciBpPW5bMF0scj1uWzFdO2lzTmFOKGlbMF0pfHxpc05hTihpWzFdKXx8aXNOYU4oclswXSl8fGlzTmFOKHJbMV0pfHx0aGlzLnNldEJvdW5kaW5nUmVjdChpWzBdLGlbMV0sclswXS1pWzBdLHJbMV0taVsxXSl9dmFyIG8sYSxzLGw9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSx1PXQuZ2V0KFwibGF5b3V0Q2VudGVyXCIpLGg9dC5nZXQoXCJsYXlvdXRTaXplXCIpLGM9ZS5nZXRXaWR0aCgpLHA9ZS5nZXRIZWlnaHQoKSxkPWwud2lkdGgvbC5oZWlnaHQqdGhpcy5hc3BlY3RTY2FsZSxmPSExO2lmKHUmJmgmJihvPVtaaSh1WzBdLGMpLFppKHVbMV0scCldLGE9WmkoaCxNYXRoLm1pbihjLHApKSxpc05hTihvWzBdKXx8aXNOYU4ob1sxXSl8fGlzTmFOKGEpfHwoZj0hMCkpLGYpcz17fSxkPjE/KHMud2lkdGg9YSxzLmhlaWdodD1hL2QpOihzLmhlaWdodD1hLHMud2lkdGg9YSpkKSxzLnk9b1sxXS1zLmhlaWdodC8yLHMueD1vWzBdLXMud2lkdGgvMjtlbHNle3ZhciBnPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCk7Zy5hc3BlY3Q9ZCxzPUFjKGcse3dpZHRoOmMsaGVpZ2h0OnB9KX10aGlzLnNldFZpZXdSZWN0KHMueCxzLnkscy53aWR0aCxzLmhlaWdodCksdGhpcy5zZXRDZW50ZXIodC5nZXQoXCJjZW50ZXJcIikpLHRoaXMuc2V0Wm9vbSh0LmdldChcInpvb21cIikpfUwob1IsUU0pO3ZhciBsUj1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5kaW1lbnNpb25zPW9SLnByb3RvdHlwZS5kaW1lbnNpb25zfXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTt0LmVhY2hDb21wb25lbnQoXCJnZW9cIiwoZnVuY3Rpb24odCxpKXt2YXIgcj10LmdldChcIm1hcFwiKSxvPXQuZ2V0KFwiYXNwZWN0U2NhbGVcIiksYT0hMCxzPWxnKHIpO3MmJnNbMF0mJlwic3ZnXCI9PT1zWzBdLnR5cGU/KG51bGw9PW8mJihvPTEpLGE9ITEpOm51bGw9PW8mJihvPS43NSk7dmFyIGw9bmV3IG9SKHIraSxyLHQuZ2V0KFwibmFtZU1hcFwiKSxhKTtsLmFzcGVjdFNjYWxlPW8sbC56b29tTGltaXQ9dC5nZXQoXCJzY2FsZUxpbWl0XCIpLG4ucHVzaChsKSx0LmNvb3JkaW5hdGVTeXN0ZW09bCxsLm1vZGVsPXQsbC5yZXNpemU9c1IsbC5yZXNpemUodCxlKX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKFwiZ2VvXCI9PT10LmdldChcImNvb3JkaW5hdGVTeXN0ZW1cIikpe3ZhciBlPXQuZ2V0KFwiZ2VvSW5kZXhcIil8fDA7dC5jb29yZGluYXRlU3lzdGVtPW5bZV19fSkpO3ZhciBpPXt9O3JldHVybiB0LmVhY2hTZXJpZXNCeVR5cGUoXCJtYXBcIiwoZnVuY3Rpb24odCl7aWYoIXQuZ2V0SG9zdEdlb01vZGVsKCkpe3ZhciBlPXQuZ2V0TWFwVHlwZSgpO2lbZV09aVtlXXx8W10saVtlXS5wdXNoKHQpfX0pKSxQKGksKGZ1bmN0aW9uKHQsaSl7dmFyIHI9Tyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoXCJuYW1lTWFwXCIpfSkpLG89bmV3IG9SKGksaSxNKHIpKTtvLnpvb21MaW1pdD1RLmFwcGx5KG51bGwsTyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoXCJzY2FsZUxpbWl0XCIpfSkpKSxuLnB1c2gobyksby5yZXNpemU9c1Isby5hc3BlY3RTY2FsZT10WzBdLmdldChcImFzcGVjdFNjYWxlXCIpLG8ucmVzaXplKHRbMF0sZSksUCh0LChmdW5jdGlvbih0KXt0LmNvb3JkaW5hdGVTeXN0ZW09byxmdW5jdGlvbih0LGUpe1AoZS5nZXQoXCJnZW9Db29yZFwiKSwoZnVuY3Rpb24oZSxuKXt0LmFkZEdlb0Nvb3JkKG4sZSl9KSl9KG8sdCl9KSl9KSksbn0sdC5wcm90b3R5cGUuZ2V0RmlsbGVkUmVnaW9ucz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPSh0fHxbXSkuc2xpY2UoKSxyPWh0KCksbz0wO288aS5sZW5ndGg7bysrKXIuc2V0KGlbb10ubmFtZSxpW29dKTtyZXR1cm4gUChPTShlLG4pLnJlZ2lvbnMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZTshci5nZXQoZSkmJmkucHVzaCh7bmFtZTplfSl9KSksaX0sdH0oKSksdVI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLG4saSl7dC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsZSxuLGkpLHhyKGUsXCJsYWJlbFwiLFtcInNob3dcIl0pfSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT10aGlzO3QucmVnaW9ucz1sUi5nZXRGaWxsZWRSZWdpb25zKHQucmVnaW9ucyx0Lm1hcCx0Lm5hbWVNYXApO3ZhciBuPXt9O3RoaXMuX29wdGlvbk1vZGVsTWFwPVIodC5yZWdpb25zfHxbXSwoZnVuY3Rpb24odCxpKXt2YXIgcj1pLm5hbWU7cmV0dXJuIHImJih0LnNldChyLG5ldyBTaChpLGUpKSxpLnNlbGVjdGVkJiYobltyXT0hMCkpLHR9KSxodCgpKSx0LnNlbGVjdGVkTWFwfHwodC5zZWxlY3RlZE1hcD1uKX0sZS5wcm90b3R5cGUuZ2V0UmVnaW9uTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29wdGlvbk1vZGVsTWFwLmdldCh0KXx8bmV3IFNoKG51bGwsdGhpcyx0aGlzLmVjTW9kZWwpfSxlLnByb3RvdHlwZS5nZXRGb3JtYXR0ZWRMYWJlbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0UmVnaW9uTW9kZWwodCksaT1cIm5vcm1hbFwiPT09ZT9uLmdldChbXCJsYWJlbFwiLFwiZm9ybWF0dGVyXCJdKTpuLmdldChbXCJlbXBoYXNpc1wiLFwibGFiZWxcIixcImZvcm1hdHRlclwiXSkscj17bmFtZTp0fTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBpPyhyLnN0YXR1cz1lLGkocikpOlwic3RyaW5nXCI9PXR5cGVvZiBpP2kucmVwbGFjZShcInthfVwiLG51bGwhPXQ/dDpcIlwiKTp2b2lkIDB9LGUucHJvdG90eXBlLnNldFpvb209ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxlLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbixuPWUuc2VsZWN0ZWRNb2RlO24mJihcIm11bHRpcGxlXCIhPT1uJiYoZS5zZWxlY3RlZE1hcD1udWxsKSwoZS5zZWxlY3RlZE1hcHx8KGUuc2VsZWN0ZWRNYXA9e30pKVt0XT0hMCl9LGUucHJvdG90eXBlLnVuU2VsZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwO2UmJihlW3RdPSExKX0sZS5wcm90b3R5cGUudG9nZ2xlU2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpc1t0aGlzLmlzU2VsZWN0ZWQodCk/XCJ1blNlbGVjdFwiOlwic2VsZWN0XCJdKHQpfSxlLnByb3RvdHlwZS5pc1NlbGVjdGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwO3JldHVybiEoIWV8fCFlW3RdKX0sZS5wcm90b3R5cGUuX2luaXRTZWxlY3RlZE1hcEZyb21EYXRhPWZ1bmN0aW9uKCl7fSxlLnR5cGU9XCJnZW9cIixlLmxheW91dE1vZGU9XCJib3hcIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MCxzaG93OiEwLGxlZnQ6XCJjZW50ZXJcIix0b3A6XCJjZW50ZXJcIixhc3BlY3RTY2FsZTpudWxsLHNpbGVudDohMSxtYXA6XCJcIixib3VuZGluZ0Nvb3JkczpudWxsLGNlbnRlcjpudWxsLHpvb206MSxzY2FsZUxpbWl0Om51bGwsbGFiZWw6e3Nob3c6ITEsY29sb3I6XCIjMDAwXCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6LjUsYm9yZGVyQ29sb3I6XCIjNDQ0XCIsY29sb3I6XCIjZWVlXCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjpcInJnYigxMDAsMCwwKVwifSxpdGVtU3R5bGU6e2NvbG9yOlwicmdiYSgyNTUsMjE1LDAsMC44KVwifX0sc2VsZWN0OntsYWJlbDp7c2hvdzohMCxjb2xvcjpcInJnYigxMDAsMCwwKVwifSxpdGVtU3R5bGU6e2NvbG9yOlwicmdiYSgyNTUsMjE1LDAsMC44KVwifX0scmVnaW9uczpbXX0sZX0oTmMpLGhSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQk0oZSk7dGhpcy5fbWFwRHJhdz1uLHRoaXMuZ3JvdXAuYWRkKG4uZ3JvdXApLHRoaXMuX2FwaT1lfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5fbWFwRHJhdzt0LmdldChcInNob3dcIik/ci5kcmF3KHQsZSxuLHRoaXMsaSk6dGhpcy5fbWFwRHJhdy5ncm91cC5yZW1vdmVBbGwoKSxyLmdyb3VwLm9uKFwiY2xpY2tcIix0aGlzLl9oYW5kbGVSZWdpb25DbGljayx0aGlzKSxyLmdyb3VwLnNpbGVudD10LmdldChcInNpbGVudFwiKSx0aGlzLl9tb2RlbD10LHRoaXMudXBkYXRlU2VsZWN0U3RhdHVzKHQsZSxuKX0sZS5wcm90b3R5cGUuX2hhbmRsZVJlZ2lvbkNsaWNrPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXQudGFyZ2V0O24mJm51bGw9PShlPXlzKG4pLmV2ZW50RGF0YSk7KW49bi5fX2hvc3RUYXJnZXR8fG4ucGFyZW50O2UmJnRoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImdlb1RvZ2dsZVNlbGVjdFwiLGdlb0lkOnRoaXMuX21vZGVsLmlkLG5hbWU6ZS5uYW1lfSl9LGUucHJvdG90eXBlLnVwZGF0ZVNlbGVjdFN0YXR1cz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpczt0aGlzLl9tYXBEcmF3Lmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXt2YXIgZT15cyh0KS5ldmVudERhdGE7aWYoZSlyZXR1cm4gaS5fbW9kZWwuaXNTZWxlY3RlZChlLm5hbWUpP24uZW50ZXJTZWxlY3QodCk6bi5sZWF2ZVNlbGVjdCh0KSwhMH0pKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCl9LGUudHlwZT1cImdlb1wiLGV9KHBmKTtmdW5jdGlvbiBjUih0LGUpe2U9ZXx8e307dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLGk9dC5heGlzLHI9e30sbz1pLnBvc2l0aW9uLGE9aS5vcmllbnQscz1uLmdldFJlY3QoKSxsPVtzLngscy54K3Mud2lkdGgscy55LHMueStzLmhlaWdodF0sdT17aG9yaXpvbnRhbDp7dG9wOmxbMl0sYm90dG9tOmxbM119LHZlcnRpY2FsOntsZWZ0OmxbMF0scmlnaHQ6bFsxXX19O3IucG9zaXRpb249W1widmVydGljYWxcIj09PWE/dS52ZXJ0aWNhbFtvXTpsWzBdLFwiaG9yaXpvbnRhbFwiPT09YT91Lmhvcml6b250YWxbb106bFszXV07ci5yb3RhdGlvbj1NYXRoLlBJLzIqe2hvcml6b250YWw6MCx2ZXJ0aWNhbDoxfVthXTtyLmxhYmVsRGlyZWN0aW9uPXIudGlja0RpcmVjdGlvbj1yLm5hbWVEaXJlY3Rpb249e3RvcDotMSxib3R0b206MSxyaWdodDoxLGxlZnQ6LTF9W29dLHQuZ2V0KFtcImF4aXNUaWNrXCIsXCJpbnNpZGVcIl0pJiYoci50aWNrRGlyZWN0aW9uPS1yLnRpY2tEaXJlY3Rpb24pLFEoZS5sYWJlbEluc2lkZSx0LmdldChbXCJheGlzTGFiZWxcIixcImluc2lkZVwiXSkpJiYoci5sYWJlbERpcmVjdGlvbj0tci5sYWJlbERpcmVjdGlvbik7dmFyIGg9ZS5yb3RhdGU7cmV0dXJuIG51bGw9PWgmJihoPXQuZ2V0KFtcImF4aXNMYWJlbFwiLFwicm90YXRlXCJdKSksci5sYWJlbFJvdGF0aW9uPVwidG9wXCI9PT1vPy1oOmgsci56Mj0xLHJ9dmFyIHBSPVtcImF4aXNMaW5lXCIsXCJheGlzVGlja0xhYmVsXCIsXCJheGlzTmFtZVwiXSxkUj1bXCJzcGxpdEFyZWFcIixcInNwbGl0TGluZVwiXSxmUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uYXhpc1BvaW50ZXJDbGFzcz1cIlNpbmdsZUF4aXNQb2ludGVyXCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt2YXIgbz10aGlzLmdyb3VwO28ucmVtb3ZlQWxsKCk7dmFyIGE9dGhpcy5fYXhpc0dyb3VwO3RoaXMuX2F4aXNHcm91cD1uZXcgemk7dmFyIHM9Y1IoZSksbD1uZXcgaFMoZSxzKTtQKHBSLGwuYWRkLGwpLG8uYWRkKHRoaXMuX2F4aXNHcm91cCksby5hZGQobC5nZXRHcm91cCgpKSxQKGRSLChmdW5jdGlvbih0KXtlLmdldChbdCxcInNob3dcIl0pJiZnUlt0XSh0aGlzLHRoaXMuZ3JvdXAsdGhpcy5fYXhpc0dyb3VwLGUpfSksdGhpcyksV3UoYSx0aGlzLl9heGlzR3JvdXAsZSksdC5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyxlLG4saSxyKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7VFModGhpcyl9LGUudHlwZT1cInNpbmdsZUF4aXNcIixlfShTUyksZ1I9e3NwbGl0TGluZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLmF4aXM7aWYoIXIuc2NhbGUuaXNCbGFuaygpKXt2YXIgbz1pLmdldE1vZGVsKFwic3BsaXRMaW5lXCIpLGE9by5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxzPWEuZ2V0KFwiY29sb3JcIik7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciBsPWkuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCksdT1yLmlzSG9yaXpvbnRhbCgpLGg9W10sYz0wLHA9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm99KSxkPVtdLGY9W10sZz0wO2c8cC5sZW5ndGg7KytnKXt2YXIgeT1yLnRvR2xvYmFsQ29vcmQocFtnXS5jb29yZCk7dT8oZFswXT15LGRbMV09bC55LGZbMF09eSxmWzFdPWwueStsLmhlaWdodCk6KGRbMF09bC54LGRbMV09eSxmWzBdPWwueCtsLndpZHRoLGZbMV09eSk7dmFyIHY9YysrJXMubGVuZ3RoO2hbdl09aFt2XXx8W10saFt2XS5wdXNoKG5ldyB0dSh7c3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6ZFswXSx5MTpkWzFdLHgyOmZbMF0seTI6ZlsxXX0sc2lsZW50OiEwfSkpfXZhciBtPWEuZ2V0TGluZVN0eWxlKFtcImNvbG9yXCJdKTtmb3IoZz0wO2c8aC5sZW5ndGg7KytnKWUuYWRkKER1KGhbZ10se3N0eWxlOlQoe3N0cm9rZTpzW2clcy5sZW5ndGhdfSxtKSxzaWxlbnQ6ITB9KSl9fSxzcGxpdEFyZWE6ZnVuY3Rpb24odCxlLG4saSl7SVModCxuLGksaSl9fSx5Uj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRDb29yZFN5c01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUudHlwZT1cInNpbmdsZUF4aXNcIixlLmxheW91dE1vZGU9XCJib3hcIixlLmRlZmF1bHRPcHRpb249e2xlZnQ6XCI1JVwiLHRvcDpcIjUlXCIscmlnaHQ6XCI1JVwiLGJvdHRvbTpcIjUlXCIsdHlwZTpcInZhbHVlXCIscG9zaXRpb246XCJib3R0b21cIixvcmllbnQ6XCJob3Jpem9udGFsXCIsYXhpc0xpbmU6e3Nob3c6ITAsbGluZVN0eWxlOnt3aWR0aDoxLHR5cGU6XCJzb2xpZFwifX0sdG9vbHRpcDp7c2hvdzohMH0sYXhpc1RpY2s6e3Nob3c6ITAsbGVuZ3RoOjYsbGluZVN0eWxlOnt3aWR0aDoxfX0sYXhpc0xhYmVsOntzaG93OiEwLGludGVydmFsOlwiYXV0b1wifSxzcGxpdExpbmU6e3Nob3c6ITAsbGluZVN0eWxlOnt0eXBlOlwiZGFzaGVkXCIsb3BhY2l0eTouMn19fSxlfShOYyk7TCh5UixqXy5wcm90b3R5cGUpO3ZhciB2Uj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLGkpfHx0aGlzO3JldHVybiBhLnR5cGU9cnx8XCJ2YWx1ZVwiLGEucG9zaXRpb249b3x8XCJib3R0b21cIixhfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaXNIb3Jpem9udGFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbjtyZXR1cm5cInRvcFwiPT09dHx8XCJib3R0b21cIj09PXR9LGUucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZVN5c3RlbS5wb2ludFRvRGF0YSh0KVswXX0sZX0odngpLG1SPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy50eXBlPVwic2luZ2xlXCIsdGhpcy5kaW1lbnNpb249XCJzaW5nbGVcIix0aGlzLmRpbWVuc2lvbnM9W1wic2luZ2xlXCJdLHRoaXMuYXhpc1BvaW50ZXJFbmFibGVkPSEwLHRoaXMubW9kZWw9dCx0aGlzLl9pbml0KHQsZSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZGltZW5zaW9uLHI9bmV3IHZSKGksR18odCksWzAsMF0sdC5nZXQoXCJ0eXBlXCIpLHQuZ2V0KFwicG9zaXRpb25cIikpLG89XCJjYXRlZ29yeVwiPT09ci50eXBlO3Iub25CYW5kPW8mJnQuZ2V0KFwiYm91bmRhcnlHYXBcIiksci5pbnZlcnNlPXQuZ2V0KFwiaW52ZXJzZVwiKSxyLm9yaWVudD10LmdldChcIm9yaWVudFwiKSx0LmF4aXM9cixyLm1vZGVsPXQsci5jb29yZGluYXRlU3lzdGVtPXRoaXMsdGhpcy5fYXhpcz1yfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKHQuY29vcmRpbmF0ZVN5c3RlbT09PXRoaXMpe3ZhciBlPXQuZ2V0RGF0YSgpO1AoZS5tYXBEaW1lbnNpb25zQWxsKHRoaXMuZGltZW5zaW9uKSwoZnVuY3Rpb24odCl7dGhpcy5fYXhpcy5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGUsdCl9KSx0aGlzKSxGXyh0aGlzLl9heGlzLnNjYWxlLHRoaXMuX2F4aXMubW9kZWwpfX0pLHRoaXMpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLl9yZWN0PUFjKHtsZWZ0OnQuZ2V0KFwibGVmdFwiKSx0b3A6dC5nZXQoXCJ0b3BcIikscmlnaHQ6dC5nZXQoXCJyaWdodFwiKSxib3R0b206dC5nZXQoXCJib3R0b21cIiksd2lkdGg6dC5nZXQoXCJ3aWR0aFwiKSxoZWlnaHQ6dC5nZXQoXCJoZWlnaHRcIil9LHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KSx0aGlzLl9hZGp1c3RBeGlzKCl9LHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUuX2FkanVzdEF4aXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhpcyxuPWUuaXNIb3Jpem9udGFsKCksaT1uP1swLHQud2lkdGhdOlswLHQuaGVpZ2h0XSxyPWUucmV2ZXJzZT8xOjA7ZS5zZXRFeHRlbnQoaVtyXSxpWzEtcl0pLHRoaXMuX3VwZGF0ZUF4aXNUcmFuc2Zvcm0oZSxuP3QueDp0LnkpfSx0LnByb3RvdHlwZS5fdXBkYXRlQXhpc1RyYW5zZm9ybT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1uWzBdK25bMV0scj10LmlzSG9yaXpvbnRhbCgpO3QudG9HbG9iYWxDb29yZD1yP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBpLXQrZX0sdC50b0xvY2FsQ29vcmQ9cj9mdW5jdGlvbih0KXtyZXR1cm4gdC1lfTpmdW5jdGlvbih0KXtyZXR1cm4gaS10K2V9fSx0LnByb3RvdHlwZS5nZXRBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4aXN9LHQucHJvdG90eXBlLmdldEJhc2VBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4aXN9LHQucHJvdG90eXBlLmdldEF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fYXhpc119LHQucHJvdG90eXBlLmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKCl7cmV0dXJue2Jhc2VBeGVzOlt0aGlzLmdldEF4aXMoKV0sb3RoZXJBeGVzOltdfX0sdC5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UmVjdCgpLG49dGhpcy5nZXRBeGlzKCk7cmV0dXJuXCJob3Jpem9udGFsXCI9PT1uLm9yaWVudD9uLmNvbnRhaW4obi50b0xvY2FsQ29vcmQodFswXSkpJiZ0WzFdPj1lLnkmJnRbMV08PWUueStlLmhlaWdodDpuLmNvbnRhaW4obi50b0xvY2FsQ29vcmQodFsxXSkpJiZ0WzBdPj1lLnkmJnRbMF08PWUueStlLmhlaWdodH0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBeGlzKCk7cmV0dXJuW2UuY29vcmRUb0RhdGEoZS50b0xvY2FsQ29vcmQodFtcImhvcml6b250YWxcIj09PWUub3JpZW50PzA6MV0pKV19LHQucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXhpcygpLG49dGhpcy5nZXRSZWN0KCksaT1bXSxyPVwiaG9yaXpvbnRhbFwiPT09ZS5vcmllbnQ/MDoxO3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXkmJih0PXRbMF0pLGlbcl09ZS50b0dsb2JhbENvb3JkKGUuZGF0YVRvQ29vcmQoK3QpKSxpWzEtcl09MD09PXI/bi55K24uaGVpZ2h0LzI6bi54K24ud2lkdGgvMixpfSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIF9SKGUpPT09dGhpcz90aGlzLmRhdGFUb1BvaW50KG4pOm51bGx9LHQucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBfUihlKT09PXRoaXM/dGhpcy5wb2ludFRvRGF0YShuKTpudWxsfSx0fSgpO2Z1bmN0aW9uIF9SKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWwsbj10LnNpbmdsZUF4aXNNb2RlbDtyZXR1cm4gbiYmbi5jb29yZGluYXRlU3lzdGVtfHxlJiZlLmNvb3JkaW5hdGVTeXN0ZW19dmFyIHhSPXtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KFwic2luZ2xlQXhpc1wiLChmdW5jdGlvbihpLHIpe3ZhciBvPW5ldyBtUihpLHQsZSk7by5uYW1lPVwic2luZ2xlX1wiK3Isby5yZXNpemUoaSxlKSxpLmNvb3JkaW5hdGVTeXN0ZW09byxuLnB1c2gobyl9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZihcInNpbmdsZUF4aXNcIj09PXQuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSl7dmFyIGU9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKFwic2luZ2xlQXhpc1wiLE9yKS5tb2RlbHNbMF07dC5jb29yZGluYXRlU3lzdGVtPWUmJmUuY29vcmRpbmF0ZVN5c3RlbX19KSksbn0sZGltZW5zaW9uczptUi5wcm90b3R5cGUuZGltZW5zaW9uc30sYlI9W1wieFwiLFwieVwiXSx3Uj1bXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLFNSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9by5jb29yZGluYXRlU3lzdGVtLHM9VFIoYSwxLUlSKG8pKSxsPWEuZGF0YVRvUG9pbnQoZSlbMF0sdT1pLmdldChcInR5cGVcIik7aWYodSYmXCJub25lXCIhPT11KXt2YXIgaD10TyhpKSxjPU1SW3VdKG8sbCxzKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y31yTyhlLHQsY1IobiksbixpLHIpfSxlLnByb3RvdHlwZS5nZXRIYW5kbGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWNSKGUse2xhYmVsSW5zaWRlOiExfSk7aS5sYWJlbE1hcmdpbj1uLmdldChbXCJoYW5kbGVcIixcIm1hcmdpblwiXSk7dmFyIHI9aU8oZS5heGlzLHQsaSk7cmV0dXJue3g6clswXSx5OnJbMV0scm90YXRpb246aS5yb3RhdGlvbisoaS5sYWJlbERpcmVjdGlvbjwwP01hdGguUEk6MCl9fSxlLnByb3RvdHlwZS51cGRhdGVIYW5kbGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89ci5jb29yZGluYXRlU3lzdGVtLGE9SVIocikscz1UUihvLGEpLGw9W3QueCx0LnldO2xbYV0rPWVbYV0sbFthXT1NYXRoLm1pbihzWzFdLGxbYV0pLGxbYV09TWF0aC5tYXgoc1swXSxsW2FdKTt2YXIgdT1UUihvLDEtYSksaD0odVsxXSt1WzBdKS8yLGM9W2gsaF07cmV0dXJuIGNbYV09bFthXSx7eDpsWzBdLHk6bFsxXSxyb3RhdGlvbjp0LnJvdGF0aW9uLGN1cnNvclBvaW50OmMsdG9vbHRpcE9wdGlvbjp7dmVydGljYWxBbGlnbjpcIm1pZGRsZVwifX19LGV9KGpQKSxNUj17bGluZTpmdW5jdGlvbih0LGUsbil7cmV0dXJue3R5cGU6XCJMaW5lXCIsc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTpvTyhbZSxuWzBdXSxbZSxuWzFdXSxJUih0KSl9fSxzaGFkb3c6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0QmFuZFdpZHRoKCkscj1uWzFdLW5bMF07cmV0dXJue3R5cGU6XCJSZWN0XCIsc2hhcGU6YU8oW2UtaS8yLG5bMF1dLFtpLHJdLElSKHQpKX19fTtmdW5jdGlvbiBJUih0KXtyZXR1cm4gdC5pc0hvcml6b250YWwoKT8wOjF9ZnVuY3Rpb24gVFIodCxlKXt2YXIgbj10LmdldFJlY3QoKTtyZXR1cm5bbltiUltlXV0sbltiUltlXV0rblt3UltlXV1dfXZhciBDUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9XCJzaW5nbGVcIixlfShwZik7dmFyIEFSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPVBjKGUpO3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLERSKGUscil9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLm1lcmdlT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxEUih0aGlzLm9wdGlvbixlKX0sZS5wcm90b3R5cGUuZ2V0Q2VsbFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb24uY2VsbFNpemV9LGUudHlwZT1cImNhbGVuZGFyXCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsbGVmdDo4MCx0b3A6NjAsY2VsbFNpemU6MjAsb3JpZW50OlwiaG9yaXpvbnRhbFwiLHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOlwiIzAwMFwiLHdpZHRoOjEsdHlwZTpcInNvbGlkXCJ9fSxpdGVtU3R5bGU6e2NvbG9yOlwiI2ZmZlwiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6XCIjY2NjXCJ9LGRheUxhYmVsOntzaG93OiEwLGZpcnN0RGF5OjAscG9zaXRpb246XCJzdGFydFwiLG1hcmdpbjpcIjUwJVwiLG5hbWVNYXA6XCJlblwiLGNvbG9yOlwiIzAwMFwifSxtb250aExhYmVsOntzaG93OiEwLHBvc2l0aW9uOlwic3RhcnRcIixtYXJnaW46NSxhbGlnbjpcImNlbnRlclwiLG5hbWVNYXA6XCJlblwiLGZvcm1hdHRlcjpudWxsLGNvbG9yOlwiIzAwMFwifSx5ZWFyTGFiZWw6e3Nob3c6ITAscG9zaXRpb246bnVsbCxtYXJnaW46MzAsZm9ybWF0dGVyOm51bGwsY29sb3I6XCIjY2NjXCIsZm9udEZhbWlseTpcInNhbnMtc2VyaWZcIixmb250V2VpZ2h0OlwiYm9sZGVyXCIsZm9udFNpemU6MjB9fSxlfShOYyk7ZnVuY3Rpb24gRFIodCxlKXt2YXIgbixpPXQuY2VsbFNpemU7MT09PShuPUYoaSk/aTp0LmNlbGxTaXplPVtpLGldKS5sZW5ndGgmJihuWzFdPW5bMF0pO3ZhciByPU8oWzAsMV0sKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10W0ljW2VdWzBdXXx8bnVsbCE9dFtJY1tlXVsxXV0mJm51bGwhPXRbSWNbZV1bMl1dfShlLHQpJiYoblt0XT1cImF1dG9cIiksbnVsbCE9blt0XSYmXCJhdXRvXCIhPT1uW3RdfSkpO2tjKHQsZSx7dHlwZTpcImJveFwiLGlnbm9yZVNpemU6cn0pfXZhciBMUj17RU46W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXSxDTjpbXCLkuIDmnIhcIixcIuS6jOaciFwiLFwi5LiJ5pyIXCIsXCLlm5vmnIhcIixcIuS6lOaciFwiLFwi5YWt5pyIXCIsXCLkuIPmnIhcIixcIuWFq+aciFwiLFwi5Lmd5pyIXCIsXCLljYHmnIhcIixcIuWNgeS4gOaciFwiLFwi5Y2B5LqM5pyIXCJdfSxrUj17RU46W1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXSxDTjpbXCLml6VcIixcIuS4gFwiLFwi5LqMXCIsXCLkuIlcIixcIuWbm1wiLFwi5LqUXCIsXCLlha1cIl19LFBSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5ncm91cDtpLnJlbW92ZUFsbCgpO3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXIuZ2V0UmFuZ2VJbmZvKCksYT1yLmdldE9yaWVudCgpO3RoaXMuX3JlbmRlckRheVJlY3QodCxvLGkpLHRoaXMuX3JlbmRlckxpbmVzKHQsbyxhLGkpLHRoaXMuX3JlbmRlclllYXJUZXh0KHQsbyxhLGkpLHRoaXMuX3JlbmRlck1vbnRoVGV4dCh0LGEsaSksdGhpcy5fcmVuZGVyV2Vla1RleHQodCxvLGEsaSl9LGUucHJvdG90eXBlLl9yZW5kZXJEYXlSZWN0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dC5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSxvPWkuZ2V0Q2VsbFdpZHRoKCksYT1pLmdldENlbGxIZWlnaHQoKSxzPWUuc3RhcnQudGltZTtzPD1lLmVuZC50aW1lO3M9aS5nZXROZXh0TkRheShzLDEpLnRpbWUpe3ZhciBsPWkuZGF0YVRvUmVjdChbc10sITEpLnRsLHU9bmV3IG9zKHtzaGFwZTp7eDpsWzBdLHk6bFsxXSx3aWR0aDpvLGhlaWdodDphfSxjdXJzb3I6XCJkZWZhdWx0XCIsc3R5bGU6cn0pO24uYWRkKHUpfX0sZS5wcm90b3R5cGUuX3JlbmRlckxpbmVzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT10LmdldE1vZGVsKFtcInNwbGl0TGluZVwiLFwibGluZVN0eWxlXCJdKS5nZXRMaW5lU3R5bGUoKSxzPXQuZ2V0KFtcInNwbGl0TGluZVwiLFwic2hvd1wiXSksbD1hLmxpbmVXaWR0aDt0aGlzLl90bHBvaW50cz1bXSx0aGlzLl9ibHBvaW50cz1bXSx0aGlzLl9maXJzdERheU9mTW9udGg9W10sdGhpcy5fZmlyc3REYXlQb2ludHM9W107Zm9yKHZhciB1PWUuc3RhcnQsaD0wO3UudGltZTw9ZS5lbmQudGltZTtoKyspe3AodS5mb3JtYXRlZERhdGUpLDA9PT1oJiYodT1vLmdldERhdGVJbmZvKGUuc3RhcnQueStcIi1cIitlLnN0YXJ0Lm0pKTt2YXIgYz11LmRhdGU7Yy5zZXRNb250aChjLmdldE1vbnRoKCkrMSksdT1vLmdldERhdGVJbmZvKGMpfWZ1bmN0aW9uIHAoZSl7ci5fZmlyc3REYXlPZk1vbnRoLnB1c2goby5nZXREYXRlSW5mbyhlKSksci5fZmlyc3REYXlQb2ludHMucHVzaChvLmRhdGFUb1JlY3QoW2VdLCExKS50bCk7dmFyIGw9ci5fZ2V0TGluZVBvaW50c09mT25lV2Vlayh0LGUsbik7ci5fdGxwb2ludHMucHVzaChsWzBdKSxyLl9ibHBvaW50cy5wdXNoKGxbbC5sZW5ndGgtMV0pLHMmJnIuX2RyYXdTcGxpdGxpbmUobCxhLGkpfXAoby5nZXROZXh0TkRheShlLmVuZC50aW1lLDEpLmZvcm1hdGVkRGF0ZSkscyYmdGhpcy5fZHJhd1NwbGl0bGluZShyLl9nZXRFZGdlc1BvaW50cyhyLl90bHBvaW50cyxsLG4pLGEsaSkscyYmdGhpcy5fZHJhd1NwbGl0bGluZShyLl9nZXRFZGdlc1BvaW50cyhyLl9ibHBvaW50cyxsLG4pLGEsaSl9LGUucHJvdG90eXBlLl9nZXRFZGdlc1BvaW50cz1mdW5jdGlvbih0LGUsbil7dmFyIGk9W3RbMF0uc2xpY2UoKSx0W3QubGVuZ3RoLTFdLnNsaWNlKCldLHI9XCJob3Jpem9udGFsXCI9PT1uPzA6MTtyZXR1cm4gaVswXVtyXT1pWzBdW3JdLWUvMixpWzFdW3JdPWlbMV1bcl0rZS8yLGl9LGUucHJvdG90eXBlLl9kcmF3U3BsaXRsaW5lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uZXcgJGwoe3oyOjIwLHNoYXBlOntwb2ludHM6dH0sc3R5bGU6ZX0pO24uYWRkKGkpfSxlLnByb3RvdHlwZS5fZ2V0TGluZVBvaW50c09mT25lV2Vlaz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPWkuZ2V0RGF0ZUluZm8oZSksbz1bXSxhPTA7YTw3O2ErKyl7dmFyIHM9aS5nZXROZXh0TkRheShyLnRpbWUsYSksbD1pLmRhdGFUb1JlY3QoW3MudGltZV0sITEpO29bMipzLmRheV09bC50bCxvWzIqcy5kYXkrMV09bFtcImhvcml6b250YWxcIj09PW4/XCJibFwiOlwidHJcIl19cmV0dXJuIG99LGUucHJvdG90eXBlLl9mb3JtYXR0ZXJMYWJlbD1mdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0PyhuPXQsUChlLChmdW5jdGlvbih0LGUpe249bi5yZXBsYWNlKFwie1wiK2UrXCJ9XCIsaT9nYyh0KTp0KX0pKSxuKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3QoZSk6ZS5uYW1lTWFwO3ZhciBuLGl9LGUucHJvdG90eXBlLl95ZWFyVGV4dFBvc2l0aW9uQ29udHJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPWVbMF0sYT1lWzFdLHM9W1wiY2VudGVyXCIsXCJib3R0b21cIl07XCJib3R0b21cIj09PWk/KGErPXIscz1bXCJjZW50ZXJcIixcInRvcFwiXSk6XCJsZWZ0XCI9PT1pP28tPXI6XCJyaWdodFwiPT09aT8obys9cixzPVtcImNlbnRlclwiLFwidG9wXCJdKTphLT1yO3ZhciBsPTA7cmV0dXJuXCJsZWZ0XCIhPT1pJiZcInJpZ2h0XCIhPT1pfHwobD1NYXRoLlBJLzIpLHtyb3RhdGlvbjpsLHg6byx5OmEsc3R5bGU6e2FsaWduOnNbMF0sdmVydGljYWxBbGlnbjpzWzFdfX19LGUucHJvdG90eXBlLl9yZW5kZXJZZWFyVGV4dD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldE1vZGVsKFwieWVhckxhYmVsXCIpO2lmKHIuZ2V0KFwic2hvd1wiKSl7dmFyIG89ci5nZXQoXCJtYXJnaW5cIiksYT1yLmdldChcInBvc2l0aW9uXCIpO2F8fChhPVwiaG9yaXpvbnRhbFwiIT09bj9cInRvcFwiOlwibGVmdFwiKTt2YXIgcz1bdGhpcy5fdGxwb2ludHNbdGhpcy5fdGxwb2ludHMubGVuZ3RoLTFdLHRoaXMuX2JscG9pbnRzWzBdXSxsPShzWzBdWzBdK3NbMV1bMF0pLzIsdT0oc1swXVsxXStzWzFdWzFdKS8yLGg9XCJob3Jpem9udGFsXCI9PT1uPzA6MSxjPXt0b3A6W2wsc1toXVsxXV0sYm90dG9tOltsLHNbMS1oXVsxXV0sbGVmdDpbc1sxLWhdWzBdLHVdLHJpZ2h0OltzW2hdWzBdLHVdfSxwPWUuc3RhcnQueTsrZS5lbmQueT4rZS5zdGFydC55JiYocD1wK1wiLVwiK2UuZW5kLnkpO3ZhciBkPXIuZ2V0KFwiZm9ybWF0dGVyXCIpLGY9e3N0YXJ0OmUuc3RhcnQueSxlbmQ6ZS5lbmQueSxuYW1lTWFwOnB9LGc9dGhpcy5fZm9ybWF0dGVyTGFiZWwoZCxmKSx5PW5ldyBscyh7ejI6MzAsc3R5bGU6bmgocix7dGV4dDpnfSl9KTt5LmF0dHIodGhpcy5feWVhclRleHRQb3NpdGlvbkNvbnRyb2woeSxjW2FdLG4sYSxvKSksaS5hZGQoeSl9fSxlLnByb3RvdHlwZS5fbW9udGhUZXh0UG9zaXRpb25Db250cm9sPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89XCJsZWZ0XCIsYT1cInRvcFwiLHM9dFswXSxsPXRbMV07cmV0dXJuXCJob3Jpem9udGFsXCI9PT1uPyhsKz1yLGUmJihvPVwiY2VudGVyXCIpLFwic3RhcnRcIj09PWkmJihhPVwiYm90dG9tXCIpKToocys9cixlJiYoYT1cIm1pZGRsZVwiKSxcInN0YXJ0XCI9PT1pJiYobz1cInJpZ2h0XCIpKSx7eDpzLHk6bCxhbGlnbjpvLHZlcnRpY2FsQWxpZ246YX19LGUucHJvdG90eXBlLl9yZW5kZXJNb250aFRleHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0TW9kZWwoXCJtb250aExhYmVsXCIpO2lmKGkuZ2V0KFwic2hvd1wiKSl7dmFyIHI9aS5nZXQoXCJuYW1lTWFwXCIpLG89aS5nZXQoXCJtYXJnaW5cIiksYT1pLmdldChcInBvc2l0aW9uXCIpLHM9aS5nZXQoXCJhbGlnblwiKSxsPVt0aGlzLl90bHBvaW50cyx0aGlzLl9ibHBvaW50c107SChyKSYmKHI9TFJbci50b1VwcGVyQ2FzZSgpXXx8W10pO3ZhciB1PVwic3RhcnRcIj09PWE/MDoxLGg9XCJob3Jpem9udGFsXCI9PT1lPzA6MTtvPVwic3RhcnRcIj09PWE/LW86bztmb3IodmFyIGM9XCJjZW50ZXJcIj09PXMscD0wO3A8bFt1XS5sZW5ndGgtMTtwKyspe3ZhciBkPWxbdV1bcF0uc2xpY2UoKSxmPXRoaXMuX2ZpcnN0RGF5T2ZNb250aFtwXTtpZihjKXt2YXIgZz10aGlzLl9maXJzdERheVBvaW50c1twXTtkW2hdPShnW2hdK2xbMF1bcCsxXVtoXSkvMn12YXIgeT1pLmdldChcImZvcm1hdHRlclwiKSx2PXJbK2YubS0xXSxtPXt5eXl5OmYueSx5eTooZi55K1wiXCIpLnNsaWNlKDIpLE1NOmYubSxNOitmLm0sbmFtZU1hcDp2fSxfPXRoaXMuX2Zvcm1hdHRlckxhYmVsKHksbSkseD1uZXcgbHMoe3oyOjMwLHN0eWxlOkkobmgoaSx7dGV4dDpffSksdGhpcy5fbW9udGhUZXh0UG9zaXRpb25Db250cm9sKGQsYyxlLGEsbykpfSk7bi5hZGQoeCl9fX0sZS5wcm90b3R5cGUuX3dlZWtUZXh0UG9zaXRpb25Db250cm9sPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89XCJjZW50ZXJcIixhPVwibWlkZGxlXCIscz10WzBdLGw9dFsxXSx1PVwic3RhcnRcIj09PW47cmV0dXJuXCJob3Jpem9udGFsXCI9PT1lPyhzPXMraSsodT8xOi0xKSpyWzBdLzIsbz11P1wicmlnaHRcIjpcImxlZnRcIik6KGw9bCtpKyh1PzE6LTEpKnJbMV0vMixhPXU/XCJib3R0b21cIjpcInRvcFwiKSx7eDpzLHk6bCxhbGlnbjpvLHZlcnRpY2FsQWxpZ246YX19LGUucHJvdG90eXBlLl9yZW5kZXJXZWVrVGV4dD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldE1vZGVsKFwiZGF5TGFiZWxcIik7aWYoci5nZXQoXCJzaG93XCIpKXt2YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT1yLmdldChcInBvc2l0aW9uXCIpLHM9ci5nZXQoXCJuYW1lTWFwXCIpLGw9ci5nZXQoXCJtYXJnaW5cIiksdT1vLmdldEZpcnN0RGF5T2ZXZWVrKCk7SChzKSYmKHM9a1Jbcy50b1VwcGVyQ2FzZSgpXXx8W10pO3ZhciBoPW8uZ2V0TmV4dE5EYXkoZS5lbmQudGltZSw3LWUubHdlZWspLnRpbWUsYz1bby5nZXRDZWxsV2lkdGgoKSxvLmdldENlbGxIZWlnaHQoKV07bD1aaShsLGNbXCJob3Jpem9udGFsXCI9PT1uPzA6MV0pLFwic3RhcnRcIj09PWEmJihoPW8uZ2V0TmV4dE5EYXkoZS5zdGFydC50aW1lLC0oNytlLmZ3ZWVrKSkudGltZSxsPS1sKTtmb3IodmFyIHA9MDtwPDc7cCsrKXt2YXIgZCxmPW8uZ2V0TmV4dE5EYXkoaCxwKSxnPW8uZGF0YVRvUmVjdChbZi50aW1lXSwhMSkuY2VudGVyO2Q9TWF0aC5hYnMoKHArdSklNyk7dmFyIHk9bmV3IGxzKHt6MjozMCxzdHlsZTpJKG5oKHIse3RleHQ6c1tkXX0pLHRoaXMuX3dlZWtUZXh0UG9zaXRpb25Db250cm9sKGcsbixhLGwsYykpfSk7aS5hZGQoeSl9fX0sZS50eXBlPVwiY2FsZW5kYXJcIixlfShwZiksT1I9ODY0ZTUsUlI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixpKXt0aGlzLnR5cGU9XCJjYWxlbmRhclwiLHRoaXMuZGltZW5zaW9ucz10LmRpbWVuc2lvbnMsdGhpcy5nZXREaW1lbnNpb25zSW5mbz10LmdldERpbWVuc2lvbnNJbmZvLHRoaXMuX21vZGVsPWV9cmV0dXJuIHQuZ2V0RGltZW5zaW9uc0luZm89ZnVuY3Rpb24oKXtyZXR1cm5be25hbWU6XCJ0aW1lXCIsdHlwZTpcInRpbWVcIn0sXCJ2YWx1ZVwiXX0sdC5wcm90b3R5cGUuZ2V0UmFuZ2VJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlSW5mb30sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWx9LHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUuZ2V0Q2VsbFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3fSx0LnByb3RvdHlwZS5nZXRDZWxsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NofSx0LnByb3RvdHlwZS5nZXRPcmllbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50fSx0LnByb3RvdHlwZS5nZXRGaXJzdERheU9mV2Vlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJzdERheU9mV2Vla30sdC5wcm90b3R5cGUuZ2V0RGF0ZUluZm89ZnVuY3Rpb24odCl7dmFyIGU9KHQ9cnIodCkpLmdldEZ1bGxZZWFyKCksbj10LmdldE1vbnRoKCkrMSxpPW48MTA/XCIwXCIrbjpcIlwiK24scj10LmdldERhdGUoKSxvPXI8MTA/XCIwXCIrcjpcIlwiK3IsYT10LmdldERheSgpO3JldHVybnt5OmUrXCJcIixtOmksZDpvLGRheTphPU1hdGguYWJzKChhKzctdGhpcy5nZXRGaXJzdERheU9mV2VlaygpKSU3KSx0aW1lOnQuZ2V0VGltZSgpLGZvcm1hdGVkRGF0ZTplK1wiLVwiK2krXCItXCIrbyxkYXRlOnR9fSx0LnByb3RvdHlwZS5nZXROZXh0TkRheT1mdW5jdGlvbih0LGUpe3JldHVybiAwPT09KGU9ZXx8MCl8fCh0PW5ldyBEYXRlKHRoaXMuZ2V0RGF0ZUluZm8odCkudGltZSkpLnNldERhdGUodC5nZXREYXRlKCkrZSksdGhpcy5nZXREYXRlSW5mbyh0KX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZmlyc3REYXlPZldlZWs9K3RoaXMuX21vZGVsLmdldE1vZGVsKFwiZGF5TGFiZWxcIikuZ2V0KFwiZmlyc3REYXlcIiksdGhpcy5fb3JpZW50PXRoaXMuX21vZGVsLmdldChcIm9yaWVudFwiKSx0aGlzLl9saW5lV2lkdGg9dGhpcy5fbW9kZWwuZ2V0TW9kZWwoXCJpdGVtU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCkubGluZVdpZHRofHwwLHRoaXMuX3JhbmdlSW5mbz10aGlzLl9nZXRSYW5nZUluZm8odGhpcy5faW5pdFJhbmdlT3B0aW9uKCkpO3ZhciBuPXRoaXMuX3JhbmdlSW5mby53ZWVrc3x8MSxpPVtcIndpZHRoXCIsXCJoZWlnaHRcIl0scj10aGlzLl9tb2RlbC5nZXRDZWxsU2l6ZSgpLnNsaWNlKCksbz10aGlzLl9tb2RlbC5nZXRCb3hMYXlvdXRQYXJhbXMoKSxhPVwiaG9yaXpvbnRhbFwiPT09dGhpcy5fb3JpZW50P1tuLDddOls3LG5dO1AoWzAsMV0sKGZ1bmN0aW9uKHQpe3Uocix0KSYmKG9baVt0XV09clt0XSphW3RdKX0pKTt2YXIgcz17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxsPXRoaXMuX3JlY3Q9QWMobyxzKTtmdW5jdGlvbiB1KHQsZSl7cmV0dXJuIG51bGwhPXRbZV0mJlwiYXV0b1wiIT09dFtlXX1QKFswLDFdLChmdW5jdGlvbih0KXt1KHIsdCl8fChyW3RdPWxbaVt0XV0vYVt0XSl9KSksdGhpcy5fc3c9clswXSx0aGlzLl9zaD1yWzFdfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe0YodCkmJih0PXRbMF0pLG51bGw9PWUmJihlPSEwKTt2YXIgbj10aGlzLmdldERhdGVJbmZvKHQpLGk9dGhpcy5fcmFuZ2VJbmZvLHI9bi5mb3JtYXRlZERhdGU7aWYoZSYmIShuLnRpbWU+PWkuc3RhcnQudGltZSYmbi50aW1lPGkuZW5kLnRpbWUrT1IpKXJldHVybltOYU4sTmFOXTt2YXIgbz1uLmRheSxhPXRoaXMuX2dldFJhbmdlSW5mbyhbaS5zdGFydC50aW1lLHJdKS5udGhXZWVrO3JldHVyblwidmVydGljYWxcIj09PXRoaXMuX29yaWVudD9bdGhpcy5fcmVjdC54K28qdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0LnkrYSp0aGlzLl9zaCt0aGlzLl9zaC8yXTpbdGhpcy5fcmVjdC54K2EqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0Lnkrbyp0aGlzLl9zaCt0aGlzLl9zaC8yXX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvRGF0ZSh0KTtyZXR1cm4gZSYmZS50aW1lfSx0LnByb3RvdHlwZS5kYXRhVG9SZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kYXRhVG9Qb2ludCh0LGUpO3JldHVybntjb250ZW50U2hhcGU6e3g6blswXS0odGhpcy5fc3ctdGhpcy5fbGluZVdpZHRoKS8yLHk6blsxXS0odGhpcy5fc2gtdGhpcy5fbGluZVdpZHRoKS8yLHdpZHRoOnRoaXMuX3N3LXRoaXMuX2xpbmVXaWR0aCxoZWlnaHQ6dGhpcy5fc2gtdGhpcy5fbGluZVdpZHRofSxjZW50ZXI6bix0bDpbblswXS10aGlzLl9zdy8yLG5bMV0tdGhpcy5fc2gvMl0sdHI6W25bMF0rdGhpcy5fc3cvMixuWzFdLXRoaXMuX3NoLzJdLGJyOltuWzBdK3RoaXMuX3N3LzIsblsxXSt0aGlzLl9zaC8yXSxibDpbblswXS10aGlzLl9zdy8yLG5bMV0rdGhpcy5fc2gvMl19fSx0LnByb3RvdHlwZS5wb2ludFRvRGF0ZT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKCh0WzBdLXRoaXMuX3JlY3QueCkvdGhpcy5fc3cpKzEsbj1NYXRoLmZsb29yKCh0WzFdLXRoaXMuX3JlY3QueSkvdGhpcy5fc2gpKzEsaT10aGlzLl9yYW5nZUluZm8ucmFuZ2U7cmV0dXJuXCJ2ZXJ0aWNhbFwiPT09dGhpcy5fb3JpZW50P3RoaXMuX2dldERhdGVCeVdlZWtzQW5kRGF5KG4sZS0xLGkpOnRoaXMuX2dldERhdGVCeVdlZWtzQW5kRGF5KGUsbi0xLGkpfSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9TlIoZSk7cmV0dXJuIGk9PT10aGlzP2kuZGF0YVRvUG9pbnQobik6bnVsbH0sdC5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9TlIoZSk7cmV0dXJuIGk9PT10aGlzP2kucG9pbnRUb0RhdGEobik6bnVsbH0sdC5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJOb3QgaW1wbGVtZW50ZWQuXCIpLCExfSx0LnByb3RvdHlwZS5faW5pdFJhbmdlT3B0aW9uPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9tb2RlbC5nZXQoXCJyYW5nZVwiKTtpZihGKGUpJiYxPT09ZS5sZW5ndGgmJihlPWVbMF0pLEYoZSkpdD1lO2Vsc2V7dmFyIG49ZS50b1N0cmluZygpO2lmKC9eXFxkezR9JC8udGVzdChuKSYmKHQ9W24rXCItMDEtMDFcIixuK1wiLTEyLTMxXCJdKSwvXlxcZHs0fVtcXC98LV1cXGR7MSwyfSQvLnRlc3Qobikpe3ZhciBpPXRoaXMuZ2V0RGF0ZUluZm8obikscj1pLmRhdGU7ci5zZXRNb250aChyLmdldE1vbnRoKCkrMSk7dmFyIG89dGhpcy5nZXROZXh0TkRheShyLC0xKTt0PVtpLmZvcm1hdGVkRGF0ZSxvLmZvcm1hdGVkRGF0ZV19L15cXGR7NH1bXFwvfC1dXFxkezEsMn1bXFwvfC1dXFxkezEsMn0kLy50ZXN0KG4pJiYodD1bbixuXSl9aWYoIXQpcmV0dXJuIGU7dmFyIGE9dGhpcy5fZ2V0UmFuZ2VJbmZvKHQpO3JldHVybiBhLnN0YXJ0LnRpbWU+YS5lbmQudGltZSYmdC5yZXZlcnNlKCksdH0sdC5wcm90b3R5cGUuX2dldFJhbmdlSW5mbz1mdW5jdGlvbih0KXt2YXIgZSxuPVt0aGlzLmdldERhdGVJbmZvKHRbMF0pLHRoaXMuZ2V0RGF0ZUluZm8odFsxXSldO25bMF0udGltZT5uWzFdLnRpbWUmJihlPSEwLG4ucmV2ZXJzZSgpKTt2YXIgaT1NYXRoLmZsb29yKG5bMV0udGltZS9PUiktTWF0aC5mbG9vcihuWzBdLnRpbWUvT1IpKzEscj1uZXcgRGF0ZShuWzBdLnRpbWUpLG89ci5nZXREYXRlKCksYT1uWzFdLmRhdGUuZ2V0RGF0ZSgpO3Iuc2V0RGF0ZShvK2ktMSk7dmFyIHM9ci5nZXREYXRlKCk7aWYocyE9PWEpZm9yKHZhciBsPXIuZ2V0VGltZSgpLW5bMV0udGltZT4wPzE6LTE7KHM9ci5nZXREYXRlKCkpIT09YSYmKHIuZ2V0VGltZSgpLW5bMV0udGltZSkqbD4wOylpLT1sLHIuc2V0RGF0ZShzLWwpO3ZhciB1PU1hdGguZmxvb3IoKGkrblswXS5kYXkrNikvNyksaD1lPzEtdTp1LTE7cmV0dXJuIGUmJm4ucmV2ZXJzZSgpLHtyYW5nZTpbblswXS5mb3JtYXRlZERhdGUsblsxXS5mb3JtYXRlZERhdGVdLHN0YXJ0Om5bMF0sZW5kOm5bMV0sYWxsRGF5Omksd2Vla3M6dSxudGhXZWVrOmgsZndlZWs6blswXS5kYXksbHdlZWs6blsxXS5kYXl9fSx0LnByb3RvdHlwZS5fZ2V0RGF0ZUJ5V2Vla3NBbmREYXk9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2dldFJhbmdlSW5mbyhuKTtpZih0Pmkud2Vla3N8fDA9PT10JiZlPGkuZndlZWt8fHQ9PT1pLndlZWtzJiZlPmkubHdlZWspcmV0dXJuIG51bGw7dmFyIHI9NyoodC0xKS1pLmZ3ZWVrK2Usbz1uZXcgRGF0ZShpLnN0YXJ0LnRpbWUpO3JldHVybiBvLnNldERhdGUoK2kuc3RhcnQuZCtyKSx0aGlzLmdldERhdGVJbmZvKG8pfSx0LmNyZWF0ZT1mdW5jdGlvbihlLG4pe3ZhciBpPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoXCJjYWxlbmRhclwiLChmdW5jdGlvbihyKXt2YXIgbz1uZXcgdChyLGUsbik7aS5wdXNoKG8pLHIuY29vcmRpbmF0ZVN5c3RlbT1vfSkpLGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7XCJjYWxlbmRhclwiPT09dC5nZXQoXCJjb29yZGluYXRlU3lzdGVtXCIpJiYodC5jb29yZGluYXRlU3lzdGVtPWlbdC5nZXQoXCJjYWxlbmRhckluZGV4XCIpfHwwXSl9KSksaX0sdC5kaW1lbnNpb25zPVtcInRpbWVcIixcInZhbHVlXCJdLHR9KCk7ZnVuY3Rpb24gTlIodCl7dmFyIGU9dC5jYWxlbmRhck1vZGVsLG49dC5zZXJpZXNNb2RlbDtyZXR1cm4gZT9lLmNvb3JkaW5hdGVTeXN0ZW06bj9uLmNvb3JkaW5hdGVTeXN0ZW06bnVsbH12YXIgRVI9THIoKSx6Uj17cGF0aDpudWxsLGNvbXBvdW5kUGF0aDpudWxsLGdyb3VwOnppLGltYWdlOkphLHRleHQ6bHN9LEJSPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ3JhcGhpYztGKGUpP2VbMF0mJmVbMF0uZWxlbWVudHM/dC5ncmFwaGljPVt0LmdyYXBoaWNbMF1dOnQuZ3JhcGhpYz1be2VsZW1lbnRzOmV9XTplJiYhZS5lbGVtZW50cyYmKHQuZ3JhcGhpYz1be2VsZW1lbnRzOltlXX1dKX0sVlI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzLm9wdGlvbi5lbGVtZW50czt0aGlzLm9wdGlvbi5lbGVtZW50cz1udWxsLHQucHJvdG90eXBlLm1lcmdlT3B0aW9uLmNhbGwodGhpcyxlLG4pLHRoaXMub3B0aW9uLmVsZW1lbnRzPWl9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPShlP246dCkuZWxlbWVudHMscj1uLmVsZW1lbnRzPWU/W106bi5lbGVtZW50cyxvPVtdO3RoaXMuX2ZsYXR0ZW4oaSxvLG51bGwpO3ZhciBhPVNyKHIsbyxcIm5vcm1hbE1lcmdlXCIpLHM9dGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9W107UChhLChmdW5jdGlvbih0LGUpe3ZhciBuPXQubmV3T3B0aW9uO24mJihzLnB1c2gobiksZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4aXN0aW5nO2lmKGUuaWQ9dC5rZXlJbmZvLmlkLCFlLnR5cGUmJm4mJihlLnR5cGU9bi50eXBlKSxudWxsPT1lLnBhcmVudElkKXt2YXIgaT1lLnBhcmVudE9wdGlvbjtpP2UucGFyZW50SWQ9aS5pZDpuJiYoZS5wYXJlbnRJZD1uLnBhcmVudElkKX1lLnBhcmVudE9wdGlvbj1udWxsfSh0LG4pLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1JKHt9LG4pLHI9dFtlXSxvPW4uJGFjdGlvbnx8XCJtZXJnZVwiO2lmKFwibWVyZ2VcIj09PW8pe2lmKHIpUyhyLGksITApLGtjKHIsaSx7aWdub3JlU2l6ZTohMH0pLE9jKG4scik7ZWxzZSB0W2VdPWl9ZWxzZVwicmVwbGFjZVwiPT09bz90W2VdPWk6XCJyZW1vdmVcIj09PW8mJnImJih0W2VdPW51bGwpfShyLGUsbiksZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm47aWYodC5odj1lLmh2PVtXUihlLFtcImxlZnRcIixcInJpZ2h0XCJdKSxXUihlLFtcInRvcFwiLFwiYm90dG9tXCJdKV0sXCJncm91cFwiPT09dC50eXBlKXt2YXIgbj10LGk9ZTtudWxsPT1uLndpZHRoJiYobi53aWR0aD1pLndpZHRoPTApLG51bGw9PW4uaGVpZ2h0JiYobi5oZWlnaHQ9aS5oZWlnaHQ9MCl9fShyW2VdLG4pKX0pLHRoaXMpO2Zvcih2YXIgbD1yLmxlbmd0aC0xO2w+PTA7bC0tKW51bGw9PXJbbF0/ci5zcGxpY2UobCwxKTpkZWxldGUgcltsXS4kYWN0aW9ufSxlLnByb3RvdHlwZS5fZmxhdHRlbj1mdW5jdGlvbih0LGUsbil7UCh0LChmdW5jdGlvbih0KXtpZih0KXtuJiYodC5wYXJlbnRPcHRpb249biksZS5wdXNoKHQpO3ZhciBpPXQuY2hpbGRyZW47XCJncm91cFwiPT09dC50eXBlJiZpJiZ0aGlzLl9mbGF0dGVuKGksZSx0KSxkZWxldGUgdC5jaGlsZHJlbn19KSx0aGlzKX0sZS5wcm90b3R5cGUudXNlRWxPcHRpb25zVG9VcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbE9wdGlvbnNUb1VwZGF0ZTtyZXR1cm4gdGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9bnVsbCx0fSxlLnR5cGU9XCJncmFwaGljXCIsZS5kZWZhdWx0T3B0aW9uPXtlbGVtZW50czpbXX0sZX0oTmMpLEZSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9lbE1hcD1odCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3QhPT10aGlzLl9sYXN0R3JhcGhpY01vZGVsJiZ0aGlzLl9jbGVhcigpLHRoaXMuX2xhc3RHcmFwaGljTW9kZWw9dCx0aGlzLl91cGRhdGVFbGVtZW50cyh0KSx0aGlzLl9yZWxvY2F0ZSh0LG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlRWxlbWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dC51c2VFbE9wdGlvbnNUb1VwZGF0ZSgpO2lmKGUpe3ZhciBuPXRoaXMuX2VsTWFwLGk9dGhpcy5ncm91cDtQKGUsKGZ1bmN0aW9uKGUpe3ZhciByPVRyKGUuaWQsbnVsbCksbz1udWxsIT1yP24uZ2V0KHIpOm51bGwsYT1UcihlLnBhcmVudElkLG51bGwpLHM9bnVsbCE9YT9uLmdldChhKTppLGw9ZS50eXBlLHU9ZS5zdHlsZTtcInRleHRcIj09PWwmJnUmJmUuaHYmJmUuaHZbMV0mJih1LnRleHRWZXJ0aWNhbEFsaWduPXUudGV4dEJhc2VsaW5lPXUudmVydGljYWxBbGlnbj11LmFsaWduPW51bGwpO3ZhciBoPWUudGV4dENvbnRlbnQsYz1lLnRleHRDb25maWc7aWYodSYmeWsodSxsLCEhYywhIWgpKXt2YXIgcD12ayh1LGwsITApOyFjJiZwLnRleHRDb25maWcmJihjPWUudGV4dENvbmZpZz1wLnRleHRDb25maWcpLCFoJiZwLnRleHRDb250ZW50JiYoaD1wLnRleHRDb250ZW50KX12YXIgZD1mdW5jdGlvbih0KXtyZXR1cm4gdD1JKHt9LHQpLFAoW1wiaWRcIixcInBhcmVudElkXCIsXCIkYWN0aW9uXCIsXCJodlwiLFwiYm91bmRpbmdcIixcInRleHRDb250ZW50XCJdLmNvbmNhdChNYyksKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0W2VdfSkpLHR9KGUpO3ZhciBmPWUuJGFjdGlvbnx8XCJtZXJnZVwiO1wibWVyZ2VcIj09PWY/bz9vLmF0dHIoZCk6R1IocixzLGQsbik6XCJyZXBsYWNlXCI9PT1mPyhIUihvLG4pLEdSKHIscyxkLG4pKTpcInJlbW92ZVwiPT09ZiYmSFIobyxuKTt2YXIgZz1uLmdldChyKTtpZihnJiZoKWlmKFwibWVyZ2VcIj09PWYpe3ZhciB5PWcuZ2V0VGV4dENvbnRlbnQoKTt5P3kuYXR0cihoKTpnLnNldFRleHRDb250ZW50KG5ldyBscyhoKSl9ZWxzZVwicmVwbGFjZVwiPT09ZiYmZy5zZXRUZXh0Q29udGVudChuZXcgbHMoaCkpO2lmKGcpe3ZhciB2PUVSKGcpO3YuX19lY0dyYXBoaWNXaWR0aE9wdGlvbj1lLndpZHRoLHYuX19lY0dyYXBoaWNIZWlnaHRPcHRpb249ZS5oZWlnaHQsZnVuY3Rpb24odCxlLG4pe3ZhciBpPXlzKHQpLmV2ZW50RGF0YTt0LnNpbGVudHx8dC5pZ25vcmV8fGl8fChpPXlzKHQpLmV2ZW50RGF0YT17Y29tcG9uZW50VHlwZTpcImdyYXBoaWNcIixjb21wb25lbnRJbmRleDplLmNvbXBvbmVudEluZGV4LG5hbWU6dC5uYW1lfSk7aSYmKGkuaW5mbz1uLmluZm8pfShnLHQsZSl9fSkpfX0sZS5wcm90b3R5cGUuX3JlbG9jYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQub3B0aW9uLmVsZW1lbnRzLGk9dGhpcy5ncm91cCxyPXRoaXMuX2VsTWFwLG89ZS5nZXRXaWR0aCgpLGE9ZS5nZXRIZWlnaHQoKSxzPTA7czxuLmxlbmd0aDtzKyspe2lmKChkPW51bGwhPShwPVRyKChjPW5bc10pLmlkLG51bGwpKT9yLmdldChwKTpudWxsKSYmZC5pc0dyb3VwKXt2YXIgbD0oZj1kLnBhcmVudCk9PT1pLHU9RVIoZCksaD1FUihmKTt1Ll9fZWNHcmFwaGljV2lkdGg9WmkodS5fX2VjR3JhcGhpY1dpZHRoT3B0aW9uLGw/bzpoLl9fZWNHcmFwaGljV2lkdGgpfHwwLHUuX19lY0dyYXBoaWNIZWlnaHQ9WmkodS5fX2VjR3JhcGhpY0hlaWdodE9wdGlvbixsP2E6aC5fX2VjR3JhcGhpY0hlaWdodCl8fDB9fWZvcihzPW4ubGVuZ3RoLTE7cz49MDtzLS0pe3ZhciBjLHAsZDtpZihkPW51bGwhPShwPVRyKChjPW5bc10pLmlkLG51bGwpKT9yLmdldChwKTpudWxsKXt2YXIgZj1kLnBhcmVudDtoPUVSKGYpO0RjKGQsYyxmPT09aT97d2lkdGg6byxoZWlnaHQ6YX06e3dpZHRoOmguX19lY0dyYXBoaWNXaWR0aCxoZWlnaHQ6aC5fX2VjR3JhcGhpY0hlaWdodH0sbnVsbCx7aHY6Yy5odixib3VuZGluZ01vZGU6Yy5ib3VuZGluZ30pfX19LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2VsTWFwO3QuZWFjaCgoZnVuY3Rpb24oZSl7SFIoZSx0KX0pKSx0aGlzLl9lbE1hcD1odCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKX0sZS50eXBlPVwiZ3JhcGhpY1wiLGV9KHBmKTtmdW5jdGlvbiBHUih0LGUsbixpKXt2YXIgcj1uLnR5cGU7dmFyIG89ZHQoelIscik/elJbcl06SXUocik7dmFyIGE9bmV3IG8obik7ZS5hZGQoYSksaS5zZXQodCxhKSxFUihhKS5fX2VjR3JhcGhpY0lkPXR9ZnVuY3Rpb24gSFIodCxlKXt2YXIgbj10JiZ0LnBhcmVudDtuJiYoXCJncm91cFwiPT09dC50eXBlJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtIUih0LGUpfSkpLGUucmVtb3ZlS2V5KEVSKHQpLl9fZWNHcmFwaGljSWQpLG4ucmVtb3ZlKHQpKX1mdW5jdGlvbiBXUih0LGUpe3ZhciBuO3JldHVybiBQKGUsKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJlwiYXV0b1wiIT09dFtlXSYmKG49ITApfSkpLG59dmFyIFlSPVtcInhcIixcInlcIixcInJhZGl1c1wiLFwiYW5nbGVcIixcInNpbmdsZVwiXSxYUj1bXCJjYXJ0ZXNpYW4yZFwiLFwicG9sYXJcIixcInNpbmdsZUF4aXNcIl07ZnVuY3Rpb24gVVIodCl7cmV0dXJuIHQrXCJBeGlzXCJ9ZnVuY3Rpb24gWlIodCxlKXt2YXIgbixpPWh0KCkscj1bXSxvPWh0KCk7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcImRhdGFab29tXCIscXVlcnk6ZX0sKGZ1bmN0aW9uKHQpe28uZ2V0KHQudWlkKXx8cyh0KX0pKTtkb3tuPSExLHQuZWFjaENvbXBvbmVudChcImRhdGFab29tXCIsYSl9d2hpbGUobik7ZnVuY3Rpb24gYSh0KXshby5nZXQodC51aWQpJiZmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24odCxuKXt2YXIgcj1pLmdldCh0KTtyJiZyW25dJiYoZT0hMCl9KSksZX0odCkmJihzKHQpLG49ITApfWZ1bmN0aW9uIHModCl7by5zZXQodC51aWQsITApLHIucHVzaCh0KSx0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbih0LGUpeyhpLmdldCh0KXx8aS5zZXQodCxbXSkpW2VdPSEwfSkpfXJldHVybiByfWZ1bmN0aW9uIGpSKHQpe3ZhciBlPXQuZWNNb2RlbCxuPXtpbmZvTGlzdDpbXSxpbmZvTWFwOmh0KCl9O3JldHVybiB0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbih0LGkpe3ZhciByPWUuZ2V0Q29tcG9uZW50KFVSKHQpLGkpO2lmKHIpe3ZhciBvPXIuZ2V0Q29vcmRTeXNNb2RlbCgpO2lmKG8pe3ZhciBhPW8udWlkLHM9bi5pbmZvTWFwLmdldChhKTtzfHwocz17bW9kZWw6byxheGlzTW9kZWxzOltdfSxuLmluZm9MaXN0LnB1c2gocyksbi5pbmZvTWFwLnNldChhLHMpKSxzLmF4aXNNb2RlbHMucHVzaChyKX19fSkpLG59dmFyIHFSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuaW5kZXhMaXN0PVtdLHRoaXMuaW5kZXhNYXA9W119cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLmluZGV4TWFwW3RdfHwodGhpcy5pbmRleExpc3QucHVzaCh0KSx0aGlzLmluZGV4TWFwW3RdPSEwKX0sdH0oKSxLUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2F1dG9UaHJvdHRsZT0hMCxuLl9ub1RhcmdldD0hMCxuLl9yYW5nZVByb3BNb2RlPVtcInBlcmNlbnRcIixcInBlcmNlbnRcIl0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPSRSKHQpO3RoaXMuc2V0dGxlZE9wdGlvbj1pLHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxuKSx0aGlzLl9kb0luaXQoaSl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPSRSKHQpO1ModGhpcy5vcHRpb24sdCwhMCksUyh0aGlzLnNldHRsZWRPcHRpb24sZSwhMCksdGhpcy5fZG9Jbml0KGUpfSxlLnByb3RvdHlwZS5fZG9Jbml0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO3RoaXMuX3NldERlZmF1bHRUaHJvdHRsZSh0KSx0aGlzLl91cGRhdGVSYW5nZVVzZSh0KTt2YXIgbj10aGlzLnNldHRsZWRPcHRpb247UChbW1wic3RhcnRcIixcInN0YXJ0VmFsdWVcIl0sW1wiZW5kXCIsXCJlbmRWYWx1ZVwiXV0sKGZ1bmN0aW9uKHQsaSl7XCJ2YWx1ZVwiPT09dGhpcy5fcmFuZ2VQcm9wTW9kZVtpXSYmKGVbdFswXV09blt0WzBdXT1udWxsKX0pLHRoaXMpLHRoaXMuX3Jlc2V0VGFyZ2V0KCl9LGUucHJvdG90eXBlLl9yZXNldFRhcmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KFwib3JpZW50XCIsITApLGU9dGhpcy5fdGFyZ2V0QXhpc0luZm9NYXA9aHQoKTt0aGlzLl9maWxsU3BlY2lmaWVkVGFyZ2V0QXhpcyhlKT90aGlzLl9vcmllbnQ9dHx8dGhpcy5fbWFrZUF1dG9PcmllbnRCeVRhcmdldEF4aXMoKToodGhpcy5fb3JpZW50PXR8fFwiaG9yaXpvbnRhbFwiLHRoaXMuX2ZpbGxBdXRvVGFyZ2V0QXhpc0J5T3JpZW50KGUsdGhpcy5fb3JpZW50KSksdGhpcy5fbm9UYXJnZXQ9ITAsZS5lYWNoKChmdW5jdGlvbih0KXt0LmluZGV4TGlzdC5sZW5ndGgmJih0aGlzLl9ub1RhcmdldD0hMSl9KSx0aGlzKX0sZS5wcm90b3R5cGUuX2ZpbGxTcGVjaWZpZWRUYXJnZXRBeGlzPWZ1bmN0aW9uKHQpe3ZhciBlPSExO3JldHVybiBQKFlSLChmdW5jdGlvbihuKXt2YXIgaT10aGlzLmdldFJlZmVycmluZ0NvbXBvbmVudHMoVVIobiksUnIpO2lmKGkuc3BlY2lmaWVkKXtlPSEwO3ZhciByPW5ldyBxUjtQKGkubW9kZWxzLChmdW5jdGlvbih0KXtyLmFkZCh0LmNvbXBvbmVudEluZGV4KX0pKSx0LnNldChuLHIpfX0pLHRoaXMpLGV9LGUucHJvdG90eXBlLl9maWxsQXV0b1RhcmdldEF4aXNCeU9yaWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZWNNb2RlbCxpPSEwO2lmKGkpe3ZhciByPVwidmVydGljYWxcIj09PWU/XCJ5XCI6XCJ4XCI7byhuLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpyK1wiQXhpc1wifSkscil9aSYmbyhuLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpcInNpbmdsZUF4aXNcIixmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KFwib3JpZW50XCIsITApPT09ZX19KSxcInNpbmdsZVwiKTtmdW5jdGlvbiBvKGUsbil7dmFyIHI9ZVswXTtpZihyKXt2YXIgbz1uZXcgcVI7aWYoby5hZGQoci5jb21wb25lbnRJbmRleCksdC5zZXQobixvKSxpPSExLFwieFwiPT09bnx8XCJ5XCI9PT1uKXt2YXIgYT1yLmdldFJlZmVycmluZ0NvbXBvbmVudHMoXCJncmlkXCIsT3IpLm1vZGVsc1swXTthJiZQKGUsKGZ1bmN0aW9uKHQpe3IuY29tcG9uZW50SW5kZXghPT10LmNvbXBvbmVudEluZGV4JiZhPT09dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKFwiZ3JpZFwiLE9yKS5tb2RlbHNbMF0mJm8uYWRkKHQuY29tcG9uZW50SW5kZXgpfSkpfX19aSYmUChZUiwoZnVuY3Rpb24oZSl7aWYoaSl7dmFyIHI9bi5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6VVIoZSksZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVyblwiY2F0ZWdvcnlcIj09PXQuZ2V0KFwidHlwZVwiLCEwKX19KTtpZihyWzBdKXt2YXIgbz1uZXcgcVI7by5hZGQoclswXS5jb21wb25lbnRJbmRleCksdC5zZXQoZSxvKSxpPSExfX19KSx0aGlzKX0sZS5wcm90b3R5cGUuX21ha2VBdXRvT3JpZW50QnlUYXJnZXRBeGlzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKGUpeyF0JiYodD1lKX0pLHRoaXMpLFwieVwiPT09dD9cInZlcnRpY2FsXCI6XCJob3Jpem9udGFsXCJ9LGUucHJvdG90eXBlLl9zZXREZWZhdWx0VGhyb3R0bGU9ZnVuY3Rpb24odCl7aWYodC5oYXNPd25Qcm9wZXJ0eShcInRocm90dGxlXCIpJiYodGhpcy5fYXV0b1Rocm90dGxlPSExKSx0aGlzLl9hdXRvVGhyb3R0bGUpe3ZhciBlPXRoaXMuZWNNb2RlbC5vcHRpb247dGhpcy5vcHRpb24udGhyb3R0bGU9ZS5hbmltYXRpb24mJmUuYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU+MD8xMDA6MjB9fSxlLnByb3RvdHlwZS5fdXBkYXRlUmFuZ2VVc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmFuZ2VQcm9wTW9kZSxuPXRoaXMuZ2V0KFwicmFuZ2VNb2RlXCIpO1AoW1tcInN0YXJ0XCIsXCJzdGFydFZhbHVlXCJdLFtcImVuZFwiLFwiZW5kVmFsdWVcIl1dLChmdW5jdGlvbihpLHIpe3ZhciBvPW51bGwhPXRbaVswXV0sYT1udWxsIT10W2lbMV1dO28mJiFhP2Vbcl09XCJwZXJjZW50XCI6IW8mJmE/ZVtyXT1cInZhbHVlXCI6bj9lW3JdPW5bcl06byYmKGVbcl09XCJwZXJjZW50XCIpfSkpfSxlLnByb3RvdHlwZS5ub1RhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub1RhcmdldH0sZS5wcm90b3R5cGUuZ2V0Rmlyc3RUYXJnZXRBeGlzTW9kZWw9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24oZSxuKXtudWxsPT10JiYodD10aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KFVSKGUpLG4pKX0pLHRoaXMpLHR9LGUucHJvdG90eXBlLmVhY2hUYXJnZXRBeGlzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdGFyZ2V0QXhpc0luZm9NYXAuZWFjaCgoZnVuY3Rpb24obixpKXtQKG4uaW5kZXhMaXN0LChmdW5jdGlvbihuKXt0LmNhbGwoZSxpLG4pfSkpfSkpfSxlLnByb3RvdHlwZS5nZXRBeGlzUHJveHk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF4aXNNb2RlbCh0LGUpO2lmKG4pcmV0dXJuIG4uX19kekF4aXNQcm94eX0sZS5wcm90b3R5cGUuZ2V0QXhpc01vZGVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fdGFyZ2V0QXhpc0luZm9NYXAuZ2V0KHQpO2lmKG4mJm4uaW5kZXhNYXBbZV0pcmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQoVVIodCksZSl9LGUucHJvdG90eXBlLnNldFJhd1JhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLG49dGhpcy5zZXR0bGVkT3B0aW9uO1AoW1tcInN0YXJ0XCIsXCJzdGFydFZhbHVlXCJdLFtcImVuZFwiLFwiZW5kVmFsdWVcIl1dLChmdW5jdGlvbihpKXtudWxsPT10W2lbMF1dJiZudWxsPT10W2lbMV1dfHwoZVtpWzBdXT1uW2lbMF1dPXRbaVswXV0sZVtpWzFdXT1uW2lbMV1dPXRbaVsxXV0pfSksdGhpcyksdGhpcy5fdXBkYXRlUmFuZ2VVc2UodCl9LGUucHJvdG90eXBlLnNldENhbGN1bGF0ZWRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjtQKFtcInN0YXJ0XCIsXCJzdGFydFZhbHVlXCIsXCJlbmRcIixcImVuZFZhbHVlXCJdLChmdW5jdGlvbihuKXtlW25dPXRbbl19KSl9LGUucHJvdG90eXBlLmdldFBlcmNlbnRSYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7aWYodClyZXR1cm4gdC5nZXREYXRhUGVyY2VudFdpbmRvdygpfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVJhbmdlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dHx8bnVsbCE9ZSlyZXR1cm4gdGhpcy5nZXRBeGlzUHJveHkodCxlKS5nZXREYXRhVmFsdWVXaW5kb3coKTt2YXIgbj10aGlzLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO3JldHVybiBuP24uZ2V0RGF0YVZhbHVlV2luZG93KCk6dm9pZCAwfSxlLnByb3RvdHlwZS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHk9ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdC5fX2R6QXhpc1Byb3h5O2Zvcih2YXIgZSxuPXRoaXMuX3RhcmdldEF4aXNJbmZvTWFwLmtleXMoKSxpPTA7aTxuLmxlbmd0aDtpKyspZm9yKHZhciByPW5baV0sbz10aGlzLl90YXJnZXRBeGlzSW5mb01hcC5nZXQociksYT0wO2E8by5pbmRleExpc3QubGVuZ3RoO2ErKyl7dmFyIHM9dGhpcy5nZXRBeGlzUHJveHkocixvLmluZGV4TGlzdFthXSk7aWYocy5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gcztlfHwoZT1zKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VQcm9wTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZVByb3BNb2RlLnNsaWNlKCl9LGUucHJvdG90eXBlLmdldE9yaWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnR9LGUudHlwZT1cImRhdGFab29tXCIsZS5kZXBlbmRlbmNpZXM9W1wieEF4aXNcIixcInlBeGlzXCIsXCJyYWRpdXNBeGlzXCIsXCJhbmdsZUF4aXNcIixcInNpbmdsZUF4aXNcIixcInNlcmllc1wiLFwidG9vbGJveFwiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NCxmaWx0ZXJNb2RlOlwiZmlsdGVyXCIsc3RhcnQ6MCxlbmQ6MTAwfSxlfShOYyk7ZnVuY3Rpb24gJFIodCl7dmFyIGU9e307cmV0dXJuIFAoW1wic3RhcnRcIixcImVuZFwiLFwic3RhcnRWYWx1ZVwiLFwiZW5kVmFsdWVcIixcInRocm90dGxlXCJdLChmdW5jdGlvbihuKXt0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKSxlfXZhciBKUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9XCJkYXRhWm9vbS5zZWxlY3RcIixlfShLUiksUVI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuZGF0YVpvb21Nb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPW59LGUudHlwZT1cImRhdGFab29tXCIsZX0ocGYpLHROPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT1cImRhdGFab29tLnNlbGVjdFwiLGV9KFFSKSxlTj1QLG5OPXFpLGlOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLl9kaW1OYW1lPXQsdGhpcy5fYXhpc0luZGV4PWUsdGhpcy5lY01vZGVsPWksdGhpcy5fZGF0YVpvb21Nb2RlbD1ufXJldHVybiB0LnByb3RvdHlwZS5ob3N0ZWRCeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YVpvb21Nb2RlbD09PXR9LHQucHJvdG90eXBlLmdldERhdGFWYWx1ZVdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZVdpbmRvdy5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXREYXRhUGVyY2VudFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZXJjZW50V2luZG93LnNsaWNlKCl9LHQucHJvdG90eXBlLmdldFRhcmdldFNlcmllc01vZGVscz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmVjTW9kZWwuZWFjaFNlcmllcygoZnVuY3Rpb24oZSl7aWYoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJjb29yZGluYXRlU3lzdGVtXCIpO3JldHVybiBBKFhSLGUpPj0wfShlKSl7dmFyIG49VVIodGhpcy5fZGltTmFtZSksaT1lLmdldFJlZmVycmluZ0NvbXBvbmVudHMobixPcikubW9kZWxzWzBdO2kmJnRoaXMuX2F4aXNJbmRleD09PWkuY29tcG9uZW50SW5kZXgmJnQucHVzaChlKX19KSx0aGlzKSx0fSx0LnByb3RvdHlwZS5nZXRBeGlzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh0aGlzLl9kaW1OYW1lK1wiQXhpc1wiLHRoaXMuX2F4aXNJbmRleCl9LHQucHJvdG90eXBlLmdldE1pbk1heFNwYW49ZnVuY3Rpb24oKXtyZXR1cm4gdyh0aGlzLl9taW5NYXhTcGFuKX0sdC5wcm90b3R5cGUuY2FsY3VsYXRlRGF0YVdpbmRvdz1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuX2RhdGFFeHRlbnQsaT10aGlzLmdldEF4aXNNb2RlbCgpLmF4aXMuc2NhbGUscj10aGlzLl9kYXRhWm9vbU1vZGVsLmdldFJhbmdlUHJvcE1vZGUoKSxvPVswLDEwMF0sYT1bXSxzPVtdO2VOKFtcInN0YXJ0XCIsXCJlbmRcIl0sKGZ1bmN0aW9uKGwsdSl7dmFyIGg9dFtsXSxjPXRbbCtcIlZhbHVlXCJdO1wicGVyY2VudFwiPT09clt1XT8obnVsbD09aCYmKGg9b1t1XSksYz1pLnBhcnNlKFVpKGgsbyxuKSkpOihlPSEwLGg9VWkoYz1udWxsPT1jP25bdV06aS5wYXJzZShjKSxuLG8pKSxzW3VdPWMsYVt1XT1ofSkpLG5OKHMpLG5OKGEpO3ZhciBsPXRoaXMuX21pbk1heFNwYW47ZnVuY3Rpb24gdSh0LGUsbixyLG8pe3ZhciBhPW8/XCJTcGFuXCI6XCJWYWx1ZVNwYW5cIjt0QSgwLHQsbixcImFsbFwiLGxbXCJtaW5cIithXSxsW1wibWF4XCIrYV0pO2Zvcih2YXIgcz0wO3M8MjtzKyspZVtzXT1VaSh0W3NdLG4sciwhMCksbyYmKGVbc109aS5wYXJzZShlW3NdKSl9cmV0dXJuIGU/dShzLGEsbixvLCExKTp1KGEscyxvLG4sITApLHt2YWx1ZVdpbmRvdzpzLHBlcmNlbnRXaW5kb3c6YX19LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzLl9kYXRhWm9vbU1vZGVsKXt2YXIgZT10aGlzLmdldFRhcmdldFNlcmllc01vZGVscygpO3RoaXMuX2RhdGFFeHRlbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVsxLzAsLTEvMF07ZU4obiwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXtlJiZQKFpfKGUsbiksKGZ1bmN0aW9uKG4pe3ZhciBpPWUuZ2V0QXBwcm94aW1hdGVFeHRlbnQobik7aVswXTx0WzBdJiYodFswXT1pWzBdKSxpWzFdPnRbMV0mJih0WzFdPWlbMV0pfSkpfShpLHQuZ2V0RGF0YSgpLGUpfSkpO3ZhciByPXQuZ2V0QXhpc01vZGVsKCksbz16XyhyLmF4aXMuc2NhbGUscixpKS5jYWxjdWxhdGUoKTtyZXR1cm5bby5taW4sby5tYXhdfSh0aGlzLHRoaXMuX2RpbU5hbWUsZSksdGhpcy5fdXBkYXRlTWluTWF4U3BhbigpO3ZhciBuPXRoaXMuY2FsY3VsYXRlRGF0YVdpbmRvdyh0LnNldHRsZWRPcHRpb24pO3RoaXMuX3ZhbHVlV2luZG93PW4udmFsdWVXaW5kb3csdGhpcy5fcGVyY2VudFdpbmRvdz1uLnBlcmNlbnRXaW5kb3csdGhpcy5fc2V0QXhpc01vZGVsKCl9fSx0LnByb3RvdHlwZS5maWx0ZXJEYXRhPWZ1bmN0aW9uKHQsZSl7aWYodD09PXRoaXMuX2RhdGFab29tTW9kZWwpe3ZhciBuPXRoaXMuX2RpbU5hbWUsaT10aGlzLmdldFRhcmdldFNlcmllc01vZGVscygpLHI9dC5nZXQoXCJmaWx0ZXJNb2RlXCIpLG89dGhpcy5fdmFsdWVXaW5kb3c7XCJub25lXCIhPT1yJiZlTihpLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPWUubWFwRGltZW5zaW9uc0FsbChuKTtpLmxlbmd0aCYmKFwid2Vha0ZpbHRlclwiPT09cj9lLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbixyLGEscz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgbD1lLmdldChpW3NdLHQpLHU9IWlzTmFOKGwpLGg9bDxvWzBdLGM9bD5vWzFdO2lmKHUmJiFoJiYhYylyZXR1cm4hMDt1JiYoYT0hMCksaCYmKG49ITApLGMmJihyPSEwKX1yZXR1cm4gYSYmbiYmcn0pKTplTihpLChmdW5jdGlvbihuKXtpZihcImVtcHR5XCI9PT1yKXQuc2V0RGF0YShlPWUubWFwKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdD49b1swXSYmdDw9b1sxXX0odCk/dDpOYU59KSkpO2Vsc2V7dmFyIGk9e307aVtuXT1vLGUuc2VsZWN0UmFuZ2UoaSl9fSkpLGVOKGksKGZ1bmN0aW9uKHQpe2Uuc2V0QXBwcm94aW1hdGVFeHRlbnQobyx0KX0pKSl9KSl9fSx0LnByb3RvdHlwZS5fdXBkYXRlTWluTWF4U3Bhbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21pbk1heFNwYW49e30sZT10aGlzLl9kYXRhWm9vbU1vZGVsLG49dGhpcy5fZGF0YUV4dGVudDtlTihbXCJtaW5cIixcIm1heFwiXSwoZnVuY3Rpb24oaSl7dmFyIHI9ZS5nZXQoaStcIlNwYW5cIiksbz1lLmdldChpK1wiVmFsdWVTcGFuXCIpO251bGwhPW8mJihvPXRoaXMuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZS5wYXJzZShvKSksbnVsbCE9bz9yPVVpKG5bMF0rbyxuLFswLDEwMF0sITApOm51bGwhPXImJihvPVVpKHIsWzAsMTAwXSxuLCEwKS1uWzBdKSx0W2krXCJTcGFuXCJdPXIsdFtpK1wiVmFsdWVTcGFuXCJdPW99KSx0aGlzKX0sdC5wcm90b3R5cGUuX3NldEF4aXNNb2RlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0QXhpc01vZGVsKCksZT10aGlzLl9wZXJjZW50V2luZG93LG49dGhpcy5fdmFsdWVXaW5kb3c7aWYoZSl7dmFyIGk9SmkobixbMCw1MDBdKTtpPU1hdGgubWluKGksMjApO3ZhciByPXQuYXhpcy5zY2FsZS5yYXdFeHRlbnRJbmZvOzAhPT1lWzBdJiZyLnNldERldGVybWluZWRNaW5NYXgoXCJtaW5cIiwrblswXS50b0ZpeGVkKGkpKSwxMDAhPT1lWzFdJiZyLnNldERldGVybWluZWRNaW5NYXgoXCJtYXhcIiwrblsxXS50b0ZpeGVkKGkpKSxyLmZyZWV6ZSgpfX0sdH0oKTt2YXIgck49e2dldFRhcmdldFNlcmllczpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuZWFjaENvbXBvbmVudChcImRhdGFab29tXCIsKGZ1bmN0aW9uKG4pe24uZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKGkscil7dmFyIG89dC5nZXRDb21wb25lbnQoVVIoaSkscik7ZShpLHIsbyxuKX0pKX0pKX1lKChmdW5jdGlvbih0LGUsbixpKXtuLl9fZHpBeGlzUHJveHk9bnVsbH0pKTt2YXIgbj1bXTtlKChmdW5jdGlvbihlLGkscixvKXtyLl9fZHpBeGlzUHJveHl8fChyLl9fZHpBeGlzUHJveHk9bmV3IGlOKGUsaSxvLHQpLG4ucHVzaChyLl9fZHpBeGlzUHJveHkpKX0pKTt2YXIgaT1odCgpO3JldHVybiBQKG4sKGZ1bmN0aW9uKHQpe1AodC5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSwoZnVuY3Rpb24odCl7aS5zZXQodC51aWQsdCl9KSl9KSksaX0sb3ZlcmFsbFJlc2V0OmZ1bmN0aW9uKHQsZSl7dC5lYWNoQ29tcG9uZW50KFwiZGF0YVpvb21cIiwoZnVuY3Rpb24odCl7dC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24oZSxuKXt0LmdldEF4aXNQcm94eShlLG4pLnJlc2V0KHQpfSkpLHQuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKG4saSl7dC5nZXRBeGlzUHJveHkobixpKS5maWx0ZXJEYXRhKHQsZSl9KSl9KSksdC5lYWNoQ29tcG9uZW50KFwiZGF0YVpvb21cIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtpZihlKXt2YXIgbj1lLmdldERhdGFQZXJjZW50V2luZG93KCksaT1lLmdldERhdGFWYWx1ZVdpbmRvdygpO3Quc2V0Q2FsY3VsYXRlZFJhbmdlKHtzdGFydDpuWzBdLGVuZDpuWzFdLHN0YXJ0VmFsdWU6aVswXSxlbmRWYWx1ZTppWzFdfSl9fSkpfX07dmFyIG9OPSExO2Z1bmN0aW9uIGFOKHQpe29OfHwob049ITAsdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5GSUxURVIsck4pLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oXCJkYXRhWm9vbVwiLChmdW5jdGlvbih0LGUpe1AoWlIoZSx0KSwoZnVuY3Rpb24oZSl7ZS5zZXRSYXdSYW5nZSh7c3RhcnQ6dC5zdGFydCxlbmQ6dC5lbmQsc3RhcnRWYWx1ZTp0LnN0YXJ0VmFsdWUsZW5kVmFsdWU6dC5lbmRWYWx1ZX0pfSkpfSkpfSh0KSx0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcihcImRhdGFab29tXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJzbGlkZXJcIn0pKSl9ZnVuY3Rpb24gc04odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKEpSKSx0LnJlZ2lzdGVyQ29tcG9uZW50Vmlldyh0TiksYU4odCl9dmFyIGxOPWZ1bmN0aW9uKCl7fSx1Tj17fTtmdW5jdGlvbiBoTih0LGUpe3VOW3RdPWV9ZnVuY3Rpb24gY04odCl7cmV0dXJuIHVOW3RdfXZhciBwTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUub3B0aW9uVXBkYXRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5lY01vZGVsO1AodGhpcy5vcHRpb24uZmVhdHVyZSwoZnVuY3Rpb24odCxuKXt2YXIgaT1jTihuKTtpJiYoaS5nZXREZWZhdWx0T3B0aW9uJiYoaS5kZWZhdWx0T3B0aW9uPWkuZ2V0RGVmYXVsdE9wdGlvbihlKSksUyh0LGkuZGVmYXVsdE9wdGlvbikpfSkpfSxlLnR5cGU9XCJ0b29sYm94XCIsZS5sYXlvdXRNb2RlPXt0eXBlOlwiYm94XCIsaWdub3JlU2l6ZTohMH0sZS5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHo6Nix6bGV2ZWw6MCxvcmllbnQ6XCJob3Jpem9udGFsXCIsbGVmdDpcInJpZ2h0XCIsdG9wOlwidG9wXCIsYmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIixib3JkZXJDb2xvcjpcIiNjY2NcIixib3JkZXJSYWRpdXM6MCxib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtU2l6ZToxNSxpdGVtR2FwOjgsc2hvd1RpdGxlOiEwLGljb25TdHlsZTp7Ym9yZGVyQ29sb3I6XCIjNjY2XCIsY29sb3I6XCJub25lXCJ9LGVtcGhhc2lzOntpY29uU3R5bGU6e2JvcmRlckNvbG9yOlwiIzNFOThDNVwifX0sdG9vbHRpcDp7c2hvdzohMX19LGV9KE5jKTtmdW5jdGlvbiBkTih0LGUpe3ZhciBuPXBjKGUuZ2V0KFwicGFkZGluZ1wiKSksaT1lLmdldEl0ZW1TdHlsZShbXCJjb2xvclwiLFwib3BhY2l0eVwiXSk7cmV0dXJuIGkuZmlsbD1lLmdldChcImJhY2tncm91bmRDb2xvclwiKSx0PW5ldyBvcyh7c2hhcGU6e3g6dC54LW5bM10seTp0LnktblswXSx3aWR0aDp0LndpZHRoK25bMV0rblszXSxoZWlnaHQ6dC5oZWlnaHQrblswXStuWzJdLHI6ZS5nZXQoXCJib3JkZXJSYWRpdXNcIil9LHN0eWxlOmksc2lsZW50OiEwLHoyOi0xfSl9dmFyIGZOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuZ3JvdXA7aWYoci5yZW1vdmVBbGwoKSx0LmdldChcInNob3dcIikpe3ZhciBvPSt0LmdldChcIml0ZW1TaXplXCIpLGE9dC5nZXQoXCJmZWF0dXJlXCIpfHx7fSxzPXRoaXMuX2ZlYXR1cmVzfHwodGhpcy5fZmVhdHVyZXM9e30pLGw9W107UChhLChmdW5jdGlvbih0LGUpe2wucHVzaChlKX0pKSxuZXcgcm0odGhpcy5fZmVhdHVyZU5hbWVzfHxbXSxsKS5hZGQodSkudXBkYXRlKHUpLnJlbW92ZShWKHUsbnVsbCkpLmV4ZWN1dGUoKSx0aGlzLl9mZWF0dXJlTmFtZXM9bCxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRCb3hMYXlvdXRQYXJhbXMoKSxyPWUuZ2V0KFwicGFkZGluZ1wiKSxvPXt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LGE9QWMoaSxvLHIpO0NjKGUuZ2V0KFwib3JpZW50XCIpLHQsZS5nZXQoXCJpdGVtR2FwXCIpLGEud2lkdGgsYS5oZWlnaHQpLERjKHQsaSxvLHIpfShyLHQsbiksci5hZGQoZE4oci5nZXRCb3VuZGluZ1JlY3QoKSx0KSksci5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuX190aXRsZSxpPXQuZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKSxhPWkudGV4dENvbmZpZ3x8KGkudGV4dENvbmZpZz17fSkscz10LmdldFRleHRDb250ZW50KCksbD1zJiZzLnN0YXRlcy5lbXBoYXNpcztpZihsJiYhRyhsKSYmZSl7dmFyIHU9bC5zdHlsZXx8KGwuc3R5bGU9e30pLGg9Rm4oZSxscy5tYWtlRm9udCh1KSksYz10Lngrci54LHA9ITE7dC55K3IueStvK2guaGVpZ2h0Pm4uZ2V0SGVpZ2h0KCkmJihhLnBvc2l0aW9uPVwidG9wXCIscD0hMCk7dmFyIGQ9cD8tNS1oLmhlaWdodDpvKzg7YytoLndpZHRoLzI+bi5nZXRXaWR0aCgpPyhhLnBvc2l0aW9uPVtcIjEwMCVcIixkXSx1LmFsaWduPVwicmlnaHRcIik6Yy1oLndpZHRoLzI8MCYmKGEucG9zaXRpb249WzAsZF0sdS5hbGlnbj1cImxlZnRcIil9fSkpfWZ1bmN0aW9uIHUodSxoKXt2YXIgYyxwPWxbdV0sZD1sW2hdLGY9YVtwXSxnPW5ldyBTaChmLHQsdC5lY01vZGVsKTtpZihpJiZudWxsIT1pLm5ld1RpdGxlJiZpLmZlYXR1cmVOYW1lPT09cCYmKGYudGl0bGU9aS5uZXdUaXRsZSkscCYmIWQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5pbmRleE9mKFwibXlcIil9KHApKWM9e29uY2xpY2s6Zy5vcHRpb24ub25jbGljayxmZWF0dXJlTmFtZTpwfTtlbHNle3ZhciB5PWNOKHApO2lmKCF5KXJldHVybjtjPW5ldyB5fXNbcF09Y31lbHNlIGlmKCEoYz1zW2RdKSlyZXR1cm47aWYoYy51aWQ9SWgoXCJ0b29sYm94LWZlYXR1cmVcIiksYy5tb2RlbD1nLGMuZWNNb2RlbD1lLGMuYXBpPW4sYyBpbnN0YW5jZW9mIGxOKXtpZighcCYmZClyZXR1cm4gdm9pZChjLmRpc3Bvc2UmJmMuZGlzcG9zZShlLG4pKTtpZighZy5nZXQoXCJzaG93XCIpfHxjLnVudXNhYmxlKXJldHVybiB2b2lkKGMucmVtb3ZlJiZjLnJlbW92ZShlLG4pKX0hZnVuY3Rpb24oaSxhLHMpe3ZhciBsLHUsaD1pLmdldE1vZGVsKFwiaWNvblN0eWxlXCIpLGM9aS5nZXRNb2RlbChbXCJlbXBoYXNpc1wiLFwiaWNvblN0eWxlXCJdKSxwPWEgaW5zdGFuY2VvZiBsTiYmYS5nZXRJY29ucz9hLmdldEljb25zKCk6aS5nZXQoXCJpY29uXCIpLGQ9aS5nZXQoXCJ0aXRsZVwiKXx8e307XCJzdHJpbmdcIj09dHlwZW9mIHA/KGw9e30pW3NdPXA6bD1wO1wic3RyaW5nXCI9PXR5cGVvZiBkPyh1PXt9KVtzXT1kOnU9ZDt2YXIgZj1pLmljb25QYXRocz17fTtQKGwsKGZ1bmN0aW9uKHMsbCl7dmFyIHA9VXUocyx7fSx7eDotby8yLHk6LW8vMix3aWR0aDpvLGhlaWdodDpvfSk7cC5zZXRTdHlsZShoLmdldEl0ZW1TdHlsZSgpKSxwLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGU9Yy5nZXRJdGVtU3R5bGUoKTt2YXIgZD1uZXcgbHMoe3N0eWxlOnt0ZXh0OnVbbF0sYWxpZ246Yy5nZXQoXCJ0ZXh0QWxpZ25cIiksYm9yZGVyUmFkaXVzOmMuZ2V0KFwidGV4dEJvcmRlclJhZGl1c1wiKSxwYWRkaW5nOmMuZ2V0KFwidGV4dFBhZGRpbmdcIiksZmlsbDpudWxsfSxpZ25vcmU6ITB9KTtwLnNldFRleHRDb250ZW50KGQpO3ZhciBnPXQuZ2V0TW9kZWwoXCJ0b29sdGlwXCIpO2cmJmcuZ2V0KFwic2hvd1wiKSYmKHAudG9vbHRpcD1JKHtjb250ZW50OnVbbF0sZm9ybWF0dGVyOmcuZ2V0KFwiZm9ybWF0dGVyXCIsITApfHxmdW5jdGlvbigpe3JldHVybiB1W2xdfSxmb3JtYXR0ZXJQYXJhbXM6e2NvbXBvbmVudFR5cGU6XCJ0b29sYm94XCIsbmFtZTpsLHRpdGxlOnVbbF0sJHZhcnM6W1wibmFtZVwiLFwidGl0bGVcIl19LHBvc2l0aW9uOmcuZ2V0KFwicG9zaXRpb25cIiwhMCl8fFwiYm90dG9tXCJ9LGcub3B0aW9uKSkscC5fX3RpdGxlPXVbbF0scC5vbihcIm1vdXNlb3ZlclwiLChmdW5jdGlvbigpe3ZhciBlPWMuZ2V0SXRlbVN0eWxlKCksbj1cInZlcnRpY2FsXCI9PT10LmdldChcIm9yaWVudFwiKT9udWxsPT10LmdldChcInJpZ2h0XCIpP1wicmlnaHRcIjpcImxlZnRcIjpudWxsPT10LmdldChcImJvdHRvbVwiKT9cImJvdHRvbVwiOlwidG9wXCI7ZC5zZXRTdHlsZSh7ZmlsbDpjLmdldChcInRleHRGaWxsXCIpfHxlLmZpbGx8fGUuc3Ryb2tlfHxcIiMwMDBcIixiYWNrZ3JvdW5kQ29sb3I6Yy5nZXQoXCJ0ZXh0QmFja2dyb3VuZENvbG9yXCIpfSkscC5zZXRUZXh0Q29uZmlnKHtwb3NpdGlvbjpjLmdldChcInRleHRQb3NpdGlvblwiKXx8bn0pLGQuaWdub3JlPSF0LmdldChcInNob3dUaXRsZVwiKSxIcyh0aGlzKX0pKS5vbihcIm1vdXNlb3V0XCIsKGZ1bmN0aW9uKCl7XCJlbXBoYXNpc1wiIT09aS5nZXQoW1wiaWNvblN0YXR1c1wiLGxdKSYmV3ModGhpcyksZC5oaWRlKCl9KSksKFwiZW1waGFzaXNcIj09PWkuZ2V0KFtcImljb25TdGF0dXNcIixsXSk/SHM6V3MpKHApLHIuYWRkKHApLHAub24oXCJjbGlja1wiLEIoYS5vbmNsaWNrLGEsZSxuLGwpKSxmW2xdPXB9KSl9KGcsYyxwKSxnLnNldEljb25TdGF0dXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPXRoaXMuaWNvblBhdGhzO24uaWNvblN0YXR1cz1uLmljb25TdGF0dXN8fHt9LG4uaWNvblN0YXR1c1t0XT1lLGlbdF0mJihcImVtcGhhc2lzXCI9PT1lP0hzOldzKShpW3RdKX0sYyBpbnN0YW5jZW9mIGxOJiZjLnJlbmRlciYmYy5yZW5kZXIoZyxlLG4saSl9fSxlLnByb3RvdHlwZS51cGRhdGVWaWV3PWZ1bmN0aW9uKHQsZSxuLGkpe1AodGhpcy5fZmVhdHVyZXMsKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBsTiYmdC51cGRhdGVWaWV3JiZ0LnVwZGF0ZVZpZXcodC5tb2RlbCxlLG4saSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe1AodGhpcy5fZmVhdHVyZXMsKGZ1bmN0aW9uKG4pe24gaW5zdGFuY2VvZiBsTiYmbi5yZW1vdmUmJm4ucmVtb3ZlKHQsZSl9KSksdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe1AodGhpcy5fZmVhdHVyZXMsKGZ1bmN0aW9uKG4pe24gaW5zdGFuY2VvZiBsTiYmbi5kaXNwb3NlJiZuLmRpc3Bvc2UodCxlKX0pKX0sZS50eXBlPVwidG9vbGJveFwiLGV9KHBmKTt2YXIgZ049ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5tb2RlbCxpPW4uZ2V0KFwibmFtZVwiKXx8dC5nZXQoXCJ0aXRsZS4wLnRleHRcIil8fFwiZWNoYXJ0c1wiLHI9XCJzdmdcIj09PWUuZ2V0WnIoKS5wYWludGVyLmdldFR5cGUoKSxvPXI/XCJzdmdcIjpuLmdldChcInR5cGVcIiwhMCl8fFwicG5nXCIscz1lLmdldENvbm5lY3RlZERhdGFVUkwoe3R5cGU6byxiYWNrZ3JvdW5kQ29sb3I6bi5nZXQoXCJiYWNrZ3JvdW5kQ29sb3JcIiwhMCl8fHQuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpfHxcIiNmZmZcIixjb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3I6bi5nZXQoXCJjb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3JcIiksZXhjbHVkZUNvbXBvbmVudHM6bi5nZXQoXCJleGNsdWRlQ29tcG9uZW50c1wiKSxwaXhlbFJhdGlvOm4uZ2V0KFwicGl4ZWxSYXRpb1wiKX0pO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIE1vdXNlRXZlbnR8fCFhLmJyb3dzZXIubmV3RWRnZSYmKGEuYnJvd3Nlci5pZXx8YS5icm93c2VyLmVkZ2UpKWlmKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYnx8cil7dmFyIGw9cy5zcGxpdChcIixcIiksdT1sWzBdLmluZGV4T2YoXCJiYXNlNjRcIik+LTEsaD1yP2RlY29kZVVSSUNvbXBvbmVudChsWzFdKTpsWzFdO3UmJihoPWF0b2IoaCkpO3ZhciBjPWkrXCIuXCIrbztpZih3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2Ipe2Zvcih2YXIgcD1oLmxlbmd0aCxkPW5ldyBVaW50OEFycmF5KHApO3AtLTspZFtwXT1oLmNoYXJDb2RlQXQocCk7dmFyIGY9bmV3IEJsb2IoW2RdKTt3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoZixjKX1lbHNle3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKTt2YXIgeT1nLmNvbnRlbnRXaW5kb3csdj15LmRvY3VtZW50O3Yub3BlbihcImltYWdlL3N2Zyt4bWxcIixcInJlcGxhY2VcIiksdi53cml0ZShoKSx2LmNsb3NlKCkseS5mb2N1cygpLHYuZXhlY0NvbW1hbmQoXCJTYXZlQXNcIiwhMCxjKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGcpfX1lbHNle3ZhciBtPW4uZ2V0KFwibGFuZ1wiKSxfPSc8Ym9keSBzdHlsZT1cIm1hcmdpbjowO1wiPjxpbWcgc3JjPVwiJytzKydcIiBzdHlsZT1cIm1heC13aWR0aDoxMDAlO1wiIHRpdGxlPVwiJysobSYmbVswXXx8XCJcIikrJ1wiIC8+PC9ib2R5PicseD13aW5kb3cub3BlbigpO3guZG9jdW1lbnQud3JpdGUoXykseC5kb2N1bWVudC50aXRsZT1pfWVsc2V7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7Yi5kb3dubG9hZD1pK1wiLlwiK28sYi50YXJnZXQ9XCJfYmxhbmtcIixiLmhyZWY9czt2YXIgdz1uZXcgTW91c2VFdmVudChcImNsaWNrXCIse3ZpZXc6ZG9jdW1lbnQuZGVmYXVsdFZpZXcsYnViYmxlczohMCxjYW5jZWxhYmxlOiExfSk7Yi5kaXNwYXRjaEV2ZW50KHcpfX0sZS5nZXREZWZhdWx0T3B0aW9uPWZ1bmN0aW9uKHQpe3JldHVybntzaG93OiEwLGljb246XCJNNC43LDIyLjlMMjkuMyw0NS41TDU0LjcsMjMuNE00LjYsNDMuNkw0LjYsNThMNTMuOCw1OEw1My44LDQzLjZNMjkuMiw0NS4xTDI5LjIsMFwiLHRpdGxlOnQuZ2V0TG9jYWxlKFtcInRvb2xib3hcIixcInNhdmVBc0ltYWdlXCIsXCJ0aXRsZVwiXSksdHlwZTpcInBuZ1wiLGNvbm5lY3RlZEJhY2tncm91bmRDb2xvcjpcIiNmZmZcIixuYW1lOlwiXCIsZXhjbHVkZUNvbXBvbmVudHM6W1widG9vbGJveFwiXSxwaXhlbFJhdGlvOjEsbGFuZzp0LmdldExvY2FsZShbXCJ0b29sYm94XCIsXCJzYXZlQXNJbWFnZVwiLFwibGFuZ1wiXSl9fSxlfShsTik7Z04ucHJvdG90eXBlLnVudXNhYmxlPSFhLmNhbnZhc1N1cHBvcnRlZDt2YXIgeU49XCJfX2VjX21hZ2ljVHlwZV9zdGFja19fXCIsdk49W1tcImxpbmVcIixcImJhclwiXSxbXCJzdGFja1wiXV0sbU49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldChcImljb25cIiksbj17fTtyZXR1cm4gUCh0LmdldChcInR5cGVcIiksKGZ1bmN0aW9uKHQpe2VbdF0mJihuW3RdPWVbdF0pfSkpLG59LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCx0eXBlOltdLGljb246e2xpbmU6XCJNNC4xLDI4LjloNy4xbDkuMy0yMmw3LjQsMzhsOS43LTE5LjdsMywxMi44aDE0LjlNNC4xLDU4aDUxLjRcIixiYXI6XCJNNi43LDIyLjloMTBWNDhoLTEwVjIyLjl6TTI0LjksMTNoMTB2MzVoLTEwVjEzek00My4yLDJoMTB2NDZoLTEwVjJ6TTMuMSw1OGg1My43XCIsc3RhY2s6XCJNOC4yLDM4LjRsLTguNCw0LjFsMzAuNiwxNS4zTDYwLDQyLjVsLTguMS00LjFsLTIxLjUsMTFMOC4yLDM4LjR6IE01MS45LDMwbC04LjEsNC4ybC0xMy40LDYuOWwtMTMuOS02LjlMOC4yLDMwbC04LjQsNC4ybDguNCw0LjJsMjIuMiwxMWwyMS41LTExbDguMS00LjJMNTEuOSwzMHogTTUxLjksMjEuN2wtOC4xLDQuMkwzNS43LDMwbC01LjMsMi44TDI0LjksMzBsLTguNC00LjFsLTguMy00LjJsLTguNCw0LjJMOC4yLDMwbDguMyw0LjJsMTMuOSw2LjlsMTMuNC02LjlsOC4xLTQuMmw4LjEtNC4xTDUxLjksMjEuN3pNMzAuNCwyLjJMLTAuMiwxNy41bDguNCw0LjFsOC4zLDQuMmw4LjQsNC4ybDUuNSwyLjdsNS4zLTIuN2w4LjEtNC4ybDguMS00LjJsOC4xLTQuMUwzMC40LDIuMnpcIn0sdGl0bGU6dC5nZXRMb2NhbGUoW1widG9vbGJveFwiLFwibWFnaWNUeXBlXCIsXCJ0aXRsZVwiXSksb3B0aW9uOnt9LHNlcmllc0luZGV4Ont9fX0sZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5tb2RlbCxyPWkuZ2V0KFtcInNlcmllc0luZGV4XCIsbl0pO2lmKF9OW25dKXt2YXIgbyxhPXtzZXJpZXM6W119O1Aodk4sKGZ1bmN0aW9uKHQpe0EodCxuKT49MCYmUCh0LChmdW5jdGlvbih0KXtpLnNldEljb25TdGF0dXModCxcIm5vcm1hbFwiKX0pKX0pKSxpLnNldEljb25TdGF0dXMobixcImVtcGhhc2lzXCIpLHQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJzZXJpZXNcIixxdWVyeTpudWxsPT1yP251bGw6e3Nlcmllc0luZGV4OnJ9fSwoZnVuY3Rpb24odCl7dmFyIGU9dC5zdWJUeXBlLHI9dC5pZCxvPV9OW25dKGUscix0LGkpO28mJihUKG8sdC5vcHRpb24pLGEuc2VyaWVzLnB1c2gobykpO3ZhciBzPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihzJiZcImNhcnRlc2lhbjJkXCI9PT1zLnR5cGUmJihcImxpbmVcIj09PW58fFwiYmFyXCI9PT1uKSl7dmFyIGw9cy5nZXRBeGVzQnlTY2FsZShcIm9yZGluYWxcIilbMF07aWYobCl7dmFyIHU9bC5kaW0rXCJBeGlzXCIsaD10LmdldFJlZmVycmluZ0NvbXBvbmVudHModSxPcikubW9kZWxzWzBdLmNvbXBvbmVudEluZGV4O2FbdV09YVt1XXx8W107Zm9yKHZhciBjPTA7Yzw9aDtjKyspYVt1XVtoXT1hW3VdW2hdfHx7fTthW3VdW2hdLmJvdW5kYXJ5R2FwPVwiYmFyXCI9PT1ufX19KSksXCJzdGFja1wiPT09biYmKG89Uyh7c3RhY2s6aS5vcHRpb24udGl0bGUudGlsZWQsdGlsZWQ6aS5vcHRpb24udGl0bGUuc3RhY2t9LGkub3B0aW9uLnRpdGxlKSksZS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImNoYW5nZU1hZ2ljVHlwZVwiLGN1cnJlbnRUeXBlOm4sbmV3T3B0aW9uOmEsbmV3VGl0bGU6byxmZWF0dXJlTmFtZTpcIm1hZ2ljVHlwZVwifSl9fSxlfShsTiksX049e2xpbmU6ZnVuY3Rpb24odCxlLG4saSl7aWYoXCJiYXJcIj09PXQpcmV0dXJuIFMoe2lkOmUsdHlwZTpcImxpbmVcIixkYXRhOm4uZ2V0KFwiZGF0YVwiKSxzdGFjazpuLmdldChcInN0YWNrXCIpLG1hcmtQb2ludDpuLmdldChcIm1hcmtQb2ludFwiKSxtYXJrTGluZTpuLmdldChcIm1hcmtMaW5lXCIpfSxpLmdldChbXCJvcHRpb25cIixcImxpbmVcIl0pfHx7fSwhMCl9LGJhcjpmdW5jdGlvbih0LGUsbixpKXtpZihcImxpbmVcIj09PXQpcmV0dXJuIFMoe2lkOmUsdHlwZTpcImJhclwiLGRhdGE6bi5nZXQoXCJkYXRhXCIpLHN0YWNrOm4uZ2V0KFwic3RhY2tcIiksbWFya1BvaW50Om4uZ2V0KFwibWFya1BvaW50XCIpLG1hcmtMaW5lOm4uZ2V0KFwibWFya0xpbmVcIil9LGkuZ2V0KFtcIm9wdGlvblwiLFwiYmFyXCJdKXx8e30sITApfSxzdGFjazpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmdldChcInN0YWNrXCIpPT09eU47aWYoXCJsaW5lXCI9PT10fHxcImJhclwiPT09dClyZXR1cm4gaS5zZXRJY29uU3RhdHVzKFwic3RhY2tcIixyP1wibm9ybWFsXCI6XCJlbXBoYXNpc1wiKSxTKHtpZDplLHN0YWNrOnI/XCJcIjp5Tn0saS5nZXQoW1wib3B0aW9uXCIsXCJzdGFja1wiXSl8fHt9LCEwKX19O1l2KHt0eXBlOlwiY2hhbmdlTWFnaWNUeXBlXCIsZXZlbnQ6XCJtYWdpY1R5cGVDaGFuZ2VkXCIsdXBkYXRlOlwicHJlcGFyZUFuZFVwZGF0ZVwifSwoZnVuY3Rpb24odCxlKXtlLm1lcmdlT3B0aW9uKHQubmV3T3B0aW9uKX0pKTt2YXIgeE49bmV3IEFycmF5KDYwKS5qb2luKFwiLVwiKSxiTj1cIlxcdFwiO2Z1bmN0aW9uIHdOKHQpe3JldHVybiB0LnJlcGxhY2UoL15cXHNcXHMqLyxcIlwiKS5yZXBsYWNlKC9cXHNcXHMqJC8sXCJcIil9dmFyIFNOPW5ldyBSZWdFeHAoXCJbXFx0XStcIixcImdcIik7ZnVuY3Rpb24gTU4odCxlKXt2YXIgbj10LnNwbGl0KG5ldyBSZWdFeHAoXCJcXG4qXCIreE4rXCJcXG4qXCIsXCJnXCIpKSxpPXtzZXJpZXM6W119O3JldHVybiBQKG4sKGZ1bmN0aW9uKHQsbil7aWYoZnVuY3Rpb24odCl7aWYodC5zbGljZSgwLHQuaW5kZXhPZihcIlxcblwiKSkuaW5kZXhPZihiTik+PTApcmV0dXJuITB9KHQpKXt2YXIgcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zcGxpdCgvXFxuKy9nKSxuPVtdLGk9Tyh3TihlLnNoaWZ0KCkpLnNwbGl0KFNOKSwoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dCxkYXRhOltdfX0pKSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPXdOKGVbcl0pLnNwbGl0KFNOKTtuLnB1c2goby5zaGlmdCgpKTtmb3IodmFyIGE9MDthPG8ubGVuZ3RoO2ErKylpW2FdJiYoaVthXS5kYXRhW3JdPW9bYV0pfXJldHVybntzZXJpZXM6aSxjYXRlZ29yaWVzOm59fSh0KSxvPWVbbl0sYT1vLmF4aXNEaW0rXCJBeGlzXCI7byYmKGlbYV09aVthXXx8W10saVthXVtvLmF4aXNJbmRleF09e2RhdGE6ci5jYXRlZ29yaWVzfSxpLnNlcmllcz1pLnNlcmllcy5jb25jYXQoci5zZXJpZXMpKX1lbHNle3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc3BsaXQoL1xcbisvZyksbj13TihlLnNoaWZ0KCkpLGk9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz13TihlW3JdKTtpZihvKXt2YXIgYT1vLnNwbGl0KFNOKSxzPVwiXCIsbD12b2lkIDAsdT0hMTtpc05hTihhWzBdKT8odT0hMCxzPWFbMF0sYT1hLnNsaWNlKDEpLGlbcl09e25hbWU6cyx2YWx1ZTpbXX0sbD1pW3JdLnZhbHVlKTpsPWlbcl09W107Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspbC5wdXNoKCthW2hdKTsxPT09bC5sZW5ndGgmJih1P2lbcl0udmFsdWU9bFswXTppW3JdPWxbMF0pfX1yZXR1cm57bmFtZTpuLGRhdGE6aX19KHQpO2kuc2VyaWVzLnB1c2gocil9fSkpLGl9dmFyIElOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0RG9tKCksaT10aGlzLm1vZGVsO3RoaXMuX2RvbSYmbi5yZW1vdmVDaGlsZCh0aGlzLl9kb20pO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDo1cHg7dG9wOjVweDtib3R0b206NXB4O3JpZ2h0OjVweDtcIixyLnN0eWxlLmJhY2tncm91bmRDb2xvcj1pLmdldChcImJhY2tncm91bmRDb2xvclwiKXx8XCIjZmZmXCI7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg0XCIpLGE9aS5nZXQoXCJsYW5nXCIpfHxbXTtvLmlubmVySFRNTD1hWzBdfHxpLmdldChcInRpdGxlXCIpLG8uc3R5bGUuY3NzVGV4dD1cIm1hcmdpbjogMTBweCAyMHB4O1wiLG8uc3R5bGUuY29sb3I9aS5nZXQoXCJ0ZXh0Q29sb3JcIik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtzLnN0eWxlLmNzc1RleHQ9XCJkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7b3ZlcmZsb3c6YXV0bztcIjt2YXIgdT1pLmdldChcIm9wdGlvblRvQ29udGVudFwiKSxoPWkuZ2V0KFwiY29udGVudFRvT3B0aW9uXCIpLGM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI9ZnVuY3Rpb24odCl7dmFyIGU9e30sbj1bXSxpPVtdO3JldHVybiB0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighcnx8XCJjYXJ0ZXNpYW4yZFwiIT09ci50eXBlJiZcInBvbGFyXCIhPT1yLnR5cGUpbi5wdXNoKHQpO2Vsc2V7dmFyIG89ci5nZXRCYXNlQXhpcygpO2lmKFwiY2F0ZWdvcnlcIj09PW8udHlwZSl7dmFyIGE9by5kaW0rXCJfXCIrby5pbmRleDtlW2FdfHwoZVthXT17Y2F0ZWdvcnlBeGlzOm8sdmFsdWVBeGlzOnIuZ2V0T3RoZXJBeGlzKG8pLHNlcmllczpbXX0saS5wdXNoKHtheGlzRGltOm8uZGltLGF4aXNJbmRleDpvLmluZGV4fSkpLGVbYV0uc2VyaWVzLnB1c2godCl9ZWxzZSBuLnB1c2godCl9fSkpLHtzZXJpZXNHcm91cEJ5Q2F0ZWdvcnlBeGlzOmUsb3RoZXI6bixtZXRhOml9fSh0KTtyZXR1cm57dmFsdWU6TihbKG49ci5zZXJpZXNHcm91cEJ5Q2F0ZWdvcnlBeGlzLGk9W10sUChuLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuY2F0ZWdvcnlBeGlzLHI9dC52YWx1ZUF4aXMuZGltLG89W1wiIFwiXS5jb25jYXQoTyh0LnNlcmllcywoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKSksYT1bbi5tb2RlbC5nZXRDYXRlZ29yaWVzKCldO1AodC5zZXJpZXMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmF3RGF0YSgpO2EucHVzaCh0LmdldFJhd0RhdGEoKS5tYXBBcnJheShlLm1hcERpbWVuc2lvbihyKSwoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkpfSkpO2Zvcih2YXIgcz1bby5qb2luKGJOKV0sbD0wO2w8YVswXS5sZW5ndGg7bCsrKXtmb3IodmFyIHU9W10saD0wO2g8YS5sZW5ndGg7aCsrKXUucHVzaChhW2hdW2xdKTtzLnB1c2godS5qb2luKGJOKSl9aS5wdXNoKHMuam9pbihcIlxcblwiKSl9KSksaS5qb2luKFwiXFxuXFxuXCIreE4rXCJcXG5cXG5cIikpLChlPXIub3RoZXIsTyhlLChmdW5jdGlvbih0KXt2YXIgZT10LmdldFJhd0RhdGEoKSxuPVt0Lm5hbWVdLGk9W107cmV0dXJuIGUuZWFjaChlLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1hcmd1bWVudHNbdC0xXSxvPWUuZ2V0TmFtZShyKSxhPTA7YTx0LTE7YSsrKWlbYV09YXJndW1lbnRzW2FdO24ucHVzaCgobz9vK2JOOlwiXCIpK2kuam9pbihiTikpfSkpLG4uam9pbihcIlxcblwiKX0pKS5qb2luKFwiXFxuXFxuXCIreE4rXCJcXG5cXG5cIikpXSwoZnVuY3Rpb24odCl7cmV0dXJuISF0LnJlcGxhY2UoL1tcXG5cXHRcXHNdL2csXCJcIil9KSkuam9pbihcIlxcblxcblwiK3hOK1wiXFxuXFxuXCIpLG1ldGE6ci5tZXRhfX0odCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSl7dmFyIHA9dShlLmdldE9wdGlvbigpKTtcInN0cmluZ1wiPT10eXBlb2YgcD9zLmlubmVySFRNTD1wOmoocCkmJnMuYXBwZW5kQ2hpbGQocCl9ZWxzZSBzLmFwcGVuZENoaWxkKGwpLGwucmVhZE9ubHk9aS5nZXQoXCJyZWFkT25seVwiKSxsLnN0eWxlLmNzc1RleHQ9XCJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2ZvbnQtZmFtaWx5Om1vbm9zcGFjZTtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxLjZyZW07XCIsbC5zdHlsZS5jb2xvcj1pLmdldChcInRleHRDb2xvclwiKSxsLnN0eWxlLmJvcmRlckNvbG9yPWkuZ2V0KFwidGV4dGFyZWFCb3JkZXJDb2xvclwiKSxsLnN0eWxlLmJhY2tncm91bmRDb2xvcj1pLmdldChcInRleHRhcmVhQ29sb3JcIiksbC52YWx1ZT1jLnZhbHVlO3ZhciBkPWMubWV0YSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7XCI7dmFyIGc9XCJmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6MjBweDtib3JkZXI6bm9uZTtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjJweCA1cHg7Zm9udC1zaXplOjEycHg7Ym9yZGVyLXJhZGl1czozcHhcIix5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2crPVwiO2JhY2tncm91bmQtY29sb3I6XCIraS5nZXQoXCJidXR0b25Db2xvclwiKSxnKz1cIjtjb2xvcjpcIitpLmdldChcImJ1dHRvblRleHRDb2xvclwiKTt2YXIgbT10aGlzO2Z1bmN0aW9uIF8oKXtuLnJlbW92ZUNoaWxkKHIpLG0uX2RvbT1udWxsfXRlKHksXCJjbGlja1wiLF8pLHRlKHYsXCJjbGlja1wiLChmdW5jdGlvbigpe2lmKG51bGw9PWgmJm51bGwhPXV8fG51bGwhPWgmJm51bGw9PXUpXygpO2Vsc2V7dmFyIHQ7dHJ5e3Q9XCJmdW5jdGlvblwiPT10eXBlb2YgaD9oKHMsZS5nZXRPcHRpb24oKSk6TU4obC52YWx1ZSxkKX1jYXRjaCh0KXt0aHJvdyBfKCksbmV3IEVycm9yKFwiRGF0YSB2aWV3IGZvcm1hdCBlcnJvciBcIit0KX10JiZlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiY2hhbmdlRGF0YVZpZXdcIixuZXdPcHRpb246dH0pLF8oKX19KSkseS5pbm5lckhUTUw9YVsxXSx2LmlubmVySFRNTD1hWzJdLHYuc3R5bGUuY3NzVGV4dD1nLHkuc3R5bGUuY3NzVGV4dD1nLCFpLmdldChcInJlYWRPbmx5XCIpJiZmLmFwcGVuZENoaWxkKHYpLGYuYXBwZW5kQ2hpbGQoeSksci5hcHBlbmRDaGlsZChvKSxyLmFwcGVuZENoaWxkKHMpLHIuYXBwZW5kQ2hpbGQoZikscy5zdHlsZS5oZWlnaHQ9bi5jbGllbnRIZWlnaHQtODArXCJweFwiLG4uYXBwZW5kQ2hpbGQociksdGhpcy5fZG9tPXJ9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2RvbSYmZS5nZXREb20oKS5yZW1vdmVDaGlsZCh0aGlzLl9kb20pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZW1vdmUodCxlKX0sZS5nZXREZWZhdWx0T3B0aW9uPWZ1bmN0aW9uKHQpe3JldHVybntzaG93OiEwLHJlYWRPbmx5OiExLG9wdGlvblRvQ29udGVudDpudWxsLGNvbnRlbnRUb09wdGlvbjpudWxsLGljb246XCJNMTcuNSwxNy4zSDMzIE0xNy41LDE3LjNIMzMgTTQ1LjQsMjkuNWgtMjggTTExLjUsMnY1Nkg1MVYxNC44TDM4LjQsMkgxMS41eiBNMzguNCwyLjJ2MTIuN0g1MSBNNDUuNCw0MS43aC0yOFwiLHRpdGxlOnQuZ2V0TG9jYWxlKFtcInRvb2xib3hcIixcImRhdGFWaWV3XCIsXCJ0aXRsZVwiXSksbGFuZzp0LmdldExvY2FsZShbXCJ0b29sYm94XCIsXCJkYXRhVmlld1wiLFwibGFuZ1wiXSksYmFja2dyb3VuZENvbG9yOlwiI2ZmZlwiLHRleHRDb2xvcjpcIiMwMDBcIix0ZXh0YXJlYUNvbG9yOlwiI2ZmZlwiLHRleHRhcmVhQm9yZGVyQ29sb3I6XCIjMzMzXCIsYnV0dG9uQ29sb3I6XCIjYzIzNTMxXCIsYnV0dG9uVGV4dENvbG9yOlwiI2ZmZlwifX0sZX0obE4pO2Z1bmN0aW9uIFROKHQsZSl7cmV0dXJuIE8odCwoZnVuY3Rpb24odCxuKXt2YXIgaT1lJiZlW25dO2lmKFgoaSkmJiFGKGkpKXtYKHQpJiYhRih0KXx8KHQ9e3ZhbHVlOnR9KTt2YXIgcj1udWxsIT1pLm5hbWUmJm51bGw9PXQubmFtZTtyZXR1cm4gdD1UKHQsaSksciYmZGVsZXRlIHQubmFtZSx0fXJldHVybiB0fSkpfVl2KHt0eXBlOlwiY2hhbmdlRGF0YVZpZXdcIixldmVudDpcImRhdGFWaWV3Q2hhbmdlZFwiLHVwZGF0ZTpcInByZXBhcmVBbmRVcGRhdGVcIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49W107UCh0Lm5ld09wdGlvbi5zZXJpZXMsKGZ1bmN0aW9uKHQpe3ZhciBpPWUuZ2V0U2VyaWVzQnlOYW1lKHQubmFtZSlbMF07aWYoaSl7dmFyIHI9aS5nZXQoXCJkYXRhXCIpO24ucHVzaCh7bmFtZTp0Lm5hbWUsZGF0YTpUTih0LmRhdGEscil9KX1lbHNlIG4ucHVzaChJKHt0eXBlOlwic2NhdHRlclwifSx0KSl9KSksZS5tZXJnZU9wdGlvbihUKHtzZXJpZXM6bn0sdC5uZXdPcHRpb24pKX0pKTt2YXIgQ049UCxBTj1McigpO2Z1bmN0aW9uIEROKHQpe3ZhciBlPUFOKHQpO3JldHVybiBlLnNuYXBzaG90c3x8KGUuc25hcHNob3RzPVt7fV0pLGUuc25hcHNob3RzfXZhciBMTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCl7QU4odCkuc25hcHNob3RzPW51bGx9KHQpLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJyZXN0b3JlXCIsZnJvbTp0aGlzLnVpZH0pfSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAsaWNvbjpcIk0zLjgsMzMuNCBNNDcsMTguOWg5LjhWOC43IE01Ni4zLDIwLjEgQzUyLjEsOSw0MC41LDAuNiwyNi44LDIuMUMxMi42LDMuNywxLjYsMTYuMiwyLjEsMzAuNiBNMTMsNDEuMUgzLjF2MTAuMiBNMy43LDM5LjljNC4yLDExLjEsMTUuOCwxOS41LDI5LjUsMTggYzE0LjItMS42LDI1LjItMTQuMSwyNC43LTI4LjVcIix0aXRsZTp0LmdldExvY2FsZShbXCJ0b29sYm94XCIsXCJyZXN0b3JlXCIsXCJ0aXRsZVwiXSl9fSxlfShsTik7WXYoe3R5cGU6XCJyZXN0b3JlXCIsZXZlbnQ6XCJyZXN0b3JlXCIsdXBkYXRlOlwicHJlcGFyZUFuZFVwZGF0ZVwifSwoZnVuY3Rpb24odCxlKXtlLnJlc2V0T3B0aW9uKFwicmVjcmVhdGVcIil9KSk7dmFyIGtOPVtcImRhdGFUb1BvaW50XCIsXCJwb2ludFRvRGF0YVwiXSxQTj1bXCJncmlkXCIsXCJ4QXhpc1wiLFwieUF4aXNcIixcImdlb1wiLFwiZ3JhcGhcIixcInBvbGFyXCIsXCJyYWRpdXNBeGlzXCIsXCJhbmdsZUF4aXNcIixcImJtYXBcIl0sT049ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgaT10aGlzO3RoaXMuX3RhcmdldEluZm9MaXN0PVtdO3ZhciByPU5OKGUsdCk7UChFTiwoZnVuY3Rpb24odCxlKXsoIW58fCFuLmluY2x1ZGV8fEEobi5pbmNsdWRlLGUpPj0wKSYmdChyLGkuX3RhcmdldEluZm9MaXN0KX0pKX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0T3V0cHV0UmFuZ2VzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubWF0Y2hPdXRwdXRSYW5nZXModCxlLChmdW5jdGlvbih0LGUsbil7aWYoKHQuY29vcmRSYW5nZXN8fCh0LmNvb3JkUmFuZ2VzPVtdKSkucHVzaChlKSwhdC5jb29yZFJhbmdlKXt0LmNvb3JkUmFuZ2U9ZTt2YXIgaT1WTlt0LmJydXNoVHlwZV0oMCxuLGUpO3QuX19yYW5nZU9mZnNldD17b2Zmc2V0OkdOW3QuYnJ1c2hUeXBlXShpLnZhbHVlcyx0LnJhbmdlLFsxLDFdKSx4eU1pbk1heDppLnh5TWluTWF4fX19KSksdH0sdC5wcm90b3R5cGUubWF0Y2hPdXRwdXRSYW5nZXM9ZnVuY3Rpb24odCxlLG4pe1AodCwoZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5maW5kVGFyZ2V0SW5mbyh0LGUpO2kmJiEwIT09aSYmUChpLmNvb3JkU3lzZXMsKGZ1bmN0aW9uKGkpe3ZhciByPVZOW3QuYnJ1c2hUeXBlXSgxLGksdC5yYW5nZSk7bih0LHIudmFsdWVzLGksZSl9KSl9KSx0aGlzKX0sdC5wcm90b3R5cGUuc2V0SW5wdXRSYW5nZXM9ZnVuY3Rpb24odCxlKXtQKHQsKGZ1bmN0aW9uKHQpe3ZhciBuLGkscixvLGEscz10aGlzLmZpbmRUYXJnZXRJbmZvKHQsZSk7aWYodC5yYW5nZT10LnJhbmdlfHxbXSxzJiYhMCE9PXMpe3QucGFuZWxJZD1zLnBhbmVsSWQ7dmFyIGw9Vk5bdC5icnVzaFR5cGVdKDAscy5jb29yZFN5cyx0LmNvb3JkUmFuZ2UpLHU9dC5fX3JhbmdlT2Zmc2V0O3QucmFuZ2U9dT9HTlt0LmJydXNoVHlwZV0obC52YWx1ZXMsdS5vZmZzZXQsKG49bC54eU1pbk1heCxpPXUueHlNaW5NYXgscj1XTihuKSxvPVdOKGkpLGE9W3JbMF0vb1swXSxyWzFdL29bMV1dLGlzTmFOKGFbMF0pJiYoYVswXT0xKSxpc05hTihhWzFdKSYmKGFbMV09MSksYSkpOmwudmFsdWVzfX0pLHRoaXMpfSx0LnByb3RvdHlwZS5tYWtlUGFuZWxPcHRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE8odGhpcy5fdGFyZ2V0SW5mb0xpc3QsKGZ1bmN0aW9uKG4pe3ZhciBpPW4uZ2V0UGFuZWxSZWN0KCk7cmV0dXJue3BhbmVsSWQ6bi5wYW5lbElkLGRlZmF1bHRCcnVzaFR5cGU6ZT9lKG4pOm51bGwsY2xpcFBhdGg6bkQoaSksaXNUYXJnZXRCeUN1cnNvcjpyRChpLHQsbi5jb29yZFN5c01vZGVsKSxnZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50OmlEKGkpfX0pKX0sdC5wcm90b3R5cGUuY29udHJvbFNlcmllcz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5maW5kVGFyZ2V0SW5mbyh0LG4pO3JldHVybiEwPT09aXx8aSYmQShpLmNvb3JkU3lzZXMsZS5jb29yZGluYXRlU3lzdGVtKT49MH0sdC5wcm90b3R5cGUuZmluZFRhcmdldEluZm89ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fdGFyZ2V0SW5mb0xpc3QsaT1OTihlLHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXSxhPXQucGFuZWxJZDtpZihhKXtpZihvLnBhbmVsSWQ9PT1hKXJldHVybiBvfWVsc2UgZm9yKHZhciBzPTA7czx6Ti5sZW5ndGg7cysrKWlmKHpOW3NdKGksbykpcmV0dXJuIG99cmV0dXJuITB9LHR9KCk7ZnVuY3Rpb24gUk4odCl7cmV0dXJuIHRbMF0+dFsxXSYmdC5yZXZlcnNlKCksdH1mdW5jdGlvbiBOTih0LGUpe3JldHVybiBQcih0LGUse2luY2x1ZGVNYWluVHlwZXM6UE59KX12YXIgRU49e2dyaWQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnhBeGlzTW9kZWxzLGk9dC55QXhpc01vZGVscyxyPXQuZ3JpZE1vZGVscyxvPWh0KCksYT17fSxzPXt9OyhufHxpfHxyKSYmKFAobiwoZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzLmdyaWQubW9kZWw7by5zZXQoZS5pZCxlKSxhW2UuaWRdPSEwfSkpLFAoaSwoZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzLmdyaWQubW9kZWw7by5zZXQoZS5pZCxlKSxzW2UuaWRdPSEwfSkpLFAociwoZnVuY3Rpb24odCl7by5zZXQodC5pZCx0KSxhW3QuaWRdPSEwLHNbdC5pZF09ITB9KSksby5lYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz1bXTtQKHIuZ2V0Q2FydGVzaWFucygpLChmdW5jdGlvbih0LGUpeyhBKG4sdC5nZXRBeGlzKFwieFwiKS5tb2RlbCk+PTB8fEEoaSx0LmdldEF4aXMoXCJ5XCIpLm1vZGVsKT49MCkmJm8ucHVzaCh0KX0pKSxlLnB1c2goe3BhbmVsSWQ6XCJncmlkLS1cIit0LmlkLGdyaWRNb2RlbDp0LGNvb3JkU3lzTW9kZWw6dCxjb29yZFN5czpvWzBdLGNvb3JkU3lzZXM6byxnZXRQYW5lbFJlY3Q6Qk4uZ3JpZCx4QXhpc0RlY2xhcmVkOmFbdC5pZF0seUF4aXNEZWNsYXJlZDpzW3QuaWRdfSl9KSkpfSxnZW86ZnVuY3Rpb24odCxlKXtQKHQuZ2VvTW9kZWxzLChmdW5jdGlvbih0KXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW07ZS5wdXNoKHtwYW5lbElkOlwiZ2VvLS1cIit0LmlkLGdlb01vZGVsOnQsY29vcmRTeXNNb2RlbDp0LGNvb3JkU3lzOm4sY29vcmRTeXNlczpbbl0sZ2V0UGFuZWxSZWN0OkJOLmdlb30pfSkpfX0sek49W2Z1bmN0aW9uKHQsZSl7dmFyIG49dC54QXhpc01vZGVsLGk9dC55QXhpc01vZGVsLHI9dC5ncmlkTW9kZWw7cmV0dXJuIXImJm4mJihyPW4uYXhpcy5ncmlkLm1vZGVsKSwhciYmaSYmKHI9aS5heGlzLmdyaWQubW9kZWwpLHImJnI9PT1lLmdyaWRNb2RlbH0sZnVuY3Rpb24odCxlKXt2YXIgbj10Lmdlb01vZGVsO3JldHVybiBuJiZuPT09ZS5nZW9Nb2RlbH1dLEJOPXtncmlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRTeXMubWFzdGVyLmdldFJlY3QoKS5jbG9uZSgpfSxnZW86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvb3JkU3lzLGU9dC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3JldHVybiBlLmFwcGx5VHJhbnNmb3JtKFZ1KHQpKSxlfX0sVk49e2xpbmVYOlYoRk4sMCksbGluZVk6VihGTiwxKSxyZWN0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lW2tOW3RdXShbblswXVswXSxuWzFdWzBdXSkscj1lW2tOW3RdXShbblswXVsxXSxuWzFdWzFdXSksbz1bUk4oW2lbMF0sclswXV0pLFJOKFtpWzFdLHJbMV1dKV07cmV0dXJue3ZhbHVlczpvLHh5TWluTWF4Om99fSxwb2x5Z29uOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bWzEvMCwtMS8wXSxbMS8wLC0xLzBdXTtyZXR1cm57dmFsdWVzOk8obiwoZnVuY3Rpb24obil7dmFyIHI9ZVtrTlt0XV0obik7cmV0dXJuIGlbMF1bMF09TWF0aC5taW4oaVswXVswXSxyWzBdKSxpWzFdWzBdPU1hdGgubWluKGlbMV1bMF0sclsxXSksaVswXVsxXT1NYXRoLm1heChpWzBdWzFdLHJbMF0pLGlbMV1bMV09TWF0aC5tYXgoaVsxXVsxXSxyWzFdKSxyfSkpLHh5TWluTWF4Oml9fX07ZnVuY3Rpb24gRk4odCxlLG4saSl7dmFyIHI9bi5nZXRBeGlzKFtcInhcIixcInlcIl1bdF0pLG89Uk4oTyhbMCwxXSwoZnVuY3Rpb24odCl7cmV0dXJuIGU/ci5jb29yZFRvRGF0YShyLnRvTG9jYWxDb29yZChpW3RdKSk6ci50b0dsb2JhbENvb3JkKHIuZGF0YVRvQ29vcmQoaVt0XSkpfSkpKSxhPVtdO3JldHVybiBhW3RdPW8sYVsxLXRdPVtOYU4sTmFOXSx7dmFsdWVzOm8seHlNaW5NYXg6YX19dmFyIEdOPXtsaW5lWDpWKEhOLDApLGxpbmVZOlYoSE4sMSkscmVjdDpmdW5jdGlvbih0LGUsbil7cmV0dXJuW1t0WzBdWzBdLW5bMF0qZVswXVswXSx0WzBdWzFdLW5bMF0qZVswXVsxXV0sW3RbMV1bMF0tblsxXSplWzFdWzBdLHRbMV1bMV0tblsxXSplWzFdWzFdXV19LHBvbHlnb246ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPKHQsKGZ1bmN0aW9uKHQsaSl7cmV0dXJuW3RbMF0tblswXSplW2ldWzBdLHRbMV0tblsxXSplW2ldWzFdXX0pKX19O2Z1bmN0aW9uIEhOKHQsZSxuLGkpe3JldHVybltlWzBdLWlbdF0qblswXSxlWzFdLWlbdF0qblsxXV19ZnVuY3Rpb24gV04odCl7cmV0dXJuIHQ/W3RbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF1dOltOYU4sTmFOXX12YXIgWU4sWE4sVU49UCxaTj1tcitcInRvb2xib3gtZGF0YVpvb21fXCIsak49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5icnVzaENvbnRyb2xsZXJ8fCh0aGlzLmJydXNoQ29udHJvbGxlcj1uZXcgSUEobi5nZXRacigpKSx0aGlzLmJydXNoQ29udHJvbGxlci5vbihcImJydXNoXCIsQih0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpKSxmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uaXNab29tQWN0aXZlO2kmJlwidGFrZUdsb2JhbEN1cnNvclwiPT09aS50eXBlJiYobz1cImRhdGFab29tU2VsZWN0XCI9PT1pLmtleSYmaS5kYXRhWm9vbVNlbGVjdEFjdGl2ZSk7bi5pc1pvb21BY3RpdmU9byx0LnNldEljb25TdGF0dXMoXCJ6b29tXCIsbz9cImVtcGhhc2lzXCI6XCJub3JtYWxcIik7dmFyIGE9bmV3IE9OKEtOKHQpLGUse2luY2x1ZGU6W1wiZ3JpZFwiXX0pLm1ha2VQYW5lbE9wdHMociwoZnVuY3Rpb24odCl7cmV0dXJuIHQueEF4aXNEZWNsYXJlZCYmIXQueUF4aXNEZWNsYXJlZD9cImxpbmVYXCI6IXQueEF4aXNEZWNsYXJlZCYmdC55QXhpc0RlY2xhcmVkP1wibGluZVlcIjpcInJlY3RcIn0pKTtuLmJydXNoQ29udHJvbGxlci5zZXRQYW5lbHMoYSkuZW5hYmxlQnJ1c2goISghb3x8IWEubGVuZ3RoKSYme2JydXNoVHlwZTpcImF1dG9cIixicnVzaFN0eWxlOnQuZ2V0TW9kZWwoXCJicnVzaFN0eWxlXCIpLmdldEl0ZW1TdHlsZSgpfSl9KHQsZSx0aGlzLGksbiksZnVuY3Rpb24odCxlKXt0LnNldEljb25TdGF0dXMoXCJiYWNrXCIsZnVuY3Rpb24odCl7cmV0dXJuIEROKHQpLmxlbmd0aH0oZSk+MT9cImVtcGhhc2lzXCI6XCJub3JtYWxcIil9KHQsZSl9LGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlLG4pe3FOW25dLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuYnJ1c2hDb250cm9sbGVyLnVubW91bnQoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMuYnJ1c2hDb250cm9sbGVyLmRpc3Bvc2UoKX0sZS5wcm90b3R5cGUuX29uQnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5hcmVhcztpZih0LmlzRW5kJiZlLmxlbmd0aCl7dmFyIG49e30saT10aGlzLmVjTW9kZWw7dGhpcy5icnVzaENvbnRyb2xsZXIudXBkYXRlQ292ZXJzKFtdKSxuZXcgT04oS04odGhpcy5tb2RlbCksaSx7aW5jbHVkZTpbXCJncmlkXCJdfSkubWF0Y2hPdXRwdXRSYW5nZXMoZSxpLChmdW5jdGlvbih0LGUsbil7aWYoXCJjYXJ0ZXNpYW4yZFwiPT09bi50eXBlKXt2YXIgaT10LmJydXNoVHlwZTtcInJlY3RcIj09PWk/KHIoXCJ4XCIsbixlWzBdKSxyKFwieVwiLG4sZVsxXSkpOnIoe2xpbmVYOlwieFwiLGxpbmVZOlwieVwifVtpXSxuLGUpfX0pKSxmdW5jdGlvbih0LGUpe3ZhciBuPUROKHQpO0NOKGUsKGZ1bmN0aW9uKGUsaSl7Zm9yKHZhciByPW4ubGVuZ3RoLTE7cj49MCYmIW5bcl1baV07ci0tKTtpZihyPDApe3ZhciBvPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTpcImRhdGFab29tXCIsc3ViVHlwZTpcInNlbGVjdFwiLGlkOml9KVswXTtpZihvKXt2YXIgYT1vLmdldFBlcmNlbnRSYW5nZSgpO25bMF1baV09e2RhdGFab29tSWQ6aSxzdGFydDphWzBdLGVuZDphWzFdfX19fSkpLG4ucHVzaChlKX0oaSxuKSx0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24obil9ZnVuY3Rpb24gcih0LGUscil7dmFyIG89ZS5nZXRBeGlzKHQpLGE9by5tb2RlbCxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtyZXR1cm4gbi5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcImRhdGFab29tXCIsc3ViVHlwZTpcInNlbGVjdFwifSwoZnVuY3Rpb24obil7bi5nZXRBeGlzTW9kZWwodCxlLmNvbXBvbmVudEluZGV4KSYmKGk9bil9KSksaX0odCxhLGkpLGw9cy5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoYSkuZ2V0TWluTWF4U3BhbigpO251bGw9PWwubWluVmFsdWVTcGFuJiZudWxsPT1sLm1heFZhbHVlU3Bhbnx8KHI9dEEoMCxyLnNsaWNlKCksby5zY2FsZS5nZXRFeHRlbnQoKSwwLGwubWluVmFsdWVTcGFuLGwubWF4VmFsdWVTcGFuKSkscyYmKG5bcy5pZF09e2RhdGFab29tSWQ6cy5pZCxzdGFydFZhbHVlOnJbMF0sZW5kVmFsdWU6clsxXX0pfX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoWm9vbUFjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1bXTtVTih0LChmdW5jdGlvbih0LG4pe2UucHVzaCh3KHQpKX0pKSxlLmxlbmd0aCYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJkYXRhWm9vbVwiLGZyb206dGhpcy51aWQsYmF0Y2g6ZX0pfSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAsZmlsdGVyTW9kZTpcImZpbHRlclwiLGljb246e3pvb206XCJNMCwxMy41aDI2LjkgTTEzLjUsMjYuOVYwIE0zMi4xLDEzLjVINThWNThIMTMuNSBWMzIuMVwiLGJhY2s6XCJNMjIsMS40TDkuOSwxMy41bDEyLjMsMTIuMyBNMTAuMywxMy41SDU0Ljl2NDQuNiBIMTAuM3YtMjZcIn0sdGl0bGU6dC5nZXRMb2NhbGUoW1widG9vbGJveFwiLFwiZGF0YVpvb21cIixcInRpdGxlXCJdKSxicnVzaFN0eWxlOntib3JkZXJXaWR0aDowLGNvbG9yOlwicmdiYSgyMTAsMjE5LDIzOCwwLjIpXCJ9fX0sZX0obE4pLHFOPXt6b29tOmZ1bmN0aW9uKCl7dmFyIHQ9IXRoaXMuaXNab29tQWN0aXZlO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwidGFrZUdsb2JhbEN1cnNvclwiLGtleTpcImRhdGFab29tU2VsZWN0XCIsZGF0YVpvb21TZWxlY3RBY3RpdmU6dH0pfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKGZ1bmN0aW9uKHQpe3ZhciBlPUROKHQpLG49ZVtlLmxlbmd0aC0xXTtlLmxlbmd0aD4xJiZlLnBvcCgpO3ZhciBpPXt9O3JldHVybiBDTihuLChmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHQ9ZVtyXVtuXSl7aVtuXT10O2JyZWFrfX0pKSxpfSh0aGlzLmVjTW9kZWwpKX19O2Z1bmN0aW9uIEtOKHQpe3ZhciBlPXt4QXhpc0luZGV4OnQuZ2V0KFwieEF4aXNJbmRleFwiLCEwKSx5QXhpc0luZGV4OnQuZ2V0KFwieUF4aXNJbmRleFwiLCEwKSx4QXhpc0lkOnQuZ2V0KFwieEF4aXNJZFwiLCEwKSx5QXhpc0lkOnQuZ2V0KFwieUF4aXNJZFwiLCEwKX07cmV0dXJuIG51bGw9PWUueEF4aXNJbmRleCYmbnVsbD09ZS54QXhpc0lkJiYoZS54QXhpc0luZGV4PVwiYWxsXCIpLG51bGw9PWUueUF4aXNJbmRleCYmbnVsbD09ZS55QXhpc0lkJiYoZS55QXhpc0luZGV4PVwiYWxsXCIpLGV9WU49XCJkYXRhWm9vbVwiLFhOPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Q29tcG9uZW50KFwidG9vbGJveFwiLDApO2lmKGUpe3ZhciBuPWUuZ2V0TW9kZWwoW1wiZmVhdHVyZVwiLFwiZGF0YVpvb21cIl0pLGk9W10scj1Qcih0LEtOKG4pKTtyZXR1cm4gVU4oci54QXhpc01vZGVscywoZnVuY3Rpb24odCl7cmV0dXJuIG8odCxcInhBeGlzXCIsXCJ4QXhpc0luZGV4XCIpfSkpLFVOKHIueUF4aXNNb2RlbHMsKGZ1bmN0aW9uKHQpe3JldHVybiBvKHQsXCJ5QXhpc1wiLFwieUF4aXNJbmRleFwiKX0pKSxpfWZ1bmN0aW9uIG8odCxlLHIpe3ZhciBvPXQuY29tcG9uZW50SW5kZXgsYT17dHlwZTpcInNlbGVjdFwiLCRmcm9tVG9vbGJveDohMCxmaWx0ZXJNb2RlOm4uZ2V0KFwiZmlsdGVyTW9kZVwiLCEwKXx8XCJmaWx0ZXJcIixpZDpaTitlK299O2Fbcl09byxpLnB1c2goYSl9fSxydChudWxsPT1pcC5nZXQoWU4pJiZYTiksaXAuc2V0KFlOLFhOKTt2YXIgJE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPVwidG9vbHRpcFwiLGUuZGVwZW5kZW5jaWVzPVtcImF4aXNQb2ludGVyXCJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo2MCxzaG93OiEwLHNob3dDb250ZW50OiEwLHRyaWdnZXI6XCJpdGVtXCIsdHJpZ2dlck9uOlwibW91c2Vtb3ZlfGNsaWNrXCIsYWx3YXlzU2hvd0NvbnRlbnQ6ITEsZGlzcGxheU1vZGU6XCJzaW5nbGVcIixyZW5kZXJNb2RlOlwiYXV0b1wiLGNvbmZpbmU6bnVsbCxzaG93RGVsYXk6MCxoaWRlRGVsYXk6MTAwLHRyYW5zaXRpb25EdXJhdGlvbjouNCxlbnRlcmFibGU6ITEsYmFja2dyb3VuZENvbG9yOlwiI2ZmZlwiLHNoYWRvd0JsdXI6MTAsc2hhZG93Q29sb3I6XCJyZ2JhKDAsIDAsIDAsIC4yKVwiLHNoYWRvd09mZnNldFg6MSxzaGFkb3dPZmZzZXRZOjIsYm9yZGVyUmFkaXVzOjQsYm9yZGVyV2lkdGg6MSxwYWRkaW5nOm51bGwsZXh0cmFDc3NUZXh0OlwiXCIsYXhpc1BvaW50ZXI6e3R5cGU6XCJsaW5lXCIsYXhpczpcImF1dG9cIixhbmltYXRpb246XCJhdXRvXCIsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6MjAwLGFuaW1hdGlvbkVhc2luZ1VwZGF0ZTpcImV4cG9uZW50aWFsT3V0XCIsY3Jvc3NTdHlsZTp7Y29sb3I6XCIjOTk5XCIsd2lkdGg6MSx0eXBlOlwiZGFzaGVkXCIsdGV4dFN0eWxlOnt9fX0sdGV4dFN0eWxlOntjb2xvcjpcIiM2NjZcIixmb250U2l6ZToxNH19LGV9KE5jKTtmdW5jdGlvbiBKTih0KXt2YXIgZT10LmdldChcImNvbmZpbmVcIik7cmV0dXJuIG51bGwhPWU/ISFlOlwicmljaFRleHRcIj09PXQuZ2V0KFwicmVuZGVyTW9kZVwiKX12YXIgUU49W1wiLW1zLVwiLFwiLW1vei1cIixcIi1vLVwiLFwiLXdlYmtpdC1cIixcIlwiXTtmdW5jdGlvbiB0RSh0LGUsbil7dmFyIGk9W10scj10LmdldChcInRyYW5zaXRpb25EdXJhdGlvblwiKSxvPXQuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpLHM9dC5nZXQoXCJzaGFkb3dCbHVyXCIpLGw9dC5nZXQoXCJzaGFkb3dDb2xvclwiKSx1PXQuZ2V0KFwic2hhZG93T2Zmc2V0WFwiKSxoPXQuZ2V0KFwic2hhZG93T2Zmc2V0WVwiKSxjPXQuZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIikscD1KZCh0LFwiaHRtbFwiKSxkPXUrXCJweCBcIitoK1wicHggXCIrcytcInB4IFwiK2w7cmV0dXJuIGkucHVzaChcImJveC1zaGFkb3c6XCIrZCksZSYmciYmaS5wdXNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49XCJjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSlcIixpPVwib3BhY2l0eSBcIit0LzIrXCJzIFwiK24rXCIsdmlzaWJpbGl0eSBcIit0LzIrXCJzIFwiK247cmV0dXJuIGV8fChpKz1cIixsZWZ0IFwiK3QrXCJzIFwiK24rXCIsdG9wIFwiK3QrXCJzIFwiK24pLE8oUU4sKGZ1bmN0aW9uKHQpe3JldHVybiB0K1widHJhbnNpdGlvbjpcIitpfSkpLmpvaW4oXCI7XCIpfShyLG4pKSxvJiYoYS5jYW52YXNTdXBwb3J0ZWQ/aS5wdXNoKFwiYmFja2dyb3VuZC1Db2xvcjpcIitvKTooaS5wdXNoKFwiYmFja2dyb3VuZC1Db2xvcjojXCIrSmUobykpLGkucHVzaChcImZpbHRlcjphbHBoYShvcGFjaXR5PTcwKVwiKSkpLFAoW1wid2lkdGhcIixcImNvbG9yXCIsXCJyYWRpdXNcIl0sKGZ1bmN0aW9uKGUpe3ZhciBuPVwiYm9yZGVyLVwiK2Uscj1jYyhuKSxvPXQuZ2V0KHIpO251bGwhPW8mJmkucHVzaChuK1wiOlwiK28rKFwiY29sb3JcIj09PWU/XCJcIjpcInB4XCIpKX0pKSxpLnB1c2goZnVuY3Rpb24odCl7dmFyIGU9W10sbj10LmdldChcImZvbnRTaXplXCIpLGk9dC5nZXRUZXh0Q29sb3IoKTtpJiZlLnB1c2goXCJjb2xvcjpcIitpKSxlLnB1c2goXCJmb250OlwiK3QuZ2V0Rm9udCgpKSxuJiZlLnB1c2goXCJsaW5lLWhlaWdodDpcIitNYXRoLnJvdW5kKDMqbi8yKStcInB4XCIpO3ZhciByPXQuZ2V0KFwidGV4dFNoYWRvd0NvbG9yXCIpLG89dC5nZXQoXCJ0ZXh0U2hhZG93Qmx1clwiKXx8MCxhPXQuZ2V0KFwidGV4dFNoYWRvd09mZnNldFhcIil8fDAscz10LmdldChcInRleHRTaGFkb3dPZmZzZXRZXCIpfHwwO3JldHVybiByJiZvJiZlLnB1c2goXCJ0ZXh0LXNoYWRvdzpcIithK1wicHggXCIrcytcInB4IFwiK28rXCJweCBcIityKSxQKFtcImRlY29yYXRpb25cIixcImFsaWduXCJdLChmdW5jdGlvbihuKXt2YXIgaT10LmdldChuKTtpJiZlLnB1c2goXCJ0ZXh0LVwiK24rXCI6XCIraSl9KSksZS5qb2luKFwiO1wiKX0oYykpLG51bGwhPXAmJmkucHVzaChcInBhZGRpbmc6XCIrcGMocCkuam9pbihcInB4IFwiKStcInB4XCIpLGkuam9pbihcIjtcIikrXCI7XCJ9ZnVuY3Rpb24gZUUodCxlLG4saSxyKXt2YXIgbz1lJiZlLnBhaW50ZXI7aWYobil7dmFyIGE9byYmby5nZXRWaWV3cG9ydFJvb3QoKTthJiZmdW5jdGlvbih0LGUsbixpLHIpe1h0KFl0LGUsaSxyLCEwKSYmWHQodCxuLFl0WzBdLFl0WzFdKX0odCxhLGRvY3VtZW50LmJvZHksaSxyKX1lbHNle3RbMF09aSx0WzFdPXI7dmFyIHM9byYmby5nZXRWaWV3cG9ydFJvb3RPZmZzZXQoKTtzJiYodFswXSs9cy5vZmZzZXRMZWZ0LHRbMV0rPXMub2Zmc2V0VG9wKX10WzJdPXRbMF0vZS5nZXRXaWR0aCgpLHRbM109dFsxXS9lLmdldEhlaWdodCgpfXZhciBuRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe2lmKHRoaXMuX3Nob3c9ITEsdGhpcy5fc3R5bGVDb29yZD1bMCwwLDAsMF0sdGhpcy5fZW50ZXJhYmxlPSEwLHRoaXMuX2ZpcnN0U2hvdz0hMCx0aGlzLl9sb25nSGlkZT0hMCxhLnd4YSlyZXR1cm4gbnVsbDt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuZG9tQmVsb25nVG9acj0hMCx0aGlzLmVsPWk7dmFyIHI9dGhpcy5fenI9ZS5nZXRacigpLG89dGhpcy5fYXBwZW5kVG9Cb2R5PW4mJm4uYXBwZW5kVG9Cb2R5O2VFKHRoaXMuX3N0eWxlQ29vcmQscixvLGUuZ2V0V2lkdGgoKS8yLGUuZ2V0SGVpZ2h0KCkvMiksbz9kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpOnQuYXBwZW5kQ2hpbGQoaSksdGhpcy5fY29udGFpbmVyPXQ7dmFyIHM9dGhpcztpLm9ubW91c2VlbnRlcj1mdW5jdGlvbigpe3MuX2VudGVyYWJsZSYmKGNsZWFyVGltZW91dChzLl9oaWRlVGltZW91dCkscy5fc2hvdz0hMCkscy5faW5Db250ZW50PSEwfSxpLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKHQpe2lmKHQ9dHx8d2luZG93LmV2ZW50LCFzLl9lbnRlcmFibGUpe3ZhciBlPXIuaGFuZGxlcjtRdChyLnBhaW50ZXIuZ2V0Vmlld3BvcnRSb290KCksdCwhMCksZS5kaXNwYXRjaChcIm1vdXNlbW92ZVwiLHQpfX0saS5vbm1vdXNlbGVhdmU9ZnVuY3Rpb24oKXtzLl9pbkNvbnRlbnQ9ITEscy5fZW50ZXJhYmxlJiZzLl9zaG93JiZzLmhpZGVMYXRlcihzLl9oaWRlRGVsYXkpfX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnRhaW5lcixuPWUuY3VycmVudFN0eWxlfHxkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUpLGk9ZS5zdHlsZTtcImFic29sdXRlXCIhPT1pLnBvc2l0aW9uJiZcImFic29sdXRlXCIhPT1uLnBvc2l0aW9uJiYoaS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLHQuZ2V0KFwiYWx3YXlzU2hvd0NvbnRlbnRcIikmJnRoaXMuX21vdmVJZlJlc2l6ZWQoKSx0aGlzLmVsLmNsYXNzTmFtZT10LmdldChcImNsYXNzTmFtZVwiKXx8XCJcIn0sdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbih0LGUpe2NsZWFyVGltZW91dCh0aGlzLl9oaWRlVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMuX2xvbmdIaWRlVGltZW91dCk7dmFyIG49dGhpcy5lbCxpPXRoaXMuX3N0eWxlQ29vcmQscj1uLm9mZnNldEhlaWdodC8yO2U9YmMoZSksbi5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6OTk5OTk5OTtcIit0RSh0LCF0aGlzLl9maXJzdFNob3csdGhpcy5fbG9uZ0hpZGUpK1wiO2xlZnQ6XCIraVswXStcInB4O3RvcDpcIisoaVsxXS1yKStcInB4O2JvcmRlci1jb2xvcjogXCIrZStcIjtcIisodC5nZXQoXCJleHRyYUNzc1RleHRcIil8fFwiXCIpLG4uc3R5bGUuZGlzcGxheT1uLmlubmVySFRNTD9cImJsb2NrXCI6XCJub25lXCIsbi5zdHlsZS5wb2ludGVyRXZlbnRzPXRoaXMuX2VudGVyYWJsZT9cImF1dG9cIjpcIm5vbmVcIix0aGlzLl9zaG93PSEwLHRoaXMuX2ZpcnN0U2hvdz0hMSx0aGlzLl9sb25nSGlkZT0hMX0sdC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbih0LGUsbixpLHIpe2lmKG51bGwhPXQpe3ZhciBvPXRoaXMuZWw7aWYoSChyKSYmXCJpdGVtXCI9PT1uLmdldChcInRyaWdnZXJcIikmJiFKTihuKSYmKHQrPWZ1bmN0aW9uKHQsZSxuKXtpZighSChuKXx8XCJpbnNpZGVcIj09PW4pcmV0dXJuXCJcIjtlPWJjKGUpO3ZhciBpLHI9XCJsZWZ0XCI9PT0oaT1uKT9cInJpZ2h0XCI6XCJyaWdodFwiPT09aT9cImxlZnRcIjpcInRvcFwiPT09aT9cImJvdHRvbVwiOlwidG9wXCIsbz1cIlwiLGE9XCJcIjtyZXR1cm4gQShbXCJsZWZ0XCIsXCJyaWdodFwiXSxyKT4tMT8obz1yK1wiOi02cHg7dG9wOjUwJTtcIixhPVwidHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoXCIrKFwibGVmdFwiPT09cj8tMjI1Oi00NSkrXCJkZWcpXCIpOihvPXIrXCI6LTZweDtsZWZ0OjUwJTtcIixhPVwidHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoXCIrKFwidG9wXCI9PT1yPzIyNTo0NSkrXCJkZWcpXCIpLCc8ZGl2IHN0eWxlPVwiJytbXCJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O1wiLFwiXCIrbysoYT1PKFFOLChmdW5jdGlvbih0KXtyZXR1cm4gdCtcInRyYW5zZm9ybTpcIithfSkpLmpvaW4oXCI7XCIpKStcIjtcIixcImJvcmRlci1ib3R0b206IFwiK2UrXCIgc29saWQgMXB4O1wiLFwiYm9yZGVyLXJpZ2h0OiBcIitlK1wiIHNvbGlkIDFweDtcIixcImJhY2tncm91bmQtY29sb3I6IFwiK3QrXCI7XCIsXCJib3gtc2hhZG93OiA4cHggOHB4IDE2cHggLTNweCAjMDAwO1wiXS5qb2luKFwiXCIpKydcIj48L2Rpdj4nfShuLmdldChcImJhY2tncm91bmRDb2xvclwiKSxpLHIpKSxIKHQpKW8uaW5uZXJIVE1MPXQ7ZWxzZSBpZih0KXtvLmlubmVySFRNTD1cIlwiLEYodCl8fCh0PVt0XSk7Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspaih0W2FdKSYmdFthXS5wYXJlbnROb2RlIT09byYmby5hcHBlbmRDaGlsZCh0W2FdKX19fSx0LnByb3RvdHlwZS5zZXRFbnRlcmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fZW50ZXJhYmxlPXR9LHQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO3JldHVyblt0LmNsaWVudFdpZHRoLHQuY2xpZW50SGVpZ2h0XX0sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3R5bGVDb29yZDtpZihlRShuLHRoaXMuX3pyLHRoaXMuX2FwcGVuZFRvQm9keSx0LGUpLG51bGwhPW5bMF0mJm51bGwhPW5bMV0pe3ZhciBpPXRoaXMuZWwuc3R5bGU7aS5sZWZ0PW5bMF0udG9GaXhlZCgwKStcInB4XCIsaS50b3A9blsxXS50b0ZpeGVkKDApK1wicHhcIn19LHQucHJvdG90eXBlLl9tb3ZlSWZSZXNpemVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3R5bGVDb29yZFsyXSxlPXRoaXMuX3N0eWxlQ29vcmRbM107dGhpcy5tb3ZlVG8odCp0aGlzLl96ci5nZXRXaWR0aCgpLGUqdGhpcy5fenIuZ2V0SGVpZ2h0KCkpfSx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVsLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLmVsLnN0eWxlLm9wYWNpdHk9XCIwXCIsdGhpcy5fc2hvdz0hMSx0aGlzLl9sb25nSGlkZVRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fbG9uZ0hpZGU9ITB9KSw1MDApfSx0LnByb3RvdHlwZS5oaWRlTGF0ZXI9ZnVuY3Rpb24odCl7IXRoaXMuX3Nob3d8fHRoaXMuX2luQ29udGVudCYmdGhpcy5fZW50ZXJhYmxlfHwodD8odGhpcy5faGlkZURlbGF5PXQsdGhpcy5fc2hvdz0hMSx0aGlzLl9oaWRlVGltZW91dD1zZXRUaW1lb3V0KEIodGhpcy5oaWRlLHRoaXMpLHQpKTp0aGlzLmhpZGUoKSl9LHQucHJvdG90eXBlLmlzU2hvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaG93fSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWwpfSx0LnByb3RvdHlwZS5nZXRPdXRlclNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsLmNsaWVudFdpZHRoLGU9dGhpcy5lbC5jbGllbnRIZWlnaHQ7aWYoZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpe3ZhciBuPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy5lbCk7biYmKHQrPXBhcnNlSW50KG4uYm9yZGVyTGVmdFdpZHRoLDEwKStwYXJzZUludChuLmJvcmRlclJpZ2h0V2lkdGgsMTApLGUrPXBhcnNlSW50KG4uYm9yZGVyVG9wV2lkdGgsMTApK3BhcnNlSW50KG4uYm9yZGVyQm90dG9tV2lkdGgsMTApKX1yZXR1cm57d2lkdGg6dCxoZWlnaHQ6ZX19LHR9KCksaUU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3Nob3c9ITEsdGhpcy5fc3R5bGVDb29yZD1bMCwwLDAsMF0sdGhpcy5fZW50ZXJhYmxlPSEwLHRoaXMuX3pyPXQuZ2V0WnIoKSxhRSh0aGlzLl9zdHlsZUNvb3JkLHRoaXMuX3pyLHQuZ2V0V2lkdGgoKS8yLHQuZ2V0SGVpZ2h0KCkvMil9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0LmdldChcImFsd2F5c1Nob3dDb250ZW50XCIpJiZ0aGlzLl9tb3ZlSWZSZXNpemVkKCl9LHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLl9oaWRlVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KSx0aGlzLmVsLnNob3coKSx0aGlzLl9zaG93PSEwfSx0LnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQsZSxuLGkscil7WCh0KSYmeXIoXCJcIiksdGhpcy5lbCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuZWwpO3ZhciBvPW4uZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIik7dGhpcy5lbD1uZXcgbHMoe3N0eWxlOntyaWNoOmUucmljaFRleHRTdHlsZXMsdGV4dDp0LGxpbmVIZWlnaHQ6MjIsYmFja2dyb3VuZENvbG9yOm4uZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpLGJvcmRlclJhZGl1czpuLmdldChcImJvcmRlclJhZGl1c1wiKSxib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOmksc2hhZG93Q29sb3I6bi5nZXQoXCJzaGFkb3dDb2xvclwiKSxzaGFkb3dCbHVyOm4uZ2V0KFwic2hhZG93Qmx1clwiKSxzaGFkb3dPZmZzZXRYOm4uZ2V0KFwic2hhZG93T2Zmc2V0WFwiKSxzaGFkb3dPZmZzZXRZOm4uZ2V0KFwic2hhZG93T2Zmc2V0WVwiKSx0ZXh0U2hhZG93Q29sb3I6by5nZXQoXCJ0ZXh0U2hhZG93Q29sb3JcIiksdGV4dFNoYWRvd0JsdXI6by5nZXQoXCJ0ZXh0U2hhZG93Qmx1clwiKXx8MCx0ZXh0U2hhZG93T2Zmc2V0WDpvLmdldChcInRleHRTaGFkb3dPZmZzZXRYXCIpfHwwLHRleHRTaGFkb3dPZmZzZXRZOm8uZ2V0KFwidGV4dFNoYWRvd09mZnNldFlcIil8fDAsZmlsbDpuLmdldChbXCJ0ZXh0U3R5bGVcIixcImNvbG9yXCJdKSxwYWRkaW5nOkpkKG4sXCJyaWNoVGV4dFwiKSx2ZXJ0aWNhbEFsaWduOlwidG9wXCIsYWxpZ246XCJsZWZ0XCJ9LHo6bi5nZXQoXCJ6XCIpfSksdGhpcy5fenIuYWRkKHRoaXMuZWwpO3ZhciBhPXRoaXM7dGhpcy5lbC5vbihcIm1vdXNlb3ZlclwiLChmdW5jdGlvbigpe2EuX2VudGVyYWJsZSYmKGNsZWFyVGltZW91dChhLl9oaWRlVGltZW91dCksYS5fc2hvdz0hMCksYS5faW5Db250ZW50PSEwfSkpLHRoaXMuZWwub24oXCJtb3VzZW91dFwiLChmdW5jdGlvbigpe2EuX2VudGVyYWJsZSYmYS5fc2hvdyYmYS5oaWRlTGF0ZXIoYS5faGlkZURlbGF5KSxhLl9pbkNvbnRlbnQ9ITF9KSl9LHQucHJvdG90eXBlLnNldEVudGVyYWJsZT1mdW5jdGlvbih0KXt0aGlzLl9lbnRlcmFibGU9dH0sdC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwsZT10aGlzLmVsLmdldEJvdW5kaW5nUmVjdCgpLG49b0UodC5zdHlsZSk7cmV0dXJuW2Uud2lkdGgrbi5sZWZ0K24ucmlnaHQsZS5oZWlnaHQrbi50b3Arbi5ib3R0b21dfSx0LnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmVsO2lmKG4pe3ZhciBpPXRoaXMuX3N0eWxlQ29vcmQ7YUUoaSx0aGlzLl96cix0LGUpLHQ9aVswXSxlPWlbMV07dmFyIHI9bi5zdHlsZSxvPXJFKHIuYm9yZGVyV2lkdGh8fDApLGE9b0Uocik7bi54PXQrbythLmxlZnQsbi55PWUrbythLnRvcCxuLm1hcmtSZWRyYXcoKX19LHQucHJvdG90eXBlLl9tb3ZlSWZSZXNpemVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3R5bGVDb29yZFsyXSxlPXRoaXMuX3N0eWxlQ29vcmRbM107dGhpcy5tb3ZlVG8odCp0aGlzLl96ci5nZXRXaWR0aCgpLGUqdGhpcy5fenIuZ2V0SGVpZ2h0KCkpfSx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5lbCYmdGhpcy5lbC5oaWRlKCksdGhpcy5fc2hvdz0hMX0sdC5wcm90b3R5cGUuaGlkZUxhdGVyPWZ1bmN0aW9uKHQpeyF0aGlzLl9zaG93fHx0aGlzLl9pbkNvbnRlbnQmJnRoaXMuX2VudGVyYWJsZXx8KHQ/KHRoaXMuX2hpZGVEZWxheT10LHRoaXMuX3Nob3c9ITEsdGhpcy5faGlkZVRpbWVvdXQ9c2V0VGltZW91dChCKHRoaXMuaGlkZSx0aGlzKSx0KSk6dGhpcy5oaWRlKCkpfSx0LnByb3RvdHlwZS5pc1Nob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd30sdC5wcm90b3R5cGUuZ2V0T3V0ZXJTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTaXplKCk7cmV0dXJue3dpZHRoOnRbMF0saGVpZ2h0OnRbMV19fSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fenIucmVtb3ZlKHRoaXMuZWwpfSx0fSgpO2Z1bmN0aW9uIHJFKHQpe3JldHVybiBNYXRoLm1heCgwLHQpfWZ1bmN0aW9uIG9FKHQpe3ZhciBlPXJFKHQuc2hhZG93Qmx1cnx8MCksbj1yRSh0LnNoYWRvd09mZnNldFh8fDApLGk9ckUodC5zaGFkb3dPZmZzZXRZfHwwKTtyZXR1cm57bGVmdDpyRShlLW4pLHJpZ2h0OnJFKGUrbiksdG9wOnJFKGUtaSksYm90dG9tOnJFKGUraSl9fWZ1bmN0aW9uIGFFKHQsZSxuLGkpe3RbMF09bix0WzFdPWksdFsyXT10WzBdL2UuZ2V0V2lkdGgoKSx0WzNdPXRbMV0vZS5nZXRIZWlnaHQoKX12YXIgc0U9QixsRT1QLHVFPVppLGhFPW5ldyBvcyh7c2hhcGU6e3g6LTEseTotMSx3aWR0aDoyLGhlaWdodDoyfX0pLGNFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXtpZighYS5ub2RlKXt2YXIgbixpPXQuZ2V0Q29tcG9uZW50KFwidG9vbHRpcFwiKSxyPWkuZ2V0KFwicmVuZGVyTW9kZVwiKTt0aGlzLl9yZW5kZXJNb2RlPVwiYXV0b1wiPT09KG49cik/YS5kb21TdXBwb3J0ZWQ/XCJodG1sXCI6XCJyaWNoVGV4dFwiOm58fFwiaHRtbFwiLHRoaXMuX3Rvb2x0aXBDb250ZW50PVwicmljaFRleHRcIj09PXRoaXMuX3JlbmRlck1vZGU/bmV3IGlFKGUpOm5ldyBuRShlLmdldERvbSgpLGUse2FwcGVuZFRvQm9keTppLmdldChcImFwcGVuZFRvQm9keVwiLCEwKX0pfX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXtpZighYS5ub2RlKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3Rvb2x0aXBNb2RlbD10LHRoaXMuX2VjTW9kZWw9ZSx0aGlzLl9hcGk9bix0aGlzLl9hbHdheXNTaG93Q29udGVudD10LmdldChcImFsd2F5c1Nob3dDb250ZW50XCIpO3ZhciBpPXRoaXMuX3Rvb2x0aXBDb250ZW50O2kudXBkYXRlKHQpLGkuc2V0RW50ZXJhYmxlKHQuZ2V0KFwiZW50ZXJhYmxlXCIpKSx0aGlzLl9pbml0R2xvYmFsTGlzdGVuZXIoKSx0aGlzLl9rZWVwU2hvdygpfX0sZS5wcm90b3R5cGUuX2luaXRHbG9iYWxMaXN0ZW5lcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbC5nZXQoXCJ0cmlnZ2VyT25cIik7Z08oXCJpdGVtVG9vbHRpcFwiLHRoaXMuX2FwaSxzRSgoZnVuY3Rpb24oZSxuLGkpe1wibm9uZVwiIT09dCYmKHQuaW5kZXhPZihlKT49MD90aGlzLl90cnlTaG93KG4saSk6XCJsZWF2ZVwiPT09ZSYmdGhpcy5faGlkZShpKSl9KSx0aGlzKSl9LGUucHJvdG90eXBlLl9rZWVwU2hvdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbCxlPXRoaXMuX2VjTW9kZWwsbj10aGlzLl9hcGk7aWYobnVsbCE9dGhpcy5fbGFzdFgmJm51bGwhPXRoaXMuX2xhc3RZJiZcIm5vbmVcIiE9PXQuZ2V0KFwidHJpZ2dlck9uXCIpKXt2YXIgaT10aGlzO2NsZWFyVGltZW91dCh0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dCksdGhpcy5fcmVmcmVzaFVwZGF0ZVRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXshbi5pc0Rpc3Bvc2VkKCkmJmkubWFudWFsbHlTaG93VGlwKHQsZSxuLHt4OmkuX2xhc3RYLHk6aS5fbGFzdFksZGF0YUJ5Q29vcmRTeXM6aS5fbGFzdERhdGFCeUNvb3JkU3lzfSl9KSl9fSxlLnByb3RvdHlwZS5tYW51YWxseVNob3dUaXA9ZnVuY3Rpb24odCxlLG4saSl7aWYoaS5mcm9tIT09dGhpcy51aWQmJiFhLm5vZGUpe3ZhciByPWRFKGksbik7dGhpcy5fdGlja2V0PVwiXCI7dmFyIG89aS5kYXRhQnlDb29yZFN5cztpZihpLnRvb2x0aXAmJm51bGwhPWkueCYmbnVsbCE9aS55KXt2YXIgcz1oRTtzLng9aS54LHMueT1pLnkscy51cGRhdGUoKSxzLnRvb2x0aXA9aS50b29sdGlwLHRoaXMuX3RyeVNob3coe29mZnNldFg6aS54LG9mZnNldFk6aS55LHRhcmdldDpzfSxyKX1lbHNlIGlmKG8pdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDppLngsb2Zmc2V0WTppLnkscG9zaXRpb246aS5wb3NpdGlvbixkYXRhQnlDb29yZFN5czpvLHRvb2x0aXBPcHRpb246aS50b29sdGlwT3B0aW9ufSxyKTtlbHNlIGlmKG51bGwhPWkuc2VyaWVzSW5kZXgpe2lmKHRoaXMuX21hbnVhbGx5QXhpc1Nob3dUaXAodCxlLG4saSkpcmV0dXJuO3ZhciBsPXhPKGksZSksdT1sLnBvaW50WzBdLGg9bC5wb2ludFsxXTtudWxsIT11JiZudWxsIT1oJiZ0aGlzLl90cnlTaG93KHtvZmZzZXRYOnUsb2Zmc2V0WTpoLHBvc2l0aW9uOmkucG9zaXRpb24sdGFyZ2V0OmwuZWx9LHIpfWVsc2UgbnVsbCE9aS54JiZudWxsIT1pLnkmJihuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwidXBkYXRlQXhpc1BvaW50ZXJcIix4OmkueCx5OmkueX0pLHRoaXMuX3RyeVNob3coe29mZnNldFg6aS54LG9mZnNldFk6aS55LHBvc2l0aW9uOmkucG9zaXRpb24sdGFyZ2V0Om4uZ2V0WnIoKS5maW5kSG92ZXIoaS54LGkueSkudGFyZ2V0fSxyKSl9fSxlLnByb3RvdHlwZS5tYW51YWxseUhpZGVUaXA9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5fdG9vbHRpcENvbnRlbnQ7IXRoaXMuX2Fsd2F5c1Nob3dDb250ZW50JiZ0aGlzLl90b29sdGlwTW9kZWwmJnIuaGlkZUxhdGVyKHRoaXMuX3Rvb2x0aXBNb2RlbC5nZXQoXCJoaWRlRGVsYXlcIikpLHRoaXMuX2xhc3RYPXRoaXMuX2xhc3RZPXRoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLGkuZnJvbSE9PXRoaXMudWlkJiZ0aGlzLl9oaWRlKGRFKGksbikpfSxlLnByb3RvdHlwZS5fbWFudWFsbHlBeGlzU2hvd1RpcD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLnNlcmllc0luZGV4LG89aS5kYXRhSW5kZXgsYT1lLmdldENvbXBvbmVudChcImF4aXNQb2ludGVyXCIpLmNvb3JkU3lzQXhlc0luZm87aWYobnVsbCE9ciYmbnVsbCE9byYmbnVsbCE9YSl7dmFyIHM9ZS5nZXRTZXJpZXNCeUluZGV4KHIpO2lmKHMpaWYoXCJheGlzXCI9PT1wRShbcy5nZXREYXRhKCkuZ2V0SXRlbU1vZGVsKG8pLHMsKHMuY29vcmRpbmF0ZVN5c3RlbXx8e30pLm1vZGVsLHRdKS5nZXQoXCJ0cmlnZ2VyXCIpKXJldHVybiBuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwidXBkYXRlQXhpc1BvaW50ZXJcIixzZXJpZXNJbmRleDpyLGRhdGFJbmRleDpvLHBvc2l0aW9uOmkucG9zaXRpb259KSwhMH19LGUucHJvdG90eXBlLl90cnlTaG93PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC50YXJnZXQ7aWYodGhpcy5fdG9vbHRpcE1vZGVsKXt0aGlzLl9sYXN0WD10Lm9mZnNldFgsdGhpcy5fbGFzdFk9dC5vZmZzZXRZO3ZhciBpPXQuZGF0YUJ5Q29vcmRTeXM7aSYmaS5sZW5ndGg/dGhpcy5fc2hvd0F4aXNUb29sdGlwKGksdCk6biYmSmcobiwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXlzKHQpLmRhdGFJbmRleH0pLCEwKT8odGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5fc2hvd1Nlcmllc0l0ZW1Ub29sdGlwKHQsbixlKSk6biYmbi50b29sdGlwPyh0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXAodCxuLGUpKToodGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5faGlkZShlKSl9fSxlLnByb3RvdHlwZS5fc2hvd09yTW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KFwic2hvd0RlbGF5XCIpO2U9QihlLHRoaXMpLGNsZWFyVGltZW91dCh0aGlzLl9zaG93VGltb3V0KSxuPjA/dGhpcy5fc2hvd1RpbW91dD1zZXRUaW1lb3V0KGUsbik6ZSgpfSxlLnByb3RvdHlwZS5fc2hvd0F4aXNUb29sdGlwPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZWNNb2RlbCxpPXRoaXMuX3Rvb2x0aXBNb2RlbCxyPVtlLm9mZnNldFgsZS5vZmZzZXRZXSxvPXBFKFtlLnRvb2x0aXBPcHRpb24saV0pLGE9dGhpcy5fcmVuZGVyTW9kZSxzPVtdLGw9WWQoXCJzZWN0aW9uXCIse2Jsb2NrczpbXSxub0hlYWRlcjohMH0pLHU9W10saD1uZXcgUWQ7bEUodCwoZnVuY3Rpb24odCl7bEUodC5kYXRhQnlBeGlzLChmdW5jdGlvbih0KXt2YXIgZT1uLmdldENvbXBvbmVudCh0LmF4aXNEaW0rXCJBeGlzXCIsdC5heGlzSW5kZXgpLGk9dC52YWx1ZTtpZihlJiZudWxsIT1pKXt2YXIgcj1uTyhpLGUuYXhpcyxuLHQuc2VyaWVzRGF0YUluZGljZXMsdC52YWx1ZUxhYmVsT3B0KSxvPVlkKFwic2VjdGlvblwiLHtoZWFkZXI6cixub0hlYWRlcjohb3Qociksc29ydEJsb2NrczohMCxibG9ja3M6W119KTtsLmJsb2Nrcy5wdXNoKG8pLFAodC5zZXJpZXNEYXRhSW5kaWNlcywoZnVuY3Rpb24obCl7dmFyIGM9bi5nZXRTZXJpZXNCeUluZGV4KGwuc2VyaWVzSW5kZXgpLHA9bC5kYXRhSW5kZXhJbnNpZGUsZD1jLmdldERhdGFQYXJhbXMocCk7ZC5heGlzRGltPXQuYXhpc0RpbSxkLmF4aXNJbmRleD10LmF4aXNJbmRleCxkLmF4aXNUeXBlPXQuYXhpc1R5cGUsZC5heGlzSWQ9dC5heGlzSWQsZC5heGlzVmFsdWU9V18oZS5heGlzLHt2YWx1ZTppfSksZC5heGlzVmFsdWVMYWJlbD1yLGQubWFya2VyPWgubWFrZVRvb2x0aXBNYXJrZXIoXCJpdGVtXCIsYmMoZC5jb2xvciksYSk7dmFyIGY9dmQoYy5mb3JtYXRUb29sdGlwKHAsITAsbnVsbCkpO2YubWFya3VwRnJhZ21lbnQmJm8uYmxvY2tzLnB1c2goZi5tYXJrdXBGcmFnbWVudCksZi5tYXJrdXBUZXh0JiZ1LnB1c2goZi5tYXJrdXBUZXh0KSxzLnB1c2goZCl9KSl9fSkpfSkpLGwuYmxvY2tzLnJldmVyc2UoKSx1LnJldmVyc2UoKTt2YXIgYz1lLnBvc2l0aW9uLHA9by5nZXQoXCJvcmRlclwiKSxkPVpkKGwsaCxhLHAsbi5nZXQoXCJ1c2VVVENcIiksby5nZXQoXCJ0ZXh0U3R5bGVcIikpO2QmJnUudW5zaGlmdChkKTt2YXIgZj1cInJpY2hUZXh0XCI9PT1hP1wiXFxuXFxuXCI6XCI8YnIvPlwiLGc9dS5qb2luKGYpO3RoaXMuX3Nob3dPck1vdmUobywoZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVDb250ZW50Tm90Q2hhbmdlZE9uQXhpcyh0KT90aGlzLl91cGRhdGVQb3NpdGlvbihvLGMsclswXSxyWzFdLHRoaXMuX3Rvb2x0aXBDb250ZW50LHMpOnRoaXMuX3Nob3dUb29sdGlwQ29udGVudChvLGcscyxNYXRoLnJhbmRvbSgpK1wiXCIsclswXSxyWzFdLGMsbnVsbCxoKX0pKX0sZS5wcm90b3R5cGUuX3Nob3dTZXJpZXNJdGVtVG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9SmcoZSwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXlzKHQpLmRhdGFJbmRleH0pLCEwKSxyPXRoaXMuX2VjTW9kZWwsbz15cyhpKSxhPW8uc2VyaWVzSW5kZXgscz1yLmdldFNlcmllc0J5SW5kZXgoYSksbD1vLmRhdGFNb2RlbHx8cyx1PW8uZGF0YUluZGV4LGg9by5kYXRhVHlwZSxjPWwuZ2V0RGF0YShoKSxwPXRoaXMuX3JlbmRlck1vZGUsZD1wRShbYy5nZXRJdGVtTW9kZWwodSksbCxzJiYocy5jb29yZGluYXRlU3lzdGVtfHx7fSkubW9kZWwsdGhpcy5fdG9vbHRpcE1vZGVsXSksZj1kLmdldChcInRyaWdnZXJcIik7aWYobnVsbD09Znx8XCJpdGVtXCI9PT1mKXt2YXIgZz1sLmdldERhdGFQYXJhbXModSxoKSx5PW5ldyBRZDtnLm1hcmtlcj15Lm1ha2VUb29sdGlwTWFya2VyKFwiaXRlbVwiLGJjKGcuY29sb3IpLHApO3ZhciB2PXZkKGwuZm9ybWF0VG9vbHRpcCh1LCExLGgpKSxtPWQuZ2V0KFwib3JkZXJcIiksXz12Lm1hcmt1cEZyYWdtZW50P1pkKHYubWFya3VwRnJhZ21lbnQseSxwLG0sci5nZXQoXCJ1c2VVVENcIiksZC5nZXQoXCJ0ZXh0U3R5bGVcIikpOnYubWFya3VwVGV4dCx4PVwiaXRlbV9cIitsLm5hbWUrXCJfXCIrdTt0aGlzLl9zaG93T3JNb3ZlKGQsKGZ1bmN0aW9uKCl7dGhpcy5fc2hvd1Rvb2x0aXBDb250ZW50KGQsXyxnLHgsdC5vZmZzZXRYLHQub2Zmc2V0WSx0LnBvc2l0aW9uLHQudGFyZ2V0LHkpfSkpLG4oe3R5cGU6XCJzaG93VGlwXCIsZGF0YUluZGV4SW5zaWRlOnUsZGF0YUluZGV4OmMuZ2V0UmF3SW5kZXgodSksc2VyaWVzSW5kZXg6YSxmcm9tOnRoaXMudWlkfSl9fSxlLnByb3RvdHlwZS5fc2hvd0NvbXBvbmVudEl0ZW1Ub29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLnRvb2x0aXA7aWYoSChpKSl7aT17Y29udGVudDppLGZvcm1hdHRlcjppfX12YXIgcj1uZXcgU2goaSx0aGlzLl90b29sdGlwTW9kZWwsdGhpcy5fZWNNb2RlbCksbz1yLmdldChcImNvbnRlbnRcIiksYT1NYXRoLnJhbmRvbSgpK1wiXCIscz1uZXcgUWQ7dGhpcy5fc2hvd09yTW92ZShyLChmdW5jdGlvbigpe3RoaXMuX3Nob3dUb29sdGlwQ29udGVudChyLG8sci5nZXQoXCJmb3JtYXR0ZXJQYXJhbXNcIil8fHt9LGEsdC5vZmZzZXRYLHQub2Zmc2V0WSx0LnBvc2l0aW9uLGUscyl9KSksbih7dHlwZTpcInNob3dUaXBcIixmcm9tOnRoaXMudWlkfSl9LGUucHJvdG90eXBlLl9zaG93VG9vbHRpcENvbnRlbnQ9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe2lmKHRoaXMuX3RpY2tldD1cIlwiLHQuZ2V0KFwic2hvd0NvbnRlbnRcIikmJnQuZ2V0KFwic2hvd1wiKSl7dmFyIHU9dGhpcy5fdG9vbHRpcENvbnRlbnQsaD10LmdldChcImZvcm1hdHRlclwiKTthPWF8fHQuZ2V0KFwicG9zaXRpb25cIik7dmFyIGM9ZSxwPXRoaXMuX2dldE5lYXJlc3RQb2ludChbcixvXSxuLHQuZ2V0KFwidHJpZ2dlclwiKSx0LmdldChcImJvcmRlckNvbG9yXCIpKTtpZihoJiZIKGgpKXt2YXIgZD10LmVjTW9kZWwuZ2V0KFwidXNlVVRDXCIpLGY9RihuKT9uWzBdOm47Yz1oLGYmJmYuYXhpc1R5cGUmJmYuYXhpc1R5cGUuaW5kZXhPZihcInRpbWVcIik+PTAmJihjPVpoKGYuYXhpc1ZhbHVlLGMsZCkpLGM9X2MoYyxuLCEwKX1lbHNlIGlmKEcoaCkpe3ZhciBnPXNFKChmdW5jdGlvbihlLGkpe2U9PT10aGlzLl90aWNrZXQmJih1LnNldENvbnRlbnQoaSxsLHQscC5jb2xvcixhKSx0aGlzLl91cGRhdGVQb3NpdGlvbih0LGEscixvLHUsbixzKSl9KSx0aGlzKTt0aGlzLl90aWNrZXQ9aSxjPWgobixpLGcpfXUuc2V0Q29udGVudChjLGwsdCxwLmNvbG9yLGEpLHUuc2hvdyh0LHAuY29sb3IpLHRoaXMuX3VwZGF0ZVBvc2l0aW9uKHQsYSxyLG8sdSxuLHMpfX0sZS5wcm90b3R5cGUuX2dldE5lYXJlc3RQb2ludD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm5cImF4aXNcIj09PW58fEYoZSk/e2NvbG9yOml8fChcImh0bWxcIj09PXRoaXMuX3JlbmRlck1vZGU/XCIjZmZmXCI6XCJub25lXCIpfTpGKGUpP3ZvaWQgMDp7Y29sb3I6aXx8ZS5jb2xvcnx8ZS5ib3JkZXJDb2xvcn19LGUucHJvdG90eXBlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz10aGlzLl9hcGkuZ2V0V2lkdGgoKSxsPXRoaXMuX2FwaS5nZXRIZWlnaHQoKTtlPWV8fHQuZ2V0KFwicG9zaXRpb25cIik7dmFyIHU9ci5nZXRTaXplKCksaD10LmdldChcImFsaWduXCIpLGM9dC5nZXQoXCJ2ZXJ0aWNhbEFsaWduXCIpLHA9YSYmYS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2lmKGEmJnAuYXBwbHlUcmFuc2Zvcm0oYS50cmFuc2Zvcm0pLEcoZSkmJihlPWUoW24saV0sbyxyLmVsLHAse3ZpZXdTaXplOltzLGxdLGNvbnRlbnRTaXplOnUuc2xpY2UoKX0pKSxGKGUpKW49dUUoZVswXSxzKSxpPXVFKGVbMV0sbCk7ZWxzZSBpZihYKGUpKXt2YXIgZD1lO2Qud2lkdGg9dVswXSxkLmhlaWdodD11WzFdO3ZhciBmPUFjKGQse3dpZHRoOnMsaGVpZ2h0Omx9KTtuPWYueCxpPWYueSxoPW51bGwsYz1udWxsfWVsc2UgaWYoSChlKSYmYSl7dmFyIGc9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW5bMF0scj1uWzFdLG89MTAsYT01LHM9MCxsPTAsdT1lLndpZHRoLGg9ZS5oZWlnaHQ7c3dpdGNoKHQpe2Nhc2VcImluc2lkZVwiOnM9ZS54K3UvMi1pLzIsbD1lLnkraC8yLXIvMjticmVhaztjYXNlXCJ0b3BcIjpzPWUueCt1LzItaS8yLGw9ZS55LXItbzticmVhaztjYXNlXCJib3R0b21cIjpzPWUueCt1LzItaS8yLGw9ZS55K2grbzticmVhaztjYXNlXCJsZWZ0XCI6cz1lLngtaS1vLWEsbD1lLnkraC8yLXIvMjticmVhaztjYXNlXCJyaWdodFwiOnM9ZS54K3UrbythLGw9ZS55K2gvMi1yLzJ9cmV0dXJuW3MsbF19KGUscCx1KTtuPWdbMF0saT1nWzFdfWVsc2V7Zz1mdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz1uLmdldE91dGVyU2l6ZSgpLGw9cy53aWR0aCx1PXMuaGVpZ2h0O251bGwhPW8mJih0K2wrbysyPmk/dC09bCtvOnQrPW8pO251bGwhPWEmJihlK3UrYT5yP2UtPXUrYTplKz1hKTtyZXR1cm5bdCxlXX0obixpLHIscyxsLGg/bnVsbDoyMCxjP251bGw6MjApO249Z1swXSxpPWdbMV19aWYoaCYmKG4tPWZFKGgpP3VbMF0vMjpcInJpZ2h0XCI9PT1oP3VbMF06MCksYyYmKGktPWZFKGMpP3VbMV0vMjpcImJvdHRvbVwiPT09Yz91WzFdOjApLEpOKHQpKXtnPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5nZXRPdXRlclNpemUoKSxhPW8ud2lkdGgscz1vLmhlaWdodDtyZXR1cm4gdD1NYXRoLm1pbih0K2EsaSktYSxlPU1hdGgubWluKGUrcyxyKS1zLHQ9TWF0aC5tYXgodCwwKSxlPU1hdGgubWF4KGUsMCksW3QsZV19KG4saSxyLHMsbCk7bj1nWzBdLGk9Z1sxXX1yLm1vdmVUbyhuLGkpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzLG49ISFlJiZlLmxlbmd0aD09PXQubGVuZ3RoO3JldHVybiBuJiZsRShlLChmdW5jdGlvbihlLGkpe3ZhciByPWUuZGF0YUJ5QXhpc3x8W10sbz0odFtpXXx8e30pLmRhdGFCeUF4aXN8fFtdOyhuPW4mJnIubGVuZ3RoPT09by5sZW5ndGgpJiZsRShyLChmdW5jdGlvbih0LGUpe3ZhciBpPW9bZV18fHt9LHI9dC5zZXJpZXNEYXRhSW5kaWNlc3x8W10sYT1pLnNlcmllc0RhdGFJbmRpY2VzfHxbXTsobj1uJiZ0LnZhbHVlPT09aS52YWx1ZSYmdC5heGlzVHlwZT09PWkuYXhpc1R5cGUmJnQuYXhpc0lkPT09aS5heGlzSWQmJnIubGVuZ3RoPT09YS5sZW5ndGgpJiZsRShyLChmdW5jdGlvbih0LGUpe3ZhciBpPWFbZV07bj1uJiZ0LnNlcmllc0luZGV4PT09aS5zZXJpZXNJbmRleCYmdC5kYXRhSW5kZXg9PT1pLmRhdGFJbmRleH0pKX0pKX0pKSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9dCwhIW59LGUucHJvdG90eXBlLl9oaWRlPWZ1bmN0aW9uKHQpe3RoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLHQoe3R5cGU6XCJoaWRlVGlwXCIsZnJvbTp0aGlzLnVpZH0pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7YS5ub2RlfHwodGhpcy5fdG9vbHRpcENvbnRlbnQuZGlzcG9zZSgpLG1PKFwiaXRlbVRvb2x0aXBcIixlKSl9LGUudHlwZT1cInRvb2x0aXBcIixlfShwZik7ZnVuY3Rpb24gcEUodCl7Zm9yKHZhciBlPXQucG9wKCk7dC5sZW5ndGg7KXt2YXIgbj10LnBvcCgpO24mJihuIGluc3RhbmNlb2YgU2gmJihuPW4uZ2V0KFwidG9vbHRpcFwiLCEwKSksSChuKSYmKG49e2Zvcm1hdHRlcjpufSksZT1uZXcgU2gobixlLGUuZWNNb2RlbCkpfXJldHVybiBlfWZ1bmN0aW9uIGRFKHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2hBY3Rpb258fEIoZS5kaXNwYXRjaEFjdGlvbixlKX1mdW5jdGlvbiBmRSh0KXtyZXR1cm5cImNlbnRlclwiPT09dHx8XCJtaWRkbGVcIj09PXR9dmFyIGdFPVtcInJlY3RcIixcInBvbHlnb25cIixcImtlZXBcIixcImNsZWFyXCJdO2Z1bmN0aW9uIHlFKHQsZSl7dmFyIG49X3IodD90LmJydXNoOltdKTtpZihuLmxlbmd0aCl7dmFyIGk9W107UChuLChmdW5jdGlvbih0KXt2YXIgZT10Lmhhc093blByb3BlcnR5KFwidG9vbGJveFwiKT90LnRvb2xib3g6W107ZSBpbnN0YW5jZW9mIEFycmF5JiYoaT1pLmNvbmNhdChlKSl9KSk7dmFyIHI9dCYmdC50b29sYm94O0YocikmJihyPXJbMF0pLHJ8fChyPXtmZWF0dXJlOnt9fSx0LnRvb2xib3g9W3JdKTt2YXIgbz1yLmZlYXR1cmV8fChyLmZlYXR1cmU9e30pLGE9by5icnVzaHx8KG8uYnJ1c2g9e30pLHM9YS50eXBlfHwoYS50eXBlPVtdKTtzLnB1c2guYXBwbHkocyxpKSxmdW5jdGlvbih0KXt2YXIgZT17fTtQKHQsKGZ1bmN0aW9uKHQpe2VbdF09MX0pKSx0Lmxlbmd0aD0wLFAoZSwoZnVuY3Rpb24oZSxuKXt0LnB1c2gobil9KSl9KHMpLGUmJiFzLmxlbmd0aCYmcy5wdXNoLmFwcGx5KHMsZ0UpfX12YXIgdkU9UDtmdW5jdGlvbiBtRSh0KXtpZih0KWZvcih2YXIgZSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuITB9ZnVuY3Rpb24gX0UodCxlLG4pe3ZhciBpPXt9O3JldHVybiB2RShlLChmdW5jdGlvbihlKXt2YXIgcixvPWlbZV09KChyPWZ1bmN0aW9uKCl7fSkucHJvdG90eXBlLl9faGlkZGVuPXIucHJvdG90eXBlLG5ldyByKTt2RSh0W2VdLChmdW5jdGlvbih0LGkpe2lmKGpJLmlzVmFsaWRUeXBlKGkpKXt2YXIgcj17dHlwZTppLHZpc3VhbDp0fTtuJiZuKHIsZSksb1tpXT1uZXcgakkociksXCJvcGFjaXR5XCI9PT1pJiYoKHI9dyhyKSkudHlwZT1cImNvbG9yQWxwaGFcIixvLl9faGlkZGVuLl9fYWxwaGFGb3JPcGFjaXR5PW5ldyBqSShyKSl9fSkpfSkpLGl9ZnVuY3Rpb24geEUodCxlLG4pe3ZhciBpO1AobiwoZnVuY3Rpb24odCl7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmbUUoZVt0XSkmJihpPSEwKX0pKSxpJiZQKG4sKGZ1bmN0aW9uKG4pe2UuaGFzT3duUHJvcGVydHkobikmJm1FKGVbbl0pP3Rbbl09dyhlW25dKTpkZWxldGUgdFtuXX0pKX12YXIgYkU9e2xpbmVYOndFKDApLGxpbmVZOndFKDEpLHJlY3Q6e3BvaW50OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuY29udGFpbih0WzBdLHRbMV0pfSxyZWN0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuaW50ZXJzZWN0KHQpfX0scG9seWdvbjp7cG9pbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZuLmJvdW5kaW5nUmVjdC5jb250YWluKHRbMF0sdFsxXSkmJkpfKG4ucmFuZ2UsdFswXSx0WzFdKX0scmVjdDpmdW5jdGlvbih0LGUsbil7dmFyIGk9bi5yYW5nZTtpZighdHx8aS5sZW5ndGg8PTEpcmV0dXJuITE7dmFyIHI9dC54LG89dC55LGE9dC53aWR0aCxzPXQuaGVpZ2h0LGw9aVswXTtyZXR1cm4hIShKXyhpLHIsbyl8fEpfKGkscithLG8pfHxKXyhpLHIsbytzKXx8Sl8oaSxyK2EsbytzKXx8Um4uY3JlYXRlKHQpLmNvbnRhaW4obFswXSxsWzFdKXx8WnUocixvLHIrYSxvLGkpfHxadShyLG8scixvK3MsaSl8fFp1KHIrYSxvLHIrYSxvK3MsaSl8fFp1KHIsbytzLHIrYSxvK3MsaSkpfHx2b2lkIDB9fX07ZnVuY3Rpb24gd0UodCl7dmFyIGU9W1wieFwiLFwieVwiXSxuPVtcIndpZHRoXCIsXCJoZWlnaHRcIl07cmV0dXJue3BvaW50OmZ1bmN0aW9uKGUsbixpKXtpZihlKXt2YXIgcj1pLnJhbmdlO3JldHVybiBTRShlW3RdLHIpfX0scmVjdDpmdW5jdGlvbihpLHIsbyl7aWYoaSl7dmFyIGE9by5yYW5nZSxzPVtpW2VbdF1dLGlbZVt0XV0raVtuW3RdXV07cmV0dXJuIHNbMV08c1swXSYmcy5yZXZlcnNlKCksU0Uoc1swXSxhKXx8U0Uoc1sxXSxhKXx8U0UoYVswXSxzKXx8U0UoYVsxXSxzKX19fX1mdW5jdGlvbiBTRSh0LGUpe3JldHVybiBlWzBdPD10JiZ0PD1lWzFdfXZhciBNRT1bXCJpbkJydXNoXCIsXCJvdXRPZkJydXNoXCJdLElFPVwiX19lY0JydXNoU2VsZWN0XCIsVEU9XCJfX2VjSW5CcnVzaFNlbGVjdEV2ZW50XCI7ZnVuY3Rpb24gQ0UodCl7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcImJydXNoXCJ9LChmdW5jdGlvbihlKXsoZS5icnVzaFRhcmdldE1hbmFnZXI9bmV3IE9OKGUub3B0aW9uLHQpKS5zZXRJbnB1dFJhbmdlcyhlLmFyZWFzLHQpfSkpfWZ1bmN0aW9uIEFFKHQsZSxuKXt2YXIgaSxyLG89W107dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcImJydXNoXCJ9LChmdW5jdGlvbih0KXtuJiZcInRha2VHbG9iYWxDdXJzb3JcIj09PW4udHlwZSYmdC5zZXRCcnVzaE9wdGlvbihcImJydXNoXCI9PT1uLmtleT9uLmJydXNoT3B0aW9uOnticnVzaFR5cGU6ITF9KX0pKSxDRSh0KSx0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwiYnJ1c2hcIn0sKGZ1bmN0aW9uKGUsbil7dmFyIGE9e2JydXNoSWQ6ZS5pZCxicnVzaEluZGV4Om4sYnJ1c2hOYW1lOmUubmFtZSxhcmVhczp3KGUuYXJlYXMpLHNlbGVjdGVkOltdfTtvLnB1c2goYSk7dmFyIHM9ZS5vcHRpb24sbD1zLmJydXNoTGluayx1PVtdLGg9W10sYz1bXSxwPSExO258fChpPXMudGhyb3R0bGVUeXBlLHI9cy50aHJvdHRsZURlbGF5KTt2YXIgZD1PKGUuYXJlYXMsKGZ1bmN0aW9uKHQpe3ZhciBlPWtFW3QuYnJ1c2hUeXBlXSxuPVQoe2JvdW5kaW5nUmVjdDplP2UodCk6dm9pZCAwfSx0KTtyZXR1cm4gbi5zZWxlY3RvcnM9ZnVuY3Rpb24odCl7dmFyIGU9dC5icnVzaFR5cGUsbj17cG9pbnQ6ZnVuY3Rpb24oaSl7cmV0dXJuIGJFW2VdLnBvaW50KGksbix0KX0scmVjdDpmdW5jdGlvbihpKXtyZXR1cm4gYkVbZV0ucmVjdChpLG4sdCl9fTtyZXR1cm4gbn0obiksbn0pKSxmPV9FKGUub3B0aW9uLE1FLChmdW5jdGlvbih0KXt0Lm1hcHBpbmdNZXRob2Q9XCJmaXhlZFwifSkpO2Z1bmN0aW9uIGcodCl7cmV0dXJuXCJhbGxcIj09PWx8fCEhdVt0XX1mdW5jdGlvbiB5KHQpe3JldHVybiEhdC5sZW5ndGh9RihsKSYmUChsLChmdW5jdGlvbih0KXt1W3RdPTF9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbihuLGkpe3ZhciByPWNbaV09W107XCJwYXJhbGxlbFwiPT09bi5zdWJUeXBlP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtO3A9cHx8bi5oYXNBeGlzQnJ1c2hlZCgpLGcoZSkmJm4uZWFjaEFjdGl2ZVN0YXRlKHQuZ2V0RGF0YSgpLChmdW5jdGlvbih0LGUpe1wiYWN0aXZlXCI9PT10JiYoaFtlXT0xKX0pKX0obixpKTpmdW5jdGlvbihuLGkscil7aWYoIW4uYnJ1c2hTZWxlY3Rvcnx8ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm9wdGlvbi5zZXJpZXNJbmRleDtyZXR1cm4gbnVsbCE9biYmXCJhbGxcIiE9PW4mJihGKG4pP0EobixlKTwwOmUhPT1uKX0oZSxpKSlyZXR1cm47aWYoUChkLChmdW5jdGlvbihpKXtlLmJydXNoVGFyZ2V0TWFuYWdlci5jb250cm9sU2VyaWVzKGksbix0KSYmci5wdXNoKGkpLHA9cHx8eShyKX0pKSxnKGkpJiZ5KHIpKXt2YXIgbz1uLmdldERhdGEoKTtvLmVhY2goKGZ1bmN0aW9uKHQpe0xFKG4scixvLHQpJiYoaFt0XT0xKX0pKX19KG4saSxyKX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49e3Nlcmllc0lkOnQuaWQsc2VyaWVzSW5kZXg6ZSxzZXJpZXNOYW1lOnQubmFtZSxkYXRhSW5kZXg6W119O2Euc2VsZWN0ZWQucHVzaChuKTt2YXIgaT1jW2VdLHI9dC5nZXREYXRhKCksbz1nKGUpP2Z1bmN0aW9uKHQpe3JldHVybiBoW3RdPyhuLmRhdGFJbmRleC5wdXNoKHIuZ2V0UmF3SW5kZXgodCkpLFwiaW5CcnVzaFwiKTpcIm91dE9mQnJ1c2hcIn06ZnVuY3Rpb24oZSl7cmV0dXJuIExFKHQsaSxyLGUpPyhuLmRhdGFJbmRleC5wdXNoKHIuZ2V0UmF3SW5kZXgoZSkpLFwiaW5CcnVzaFwiKTpcIm91dE9mQnJ1c2hcIn07KGcoZSk/cDp5KGkpKSYmZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHM9e307ZnVuY3Rpb24gbCh0KXtyZXR1cm4gcGcobixhLHQpfWZ1bmN0aW9uIHUodCxlKXtmZyhuLGEsdCxlKX1mdW5jdGlvbiBoKHQsaCl7YT1udWxsPT1vP3Q6aDt2YXIgYz1uLmdldFJhd0RhdGFJdGVtKGEpO2lmKCFjfHwhMSE9PWMudmlzdWFsTWFwKWZvcih2YXIgcD1pLmNhbGwocix0KSxkPWVbcF0sZj1zW3BdLGc9MCx5PWYubGVuZ3RoO2c8eTtnKyspe3ZhciB2PWZbZ107ZFt2XSYmZFt2XS5hcHBseVZpc3VhbCh0LGwsdSl9fVAodCwoZnVuY3Rpb24odCl7dmFyIG49akkucHJlcGFyZVZpc3VhbFR5cGVzKGVbdF0pO3NbdF09bn0pKSxudWxsPT1vP24uZWFjaChoKTpuLmVhY2goW29dLGgpfShNRSxmLHIsbyl9KSl9KSksZnVuY3Rpb24odCxlLG4saSxyKXtpZighcilyZXR1cm47dmFyIG89dC5nZXRacigpO2lmKG9bVEVdKXJldHVybjtvLl9fZWNCcnVzaFNlbGVjdHx8KG8uX19lY0JydXNoU2VsZWN0PURFKTtUZihvLElFLG4sZSkodCxpKX0oZSxpLHIsbyxuKX1mdW5jdGlvbiBERSh0LGUpe2lmKCF0LmlzRGlzcG9zZWQoKSl7dmFyIG49dC5nZXRacigpO25bVEVdPSEwLHQuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJicnVzaFNlbGVjdFwiLGJhdGNoOmV9KSxuW1RFXT0hMX19ZnVuY3Rpb24gTEUodCxlLG4saSl7Zm9yKHZhciByPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgYT1lW3JdO2lmKHQuYnJ1c2hTZWxlY3RvcihpLG4sYS5zZWxlY3RvcnMsYSkpcmV0dXJuITB9fXZhciBrRT17cmVjdDpmdW5jdGlvbih0KXtyZXR1cm4gUEUodC5yYW5nZSl9LHBvbHlnb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5yYW5nZSxpPTAscj1uLmxlbmd0aDtpPHI7aSsrKXtlPWV8fFtbMS8wLC0xLzBdLFsxLzAsLTEvMF1dO3ZhciBvPW5baV07b1swXTxlWzBdWzBdJiYoZVswXVswXT1vWzBdKSxvWzBdPmVbMF1bMV0mJihlWzBdWzFdPW9bMF0pLG9bMV08ZVsxXVswXSYmKGVbMV1bMF09b1sxXSksb1sxXT5lWzFdWzFdJiYoZVsxXVsxXT1vWzFdKX1yZXR1cm4gZSYmUEUoZSl9fTtmdW5jdGlvbiBQRSh0KXtyZXR1cm4gbmV3IFJuKHRbMF1bMF0sdFsxXVswXSx0WzBdWzFdLXRbMF1bMF0sdFsxXVsxXS10WzFdWzBdKX12YXIgT0U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuZWNNb2RlbD10LHRoaXMuYXBpPWUsdGhpcy5tb2RlbCwodGhpcy5fYnJ1c2hDb250cm9sbGVyPW5ldyBJQShlLmdldFpyKCkpKS5vbihcImJydXNoXCIsQih0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5tb2RlbD10LHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXtDRShlKSx0aGlzLl91cGRhdGVDb250cm9sbGVyKHQsZSxuLGkpfSxlLnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy51cGRhdGVUcmFuc2Zvcm0odCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbixpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSl7KCFpfHxpLiRmcm9tIT09dC5pZCkmJnRoaXMuX2JydXNoQ29udHJvbGxlci5zZXRQYW5lbHModC5icnVzaFRhcmdldE1hbmFnZXIubWFrZVBhbmVsT3B0cyhuKSkuZW5hYmxlQnJ1c2godC5icnVzaE9wdGlvbikudXBkYXRlQ292ZXJzKHQuYXJlYXMuc2xpY2UoKSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfSxlLnByb3RvdHlwZS5fb25CcnVzaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVsLmlkLG49dGhpcy5tb2RlbC5icnVzaFRhcmdldE1hbmFnZXIuc2V0T3V0cHV0UmFuZ2VzKHQuYXJlYXMsdGhpcy5lY01vZGVsKTsoIXQuaXNFbmR8fHQucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiYnJ1c2hcIixicnVzaElkOmUsYXJlYXM6dyhuKSwkZnJvbTplfSksdC5pc0VuZCYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJicnVzaEVuZFwiLGJydXNoSWQ6ZSxhcmVhczp3KG4pLCRmcm9tOmV9KX0sZS50eXBlPVwiYnJ1c2hcIixlfShwZiksUkU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmFyZWFzPVtdLG4uYnJ1c2hPcHRpb249e30sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbjshZSYmeEUobix0LFtcImluQnJ1c2hcIixcIm91dE9mQnJ1c2hcIl0pO3ZhciBpPW4uaW5CcnVzaD1uLmluQnJ1c2h8fHt9O24ub3V0T2ZCcnVzaD1uLm91dE9mQnJ1c2h8fHtjb2xvcjpcIiNkZGRcIn0saS5oYXNPd25Qcm9wZXJ0eShcImxpZnRaXCIpfHwoaS5saWZ0Wj01KX0sZS5wcm90b3R5cGUuc2V0QXJlYXM9ZnVuY3Rpb24odCl7dCYmKHRoaXMuYXJlYXM9Tyh0LChmdW5jdGlvbih0KXtyZXR1cm4gTkUodGhpcy5vcHRpb24sdCl9KSx0aGlzKSl9LGUucHJvdG90eXBlLnNldEJydXNoT3B0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuYnJ1c2hPcHRpb249TkUodGhpcy5vcHRpb24sdCksdGhpcy5icnVzaFR5cGU9dGhpcy5icnVzaE9wdGlvbi5icnVzaFR5cGV9LGUudHlwZT1cImJydXNoXCIsZS5kZXBlbmRlbmNpZXM9W1wiZ2VvXCIsXCJncmlkXCIsXCJ4QXhpc1wiLFwieUF4aXNcIixcInBhcmFsbGVsXCIsXCJzZXJpZXNcIl0sZS5kZWZhdWx0T3B0aW9uPXtzZXJpZXNJbmRleDpcImFsbFwiLGJydXNoVHlwZTpcInJlY3RcIixicnVzaE1vZGU6XCJzaW5nbGVcIix0cmFuc2Zvcm1hYmxlOiEwLGJydXNoU3R5bGU6e2JvcmRlcldpZHRoOjEsY29sb3I6XCJyZ2JhKDIxMCwyMTksMjM4LDAuMylcIixib3JkZXJDb2xvcjpcIiNEMkRCRUVcIn0sdGhyb3R0bGVUeXBlOlwiZml4UmF0ZVwiLHRocm90dGxlRGVsYXk6MCxyZW1vdmVPbkNsaWNrOiEwLHo6MWU0fSxlfShOYyk7ZnVuY3Rpb24gTkUodCxlKXtyZXR1cm4gUyh7YnJ1c2hUeXBlOnQuYnJ1c2hUeXBlLGJydXNoTW9kZTp0LmJydXNoTW9kZSx0cmFuc2Zvcm1hYmxlOnQudHJhbnNmb3JtYWJsZSxicnVzaFN0eWxlOm5ldyBTaCh0LmJydXNoU3R5bGUpLmdldEl0ZW1TdHlsZSgpLHJlbW92ZU9uQ2xpY2s6dC5yZW1vdmVPbkNsaWNrLHo6dC56fSxlLCEwKX12YXIgRUU9W1wicmVjdFwiLFwicG9seWdvblwiLFwibGluZVhcIixcImxpbmVZXCIsXCJrZWVwXCIsXCJjbGVhclwiXSx6RT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGkscixvO2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJicnVzaFwifSwoZnVuY3Rpb24odCl7aT10LmJydXNoVHlwZSxyPXQuYnJ1c2hPcHRpb24uYnJ1c2hNb2RlfHxcInNpbmdsZVwiLG89b3x8ISF0LmFyZWFzLmxlbmd0aH0pKSx0aGlzLl9icnVzaFR5cGU9aSx0aGlzLl9icnVzaE1vZGU9cixQKHQuZ2V0KFwidHlwZVwiLCEwKSwoZnVuY3Rpb24oZSl7dC5zZXRJY29uU3RhdHVzKGUsKFwia2VlcFwiPT09ZT9cIm11bHRpcGxlXCI9PT1yOlwiY2xlYXJcIj09PWU/bzplPT09aSk/XCJlbXBoYXNpc1wiOlwibm9ybWFsXCIpfSkpfSxlLnByb3RvdHlwZS51cGRhdGVWaWV3PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnJlbmRlcih0LGUsbil9LGUucHJvdG90eXBlLmdldEljb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tb2RlbCxlPXQuZ2V0KFwiaWNvblwiLCEwKSxuPXt9O3JldHVybiBQKHQuZ2V0KFwidHlwZVwiLCEwKSwoZnVuY3Rpb24odCl7ZVt0XSYmKG5bdF09ZVt0XSl9KSksbn0sZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fYnJ1c2hUeXBlLHI9dGhpcy5fYnJ1c2hNb2RlO1wiY2xlYXJcIj09PW4/KGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJheGlzQXJlYVNlbGVjdFwiLGludGVydmFsczpbXX0pLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJicnVzaFwiLGNvbW1hbmQ6XCJjbGVhclwiLGFyZWFzOltdfSkpOmUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJ0YWtlR2xvYmFsQ3Vyc29yXCIsa2V5OlwiYnJ1c2hcIixicnVzaE9wdGlvbjp7YnJ1c2hUeXBlOlwia2VlcFwiPT09bj9pOmkhPT1uJiZuLGJydXNoTW9kZTpcImtlZXBcIj09PW4/XCJtdWx0aXBsZVwiPT09cj9cInNpbmdsZVwiOlwibXVsdGlwbGVcIjpyfX0pfSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAsdHlwZTpFRS5zbGljZSgpLGljb246e3JlY3Q6XCJNNy4zLDM0LjcgTTAuNCwxMFYtMC4yaDkuOCBNODkuNiwxMFYtMC4yaC05LjggTTAuNCw2MHYxMC4yaDkuOCBNODkuNiw2MHYxMC4yaC05LjggTTEyLjMsMjIuNFYxMC41aDEzLjEgTTMzLjYsMTAuNWg3LjggTTQ5LjEsMTAuNWg3LjggTTc3LjUsMjIuNFYxMC41aC0xMyBNMTIuMywzMS4xdjguMiBNNzcuNywzMS4xdjguMiBNMTIuMyw0Ny42djExLjloMTMuMSBNMzMuNiw1OS41aDcuNiBNNDkuMSw1OS41IGg3LjcgTTc3LjUsNDcuNnYxMS45aC0xM1wiLHBvbHlnb246XCJNNTUuMiwzNC45YzEuNywwLDMuMSwxLjQsMy4xLDMuMXMtMS40LDMuMS0zLjEsMy4xIHMtMy4xLTEuNC0zLjEtMy4xUzUzLjUsMzQuOSw1NS4yLDM0Ljl6IE01MC40LDUxYzEuNywwLDMuMSwxLjQsMy4xLDMuMWMwLDEuNy0xLjQsMy4xLTMuMSwzLjFjLTEuNywwLTMuMS0xLjQtMy4xLTMuMSBDNDcuMyw1Mi40LDQ4LjcsNTEsNTAuNCw1MXogTTU1LjYsMzcuMWwxLjUtNy44IE02MC4xLDEzLjVsMS42LTguN2wtNy44LDQgTTU5LDE5bC0xLDUuMyBNMjQsMTYuMWw2LjQsNC45bDYuNC0zLjMgTTQ4LjUsMTEuNiBsLTUuOSwzLjEgTTE5LjEsMTIuOEw5LjcsNS4xbDEuMSw3LjcgTTEzLjQsMjkuOGwxLDcuM2w2LjYsMS42IE0xMS42LDE4LjRsMSw2LjEgTTMyLjgsNDEuOSBNMjYuNiw0MC40IE0yNy4zLDQwLjJsNi4xLDEuNiBNNDkuOSw1Mi4xbC01LjYtNy42bC00LjktMS4yXCIsbGluZVg6XCJNMTUuMiwzMCBNMTkuNywxNS42VjEuOUgyOSBNMzQuOCwxLjlINDAuNCBNNTUuMywxNS42VjEuOUg0NS45IE0xOS43LDQ0LjRWNTguMUgyOSBNMzQuOCw1OC4xSDQwLjQgTTU1LjMsNDQuNCBWNTguMUg0NS45IE0xMi41LDIwLjNsLTkuNCw5LjZsOS42LDkuOCBNMy4xLDI5LjloMTYuNSBNNjIuNSwyMC4zbDkuNCw5LjZMNjIuMywzOS43IE03MS45LDI5LjlINTUuNFwiLGxpbmVZOlwiTTM4LjgsNy43IE01Mi43LDEyaDEzLjJ2OSBNNjUuOSwyNi42VjMyIE01Mi43LDQ2LjNoMTMuMnYtOSBNMjQuOSwxMkgxMS44djkgTTExLjgsMjYuNlYzMiBNMjQuOSw0Ni4zSDExLjh2LTkgTTQ4LjIsNS4xbC05LjMtOWwtOS40LDkuMiBNMzguOS0zLjlWMTIgTTQ4LjIsNTMuM2wtOS4zLDlsLTkuNC05LjIgTTM4LjksNjIuM1Y0Ni40XCIsa2VlcDpcIk00LDEwLjVWMWgxMC4zIE0yMC43LDFoNi4xIE0zMywxaDYuMSBNNTUuNCwxMC41VjFINDUuMiBNNCwxNy4zdjYuNiBNNTUuNiwxNy4zdjYuNiBNNCwzMC41VjQwaDEwLjMgTTIwLjcsNDAgaDYuMSBNMzMsNDBoNi4xIE01NS40LDMwLjVWNDBINDUuMiBNMjEsMTguOWg2Mi45djQ4LjZIMjFWMTguOXpcIixjbGVhcjpcIk0yMiwxNC43bDMwLjksMzEgTTUyLjksMTQuN0wyMiw0NS43IE00LjcsMTYuOFY0LjJoMTMuMSBNMjYsNC4yaDcuOCBNNDEuNiw0LjJoNy44IE03MC4zLDE2LjhWNC4ySDU3LjIgTTQuNywyNS45djguNiBNNzAuMywyNS45djguNiBNNC43LDQzLjJ2MTIuNmgxMy4xIE0yNiw1NS44aDcuOCBNNDEuNiw1NS44aDcuOCBNNzAuMyw0My4ydjEyLjZINTcuMlwifSx0aXRsZTp0LmdldExvY2FsZShbXCJ0b29sYm94XCIsXCJicnVzaFwiLFwidGl0bGVcIl0pfX0sZX0obE4pO3ZhciBCRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubGF5b3V0TW9kZT17dHlwZTpcImJveFwiLGlnbm9yZVNpemU6ITB9LG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9XCJ0aXRsZVwiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo2LHNob3c6ITAsdGV4dDpcIlwiLHRhcmdldDpcImJsYW5rXCIsc3VidGV4dDpcIlwiLHN1YnRhcmdldDpcImJsYW5rXCIsbGVmdDowLHRvcDowLGJhY2tncm91bmRDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJDb2xvcjpcIiNjY2NcIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtR2FwOjEwLHRleHRTdHlsZTp7Zm9udFNpemU6MTgsZm9udFdlaWdodDpcImJvbGRcIixjb2xvcjpcIiM0NjQ2NDZcIn0sc3VidGV4dFN0eWxlOntmb250U2l6ZToxMixjb2xvcjpcIiM2RTcwNzlcIn19LGV9KE5jKSxWRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoXCJzaG93XCIpKXt2YXIgaT10aGlzLmdyb3VwLHI9dC5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxvPXQuZ2V0TW9kZWwoXCJzdWJ0ZXh0U3R5bGVcIiksYT10LmdldChcInRleHRBbGlnblwiKSxzPXR0KHQuZ2V0KFwidGV4dEJhc2VsaW5lXCIpLHQuZ2V0KFwidGV4dFZlcnRpY2FsQWxpZ25cIikpLGw9bmV3IGxzKHtzdHlsZTpuaChyLHt0ZXh0OnQuZ2V0KFwidGV4dFwiKSxmaWxsOnIuZ2V0VGV4dENvbG9yKCl9LHtkaXNhYmxlQm94OiEwfSksejI6MTB9KSx1PWwuZ2V0Qm91bmRpbmdSZWN0KCksaD10LmdldChcInN1YnRleHRcIiksYz1uZXcgbHMoe3N0eWxlOm5oKG8se3RleHQ6aCxmaWxsOm8uZ2V0VGV4dENvbG9yKCkseTp1LmhlaWdodCt0LmdldChcIml0ZW1HYXBcIiksdmVydGljYWxBbGlnbjpcInRvcFwifSx7ZGlzYWJsZUJveDohMH0pLHoyOjEwfSkscD10LmdldChcImxpbmtcIiksZD10LmdldChcInN1YmxpbmtcIiksZj10LmdldChcInRyaWdnZXJFdmVudFwiLCEwKTtsLnNpbGVudD0hcCYmIWYsYy5zaWxlbnQ9IWQmJiFmLHAmJmwub24oXCJjbGlja1wiLChmdW5jdGlvbigpe3djKHAsXCJfXCIrdC5nZXQoXCJ0YXJnZXRcIikpfSkpLGQmJmMub24oXCJjbGlja1wiLChmdW5jdGlvbigpe3djKGQsXCJfXCIrdC5nZXQoXCJzdWJ0YXJnZXRcIikpfSkpLHlzKGwpLmV2ZW50RGF0YT15cyhjKS5ldmVudERhdGE9Zj97Y29tcG9uZW50VHlwZTpcInRpdGxlXCIsY29tcG9uZW50SW5kZXg6dC5jb21wb25lbnRJbmRleH06bnVsbCxpLmFkZChsKSxoJiZpLmFkZChjKTt2YXIgZz1pLmdldEJvdW5kaW5nUmVjdCgpLHk9dC5nZXRCb3hMYXlvdXRQYXJhbXMoKTt5LndpZHRoPWcud2lkdGgseS5oZWlnaHQ9Zy5oZWlnaHQ7dmFyIHY9QWMoeSx7d2lkdGg6bi5nZXRXaWR0aCgpLGhlaWdodDpuLmdldEhlaWdodCgpfSx0LmdldChcInBhZGRpbmdcIikpO2F8fChcIm1pZGRsZVwiPT09KGE9dC5nZXQoXCJsZWZ0XCIpfHx0LmdldChcInJpZ2h0XCIpKSYmKGE9XCJjZW50ZXJcIiksXCJyaWdodFwiPT09YT92LngrPXYud2lkdGg6XCJjZW50ZXJcIj09PWEmJih2LngrPXYud2lkdGgvMikpLHN8fChcImNlbnRlclwiPT09KHM9dC5nZXQoXCJ0b3BcIil8fHQuZ2V0KFwiYm90dG9tXCIpKSYmKHM9XCJtaWRkbGVcIiksXCJib3R0b21cIj09PXM/di55Kz12LmhlaWdodDpcIm1pZGRsZVwiPT09cyYmKHYueSs9di5oZWlnaHQvMikscz1zfHxcInRvcFwiKSxpLng9di54LGkueT12LnksaS5tYXJrUmVkcmF3KCk7dmFyIG09e2FsaWduOmEsdmVydGljYWxBbGlnbjpzfTtsLnNldFN0eWxlKG0pLGMuc2V0U3R5bGUobSksZz1pLmdldEJvdW5kaW5nUmVjdCgpO3ZhciBfPXYubWFyZ2luLHg9dC5nZXRJdGVtU3R5bGUoW1wiY29sb3JcIixcIm9wYWNpdHlcIl0pO3guZmlsbD10LmdldChcImJhY2tncm91bmRDb2xvclwiKTt2YXIgYj1uZXcgb3Moe3NoYXBlOnt4OmcueC1fWzNdLHk6Zy55LV9bMF0sd2lkdGg6Zy53aWR0aCtfWzFdK19bM10saGVpZ2h0OmcuaGVpZ2h0K19bMF0rX1syXSxyOnQuZ2V0KFwiYm9yZGVyUmFkaXVzXCIpfSxzdHlsZTp4LHN1YlBpeGVsT3B0aW1pemU6ITAsc2lsZW50OiEwfSk7aS5hZGQoYil9fSxlLnR5cGU9XCJ0aXRsZVwiLGV9KHBmKTt2YXIgRkU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmxheW91dE1vZGU9XCJib3hcIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHRoaXMuX2luaXREYXRhKCl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLm1lcmdlT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9pbml0RGF0YSgpfSxlLnByb3RvdHlwZS5zZXRDdXJyZW50SW5kZXg9ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5vcHRpb24uY3VycmVudEluZGV4KTt2YXIgZT10aGlzLl9kYXRhLmNvdW50KCk7dGhpcy5vcHRpb24ubG9vcD90PSh0JWUrZSklZToodD49ZSYmKHQ9ZS0xKSx0PDAmJih0PTApKSx0aGlzLm9wdGlvbi5jdXJyZW50SW5kZXg9dH0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uLmN1cnJlbnRJbmRleH0sZS5wcm90b3R5cGUuaXNJbmRleE1heD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRJbmRleCgpPj10aGlzLl9kYXRhLmNvdW50KCktMX0sZS5wcm90b3R5cGUuc2V0UGxheVN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmF1dG9QbGF5PSEhdH0sZS5wcm90b3R5cGUuZ2V0UGxheVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm9wdGlvbi5hdXRvUGxheX0sZS5wcm90b3R5cGUuX2luaXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9wdGlvbixuPWUuZGF0YXx8W10saT1lLmF4aXNUeXBlLHI9dGhpcy5fbmFtZXM9W107XCJjYXRlZ29yeVwiPT09aT8odD1bXSxQKG4sKGZ1bmN0aW9uKGUsbil7dmFyIGksbz1Ucih3cihlKSxcIlwiKTtYKGUpPyhpPXcoZSkpLnZhbHVlPW46aT1uLHQucHVzaChpKSxyLnB1c2gobyl9KSkpOnQ9bjt2YXIgbz17Y2F0ZWdvcnk6XCJvcmRpbmFsXCIsdGltZTpcInRpbWVcIix2YWx1ZTpcIm51bWJlclwifVtpXXx8XCJudW1iZXJcIjsodGhpcy5fZGF0YT1uZXcgUG0oW3tuYW1lOlwidmFsdWVcIix0eXBlOm99XSx0aGlzKSkuaW5pdERhdGEodCxyKX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxlLnByb3RvdHlwZS5nZXRDYXRlZ29yaWVzPWZ1bmN0aW9uKCl7aWYoXCJjYXRlZ29yeVwiPT09dGhpcy5nZXQoXCJheGlzVHlwZVwiKSlyZXR1cm4gdGhpcy5fbmFtZXMuc2xpY2UoKX0sZS50eXBlPVwidGltZWxpbmVcIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NCxzaG93OiEwLGF4aXNUeXBlOlwidGltZVwiLHJlYWx0aW1lOiEwLGxlZnQ6XCIyMCVcIix0b3A6bnVsbCxyaWdodDpcIjIwJVwiLGJvdHRvbTowLHdpZHRoOm51bGwsaGVpZ2h0OjQwLHBhZGRpbmc6NSxjb250cm9sUG9zaXRpb246XCJsZWZ0XCIsYXV0b1BsYXk6ITEscmV3aW5kOiExLGxvb3A6ITAscGxheUludGVydmFsOjJlMyxjdXJyZW50SW5kZXg6MCxpdGVtU3R5bGU6e30sbGFiZWw6e2NvbG9yOlwiIzAwMFwifSxkYXRhOltdfSxlfShOYyksR0U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPVwidGltZWxpbmUuc2xpZGVyXCIsZS5kZWZhdWx0T3B0aW9uPVRoKEZFLmRlZmF1bHRPcHRpb24se2JhY2tncm91bmRDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJDb2xvcjpcIiNjY2NcIixib3JkZXJXaWR0aDowLG9yaWVudDpcImhvcml6b250YWxcIixpbnZlcnNlOiExLHRvb2x0aXA6e3RyaWdnZXI6XCJpdGVtXCJ9LHN5bWJvbDpcImNpcmNsZVwiLHN5bWJvbFNpemU6MTIsbGluZVN0eWxlOntzaG93OiEwLHdpZHRoOjIsY29sb3I6XCIjREFFMUY1XCJ9LGxhYmVsOntwb3NpdGlvbjpcImF1dG9cIixzaG93OiEwLGludGVydmFsOlwiYXV0b1wiLHJvdGF0ZTowLGNvbG9yOlwiI0E0QjFEN1wifSxpdGVtU3R5bGU6e2NvbG9yOlwiI0E0QjFEN1wiLGJvcmRlcldpZHRoOjF9LGNoZWNrcG9pbnRTdHlsZTp7c3ltYm9sOlwiY2lyY2xlXCIsc3ltYm9sU2l6ZToxNSxjb2xvcjpcIiMzMTZiZjNcIixib3JkZXJDb2xvcjpcIiNmZmZcIixib3JkZXJXaWR0aDoyLHNoYWRvd0JsdXI6MixzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHNoYWRvd0NvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjMpXCIsYW5pbWF0aW9uOiEwLGFuaW1hdGlvbkR1cmF0aW9uOjMwMCxhbmltYXRpb25FYXNpbmc6XCJxdWludGljSW5PdXRcIn0sY29udHJvbFN0eWxlOntzaG93OiEwLHNob3dQbGF5QnRuOiEwLHNob3dQcmV2QnRuOiEwLHNob3dOZXh0QnRuOiEwLGl0ZW1TaXplOjI0LGl0ZW1HYXA6MTIscG9zaXRpb246XCJsZWZ0XCIscGxheUljb246XCJwYXRoOi8vTTMxLjYsNTNDMTcuNSw1Myw2LDQxLjUsNiwyNy40UzE3LjUsMS44LDMxLjYsMS44QzQ1LjcsMS44LDU3LjIsMTMuMyw1Ny4yLDI3LjRTNDUuNyw1MywzMS42LDUzeiBNMzEuNiwzLjMgQzE4LjQsMy4zLDcuNSwxNC4xLDcuNSwyNy40YzAsMTMuMywxMC44LDI0LjEsMjQuMSwyNC4xQzQ0LjksNTEuNSw1NS43LDQwLjcsNTUuNywyNy40QzU1LjcsMTQuMSw0NC45LDMuMywzMS42LDMuM3ogTTI0LjksMjEuMyBjMC0yLjIsMS42LTMuMSwzLjUtMmwxMC41LDYuMWMxLjg5OSwxLjEsMS44OTksMi45LDAsNGwtMTAuNSw2LjFjLTEuOSwxLjEtMy41LDAuMi0zLjUtMlYyMS4zelwiLHN0b3BJY29uOlwicGF0aDovL00zMC45LDUzLjJDMTYuOCw1My4yLDUuMyw0MS43LDUuMywyNy42UzE2LjgsMiwzMC45LDJDNDUsMiw1Ni40LDEzLjUsNTYuNCwyNy42UzQ1LDUzLjIsMzAuOSw1My4yeiBNMzAuOSwzLjVDMTcuNiwzLjUsNi44LDE0LjQsNi44LDI3LjZjMCwxMy4zLDEwLjgsMjQuMSwyNC4xMDEsMjQuMUM0NC4yLDUxLjcsNTUsNDAuOSw1NSwyNy42QzU0LjksMTQuNCw0NC4xLDMuNSwzMC45LDMuNXogTTM2LjksMzUuOGMwLDAuNjAxLTAuNCwxLTAuOSwxaC0xLjNjLTAuNSwwLTAuOS0wLjM5OS0wLjktMVYxOS41YzAtMC42LDAuNC0xLDAuOS0xSDM2YzAuNSwwLDAuOSwwLjQsMC45LDFWMzUuOHogTTI3LjgsMzUuOCBjMCwwLjYwMS0wLjQsMS0wLjksMWgtMS4zYy0wLjUsMC0wLjktMC4zOTktMC45LTFWMTkuNWMwLTAuNiwwLjQtMSwwLjktMUgyN2MwLjUsMCwwLjksMC40LDAuOSwxTDI3LjgsMzUuOEwyNy44LDM1Ljh6XCIsbmV4dEljb246XCJNMiwxOC41QTEuNTIsMS41MiwwLDAsMSwuOTIsMThhMS40OSwxLjQ5LDAsMCwxLDAtMi4xMkw3LjgxLDkuMzYsMSwzLjExQTEuNSwxLjUsMCwxLDEsMywuODlsOCw3LjM0YTEuNDgsMS40OCwwLDAsMSwuNDksMS4wOSwxLjUxLDEuNTEsMCwwLDEtLjQ2LDEuMUwzLDE4LjA4QTEuNSwxLjUsMCwwLDEsMiwxOC41WlwiLHByZXZJY29uOlwiTTEwLC41QTEuNTIsMS41MiwwLDAsMSwxMS4wOCwxYTEuNDksMS40OSwwLDAsMSwwLDIuMTJMNC4xOSw5LjY0LDExLDE1Ljg5YTEuNSwxLjUsMCwxLDEtMiwyLjIyTDEsMTAuNzdBMS40OCwxLjQ4LDAsMCwxLC41LDkuNjgsMS41MSwxLjUxLDAsMCwxLDEsOC41OEw5LC45MkExLjUsMS41LDAsMCwxLDEwLC41WlwiLHByZXZCdG5TaXplOjE4LG5leHRCdG5TaXplOjE4LGNvbG9yOlwiI0E0QjFEN1wiLGJvcmRlckNvbG9yOlwiI0E0QjFEN1wiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjpcIiM2Zjc3OGRcIn0saXRlbVN0eWxlOntjb2xvcjpcIiMzMTZCRjNcIn0sY29udHJvbFN0eWxlOntjb2xvcjpcIiMzMTZCRjNcIixib3JkZXJDb2xvcjpcIiMzMTZCRjNcIixib3JkZXJXaWR0aDoyfX0scHJvZ3Jlc3M6e2xpbmVTdHlsZTp7Y29sb3I6XCIjMzE2QkYzXCJ9LGl0ZW1TdHlsZTp7Y29sb3I6XCIjMzE2QkYzXCJ9LGxhYmVsOntjb2xvcjpcIiM2Zjc3OGRcIn19LGRhdGE6W119KSxlfShGRSk7TChHRSx5ZC5wcm90b3R5cGUpO3ZhciBIRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9XCJ0aW1lbGluZVwiLGV9KHBmKSxXRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBvPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gby50eXBlPXJ8fFwidmFsdWVcIixvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0TGFiZWxNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKFwibGFiZWxcIil9LGUucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVyblwiaG9yaXpvbnRhbFwiPT09dGhpcy5tb2RlbC5nZXQoXCJvcmllbnRcIil9LGV9KHZ4KSxZRT1NYXRoLlBJLFhFPUxyKCksVUU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuYXBpPWV9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5tb2RlbD10LHRoaXMuYXBpPW4sdGhpcy5lY01vZGVsPWUsdGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldChcInNob3dcIiwhMCkpe3ZhciBpPXRoaXMuX2xheW91dCh0LG4pLHI9dGhpcy5fY3JlYXRlR3JvdXAoXCJfbWFpbkdyb3VwXCIpLG89dGhpcy5fY3JlYXRlR3JvdXAoXCJfbGFiZWxHcm91cFwiKSxhPXRoaXMuX2F4aXM9dGhpcy5fY3JlYXRlQXhpcyhpLHQpO3QuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0KXtyZXR1cm4gWWQoXCJuYW1lVmFsdWVcIix7bm9OYW1lOiEwLHZhbHVlOmEuc2NhbGUuZ2V0TGFiZWwoe3ZhbHVlOnR9KX0pfSxQKFtcIkF4aXNMaW5lXCIsXCJBeGlzVGlja1wiLFwiQ29udHJvbFwiLFwiQ3VycmVudFBvaW50ZXJcIl0sKGZ1bmN0aW9uKGUpe3RoaXNbXCJfcmVuZGVyXCIrZV0oaSxyLGEsdCl9KSx0aGlzKSx0aGlzLl9yZW5kZXJBeGlzTGFiZWwoaSxvLGEsdCksdGhpcy5fcG9zaXRpb24oaSx0KX10aGlzLl9kb1BsYXlTdG9wKCksdGhpcy5fdXBkYXRlVGlja3NTdGF0dXMoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRpbWVyKCl9LGUucHJvdG90eXBlLl9sYXlvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxhPXQuZ2V0KFtcImxhYmVsXCIsXCJwb3NpdGlvblwiXSkscz10LmdldChcIm9yaWVudFwiKSxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFjKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sdC5nZXQoXCJwYWRkaW5nXCIpKX0odCxlKSx1PXtob3Jpem9udGFsOlwiY2VudGVyXCIsdmVydGljYWw6KG49bnVsbD09YXx8XCJhdXRvXCI9PT1hP1wiaG9yaXpvbnRhbFwiPT09cz9sLnkrbC5oZWlnaHQvMjxlLmdldEhlaWdodCgpLzI/XCItXCI6XCIrXCI6bC54K2wud2lkdGgvMjxlLmdldFdpZHRoKCkvMj9cIitcIjpcIi1cIjpIKGEpP3tob3Jpem9udGFsOnt0b3A6XCItXCIsYm90dG9tOlwiK1wifSx2ZXJ0aWNhbDp7bGVmdDpcIi1cIixyaWdodDpcIitcIn19W3NdW2FdOmEpPj0wfHxcIitcIj09PW4/XCJsZWZ0XCI6XCJyaWdodFwifSxoPXtob3Jpem9udGFsOm4+PTB8fFwiK1wiPT09bj9cInRvcFwiOlwiYm90dG9tXCIsdmVydGljYWw6XCJtaWRkbGVcIn0sYz17aG9yaXpvbnRhbDowLHZlcnRpY2FsOllFLzJ9LHA9XCJ2ZXJ0aWNhbFwiPT09cz9sLmhlaWdodDpsLndpZHRoLGQ9dC5nZXRNb2RlbChcImNvbnRyb2xTdHlsZVwiKSxmPWQuZ2V0KFwic2hvd1wiLCEwKSxnPWY/ZC5nZXQoXCJpdGVtU2l6ZVwiKTowLHk9Zj9kLmdldChcIml0ZW1HYXBcIik6MCx2PWcreSxtPXQuZ2V0KFtcImxhYmVsXCIsXCJyb3RhdGVcIl0pfHwwO209bSpZRS8xODA7dmFyIF89ZC5nZXQoXCJwb3NpdGlvblwiLCEwKSx4PWYmJmQuZ2V0KFwic2hvd1BsYXlCdG5cIiwhMCksYj1mJiZkLmdldChcInNob3dQcmV2QnRuXCIsITApLHc9ZiYmZC5nZXQoXCJzaG93TmV4dEJ0blwiLCEwKSxTPTAsTT1wO1wibGVmdFwiPT09X3x8XCJib3R0b21cIj09PV8/KHgmJihpPVswLDBdLFMrPXYpLGImJihyPVtTLDBdLFMrPXYpLHcmJihvPVtNLWcsMF0sTS09dikpOih4JiYoaT1bTS1nLDBdLE0tPXYpLGImJihyPVswLDBdLFMrPXYpLHcmJihvPVtNLWcsMF0sTS09dikpO3ZhciBJPVtTLE1dO3JldHVybiB0LmdldChcImludmVyc2VcIikmJkkucmV2ZXJzZSgpLHt2aWV3UmVjdDpsLG1haW5MZW5ndGg6cCxvcmllbnQ6cyxyb3RhdGlvbjpjW3NdLGxhYmVsUm90YXRpb246bSxsYWJlbFBvc09wdDpuLGxhYmVsQWxpZ246dC5nZXQoW1wibGFiZWxcIixcImFsaWduXCJdKXx8dVtzXSxsYWJlbEJhc2VsaW5lOnQuZ2V0KFtcImxhYmVsXCIsXCJ2ZXJ0aWNhbEFsaWduXCJdKXx8dC5nZXQoW1wibGFiZWxcIixcImJhc2VsaW5lXCJdKXx8aFtzXSxwbGF5UG9zaXRpb246aSxwcmV2QnRuUG9zaXRpb246cixuZXh0QnRuUG9zaXRpb246byxheGlzRXh0ZW50OkksY29udHJvbFNpemU6Zyxjb250cm9sR2FwOnl9fSxlLnByb3RvdHlwZS5fcG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9tYWluR3JvdXAsaT10aGlzLl9sYWJlbEdyb3VwLHI9dC52aWV3UmVjdDtpZihcInZlcnRpY2FsXCI9PT10Lm9yaWVudCl7dmFyIG89WzEsMCwwLDEsMCwwXSxhPXIueCxzPXIueStyLmhlaWdodDttZShvLG8sWy1hLC1zXSksX2UobyxvLC1ZRS8yKSxtZShvLG8sW2Esc10pLChyPXIuY2xvbmUoKSkuYXBwbHlUcmFuc2Zvcm0obyl9dmFyIGw9eShyKSx1PXkobi5nZXRCb3VuZGluZ1JlY3QoKSksaD15KGkuZ2V0Qm91bmRpbmdSZWN0KCkpLGM9W24ueCxuLnldLHA9W2kueCxpLnldO3BbMF09Y1swXT1sWzBdWzBdO3ZhciBkLGY9dC5sYWJlbFBvc09wdDtudWxsPT1mfHxIKGYpPyh2KGMsdSxsLDEsZD1cIitcIj09PWY/MDoxKSx2KHAsaCxsLDEsMS1kKSk6KHYoYyx1LGwsMSxkPWY+PTA/MDoxKSxwWzFdPWNbMV0rZik7ZnVuY3Rpb24gZyh0KXt0Lm9yaWdpblg9bFswXVswXS10LngsdC5vcmlnaW5ZPWxbMV1bMF0tdC55fWZ1bmN0aW9uIHkodCl7cmV0dXJuW1t0LngsdC54K3Qud2lkdGhdLFt0LnksdC55K3QuaGVpZ2h0XV19ZnVuY3Rpb24gdih0LGUsbixpLHIpe3RbaV0rPW5baV1bcl0tZVtpXVtyXX1uLnNldFBvc2l0aW9uKGMpLGkuc2V0UG9zaXRpb24ocCksbi5yb3RhdGlvbj1pLnJvdGF0aW9uPXQucm90YXRpb24sZyhuKSxnKGkpfSxlLnByb3RvdHlwZS5fY3JlYXRlQXhpcz1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0RGF0YSgpLGk9ZS5nZXQoXCJheGlzVHlwZVwiKSxyPWZ1bmN0aW9uKHQsZSl7aWYoZT1lfHx0LmdldChcInR5cGVcIikpc3dpdGNoKGUpe2Nhc2VcImNhdGVnb3J5XCI6cmV0dXJuIG5ldyBRbSh7b3JkaW5hbE1ldGE6dC5nZXRDYXRlZ29yaWVzKCksZXh0ZW50OlsxLzAsLTEvMF19KTtjYXNlXCJ0aW1lXCI6cmV0dXJuIG5ldyBnXyh7bG9jYWxlOnQuZWNNb2RlbC5nZXRMb2NhbGVNb2RlbCgpLHVzZVVUQzp0LmVjTW9kZWwuZ2V0KFwidXNlVVRDXCIpfSk7ZGVmYXVsdDpyZXR1cm4gbmV3IGVffX0oZSxpKTtyLmdldFRpY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIG4ubWFwQXJyYXkoW1widmFsdWVcIl0sKGZ1bmN0aW9uKHQpe3JldHVybnt2YWx1ZTp0fX0pKX07dmFyIG89bi5nZXREYXRhRXh0ZW50KFwidmFsdWVcIik7ci5zZXRFeHRlbnQob1swXSxvWzFdKSxyLm5pY2VUaWNrcygpO3ZhciBhPW5ldyBXRShcInZhbHVlXCIscix0LmF4aXNFeHRlbnQsaSk7cmV0dXJuIGEubW9kZWw9ZSxhfSxlLnByb3RvdHlwZS5fY3JlYXRlR3JvdXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpc1t0XT1uZXcgemk7cmV0dXJuIHRoaXMuZ3JvdXAuYWRkKGUpLGV9LGUucHJvdG90eXBlLl9yZW5kZXJBeGlzTGluZT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmdldEV4dGVudCgpO2lmKGkuZ2V0KFtcImxpbmVTdHlsZVwiLFwic2hvd1wiXSkpe3ZhciBvPW5ldyB0dSh7c2hhcGU6e3gxOnJbMF0seTE6MCx4MjpyWzFdLHkyOjB9LHN0eWxlOkkoe2xpbmVDYXA6XCJyb3VuZFwifSxpLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITAsejI6MX0pO2UuYWRkKG8pO3ZhciBhPXRoaXMuX3Byb2dyZXNzTGluZT1uZXcgdHUoe3NoYXBlOnt4MTpyWzBdLHgyOnRoaXMuX2N1cnJlbnRQb2ludGVyP3RoaXMuX2N1cnJlbnRQb2ludGVyLng6clswXSx5MTowLHkyOjB9LHN0eWxlOlQoe2xpbmVDYXA6XCJyb3VuZFwiLGxpbmVXaWR0aDpvLnN0eWxlLmxpbmVXaWR0aH0saS5nZXRNb2RlbChbXCJwcm9ncmVzc1wiLFwibGluZVN0eWxlXCJdKS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwLHoyOjF9KTtlLmFkZChhKX19LGUucHJvdG90eXBlLl9yZW5kZXJBeGlzVGljaz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89aS5nZXREYXRhKCksYT1uLnNjYWxlLmdldFRpY2tzKCk7dGhpcy5fdGlja1N5bWJvbHM9W10sUChhLChmdW5jdGlvbih0KXt2YXIgYT1uLmRhdGFUb0Nvb3JkKHQudmFsdWUpLHM9by5nZXRJdGVtTW9kZWwodC52YWx1ZSksbD1zLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLHU9cy5nZXRNb2RlbChbXCJlbXBoYXNpc1wiLFwiaXRlbVN0eWxlXCJdKSxoPXMuZ2V0TW9kZWwoW1wicHJvZ3Jlc3NcIixcIml0ZW1TdHlsZVwiXSksYz17eDphLHk6MCxvbmNsaWNrOkIoci5fY2hhbmdlVGltZWxpbmUscix0LnZhbHVlKX0scD1aRShzLGwsZSxjKTtwLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGU9dS5nZXRJdGVtU3R5bGUoKSxwLmVuc3VyZVN0YXRlKFwicHJvZ3Jlc3NcIikuc3R5bGU9aC5nZXRJdGVtU3R5bGUoKSxKcyhwKTt2YXIgZD15cyhwKTtzLmdldChcInRvb2x0aXBcIik/KGQuZGF0YUluZGV4PXQudmFsdWUsZC5kYXRhTW9kZWw9aSk6ZC5kYXRhSW5kZXg9ZC5kYXRhTW9kZWw9bnVsbCxyLl90aWNrU3ltYm9scy5wdXNoKHApfSkpfSxlLnByb3RvdHlwZS5fcmVuZGVyQXhpc0xhYmVsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXM7aWYobi5nZXRMYWJlbE1vZGVsKCkuZ2V0KFwic2hvd1wiKSl7dmFyIG89aS5nZXREYXRhKCksYT1uLmdldFZpZXdMYWJlbHMoKTt0aGlzLl90aWNrTGFiZWxzPVtdLFAoYSwoZnVuY3Rpb24oaSl7dmFyIGE9aS50aWNrVmFsdWUscz1vLmdldEl0ZW1Nb2RlbChhKSxsPXMuZ2V0TW9kZWwoXCJsYWJlbFwiKSx1PXMuZ2V0TW9kZWwoW1wiZW1waGFzaXNcIixcImxhYmVsXCJdKSxoPXMuZ2V0TW9kZWwoW1wicHJvZ3Jlc3NcIixcImxhYmVsXCJdKSxjPW4uZGF0YVRvQ29vcmQoaS50aWNrVmFsdWUpLHA9bmV3IGxzKHt4OmMseTowLHJvdGF0aW9uOnQubGFiZWxSb3RhdGlvbi10LnJvdGF0aW9uLG9uY2xpY2s6QihyLl9jaGFuZ2VUaW1lbGluZSxyLGEpLHNpbGVudDohMSxzdHlsZTpuaChsLHt0ZXh0OmkuZm9ybWF0dGVkTGFiZWwsYWxpZ246dC5sYWJlbEFsaWduLHZlcnRpY2FsQWxpZ246dC5sYWJlbEJhc2VsaW5lfSl9KTtwLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGU9bmgodSkscC5lbnN1cmVTdGF0ZShcInByb2dyZXNzXCIpLnN0eWxlPW5oKGgpLGUuYWRkKHApLEpzKHApLFhFKHApLmRhdGFJbmRleD1hLHIuX3RpY2tMYWJlbHMucHVzaChwKX0pKX19LGUucHJvdG90eXBlLl9yZW5kZXJDb250cm9sPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuY29udHJvbFNpemUsbz10LnJvdGF0aW9uLGE9aS5nZXRNb2RlbChcImNvbnRyb2xTdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSxzPWkuZ2V0TW9kZWwoW1wiZW1waGFzaXNcIixcImNvbnRyb2xTdHlsZVwiXSkuZ2V0SXRlbVN0eWxlKCksbD1pLmdldFBsYXlTdGF0ZSgpLHU9aS5nZXQoXCJpbnZlcnNlXCIsITApO2Z1bmN0aW9uIGgodCxuLGwsdSl7aWYodCl7dmFyIGg9WW4odHQoaS5nZXQoW1wiY29udHJvbFN0eWxlXCIsbitcIkJ0blNpemVcIl0pLHIpLHIpLGM9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9aS5zdHlsZSxvPVV1KHQuZ2V0KFtcImNvbnRyb2xTdHlsZVwiLGVdKSxpfHx7fSxuZXcgUm4oblswXSxuWzFdLG5bMl0sblszXSkpO3ImJm8uc2V0U3R5bGUocik7cmV0dXJuIG99KGksbitcIkljb25cIixbMCwtaC8yLGgsaF0se3Bvc2l0aW9uOnQsb3JpZ2luOltyLzIsMF0scm90YXRpb246dT8tbzowLHJlY3RIb3ZlcjohMCxzdHlsZTphLG9uY2xpY2s6bH0pO2MuZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKS5zdHlsZT1zLGUuYWRkKGMpLEpzKGMpfX1oKHQubmV4dEJ0blBvc2l0aW9uLFwibmV4dFwiLEIodGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyx1P1wiLVwiOlwiK1wiKSksaCh0LnByZXZCdG5Qb3NpdGlvbixcInByZXZcIixCKHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMsdT9cIitcIjpcIi1cIikpLGgodC5wbGF5UG9zaXRpb24sbD9cInN0b3BcIjpcInBsYXlcIixCKHRoaXMuX2hhbmRsZVBsYXlDbGljayx0aGlzLCFsKSwhMCl9LGUucHJvdG90eXBlLl9yZW5kZXJDdXJyZW50UG9pbnRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLmdldERhdGEoKSxvPWkuZ2V0Q3VycmVudEluZGV4KCksYT1yLmdldEl0ZW1Nb2RlbChvKS5nZXRNb2RlbChcImNoZWNrcG9pbnRTdHlsZVwiKSxzPXRoaXMsbD17b25DcmVhdGU6ZnVuY3Rpb24odCl7dC5kcmFnZ2FibGU9ITAsdC5kcmlmdD1CKHMuX2hhbmRsZVBvaW50ZXJEcmFnLHMpLHQub25kcmFnZW5kPUIocy5faGFuZGxlUG9pbnRlckRyYWdlbmQscyksakUodCxzLl9wcm9ncmVzc0xpbmUsbyxuLGksITApfSxvblVwZGF0ZTpmdW5jdGlvbih0KXtqRSh0LHMuX3Byb2dyZXNzTGluZSxvLG4saSl9fTt0aGlzLl9jdXJyZW50UG9pbnRlcj1aRShhLGEsdGhpcy5fbWFpbkdyb3VwLHt9LHRoaXMuX2N1cnJlbnRQb2ludGVyLGwpfSxlLnByb3RvdHlwZS5faGFuZGxlUGxheUNsaWNrPWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcInRpbWVsaW5lUGxheUNoYW5nZVwiLHBsYXlTdGF0ZTp0LGZyb206dGhpcy51aWR9KX0sZS5wcm90b3R5cGUuX2hhbmRsZVBvaW50ZXJEcmFnPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5fcG9pbnRlckNoYW5nZVRpbWVsaW5lKFtuLm9mZnNldFgsbi5vZmZzZXRZXSl9LGUucHJvdG90eXBlLl9oYW5kbGVQb2ludGVyRHJhZ2VuZD1mdW5jdGlvbih0KXt0aGlzLl9wb2ludGVyQ2hhbmdlVGltZWxpbmUoW3Qub2Zmc2V0WCx0Lm9mZnNldFldLCEwKX0sZS5wcm90b3R5cGUuX3BvaW50ZXJDaGFuZ2VUaW1lbGluZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RvQXhpc0Nvb3JkKHQpWzBdLGk9cWkodGhpcy5fYXhpcy5nZXRFeHRlbnQoKS5zbGljZSgpKTtuPmlbMV0mJihuPWlbMV0pLG48aVswXSYmKG49aVswXSksdGhpcy5fY3VycmVudFBvaW50ZXIueD1uLHRoaXMuX2N1cnJlbnRQb2ludGVyLm1hcmtSZWRyYXcoKSx0aGlzLl9wcm9ncmVzc0xpbmUuc2hhcGUueDI9bix0aGlzLl9wcm9ncmVzc0xpbmUuZGlydHkoKTt2YXIgcj10aGlzLl9maW5kTmVhcmVzdFRpY2sobiksbz10aGlzLm1vZGVsOyhlfHxyIT09by5nZXRDdXJyZW50SW5kZXgoKSYmby5nZXQoXCJyZWFsdGltZVwiKSkmJnRoaXMuX2NoYW5nZVRpbWVsaW5lKHIpfSxlLnByb3RvdHlwZS5fZG9QbGF5U3RvcD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMubW9kZWwuZ2V0UGxheVN0YXRlKCkmJih0aGlzLl90aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciBlPXQubW9kZWw7dC5fY2hhbmdlVGltZWxpbmUoZS5nZXRDdXJyZW50SW5kZXgoKSsoZS5nZXQoXCJyZXdpbmRcIiwhMCk/LTE6MSkpfSksdGhpcy5tb2RlbC5nZXQoXCJwbGF5SW50ZXJ2YWxcIikpKX0sZS5wcm90b3R5cGUuX3RvQXhpc0Nvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBGdSh0LHRoaXMuX21haW5Hcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpLCEwKX0sZS5wcm90b3R5cGUuX2ZpbmROZWFyZXN0VGljaz1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMubW9kZWwuZ2V0RGF0YSgpLGk9MS8wLHI9dGhpcy5fYXhpcztyZXR1cm4gbi5lYWNoKFtcInZhbHVlXCJdLChmdW5jdGlvbihuLG8pe3ZhciBhPXIuZGF0YVRvQ29vcmQobikscz1NYXRoLmFicyhhLXQpO3M8aSYmKGk9cyxlPW8pfSkpLGV9LGUucHJvdG90eXBlLl9jbGVhclRpbWVyPWZ1bmN0aW9uKCl7dGhpcy5fdGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPW51bGwpfSxlLnByb3RvdHlwZS5fY2hhbmdlVGltZWxpbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tb2RlbC5nZXRDdXJyZW50SW5kZXgoKTtcIitcIj09PXQ/dD1lKzE6XCItXCI9PT10JiYodD1lLTEpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwidGltZWxpbmVDaGFuZ2VcIixjdXJyZW50SW5kZXg6dCxmcm9tOnRoaXMudWlkfSl9LGUucHJvdG90eXBlLl91cGRhdGVUaWNrc1N0YXR1cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwuZ2V0Q3VycmVudEluZGV4KCksZT10aGlzLl90aWNrU3ltYm9scyxuPXRoaXMuX3RpY2tMYWJlbHM7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyllJiZlW2ldJiZlW2ldLnRvZ2dsZVN0YXRlKFwicHJvZ3Jlc3NcIixpPHQpO2lmKG4pZm9yKGk9MDtpPG4ubGVuZ3RoO2krKyluJiZuW2ldJiZuW2ldLnRvZ2dsZVN0YXRlKFwicHJvZ3Jlc3NcIixYRShuW2ldKS5kYXRhSW5kZXg8PXQpfSxlLnR5cGU9XCJ0aW1lbGluZS5zbGlkZXJcIixlfShIRSk7ZnVuY3Rpb24gWkUodCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0KFwiY29sb3JcIik7cj8oci5zZXRDb2xvcihhKSxuLmFkZChyKSxvJiZvLm9uVXBkYXRlKHIpKTooKHI9dXkodC5nZXQoXCJzeW1ib2xcIiksLTEsLTEsMiwyLGEpKS5zZXRTdHlsZShcInN0cm9rZU5vU2NhbGVcIiwhMCksbi5hZGQociksbyYmby5vbkNyZWF0ZShyKSk7dmFyIHM9ZS5nZXRJdGVtU3R5bGUoW1wiY29sb3JcIl0pO3Iuc2V0U3R5bGUocyksaT1TKHtyZWN0SG92ZXI6ITAsejI6MTAwfSxpLCEwKTt2YXIgbD10LmdldChcInN5bWJvbFNpemVcIik7bD1sIGluc3RhbmNlb2YgQXJyYXk/bC5zbGljZSgpOlsrbCwrbF0saS5zY2FsZVg9bFswXS8yLGkuc2NhbGVZPWxbMV0vMjt2YXIgdT10LmdldChcInN5bWJvbE9mZnNldFwiKTt1JiYoaS54PWkueHx8MCxpLnk9aS55fHwwLGkueCs9WmkodVswXSxsWzBdKSxpLnkrPVppKHVbMV0sbFsxXSkpO3ZhciBoPXQuZ2V0KFwic3ltYm9sUm90YXRlXCIpO3JldHVybiBpLnJvdGF0aW9uPShofHwwKSpNYXRoLlBJLzE4MHx8MCxyLmF0dHIoaSksci51cGRhdGVUcmFuc2Zvcm0oKSxyfWZ1bmN0aW9uIGpFKHQsZSxuLGkscixvKXtpZighdC5kcmFnZ2luZyl7dmFyIGE9ci5nZXRNb2RlbChcImNoZWNrcG9pbnRTdHlsZVwiKSxzPWkuZGF0YVRvQ29vcmQoci5nZXREYXRhKCkuZ2V0KFwidmFsdWVcIixuKSk7aWYob3x8IWEuZ2V0KFwiYW5pbWF0aW9uXCIsITApKXQuYXR0cih7eDpzLHk6MH0pLGUmJmUuYXR0cih7c2hhcGU6e3gyOnN9fSk7ZWxzZXt2YXIgbD17ZHVyYXRpb246YS5nZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCEwKSxlYXNpbmc6YS5nZXQoXCJhbmltYXRpb25FYXNpbmdcIiwhMCl9O3Quc3RvcEFuaW1hdGlvbihudWxsLCEwKSx0LmFuaW1hdGVUbyh7eDpzLHk6MH0sbCksZSYmZS5hbmltYXRlVG8oe3NoYXBlOnt4MjpzfX0sbCl9fX1mdW5jdGlvbiBxRSh0KXt2YXIgZT10JiZ0LnRpbWVsaW5lO0YoZSl8fChlPWU/W2VdOltdKSxQKGUsKGZ1bmN0aW9uKHQpe3QmJmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPXtudW1iZXI6XCJ2YWx1ZVwiLHRpbWU6XCJ0aW1lXCJ9O25bZV0mJih0LmF4aXNUeXBlPW5bZV0sZGVsZXRlIHQudHlwZSk7aWYoS0UodCksJEUodCxcImNvbnRyb2xQb3NpdGlvblwiKSl7dmFyIGk9dC5jb250cm9sU3R5bGV8fCh0LmNvbnRyb2xTdHlsZT17fSk7JEUoaSxcInBvc2l0aW9uXCIpfHwoaS5wb3NpdGlvbj10LmNvbnRyb2xQb3NpdGlvbiksXCJub25lXCIhPT1pLnBvc2l0aW9ufHwkRShpLFwic2hvd1wiKXx8KGkuc2hvdz0hMSxkZWxldGUgaS5wb3NpdGlvbiksZGVsZXRlIHQuY29udHJvbFBvc2l0aW9ufVAodC5kYXRhfHxbXSwoZnVuY3Rpb24odCl7WCh0KSYmIUYodCkmJighJEUodCxcInZhbHVlXCIpJiYkRSh0LFwibmFtZVwiKSYmKHQudmFsdWU9dC5uYW1lKSxLRSh0KSl9KSl9KHQpfSkpfWZ1bmN0aW9uIEtFKHQpe3ZhciBlPXQuaXRlbVN0eWxlfHwodC5pdGVtU3R5bGU9e30pLG49ZS5lbXBoYXNpc3x8KGUuZW1waGFzaXM9e30pLGk9dC5sYWJlbHx8dC5sYWJlbHx8e30scj1pLm5vcm1hbHx8KGkubm9ybWFsPXt9KSxvPXtub3JtYWw6MSxlbXBoYXNpczoxfTtQKGksKGZ1bmN0aW9uKHQsZSl7b1tlXXx8JEUocixlKXx8KHJbZV09dCl9KSksbi5sYWJlbCYmISRFKGksXCJlbXBoYXNpc1wiKSYmKGkuZW1waGFzaXM9bi5sYWJlbCxkZWxldGUgbi5sYWJlbCl9ZnVuY3Rpb24gJEUodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBKRSh0KXt4cih0LFwibGFiZWxcIixbXCJzaG93XCJdKX12YXIgUUU9THIoKSx0ej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uY3JlYXRlZEJ5U2VsZj0hMSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHRoaXMuX21lcmdlT3B0aW9uKHQsbiwhMSwhMCl9LGUucHJvdG90eXBlLmlzQW5pbWF0aW9uRW5hYmxlZD1mdW5jdGlvbigpe2lmKGEubm9kZSlyZXR1cm4hMTt2YXIgdD10aGlzLl9faG9zdFNlcmllcztyZXR1cm4gdGhpcy5nZXRTaGFsbG93KFwiYW5pbWF0aW9uXCIpJiZ0JiZ0LmlzQW5pbWF0aW9uRW5hYmxlZCgpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMuX21lcmdlT3B0aW9uKHQsZSwhMSwhMSl9LGUucHJvdG90eXBlLl9tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLm1haW5UeXBlO258fGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIG49dC5nZXQodGhpcy5tYWluVHlwZSwhMCksbz1RRSh0KVtyXTtuJiZuLmRhdGE/KG8/by5fbWVyZ2VPcHRpb24obixlLCEwKTooaSYmSkUobiksUChuLmRhdGEsKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBBcnJheT8oSkUodFswXSksSkUodFsxXSkpOkpFKHQpfSkpLEkobz10aGlzLmNyZWF0ZU1hcmtlck1vZGVsRnJvbVNlcmllcyhuLHRoaXMsZSkse21haW5UeXBlOnRoaXMubWFpblR5cGUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxuYW1lOnQubmFtZSxjcmVhdGVkQnlTZWxmOiEwfSksby5fX2hvc3RTZXJpZXM9dCksUUUodClbcl09byk6UUUodClbcl09bnVsbH0pLHRoaXMpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0UmF3VmFsdWUodCksbz1pLmdldE5hbWUodCk7cmV0dXJuIFlkKFwic2VjdGlvblwiLHtoZWFkZXI6dGhpcy5uYW1lLGJsb2NrczpbWWQoXCJuYW1lVmFsdWVcIix7bmFtZTpvLHZhbHVlOnIsbm9OYW1lOiFvLG5vVmFsdWU6bnVsbD09cn0pXX0pfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSxlLmdldE1hcmtlck1vZGVsRnJvbVNlcmllcz1mdW5jdGlvbih0LGUpe3JldHVybiBRRSh0KVtlXX0sZS50eXBlPVwibWFya2VyXCIsZS5kZXBlbmRlbmNpZXM9W1wic2VyaWVzXCIsXCJncmlkXCIsXCJwb2xhclwiLFwiZ2VvXCJdLGV9KE5jKTtMKHR6LHlkLnByb3RvdHlwZSk7dmFyIGV6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZU1hcmtlck1vZGVsRnJvbVNlcmllcz1mdW5jdGlvbih0LG4saSl7cmV0dXJuIG5ldyBlKHQsbixpKX0sZS50eXBlPVwibWFya1BvaW50XCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjUsc3ltYm9sOlwicGluXCIsc3ltYm9sU2l6ZTo1MCx0b29sdGlwOnt0cmlnZ2VyOlwiaXRlbVwifSxsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpcImluc2lkZVwifSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19fSxlfSh0eik7ZnVuY3Rpb24gbnoodCxlLG4saSxyLG8pe3ZhciBhPVtdLHM9Rm0oZSxpKT9lLmdldENhbGN1bGF0aW9uSW5mbyhcInN0YWNrUmVzdWx0RGltZW5zaW9uXCIpOmksbD1seihlLHMsdCksdT1lLmluZGljZXNPZk5lYXJlc3QocyxsKVswXTthW3JdPWUuZ2V0KG4sdSksYVtvXT1lLmdldChzLHUpO3ZhciBoPWUuZ2V0KGksdSksYz1LaShlLmdldChpLHUpKTtyZXR1cm4oYz1NYXRoLm1pbihjLDIwKSk+PTAmJihhW29dPSthW29dLnRvRml4ZWQoYykpLFthLGhdfXZhciBpej17bWluOlYobnosXCJtaW5cIiksbWF4OlYobnosXCJtYXhcIiksYXZlcmFnZTpWKG56LFwiYXZlcmFnZVwiKSxtZWRpYW46VihueixcIm1lZGlhblwiKX07ZnVuY3Rpb24gcnoodCxlKXt2YXIgbj10LmdldERhdGEoKSxpPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihlJiYhZnVuY3Rpb24odCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodC54KSkmJiFpc05hTihwYXJzZUZsb2F0KHQueSkpfShlKSYmIUYoZS5jb29yZCkmJmkpe3ZhciByPWkuZGltZW5zaW9ucyxvPW96KGUsbixpLHQpO2lmKChlPXcoZSkpLnR5cGUmJml6W2UudHlwZV0mJm8uYmFzZUF4aXMmJm8udmFsdWVBeGlzKXt2YXIgYT1BKHIsby5iYXNlQXhpcy5kaW0pLHM9QShyLG8udmFsdWVBeGlzLmRpbSksbD1peltlLnR5cGVdKG4sby5iYXNlRGF0YURpbSxvLnZhbHVlRGF0YURpbSxhLHMpO2UuY29vcmQ9bFswXSxlLnZhbHVlPWxbMV19ZWxzZXtmb3IodmFyIHU9W251bGwhPWUueEF4aXM/ZS54QXhpczplLnJhZGl1c0F4aXMsbnVsbCE9ZS55QXhpcz9lLnlBeGlzOmUuYW5nbGVBeGlzXSxoPTA7aDwyO2grKylpelt1W2hdXSYmKHVbaF09bHoobixuLm1hcERpbWVuc2lvbihyW2hdKSx1W2hdKSk7ZS5jb29yZD11fX1yZXR1cm4gZX1mdW5jdGlvbiBveih0LGUsbixpKXt2YXIgcj17fTtyZXR1cm4gbnVsbCE9dC52YWx1ZUluZGV4fHxudWxsIT10LnZhbHVlRGltPyhyLnZhbHVlRGF0YURpbT1udWxsIT10LnZhbHVlSW5kZXg/ZS5nZXREaW1lbnNpb24odC52YWx1ZUluZGV4KTp0LnZhbHVlRGltLHIudmFsdWVBeGlzPW4uZ2V0QXhpcyhmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9bi5kaW1lbnNpb25zO2U9bi5nZXREaW1lbnNpb24oZSk7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPW4uZ2V0RGltZW5zaW9uSW5mbyhpW3JdKTtpZihvLm5hbWU9PT1lKXJldHVybiBvLmNvb3JkRGltfX0oaSxyLnZhbHVlRGF0YURpbSkpLHIuYmFzZUF4aXM9bi5nZXRPdGhlckF4aXMoci52YWx1ZUF4aXMpLHIuYmFzZURhdGFEaW09ZS5tYXBEaW1lbnNpb24oci5iYXNlQXhpcy5kaW0pKTooci5iYXNlQXhpcz1pLmdldEJhc2VBeGlzKCksci52YWx1ZUF4aXM9bi5nZXRPdGhlckF4aXMoci5iYXNlQXhpcyksci5iYXNlRGF0YURpbT1lLm1hcERpbWVuc2lvbihyLmJhc2VBeGlzLmRpbSksci52YWx1ZURhdGFEaW09ZS5tYXBEaW1lbnNpb24oci52YWx1ZUF4aXMuZGltKSkscn1mdW5jdGlvbiBheih0LGUpe3JldHVybiEodCYmdC5jb250YWluRGF0YSYmZS5jb29yZCYmIWZ1bmN0aW9uKHQpe3JldHVybiEoaXNOYU4ocGFyc2VGbG9hdCh0LngpKSYmaXNOYU4ocGFyc2VGbG9hdCh0LnkpKSl9KGUpKXx8dC5jb250YWluRGF0YShlLmNvb3JkKX1mdW5jdGlvbiBzeih0LGUsbixpKXtyZXR1cm4gaTwyP3QuY29vcmQmJnQuY29vcmRbaV06dC52YWx1ZX1mdW5jdGlvbiBseih0LGUsbil7aWYoXCJhdmVyYWdlXCI9PT1uKXt2YXIgaT0wLHI9MDtyZXR1cm4gdC5lYWNoKGUsKGZ1bmN0aW9uKHQsZSl7aXNOYU4odCl8fChpKz10LHIrKyl9KSksaS9yfXJldHVyblwibWVkaWFuXCI9PT1uP3QuZ2V0TWVkaWFuKGUpOnQuZ2V0RGF0YUV4dGVudChlKVtcIm1heFwiPT09bj8xOjBdfXZhciB1ej1McigpLGh6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLm1hcmtlckdyb3VwTWFwPWh0KCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXRoaXMubWFya2VyR3JvdXBNYXA7ci5lYWNoKChmdW5jdGlvbih0KXt1eih0KS5rZWVwPSExfSkpLGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIHI9dHouZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsaS50eXBlKTtyJiZpLnJlbmRlclNlcmllcyh0LHIsZSxuKX0pKSxyLmVhY2goKGZ1bmN0aW9uKHQpeyF1eih0KS5rZWVwJiZpLmdyb3VwLnJlbW92ZSh0Lmdyb3VwKX0pKX0sZS5wcm90b3R5cGUubWFya0tlZXA9ZnVuY3Rpb24odCl7dXoodCkua2VlcD0hMH0sZS5wcm90b3R5cGUuYmx1clNlcmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO1AodCwoZnVuY3Rpb24odCl7dmFyIG49dHouZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsZS50eXBlKTtuJiZuLmdldERhdGEoKS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCl7dCYmWXModCl9KSl9KSl9LGUudHlwZT1cIm1hcmtlclwiLGV9KHBmKTtmdW5jdGlvbiBjeih0LGUsbil7dmFyIGk9ZS5jb29yZGluYXRlU3lzdGVtO3QuZWFjaCgoZnVuY3Rpb24ocil7dmFyIG8sYT10LmdldEl0ZW1Nb2RlbChyKSxzPVppKGEuZ2V0KFwieFwiKSxuLmdldFdpZHRoKCkpLGw9WmkoYS5nZXQoXCJ5XCIpLG4uZ2V0SGVpZ2h0KCkpO2lmKGlzTmFOKHMpfHxpc05hTihsKSl7aWYoZS5nZXRNYXJrZXJQb3NpdGlvbilvPWUuZ2V0TWFya2VyUG9zaXRpb24odC5nZXRWYWx1ZXModC5kaW1lbnNpb25zLHIpKTtlbHNlIGlmKGkpe3ZhciB1PXQuZ2V0KGkuZGltZW5zaW9uc1swXSxyKSxoPXQuZ2V0KGkuZGltZW5zaW9uc1sxXSxyKTtvPWkuZGF0YVRvUG9pbnQoW3UsaF0pfX1lbHNlIG89W3MsbF07aXNOYU4ocyl8fChvWzBdPXMpLGlzTmFOKGwpfHwob1sxXT1sKSx0LnNldEl0ZW1MYXlvdXQocixvKX0pKX12YXIgcHo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXtlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBlPXR6LmdldE1hcmtlck1vZGVsRnJvbVNlcmllcyh0LFwibWFya1BvaW50XCIpO2UmJihjeihlLmdldERhdGEoKSx0LG4pLHRoaXMubWFya2VyR3JvdXBNYXAuZ2V0KHQuaWQpLnVwZGF0ZUxheW91dCgpKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5yZW5kZXJTZXJpZXM9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtLG89dC5pZCxhPXQuZ2V0RGF0YSgpLHM9dGhpcy5tYXJrZXJHcm91cE1hcCxsPXMuZ2V0KG8pfHxzLnNldChvLG5ldyBUYiksdT1mdW5jdGlvbih0LGUsbil7dmFyIGk7aT10P08odCYmdC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gVCh7bmFtZTp0fSxlLmdldERhdGEoKS5nZXREaW1lbnNpb25JbmZvKGUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbih0KSl8fHt9KX0pKTpbe25hbWU6XCJ2YWx1ZVwiLHR5cGU6XCJmbG9hdFwifV07dmFyIHI9bmV3IFBtKGksbiksbz1PKG4uZ2V0KFwiZGF0YVwiKSxWKHJ6LGUpKTt0JiYobz1OKG8sVihheix0KSkpO3JldHVybiByLmluaXREYXRhKG8sbnVsbCx0P3N6OmZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkscn0ocix0LGUpO2Uuc2V0RGF0YSh1KSxjeihlLmdldERhdGEoKSx0LGkpLHUuZWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dS5nZXRJdGVtTW9kZWwodCksaT1uLmdldFNoYWxsb3coXCJzeW1ib2xcIikscj1uLmdldFNoYWxsb3coXCJzeW1ib2xTaXplXCIpLG89bi5nZXRTaGFsbG93KFwic3ltYm9sUm90YXRlXCIpO2lmKEcoaSl8fEcocil8fEcobykpe3ZhciBzPWUuZ2V0UmF3VmFsdWUodCksbD1lLmdldERhdGFQYXJhbXModCk7RyhpKSYmKGk9aShzLGwpKSxHKHIpJiYocj1yKHMsbCkpLEcobykmJihvPW8ocyxsKSl9dmFyIGg9bi5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSxjPWRnKGEsXCJjb2xvclwiKTtoLmZpbGx8fChoLmZpbGw9YyksdS5zZXRJdGVtVmlzdWFsKHQse3N5bWJvbDppLHN5bWJvbFNpemU6cixzeW1ib2xSb3RhdGU6byxzdHlsZTpofSl9KSksbC51cGRhdGVEYXRhKHUpLHRoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApLHUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQpe3QudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3lzKHQpLmRhdGFNb2RlbD1lfSkpfSkpLHRoaXMubWFya0tlZXAobCksbC5ncm91cC5zaWxlbnQ9ZS5nZXQoXCJzaWxlbnRcIil8fHQuZ2V0KFwic2lsZW50XCIpfSxlLnR5cGU9XCJtYXJrUG9pbnRcIixlfShoeik7dmFyIGR6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZU1hcmtlck1vZGVsRnJvbVNlcmllcz1mdW5jdGlvbih0LG4saSl7cmV0dXJuIG5ldyBlKHQsbixpKX0sZS50eXBlPVwibWFya0xpbmVcIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NSxzeW1ib2w6W1wiY2lyY2xlXCIsXCJhcnJvd1wiXSxzeW1ib2xTaXplOls4LDE2XSxwcmVjaXNpb246Mix0b29sdGlwOnt0cmlnZ2VyOlwiaXRlbVwifSxsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpcImVuZFwiLGRpc3RhbmNlOjV9LGxpbmVTdHlsZTp7dHlwZTpcImRhc2hlZFwifSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9LGxpbmVTdHlsZTp7d2lkdGg6M319LGFuaW1hdGlvbkVhc2luZzpcImxpbmVhclwifSxlfSh0eiksZno9THIoKSxnej1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPXQuZ2V0RGF0YSgpO2lmKEYoaSkpcj1pO2Vsc2V7dmFyIGE9aS50eXBlO2lmKFwibWluXCI9PT1hfHxcIm1heFwiPT09YXx8XCJhdmVyYWdlXCI9PT1hfHxcIm1lZGlhblwiPT09YXx8bnVsbCE9aS54QXhpc3x8bnVsbCE9aS55QXhpcyl7dmFyIHM9dm9pZCAwLGw9dm9pZCAwO2lmKG51bGwhPWkueUF4aXN8fG51bGwhPWkueEF4aXMpcz1lLmdldEF4aXMobnVsbCE9aS55QXhpcz9cInlcIjpcInhcIiksbD1RKGkueUF4aXMsaS54QXhpcyk7ZWxzZXt2YXIgdT1veihpLG8sZSx0KTtzPXUudmFsdWVBeGlzLGw9bHoobyxHbShvLHUudmFsdWVEYXRhRGltKSxhKX12YXIgaD1cInhcIj09PXMuZGltPzA6MSxjPTEtaCxwPXcoaSksZD17Y29vcmQ6W119O3AudHlwZT1udWxsLHAuY29vcmQ9W10scC5jb29yZFtjXT0tMS8wLGQuY29vcmRbY109MS8wO3ZhciBmPW4uZ2V0KFwicHJlY2lzaW9uXCIpO2Y+PTAmJlwibnVtYmVyXCI9PXR5cGVvZiBsJiYobD0rbC50b0ZpeGVkKE1hdGgubWluKGYsMjApKSkscC5jb29yZFtoXT1kLmNvb3JkW2hdPWwscj1bcCxkLHt0eXBlOmEsdmFsdWVJbmRleDppLnZhbHVlSW5kZXgsdmFsdWU6bH1dfWVsc2Ugcj1bXX12YXIgZz1bcnoodCxyWzBdKSxyeih0LHJbMV0pLEkoe30sclsyXSldO3JldHVybiBnWzJdLnR5cGU9Z1syXS50eXBlfHxudWxsLFMoZ1syXSxnWzBdKSxTKGdbMl0sZ1sxXSksZ307ZnVuY3Rpb24geXoodCl7cmV0dXJuIWlzTmFOKHQpJiYhaXNGaW5pdGUodCl9ZnVuY3Rpb24gdnoodCxlLG4saSl7dmFyIHI9MS10LG89aS5kaW1lbnNpb25zW3RdO3JldHVybiB5eihlW3JdKSYmeXoobltyXSkmJmVbdF09PT1uW3RdJiZpLmdldEF4aXMobykuY29udGFpbkRhdGEoZVt0XSl9ZnVuY3Rpb24gbXoodCxlKXtpZihcImNhcnRlc2lhbjJkXCI9PT10LnR5cGUpe3ZhciBuPWVbMF0uY29vcmQsaT1lWzFdLmNvb3JkO2lmKG4mJmkmJih2eigxLG4saSx0KXx8dnooMCxuLGksdCkpKXJldHVybiEwfXJldHVybiBheih0LGVbMF0pJiZheih0LGVbMV0pfWZ1bmN0aW9uIF96KHQsZSxuLGkscil7dmFyIG8sYT1pLmNvb3JkaW5hdGVTeXN0ZW0scz10LmdldEl0ZW1Nb2RlbChlKSxsPVppKHMuZ2V0KFwieFwiKSxyLmdldFdpZHRoKCkpLHU9Wmkocy5nZXQoXCJ5XCIpLHIuZ2V0SGVpZ2h0KCkpO2lmKGlzTmFOKGwpfHxpc05hTih1KSl7aWYoaS5nZXRNYXJrZXJQb3NpdGlvbilvPWkuZ2V0TWFya2VyUG9zaXRpb24odC5nZXRWYWx1ZXModC5kaW1lbnNpb25zLGUpKTtlbHNle3ZhciBoPWEuZGltZW5zaW9ucyxjPXQuZ2V0KGhbMF0sZSkscD10LmdldChoWzFdLGUpO289YS5kYXRhVG9Qb2ludChbYyxwXSl9aWYoV2IoYSxcImNhcnRlc2lhbjJkXCIpKXt2YXIgZD1hLmdldEF4aXMoXCJ4XCIpLGY9YS5nZXRBeGlzKFwieVwiKTtoPWEuZGltZW5zaW9uczt5eih0LmdldChoWzBdLGUpKT9vWzBdPWQudG9HbG9iYWxDb29yZChkLmdldEV4dGVudCgpW24/MDoxXSk6eXoodC5nZXQoaFsxXSxlKSkmJihvWzFdPWYudG9HbG9iYWxDb29yZChmLmdldEV4dGVudCgpW24/MDoxXSkpfWlzTmFOKGwpfHwob1swXT1sKSxpc05hTih1KXx8KG9bMV09dSl9ZWxzZSBvPVtsLHVdO3Quc2V0SXRlbUxheW91dChlLG8pfXZhciB4ej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe2UuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIGU9dHouZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsXCJtYXJrTGluZVwiKTtpZihlKXt2YXIgaT1lLmdldERhdGEoKSxyPWZ6KGUpLmZyb20sbz1meihlKS50bztyLmVhY2goKGZ1bmN0aW9uKGUpe196KHIsZSwhMCx0LG4pLF96KG8sZSwhMSx0LG4pfSkpLGkuZWFjaCgoZnVuY3Rpb24odCl7aS5zZXRJdGVtTGF5b3V0KHQsW3IuZ2V0SXRlbUxheW91dCh0KSxvLmdldEl0ZW1MYXlvdXQodCldKX0pKSx0aGlzLm1hcmtlckdyb3VwTWFwLmdldCh0LmlkKS51cGRhdGVMYXlvdXQoKX19KSx0aGlzKX0sZS5wcm90b3R5cGUucmVuZGVyU2VyaWVzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXQuaWQsYT10LmdldERhdGEoKSxzPXRoaXMubWFya2VyR3JvdXBNYXAsbD1zLmdldChvKXx8cy5zZXQobyxuZXcgYUMpO3RoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApO3ZhciB1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtpPXQ/Tyh0JiZ0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3JldHVybiBUKHtuYW1lOnR9LGUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKHQpKXx8e30pfSkpOlt7bmFtZTpcInZhbHVlXCIsdHlwZTpcImZsb2F0XCJ9XTt2YXIgcj1uZXcgUG0oaSxuKSxvPW5ldyBQbShpLG4pLGE9bmV3IFBtKFtdLG4pLHM9TyhuLmdldChcImRhdGFcIiksVihneixlLHQsbikpO3QmJihzPU4ocyxWKG16LHQpKSk7dmFyIGw9dD9zejpmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX07cmV0dXJuIHIuaW5pdERhdGEoTyhzLChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxudWxsLGwpLG8uaW5pdERhdGEoTyhzLChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxudWxsLGwpLGEuaW5pdERhdGEoTyhzLChmdW5jdGlvbih0KXtyZXR1cm4gdFsyXX0pKSksYS5oYXNJdGVtT3B0aW9uPSEwLHtmcm9tOnIsdG86byxsaW5lOmF9fShyLHQsZSksaD11LmZyb20sYz11LnRvLHA9dS5saW5lO2Z6KGUpLmZyb209aCxmeihlKS50bz1jLGUuc2V0RGF0YShwKTt2YXIgZD1lLmdldChcInN5bWJvbFwiKSxmPWUuZ2V0KFwic3ltYm9sU2l6ZVwiKTtmdW5jdGlvbiBnKGUsbixyKXt2YXIgbz1lLmdldEl0ZW1Nb2RlbChuKTtfeihlLG4scix0LGkpO3ZhciBzPW8uZ2V0TW9kZWwoXCJpdGVtU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCk7bnVsbD09cy5maWxsJiYocy5maWxsPWRnKGEsXCJjb2xvclwiKSksZS5zZXRJdGVtVmlzdWFsKG4se3N5bWJvbFJvdGF0ZTpvLmdldChcInN5bWJvbFJvdGF0ZVwiKSxzeW1ib2xTaXplOm8uZ2V0KFwic3ltYm9sU2l6ZVwiKXx8ZltyPzA6MV0sc3ltYm9sOm8uZ2V0KFwic3ltYm9sXCIsITApfHxkW3I/MDoxXSxzdHlsZTpzfSl9RihkKXx8KGQ9W2QsZF0pLEYoZil8fChmPVtmLGZdKSx1LmZyb20uZWFjaCgoZnVuY3Rpb24odCl7ZyhoLHQsITApLGcoYyx0LCExKX0pKSxwLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXAuZ2V0SXRlbU1vZGVsKHQpLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpO3Auc2V0SXRlbUxheW91dCh0LFtoLmdldEl0ZW1MYXlvdXQodCksYy5nZXRJdGVtTGF5b3V0KHQpXSksbnVsbD09ZS5zdHJva2UmJihlLnN0cm9rZT1oLmdldEl0ZW1WaXN1YWwodCxcInN0eWxlXCIpLmZpbGwpLHAuc2V0SXRlbVZpc3VhbCh0LHtmcm9tU3ltYm9sUm90YXRlOmguZ2V0SXRlbVZpc3VhbCh0LFwic3ltYm9sUm90YXRlXCIpLGZyb21TeW1ib2xTaXplOmguZ2V0SXRlbVZpc3VhbCh0LFwic3ltYm9sU2l6ZVwiKSxmcm9tU3ltYm9sOmguZ2V0SXRlbVZpc3VhbCh0LFwic3ltYm9sXCIpLHRvU3ltYm9sUm90YXRlOmMuZ2V0SXRlbVZpc3VhbCh0LFwic3ltYm9sUm90YXRlXCIpLHRvU3ltYm9sU2l6ZTpjLmdldEl0ZW1WaXN1YWwodCxcInN5bWJvbFNpemVcIiksdG9TeW1ib2w6Yy5nZXRJdGVtVmlzdWFsKHQsXCJzeW1ib2xcIiksc3R5bGU6ZX0pfSkpLGwudXBkYXRlRGF0YShwKSx1LmxpbmUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsbil7dC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7eXModCkuZGF0YU1vZGVsPWV9KSl9KSksdGhpcy5tYXJrS2VlcChsKSxsLmdyb3VwLnNpbGVudD1lLmdldChcInNpbGVudFwiKXx8dC5nZXQoXCJzaWxlbnRcIil9LGUudHlwZT1cIm1hcmtMaW5lXCIsZX0oaHopO3ZhciBiej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVNYXJrZXJNb2RlbEZyb21TZXJpZXM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBuZXcgZSh0LG4saSl9LGUudHlwZT1cIm1hcmtBcmVhXCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjEsdG9vbHRpcDp7dHJpZ2dlcjpcIml0ZW1cIn0sYW5pbWF0aW9uOiExLGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOlwidG9wXCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MH0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwLHBvc2l0aW9uOlwidG9wXCJ9fX0sZX0odHopLHd6PUxyKCksU3o9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9cnoodCxpWzBdKSxvPXJ6KHQsaVsxXSksYT1yLmNvb3JkLHM9by5jb29yZDthWzBdPVEoYVswXSwtMS8wKSxhWzFdPVEoYVsxXSwtMS8wKSxzWzBdPVEoc1swXSwxLzApLHNbMV09UShzWzFdLDEvMCk7dmFyIGw9TShbe30scixvXSk7cmV0dXJuIGwuY29vcmQ9W3IuY29vcmQsby5jb29yZF0sbC54MD1yLngsbC55MD1yLnksbC54MT1vLngsbC55MT1vLnksbH07ZnVuY3Rpb24gTXoodCl7cmV0dXJuIWlzTmFOKHQpJiYhaXNGaW5pdGUodCl9ZnVuY3Rpb24gSXoodCxlLG4saSl7dmFyIHI9MS10O3JldHVybiBNeihlW3JdKSYmTXoobltyXSl9ZnVuY3Rpb24gVHoodCxlKXt2YXIgbj1lLmNvb3JkWzBdLGk9ZS5jb29yZFsxXTtyZXR1cm4hIShXYih0LFwiY2FydGVzaWFuMmRcIikmJm4mJmkmJihJeigxLG4saSl8fEl6KDAsbixpKSkpfHwoYXoodCx7Y29vcmQ6bix4OmUueDAseTplLnkwfSl8fGF6KHQse2Nvb3JkOmkseDplLngxLHk6ZS55MX0pKX1mdW5jdGlvbiBDeih0LGUsbixpLHIpe3ZhciBvLGE9aS5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRJdGVtTW9kZWwoZSksbD1aaShzLmdldChuWzBdKSxyLmdldFdpZHRoKCkpLHU9Wmkocy5nZXQoblsxXSksci5nZXRIZWlnaHQoKSk7aWYoaXNOYU4obCl8fGlzTmFOKHUpKXtpZihpLmdldE1hcmtlclBvc2l0aW9uKW89aS5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyhuLGUpKTtlbHNle3ZhciBoPVtkPXQuZ2V0KG5bMF0sZSksZj10LmdldChuWzFdLGUpXTthLmNsYW1wRGF0YSYmYS5jbGFtcERhdGEoaCxoKSxvPWEuZGF0YVRvUG9pbnQoaCwhMCl9aWYoV2IoYSxcImNhcnRlc2lhbjJkXCIpKXt2YXIgYz1hLmdldEF4aXMoXCJ4XCIpLHA9YS5nZXRBeGlzKFwieVwiKSxkPXQuZ2V0KG5bMF0sZSksZj10LmdldChuWzFdLGUpO016KGQpP29bMF09Yy50b0dsb2JhbENvb3JkKGMuZ2V0RXh0ZW50KClbXCJ4MFwiPT09blswXT8wOjFdKTpNeihmKSYmKG9bMV09cC50b0dsb2JhbENvb3JkKHAuZ2V0RXh0ZW50KClbXCJ5MFwiPT09blsxXT8wOjFdKSl9aXNOYU4obCl8fChvWzBdPWwpLGlzTmFOKHUpfHwob1sxXT11KX1lbHNlIG89W2wsdV07cmV0dXJuIG99dmFyIEF6PVtbXCJ4MFwiLFwieTBcIl0sW1wieDFcIixcInkwXCJdLFtcIngxXCIsXCJ5MVwiXSxbXCJ4MFwiLFwieTFcIl1dLER6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt2YXIgZT10ei5nZXRNYXJrZXJNb2RlbEZyb21TZXJpZXModCxcIm1hcmtBcmVhXCIpO2lmKGUpe3ZhciBpPWUuZ2V0RGF0YSgpO2kuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9TyhBeiwoZnVuY3Rpb24ocil7cmV0dXJuIEN6KGksZSxyLHQsbil9KSk7aS5zZXRJdGVtTGF5b3V0KGUsciksaS5nZXRJdGVtR3JhcGhpY0VsKGUpLnNldFNoYXBlKFwicG9pbnRzXCIscil9KSl9fSksdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlclNlcmllcz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmlkLGE9dC5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQobyl8fHMuc2V0KG8se2dyb3VwOm5ldyB6aX0pO3RoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApLHRoaXMubWFya0tlZXAobCk7dmFyIHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1bXCJ4MFwiLFwieTBcIixcIngxXCIsXCJ5MVwiXTt0PyhpPU8odCYmdC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXt2YXIgbj1lLmdldERhdGEoKTtyZXR1cm4gVCh7bmFtZTp0fSxuLmdldERpbWVuc2lvbkluZm8obi5tYXBEaW1lbnNpb24odCkpfHx7fSl9KSkscj1uZXcgUG0oTyhvLChmdW5jdGlvbih0LGUpe3JldHVybntuYW1lOnQsdHlwZTppW2UlMl0udHlwZX19KSksbikpOnI9bmV3IFBtKGk9W3tuYW1lOlwidmFsdWVcIix0eXBlOlwiZmxvYXRcIn1dLG4pO3ZhciBhPU8obi5nZXQoXCJkYXRhXCIpLFYoU3osZSx0LG4pKTt0JiYoYT1OKGEsVihUeix0KSkpO3ZhciBzPXQ/ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHQuY29vcmRbTWF0aC5mbG9vcihpLzIpXVtpJTJdfTpmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX07cmV0dXJuIHIuaW5pdERhdGEoYSxudWxsLHMpLHIuaGFzSXRlbU9wdGlvbj0hMCxyfShyLHQsZSk7ZS5zZXREYXRhKHUpLHUuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49TyhBeiwoZnVuY3Rpb24obil7cmV0dXJuIEN6KHUsZSxuLHQsaSl9KSksbz0hMDtQKEF6LChmdW5jdGlvbih0KXtpZihvKXt2YXIgbj11LmdldCh0WzBdLGUpLGk9dS5nZXQodFsxXSxlKTsoTXoobil8fHIuZ2V0QXhpcyhcInhcIikuY29udGFpbkRhdGEobikpJiYoTXooaSl8fHIuZ2V0QXhpcyhcInlcIikuY29udGFpbkRhdGEoaSkpJiYobz0hMSl9fSkpLHUuc2V0SXRlbUxheW91dChlLHtwb2ludHM6bixhbGxDbGlwcGVkOm99KTt2YXIgcz11LmdldEl0ZW1Nb2RlbChlKS5nZXRNb2RlbChcIml0ZW1TdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSxsPWRnKGEsXCJjb2xvclwiKTtzLmZpbGx8fChzLmZpbGw9bCxcInN0cmluZ1wiPT10eXBlb2Ygcy5maWxsJiYocy5maWxsPW9uKHMuZmlsbCwuNCkpKSxzLnN0cm9rZXx8KHMuc3Ryb2tlPWwpLHUuc2V0SXRlbVZpc3VhbChlLFwic3R5bGVcIixzKX0pKSx1LmRpZmYod3oobCkuZGF0YSkuYWRkKChmdW5jdGlvbih0KXt2YXIgZT11LmdldEl0ZW1MYXlvdXQodCk7aWYoIWUuYWxsQ2xpcHBlZCl7dmFyIG49bmV3IHFsKHtzaGFwZTp7cG9pbnRzOmUucG9pbnRzfX0pO3Uuc2V0SXRlbUdyYXBoaWNFbCh0LG4pLGwuZ3JvdXAuYWRkKG4pfX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsbil7dmFyIGk9d3oobCkuZGF0YS5nZXRJdGVtR3JhcGhpY0VsKG4pLHI9dS5nZXRJdGVtTGF5b3V0KHQpO3IuYWxsQ2xpcHBlZD9pJiZsLmdyb3VwLnJlbW92ZShpKTooaT9PdShpLHtzaGFwZTp7cG9pbnRzOnIucG9pbnRzfX0sZSx0KTppPW5ldyBxbCh7c2hhcGU6e3BvaW50czpyLnBvaW50c319KSx1LnNldEl0ZW1HcmFwaGljRWwodCxpKSxsLmdyb3VwLmFkZChpKSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT13eihsKS5kYXRhLmdldEl0ZW1HcmFwaGljRWwodCk7bC5ncm91cC5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLHUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsbil7dmFyIGk9dS5nZXRJdGVtTW9kZWwobikscj11LmdldEl0ZW1WaXN1YWwobixcInN0eWxlXCIpO3QudXNlU3R5bGUodS5nZXRJdGVtVmlzdWFsKG4sXCJzdHlsZVwiKSksdGgodCxlaChpKSx7bGFiZWxGZXRjaGVyOmUsbGFiZWxEYXRhSW5kZXg6bixkZWZhdWx0VGV4dDp1LmdldE5hbWUobil8fFwiXCIsaW5oZXJpdENvbG9yOlwic3RyaW5nXCI9PXR5cGVvZiByLmZpbGw/b24oci5maWxsLDEpOlwiIzAwMFwifSksbmwodCxpKSxKcyh0KSx5cyh0KS5kYXRhTW9kZWw9ZX0pKSx3eihsKS5kYXRhPXUsbC5ncm91cC5zaWxlbnQ9ZS5nZXQoXCJzaWxlbnRcIil8fHQuZ2V0KFwic2lsZW50XCIpfSxlLnR5cGU9XCJtYXJrQXJlYVwiLGV9KGh6KTt2YXIgTHo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmxheW91dE1vZGU9e3R5cGU6XCJib3hcIixpZ25vcmVTaXplOiEwfSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHQuc2VsZWN0ZWQ9dC5zZWxlY3RlZHx8e30sdGhpcy5fdXBkYXRlU2VsZWN0b3IodCl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uY2FsbCh0aGlzLGUsbiksdGhpcy5fdXBkYXRlU2VsZWN0b3IoZSl9LGUucHJvdG90eXBlLl91cGRhdGVTZWxlY3Rvcj1mdW5jdGlvbih0KXt2YXIgZT10LnNlbGVjdG9yLG49dGhpcy5lY01vZGVsOyEwPT09ZSYmKGU9dC5zZWxlY3Rvcj1bXCJhbGxcIixcImludmVyc2VcIl0pLEYoZSkmJlAoZSwoZnVuY3Rpb24odCxpKXtIKHQpJiYodD17dHlwZTp0fSksZVtpXT1TKHQsZnVuY3Rpb24odCxlKXtyZXR1cm5cImFsbFwiPT09ZT97dHlwZTpcImFsbFwiLHRpdGxlOnQuZ2V0TG9jYWxlKFtcImxlZ2VuZFwiLFwic2VsZWN0b3JcIixcImFsbFwiXSl9OlwiaW52ZXJzZVwiPT09ZT97dHlwZTpcImludmVyc2VcIix0aXRsZTp0LmdldExvY2FsZShbXCJsZWdlbmRcIixcInNlbGVjdG9yXCIsXCJpbnZlcnNlXCJdKX06dm9pZCAwfShuLHQudHlwZSkpfSkpfSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlRGF0YSh0aGlzLmVjTW9kZWwpO3ZhciB0PXRoaXMuX2RhdGE7aWYodFswXSYmXCJzaW5nbGVcIj09PXRoaXMuZ2V0KFwic2VsZWN0ZWRNb2RlXCIpKXtmb3IodmFyIGU9ITEsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLmdldChcIm5hbWVcIik7aWYodGhpcy5pc1NlbGVjdGVkKGkpKXt0aGlzLnNlbGVjdChpKSxlPSEwO2JyZWFrfX0hZSYmdGhpcy5zZWxlY3QodFswXS5nZXQoXCJuYW1lXCIpKX19LGUucHJvdG90eXBlLl91cGRhdGVEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W107dC5lYWNoUmF3U2VyaWVzKChmdW5jdGlvbihpKXt2YXIgcixvPWkubmFtZTtpZihuLnB1c2gobyksaS5sZWdlbmRWaXN1YWxQcm92aWRlcil7dmFyIGE9aS5sZWdlbmRWaXN1YWxQcm92aWRlci5nZXRBbGxOYW1lcygpO3QuaXNTZXJpZXNGaWx0ZXJlZChpKXx8KG49bi5jb25jYXQoYSkpLGEubGVuZ3RoP2U9ZS5jb25jYXQoYSk6cj0hMH1lbHNlIHI9ITA7ciYmQ3IoaSkmJmUucHVzaChpLm5hbWUpfSkpLHRoaXMuX2F2YWlsYWJsZU5hbWVzPW47dmFyIGk9Tyh0aGlzLmdldChcImRhdGFcIil8fGUsKGZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiB0JiZcIm51bWJlclwiIT10eXBlb2YgdHx8KHQ9e25hbWU6dH0pLG5ldyBTaCh0LHRoaXMsdGhpcy5lY01vZGVsKX0pLHRoaXMpO3RoaXMuX2RhdGE9aX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7XCJzaW5nbGVcIj09PXRoaXMuZ2V0KFwic2VsZWN0ZWRNb2RlXCIpJiZQKHRoaXMuX2RhdGEsKGZ1bmN0aW9uKHQpe2VbdC5nZXQoXCJuYW1lXCIpXT0hMX0pKTtlW3RdPSEwfSxlLnByb3RvdHlwZS51blNlbGVjdD1mdW5jdGlvbih0KXtcInNpbmdsZVwiIT09dGhpcy5nZXQoXCJzZWxlY3RlZE1vZGVcIikmJih0aGlzLm9wdGlvbi5zZWxlY3RlZFt0XT0hMSl9LGUucHJvdG90eXBlLnRvZ2dsZVNlbGVjdGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkO2UuaGFzT3duUHJvcGVydHkodCl8fChlW3RdPSEwKSx0aGlzW2VbdF0/XCJ1blNlbGVjdFwiOlwic2VsZWN0XCJdKHQpfSxlLnByb3RvdHlwZS5hbGxTZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7UCh0LChmdW5jdGlvbih0KXtlW3QuZ2V0KFwibmFtZVwiLCEwKV09ITB9KSl9LGUucHJvdG90eXBlLmludmVyc2VTZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7UCh0LChmdW5jdGlvbih0KXt2YXIgbj10LmdldChcIm5hbWVcIiwhMCk7ZS5oYXNPd25Qcm9wZXJ0eShuKXx8KGVbbl09ITApLGVbbl09IWVbbl19KSl9LGUucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7cmV0dXJuIShlLmhhc093blByb3BlcnR5KHQpJiYhZVt0XSkmJkEodGhpcy5fYXZhaWxhYmxlTmFtZXMsdCk+PTB9LGUucHJvdG90eXBlLmdldE9yaWVudD1mdW5jdGlvbigpe3JldHVyblwidmVydGljYWxcIj09PXRoaXMuZ2V0KFwib3JpZW50XCIpP3tpbmRleDoxLG5hbWU6XCJ2ZXJ0aWNhbFwifTp7aW5kZXg6MCxuYW1lOlwiaG9yaXpvbnRhbFwifX0sZS50eXBlPVwibGVnZW5kLnBsYWluXCIsZS5kZXBlbmRlbmNpZXM9W1wic2VyaWVzXCJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo0LHNob3c6ITAsb3JpZW50OlwiaG9yaXpvbnRhbFwiLGxlZnQ6XCJjZW50ZXJcIix0b3A6MCxhbGlnbjpcImF1dG9cIixiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLDApXCIsYm9yZGVyQ29sb3I6XCIjY2NjXCIsYm9yZGVyUmFkaXVzOjAsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbUdhcDoxMCxpdGVtV2lkdGg6MjUsaXRlbUhlaWdodDoxNCxpbmFjdGl2ZUNvbG9yOlwiI2NjY1wiLGluYWN0aXZlQm9yZGVyQ29sb3I6XCIjY2NjXCIsaXRlbVN0eWxlOntib3JkZXJXaWR0aDowfSx0ZXh0U3R5bGU6e2NvbG9yOlwiIzMzM1wifSxzZWxlY3RlZE1vZGU6ITAsc2VsZWN0b3I6ITEsc2VsZWN0b3JMYWJlbDp7c2hvdzohMCxib3JkZXJSYWRpdXM6MTAscGFkZGluZzpbMyw1LDMsNV0sZm9udFNpemU6MTIsZm9udEZhbWlseTpcIiBzYW5zLXNlcmlmXCIsY29sb3I6XCIjNjY2XCIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjpcIiM2NjZcIn0sZW1waGFzaXM6e3NlbGVjdG9yTGFiZWw6e3Nob3c6ITAsY29sb3I6XCIjZWVlXCIsYmFja2dyb3VuZENvbG9yOlwiIzY2NlwifX0sc2VsZWN0b3JQb3NpdGlvbjpcImF1dG9cIixzZWxlY3Rvckl0ZW1HYXA6NyxzZWxlY3RvckJ1dHRvbkdhcDoxMCx0b29sdGlwOntzaG93OiExfX0sZX0oTmMpLGt6PVYsUHo9UCxPej16aSxSej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubmV3bGluZURpc2FibGVkPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5hZGQodGhpcy5fY29udGVudEdyb3VwPW5ldyBPeiksdGhpcy5ncm91cC5hZGQodGhpcy5fc2VsZWN0b3JHcm91cD1uZXcgT3opLHRoaXMuX2lzRmlyc3RSZW5kZXI9ITB9LGUucHJvdG90eXBlLmdldENvbnRlbnRHcm91cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZW50R3JvdXB9LGUucHJvdG90eXBlLmdldFNlbGVjdG9yR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0b3JHcm91cH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9pc0ZpcnN0UmVuZGVyO2lmKHRoaXMuX2lzRmlyc3RSZW5kZXI9ITEsdGhpcy5yZXNldElubmVyKCksdC5nZXQoXCJzaG93XCIsITApKXt2YXIgcj10LmdldChcImFsaWduXCIpLG89dC5nZXQoXCJvcmllbnRcIik7ciYmXCJhdXRvXCIhPT1yfHwocj1cInJpZ2h0XCI9PT10LmdldChcImxlZnRcIikmJlwidmVydGljYWxcIj09PW8/XCJyaWdodFwiOlwibGVmdFwiKTt2YXIgYT10LmdldChcInNlbGVjdG9yXCIsITApLHM9dC5nZXQoXCJzZWxlY3RvclBvc2l0aW9uXCIsITApOyFhfHxzJiZcImF1dG9cIiE9PXN8fChzPVwiaG9yaXpvbnRhbFwiPT09bz9cImVuZFwiOlwic3RhcnRcIiksdGhpcy5yZW5kZXJJbm5lcihyLHQsZSxuLGEsbyxzKTt2YXIgbD10LmdldEJveExheW91dFBhcmFtcygpLHU9e3dpZHRoOm4uZ2V0V2lkdGgoKSxoZWlnaHQ6bi5nZXRIZWlnaHQoKX0saD10LmdldChcInBhZGRpbmdcIiksYz1BYyhsLHUsaCkscD10aGlzLmxheW91dElubmVyKHQscixjLGksYSxzKSxkPUFjKFQoe3dpZHRoOnAud2lkdGgsaGVpZ2h0OnAuaGVpZ2h0fSxsKSx1LGgpO3RoaXMuZ3JvdXAueD1kLngtcC54LHRoaXMuZ3JvdXAueT1kLnktcC55LHRoaXMuZ3JvdXAubWFya1JlZHJhdygpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2JhY2tncm91bmRFbD1kTihwLHQpKX19LGUucHJvdG90eXBlLnJlc2V0SW5uZXI9ZnVuY3Rpb24oKXt0aGlzLmdldENvbnRlbnRHcm91cCgpLnJlbW92ZUFsbCgpLHRoaXMuX2JhY2tncm91bmRFbCYmdGhpcy5ncm91cC5yZW1vdmUodGhpcy5fYmFja2dyb3VuZEVsKSx0aGlzLmdldFNlbGVjdG9yR3JvdXAoKS5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUucmVuZGVySW5uZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9dGhpcy5nZXRDb250ZW50R3JvdXAoKSxsPWh0KCksdT1lLmdldChcInNlbGVjdGVkTW9kZVwiKSxoPVtdO24uZWFjaFJhd1NlcmllcygoZnVuY3Rpb24odCl7IXQuZ2V0KFwibGVnZW5kSG92ZXJMaW5rXCIpJiZoLnB1c2godC5pZCl9KSksUHooZS5nZXREYXRhKCksKGZ1bmN0aW9uKHIsbyl7dmFyIGE9ci5nZXQoXCJuYW1lXCIpO2lmKCF0aGlzLm5ld2xpbmVEaXNhYmxlZCYmKFwiXCI9PT1hfHxcIlxcblwiPT09YSkpe3ZhciBjPW5ldyBPejtyZXR1cm4gYy5uZXdsaW5lPSEwLHZvaWQgcy5hZGQoYyl9dmFyIHA9bi5nZXRTZXJpZXNCeU5hbWUoYSlbMF07aWYoIWwuZ2V0KGEpKXtpZihwKXt2YXIgZD1wLmdldERhdGEoKSxmPWQuZ2V0VmlzdWFsKFwic3R5bGVcIiksZz1mW2QuZ2V0VmlzdWFsKFwiZHJhd1R5cGVcIildfHxmLmZpbGwseT1mLnN0cm9rZSx2PWYuZGVjYWwsbT1kLmdldFZpc3VhbChcImxlZ2VuZFN5bWJvbFwiKXx8XCJyb3VuZFJlY3RcIixfPWQuZ2V0VmlzdWFsKFwic3ltYm9sXCIpO3RoaXMuX2NyZWF0ZUl0ZW0oYSxvLHIsZSxtLF8sdCxnLHksdix1KS5vbihcImNsaWNrXCIsa3ooRXosYSxudWxsLGksaCkpLm9uKFwibW91c2VvdmVyXCIsa3ooQnoscC5uYW1lLG51bGwsaSxoKSkub24oXCJtb3VzZW91dFwiLGt6KFZ6LHAubmFtZSxudWxsLGksaCkpLGwuc2V0KGEsITApfWVsc2Ugbi5lYWNoUmF3U2VyaWVzKChmdW5jdGlvbihuKXtpZighbC5nZXQoYSkmJm4ubGVnZW5kVmlzdWFsUHJvdmlkZXIpe3ZhciBzPW4ubGVnZW5kVmlzdWFsUHJvdmlkZXI7aWYoIXMuY29udGFpbk5hbWUoYSkpcmV0dXJuO3ZhciBjPXMuaW5kZXhPZk5hbWUoYSkscD1zLmdldEl0ZW1WaXN1YWwoYyxcInN0eWxlXCIpLGQ9cC5zdHJva2UsZj1wLmRlY2FsLGc9cC5maWxsLHk9cWUocC5maWxsKTt5JiYwPT09eVszXSYmKHlbM109LjIsZz1hbih5LFwicmdiYVwiKSk7dGhpcy5fY3JlYXRlSXRlbShhLG8scixlLFwicm91bmRSZWN0XCIsbnVsbCx0LGcsZCxmLHUpLm9uKFwiY2xpY2tcIixreihFeixudWxsLGEsaSxoKSkub24oXCJtb3VzZW92ZXJcIixreihCeixudWxsLGEsaSxoKSkub24oXCJtb3VzZW91dFwiLGt6KFZ6LG51bGwsYSxpLGgpKSxsLnNldChhLCEwKX19KSx0aGlzKTswfX0pLHRoaXMpLHImJnRoaXMuX2NyZWF0ZVNlbGVjdG9yKHIsZSxpLG8sYSl9LGUucHJvdG90eXBlLl9jcmVhdGVTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpO1B6KHQsKGZ1bmN0aW9uKHQpe3ZhciBpPXQudHlwZSxyPW5ldyBscyh7c3R5bGU6e3g6MCx5OjAsYWxpZ246XCJjZW50ZXJcIix2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCJ9LG9uY2xpY2s6ZnVuY3Rpb24oKXtuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiYWxsXCI9PT1pP1wibGVnZW5kQWxsU2VsZWN0XCI6XCJsZWdlbmRJbnZlcnNlU2VsZWN0XCJ9KX19KTtvLmFkZChyKSx0aChyLHtub3JtYWw6ZS5nZXRNb2RlbChcInNlbGVjdG9yTGFiZWxcIiksZW1waGFzaXM6ZS5nZXRNb2RlbChbXCJlbXBoYXNpc1wiLFwic2VsZWN0b3JMYWJlbFwiXSl9LHtkZWZhdWx0VGV4dDp0LnRpdGxlfSksSnMocil9KSl9LGUucHJvdG90eXBlLl9jcmVhdGVJdGVtPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUsaCl7dmFyIGM9aS5nZXQoXCJpdGVtV2lkdGhcIikscD1pLmdldChcIml0ZW1IZWlnaHRcIiksZD1pLmdldChcImluYWN0aXZlQ29sb3JcIiksZj1pLmdldChcImluYWN0aXZlQm9yZGVyQ29sb3JcIiksZz1pLmdldChcInN5bWJvbEtlZXBBc3BlY3RcIikseT1pLmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLHY9aS5pc1NlbGVjdGVkKHQpLG09bmV3IE96LF89bi5nZXRNb2RlbChcInRleHRTdHlsZVwiKSx4PW4uZ2V0KFwiaWNvblwiKSxiPW4uZ2V0TW9kZWwoXCJ0b29sdGlwXCIpLHc9Yi5wYXJlbnRNb2RlbCxTPXV5KHI9eHx8ciwwLDAsYyxwLHY/czpkLG51bGw9PWd8fGcpO2lmKG0uYWRkKE56KFMscix5LGwsZix1LHYpKSwheCYmbyYmKG8hPT1yfHxcIm5vbmVcIj09PW8pKXt2YXIgTT0uOCpwO1wibm9uZVwiPT09byYmKG89XCJjaXJjbGVcIik7dmFyIFQ9dXkobywoYy1NKS8yLChwLU0pLzIsTSxNLHY/czpkLG51bGw9PWd8fGcpO20uYWRkKE56KFQsbyx5LGwsZix1LHYpKX12YXIgQz1cImxlZnRcIj09PWE/Yys1Oi01LEE9YSxEPWkuZ2V0KFwiZm9ybWF0dGVyXCIpLEw9dDtcInN0cmluZ1wiPT10eXBlb2YgRCYmRD9MPUQucmVwbGFjZShcIntuYW1lfVwiLG51bGwhPXQ/dDpcIlwiKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBEJiYoTD1EKHQpKSxtLmFkZChuZXcgbHMoe3N0eWxlOm5oKF8se3RleHQ6TCx4OkMseTpwLzIsZmlsbDp2P18uZ2V0VGV4dENvbG9yKCk6ZCxhbGlnbjpBLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIn0pfSkpO3ZhciBrPW5ldyBvcyh7c2hhcGU6bS5nZXRCb3VuZGluZ1JlY3QoKSxpbnZpc2libGU6ITB9KTtpZihiLmdldChcInNob3dcIikpe3ZhciBQPXtjb21wb25lbnRUeXBlOlwibGVnZW5kXCIsbGVnZW5kSW5kZXg6aS5jb21wb25lbnRJbmRleCxuYW1lOnQsJHZhcnM6W1wibmFtZVwiXX07ay50b29sdGlwPUkoe2NvbnRlbnQ6dCxmb3JtYXR0ZXI6dy5nZXQoXCJmb3JtYXR0ZXJcIiwhMCl8fGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9LGZvcm1hdHRlclBhcmFtczpQfSxiLm9wdGlvbil9cmV0dXJuIG0uYWRkKGspLG0uZWFjaENoaWxkKChmdW5jdGlvbih0KXt0LnNpbGVudD0hMH0pKSxrLnNpbGVudD0haCx0aGlzLmdldENvbnRlbnRHcm91cCgpLmFkZChtKSxKcyhtKSxtLl9fbGVnZW5kRGF0YUluZGV4PWUsbX0sZS5wcm90b3R5cGUubGF5b3V0SW5uZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPXRoaXMuZ2V0Q29udGVudEdyb3VwKCkscz10aGlzLmdldFNlbGVjdG9yR3JvdXAoKTtDYyh0LmdldChcIm9yaWVudFwiKSxhLHQuZ2V0KFwiaXRlbUdhcFwiKSxuLndpZHRoLG4uaGVpZ2h0KTt2YXIgbD1hLmdldEJvdW5kaW5nUmVjdCgpLHU9Wy1sLngsLWwueV07aWYocy5tYXJrUmVkcmF3KCksYS5tYXJrUmVkcmF3KCkscil7Q2MoXCJob3Jpem9udGFsXCIscyx0LmdldChcInNlbGVjdG9ySXRlbUdhcFwiLCEwKSk7dmFyIGg9cy5nZXRCb3VuZGluZ1JlY3QoKSxjPVstaC54LC1oLnldLHA9dC5nZXQoXCJzZWxlY3RvckJ1dHRvbkdhcFwiLCEwKSxkPXQuZ2V0T3JpZW50KCkuaW5kZXgsZj0wPT09ZD9cIndpZHRoXCI6XCJoZWlnaHRcIixnPTA9PT1kP1wiaGVpZ2h0XCI6XCJ3aWR0aFwiLHk9MD09PWQ/XCJ5XCI6XCJ4XCI7XCJlbmRcIj09PW8/Y1tkXSs9bFtmXStwOnVbZF0rPWhbZl0rcCxjWzEtZF0rPWxbZ10vMi1oW2ddLzIscy54PWNbMF0scy55PWNbMV0sYS54PXVbMF0sYS55PXVbMV07dmFyIHY9e3g6MCx5OjB9O3JldHVybiB2W2ZdPWxbZl0rcCtoW2ZdLHZbZ109TWF0aC5tYXgobFtnXSxoW2ddKSx2W3ldPU1hdGgubWluKDAsaFt5XStjWzEtZF0pLHZ9cmV0dXJuIGEueD11WzBdLGEueT11WzFdLHRoaXMuZ3JvdXAuZ2V0Qm91bmRpbmdSZWN0KCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZ2V0Q29udGVudEdyb3VwKCkucmVtb3ZlQWxsKCksdGhpcy5faXNGaXJzdFJlbmRlcj0hMH0sZS50eXBlPVwibGVnZW5kLnBsYWluXCIsZX0ocGYpO2Z1bmN0aW9uIE56KHQsZSxuLGkscixvLGEpe3ZhciBzO3JldHVyblwibGluZVwiIT09ZSYmZS5pbmRleE9mKFwiZW1wdHlcIik8MD8ocz1uLmdldEl0ZW1TdHlsZSgpLHQuc3R5bGUuc3Ryb2tlPWksdC5zdHlsZS5kZWNhbD1vLGF8fChzLnN0cm9rZT1yKSk6cz1uLmdldEl0ZW1TdHlsZShbXCJib3JkZXJXaWR0aFwiLFwiYm9yZGVyQ29sb3JcIl0pLHQuc2V0U3R5bGUocyksdH1mdW5jdGlvbiBFeih0LGUsbixpKXtWeih0LGUsbixpKSxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwibGVnZW5kVG9nZ2xlU2VsZWN0XCIsbmFtZTpudWxsIT10P3Q6ZX0pLEJ6KHQsZSxuLGkpfWZ1bmN0aW9uIHp6KHQpe2Zvcih2YXIgZSxuPXQuZ2V0WnIoKS5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCksaT0wLHI9bi5sZW5ndGg7aTxyJiYhKGU9bltpXS5zdGF0ZXMuZW1waGFzaXMpOylpKys7cmV0dXJuIGUmJmUuaG92ZXJMYXllcn1mdW5jdGlvbiBCeih0LGUsbixpKXt6eihuKXx8bi5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImhpZ2hsaWdodFwiLHNlcmllc05hbWU6dCxuYW1lOmUsZXhjbHVkZVNlcmllc0lkOml9KX1mdW5jdGlvbiBWeih0LGUsbixpKXt6eihuKXx8bi5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImRvd25wbGF5XCIsc2VyaWVzTmFtZTp0LG5hbWU6ZSxleGNsdWRlU2VyaWVzSWQ6aX0pfWZ1bmN0aW9uIEZ6KHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwibGVnZW5kXCJ9KTtlJiZlLmxlbmd0aCYmdC5maWx0ZXJTZXJpZXMoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKCFlW25dLmlzU2VsZWN0ZWQodC5uYW1lKSlyZXR1cm4hMTtyZXR1cm4hMH0pKX1mdW5jdGlvbiBHeih0LGUsbil7dmFyIGkscj17fSxvPVwidG9nZ2xlU2VsZWN0ZWRcIj09PXQ7cmV0dXJuIG4uZWFjaENvbXBvbmVudChcImxlZ2VuZFwiLChmdW5jdGlvbihuKXtvJiZudWxsIT1pP25baT9cInNlbGVjdFwiOlwidW5TZWxlY3RcIl0oZS5uYW1lKTpcImFsbFNlbGVjdFwiPT09dHx8XCJpbnZlcnNlU2VsZWN0XCI9PT10P25bdF0oKTooblt0XShlLm5hbWUpLGk9bi5pc1NlbGVjdGVkKGUubmFtZSkpLFAobi5nZXREYXRhKCksKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwibmFtZVwiKTtpZihcIlxcblwiIT09ZSYmXCJcIiE9PWUpe3ZhciBpPW4uaXNTZWxlY3RlZChlKTtyLmhhc093blByb3BlcnR5KGUpP3JbZV09cltlXSYmaTpyW2VdPWl9fSkpfSkpLFwiYWxsU2VsZWN0XCI9PT10fHxcImludmVyc2VTZWxlY3RcIj09PXQ/e3NlbGVjdGVkOnJ9OntuYW1lOmUubmFtZSxzZWxlY3RlZDpyfX1mdW5jdGlvbiBIeih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoTHopLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KFJ6KSx0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLlNFUklFU19GSUxURVIsRnopLHQucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKFwibGVnZW5kXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJwbGFpblwifSkpLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oXCJsZWdlbmRUb2dnbGVTZWxlY3RcIixcImxlZ2VuZHNlbGVjdGNoYW5nZWRcIixWKEd6LFwidG9nZ2xlU2VsZWN0ZWRcIikpLHQucmVnaXN0ZXJBY3Rpb24oXCJsZWdlbmRBbGxTZWxlY3RcIixcImxlZ2VuZHNlbGVjdGFsbFwiLFYoR3osXCJhbGxTZWxlY3RcIikpLHQucmVnaXN0ZXJBY3Rpb24oXCJsZWdlbmRJbnZlcnNlU2VsZWN0XCIsXCJsZWdlbmRpbnZlcnNlc2VsZWN0XCIsVihHeixcImludmVyc2VTZWxlY3RcIikpLHQucmVnaXN0ZXJBY3Rpb24oXCJsZWdlbmRTZWxlY3RcIixcImxlZ2VuZHNlbGVjdGVkXCIsVihHeixcInNlbGVjdFwiKSksdC5yZWdpc3RlckFjdGlvbihcImxlZ2VuZFVuU2VsZWN0XCIsXCJsZWdlbmR1bnNlbGVjdGVkXCIsVihHeixcInVuU2VsZWN0XCIpKX0odCl9dmFyIFd6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnNldFNjcm9sbERhdGFJbmRleD1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5zY3JvbGxEYXRhSW5kZXg9dH0sZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLG4saSl7dmFyIHI9UGMoZSk7dC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsZSxuLGkpLFl6KHRoaXMsZSxyKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5jYWxsKHRoaXMsZSxuKSxZeih0aGlzLHRoaXMub3B0aW9uLGUpfSxlLnR5cGU9XCJsZWdlbmQuc2Nyb2xsXCIsZS5kZWZhdWx0T3B0aW9uPVRoKEx6LmRlZmF1bHRPcHRpb24se3Njcm9sbERhdGFJbmRleDowLHBhZ2VCdXR0b25JdGVtR2FwOjUscGFnZUJ1dHRvbkdhcDpudWxsLHBhZ2VCdXR0b25Qb3NpdGlvbjpcImVuZFwiLHBhZ2VGb3JtYXR0ZXI6XCJ7Y3VycmVudH0ve3RvdGFsfVwiLHBhZ2VJY29uczp7aG9yaXpvbnRhbDpbXCJNMCwwTDEyLC0xMEwxMiwxMHpcIixcIk0wLDBMLTEyLC0xMEwtMTIsMTB6XCJdLHZlcnRpY2FsOltcIk0wLDBMMjAsMEwxMCwtMjB6XCIsXCJNMCwwTDIwLDBMMTAsMjB6XCJdfSxwYWdlSWNvbkNvbG9yOlwiIzJmNDU1NFwiLHBhZ2VJY29uSW5hY3RpdmVDb2xvcjpcIiNhYWFcIixwYWdlSWNvblNpemU6MTUscGFnZVRleHRTdHlsZTp7Y29sb3I6XCIjMzMzXCJ9LGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjgwMH0pLGV9KEx6KTtmdW5jdGlvbiBZeih0LGUsbil7dmFyIGk9WzEsMV07aVt0LmdldE9yaWVudCgpLmluZGV4XT0wLGtjKGUsbix7dHlwZTpcImJveFwiLGlnbm9yZVNpemU6ISFpfSl9dmFyIFh6PXppLFV6PVtcIndpZHRoXCIsXCJoZWlnaHRcIl0sWno9W1wieFwiLFwieVwiXSxqej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubmV3bGluZURpc2FibGVkPSEwLG4uX2N1cnJlbnRJbmRleD0wLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRhaW5lckdyb3VwPW5ldyBYeiksdGhpcy5fY29udGFpbmVyR3JvdXAuYWRkKHRoaXMuZ2V0Q29udGVudEdyb3VwKCkpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRyb2xsZXJHcm91cD1uZXcgWHopfSxlLnByb3RvdHlwZS5yZXNldElubmVyPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUucmVzZXRJbm5lci5jYWxsKHRoaXMpLHRoaXMuX2NvbnRyb2xsZXJHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9jb250YWluZXJHcm91cC5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX2NvbnRhaW5lckdyb3VwLl9fcmVjdFNpemU9bnVsbH0sZS5wcm90b3R5cGUucmVuZGVySW5uZXI9ZnVuY3Rpb24oZSxuLGkscixvLGEscyl7dmFyIGw9dGhpczt0LnByb3RvdHlwZS5yZW5kZXJJbm5lci5jYWxsKHRoaXMsZSxuLGkscixvLGEscyk7dmFyIHU9dGhpcy5fY29udHJvbGxlckdyb3VwLGg9bi5nZXQoXCJwYWdlSWNvblNpemVcIiwhMCksYz1GKGgpP2g6W2gsaF07ZChcInBhZ2VQcmV2XCIsMCk7dmFyIHA9bi5nZXRNb2RlbChcInBhZ2VUZXh0U3R5bGVcIik7ZnVuY3Rpb24gZCh0LGUpe3ZhciBpPXQrXCJEYXRhSW5kZXhcIixvPVV1KG4uZ2V0KFwicGFnZUljb25zXCIsITApW24uZ2V0T3JpZW50KCkubmFtZV1bZV0se29uY2xpY2s6QihsLl9wYWdlR28sbCxpLG4scil9LHt4Oi1jWzBdLzIseTotY1sxXS8yLHdpZHRoOmNbMF0saGVpZ2h0OmNbMV19KTtvLm5hbWU9dCx1LmFkZChvKX11LmFkZChuZXcgbHMoe25hbWU6XCJwYWdlVGV4dFwiLHN0eWxlOnt0ZXh0OlwieHgveHhcIixmaWxsOnAuZ2V0VGV4dENvbG9yKCksZm9udDpwLmdldEZvbnQoKSx2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsYWxpZ246XCJjZW50ZXJcIn0sc2lsZW50OiEwfSkpLGQoXCJwYWdlTmV4dFwiLDEpfSxlLnByb3RvdHlwZS5sYXlvdXRJbm5lcj1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9dGhpcy5nZXRTZWxlY3Rvckdyb3VwKCkscz10LmdldE9yaWVudCgpLmluZGV4LGw9VXpbc10sdT1aeltzXSxoPVV6WzEtc10sYz1aelsxLXNdO3ImJkNjKFwiaG9yaXpvbnRhbFwiLGEsdC5nZXQoXCJzZWxlY3Rvckl0ZW1HYXBcIiwhMCkpO3ZhciBwPXQuZ2V0KFwic2VsZWN0b3JCdXR0b25HYXBcIiwhMCksZD1hLmdldEJvdW5kaW5nUmVjdCgpLGY9Wy1kLngsLWQueV0sZz13KG4pO3ImJihnW2xdPW5bbF0tZFtsXS1wKTt2YXIgeT10aGlzLl9sYXlvdXRDb250ZW50QW5kQ29udHJvbGxlcih0LGksZyxzLGwsaCxjLHUpO2lmKHIpe2lmKFwiZW5kXCI9PT1vKWZbc10rPXlbbF0rcDtlbHNle3ZhciB2PWRbbF0rcDtmW3NdLT12LHlbdV0tPXZ9eVtsXSs9ZFtsXStwLGZbMS1zXSs9eVtjXSt5W2hdLzItZFtoXS8yLHlbaF09TWF0aC5tYXgoeVtoXSxkW2hdKSx5W2NdPU1hdGgubWluKHlbY10sZFtjXStmWzEtc10pLGEueD1mWzBdLGEueT1mWzFdLGEubWFya1JlZHJhdygpfXJldHVybiB5fSxlLnByb3RvdHlwZS5fbGF5b3V0Q29udGVudEFuZENvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXt2YXIgbD10aGlzLmdldENvbnRlbnRHcm91cCgpLHU9dGhpcy5fY29udGFpbmVyR3JvdXAsaD10aGlzLl9jb250cm9sbGVyR3JvdXA7Q2ModC5nZXQoXCJvcmllbnRcIiksbCx0LmdldChcIml0ZW1HYXBcIiksaT9uLndpZHRoOm51bGwsaT9udWxsOm4uaGVpZ2h0KSxDYyhcImhvcml6b250YWxcIixoLHQuZ2V0KFwicGFnZUJ1dHRvbkl0ZW1HYXBcIiwhMCkpO3ZhciBjPWwuZ2V0Qm91bmRpbmdSZWN0KCkscD1oLmdldEJvdW5kaW5nUmVjdCgpLGQ9dGhpcy5fc2hvd0NvbnRyb2xsZXI9Y1tyXT5uW3JdLGY9Wy1jLngsLWMueV07ZXx8KGZbaV09bFtzXSk7dmFyIGc9WzAsMF0seT1bLXAueCwtcC55XSx2PXR0KHQuZ2V0KFwicGFnZUJ1dHRvbkdhcFwiLCEwKSx0LmdldChcIml0ZW1HYXBcIiwhMCkpO2QmJihcImVuZFwiPT09dC5nZXQoXCJwYWdlQnV0dG9uUG9zaXRpb25cIiwhMCk/eVtpXSs9bltyXS1wW3JdOmdbaV0rPXBbcl0rdik7eVsxLWldKz1jW29dLzItcFtvXS8yLGwuc2V0UG9zaXRpb24oZiksdS5zZXRQb3NpdGlvbihnKSxoLnNldFBvc2l0aW9uKHkpO3ZhciBtPXt4OjAseTowfTtpZihtW3JdPWQ/bltyXTpjW3JdLG1bb109TWF0aC5tYXgoY1tvXSxwW29dKSxtW2FdPU1hdGgubWluKDAscFthXSt5WzEtaV0pLHUuX19yZWN0U2l6ZT1uW3JdLGQpe3ZhciBfPXt4OjAseTowfTtfW3JdPU1hdGgubWF4KG5bcl0tcFtyXS12LDApLF9bb109bVtvXSx1LnNldENsaXBQYXRoKG5ldyBvcyh7c2hhcGU6X30pKSx1Ll9fcmVjdFNpemU9X1tyXX1lbHNlIGguZWFjaENoaWxkKChmdW5jdGlvbih0KXt0LmF0dHIoe2ludmlzaWJsZTohMCxzaWxlbnQ6ITB9KX0pKTt2YXIgeD10aGlzLl9nZXRQYWdlSW5mbyh0KTtyZXR1cm4gbnVsbCE9eC5wYWdlSW5kZXgmJk91KGwse3g6eC5jb250ZW50UG9zaXRpb25bMF0seTp4LmNvbnRlbnRQb3NpdGlvblsxXX0sZD90Om51bGwpLHRoaXMuX3VwZGF0ZVBhZ2VJbmZvVmlldyh0LHgpLG19LGUucHJvdG90eXBlLl9wYWdlR289ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2dldFBhZ2VJbmZvKGUpW3RdO251bGwhPWkmJm4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJsZWdlbmRTY3JvbGxcIixzY3JvbGxEYXRhSW5kZXg6aSxsZWdlbmRJZDplLmlkfSl9LGUucHJvdG90eXBlLl91cGRhdGVQYWdlSW5mb1ZpZXc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb250cm9sbGVyR3JvdXA7UChbXCJwYWdlUHJldlwiLFwicGFnZU5leHRcIl0sKGZ1bmN0aW9uKGkpe3ZhciByPW51bGwhPWVbaStcIkRhdGFJbmRleFwiXSxvPW4uY2hpbGRPZk5hbWUoaSk7byYmKG8uc2V0U3R5bGUoXCJmaWxsXCIscj90LmdldChcInBhZ2VJY29uQ29sb3JcIiwhMCk6dC5nZXQoXCJwYWdlSWNvbkluYWN0aXZlQ29sb3JcIiwhMCkpLG8uY3Vyc29yPXI/XCJwb2ludGVyXCI6XCJkZWZhdWx0XCIpfSkpO3ZhciBpPW4uY2hpbGRPZk5hbWUoXCJwYWdlVGV4dFwiKSxyPXQuZ2V0KFwicGFnZUZvcm1hdHRlclwiKSxvPWUucGFnZUluZGV4LGE9bnVsbCE9bz9vKzE6MCxzPWUucGFnZUNvdW50O2kmJnImJmkuc2V0U3R5bGUoXCJ0ZXh0XCIsSChyKT9yLnJlcGxhY2UoXCJ7Y3VycmVudH1cIixudWxsPT1hP1wiXCI6YStcIlwiKS5yZXBsYWNlKFwie3RvdGFsfVwiLG51bGw9PXM/XCJcIjpzK1wiXCIpOnIoe2N1cnJlbnQ6YSx0b3RhbDpzfSkpfSxlLnByb3RvdHlwZS5fZ2V0UGFnZUluZm89ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJzY3JvbGxEYXRhSW5kZXhcIiwhMCksbj10aGlzLmdldENvbnRlbnRHcm91cCgpLGk9dGhpcy5fY29udGFpbmVyR3JvdXAuX19yZWN0U2l6ZSxyPXQuZ2V0T3JpZW50KCkuaW5kZXgsbz1VeltyXSxhPVp6W3JdLHM9dGhpcy5fZmluZFRhcmdldEl0ZW1JbmRleChlKSxsPW4uY2hpbGRyZW4oKSx1PWxbc10saD1sLmxlbmd0aCxjPWg/MTowLHA9e2NvbnRlbnRQb3NpdGlvbjpbbi54LG4ueV0scGFnZUNvdW50OmMscGFnZUluZGV4OmMtMSxwYWdlUHJldkRhdGFJbmRleDpudWxsLHBhZ2VOZXh0RGF0YUluZGV4Om51bGx9O2lmKCF1KXJldHVybiBwO3ZhciBkPW0odSk7cC5jb250ZW50UG9zaXRpb25bcl09LWQucztmb3IodmFyIGY9cysxLGc9ZCx5PWQsdj1udWxsO2Y8PWg7KytmKSghKHY9bShsW2ZdKSkmJnkuZT5nLnMraXx8diYmIV8odixnLnMpKSYmKGc9eS5pPmcuaT95OnYpJiYobnVsbD09cC5wYWdlTmV4dERhdGFJbmRleCYmKHAucGFnZU5leHREYXRhSW5kZXg9Zy5pKSwrK3AucGFnZUNvdW50KSx5PXY7Zm9yKGY9cy0xLGc9ZCx5PWQsdj1udWxsO2Y+PS0xOy0tZikodj1tKGxbZl0pKSYmXyh5LHYucyl8fCEoZy5pPHkuaSl8fCh5PWcsbnVsbD09cC5wYWdlUHJldkRhdGFJbmRleCYmKHAucGFnZVByZXZEYXRhSW5kZXg9Zy5pKSwrK3AucGFnZUNvdW50LCsrcC5wYWdlSW5kZXgpLGc9djtyZXR1cm4gcDtmdW5jdGlvbiBtKHQpe2lmKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdSZWN0KCksbj1lW2FdK3RbYV07cmV0dXJue3M6bixlOm4rZVtvXSxpOnQuX19sZWdlbmREYXRhSW5kZXh9fX1mdW5jdGlvbiBfKHQsZSl7cmV0dXJuIHQuZT49ZSYmdC5zPD1lK2l9fSxlLnByb3RvdHlwZS5fZmluZFRhcmdldEl0ZW1JbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2hvd0NvbnRyb2xsZXI/KHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuZWFjaENoaWxkKChmdW5jdGlvbihpLHIpe3ZhciBvPWkuX19sZWdlbmREYXRhSW5kZXg7bnVsbD09biYmbnVsbCE9byYmKG49ciksbz09PXQmJihlPXIpfSkpLG51bGwhPWU/ZTpuKTowO3ZhciBlLG59LGUudHlwZT1cImxlZ2VuZC5zY3JvbGxcIixlfShSeik7ZnVuY3Rpb24gcXoodCl7ZW0oSHopLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChXeiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoanopLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oXCJsZWdlbmRTY3JvbGxcIixcImxlZ2VuZHNjcm9sbFwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuc2Nyb2xsRGF0YUluZGV4O251bGwhPW4mJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJsZWdlbmRcIixzdWJUeXBlOlwic2Nyb2xsXCIscXVlcnk6dH0sKGZ1bmN0aW9uKHQpe3Quc2V0U2Nyb2xsRGF0YUluZGV4KG4pfSkpfSkpfSh0KX12YXIgS3o9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPVwiZGF0YVpvb20uaW5zaWRlXCIsZS5kZWZhdWx0T3B0aW9uPVRoKEtSLmRlZmF1bHRPcHRpb24se2Rpc2FibGVkOiExLHpvb21Mb2NrOiExLHpvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLG1vdmVPbk1vdXNlV2hlZWw6ITEscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ITB9KSxlfShLUiksJHo9THIoKTtmdW5jdGlvbiBKeih0LGUsbil7JHoodCkuY29vcmRTeXNSZWNvcmRNYXAuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9dC5kYXRhWm9vbUluZm9NYXAuZ2V0KGUudWlkKTtpJiYoaS5nZXRSYW5nZT1uKX0pKX1mdW5jdGlvbiBReih0LGUpe2lmKGUpe3QucmVtb3ZlS2V5KGUubW9kZWwudWlkKTt2YXIgbj1lLmNvbnRyb2xsZXI7biYmbi5kaXNwb3NlKCl9fWZ1bmN0aW9uIHRCKHQsZSl7dC5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImRhdGFab29tXCIsYW5pbWF0aW9uOntlYXNpbmc6XCJjdWJpY091dFwiLGR1cmF0aW9uOjEwMH0sYmF0Y2g6ZX0pfWZ1bmN0aW9uIGVCKHQsZSxuLGkpe3JldHVybiB0LmNvb3JkaW5hdGVTeXN0ZW0uY29udGFpblBvaW50KFtuLGldKX1mdW5jdGlvbiBuQih0KXt0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLkZJTFRFUiwoZnVuY3Rpb24odCxlKXt2YXIgbj0keihlKSxpPW4uY29vcmRTeXNSZWNvcmRNYXB8fChuLmNvb3JkU3lzUmVjb3JkTWFwPWh0KCkpO2kuZWFjaCgoZnVuY3Rpb24odCl7dC5kYXRhWm9vbUluZm9NYXA9bnVsbH0pKSx0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwiZGF0YVpvb21cIixzdWJUeXBlOlwiaW5zaWRlXCJ9LChmdW5jdGlvbih0KXtQKGpSKHQpLmluZm9MaXN0LChmdW5jdGlvbihuKXt2YXIgcj1uLm1vZGVsLnVpZCxvPWkuZ2V0KHIpfHxpLnNldChyLGZ1bmN0aW9uKHQsZSl7dmFyIG49e21vZGVsOmUsY29udGFpbnNQb2ludDpWKGVCLGUpLGRpc3BhdGNoQWN0aW9uOlYodEIsdCksZGF0YVpvb21JbmZvTWFwOm51bGwsY29udHJvbGxlcjpudWxsfSxpPW4uY29udHJvbGxlcj1uZXcgUVModC5nZXRacigpKTtyZXR1cm4gUChbXCJwYW5cIixcInpvb21cIixcInNjcm9sbE1vdmVcIl0sKGZ1bmN0aW9uKHQpe2kub24odCwoZnVuY3Rpb24oZSl7dmFyIGk9W107bi5kYXRhWm9vbUluZm9NYXAuZWFjaCgoZnVuY3Rpb24ocil7aWYoZS5pc0F2YWlsYWJsZUJlaGF2aW9yKHIubW9kZWwub3B0aW9uKSl7dmFyIG89KHIuZ2V0UmFuZ2V8fHt9KVt0XSxhPW8mJm8oci5kelJlZmVyQ29vcmRTeXNJbmZvLG4ubW9kZWwubWFpblR5cGUsbi5jb250cm9sbGVyLGUpOyFyLm1vZGVsLmdldChcImRpc2FibGVkXCIsITApJiZhJiZpLnB1c2goe2RhdGFab29tSWQ6ci5tb2RlbC5pZCxzdGFydDphWzBdLGVuZDphWzFdfSl9fSkpLGkubGVuZ3RoJiZuLmRpc3BhdGNoQWN0aW9uKGkpfSkpfSkpLG59KGUsbi5tb2RlbCkpOyhvLmRhdGFab29tSW5mb01hcHx8KG8uZGF0YVpvb21JbmZvTWFwPWh0KCkpKS5zZXQodC51aWQse2R6UmVmZXJDb29yZFN5c0luZm86bixtb2RlbDp0LGdldFJhbmdlOm51bGx9KX0pKX0pKSxpLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlLG49dC5jb250cm9sbGVyLHI9dC5kYXRhWm9vbUluZm9NYXA7aWYocil7dmFyIG89ci5rZXlzKClbMF07bnVsbCE9byYmKGU9ci5nZXQobykpfWlmKGUpe3ZhciBhPWZ1bmN0aW9uKHQpe3ZhciBlLG49XCJ0eXBlX1wiLGk9e3R5cGVfdHJ1ZToyLHR5cGVfbW92ZToxLHR5cGVfZmFsc2U6MCx0eXBlX3VuZGVmaW5lZDotMX0scj0hMDtyZXR1cm4gdC5lYWNoKChmdW5jdGlvbih0KXt2YXIgbz10Lm1vZGVsLGE9IW8uZ2V0KFwiZGlzYWJsZWRcIiwhMCkmJighby5nZXQoXCJ6b29tTG9ja1wiLCEwKXx8XCJtb3ZlXCIpO2lbbithXT5pW24rZV0mJihlPWEpLHI9ciYmby5nZXQoXCJwcmV2ZW50RGVmYXVsdE1vdXNlTW92ZVwiLCEwKX0pKSx7Y29udHJvbFR5cGU6ZSxvcHQ6e3pvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLG1vdmVPbk1vdXNlV2hlZWw6ITAscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ISFyfX19KHIpO24uZW5hYmxlKGEuY29udHJvbFR5cGUsYS5vcHQpLG4uc2V0UG9pbnRlckNoZWNrZXIodC5jb250YWluc1BvaW50KSxUZih0LFwiZGlzcGF0Y2hBY3Rpb25cIixlLm1vZGVsLmdldChcInRocm90dGxlXCIsITApLFwiZml4UmF0ZVwiKX1lbHNlIFF6KGksdCl9KSl9KSl9dmFyIGlCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT1cImRhdGFab29tLmluc2lkZVwiLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSxuLGkpe3QucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS5ub1RhcmdldCgpP3RoaXMuX2NsZWFyKCk6KHRoaXMucmFuZ2U9ZS5nZXRQZXJjZW50UmFuZ2UoKSxKeihpLGUse3BhbjpCKHJCLnBhbix0aGlzKSx6b29tOkIockIuem9vbSx0aGlzKSxzY3JvbGxNb3ZlOkIockIuc2Nyb2xsTW92ZSx0aGlzKX0pKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyKCksdC5wcm90b3R5cGUuZGlzcG9zZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpeyFmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0keih0KS5jb29yZFN5c1JlY29yZE1hcCxpPW4ua2V5cygpLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxhPW4uZ2V0KG8pLHM9YS5kYXRhWm9vbUluZm9NYXA7aWYocyl7dmFyIGw9ZS51aWQ7cy5nZXQobCkmJihzLnJlbW92ZUtleShsKSxzLmtleXMoKS5sZW5ndGh8fFF6KG4sYSkpfX19KHRoaXMuYXBpLHRoaXMuZGF0YVpvb21Nb2RlbCksdGhpcy5yYW5nZT1udWxsfSxlLnR5cGU9XCJkYXRhWm9vbS5pbnNpZGVcIixlfShRUiksckI9e3pvb206ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5yYW5nZSxvPXIuc2xpY2UoKSxhPXQuYXhpc01vZGVsc1swXTtpZihhKXt2YXIgcz1hQltlXShudWxsLFtpLm9yaWdpblgsaS5vcmlnaW5ZXSxhLG4sdCksbD0ocy5zaWduYWw+MD9zLnBpeGVsU3RhcnQrcy5waXhlbExlbmd0aC1zLnBpeGVsOnMucGl4ZWwtcy5waXhlbFN0YXJ0KS9zLnBpeGVsTGVuZ3RoKihvWzFdLW9bMF0pK29bMF0sdT1NYXRoLm1heCgxL2kuc2NhbGUsMCk7b1swXT0ob1swXS1sKSp1K2wsb1sxXT0ob1sxXS1sKSp1K2w7dmFyIGg9dGhpcy5kYXRhWm9vbU1vZGVsLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKTtyZXR1cm4gdEEoMCxvLFswLDEwMF0sMCxoLm1pblNwYW4saC5tYXhTcGFuKSx0aGlzLnJhbmdlPW8sclswXSE9PW9bMF18fHJbMV0hPT1vWzFdP286dm9pZCAwfX0scGFuOm9CKChmdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9YUJbaV0oW28ub2xkWCxvLm9sZFldLFtvLm5ld1gsby5uZXdZXSxlLHIsbik7cmV0dXJuIGEuc2lnbmFsKih0WzFdLXRbMF0pKmEucGl4ZWwvYS5waXhlbExlbmd0aH0pKSxzY3JvbGxNb3ZlOm9CKChmdW5jdGlvbih0LGUsbixpLHIsbyl7cmV0dXJuIGFCW2ldKFswLDBdLFtvLnNjcm9sbERlbHRhLG8uc2Nyb2xsRGVsdGFdLGUscixuKS5zaWduYWwqKHRbMV0tdFswXSkqby5zY3JvbGxEZWx0YX0pKX07ZnVuY3Rpb24gb0IodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpLHIpe3ZhciBvPXRoaXMucmFuZ2UsYT1vLnNsaWNlKCkscz1lLmF4aXNNb2RlbHNbMF07aWYocylyZXR1cm4gdEEodChhLHMsZSxuLGksciksYSxbMCwxMDBdLFwiYWxsXCIpLHRoaXMucmFuZ2U9YSxvWzBdIT09YVswXXx8b1sxXSE9PWFbMV0/YTp2b2lkIDB9fXZhciBhQj17Z3JpZDpmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uYXhpcyxhPXt9LHM9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKTtyZXR1cm4gdD10fHxbMCwwXSxcInhcIj09PW8uZGltPyhhLnBpeGVsPWVbMF0tdFswXSxhLnBpeGVsTGVuZ3RoPXMud2lkdGgsYS5waXhlbFN0YXJ0PXMueCxhLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KGEucGl4ZWw9ZVsxXS10WzFdLGEucGl4ZWxMZW5ndGg9cy5oZWlnaHQsYS5waXhlbFN0YXJ0PXMueSxhLnNpZ25hbD1vLmludmVyc2U/LTE6MSksYX0scG9sYXI6ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmF4aXMsYT17fSxzPXIubW9kZWwuY29vcmRpbmF0ZVN5c3RlbSxsPXMuZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpLHU9cy5nZXRBbmdsZUF4aXMoKS5nZXRFeHRlbnQoKTtyZXR1cm4gdD10P3MucG9pbnRUb0Nvb3JkKHQpOlswLDBdLGU9cy5wb2ludFRvQ29vcmQoZSksXCJyYWRpdXNBeGlzXCI9PT1uLm1haW5UeXBlPyhhLnBpeGVsPWVbMF0tdFswXSxhLnBpeGVsTGVuZ3RoPWxbMV0tbFswXSxhLnBpeGVsU3RhcnQ9bFswXSxhLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KGEucGl4ZWw9ZVsxXS10WzFdLGEucGl4ZWxMZW5ndGg9dVsxXS11WzBdLGEucGl4ZWxTdGFydD11WzBdLGEuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxhfSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzPXt9O3JldHVybiB0PXR8fFswLDBdLFwiaG9yaXpvbnRhbFwiPT09by5vcmllbnQ/KHMucGl4ZWw9ZVswXS10WzBdLHMucGl4ZWxMZW5ndGg9YS53aWR0aCxzLnBpeGVsU3RhcnQ9YS54LHMuc2lnbmFsPW8uaW52ZXJzZT8xOi0xKToocy5waXhlbD1lWzFdLXRbMV0scy5waXhlbExlbmd0aD1hLmhlaWdodCxzLnBpeGVsU3RhcnQ9YS55LHMuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxzfX07ZnVuY3Rpb24gc0IodCl7YU4odCksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKEt6KSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhpQiksbkIodCl9dmFyIGxCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT1cImRhdGFab29tLnNsaWRlclwiLGUubGF5b3V0TW9kZT1cImJveFwiLGUuZGVmYXVsdE9wdGlvbj1UaChLUi5kZWZhdWx0T3B0aW9uLHtzaG93OiEwLHJpZ2h0OlwicGhcIix0b3A6XCJwaFwiLHdpZHRoOlwicGhcIixoZWlnaHQ6XCJwaFwiLGxlZnQ6bnVsbCxib3R0b206bnVsbCxib3JkZXJDb2xvcjpcIiNkMmRiZWVcIixib3JkZXJSYWRpdXM6MyxiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDQ3LDY5LDg0LDApXCIsZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6XCIjZDJkYmVlXCIsd2lkdGg6LjV9LGFyZWFTdHlsZTp7Y29sb3I6XCIjZDJkYmVlXCIsb3BhY2l0eTouMn19LHNlbGVjdGVkRGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6XCIjOGZiMGY3XCIsd2lkdGg6LjV9LGFyZWFTdHlsZTp7Y29sb3I6XCIjOGZiMGY3XCIsb3BhY2l0eTouMn19LGZpbGxlckNvbG9yOlwicmdiYSgxMzUsMTc1LDI3NCwwLjIpXCIsaGFuZGxlSWNvbjpcInBhdGg6Ly9NLTkuMzUsMzQuNTZWNDJtMC00MFY5LjVtLTIsMGg0YTIsMiwwLDAsMSwyLDJ2MjFhMiwyLDAsMCwxLTIsMmgtNGEyLDIsMCwwLDEtMi0ydi0yMUEyLDIsMCwwLDEtMTEuMzUsOS41WlwiLGhhbmRsZVNpemU6XCIxMDAlXCIsaGFuZGxlU3R5bGU6e2NvbG9yOlwiI2ZmZlwiLGJvcmRlckNvbG9yOlwiI0FDQjhEMVwifSxtb3ZlSGFuZGxlU2l6ZTo3LG1vdmVIYW5kbGVJY29uOlwicGF0aDovL00tMzIwLjktNTBMLTMyMC45LTUwYzE4LjEsMCwyNy4xLDksMjcuMSwyNy4xVjg1LjdjMCwxOC4xLTksMjcuMS0yNy4xLDI3LjFsMCwwYy0xOC4xLDAtMjcuMS05LTI3LjEtMjcuMVYtMjIuOUMtMzQ4LTQxLTMzOS01MC0zMjAuOS01MHogTS0yMTIuMy01MEwtMjEyLjMtNTBjMTguMSwwLDI3LjEsOSwyNy4xLDI3LjFWODUuN2MwLDE4LjEtOSwyNy4xLTI3LjEsMjcuMWwwLDBjLTE4LjEsMC0yNy4xLTktMjcuMS0yNy4xVi0yMi45Qy0yMzkuNC00MS0yMzAuNC01MC0yMTIuMy01MHogTS0xMDMuNy01MEwtMTAzLjctNTBjMTguMSwwLDI3LjEsOSwyNy4xLDI3LjFWODUuN2MwLDE4LjEtOSwyNy4xLTI3LjEsMjcuMWwwLDBjLTE4LjEsMC0yNy4xLTktMjcuMS0yNy4xVi0yMi45Qy0xMzAuOS00MS0xMjEuOC01MC0xMDMuNy01MHpcIixtb3ZlSGFuZGxlU3R5bGU6e2NvbG9yOlwiI0QyREJFRVwiLG9wYWNpdHk6Ljd9LHNob3dEZXRhaWw6ITAsc2hvd0RhdGFTaGFkb3c6XCJhdXRvXCIscmVhbHRpbWU6ITAsem9vbUxvY2s6ITEsdGV4dFN0eWxlOntjb2xvcjpcIiM2RTcwNzlcIn0sYnJ1c2hTZWxlY3Q6ITAsYnJ1c2hTdHlsZTp7Y29sb3I6XCJyZ2JhKDEzNSwxNzUsMjc0LDAuMTUpXCJ9LGVtcGhhc2lzOntoYW5kbGVTdHlsZTp7Ym9yZGVyQ29sb3I6XCIjOEZCMEY3XCJ9LG1vdmVIYW5kbGVTdHlsZTp7Y29sb3I6XCIjOEZCMEY3XCJ9fX0pLGV9KEtSKSx1Qj1vcyxoQj1cImhvcml6b250YWxcIixjQj1cInZlcnRpY2FsXCIscEI9W1wibGluZVwiLFwiYmFyXCIsXCJjYW5kbGVzdGlja1wiLFwic2NhdHRlclwiXSxkQj17ZWFzaW5nOlwiY3ViaWNPdXRcIixkdXJhdGlvbjoxMDB9LGZCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fZGlzcGxheWFibGVzPXt9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5hcGk9ZSx0aGlzLl9vbkJydXNoPUIodGhpcy5fb25CcnVzaCx0aGlzKSx0aGlzLl9vbkJydXNoRW5kPUIodGhpcy5fb25CcnVzaEVuZCx0aGlzKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsbixpLHIpe2lmKHQucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksVGYodGhpcyxcIl9kaXNwYXRjaFpvb21BY3Rpb25cIixlLmdldChcInRocm90dGxlXCIpLFwiZml4UmF0ZVwiKSx0aGlzLl9vcmllbnQ9ZS5nZXRPcmllbnQoKSwhMSE9PWUuZ2V0KFwic2hvd1wiKSl7aWYoZS5ub1RhcmdldCgpKXJldHVybiB0aGlzLl9jbGVhcigpLHZvaWQgdGhpcy5ncm91cC5yZW1vdmVBbGwoKTtyJiZcImRhdGFab29tXCI9PT1yLnR5cGUmJnIuZnJvbT09PXRoaXMudWlkfHx0aGlzLl9idWlsZFZpZXcoKSx0aGlzLl91cGRhdGVWaWV3KCl9ZWxzZSB0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7dmFyIHQsZSxuOyhuPSh0PXRoaXMpW2U9XCJfZGlzcGF0Y2hab29tQWN0aW9uXCJdKSYmblt3Zl0mJih0W2VdPW5bd2ZdKTt2YXIgaT10aGlzLmFwaS5nZXRacigpO2kub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25CcnVzaCksaS5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25CcnVzaEVuZCl9LGUucHJvdG90eXBlLl9idWlsZFZpZXc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwO3QucmVtb3ZlQWxsKCksdGhpcy5fYnJ1c2hpbmc9ITEsdGhpcy5fZGlzcGxheWFibGVzLmJydXNoUmVjdD1udWxsLHRoaXMuX3Jlc2V0TG9jYXRpb24oKSx0aGlzLl9yZXNldEludGVydmFsKCk7dmFyIGU9dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwPW5ldyB6aTt0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKCksdGhpcy5fcmVuZGVySGFuZGxlKCksdGhpcy5fcmVuZGVyRGF0YVNoYWRvdygpLHQuYWRkKGUpLHRoaXMuX3Bvc2l0aW9uR3JvdXAoKX0sZS5wcm90b3R5cGUuX3Jlc2V0TG9jYXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGFab29tTW9kZWwsZT10aGlzLmFwaSxuPXQuZ2V0KFwiYnJ1c2hTZWxlY3RcIik/NzowLGk9dGhpcy5fZmluZENvb3JkUmVjdCgpLHI9e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sbz10aGlzLl9vcmllbnQ9PT1oQj97cmlnaHQ6ci53aWR0aC1pLngtaS53aWR0aCx0b3A6ci5oZWlnaHQtMzAtNy1uLHdpZHRoOmkud2lkdGgsaGVpZ2h0OjMwfTp7cmlnaHQ6Nyx0b3A6aS55LHdpZHRoOjMwLGhlaWdodDppLmhlaWdodH0sYT1QYyh0Lm9wdGlvbik7UChbXCJyaWdodFwiLFwidG9wXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLChmdW5jdGlvbih0KXtcInBoXCI9PT1hW3RdJiYoYVt0XT1vW3RdKX0pKTt2YXIgcz1BYyhhLHIpO3RoaXMuX2xvY2F0aW9uPXt4OnMueCx5OnMueX0sdGhpcy5fc2l6ZT1bcy53aWR0aCxzLmhlaWdodF0sdGhpcy5fb3JpZW50PT09Y0ImJnRoaXMuX3NpemUucmV2ZXJzZSgpfSxlLnByb3RvdHlwZS5fcG9zaXRpb25Hcm91cD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9sb2NhdGlvbixuPXRoaXMuX29yaWVudCxpPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXRGaXJzdFRhcmdldEF4aXNNb2RlbCgpLHI9aSYmaS5nZXQoXCJpbnZlcnNlXCIpLG89dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwLGE9KHRoaXMuX2RhdGFTaGFkb3dJbmZvfHx7fSkub3RoZXJBeGlzSW52ZXJzZTtvLmF0dHIobiE9PWhCfHxyP249PT1oQiYmcj97c2NhbGVZOmE/MTotMSxzY2FsZVg6LTF9Om4hPT1jQnx8cj97c2NhbGVZOmE/LTE6MSxzY2FsZVg6LTEscm90YXRpb246TWF0aC5QSS8yfTp7c2NhbGVZOmE/LTE6MSxzY2FsZVg6MSxyb3RhdGlvbjpNYXRoLlBJLzJ9OntzY2FsZVk6YT8xOi0xLHNjYWxlWDoxfSk7dmFyIHM9dC5nZXRCb3VuZGluZ1JlY3QoW29dKTt0Lng9ZS54LXMueCx0Lnk9ZS55LXMueSx0Lm1hcmtSZWRyYXcoKX0sZS5wcm90b3R5cGUuX2dldFZpZXdFeHRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm5bMCx0aGlzLl9zaXplWzBdXX0sZS5wcm90b3R5cGUuX3JlbmRlckJhY2tncm91bmQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGFab29tTW9kZWwsZT10aGlzLl9zaXplLG49dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwLGk9dC5nZXQoXCJicnVzaFNlbGVjdFwiKTtuLmFkZChuZXcgdUIoe3NpbGVudDohMCxzaGFwZTp7eDowLHk6MCx3aWR0aDplWzBdLGhlaWdodDplWzFdfSxzdHlsZTp7ZmlsbDp0LmdldChcImJhY2tncm91bmRDb2xvclwiKX0sejI6LTQwfSkpO3ZhciByPW5ldyB1Qih7c2hhcGU6e3g6MCx5OjAsd2lkdGg6ZVswXSxoZWlnaHQ6ZVsxXX0sc3R5bGU6e2ZpbGw6XCJ0cmFuc3BhcmVudFwifSx6MjowLG9uY2xpY2s6Qih0aGlzLl9vbkNsaWNrUGFuZWwsdGhpcyl9KSxvPXRoaXMuYXBpLmdldFpyKCk7aT8oci5vbihcIm1vdXNlZG93blwiLHRoaXMuX29uQnJ1c2hTdGFydCx0aGlzKSxyLmN1cnNvcj1cImNyb3NzaGFpclwiLG8ub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbkJydXNoKSxvLm9uKFwibW91c2V1cFwiLHRoaXMuX29uQnJ1c2hFbmQpKTooby5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbkJydXNoKSxvLm9mZihcIm1vdXNldXBcIix0aGlzLl9vbkJydXNoRW5kKSksbi5hZGQocil9LGUucHJvdG90eXBlLl9yZW5kZXJEYXRhU2hhZG93PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YVNoYWRvd0luZm89dGhpcy5fcHJlcGFyZURhdGFTaGFkb3dJbmZvKCk7aWYodGhpcy5fZGlzcGxheWFibGVzLmRhdGFTaGFkb3dTZWdzPVtdLHQpe3ZhciBlPXRoaXMuX3NpemUsbj10LnNlcmllcyxpPW4uZ2V0UmF3RGF0YSgpLHI9bi5nZXRTaGFkb3dEaW0/bi5nZXRTaGFkb3dEaW0oKTp0Lm90aGVyRGltO2lmKG51bGwhPXIpe3ZhciBvPWkuZ2V0RGF0YUV4dGVudChyKSxhPS4zKihvWzFdLW9bMF0pO289W29bMF0tYSxvWzFdK2FdO3ZhciBzLGw9WzAsZVsxXV0sdT1bMCxlWzBdXSxoPVtbZVswXSwwXSxbMCwwXV0sYz1bXSxwPXVbMV0vKGkuY291bnQoKS0xKSxkPTAsZj1NYXRoLnJvdW5kKGkuY291bnQoKS9lWzBdKTtpLmVhY2goW3JdLChmdW5jdGlvbih0LGUpe2lmKGY+MCYmZSVmKWQrPXA7ZWxzZXt2YXIgbj1udWxsPT10fHxpc05hTih0KXx8XCJcIj09PXQsaT1uPzA6VWkodCxvLGwsITApO24mJiFzJiZlPyhoLnB1c2goW2hbaC5sZW5ndGgtMV1bMF0sMF0pLGMucHVzaChbY1tjLmxlbmd0aC0xXVswXSwwXSkpOiFuJiZzJiYoaC5wdXNoKFtkLDBdKSxjLnB1c2goW2QsMF0pKSxoLnB1c2goW2QsaV0pLGMucHVzaChbZCxpXSksZCs9cCxzPW59fSkpO2Zvcih2YXIgZz10aGlzLmRhdGFab29tTW9kZWwseT0wO3k8Mzt5Kyspe3ZhciB2PW0oMT09PXkpO3RoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cC5hZGQodiksdGhpcy5fZGlzcGxheWFibGVzLmRhdGFTaGFkb3dTZWdzLnB1c2godil9fX1mdW5jdGlvbiBtKHQpe3ZhciBlPWcuZ2V0TW9kZWwodD9cInNlbGVjdGVkRGF0YUJhY2tncm91bmRcIjpcImRhdGFCYWNrZ3JvdW5kXCIpLG49bmV3IHppLGk9bmV3IHFsKHtzaGFwZTp7cG9pbnRzOmh9LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzdHlsZTplLmdldE1vZGVsKFwiYXJlYVN0eWxlXCIpLmdldEFyZWFTdHlsZSgpLHNpbGVudDohMCx6MjotMjB9KSxyPW5ldyAkbCh7c2hhcGU6e3BvaW50czpjfSxzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc3R5bGU6ZS5nZXRNb2RlbChcImxpbmVTdHlsZVwiKS5nZXRMaW5lU3R5bGUoKSxzaWxlbnQ6ITAsejI6LTE5fSk7cmV0dXJuIG4uYWRkKGkpLG4uYWRkKHIpLG59fSxlLnByb3RvdHlwZS5fcHJlcGFyZURhdGFTaGFkb3dJbmZvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dC5nZXQoXCJzaG93RGF0YVNoYWRvd1wiKTtpZighMSE9PWUpe3ZhciBuLGk9dGhpcy5lY01vZGVsO3JldHVybiB0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbihyLG8pe1AodC5nZXRBeGlzUHJveHkocixvKS5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSwoZnVuY3Rpb24odCl7aWYoIShufHwhMCE9PWUmJkEocEIsdC5nZXQoXCJ0eXBlXCIpKTwwKSl7dmFyIGEscz1pLmdldENvbXBvbmVudChVUihyKSxvKS5heGlzLGw9e3g6XCJ5XCIseTpcInhcIixyYWRpdXM6XCJhbmdsZVwiLGFuZ2xlOlwicmFkaXVzXCJ9W3JdLHU9dC5jb29yZGluYXRlU3lzdGVtO251bGwhPWwmJnUuZ2V0T3RoZXJBeGlzJiYoYT11LmdldE90aGVyQXhpcyhzKS5pbnZlcnNlKSxsPXQuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbihsKSxuPXt0aGlzQXhpczpzLHNlcmllczp0LHRoaXNEaW06cixvdGhlckRpbTpsLG90aGVyQXhpc0ludmVyc2U6YX19fSksdGhpcyl9KSx0aGlzKSxufX0sZS5wcm90b3R5cGUuX3JlbmRlckhhbmRsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9kaXNwbGF5YWJsZXMsbj1lLmhhbmRsZXM9W251bGwsbnVsbF0saT1lLmhhbmRsZUxhYmVscz1bbnVsbCxudWxsXSxyPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cCxvPXRoaXMuX3NpemUsYT10aGlzLmRhdGFab29tTW9kZWwscz10aGlzLmFwaSxsPWEuZ2V0KFwiYm9yZGVyUmFkaXVzXCIpfHwwLHU9YS5nZXQoXCJicnVzaFNlbGVjdFwiKSxoPWUuZmlsbGVyPW5ldyB1Qih7c2lsZW50OnUsc3R5bGU6e2ZpbGw6YS5nZXQoXCJmaWxsZXJDb2xvclwiKX0sdGV4dENvbmZpZzp7cG9zaXRpb246XCJpbnNpZGVcIn19KTtyLmFkZChoKSxyLmFkZChuZXcgdUIoe3NpbGVudDohMCxzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOnt4OjAseTowLHdpZHRoOm9bMF0saGVpZ2h0Om9bMV0scjpsfSxzdHlsZTp7c3Ryb2tlOmEuZ2V0KFwiZGF0YUJhY2tncm91bmRDb2xvclwiKXx8YS5nZXQoXCJib3JkZXJDb2xvclwiKSxsaW5lV2lkdGg6MSxmaWxsOlwicmdiYSgwLDAsMCwwKVwifX0pKSxQKFswLDFdLChmdW5jdGlvbihlKXt2YXIgbz1hLmdldChcImhhbmRsZUljb25cIik7IWF5W29dJiZvLmluZGV4T2YoXCJwYXRoOi8vXCIpPDAmJihvPVwicGF0aDovL1wiK28pO3ZhciBzPXV5KG8sLTEsMCwyLDIsbnVsbCwhMCk7cy5hdHRyKHtjdXJzb3I6Z0IodGhpcy5fb3JpZW50KSxkcmFnZ2FibGU6ITAsZHJpZnQ6Qih0aGlzLl9vbkRyYWdNb3ZlLHRoaXMsZSksb25kcmFnZW5kOkIodGhpcy5fb25EcmFnRW5kLHRoaXMpLG9ubW91c2VvdmVyOkIodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6Qih0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMSksejI6NX0pO3ZhciBsPXMuZ2V0Qm91bmRpbmdSZWN0KCksdT1hLmdldChcImhhbmRsZVNpemVcIik7dGhpcy5faGFuZGxlSGVpZ2h0PVppKHUsdGhpcy5fc2l6ZVsxXSksdGhpcy5faGFuZGxlV2lkdGg9bC53aWR0aC9sLmhlaWdodCp0aGlzLl9oYW5kbGVIZWlnaHQscy5zZXRTdHlsZShhLmdldE1vZGVsKFwiaGFuZGxlU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCkpLHMuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxzLnJlY3RIb3Zlcj0hMCxzLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGU9YS5nZXRNb2RlbChbXCJlbXBoYXNpc1wiLFwiaGFuZGxlU3R5bGVcIl0pLmdldEl0ZW1TdHlsZSgpLEpzKHMpO3ZhciBoPWEuZ2V0KFwiaGFuZGxlQ29sb3JcIik7bnVsbCE9aCYmKHMuc3R5bGUuZmlsbD1oKSxyLmFkZChuW2VdPXMpO3ZhciBjPWEuZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIik7dC5hZGQoaVtlXT1uZXcgbHMoe3NpbGVudDohMCxpbnZpc2libGU6ITAsc3R5bGU6e3g6MCx5OjAsdGV4dDpcIlwiLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIixhbGlnbjpcImNlbnRlclwiLGZpbGw6Yy5nZXRUZXh0Q29sb3IoKSxmb250OmMuZ2V0Rm9udCgpfSx6MjoxMH0pKX0pLHRoaXMpO3ZhciBjPWg7aWYodSl7dmFyIHA9WmkoYS5nZXQoXCJtb3ZlSGFuZGxlU2l6ZVwiKSxvWzFdKSxkPWUubW92ZUhhbmRsZT1uZXcgb3Moe3N0eWxlOmEuZ2V0TW9kZWwoXCJtb3ZlSGFuZGxlU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCksc2lsZW50OiEwLHNoYXBlOntyOlswLDAsMiwyXSx5Om9bMV0tLjUsaGVpZ2h0OnB9fSksZj0uOCpwLGc9ZS5tb3ZlSGFuZGxlSWNvbj11eShhLmdldChcIm1vdmVIYW5kbGVJY29uXCIpLC1mLzIsLWYvMixmLGYsXCIjZmZmXCIsITApO2cuc2lsZW50PSEwLGcueT1vWzFdK3AvMi0uNSxkLmVuc3VyZVN0YXRlKFwiZW1waGFzaXNcIikuc3R5bGU9YS5nZXRNb2RlbChbXCJlbXBoYXNpc1wiLFwibW92ZUhhbmRsZVN0eWxlXCJdKS5nZXRJdGVtU3R5bGUoKTt2YXIgeT1NYXRoLm1pbihvWzFdLzIsTWF0aC5tYXgocCwxMCkpOyhjPWUubW92ZVpvbmU9bmV3IG9zKHtpbnZpc2libGU6ITAsc2hhcGU6e3k6b1sxXS15LGhlaWdodDpwK3l9fSkpLm9uKFwibW91c2VvdmVyXCIsKGZ1bmN0aW9uKCl7cy5lbnRlckVtcGhhc2lzKGQpfSkpLm9uKFwibW91c2VvdXRcIiwoZnVuY3Rpb24oKXtzLmxlYXZlRW1waGFzaXMoZCl9KSksci5hZGQoZCksci5hZGQoZyksci5hZGQoYyl9Yy5hdHRyKHtkcmFnZ2FibGU6ITAsY3Vyc29yOmdCKHRoaXMuX29yaWVudCksZHJpZnQ6Qih0aGlzLl9vbkRyYWdNb3ZlLHRoaXMsXCJhbGxcIiksb25kcmFnc3RhcnQ6Qih0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMCksb25kcmFnZW5kOkIodGhpcy5fb25EcmFnRW5kLHRoaXMpLG9ubW91c2VvdmVyOkIodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6Qih0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMSl9KX0sZS5wcm90b3R5cGUuX3Jlc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYW5nZT10aGlzLmRhdGFab29tTW9kZWwuZ2V0UGVyY2VudFJhbmdlKCksZT10aGlzLl9nZXRWaWV3RXh0ZW50KCk7dGhpcy5faGFuZGxlRW5kcz1bVWkodFswXSxbMCwxMDBdLGUsITApLFVpKHRbMV0sWzAsMTAwXSxlLCEwKV19LGUucHJvdG90eXBlLl91cGRhdGVJbnRlcnZhbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YVpvb21Nb2RlbCxpPXRoaXMuX2hhbmRsZUVuZHMscj10aGlzLl9nZXRWaWV3RXh0ZW50KCksbz1uLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKSxhPVswLDEwMF07dEEoZSxpLHIsbi5nZXQoXCJ6b29tTG9ja1wiKT9cImFsbFwiOnQsbnVsbCE9by5taW5TcGFuP1VpKG8ubWluU3BhbixhLHIsITApOm51bGwsbnVsbCE9by5tYXhTcGFuP1VpKG8ubWF4U3BhbixhLHIsITApOm51bGwpO3ZhciBzPXRoaXMuX3JhbmdlLGw9dGhpcy5fcmFuZ2U9cWkoW1VpKGlbMF0scixhLCEwKSxVaShpWzFdLHIsYSwhMCldKTtyZXR1cm4hc3x8c1swXSE9PWxbMF18fHNbMV0hPT1sWzFdfSxlLnByb3RvdHlwZS5fdXBkYXRlVmlldz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMsbj10aGlzLl9oYW5kbGVFbmRzLGk9cWkobi5zbGljZSgpKSxyPXRoaXMuX3NpemU7UChbMCwxXSwoZnVuY3Rpb24odCl7dmFyIGk9ZS5oYW5kbGVzW3RdLG89dGhpcy5faGFuZGxlSGVpZ2h0O2kuYXR0cih7c2NhbGVYOm8vMixzY2FsZVk6by8yLHg6blt0XSsodD8tMToxKSx5OnJbMV0vMi1vLzJ9KX0pLHRoaXMpLGUuZmlsbGVyLnNldFNoYXBlKHt4OmlbMF0seTowLHdpZHRoOmlbMV0taVswXSxoZWlnaHQ6clsxXX0pO3ZhciBvPXt4OmlbMF0sd2lkdGg6aVsxXS1pWzBdfTtlLm1vdmVIYW5kbGUmJihlLm1vdmVIYW5kbGUuc2V0U2hhcGUobyksZS5tb3ZlWm9uZS5zZXRTaGFwZShvKSxlLm1vdmVab25lLmdldEJvdW5kaW5nUmVjdCgpLGUubW92ZUhhbmRsZUljb24mJmUubW92ZUhhbmRsZUljb24uYXR0cihcInhcIixvLngrby53aWR0aC8yKSk7Zm9yKHZhciBhPWUuZGF0YVNoYWRvd1NlZ3Mscz1bMCxpWzBdLGlbMV0sclswXV0sbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgdT1hW2xdLGg9dS5nZXRDbGlwUGF0aCgpO2h8fChoPW5ldyBvcyx1LnNldENsaXBQYXRoKGgpKSxoLnNldFNoYXBlKHt4OnNbbF0seTowLHdpZHRoOnNbbCsxXS1zW2xdLGhlaWdodDpyWzFdfSl9dGhpcy5fdXBkYXRlRGF0YUluZm8odCl9LGUucHJvdG90eXBlLl91cGRhdGVEYXRhSW5mbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGFab29tTW9kZWwsbj10aGlzLl9kaXNwbGF5YWJsZXMsaT1uLmhhbmRsZUxhYmVscyxyPXRoaXMuX29yaWVudCxvPVtcIlwiLFwiXCJdO2lmKGUuZ2V0KFwic2hvd0RldGFpbFwiKSl7dmFyIGE9ZS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtpZihhKXt2YXIgcz1hLmdldEF4aXNNb2RlbCgpLmF4aXMsbD10aGlzLl9yYW5nZSx1PXQ/YS5jYWxjdWxhdGVEYXRhV2luZG93KHtzdGFydDpsWzBdLGVuZDpsWzFdfSkudmFsdWVXaW5kb3c6YS5nZXREYXRhVmFsdWVXaW5kb3coKTtvPVt0aGlzLl9mb3JtYXRMYWJlbCh1WzBdLHMpLHRoaXMuX2Zvcm1hdExhYmVsKHVbMV0scyldfX12YXIgaD1xaSh0aGlzLl9oYW5kbGVFbmRzLnNsaWNlKCkpO2Z1bmN0aW9uIGModCl7dmFyIGU9VnUobi5oYW5kbGVzW3RdLnBhcmVudCx0aGlzLmdyb3VwKSxhPUd1KDA9PT10P1wicmlnaHRcIjpcImxlZnRcIixlKSxzPXRoaXMuX2hhbmRsZVdpZHRoLzIrNSxsPUZ1KFtoW3RdKygwPT09dD8tczpzKSx0aGlzLl9zaXplWzFdLzJdLGUpO2lbdF0uc2V0U3R5bGUoe3g6bFswXSx5OmxbMV0sdmVydGljYWxBbGlnbjpyPT09aEI/XCJtaWRkbGVcIjphLGFsaWduOnI9PT1oQj9hOlwiY2VudGVyXCIsdGV4dDpvW3RdfSl9Yy5jYWxsKHRoaXMsMCksYy5jYWxsKHRoaXMsMSl9LGUucHJvdG90eXBlLl9mb3JtYXRMYWJlbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YVpvb21Nb2RlbCxpPW4uZ2V0KFwibGFiZWxGb3JtYXR0ZXJcIikscj1uLmdldChcImxhYmVsUHJlY2lzaW9uXCIpO251bGwhPXImJlwiYXV0b1wiIT09cnx8KHI9ZS5nZXRQaXhlbFByZWNpc2lvbigpKTt2YXIgbz1udWxsPT10fHxpc05hTih0KT9cIlwiOlwiY2F0ZWdvcnlcIj09PWUudHlwZXx8XCJ0aW1lXCI9PT1lLnR5cGU/ZS5zY2FsZS5nZXRMYWJlbCh7dmFsdWU6TWF0aC5yb3VuZCh0KX0pOnQudG9GaXhlZChNYXRoLm1pbihyLDIwKSk7cmV0dXJuIEcoaSk/aSh0LG8pOkgoaSk/aS5yZXBsYWNlKFwie3ZhbHVlfVwiLG8pOm99LGUucHJvdG90eXBlLl9zaG93RGF0YUluZm89ZnVuY3Rpb24odCl7dD10aGlzLl9kcmFnZ2luZ3x8dDt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMsbj1lLmhhbmRsZUxhYmVscztuWzBdLmF0dHIoXCJpbnZpc2libGVcIiwhdCksblsxXS5hdHRyKFwiaW52aXNpYmxlXCIsIXQpLGUubW92ZUhhbmRsZSYmdGhpcy5hcGlbdD9cImVudGVyRW1waGFzaXNcIjpcImxlYXZlRW1waGFzaXNcIl0oZS5tb3ZlSGFuZGxlLDEpfSxlLnByb3RvdHlwZS5fb25EcmFnTW92ZT1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9kcmFnZ2luZz0hMCxlZShpLmV2ZW50KTt2YXIgcj1GdShbZSxuXSx0aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAuZ2V0TG9jYWxUcmFuc2Zvcm0oKSwhMCksbz10aGlzLl91cGRhdGVJbnRlcnZhbCh0LHJbMF0pLGE9dGhpcy5kYXRhWm9vbU1vZGVsLmdldChcInJlYWx0aW1lXCIpO3RoaXMuX3VwZGF0ZVZpZXcoIWEpLG8mJmEmJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbighMCl9LGUucHJvdG90eXBlLl9vbkRyYWdFbmQ9ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl9zaG93RGF0YUluZm8oITEpLCF0aGlzLmRhdGFab29tTW9kZWwuZ2V0KFwicmVhbHRpbWVcIikmJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbighMSl9LGUucHJvdG90eXBlLl9vbkNsaWNrUGFuZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2l6ZSxuPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoIShuWzBdPDB8fG5bMF0+ZVswXXx8blsxXTwwfHxuWzFdPmVbMV0pKXt2YXIgaT10aGlzLl9oYW5kbGVFbmRzLHI9KGlbMF0raVsxXSkvMixvPXRoaXMuX3VwZGF0ZUludGVydmFsKFwiYWxsXCIsblswXS1yKTt0aGlzLl91cGRhdGVWaWV3KCksbyYmdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCExKX19LGUucHJvdG90eXBlLl9vbkJydXNoU3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5vZmZzZXRYLG49dC5vZmZzZXRZO3RoaXMuX2JydXNoU3RhcnQ9bmV3IEluKGUsbiksdGhpcy5fYnJ1c2hpbmc9ITAsdGhpcy5fYnJ1c2hTdGFydFRpbWU9K25ldyBEYXRlfSxlLnByb3RvdHlwZS5fb25CcnVzaEVuZD1mdW5jdGlvbih0KXtpZih0aGlzLl9icnVzaGluZyl7dmFyIGU9dGhpcy5fZGlzcGxheWFibGVzLmJydXNoUmVjdDtpZih0aGlzLl9icnVzaGluZz0hMSxlKXtlLmF0dHIoXCJpZ25vcmVcIiwhMCk7dmFyIG49ZS5zaGFwZTtpZighKCtuZXcgRGF0ZS10aGlzLl9icnVzaFN0YXJ0VGltZTwyMDAmJk1hdGguYWJzKG4ud2lkdGgpPDUpKXt2YXIgaT10aGlzLl9nZXRWaWV3RXh0ZW50KCkscj1bMCwxMDBdO3RoaXMuX3JhbmdlPXFpKFtVaShuLngsaSxyLCEwKSxVaShuLngrbi53aWR0aCxpLHIsITApXSksdGhpcy5faGFuZGxlRW5kcz1bbi54LG4ueCtuLndpZHRoXSx0aGlzLl91cGRhdGVWaWV3KCksdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCExKX19fX0sZS5wcm90b3R5cGUuX29uQnJ1c2g9ZnVuY3Rpb24odCl7dGhpcy5fYnJ1c2hpbmcmJihlZSh0LmV2ZW50KSx0aGlzLl91cGRhdGVCcnVzaFJlY3QodC5vZmZzZXRYLHQub2Zmc2V0WSkpfSxlLnByb3RvdHlwZS5fdXBkYXRlQnJ1c2hSZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZGlzcGxheWFibGVzLGk9dGhpcy5kYXRhWm9vbU1vZGVsLHI9bi5icnVzaFJlY3Q7cnx8KHI9bi5icnVzaFJlY3Q9bmV3IHVCKHtzaWxlbnQ6ITAsc3R5bGU6aS5nZXRNb2RlbChcImJydXNoU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCl9KSxuLnNsaWRlckdyb3VwLmFkZChyKSksci5hdHRyKFwiaWdub3JlXCIsITEpO3ZhciBvPXRoaXMuX2JydXNoU3RhcnQsYT10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAscz1hLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0LGUpLGw9YS50cmFuc2Zvcm1Db29yZFRvTG9jYWwoby54LG8ueSksdT10aGlzLl9zaXplO3NbMF09TWF0aC5tYXgoTWF0aC5taW4odVswXSxzWzBdKSwwKSxyLnNldFNoYXBlKHt4OmxbMF0seTowLHdpZHRoOnNbMF0tbFswXSxoZWlnaHQ6dVsxXX0pfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hab29tQWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3JhbmdlO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiZGF0YVpvb21cIixmcm9tOnRoaXMudWlkLGRhdGFab29tSWQ6dGhpcy5kYXRhWm9vbU1vZGVsLmlkLGFuaW1hdGlvbjp0P2RCOm51bGwsc3RhcnQ6ZVswXSxlbmQ6ZVsxXX0pfSxlLnByb3RvdHlwZS5fZmluZENvb3JkUmVjdD1mdW5jdGlvbigpe3ZhciB0LGU9alIodGhpcy5kYXRhWm9vbU1vZGVsKS5pbmZvTGlzdDtpZighdCYmZS5sZW5ndGgpe3ZhciBuPWVbMF0ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbTt0PW4uZ2V0UmVjdCYmbi5nZXRSZWN0KCl9aWYoIXQpe3ZhciBpPXRoaXMuYXBpLmdldFdpZHRoKCkscj10aGlzLmFwaS5nZXRIZWlnaHQoKTt0PXt4Oi4yKmkseTouMipyLHdpZHRoOi42KmksaGVpZ2h0Oi42KnJ9fXJldHVybiB0fSxlLnR5cGU9XCJkYXRhWm9vbS5zbGlkZXJcIixlfShRUik7ZnVuY3Rpb24gZ0IodCl7cmV0dXJuXCJ2ZXJ0aWNhbFwiPT09dD9cIm5zLXJlc2l6ZVwiOlwiZXctcmVzaXplXCJ9ZnVuY3Rpb24geUIodCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGxCKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhmQiksYU4odCl9dmFyIHZCPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT13KChtQlt0XXx8e30pW2VdKTtyZXR1cm4gbiYmRihpKT9pW2kubGVuZ3RoLTFdOml9LG1CPXtjb2xvcjp7YWN0aXZlOltcIiMwMDZlZGRcIixcIiNlMGZmZmZcIl0saW5hY3RpdmU6W1wicmdiYSgwLDAsMCwwKVwiXX0sY29sb3JIdWU6e2FjdGl2ZTpbMCwzNjBdLGluYWN0aXZlOlswLDBdfSxjb2xvclNhdHVyYXRpb246e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LGNvbG9yTGlnaHRuZXNzOnthY3RpdmU6Wy45LC41XSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JBbHBoYTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sb3BhY2l0eTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sc3ltYm9sOnthY3RpdmU6W1wiY2lyY2xlXCIsXCJyb3VuZFJlY3RcIixcImRpYW1vbmRcIl0saW5hY3RpdmU6W1wibm9uZVwiXX0sc3ltYm9sU2l6ZTp7YWN0aXZlOlsxMCw1MF0saW5hY3RpdmU6WzAsMF19fSxfQj1qSS5tYXBWaXN1YWwseEI9akkuZWFjaFZpc3VhbCxiQj1GLHdCPVAsU0I9cWksTUI9VWksSUI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnN0YXRlTGlzdD1bXCJpblJhbmdlXCIsXCJvdXRPZlJhbmdlXCJdLG4ucmVwbGFjYWJsZU9wdGlvbktleXM9W1wiaW5SYW5nZVwiLFwib3V0T2ZSYW5nZVwiLFwidGFyZ2V0XCIsXCJjb250cm9sbGVyXCIsXCJjb2xvclwiXSxuLmxheW91dE1vZGU9e3R5cGU6XCJib3hcIixpZ25vcmVTaXplOiEwfSxuLmRhdGFCb3VuZD1bLTEvMCwxLzBdLG4udGFyZ2V0VmlzdWFscz17fSxuLmNvbnRyb2xsZXJWaXN1YWxzPXt9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbil9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbjthLmNhbnZhc1N1cHBvcnRlZHx8KG4ucmVhbHRpbWU9ITEpLCFlJiZ4RShuLHQsdGhpcy5yZXBsYWNhYmxlT3B0aW9uS2V5cyksdGhpcy50ZXh0U3R5bGVNb2RlbD10aGlzLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLHRoaXMucmVzZXRJdGVtU2l6ZSgpLHRoaXMuY29tcGxldGVWaXN1YWxPcHRpb24oKX0sZS5wcm90b3R5cGUucmVzZXRWaXN1YWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZUxpc3Q7dD1CKHQsdGhpcyksdGhpcy5jb250cm9sbGVyVmlzdWFscz1fRSh0aGlzLm9wdGlvbi5jb250cm9sbGVyLGUsdCksdGhpcy50YXJnZXRWaXN1YWxzPV9FKHRoaXMub3B0aW9uLnRhcmdldCxlLHQpfSxlLnByb3RvdHlwZS5nZXRUYXJnZXRTZXJpZXNJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24uc2VyaWVzSW5kZXgsZT1bXTtyZXR1cm4gbnVsbD09dHx8XCJhbGxcIj09PXQ/dGhpcy5lY01vZGVsLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKG4pfSkpOmU9X3IodCksZX0sZS5wcm90b3R5cGUuZWFjaFRhcmdldFNlcmllcz1mdW5jdGlvbih0LGUpe1AodGhpcy5nZXRUYXJnZXRTZXJpZXNJbmRpY2VzKCksKGZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuZWNNb2RlbC5nZXRTZXJpZXNCeUluZGV4KG4pO2kmJnQuY2FsbChlLGkpfSksdGhpcyl9LGUucHJvdG90eXBlLmlzVGFyZ2V0U2VyaWVzPWZ1bmN0aW9uKHQpe3ZhciBlPSExO3JldHVybiB0aGlzLmVhY2hUYXJnZXRTZXJpZXMoKGZ1bmN0aW9uKG4pe249PT10JiYoZT0hMCl9KSksZX0sZS5wcm90b3R5cGUuZm9ybWF0VmFsdWVUZXh0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyPXRoaXMub3B0aW9uLG89ci5wcmVjaXNpb24sYT10aGlzLmRhdGFCb3VuZCxzPXIuZm9ybWF0dGVyO249bnx8W1wiPFwiLFwiPlwiXSxGKHQpJiYodD10LnNsaWNlKCksaT0hMCk7dmFyIGw9ZT90Omk/W3UodFswXSksdSh0WzFdKV06dSh0KTtyZXR1cm4gSChzKT9zLnJlcGxhY2UoXCJ7dmFsdWV9XCIsaT9sWzBdOmwpLnJlcGxhY2UoXCJ7dmFsdWUyfVwiLGk/bFsxXTpsKTpHKHMpP2k/cyh0WzBdLHRbMV0pOnModCk6aT90WzBdPT09YVswXT9uWzBdK1wiIFwiK2xbMV06dFsxXT09PWFbMV0/blsxXStcIiBcIitsWzBdOmxbMF0rXCIgLSBcIitsWzFdOmw7ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdD09PWFbMF0/XCJtaW5cIjp0PT09YVsxXT9cIm1heFwiOigrdCkudG9GaXhlZChNYXRoLm1pbihvLDIwKSl9fSxlLnByb3RvdHlwZS5yZXNldEV4dGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9U0IoW3QubWluLHQubWF4XSk7dGhpcy5fZGF0YUV4dGVudD1lfSxlLnByb3RvdHlwZS5nZXREYXRhRGltZW5zaW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmRpbWVuc2lvbixuPXQuZGltZW5zaW9ucztpZihudWxsIT1lfHxuLmxlbmd0aCl7aWYobnVsbCE9ZSlyZXR1cm4gdC5nZXREaW1lbnNpb24oZSk7Zm9yKHZhciBpPXQuZGltZW5zaW9ucyxyPWkubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBvPWlbcl07aWYoIXQuZ2V0RGltZW5zaW9uSW5mbyhvKS5pc0NhbGN1bGF0aW9uQ29vcmQpcmV0dXJuIG99fX0sZS5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFFeHRlbnQuc2xpY2UoKX0sZS5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVjTW9kZWwsZT10aGlzLm9wdGlvbixuPXtpblJhbmdlOmUuaW5SYW5nZSxvdXRPZlJhbmdlOmUub3V0T2ZSYW5nZX0saT1lLnRhcmdldHx8KGUudGFyZ2V0PXt9KSxyPWUuY29udHJvbGxlcnx8KGUuY29udHJvbGxlcj17fSk7UyhpLG4pLFMocixuKTt2YXIgbz10aGlzLmlzQ2F0ZWdvcnkoKTtmdW5jdGlvbiBhKG4pe2JCKGUuY29sb3IpJiYhbi5pblJhbmdlJiYobi5pblJhbmdlPXtjb2xvcjplLmNvbG9yLnNsaWNlKCkucmV2ZXJzZSgpfSksbi5pblJhbmdlPW4uaW5SYW5nZXx8e2NvbG9yOnQuZ2V0KFwiZ3JhZGllbnRDb2xvclwiKX19YS5jYWxsKHRoaXMsaSksYS5jYWxsKHRoaXMsciksZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRbZV0scj10W25dO2kmJiFyJiYocj10W25dPXt9LHdCKGksKGZ1bmN0aW9uKHQsZSl7aWYoakkuaXNWYWxpZFR5cGUoZSkpe3ZhciBuPXZCKGUsXCJpbmFjdGl2ZVwiLG8pO251bGwhPW4mJihyW2VdPW4sXCJjb2xvclwiIT09ZXx8ci5oYXNPd25Qcm9wZXJ0eShcIm9wYWNpdHlcIil8fHIuaGFzT3duUHJvcGVydHkoXCJjb2xvckFscGhhXCIpfHwoci5vcGFjaXR5PVswLDBdKSl9fSkpKX0uY2FsbCh0aGlzLGksXCJpblJhbmdlXCIsXCJvdXRPZlJhbmdlXCIpLGZ1bmN0aW9uKHQpe3ZhciBlPSh0LmluUmFuZ2V8fHt9KS5zeW1ib2x8fCh0Lm91dE9mUmFuZ2V8fHt9KS5zeW1ib2wsbj0odC5pblJhbmdlfHx7fSkuc3ltYm9sU2l6ZXx8KHQub3V0T2ZSYW5nZXx8e30pLnN5bWJvbFNpemUsaT10aGlzLmdldChcImluYWN0aXZlQ29sb3JcIik7d0IodGhpcy5zdGF0ZUxpc3QsKGZ1bmN0aW9uKHIpe3ZhciBhPXRoaXMuaXRlbVNpemUscz10W3JdO3N8fChzPXRbcl09e2NvbG9yOm8/aTpbaV19KSxudWxsPT1zLnN5bWJvbCYmKHMuc3ltYm9sPWUmJncoZSl8fChvP1wicm91bmRSZWN0XCI6W1wicm91bmRSZWN0XCJdKSksbnVsbD09cy5zeW1ib2xTaXplJiYocy5zeW1ib2xTaXplPW4mJncobil8fChvP2FbMF06W2FbMF0sYVswXV0pKSxzLnN5bWJvbD1fQihzLnN5bWJvbCwoZnVuY3Rpb24odCl7cmV0dXJuXCJub25lXCI9PT10fHxcInNxdWFyZVwiPT09dD9cInJvdW5kUmVjdFwiOnR9KSk7dmFyIGw9cy5zeW1ib2xTaXplO2lmKG51bGwhPWwpe3ZhciB1PS0xLzA7eEIobCwoZnVuY3Rpb24odCl7dD51JiYodT10KX0pKSxzLnN5bWJvbFNpemU9X0IobCwoZnVuY3Rpb24odCl7cmV0dXJuIE1CKHQsWzAsdV0sWzAsYVswXV0sITApfSkpfX0pLHRoaXMpfS5jYWxsKHRoaXMscil9LGUucHJvdG90eXBlLnJlc2V0SXRlbVNpemU9ZnVuY3Rpb24oKXt0aGlzLml0ZW1TaXplPVtwYXJzZUZsb2F0KHRoaXMuZ2V0KFwiaXRlbVdpZHRoXCIpKSxwYXJzZUZsb2F0KHRoaXMuZ2V0KFwiaXRlbUhlaWdodFwiKSldfSxlLnByb3RvdHlwZS5pc0NhdGVnb3J5PWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLmdldFNlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFZhbHVlU3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFZpc3VhbE1ldGE9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGUudHlwZT1cInZpc3VhbE1hcFwiLGUuZGVwZW5kZW5jaWVzPVtcInNlcmllc1wiXSxlLmRlZmF1bHRPcHRpb249e3Nob3c6ITAsemxldmVsOjAsejo0LHNlcmllc0luZGV4OlwiYWxsXCIsbWluOjAsbWF4OjIwMCxsZWZ0OjAscmlnaHQ6bnVsbCx0b3A6bnVsbCxib3R0b206MCxpdGVtV2lkdGg6bnVsbCxpdGVtSGVpZ2h0Om51bGwsaW52ZXJzZTohMSxvcmllbnQ6XCJ2ZXJ0aWNhbFwiLGJhY2tncm91bmRDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJDb2xvcjpcIiNjY2NcIixjb250ZW50Q29sb3I6XCIjNTc5M2YzXCIsaW5hY3RpdmVDb2xvcjpcIiNhYWFcIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSx0ZXh0R2FwOjEwLHByZWNpc2lvbjowLHRleHRTdHlsZTp7Y29sb3I6XCIjMzMzXCJ9fSxlfShOYyksVEI9WzIwLDE0MF0sQ0I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucmVzZXRFeHRlbnQoKSx0aGlzLnJlc2V0VmlzdWFsKChmdW5jdGlvbih0KXt0Lm1hcHBpbmdNZXRob2Q9XCJsaW5lYXJcIix0LmRhdGFFeHRlbnQ9dGhpcy5nZXRFeHRlbnQoKX0pKSx0aGlzLl9yZXNldFJhbmdlKCl9LGUucHJvdG90eXBlLnJlc2V0SXRlbVNpemU9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5yZXNldEl0ZW1TaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLml0ZW1TaXplOyhudWxsPT1lWzBdfHxpc05hTihlWzBdKSkmJihlWzBdPVRCWzBdKSwobnVsbD09ZVsxXXx8aXNOYU4oZVsxXSkpJiYoZVsxXT1UQlsxXSl9LGUucHJvdG90eXBlLl9yZXNldFJhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRlbnQoKSxlPXRoaXMub3B0aW9uLnJhbmdlOyFlfHxlLmF1dG8/KHQuYXV0bz0xLHRoaXMub3B0aW9uLnJhbmdlPXQpOkYoZSkmJihlWzBdPmVbMV0mJmUucmV2ZXJzZSgpLGVbMF09TWF0aC5tYXgoZVswXSx0WzBdKSxlWzFdPU1hdGgubWluKGVbMV0sdFsxXSkpfSxlLnByb3RvdHlwZS5jb21wbGV0ZVZpc3VhbE9wdGlvbj1mdW5jdGlvbigpe3QucHJvdG90eXBlLmNvbXBsZXRlVmlzdWFsT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxQKHRoaXMuc3RhdGVMaXN0LChmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5jb250cm9sbGVyW3RdLnN5bWJvbFNpemU7ZSYmZVswXSE9PWVbMV0mJihlWzBdPWVbMV0vMyl9KSx0aGlzKX0sZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24ucmFuZ2U9dC5zbGljZSgpLHRoaXMuX3Jlc2V0UmFuZ2UoKX0sZS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dGVudCgpLGU9cWkoKHRoaXMuZ2V0KFwicmFuZ2VcIil8fFtdKS5zbGljZSgpKTtyZXR1cm4gZVswXT50WzFdJiYoZVswXT10WzFdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMF08dFswXSYmKGVbMF09dFswXSksZVsxXTx0WzBdJiYoZVsxXT10WzBdKSxlfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnJhbmdlLG49dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4oZVswXTw9blswXXx8ZVswXTw9dCkmJihlWzFdPj1uWzFdfHx0PD1lWzFdKT9cImluUmFuZ2VcIjpcIm91dE9mUmFuZ2VcIn0sZS5wcm90b3R5cGUuZmluZFRhcmdldERhdGFJbmRpY2VzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0aGlzLmVhY2hUYXJnZXRTZXJpZXMoKGZ1bmN0aW9uKG4pe3ZhciBpPVtdLHI9bi5nZXREYXRhKCk7ci5lYWNoKHRoaXMuZ2V0RGF0YURpbWVuc2lvbihyKSwoZnVuY3Rpb24oZSxuKXt0WzBdPD1lJiZlPD10WzFdJiZpLnB1c2gobil9KSx0aGlzKSxlLnB1c2goe3Nlcmllc0lkOm4uaWQsZGF0YUluZGV4Oml9KX0pLHRoaXMpLGV9LGUucHJvdG90eXBlLmdldFZpc3VhbE1ldGE9ZnVuY3Rpb24odCl7dmFyIGU9QUIodGhpcyxcIm91dE9mUmFuZ2VcIix0aGlzLmdldEV4dGVudCgpKSxuPUFCKHRoaXMsXCJpblJhbmdlXCIsdGhpcy5vcHRpb24ucmFuZ2Uuc2xpY2UoKSksaT1bXTtmdW5jdGlvbiByKGUsbil7aS5wdXNoKHt2YWx1ZTplLGNvbG9yOnQoZSxuKX0pfWZvcih2YXIgbz0wLGE9MCxzPW4ubGVuZ3RoLGw9ZS5sZW5ndGg7YTxsJiYoIW4ubGVuZ3RofHxlW2FdPD1uWzBdKTthKyspZVthXTxuW29dJiZyKGVbYV0sXCJvdXRPZlJhbmdlXCIpO2Zvcih2YXIgdT0xO288cztvKyssdT0wKXUmJmkubGVuZ3RoJiZyKG5bb10sXCJvdXRPZlJhbmdlXCIpLHIobltvXSxcImluUmFuZ2VcIik7Zm9yKHU9MTthPGw7YSsrKSghbi5sZW5ndGh8fG5bbi5sZW5ndGgtMV08ZVthXSkmJih1JiYoaS5sZW5ndGgmJnIoaVtpLmxlbmd0aC0xXS52YWx1ZSxcIm91dE9mUmFuZ2VcIiksdT0wKSxyKGVbYV0sXCJvdXRPZlJhbmdlXCIpKTt2YXIgaD1pLmxlbmd0aDtyZXR1cm57c3RvcHM6aSxvdXRlckNvbG9yczpbaD9pWzBdLmNvbG9yOlwidHJhbnNwYXJlbnRcIixoP2lbaC0xXS5jb2xvcjpcInRyYW5zcGFyZW50XCJdfX0sZS50eXBlPVwidmlzdWFsTWFwLmNvbnRpbnVvdXNcIixlLmRlZmF1bHRPcHRpb249VGgoSUIuZGVmYXVsdE9wdGlvbix7YWxpZ246XCJhdXRvXCIsY2FsY3VsYWJsZTohMSxob3Zlckxpbms6ITAscmVhbHRpbWU6ITAsaGFuZGxlSWNvbjpcInBhdGg6Ly9NLTExLjM5LDkuNzdoMGEzLjUsMy41LDAsMCwxLTMuNSwzLjVoLTIyYTMuNSwzLjUsMCwwLDEtMy41LTMuNWgwYTMuNSwzLjUsMCwwLDEsMy41LTMuNWgyMkEzLjUsMy41LDAsMCwxLTExLjM5LDkuNzdaXCIsaGFuZGxlU2l6ZTpcIjEyMCVcIixoYW5kbGVTdHlsZTp7Ym9yZGVyQ29sb3I6XCIjZmZmXCIsYm9yZGVyV2lkdGg6MX0saW5kaWNhdG9ySWNvbjpcImNpcmNsZVwiLGluZGljYXRvclNpemU6XCI1MCVcIixpbmRpY2F0b3JTdHlsZTp7Ym9yZGVyQ29sb3I6XCIjZmZmXCIsYm9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjIsc2hhZG93T2Zmc2V0WDoxLHNoYWRvd09mZnNldFk6MSxzaGFkb3dDb2xvcjpcInJnYmEoMCwwLDAsMC4yKVwifX0pLGV9KElCKTtmdW5jdGlvbiBBQih0LGUsbil7aWYoblswXT09PW5bMV0pcmV0dXJuIG4uc2xpY2UoKTtmb3IodmFyIGk9KG5bMV0tblswXSkvMjAwLHI9blswXSxvPVtdLGE9MDthPD0yMDAmJnI8blsxXTthKyspby5wdXNoKHIpLHIrPWk7cmV0dXJuIG8ucHVzaChuWzFdKSxvfXZhciBEQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uYXV0b1Bvc2l0aW9uVmFsdWVzPXtsZWZ0OjEscmlnaHQ6MSx0b3A6MSxib3R0b206MX0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmVjTW9kZWw9dCx0aGlzLmFwaT1lfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy52aXN1YWxNYXBNb2RlbD10LCExIT09dC5nZXQoXCJzaG93XCIpP3RoaXMuZG9SZW5kZXIodCxlLG4saSk6dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUucmVuZGVyQmFja2dyb3VuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49cGMoZS5nZXQoXCJwYWRkaW5nXCIpfHwwKSxpPXQuZ2V0Qm91bmRpbmdSZWN0KCk7dC5hZGQobmV3IG9zKHt6MjotMSxzaWxlbnQ6ITAsc2hhcGU6e3g6aS54LW5bM10seTppLnktblswXSx3aWR0aDppLndpZHRoK25bM10rblsxXSxoZWlnaHQ6aS5oZWlnaHQrblswXStuWzJdfSxzdHlsZTp7ZmlsbDplLmdldChcImJhY2tncm91bmRDb2xvclwiKSxzdHJva2U6ZS5nZXQoXCJib3JkZXJDb2xvclwiKSxsaW5lV2lkdGg6ZS5nZXQoXCJib3JkZXJXaWR0aFwiKX19KSl9LGUucHJvdG90eXBlLmdldENvbnRyb2xsZXJWaXN1YWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPShuPW58fHt9KS5mb3JjZVN0YXRlLHI9dGhpcy52aXN1YWxNYXBNb2RlbCxvPXt9O2lmKFwic3ltYm9sXCI9PT1lJiYoby5zeW1ib2w9ci5nZXQoXCJpdGVtU3ltYm9sXCIpKSxcImNvbG9yXCI9PT1lKXt2YXIgYT1yLmdldChcImNvbnRlbnRDb2xvclwiKTtvLmNvbG9yPWF9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gb1t0XX1mdW5jdGlvbiBsKHQsZSl7b1t0XT1lfXZhciB1PXIuY29udHJvbGxlclZpc3VhbHNbaXx8ci5nZXRWYWx1ZVN0YXRlKHQpXTtyZXR1cm4gUChqSS5wcmVwYXJlVmlzdWFsVHlwZXModSksKGZ1bmN0aW9uKGkpe3ZhciByPXVbaV07bi5jb252ZXJ0T3BhY2l0eVRvQWxwaGEmJlwib3BhY2l0eVwiPT09aSYmKGk9XCJjb2xvckFscGhhXCIscj11Ll9fYWxwaGFGb3JPcGFjaXR5KSxqSS5kZXBlbmRzT24oaSxlKSYmciYmci5hcHBseVZpc3VhbCh0LHMsbCl9KSksb1tlXX0sZS5wcm90b3R5cGUucG9zaXRpb25Hcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49dGhpcy5hcGk7RGModCxlLmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9KX0sZS5wcm90b3R5cGUuZG9SZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7fSxlLnR5cGU9XCJ2aXN1YWxNYXBcIixlfShwZiksTEI9W1tcImxlZnRcIixcInJpZ2h0XCIsXCJ3aWR0aFwiXSxbXCJ0b3BcIixcImJvdHRvbVwiLFwiaGVpZ2h0XCJdXTtmdW5jdGlvbiBrQih0LGUsbil7dmFyIGk9dC5vcHRpb24scj1pLmFsaWduO2lmKG51bGwhPXImJlwiYXV0b1wiIT09cilyZXR1cm4gcjtmb3IodmFyIG89e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sYT1cImhvcml6b250YWxcIj09PWkub3JpZW50PzE6MCxzPUxCW2FdLGw9WzAsbnVsbCwxMF0sdT17fSxoPTA7aDwzO2grKyl1W0xCWzEtYV1baF1dPWxbaF0sdVtzW2hdXT0yPT09aD9uWzBdOmlbc1toXV07dmFyIGM9W1tcInhcIixcIndpZHRoXCIsM10sW1wieVwiLFwiaGVpZ2h0XCIsMF1dW2FdLHA9QWModSxvLGkucGFkZGluZyk7cmV0dXJuIHNbKHAubWFyZ2luW2NbMl1dfHwwKStwW2NbMF1dKy41KnBbY1sxXV08LjUqb1tjWzFdXT8wOjFdfWZ1bmN0aW9uIFBCKHQsZSl7cmV0dXJuIFAodHx8W10sKGZ1bmN0aW9uKHQpe251bGwhPXQuZGF0YUluZGV4JiYodC5kYXRhSW5kZXhJbnNpZGU9dC5kYXRhSW5kZXgsdC5kYXRhSW5kZXg9bnVsbCksdC5oaWdobGlnaHRLZXk9XCJ2aXN1YWxNYXBcIisoZT9lLmNvbXBvbmVudEluZGV4OlwiXCIpfSkpLHR9dmFyIE9CPVVpLFJCPVAsTkI9TWF0aC5taW4sRUI9TWF0aC5tYXgsekI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9zaGFwZXM9e30sbi5fZGF0YUludGVydmFsPVtdLG4uX2hhbmRsZUVuZHM9W10sbi5faG92ZXJMaW5rRGF0YUluZGljZXM9W10sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmRvUmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2FwaT1uLGkmJlwic2VsZWN0RGF0YVJhbmdlXCI9PT1pLnR5cGUmJmkuZnJvbT09PXRoaXMudWlkfHx0aGlzLl9idWlsZFZpZXcoKX0sZS5wcm90b3R5cGUuX2J1aWxkVmlldz1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIHQ9dGhpcy52aXN1YWxNYXBNb2RlbCxlPXRoaXMuZ3JvdXA7dGhpcy5fb3JpZW50PXQuZ2V0KFwib3JpZW50XCIpLHRoaXMuX3VzZUhhbmRsZT10LmdldChcImNhbGN1bGFibGVcIiksdGhpcy5fcmVzZXRJbnRlcnZhbCgpLHRoaXMuX3JlbmRlckJhcihlKTt2YXIgbj10LmdldChcInRleHRcIik7dGhpcy5fcmVuZGVyRW5kc1RleHQoZSxuLDApLHRoaXMuX3JlbmRlckVuZHNUZXh0KGUsbiwxKSx0aGlzLl91cGRhdGVWaWV3KCEwKSx0aGlzLnJlbmRlckJhY2tncm91bmQoZSksdGhpcy5fdXBkYXRlVmlldygpLHRoaXMuX2VuYWJsZUhvdmVyTGlua1RvU2VyaWVzKCksdGhpcy5fZW5hYmxlSG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMucG9zaXRpb25Hcm91cChlKX0sZS5wcm90b3R5cGUuX3JlbmRlckVuZHNUZXh0PWZ1bmN0aW9uKHQsZSxuKXtpZihlKXt2YXIgaT1lWzEtbl07aT1udWxsIT1pP2krXCJcIjpcIlwiO3ZhciByPXRoaXMudmlzdWFsTWFwTW9kZWwsbz1yLmdldChcInRleHRHYXBcIiksYT1yLml0ZW1TaXplLHM9dGhpcy5fc2hhcGVzLm1haW5Hcm91cCxsPXRoaXMuX2FwcGx5VHJhbnNmb3JtKFthWzBdLzIsMD09PW4/LW86YVsxXStvXSxzKSx1PXRoaXMuX2FwcGx5VHJhbnNmb3JtKDA9PT1uP1wiYm90dG9tXCI6XCJ0b3BcIixzKSxoPXRoaXMuX29yaWVudCxjPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWw7dGhpcy5ncm91cC5hZGQobmV3IGxzKHtzdHlsZTp7eDpsWzBdLHk6bFsxXSx2ZXJ0aWNhbEFsaWduOlwiaG9yaXpvbnRhbFwiPT09aD9cIm1pZGRsZVwiOnUsYWxpZ246XCJob3Jpem9udGFsXCI9PT1oP3U6XCJjZW50ZXJcIix0ZXh0OmksZm9udDpjLmdldEZvbnQoKSxmaWxsOmMuZ2V0VGV4dENvbG9yKCl9fSkpfX0sZS5wcm90b3R5cGUuX3JlbmRlckJhcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49dGhpcy5fc2hhcGVzLGk9ZS5pdGVtU2l6ZSxyPXRoaXMuX29yaWVudCxvPXRoaXMuX3VzZUhhbmRsZSxhPWtCKGUsdGhpcy5hcGksaSkscz1uLm1haW5Hcm91cD10aGlzLl9jcmVhdGVCYXJHcm91cChhKSxsPW5ldyB6aTtzLmFkZChsKSxsLmFkZChuLm91dE9mUmFuZ2U9QkIoKSksbC5hZGQobi5pblJhbmdlPUJCKG51bGwsbz9GQih0aGlzLl9vcmllbnQpOm51bGwsQih0aGlzLl9kcmFnSGFuZGxlLHRoaXMsXCJhbGxcIiwhMSksQih0aGlzLl9kcmFnSGFuZGxlLHRoaXMsXCJhbGxcIiwhMCkpKSxsLnNldENsaXBQYXRoKG5ldyBvcyh7c2hhcGU6e3g6MCx5OjAsd2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxyOjN9fSkpO3ZhciB1PWUudGV4dFN0eWxlTW9kZWwuZ2V0VGV4dFJlY3QoXCLlm71cIiksaD1FQih1LndpZHRoLHUuaGVpZ2h0KTtvJiYobi5oYW5kbGVUaHVtYnM9W10sbi5oYW5kbGVMYWJlbHM9W10sbi5oYW5kbGVMYWJlbFBvaW50cz1bXSx0aGlzLl9jcmVhdGVIYW5kbGUoZSxzLDAsaSxoLHIpLHRoaXMuX2NyZWF0ZUhhbmRsZShlLHMsMSxpLGgscikpLHRoaXMuX2NyZWF0ZUluZGljYXRvcihlLHMsaSxoLHIpLHQuYWRkKHMpfSxlLnByb3RvdHlwZS5fY3JlYXRlSGFuZGxlPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1CKHRoaXMuX2RyYWdIYW5kbGUsdGhpcyxuLCExKSxzPUIodGhpcy5fZHJhZ0hhbmRsZSx0aGlzLG4sITApLGw9WW4odC5nZXQoXCJoYW5kbGVTaXplXCIpLGlbMF0pLHU9dXkodC5nZXQoXCJoYW5kbGVJY29uXCIpLC1sLzIsLWwvMixsLGwsbnVsbCwhMCksaD1GQih0aGlzLl9vcmllbnQpO3UuYXR0cih7Y3Vyc29yOmgsZHJhZ2dhYmxlOiEwLGRyaWZ0OmEsb25kcmFnZW5kOnMsb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7ZWUodC5ldmVudCl9fSksdS54PWlbMF0vMix1LnVzZVN0eWxlKHQuZ2V0TW9kZWwoXCJoYW5kbGVTdHlsZVwiKS5nZXRJdGVtU3R5bGUoKSksdS5zZXRTdHlsZSh7c3Ryb2tlTm9TY2FsZTohMCxzdHJva2VGaXJzdDohMH0pLHUuc3R5bGUubGluZVdpZHRoKj0yLHUuZW5zdXJlU3RhdGUoXCJlbXBoYXNpc1wiKS5zdHlsZT10LmdldE1vZGVsKFtcImVtcGhhc2lzXCIsXCJoYW5kbGVTdHlsZVwiXSkuZ2V0SXRlbVN0eWxlKCksaWwodSwhMCksZS5hZGQodSk7dmFyIGM9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxwPW5ldyBscyh7Y3Vyc29yOmgsZHJhZ2dhYmxlOiEwLGRyaWZ0OmEsb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7ZWUodC5ldmVudCl9LG9uZHJhZ2VuZDpzLHN0eWxlOnt4OjAseTowLHRleHQ6XCJcIixmb250OmMuZ2V0Rm9udCgpLGZpbGw6Yy5nZXRUZXh0Q29sb3IoKX19KTtwLmVuc3VyZVN0YXRlKFwiYmx1clwiKS5zdHlsZT17b3BhY2l0eTouMX0scC5zdGF0ZVRyYW5zaXRpb249e2R1cmF0aW9uOjIwMH0sdGhpcy5ncm91cC5hZGQocCk7dmFyIGQ9W2wsMF0sZj10aGlzLl9zaGFwZXM7Zi5oYW5kbGVUaHVtYnNbbl09dSxmLmhhbmRsZUxhYmVsUG9pbnRzW25dPWQsZi5oYW5kbGVMYWJlbHNbbl09cH0sZS5wcm90b3R5cGUuX2NyZWF0ZUluZGljYXRvcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPVluKHQuZ2V0KFwiaW5kaWNhdG9yU2l6ZVwiKSxuWzBdKSxhPXV5KHQuZ2V0KFwiaW5kaWNhdG9ySWNvblwiKSwtby8yLC1vLzIsbyxvLG51bGwsITApO2EuYXR0cih7Y3Vyc29yOlwibW92ZVwiLGludmlzaWJsZTohMCxzaWxlbnQ6ITAseDpuWzBdLzJ9KTt2YXIgcz10LmdldE1vZGVsKFwiaW5kaWNhdG9yU3R5bGVcIikuZ2V0SXRlbVN0eWxlKCk7aWYoYSBpbnN0YW5jZW9mIEphKXt2YXIgbD1hLnN0eWxlO2EudXNlU3R5bGUoSSh7aW1hZ2U6bC5pbWFnZSx4OmwueCx5OmwueSx3aWR0aDpsLndpZHRoLGhlaWdodDpsLmhlaWdodH0scykpfWVsc2UgYS51c2VTdHlsZShzKTtlLmFkZChhKTt2YXIgdT10aGlzLnZpc3VhbE1hcE1vZGVsLnRleHRTdHlsZU1vZGVsLGg9bmV3IGxzKHtzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLHN0eWxlOnt4OjAseTowLHRleHQ6XCJcIixmb250OnUuZ2V0Rm9udCgpLGZpbGw6dS5nZXRUZXh0Q29sb3IoKX19KTt0aGlzLmdyb3VwLmFkZChoKTt2YXIgYz1bKFwiaG9yaXpvbnRhbFwiPT09cj9pLzI6NikrblswXS8yLDBdLHA9dGhpcy5fc2hhcGVzO3AuaW5kaWNhdG9yPWEscC5pbmRpY2F0b3JMYWJlbD1oLHAuaW5kaWNhdG9yTGFiZWxQb2ludD1jLHRoaXMuX2ZpcnN0U2hvd0luZGljYXRvcj0hMH0sZS5wcm90b3R5cGUuX2RyYWdIYW5kbGU9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fdXNlSGFuZGxlKXtpZih0aGlzLl9kcmFnZ2luZz0hZSwhZSl7dmFyIHI9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oW24saV0sdGhpcy5fc2hhcGVzLm1haW5Hcm91cCwhMCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxyWzFdKSx0aGlzLl9oaWRlSW5kaWNhdG9yKCksdGhpcy5fdXBkYXRlVmlldygpfWU9PT0hdGhpcy52aXN1YWxNYXBNb2RlbC5nZXQoXCJyZWFsdGltZVwiKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJzZWxlY3REYXRhUmFuZ2VcIixmcm9tOnRoaXMudWlkLHZpc3VhbE1hcElkOnRoaXMudmlzdWFsTWFwTW9kZWwuaWQsc2VsZWN0ZWQ6dGhpcy5fZGF0YUludGVydmFsLnNsaWNlKCl9KSxlPyF0aGlzLl9ob3ZlcmluZyYmdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpOlZCKHRoaXMudmlzdWFsTWFwTW9kZWwpJiZ0aGlzLl9kb0hvdmVyTGlua1RvU2VyaWVzKHRoaXMuX2hhbmRsZUVuZHNbdF0sITEpfX0sZS5wcm90b3R5cGUuX3Jlc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dGhpcy5fZGF0YUludGVydmFsPXQuZ2V0U2VsZWN0ZWQoKSxuPXQuZ2V0RXh0ZW50KCksaT1bMCx0Lml0ZW1TaXplWzFdXTt0aGlzLl9oYW5kbGVFbmRzPVtPQihlWzBdLG4saSwhMCksT0IoZVsxXSxuLGksITApXX0sZS5wcm90b3R5cGUuX3VwZGF0ZUludGVydmFsPWZ1bmN0aW9uKHQsZSl7ZT1lfHwwO3ZhciBuPXRoaXMudmlzdWFsTWFwTW9kZWwsaT10aGlzLl9oYW5kbGVFbmRzLHI9WzAsbi5pdGVtU2l6ZVsxXV07dEEoZSxpLHIsdCwwKTt2YXIgbz1uLmdldEV4dGVudCgpO3RoaXMuX2RhdGFJbnRlcnZhbD1bT0IoaVswXSxyLG8sITApLE9CKGlbMV0scixvLCEwKV19LGUucHJvdG90eXBlLl91cGRhdGVWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsbj1lLmdldEV4dGVudCgpLGk9dGhpcy5fc2hhcGVzLHI9WzAsZS5pdGVtU2l6ZVsxXV0sbz10P3I6dGhpcy5faGFuZGxlRW5kcyxhPXRoaXMuX2NyZWF0ZUJhclZpc3VhbCh0aGlzLl9kYXRhSW50ZXJ2YWwsbixvLFwiaW5SYW5nZVwiKSxzPXRoaXMuX2NyZWF0ZUJhclZpc3VhbChuLG4scixcIm91dE9mUmFuZ2VcIik7aS5pblJhbmdlLnNldFN0eWxlKHtmaWxsOmEuYmFyQ29sb3J9KS5zZXRTaGFwZShcInBvaW50c1wiLGEuYmFyUG9pbnRzKSxpLm91dE9mUmFuZ2Uuc2V0U3R5bGUoe2ZpbGw6cy5iYXJDb2xvcn0pLnNldFNoYXBlKFwicG9pbnRzXCIscy5iYXJQb2ludHMpLHRoaXMuX3VwZGF0ZUhhbmRsZShvLGEpfSxlLnByb3RvdHlwZS5fY3JlYXRlQmFyVmlzdWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXtmb3JjZVN0YXRlOmksY29udmVydE9wYWNpdHlUb0FscGhhOiEwfSxvPXRoaXMuX21ha2VDb2xvckdyYWRpZW50KHQsciksYT1bdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sXCJzeW1ib2xTaXplXCIsciksdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMV0sXCJzeW1ib2xTaXplXCIscildLHM9dGhpcy5fY3JlYXRlQmFyUG9pbnRzKG4sYSk7cmV0dXJue2JhckNvbG9yOm5ldyB1dSgwLDAsMCwxLG8pLGJhclBvaW50czpzLGhhbmRsZXNDb2xvcjpbb1swXS5jb2xvcixvW28ubGVuZ3RoLTFdLmNvbG9yXX19LGUucHJvdG90eXBlLl9tYWtlQ29sb3JHcmFkaWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPVtdLGk9KHRbMV0tdFswXSkvMTAwO24ucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sXCJjb2xvclwiLGUpLG9mZnNldDowfSk7Zm9yKHZhciByPTE7cjwxMDA7cisrKXt2YXIgbz10WzBdK2kqcjtpZihvPnRbMV0pYnJlYWs7bi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwobyxcImNvbG9yXCIsZSksb2Zmc2V0OnIvMTAwfSl9cmV0dXJuIG4ucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMV0sXCJjb2xvclwiLGUpLG9mZnNldDoxfSksbn0sZS5wcm90b3R5cGUuX2NyZWF0ZUJhclBvaW50cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudmlzdWFsTWFwTW9kZWwuaXRlbVNpemU7cmV0dXJuW1tuWzBdLWVbMF0sdFswXV0sW25bMF0sdFswXV0sW25bMF0sdFsxXV0sW25bMF0tZVsxXSx0WzFdXV19LGUucHJvdG90eXBlLl9jcmVhdGVCYXJHcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcmllbnQsbj10aGlzLnZpc3VhbE1hcE1vZGVsLmdldChcImludmVyc2VcIik7cmV0dXJuIG5ldyB6aShcImhvcml6b250YWxcIiE9PWV8fG4/XCJob3Jpem9udGFsXCI9PT1lJiZuP3tzY2FsZVg6XCJib3R0b21cIj09PXQ/LTE6MSxyb3RhdGlvbjotTWF0aC5QSS8yfTpcInZlcnRpY2FsXCIhPT1lfHxuP3tzY2FsZVg6XCJsZWZ0XCI9PT10PzE6LTF9OntzY2FsZVg6XCJsZWZ0XCI9PT10PzE6LTEsc2NhbGVZOi0xfTp7c2NhbGVYOlwiYm90dG9tXCI9PT10PzE6LTEscm90YXRpb246TWF0aC5QSS8yfSl9LGUucHJvdG90eXBlLl91cGRhdGVIYW5kbGU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl91c2VIYW5kbGUpe3ZhciBuPXRoaXMuX3NoYXBlcyxpPXRoaXMudmlzdWFsTWFwTW9kZWwscj1uLmhhbmRsZVRodW1icyxvPW4uaGFuZGxlTGFiZWxzLGE9aS5pdGVtU2l6ZSxzPWkuZ2V0RXh0ZW50KCk7UkIoWzAsMV0sKGZ1bmN0aW9uKGwpe3ZhciB1PXJbbF07dS5zZXRTdHlsZShcImZpbGxcIixlLmhhbmRsZXNDb2xvcltsXSksdS55PXRbbF07dmFyIGg9T0IodFtsXSxbMCxhWzFdXSxzLCEwKSxjPXRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbChoLFwic3ltYm9sU2l6ZVwiKTt1LnNjYWxlWD11LnNjYWxlWT1jL2FbMF0sdS54PWFbMF0tYy8yO3ZhciBwPUZ1KG4uaGFuZGxlTGFiZWxQb2ludHNbbF0sVnUodSx0aGlzLmdyb3VwKSk7b1tsXS5zZXRTdHlsZSh7eDpwWzBdLHk6cFsxXSx0ZXh0OmkuZm9ybWF0VmFsdWVUZXh0KHRoaXMuX2RhdGFJbnRlcnZhbFtsXSksdmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLGFsaWduOlwidmVydGljYWxcIj09PXRoaXMuX29yaWVudD90aGlzLl9hcHBseVRyYW5zZm9ybShcImxlZnRcIixuLm1haW5Hcm91cCk6XCJjZW50ZXJcIn0pfSksdGhpcyl9fSxlLnByb3RvdHlwZS5fc2hvd0luZGljYXRvcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLnZpc3VhbE1hcE1vZGVsLG89ci5nZXRFeHRlbnQoKSxhPXIuaXRlbVNpemUscz1bMCxhWzFdXSxsPXRoaXMuX3NoYXBlcyx1PWwuaW5kaWNhdG9yO2lmKHUpe3UuYXR0cihcImludmlzaWJsZVwiLCExKTt2YXIgaD10aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodCxcImNvbG9yXCIse2NvbnZlcnRPcGFjaXR5VG9BbHBoYTohMH0pLGM9dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHQsXCJzeW1ib2xTaXplXCIpLHA9T0IodCxvLHMsITApLGQ9YVswXS1jLzIsZj17eDp1LngseTp1Lnl9O3UueT1wLHUueD1kO3ZhciBnPUZ1KGwuaW5kaWNhdG9yTGFiZWxQb2ludCxWdSh1LHRoaXMuZ3JvdXApKSx5PWwuaW5kaWNhdG9yTGFiZWw7eS5hdHRyKFwiaW52aXNpYmxlXCIsITEpO3ZhciB2PXRoaXMuX2FwcGx5VHJhbnNmb3JtKFwibGVmdFwiLGwubWFpbkdyb3VwKSxtPVwiaG9yaXpvbnRhbFwiPT09dGhpcy5fb3JpZW50O3kuc2V0U3R5bGUoe3RleHQ6KG58fFwiXCIpK3IuZm9ybWF0VmFsdWVUZXh0KGUpLHZlcnRpY2FsQWxpZ246bT92OlwibWlkZGxlXCIsYWxpZ246bT9cImNlbnRlclwiOnZ9KTt2YXIgXz17eDpkLHk6cCxzdHlsZTp7ZmlsbDpofX0seD17c3R5bGU6e3g6Z1swXSx5OmdbMV19fTtpZihyLmVjTW9kZWwuaXNBbmltYXRpb25FbmFibGVkKCkmJiF0aGlzLl9maXJzdFNob3dJbmRpY2F0b3Ipe3ZhciBiPXtkdXJhdGlvbjoxMDAsZWFzaW5nOlwiY3ViaWNJbk91dFwiLGFkZGl0aXZlOiEwfTt1Lng9Zi54LHUueT1mLnksdS5hbmltYXRlVG8oXyxiKSx5LmFuaW1hdGVUbyh4LGIpfWVsc2UgdS5hdHRyKF8pLHkuYXR0cih4KTt0aGlzLl9maXJzdFNob3dJbmRpY2F0b3I9ITE7dmFyIHc9dGhpcy5fc2hhcGVzLmhhbmRsZUxhYmVscztpZih3KWZvcih2YXIgUz0wO1M8dy5sZW5ndGg7UysrKXRoaXMuX2FwaS5lbnRlckJsdXIod1tTXSl9fSxlLnByb3RvdHlwZS5fZW5hYmxlSG92ZXJMaW5rVG9TZXJpZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3NoYXBlcy5tYWluR3JvdXAub24oXCJtb3VzZW1vdmVcIiwoZnVuY3Rpb24oZSl7aWYodC5faG92ZXJpbmc9ITAsIXQuX2RyYWdnaW5nKXt2YXIgbj10LnZpc3VhbE1hcE1vZGVsLml0ZW1TaXplLGk9dC5fYXBwbHlUcmFuc2Zvcm0oW2Uub2Zmc2V0WCxlLm9mZnNldFldLHQuX3NoYXBlcy5tYWluR3JvdXAsITAsITApO2lbMV09TkIoRUIoMCxpWzFdKSxuWzFdKSx0Ll9kb0hvdmVyTGlua1RvU2VyaWVzKGlbMV0sMDw9aVswXSYmaVswXTw9blswXSl9fSkpLm9uKFwibW91c2VvdXRcIiwoZnVuY3Rpb24oKXt0Ll9ob3ZlcmluZz0hMSwhdC5fZHJhZ2dpbmcmJnQuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX0pKX0sZS5wcm90b3R5cGUuX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFwaS5nZXRacigpO3RoaXMudmlzdWFsTWFwTW9kZWwub3B0aW9uLmhvdmVyTGluaz8odC5vbihcIm1vdXNlb3ZlclwiLHRoaXMuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXIsdGhpcyksdC5vbihcIm1vdXNlb3V0XCIsdGhpcy5faGlkZUluZGljYXRvcix0aGlzKSk6dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCl9LGUucHJvdG90eXBlLl9kb0hvdmVyTGlua1RvU2VyaWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbCxpPW4uaXRlbVNpemU7aWYobi5vcHRpb24uaG92ZXJMaW5rKXt2YXIgcj1bMCxpWzFdXSxvPW4uZ2V0RXh0ZW50KCk7dD1OQihFQihyWzBdLHQpLHJbMV0pO3ZhciBhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT02LHI9dC5nZXQoXCJob3ZlckxpbmtEYXRhU2l6ZVwiKTtyJiYoaT1PQihyLGUsbiwhMCkvMik7cmV0dXJuIGl9KG4sbyxyKSxzPVt0LWEsdCthXSxsPU9CKHQscixvLCEwKSx1PVtPQihzWzBdLHIsbywhMCksT0Ioc1sxXSxyLG8sITApXTtzWzBdPHJbMF0mJih1WzBdPS0xLzApLHNbMV0+clsxXSYmKHVbMV09MS8wKSxlJiYodVswXT09PS0xLzA/dGhpcy5fc2hvd0luZGljYXRvcihsLHVbMV0sXCI8IFwiLGEpOnVbMV09PT0xLzA/dGhpcy5fc2hvd0luZGljYXRvcihsLHVbMF0sXCI+IFwiLGEpOnRoaXMuX3Nob3dJbmRpY2F0b3IobCxsLFwi4omIIFwiLGEpKTt2YXIgaD10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcyxjPVtdOyhlfHxWQihuKSkmJihjPXRoaXMuX2hvdmVyTGlua0RhdGFJbmRpY2VzPW4uZmluZFRhcmdldERhdGFJbmRpY2VzKHUpKTt2YXIgcD1mdW5jdGlvbih0LGUpe3ZhciBuPXt9LGk9e307cmV0dXJuIHIodHx8W10sbikscihlfHxbXSxpLG4pLFtvKG4pLG8oaSldO2Z1bmN0aW9uIHIodCxlLG4pe2Zvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl7dmFyIG89VHIodFtpXS5zZXJpZXNJZCxudWxsKTtpZihudWxsPT1vKXJldHVybjtmb3IodmFyIGE9X3IodFtpXS5kYXRhSW5kZXgpLHM9biYmbltvXSxsPTAsdT1hLmxlbmd0aDtsPHU7bCsrKXt2YXIgaD1hW2xdO3MmJnNbaF0/c1toXT1udWxsOihlW29dfHwoZVtvXT17fSkpW2hdPTF9fX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49W107Zm9yKHZhciBpIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShpKSYmbnVsbCE9dFtpXSlpZihlKW4ucHVzaCgraSk7ZWxzZXt2YXIgcj1vKHRbaV0sITApO3IubGVuZ3RoJiZuLnB1c2goe3Nlcmllc0lkOmksZGF0YUluZGV4OnJ9KX1yZXR1cm4gbn19KGgsYyk7dGhpcy5fZGlzcGF0Y2hIaWdoRG93bihcImRvd25wbGF5XCIsUEIocFswXSxuKSksdGhpcy5fZGlzcGF0Y2hIaWdoRG93bihcImhpZ2hsaWdodFwiLFBCKHBbMV0sbikpfX0sZS5wcm90b3R5cGUuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQsbj10aGlzLnZpc3VhbE1hcE1vZGVsO2lmKGUmJm51bGwhPXlzKGUpLmRhdGFJbmRleCl7dmFyIGk9eXMoZSkscj10aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChpLnNlcmllc0luZGV4KTtpZihuLmlzVGFyZ2V0U2VyaWVzKHIpKXt2YXIgbz1yLmdldERhdGEoaS5kYXRhVHlwZSksYT1vLmdldChuLmdldERhdGFEaW1lbnNpb24obyksaS5kYXRhSW5kZXgpO2lzTmFOKGEpfHx0aGlzLl9zaG93SW5kaWNhdG9yKGEsYSl9fX0sZS5wcm90b3R5cGUuX2hpZGVJbmRpY2F0b3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zaGFwZXM7dC5pbmRpY2F0b3ImJnQuaW5kaWNhdG9yLmF0dHIoXCJpbnZpc2libGVcIiwhMCksdC5pbmRpY2F0b3JMYWJlbCYmdC5pbmRpY2F0b3JMYWJlbC5hdHRyKFwiaW52aXNpYmxlXCIsITApO3ZhciBlPXRoaXMuX3NoYXBlcy5oYW5kbGVMYWJlbHM7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLl9hcGkubGVhdmVCbHVyKGVbbl0pfSxlLnByb3RvdHlwZS5fY2xlYXJIb3ZlckxpbmtUb1Nlcmllcz1mdW5jdGlvbigpe3RoaXMuX2hpZGVJbmRpY2F0b3IoKTt2YXIgdD10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlczt0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKFwiZG93bnBsYXlcIixQQih0LHRoaXMudmlzdWFsTWFwTW9kZWwpKSx0Lmxlbmd0aD0wfSxlLnByb3RvdHlwZS5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzPWZ1bmN0aW9uKCl7dGhpcy5faGlkZUluZGljYXRvcigpO3ZhciB0PXRoaXMuYXBpLmdldFpyKCk7dC5vZmYoXCJtb3VzZW92ZXJcIix0aGlzLl9ob3ZlckxpbmtGcm9tU2VyaWVzTW91c2VPdmVyKSx0Lm9mZihcIm1vdXNlb3V0XCIsdGhpcy5faGlkZUluZGljYXRvcil9LGUucHJvdG90eXBlLl9hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1WdShlLGk/bnVsbDp0aGlzLmdyb3VwKTtyZXR1cm4gRih0KT9GdSh0LHIsbik6R3UodCxyLG4pfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hIaWdoRG93bj1mdW5jdGlvbih0LGUpe2UmJmUubGVuZ3RoJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTp0LGJhdGNoOmV9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCksdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfSxlLnR5cGU9XCJ2aXN1YWxNYXAuY29udGludW91c1wiLGV9KERCKTtmdW5jdGlvbiBCQih0LGUsbixpKXtyZXR1cm4gbmV3IHFsKHtzaGFwZTp7cG9pbnRzOnR9LGRyYWdnYWJsZTohIW4sY3Vyc29yOmUsZHJpZnQ6bixvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtlZSh0LmV2ZW50KX0sb25kcmFnZW5kOml9KX1mdW5jdGlvbiBWQih0KXt2YXIgZT10LmdldChcImhvdmVyTGlua09uSGFuZGxlXCIpO3JldHVybiEhKG51bGw9PWU/dC5nZXQoXCJyZWFsdGltZVwiKTplKX1mdW5jdGlvbiBGQih0KXtyZXR1cm5cInZlcnRpY2FsXCI9PT10P1wibnMtcmVzaXplXCI6XCJldy1yZXNpemVcIn12YXIgR0I9e3R5cGU6XCJzZWxlY3REYXRhUmFuZ2VcIixldmVudDpcImRhdGFSYW5nZVNlbGVjdGVkXCIsdXBkYXRlOlwidXBkYXRlXCJ9LEhCPWZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInZpc3VhbE1hcFwiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXtlLnNldFNlbGVjdGVkKHQuc2VsZWN0ZWQpfSkpfSxXQj1be2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIGUuZWFjaENvbXBvbmVudChcInZpc3VhbE1hcFwiLChmdW5jdGlvbihlKXt2YXIgaSxyLG8sYSxzLGw9dC5waXBlbGluZUNvbnRleHQ7IWUuaXNUYXJnZXRTZXJpZXModCl8fGwmJmwubGFyZ2V8fG4ucHVzaCgoaT1lLnN0YXRlTGlzdCxyPWUudGFyZ2V0VmlzdWFscyxvPUIoZS5nZXRWYWx1ZVN0YXRlLGUpLGE9ZS5nZXREYXRhRGltZW5zaW9uKHQuZ2V0RGF0YSgpKSxzPXt9LFAoaSwoZnVuY3Rpb24odCl7dmFyIGU9akkucHJlcGFyZVZpc3VhbFR5cGVzKHJbdF0pO3NbdF09ZX0pKSx7cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXt2YXIgbixpO2Z1bmN0aW9uIGwodCl7cmV0dXJuIHBnKGUsaSx0KX1mdW5jdGlvbiB1KHQsbil7ZmcoZSxpLHQsbil9Zm9yKG51bGwhPWEmJihuPWUuZ2V0RGltZW5zaW9uKGEpKTtudWxsIT0oaT10Lm5leHQoKSk7KXt2YXIgaD1lLmdldFJhd0RhdGFJdGVtKGkpO2lmKCFofHwhMSE9PWgudmlzdWFsTWFwKWZvcih2YXIgYz1udWxsIT1hP2UuZ2V0KG4saSk6aSxwPW8oYyksZD1yW3BdLGY9c1twXSxnPTAseT1mLmxlbmd0aDtnPHk7ZysrKXt2YXIgdj1mW2ddO2Rbdl0mJmRbdl0uYXBwbHlWaXN1YWwoYyxsLHUpfX19fSkpfSkpLG59fSx7Y3JlYXRlT25BbGxTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKSxpPVtdO2UuZWFjaENvbXBvbmVudChcInZpc3VhbE1hcFwiLChmdW5jdGlvbihlKXtpZihlLmlzVGFyZ2V0U2VyaWVzKHQpKXt2YXIgcj1lLmdldFZpc3VhbE1ldGEoQihZQixudWxsLHQsZSkpfHx7c3RvcHM6W10sb3V0ZXJDb2xvcnM6W119LG89ZS5nZXREYXRhRGltZW5zaW9uKG4pLGE9bi5nZXREaW1lbnNpb25JbmZvKG8pO251bGwhPWEmJihyLmRpbWVuc2lvbj1hLmluZGV4LGkucHVzaChyKSl9fSkpLHQuZ2V0RGF0YSgpLnNldFZpc3VhbChcInZpc3VhbE1ldGFcIixpKX19XTtmdW5jdGlvbiBZQih0LGUsbixpKXtmb3IodmFyIHI9ZS50YXJnZXRWaXN1YWxzW2ldLG89akkucHJlcGFyZVZpc3VhbFR5cGVzKHIpLGE9e2NvbG9yOmRnKHQuZ2V0RGF0YSgpLFwiY29sb3JcIil9LHM9MCxsPW8ubGVuZ3RoO3M8bDtzKyspe3ZhciB1PW9bc10saD1yW1wib3BhY2l0eVwiPT09dT9cIl9fYWxwaGFGb3JPcGFjaXR5XCI6dV07aCYmaC5hcHBseVZpc3VhbChuLGMscCl9cmV0dXJuIGEuY29sb3I7ZnVuY3Rpb24gYyh0KXtyZXR1cm4gYVt0XX1mdW5jdGlvbiBwKHQsZSl7YVt0XT1lfX12YXIgWEI9UDtmdW5jdGlvbiBVQih0KXt2YXIgZT10JiZ0LnZpc3VhbE1hcDtGKGUpfHwoZT1lP1tlXTpbXSksWEIoZSwoZnVuY3Rpb24odCl7aWYodCl7WkIodCxcInNwbGl0TGlzdFwiKSYmIVpCKHQsXCJwaWVjZXNcIikmJih0LnBpZWNlcz10LnNwbGl0TGlzdCxkZWxldGUgdC5zcGxpdExpc3QpO3ZhciBlPXQucGllY2VzO2UmJkYoZSkmJlhCKGUsKGZ1bmN0aW9uKHQpe1godCkmJihaQih0LFwic3RhcnRcIikmJiFaQih0LFwibWluXCIpJiYodC5taW49dC5zdGFydCksWkIodCxcImVuZFwiKSYmIVpCKHQsXCJtYXhcIikmJih0Lm1heD10LmVuZCkpfSkpfX0pKX1mdW5jdGlvbiBaQih0LGUpe3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KGUpfXZhciBqQj0hMTtmdW5jdGlvbiBxQih0KXtqQnx8KGpCPSEwLHQucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKFwidmlzdWFsTWFwXCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhdGVnb3JpZXN8fCh0LnBpZWNlcz90LnBpZWNlcy5sZW5ndGg+MDp0LnNwbGl0TnVtYmVyPjApJiYhdC5jYWxjdWxhYmxlP1wicGllY2V3aXNlXCI6XCJjb250aW51b3VzXCJ9KSksdC5yZWdpc3RlckFjdGlvbihHQixIQiksUChXQiwoZnVuY3Rpb24oZSl7dC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5DT01QT05FTlQsZSl9KSksdC5yZWdpc3RlclByZXByb2Nlc3NvcihVQikpfWZ1bmN0aW9uIEtCKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChDQiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoekIpLHFCKHQpfXZhciAkQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX3BpZWNlTGlzdD1bXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucmVzZXRFeHRlbnQoKTt2YXIgaT10aGlzLl9tb2RlPXRoaXMuX2RldGVybWluZU1vZGUoKTt0aGlzLl9waWVjZUxpc3Q9W10sSkJbdGhpcy5fbW9kZV0uY2FsbCh0aGlzLHRoaXMuX3BpZWNlTGlzdCksdGhpcy5fcmVzZXRTZWxlY3RlZChlLG4pO3ZhciByPXRoaXMub3B0aW9uLmNhdGVnb3JpZXM7dGhpcy5yZXNldFZpc3VhbCgoZnVuY3Rpb24odCxlKXtcImNhdGVnb3JpZXNcIj09PWk/KHQubWFwcGluZ01ldGhvZD1cImNhdGVnb3J5XCIsdC5jYXRlZ29yaWVzPXcocikpOih0LmRhdGFFeHRlbnQ9dGhpcy5nZXRFeHRlbnQoKSx0Lm1hcHBpbmdNZXRob2Q9XCJwaWVjZXdpc2VcIix0LnBpZWNlTGlzdD1PKHRoaXMuX3BpZWNlTGlzdCwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dyh0KSxcImluUmFuZ2VcIiE9PWUmJih0LnZpc3VhbD1udWxsKSx0fSkpKX0pKX0sZS5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbixuPXt9LGk9akkubGlzdFZpc3VhbFR5cGVzKCkscj10aGlzLmlzQ2F0ZWdvcnkoKTtmdW5jdGlvbiBvKHQsZSxuKXtyZXR1cm4gdCYmdFtlXSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShuKX1QKGUucGllY2VzLChmdW5jdGlvbih0KXtQKGksKGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSkmJihuW2VdPTEpfSkpfSkpLFAobiwoZnVuY3Rpb24odCxuKXt2YXIgaT0hMTtQKHRoaXMuc3RhdGVMaXN0LChmdW5jdGlvbih0KXtpPWl8fG8oZSx0LG4pfHxvKGUudGFyZ2V0LHQsbil9KSx0aGlzKSwhaSYmUCh0aGlzLnN0YXRlTGlzdCwoZnVuY3Rpb24odCl7KGVbdF18fChlW3RdPXt9KSlbbl09dkIobixcImluUmFuZ2VcIj09PXQ/XCJhY3RpdmVcIjpcImluYWN0aXZlXCIscil9KSl9KSx0aGlzKSx0LnByb3RvdHlwZS5jb21wbGV0ZVZpc3VhbE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLl9yZXNldFNlbGVjdGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb24saT10aGlzLl9waWVjZUxpc3Qscj0oZT9uOnQpLnNlbGVjdGVkfHx7fTtpZihuLnNlbGVjdGVkPXIsUChpLChmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7ci5oYXNPd25Qcm9wZXJ0eShuKXx8KHJbbl09ITApfSksdGhpcyksXCJzaW5nbGVcIj09PW4uc2VsZWN0ZWRNb2RlKXt2YXIgbz0hMTtQKGksKGZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRTZWxlY3RlZE1hcEtleSh0KTtyW25dJiYobz9yW25dPSExOm89ITApfSksdGhpcyl9fSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZE1hcEtleT1mdW5jdGlvbih0KXtyZXR1cm5cImNhdGVnb3JpZXNcIj09PXRoaXMuX21vZGU/dC52YWx1ZStcIlwiOnQuaW5kZXgrXCJcIn0sZS5wcm90b3R5cGUuZ2V0UGllY2VMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpZWNlTGlzdH0sZS5wcm90b3R5cGUuX2RldGVybWluZU1vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gdC5waWVjZXMmJnQucGllY2VzLmxlbmd0aD4wP1wicGllY2VzXCI6dGhpcy5vcHRpb24uY2F0ZWdvcmllcz9cImNhdGVnb3JpZXNcIjpcInNwbGl0TnVtYmVyXCJ9LGUucHJvdG90eXBlLnNldFNlbGVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnNlbGVjdGVkPXcodCl9LGUucHJvdG90eXBlLmdldFZhbHVlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9akkuZmluZFBpZWNlSW5kZXgodCx0aGlzLl9waWVjZUxpc3QpO3JldHVybiBudWxsIT1lJiZ0aGlzLm9wdGlvbi5zZWxlY3RlZFt0aGlzLmdldFNlbGVjdGVkTWFwS2V5KHRoaXMuX3BpZWNlTGlzdFtlXSldP1wiaW5SYW5nZVwiOlwib3V0T2ZSYW5nZVwifSxlLnByb3RvdHlwZS5maW5kVGFyZ2V0RGF0YUluZGljZXM9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10aGlzLl9waWVjZUxpc3Q7cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcygoZnVuY3Rpb24oaSl7dmFyIHI9W10sbz1pLmdldERhdGEoKTtvLmVhY2godGhpcy5nZXREYXRhRGltZW5zaW9uKG8pLChmdW5jdGlvbihlLGkpe2pJLmZpbmRQaWVjZUluZGV4KGUsbik9PT10JiZyLnB1c2goaSl9KSx0aGlzKSxlLnB1c2goe3Nlcmllc0lkOmkuaWQsZGF0YUluZGV4OnJ9KX0pLHRoaXMpLGV9LGUucHJvdG90eXBlLmdldFJlcHJlc2VudFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHRoaXMuaXNDYXRlZ29yeSgpKWU9dC52YWx1ZTtlbHNlIGlmKG51bGwhPXQudmFsdWUpZT10LnZhbHVlO2Vsc2V7dmFyIG49dC5pbnRlcnZhbHx8W107ZT1uWzBdPT09LTEvMCYmblsxXT09PTEvMD8wOihuWzBdK25bMV0pLzJ9cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldFZpc3VhbE1ldGE9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNDYXRlZ29yeSgpKXt2YXIgZT1bXSxuPVtcIlwiLFwiXCJdLGk9dGhpcyxyPXRoaXMuX3BpZWNlTGlzdC5zbGljZSgpO2lmKHIubGVuZ3RoKXt2YXIgbz1yWzBdLmludGVydmFsWzBdO28hPT0tMS8wJiZyLnVuc2hpZnQoe2ludGVydmFsOlstMS8wLG9dfSksKG89cltyLmxlbmd0aC0xXS5pbnRlcnZhbFsxXSkhPT0xLzAmJnIucHVzaCh7aW50ZXJ2YWw6W28sMS8wXX0pfWVsc2Ugci5wdXNoKHtpbnRlcnZhbDpbLTEvMCwxLzBdfSk7dmFyIGE9LTEvMDtyZXR1cm4gUChyLChmdW5jdGlvbih0KXt2YXIgZT10LmludGVydmFsO2UmJihlWzBdPmEmJnMoW2EsZVswXV0sXCJvdXRPZlJhbmdlXCIpLHMoZS5zbGljZSgpKSxhPWVbMV0pfSksdGhpcykse3N0b3BzOmUsb3V0ZXJDb2xvcnM6bn19ZnVuY3Rpb24gcyhyLG8pe3ZhciBhPWkuZ2V0UmVwcmVzZW50VmFsdWUoe2ludGVydmFsOnJ9KTtvfHwobz1pLmdldFZhbHVlU3RhdGUoYSkpO3ZhciBzPXQoYSxvKTtyWzBdPT09LTEvMD9uWzBdPXM6clsxXT09PTEvMD9uWzFdPXM6ZS5wdXNoKHt2YWx1ZTpyWzBdLGNvbG9yOnN9LHt2YWx1ZTpyWzFdLGNvbG9yOnN9KX19LGUudHlwZT1cInZpc3VhbE1hcC5waWVjZXdpc2VcIixlLmRlZmF1bHRPcHRpb249VGgoSUIuZGVmYXVsdE9wdGlvbix7c2VsZWN0ZWQ6bnVsbCxtaW5PcGVuOiExLG1heE9wZW46ITEsYWxpZ246XCJhdXRvXCIsaXRlbVdpZHRoOjIwLGl0ZW1IZWlnaHQ6MTQsaXRlbVN5bWJvbDpcInJvdW5kUmVjdFwiLHBpZWNlczpudWxsLGNhdGVnb3JpZXM6bnVsbCxzcGxpdE51bWJlcjo1LHNlbGVjdGVkTW9kZTpcIm11bHRpcGxlXCIsaXRlbUdhcDoxMCxob3Zlckxpbms6ITB9KSxlfShJQiksSkI9e3NwbGl0TnVtYmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLG49TWF0aC5taW4oZS5wcmVjaXNpb24sMjApLGk9dGhpcy5nZXRFeHRlbnQoKSxyPWUuc3BsaXROdW1iZXI7cj1NYXRoLm1heChwYXJzZUludChyLDEwKSwxKSxlLnNwbGl0TnVtYmVyPXI7Zm9yKHZhciBvPShpWzFdLWlbMF0pL3I7K28udG9GaXhlZChuKSE9PW8mJm48NTspbisrO2UucHJlY2lzaW9uPW4sbz0rby50b0ZpeGVkKG4pLGUubWluT3BlbiYmdC5wdXNoKHtpbnRlcnZhbDpbLTEvMCxpWzBdXSxjbG9zZTpbMCwwXX0pO2Zvcih2YXIgYT0wLHM9aVswXTthPHI7cys9byxhKyspe3ZhciBsPWE9PT1yLTE/aVsxXTpzK287dC5wdXNoKHtpbnRlcnZhbDpbcyxsXSxjbG9zZTpbMSwxXX0pfWUubWF4T3BlbiYmdC5wdXNoKHtpbnRlcnZhbDpbaVsxXSwxLzBdLGNsb3NlOlswLDBdfSksdXIodCksUCh0LChmdW5jdGlvbih0LGUpe3QuaW5kZXg9ZSx0LnRleHQ9dGhpcy5mb3JtYXRWYWx1ZVRleHQodC5pbnRlcnZhbCl9KSx0aGlzKX0sY2F0ZWdvcmllczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjtQKGUuY2F0ZWdvcmllcywoZnVuY3Rpb24oZSl7dC5wdXNoKHt0ZXh0OnRoaXMuZm9ybWF0VmFsdWVUZXh0KGUsITApLHZhbHVlOmV9KX0pLHRoaXMpLFFCKGUsdCl9LHBpZWNlczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjtQKGUucGllY2VzLChmdW5jdGlvbihlLG4pe1goZSl8fChlPXt2YWx1ZTplfSk7dmFyIGk9e3RleHQ6XCJcIixpbmRleDpufTtpZihudWxsIT1lLmxhYmVsJiYoaS50ZXh0PWUubGFiZWwpLGUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSl7dmFyIHI9aS52YWx1ZT1lLnZhbHVlO2kuaW50ZXJ2YWw9W3Iscl0saS5jbG9zZT1bMSwxXX1lbHNle2Zvcih2YXIgbz1pLmludGVydmFsPVtdLGE9aS5jbG9zZT1bMCwwXSxzPVsxLDAsMV0sbD1bLTEvMCwxLzBdLHU9W10saD0wO2g8MjtoKyspe2Zvcih2YXIgYz1bW1wiZ3RlXCIsXCJndFwiLFwibWluXCJdLFtcImx0ZVwiLFwibHRcIixcIm1heFwiXV1baF0scD0wO3A8MyYmbnVsbD09b1toXTtwKyspb1toXT1lW2NbcF1dLGFbaF09c1twXSx1W2hdPTI9PT1wO251bGw9PW9baF0mJihvW2hdPWxbaF0pfXVbMF0mJm9bMV09PT0xLzAmJihhWzBdPTApLHVbMV0mJm9bMF09PT0tMS8wJiYoYVsxXT0wKSxvWzBdPT09b1sxXSYmYVswXSYmYVsxXSYmKGkudmFsdWU9b1swXSl9aS52aXN1YWw9akkucmV0cmlldmVWaXN1YWxzKGUpLHQucHVzaChpKX0pLHRoaXMpLFFCKGUsdCksdXIodCksUCh0LChmdW5jdGlvbih0KXt2YXIgZT10LmNsb3NlLG49W1tcIjxcIixcIuKJpFwiXVtlWzFdXSxbXCI+XCIsXCLiiaVcIl1bZVswXV1dO3QudGV4dD10LnRleHR8fHRoaXMuZm9ybWF0VmFsdWVUZXh0KG51bGwhPXQudmFsdWU/dC52YWx1ZTp0LmludGVydmFsLCExLG4pfSksdGhpcyl9fTtmdW5jdGlvbiBRQih0LGUpe3ZhciBuPXQuaW52ZXJzZTsoXCJ2ZXJ0aWNhbFwiPT09dC5vcmllbnQ/IW46bikmJmUucmV2ZXJzZSgpfXZhciB0Vj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5kb1JlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXA7dC5yZW1vdmVBbGwoKTt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49ZS5nZXQoXCJ0ZXh0R2FwXCIpLGk9ZS50ZXh0U3R5bGVNb2RlbCxyPWkuZ2V0Rm9udCgpLG89aS5nZXRUZXh0Q29sb3IoKSxhPXRoaXMuX2dldEl0ZW1BbGlnbigpLHM9ZS5pdGVtU2l6ZSxsPXRoaXMuX2dldFZpZXdEYXRhKCksdT1sLmVuZHNUZXh0LGg9UShlLmdldChcInNob3dMYWJlbFwiLCEwKSwhdSk7dSYmdGhpcy5fcmVuZGVyRW5kc1RleHQodCx1WzBdLHMsaCxhKSxQKGwudmlld1BpZWNlTGlzdCwoZnVuY3Rpb24oaSl7dmFyIGw9aS5waWVjZSx1PW5ldyB6aTt1Lm9uY2xpY2s9Qih0aGlzLl9vbkl0ZW1DbGljayx0aGlzLGwpLHRoaXMuX2VuYWJsZUhvdmVyTGluayh1LGkuaW5kZXhJbk1vZGVsUGllY2VMaXN0KTt2YXIgYz1lLmdldFJlcHJlc2VudFZhbHVlKGwpO2lmKHRoaXMuX2NyZWF0ZUl0ZW1TeW1ib2wodSxjLFswLDAsc1swXSxzWzFdXSksaCl7dmFyIHA9dGhpcy52aXN1YWxNYXBNb2RlbC5nZXRWYWx1ZVN0YXRlKGMpO3UuYWRkKG5ldyBscyh7c3R5bGU6e3g6XCJyaWdodFwiPT09YT8tbjpzWzBdK24seTpzWzFdLzIsdGV4dDpsLnRleHQsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLGFsaWduOmEsZm9udDpyLGZpbGw6byxvcGFjaXR5Olwib3V0T2ZSYW5nZVwiPT09cD8uNToxfX0pKX10LmFkZCh1KX0pLHRoaXMpLHUmJnRoaXMuX3JlbmRlckVuZHNUZXh0KHQsdVsxXSxzLGgsYSksQ2MoZS5nZXQoXCJvcmllbnRcIiksdCxlLmdldChcIml0ZW1HYXBcIikpLHRoaXMucmVuZGVyQmFja2dyb3VuZCh0KSx0aGlzLnBvc2l0aW9uR3JvdXAodCl9LGUucHJvdG90eXBlLl9lbmFibGVIb3Zlckxpbms9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3Qub24oXCJtb3VzZW92ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaShcImhpZ2hsaWdodFwiKX0pKS5vbihcIm1vdXNlb3V0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJkb3ducGxheVwiKX0pKTt2YXIgaT1mdW5jdGlvbih0KXt2YXIgaT1uLnZpc3VhbE1hcE1vZGVsO2kub3B0aW9uLmhvdmVyTGluayYmbi5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6dCxiYXRjaDpQQihpLmZpbmRUYXJnZXREYXRhSW5kaWNlcyhlKSxpKX0pfX0sZS5wcm90b3R5cGUuX2dldEl0ZW1BbGlnbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10Lm9wdGlvbjtpZihcInZlcnRpY2FsXCI9PT1lLm9yaWVudClyZXR1cm4ga0IodCx0aGlzLmFwaSx0Lml0ZW1TaXplKTt2YXIgbj1lLmFsaWduO3JldHVybiBuJiZcImF1dG9cIiE9PW58fChuPVwibGVmdFwiKSxufSxlLnByb3RvdHlwZS5fcmVuZGVyRW5kc1RleHQ9ZnVuY3Rpb24odCxlLG4saSxyKXtpZihlKXt2YXIgbz1uZXcgemksYT10aGlzLnZpc3VhbE1hcE1vZGVsLnRleHRTdHlsZU1vZGVsO28uYWRkKG5ldyBscyh7c3R5bGU6e3g6aT9cInJpZ2h0XCI9PT1yP25bMF06MDpuWzBdLzIseTpuWzFdLzIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLGFsaWduOmk/cjpcImNlbnRlclwiLHRleHQ6ZSxmb250OmEuZ2V0Rm9udCgpLGZpbGw6YS5nZXRUZXh0Q29sb3IoKX19KSksdC5hZGQobyl9fSxlLnByb3RvdHlwZS5fZ2V0Vmlld0RhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9Tyh0LmdldFBpZWNlTGlzdCgpLChmdW5jdGlvbih0LGUpe3JldHVybntwaWVjZTp0LGluZGV4SW5Nb2RlbFBpZWNlTGlzdDplfX0pKSxuPXQuZ2V0KFwidGV4dFwiKSxpPXQuZ2V0KFwib3JpZW50XCIpLHI9dC5nZXQoXCJpbnZlcnNlXCIpO3JldHVybihcImhvcml6b250YWxcIj09PWk/cjohcik/ZS5yZXZlcnNlKCk6biYmKG49bi5zbGljZSgpLnJldmVyc2UoKSkse3ZpZXdQaWVjZUxpc3Q6ZSxlbmRzVGV4dDpufX0sZS5wcm90b3R5cGUuX2NyZWF0ZUl0ZW1TeW1ib2w9ZnVuY3Rpb24odCxlLG4pe3QuYWRkKHV5KHRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbChlLFwic3ltYm9sXCIpLG5bMF0sblsxXSxuWzJdLG5bM10sdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGUsXCJjb2xvclwiKSkpfSxlLnByb3RvdHlwZS5fb25JdGVtQ2xpY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWUub3B0aW9uLGk9dyhuLnNlbGVjdGVkKSxyPWUuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7XCJzaW5nbGVcIj09PW4uc2VsZWN0ZWRNb2RlPyhpW3JdPSEwLFAoaSwoZnVuY3Rpb24odCxlKXtpW2VdPWU9PT1yfSkpKTppW3JdPSFpW3JdLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwic2VsZWN0RGF0YVJhbmdlXCIsZnJvbTp0aGlzLnVpZCx2aXN1YWxNYXBJZDp0aGlzLnZpc3VhbE1hcE1vZGVsLmlkLHNlbGVjdGVkOml9KX0sZS50eXBlPVwidmlzdWFsTWFwLnBpZWNld2lzZVwiLGV9KERCKTtmdW5jdGlvbiBlVih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoJEIpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHRWKSxxQih0KX12YXIgblY9e2xhYmVsOntlbmFibGVkOiEwfSxkZWNhbDp7c2hvdzohMX19LGlWPUxyKCksclY9e307ZnVuY3Rpb24gb1YodCxlKXt2YXIgbj10LmdldE1vZGVsKFwiYXJpYVwiKTtpZihuLmdldChcImVuYWJsZWRcIikpe3ZhciBpPXcoblYpO1MoaS5sYWJlbCx0LmdldExvY2FsZU1vZGVsKCkuZ2V0KFwiYXJpYVwiKSwhMSksUyhuLm9wdGlvbixpLCExKSxmdW5jdGlvbigpe2lmKG4uZ2V0TW9kZWwoXCJkZWNhbFwiKS5nZXQoXCJzaG93XCIpKXt2YXIgZT1odCgpO3QuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYodC51c2VDb2xvclBhbGV0dGVPbkRhdGEpe3ZhciBuPWUuZ2V0KHQudHlwZSk7bnx8KG49e30sZS5zZXQodC50eXBlLG4pKSxpVih0KS5zY29wZT1ufX0pKSx0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKGUpe2lmKCF0LmlzU2VyaWVzRmlsdGVyZWQoZSkpaWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5lbmFibGVBcmlhRGVjYWwpe3ZhciBuPWUuZ2V0RGF0YSgpO2lmKGUudXNlQ29sb3JQYWxldHRlT25EYXRhKXt2YXIgaT1lLmdldFJhd0RhdGEoKSxyPXt9LG89aVYoZSkuc2NvcGU7bi5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1uLmdldFJhd0luZGV4KHQpO3JbZV09dH0pKTt2YXIgYT1pLmNvdW50KCk7aS5lYWNoKChmdW5jdGlvbih0KXt2YXIgcz1yW3RdLGw9aS5nZXROYW1lKHQpfHx0K1wiXCIsaD1ocChlLmVjTW9kZWwsbCxvLGEpLGM9bi5nZXRJdGVtVmlzdWFsKHMsXCJkZWNhbFwiKTtuLnNldEl0ZW1WaXN1YWwocyxcImRlY2FsXCIsdShjLGgpKX0pKX1lbHNle3ZhciBzPWhwKGUuZWNNb2RlbCxlLm5hbWUsclYsdC5nZXRTZXJpZXNDb3VudCgpKSxsPW4uZ2V0VmlzdWFsKFwiZGVjYWxcIik7bi5zZXRWaXN1YWwoXCJkZWNhbFwiLHUobCxzKSl9fWVsc2UgZS5lbmFibGVBcmlhRGVjYWwoKTtmdW5jdGlvbiB1KHQsZSl7dmFyIG49dD9JKEkoe30sZSksdCk6ZTtyZXR1cm4gbi5kaXJ0eT0hMCxufX0pKX19KCksZnVuY3Rpb24oKXt2YXIgaT10LmdldExvY2FsZU1vZGVsKCkuZ2V0KFwiYXJpYVwiKSxvPW4uZ2V0TW9kZWwoXCJsYWJlbFwiKTtpZihvLm9wdGlvbj1UKG8ub3B0aW9uLGkpLCFvLmdldChcImVuYWJsZWRcIikpcmV0dXJuO3ZhciBhPWUuZ2V0WnIoKS5kb207aWYoby5nZXQoXCJkZXNjcmlwdGlvblwiKSlyZXR1cm4gdm9pZCBhLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixvLmdldChcImRlc2NyaXB0aW9uXCIpKTt2YXIgcyxsPXQuZ2V0U2VyaWVzQ291bnQoKSx1PW8uZ2V0KFtcImRhdGFcIixcIm1heENvdW50XCJdKXx8MTAsaD1vLmdldChbXCJzZXJpZXNcIixcIm1heENvdW50XCJdKXx8MTAsYz1NYXRoLm1pbihsLGgpO2lmKGw8MSlyZXR1cm47dmFyIHA9ZnVuY3Rpb24oKXt2YXIgZT10LmdldChcInRpdGxlXCIpO2UmJmUubGVuZ3RoJiYoZT1lWzBdKTtyZXR1cm4gZSYmZS50ZXh0fSgpO2lmKHApe3ZhciBkPW8uZ2V0KFtcImdlbmVyYWxcIixcIndpdGhUaXRsZVwiXSk7cz1yKGQse3RpdGxlOnB9KX1lbHNlIHM9by5nZXQoW1wiZ2VuZXJhbFwiLFwid2l0aG91dFRpdGxlXCJdKTt2YXIgZj1bXSxnPWw+MT9vLmdldChbXCJzZXJpZXNcIixcIm11bHRpcGxlXCIsXCJwcmVmaXhcIl0pOm8uZ2V0KFtcInNlcmllc1wiLFwic2luZ2xlXCIsXCJwcmVmaXhcIl0pO3MrPXIoZyx7c2VyaWVzQ291bnQ6bH0pLHQuZWFjaFNlcmllcygoZnVuY3Rpb24oZSxuKXtpZihuPGMpe3ZhciBpPXZvaWQgMCxhPWUuZ2V0KFwibmFtZVwiKT9cIndpdGhOYW1lXCI6XCJ3aXRob3V0TmFtZVwiO2k9cihpPWw+MT9vLmdldChbXCJzZXJpZXNcIixcIm11bHRpcGxlXCIsYV0pOm8uZ2V0KFtcInNlcmllc1wiLFwic2luZ2xlXCIsYV0pLHtzZXJpZXNJZDplLnNlcmllc0luZGV4LHNlcmllc05hbWU6ZS5nZXQoXCJuYW1lXCIpLHNlcmllc1R5cGU6KF89ZS5zdWJUeXBlLHQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoW1wic2VyaWVzXCIsXCJ0eXBlTmFtZXNcIl0pW19dfHxcIuiHquWumuS5ieWbvlwiKX0pO3ZhciBzPWUuZ2V0RGF0YSgpO2lmKHMuY291bnQoKT51KWkrPXIoby5nZXQoW1wiZGF0YVwiLFwicGFydGlhbERhdGFcIl0pLHtkaXNwbGF5Q250OnV9KTtlbHNlIGkrPW8uZ2V0KFtcImRhdGFcIixcImFsbERhdGFcIl0pO2Zvcih2YXIgaD1bXSxwPTA7cDxzLmNvdW50KCk7cCsrKWlmKHA8dSl7dmFyIGQ9cy5nZXROYW1lKHApLGc9ZmQocyxwKSx5PW8uZ2V0KFtcImRhdGFcIixkP1wid2l0aE5hbWVcIjpcIndpdGhvdXROYW1lXCJdKTtoLnB1c2gocih5LHtuYW1lOmQsdmFsdWU6Z30pKX12YXIgdj1vLmdldChbXCJkYXRhXCIsXCJzZXBhcmF0b3JcIixcIm1pZGRsZVwiXSksbT1vLmdldChbXCJkYXRhXCIsXCJzZXBhcmF0b3JcIixcImVuZFwiXSk7aSs9aC5qb2luKHYpK20sZi5wdXNoKGkpfXZhciBffSkpO3ZhciB5PW8uZ2V0TW9kZWwoW1wic2VyaWVzXCIsXCJtdWx0aXBsZVwiLFwic2VwYXJhdG9yXCJdKSx2PXkuZ2V0KFwibWlkZGxlXCIpLG09eS5nZXQoXCJlbmRcIik7cys9Zi5qb2luKHYpK20sYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIscyl9KCl9ZnVuY3Rpb24gcih0LGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBuPXQ7cmV0dXJuIFAoZSwoZnVuY3Rpb24odCxlKXtuPW4ucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXHtcXFxccypcIitlK1wiXFxcXHMqXFxcXH1cIixcImdcIiksdCl9KSksbn19ZnVuY3Rpb24gYVYodCl7aWYodCYmdC5hcmlhKXt2YXIgZT10LmFyaWE7bnVsbCE9ZS5zaG93JiYoZS5lbmFibGVkPWUuc2hvdyksZS5sYWJlbD1lLmxhYmVsfHx7fSxQKFtcImRlc2NyaXB0aW9uXCIsXCJnZW5lcmFsXCIsXCJzZXJpZXNcIixcImRhdGFcIl0sKGZ1bmN0aW9uKHQpe251bGwhPWVbdF0mJihlLmxhYmVsW3RdPWVbdF0pfSkpfX12YXIgc1Y9e3ZhbHVlOlwiZXFcIixcIjxcIjpcImx0XCIsXCI8PVwiOlwibHRlXCIsXCI+XCI6XCJndFwiLFwiPj1cIjpcImd0ZVwiLFwiPVwiOlwiZXFcIixcIiE9XCI6XCJuZVwiLFwiPD5cIjpcIm5lXCJ9LGxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtpZihudWxsPT0odGhpcy5fY29uZFZhbD1IKHQpP25ldyBSZWdFeHAodCk6JCh0KT90Om51bGwpKXt2YXIgZT1cIlwiOzAseXIoZSl9fXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm5cInN0cmluZ1wiPT09ZT90aGlzLl9jb25kVmFsLnRlc3QodCk6XCJudW1iZXJcIj09PWUmJnRoaXMuX2NvbmRWYWwudGVzdCh0K1wiXCIpfSx0fSgpLHVWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sdH0oKSxoVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY2hpbGRyZW4sZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCF0W2VdLmV2YWx1YXRlKCkpcmV0dXJuITE7cmV0dXJuITB9LHR9KCksY1Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLmV2YWx1YXRlKCkpcmV0dXJuITA7cmV0dXJuITF9LHR9KCkscFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmNoaWxkLmV2YWx1YXRlKCl9LHR9KCksZFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0hIXRoaXMudmFsdWVQYXJzZXIsZT0oMCx0aGlzLmdldFZhbHVlKSh0aGlzLnZhbHVlR2V0dGVyUGFyYW0pLG49dD90aGlzLnZhbHVlUGFyc2VyKGUpOm51bGwsaT0wO2k8dGhpcy5zdWJDb25kTGlzdC5sZW5ndGg7aSsrKWlmKCF0aGlzLnN1YkNvbmRMaXN0W2ldLmV2YWx1YXRlKHQ/bjplKSlyZXR1cm4hMTtyZXR1cm4hMH0sdH0oKTtmdW5jdGlvbiBmVih0LGUpe2lmKCEwPT09dHx8ITE9PT10KXt2YXIgbj1uZXcgdVY7cmV0dXJuIG4udmFsdWU9dCxufXZhciBpPVwiXCI7cmV0dXJuIHlWKHQpfHx5cihpKSx0LmFuZD9nVihcImFuZFwiLHQsZSk6dC5vcj9nVihcIm9yXCIsdCxlKTp0Lm5vdD9mdW5jdGlvbih0LGUpe3ZhciBuPXQubm90LGk9XCJcIjswO3lWKG4pfHx5cihpKTt2YXIgcj1uZXcgcFY7ci5jaGlsZD1mVihuLGUpLHIuY2hpbGR8fHlyKGkpO3JldHVybiByfSh0LGUpOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVwiXCIsaT1lLnByZXBhcmVHZXRWYWx1ZSh0KSxyPVtdLG89eih0KSxhPXQucGFyc2VyLHM9YT9TZChhKTpudWxsLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXTtpZihcInBhcnNlclwiIT09dSYmIWUudmFsdWVHZXR0ZXJBdHRyTWFwLmdldCh1KSl7dmFyIGg9ZHQoc1YsdSk/c1ZbdV06dSxjPXRbdV0scD1zP3MoYyk6YyxkPUFkKGgscCl8fFwicmVnXCI9PT1oJiZuZXcgbFYocCk7ZHx8eXIobiksci5wdXNoKGQpfX1yLmxlbmd0aHx8eXIobik7dmFyIGY9bmV3IGRWO3JldHVybiBmLnZhbHVlR2V0dGVyUGFyYW09aSxmLnZhbHVlUGFyc2VyPXMsZi5nZXRWYWx1ZT1lLmdldFZhbHVlLGYuc3ViQ29uZExpc3Q9cixmfSh0LGUpfWZ1bmN0aW9uIGdWKHQsZSxuKXt2YXIgaT1lW3RdLHI9XCJcIjtGKGkpfHx5cihyKSxpLmxlbmd0aHx8eXIocik7dmFyIG89XCJhbmRcIj09PXQ/bmV3IGhWOm5ldyBjVjtyZXR1cm4gby5jaGlsZHJlbj1PKGksKGZ1bmN0aW9uKHQpe3JldHVybiBmVih0LG4pfSkpLG8uY2hpbGRyZW4ubGVuZ3RofHx5cihyKSxvfWZ1bmN0aW9uIHlWKHQpe3JldHVybiBYKHQpJiYhayh0KX12YXIgdlY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fY29uZD1mVih0LGUpfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25kLmV2YWx1YXRlKCl9LHR9KCk7dmFyIG1WPXt0eXBlOlwiZWNoYXJ0czpmaWx0ZXJcIix0cmFuc2Zvcm06ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4saSxyPXQudXBzdHJlYW0sbz0obj10LmNvbmZpZyxpPXt2YWx1ZUdldHRlckF0dHJNYXA6aHQoe2RpbWVuc2lvbjohMH0pLHByZXBhcmVHZXRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1cIlwiLG49dC5kaW1lbnNpb247ZHQodCxcImRpbWVuc2lvblwiKXx8eXIoZSk7dmFyIGk9ci5nZXREaW1lbnNpb25JbmZvKG4pO3JldHVybiBpfHx5cihlKSx7ZGltSWR4OmkuaW5kZXh9fSxnZXRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gci5yZXRyaWV2ZVZhbHVlRnJvbUl0ZW0oZSx0LmRpbUlkeCl9fSxuZXcgdlYobixpKSksYT1bXSxzPTAsbD1yLmNvdW50KCk7czxsO3MrKyllPXIuZ2V0UmF3RGF0YUl0ZW0ocyksby5ldmFsdWF0ZSgpJiZhLnB1c2goZSk7cmV0dXJue2RhdGE6YX19fTt2YXIgX1Y9e3R5cGU6XCJlY2hhcnRzOnNvcnRcIix0cmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGU9dC51cHN0cmVhbSxuPXQuY29uZmlnLGk9XCJcIixyPV9yKG4pO3IubGVuZ3RofHx5cihpKTt2YXIgbz1bXTtQKHIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZGltZW5zaW9uLHI9dC5vcmRlcixhPXQucGFyc2VyLHM9dC5pbmNvbXBhcmFibGU7aWYobnVsbD09biYmeXIoaSksXCJhc2NcIiE9PXImJlwiZGVzY1wiIT09ciYmeXIoaSkscyYmXCJtaW5cIiE9PXMmJlwibWF4XCIhPT1zKXt2YXIgbD1cIlwiOzAseXIobCl9aWYoXCJhc2NcIiE9PXImJlwiZGVzY1wiIT09cil7dmFyIHU9XCJcIjswLHlyKHUpfXZhciBoPWUuZ2V0RGltZW5zaW9uSW5mbyhuKTtofHx5cihpKTt2YXIgYz1hP1NkKGEpOm51bGw7YSYmIWMmJnlyKGkpLG8ucHVzaCh7ZGltSWR4OmguaW5kZXgscGFyc2VyOmMsY29tcGFyYXRvcjpuZXcgVGQocixzKX0pfSkpO3ZhciBhPWUuc291cmNlRm9ybWF0O2EhPT1HYyYmYSE9PUhjJiZ5cihpKTtmb3IodmFyIHM9W10sbD0wLHU9ZS5jb3VudCgpO2w8dTtsKyspcy5wdXNoKGUuZ2V0UmF3RGF0YUl0ZW0obCkpO3JldHVybiBzLnNvcnQoKGZ1bmN0aW9uKHQsbil7Zm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciByPW9baV0sYT1lLnJldHJpZXZlVmFsdWVGcm9tSXRlbSh0LHIuZGltSWR4KSxzPWUucmV0cmlldmVWYWx1ZUZyb21JdGVtKG4sci5kaW1JZHgpO3IucGFyc2VyJiYoYT1yLnBhcnNlcihhKSxzPXIucGFyc2VyKHMpKTt2YXIgbD1yLmNvbXBhcmF0b3IuZXZhbHVhdGUoYSxzKTtpZigwIT09bClyZXR1cm4gbH1yZXR1cm4gMH0pKSx7ZGF0YTpzfX19O3ZhciB4Vj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9XCJkYXRhc2V0XCIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLGUsbixpKSx0aGlzLl9zb3VyY2VNYW5hZ2VyPW5ldyB6ZCh0aGlzKSxCZCh0aGlzKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5jYWxsKHRoaXMsZSxuKSxCZCh0aGlzKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX3NvdXJjZU1hbmFnZXIuZGlydHkoKX0sZS5wcm90b3R5cGUuZ2V0U291cmNlTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNYW5hZ2VyfSxlLnR5cGU9XCJkYXRhc2V0XCIsZS5kZWZhdWx0T3B0aW9uPXtzZXJpZXNMYXlvdXRCeTpVY30sZX0oTmMpLGJWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT1cImRhdGFzZXRcIixlfXJldHVybiBuKGUsdCksZS50eXBlPVwiZGF0YXNldFwiLGV9KHBmKTtlbShbZnVuY3Rpb24odCl7dC5yZWdpc3RlclBhaW50ZXIoXCJjYW52YXNcIix2Yil9XSksZW0oW2Z1bmN0aW9uKHQpe3QucmVnaXN0ZXJQYWludGVyKFwic3ZnXCIsbGIpfV0pLGVtKFtmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEpiKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwobWIpLHQucmVnaXN0ZXJMYXlvdXQoUWIoXCJsaW5lXCIsITApKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLlNUQVRJU1RJQyxudyhcImxpbmVcIikpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KHB3KSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwocncpLHQucmVnaXN0ZXJMYXlvdXQodC5QUklPUklUWS5WSVNVQUwuTEFZT1VULFYoaF8sXCJiYXJcIikpLHQucmVnaXN0ZXJMYXlvdXQodC5QUklPUklUWS5WSVNVQUwuUFJPR1JFU1NJVkVfTEFZT1VULGNfKSx0LnJlZ2lzdGVyVmlzdWFsKHtzZXJpZXNUeXBlOlwiYmFyXCIscmVzZXQ6ZnVuY3Rpb24odCl7dC5nZXREYXRhKCkuc2V0VmlzdWFsKFwibGVnZW5kU3ltYm9sXCIsXCJyb3VuZFJlY3RcIil9fSksdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5TVEFUSVNUSUMsbncoXCJiYXJcIikpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJjaGFuZ2VBeGlzT3JkZXJcIixldmVudDpcImNoYW5nZUF4aXNPcmRlclwiLHVwZGF0ZTpcInVwZGF0ZVwifSwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbXBvbmVudFR5cGV8fFwic2VyaWVzXCI7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpuLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt0LnNvcnRJbmZvJiZlLmF4aXMuc2V0Q2F0ZWdvcnlTb3J0SW5mbyh0LnNvcnRJbmZvKX0pKX0pKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhPdyksdC5yZWdpc3RlclNlcmllc01vZGVsKEV3KSxLZyhcInBpZVwiLHQucmVnaXN0ZXJBY3Rpb24pLHQucmVnaXN0ZXJMYXlvdXQoVihJdyxcInBpZVwiKSksdC5yZWdpc3RlclByb2Nlc3NvcihUdyhcInBpZVwiKSl9LGZ1bmN0aW9uKHQpe2VtKE5TKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoencpLHQucmVnaXN0ZXJDaGFydFZpZXcoR3cpLHQucmVnaXN0ZXJMYXlvdXQoUWIoXCJzY2F0dGVyXCIpKX0sZnVuY3Rpb24odCl7ZW0ocVMpLHQucmVnaXN0ZXJDaGFydFZpZXcoRlMpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChHUyksdC5yZWdpc3RlckxheW91dChFUyksdC5yZWdpc3RlclByb2Nlc3NvcihUdyhcInJhZGFyXCIpKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKFZTKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhWTSksdC5yZWdpc3RlclNlcmllc01vZGVsKEZNKSx0LnJlZ2lzdGVyTGF5b3V0KEhNKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLlNUQVRJU1RJQyxHTSksS2coXCJtYXBcIix0LnJlZ2lzdGVyQWN0aW9uKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhpSSksdC5yZWdpc3RlclNlcmllc01vZGVsKF9JKSx0LnJlZ2lzdGVyTGF5b3V0KGJJKSx0LnJlZ2lzdGVyVmlzdWFsKHdJKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwidHJlZUV4cGFuZEFuZENvbGxhcHNlXCIsZXZlbnQ6XCJ0cmVlRXhwYW5kQW5kQ29sbGFwc2VcIix1cGRhdGU6XCJ1cGRhdGVcIn0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInNlcmllc1wiLHN1YlR5cGU6XCJ0cmVlXCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3ZhciBuPXQuZGF0YUluZGV4LGk9ZS5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgobik7aS5pc0V4cGFuZD0haS5pc0V4cGFuZH0pKX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwidHJlZVJvYW1cIixldmVudDpcInRyZWVSb2FtXCIsdXBkYXRlOlwibm9uZVwifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwic2VyaWVzXCIsc3ViVHlwZTpcInRyZWVcIixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7dmFyIG49U0koZS5jb29yZGluYXRlU3lzdGVtLHQpO2Uuc2V0Q2VudGVyJiZlLnNldENlbnRlcihuLmNlbnRlciksZS5zZXRab29tJiZlLnNldFpvb20obi56b29tKX0pKX0pKX0odCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJTZXJpZXNNb2RlbChrSSksdC5yZWdpc3RlckNoYXJ0VmlldyhZSSksdC5yZWdpc3RlclZpc3VhbChzVCksdC5yZWdpc3RlckxheW91dCh4VCksZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxESS5sZW5ndGg7ZSsrKXQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6RElbZV0sdXBkYXRlOlwidXBkYXRlVmlld1wifSxBSSk7dC5yZWdpc3RlckFjdGlvbih7dHlwZTpcInRyZWVtYXBSb290VG9Ob2RlXCIsdXBkYXRlOlwidXBkYXRlVmlld1wifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwic2VyaWVzXCIsc3ViVHlwZTpcInRyZWVtYXBcIixxdWVyeTp0fSwoZnVuY3Rpb24oZSxuKXt2YXIgaT1NSSh0LFtcInRyZWVtYXBab29tVG9Ob2RlXCIsXCJ0cmVlbWFwUm9vdFRvTm9kZVwiXSxlKTtpZihpKXt2YXIgcj1lLmdldFZpZXdSb290KCk7ciYmKHQuZGlyZWN0aW9uPVRJKHIsaS5ub2RlKT9cInJvbGxVcFwiOlwiZHJpbGxEb3duXCIpLGUucmVzZXRWaWV3Um9vdChpLm5vZGUpfX0pKX0pKX0odCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoX0MpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChUQyksdC5yZWdpc3RlclByb2Nlc3NvcihUVCksdC5yZWdpc3RlclZpc3VhbChDVCksdC5yZWdpc3RlclZpc3VhbChEVCksdC5yZWdpc3RlckxheW91dChWVCksdC5yZWdpc3RlckxheW91dCh0LlBSSU9SSVRZLlZJU1VBTC5QT1NUX0NIQVJUX0xBWU9VVCxVVCksdC5yZWdpc3RlckxheW91dChqVCksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oXCJncmFwaFZpZXdcIix7ZGltZW5zaW9uczpRTS5kaW1lbnNpb25zLGNyZWF0ZTpxVH0pLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJmb2N1c05vZGVBZGphY2VuY3lcIixldmVudDpcImZvY3VzTm9kZUFkamFjZW5jeVwiLHVwZGF0ZTpcInNlcmllczpmb2N1c05vZGVBZGphY2VuY3lcIn0sKGZ1bmN0aW9uKCl7fSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJ1bmZvY3VzTm9kZUFkamFjZW5jeVwiLGV2ZW50OlwidW5mb2N1c05vZGVBZGphY2VuY3lcIix1cGRhdGU6XCJzZXJpZXM6dW5mb2N1c05vZGVBZGphY2VuY3lcIn0sKGZ1bmN0aW9uKCl7fSkpLHQucmVnaXN0ZXJBY3Rpb24oQ0MsKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInNlcmllc1wiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt2YXIgbj1TSShlLmNvb3JkaW5hdGVTeXN0ZW0sdCk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKG4uY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShuLnpvb20pfSkpfSkpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KFBDKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoT0MpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEVDKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoekMpLHQucmVnaXN0ZXJMYXlvdXQoQkMpLHQucmVnaXN0ZXJQcm9jZXNzb3IoVHcoXCJmdW5uZWxcIikpfSxmdW5jdGlvbih0KXtlbShoRCksdC5yZWdpc3RlckNoYXJ0VmlldyhWQyksdC5yZWdpc3RlclNlcmllc01vZGVsKFlDKSx0LnJlZ2lzdGVyVmlzdWFsKHQuUFJJT1JJVFkuVklTVUFMLkJSVVNILFpDKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhkRCksdC5yZWdpc3RlclNlcmllc01vZGVsKGZEKSx0LnJlZ2lzdGVyTGF5b3V0KGdEKSx0LnJlZ2lzdGVyVmlzdWFsKENEKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwiZHJhZ05vZGVcIixldmVudDpcImRyYWdub2RlXCIsdXBkYXRlOlwidXBkYXRlXCJ9LChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJzZXJpZXNcIixzdWJUeXBlOlwic2Fua2V5XCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2Uuc2V0Tm9kZVBvc2l0aW9uKHQuZGF0YUluZGV4LFt0LmxvY2FsWCx0LmxvY2FsWV0pfSkpfSkpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoREQpLHQucmVnaXN0ZXJDaGFydFZpZXcoTEQpLHQucmVnaXN0ZXJWaXN1YWwoRUQpLHQucmVnaXN0ZXJMYXlvdXQoQkQpLHQucmVnaXN0ZXJUcmFuc2Zvcm0oVkQpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEdEKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoSkQpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoUUQpLHQucmVnaXN0ZXJWaXN1YWwockwpLHQucmVnaXN0ZXJMYXlvdXQoYUwpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KGhMKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoY0wpLHQucmVnaXN0ZXJMYXlvdXQoUWIoXCJlZmZlY3RTY2F0dGVyXCIpKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhfTCksdC5yZWdpc3RlclNlcmllc01vZGVsKFNMKSx0LnJlZ2lzdGVyTGF5b3V0KG1MKSx0LnJlZ2lzdGVyVmlzdWFsKElMKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhBTCksdC5yZWdpc3RlclNlcmllc01vZGVsKERMKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhPTCksdC5yZWdpc3RlclNlcmllc01vZGVsKCRMKSx0LnJlZ2lzdGVyTGF5b3V0KFYoaF8sXCJwaWN0b3JpYWxCYXJcIikpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEpMKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoUUwpLHQucmVnaXN0ZXJMYXlvdXQodGspLHQucmVnaXN0ZXJQcm9jZXNzb3IoVHcoXCJ0aGVtZVJpdmVyXCIpKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhvayksdC5yZWdpc3RlclNlcmllc01vZGVsKGFrKSx0LnJlZ2lzdGVyTGF5b3V0KFYodWssXCJzdW5idXJzdFwiKSksdC5yZWdpc3RlclByb2Nlc3NvcihWKFR3LFwic3VuYnVyc3RcIikpLHQucmVnaXN0ZXJWaXN1YWwoY2spLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oe3R5cGU6aWssdXBkYXRlOlwidXBkYXRlVmlld1wifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwic2VyaWVzXCIsc3ViVHlwZTpcInN1bmJ1cnN0XCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUsbil7dmFyIGk9TUkodCxbaWtdLGUpO2lmKGkpe3ZhciByPWUuZ2V0Vmlld1Jvb3QoKTtyJiYodC5kaXJlY3Rpb249VEkocixpLm5vZGUpP1wicm9sbFVwXCI6XCJkcmlsbERvd25cIiksZS5yZXNldFZpZXdSb290KGkubm9kZSl9fSkpfSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6cmssdXBkYXRlOlwibm9uZVwifSwoZnVuY3Rpb24odCxlLG4pe3Q9SSh7fSx0KSxlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwic2VyaWVzXCIsc3ViVHlwZTpcInN1bmJ1cnN0XCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3ZhciBuPU1JKHQsW3JrXSxlKTtuJiYodC5kYXRhSW5kZXg9bi5ub2RlLmRhdGFJbmRleCl9KSksbi5kaXNwYXRjaEFjdGlvbihJKHQse3R5cGU6XCJoaWdobGlnaHRcIn0pKX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwic3VuYnVyc3RVbmhpZ2hsaWdodFwiLHVwZGF0ZTpcInVwZGF0ZVZpZXdcIn0sKGZ1bmN0aW9uKHQsZSxuKXt0PUkoe30sdCksbi5kaXNwYXRjaEFjdGlvbihJKHQse3R5cGU6XCJkb3ducGxheVwifSkpfSkpfSh0KX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhsUCksdC5yZWdpc3RlclNlcmllc01vZGVsKHNQKX1dKSxlbSgoZnVuY3Rpb24odCl7ZW0oTlMpLGVtKEFPKX0pKSxlbSgoZnVuY3Rpb24odCl7ZW0oQU8pLFNTLnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcyhcIlBvbGFyQXhpc1BvaW50ZXJcIixETyksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oXCJwb2xhclwiLEhPKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoa08pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHJSKSxxdyh0LFwiYW5nbGVcIixPTyxuUikscXcodCxcInJhZGl1c1wiLFJPLGlSKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhaTyksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoJE8pLHQucmVnaXN0ZXJMYXlvdXQoVihlUixcImJhclwiKSl9KSksZW0oKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtuLnVwZGF0ZT1cImdlbzp1cGRhdGVTZWxlY3RTdGF0dXNcIix0LnJlZ2lzdGVyQWN0aW9uKG4sKGZ1bmN0aW9uKHQsbil7dmFyIGk9e307cmV0dXJuIG4uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJnZW9cIixxdWVyeTp0fSwoZnVuY3Rpb24obil7bltlXSh0Lm5hbWUpLFAobi5jb29yZGluYXRlU3lzdGVtLnJlZ2lvbnMsKGZ1bmN0aW9uKHQpe2lbdC5uYW1lXT1uLmlzU2VsZWN0ZWQodC5uYW1lKXx8ITF9KSl9KSkse3NlbGVjdGVkOmksbmFtZTp0Lm5hbWV9fSkpfXQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKFwiZ2VvXCIsbFIpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbCh1UiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoaFIpLGUoXCJ0b2dnbGVTZWxlY3RlZFwiLHt0eXBlOlwiZ2VvVG9nZ2xlU2VsZWN0XCIsZXZlbnQ6XCJnZW9zZWxlY3RjaGFuZ2VkXCJ9KSxlKFwic2VsZWN0XCIse3R5cGU6XCJnZW9TZWxlY3RcIixldmVudDpcImdlb3NlbGVjdGVkXCJ9KSxlKFwidW5TZWxlY3RcIix7dHlwZTpcImdlb1VuU2VsZWN0XCIsZXZlbnQ6XCJnZW91bnNlbGVjdGVkXCJ9KSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwiZ2VvUm9hbVwiLGV2ZW50OlwiZ2VvUm9hbVwiLHVwZGF0ZTpcInVwZGF0ZVRyYW5zZm9ybVwifSwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbXBvbmVudFR5cGV8fFwic2VyaWVzXCI7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpuLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt2YXIgaT1lLmNvb3JkaW5hdGVTeXN0ZW07aWYoXCJnZW9cIj09PWkudHlwZSl7dmFyIHI9U0koaSx0LGUuZ2V0KFwic2NhbGVMaW1pdFwiKSk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKHIuY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShyLnpvb20pLFwic2VyaWVzXCI9PT1uJiZQKGUuc2VyaWVzR3JvdXAsKGZ1bmN0aW9uKHQpe3Quc2V0Q2VudGVyKHIuY2VudGVyKSx0LnNldFpvb20oci56b29tKX0pKX19KSl9KSl9KSksZW0oKGZ1bmN0aW9uKHQpe2VtKEFPKSxTUy5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3MoXCJTaW5nbGVBeGlzUG9pbnRlclwiLFNSKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhDUiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoZlIpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbCh5UikscXcodCxcInNpbmdsZVwiLHlSLHlSLmRlZmF1bHRPcHRpb24pLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKFwic2luZ2xlXCIseFIpfSkpLGVtKGhEKSxlbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKEFSKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhQUiksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oXCJjYWxlbmRhclwiLFJSKX0pKSxlbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKFZSKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhGUiksdC5yZWdpc3RlclByZXByb2Nlc3NvcihCUil9KSksZW0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChwTiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoZk4pLGhOKFwic2F2ZUFzSW1hZ2VcIixnTiksaE4oXCJtYWdpY1R5cGVcIixtTiksaE4oXCJkYXRhVmlld1wiLElOKSxoTihcImRhdGFab29tXCIsak4pLGhOKFwicmVzdG9yZVwiLExOKSxlbShzTil9KSksZW0oKGZ1bmN0aW9uKHQpe2VtKEFPKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoJE4pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGNFKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwic2hvd1RpcFwiLGV2ZW50Olwic2hvd1RpcFwiLHVwZGF0ZTpcInRvb2x0aXA6bWFudWFsbHlTaG93VGlwXCJ9LChmdW5jdGlvbigpe30pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwiaGlkZVRpcFwiLGV2ZW50OlwiaGlkZVRpcFwiLHVwZGF0ZTpcInRvb2x0aXA6bWFudWFsbHlIaWRlVGlwXCJ9LChmdW5jdGlvbigpe30pKX0pKSxlbShBTyksZW0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRWaWV3KE9FKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoUkUpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoeUUpLHQucmVnaXN0ZXJWaXN1YWwodC5QUklPUklUWS5WSVNVQUwuQlJVU0gsQUUpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJicnVzaFwiLGV2ZW50OlwiYnJ1c2hcIix1cGRhdGU6XCJ1cGRhdGVWaXN1YWxcIn0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcImJydXNoXCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2Uuc2V0QXJlYXModC5hcmVhcyl9KSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZTpcImJydXNoU2VsZWN0XCIsZXZlbnQ6XCJicnVzaFNlbGVjdGVkXCIsdXBkYXRlOlwibm9uZVwifSwoZnVuY3Rpb24oKXt9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZTpcImJydXNoRW5kXCIsZXZlbnQ6XCJicnVzaEVuZFwiLHVwZGF0ZTpcIm5vbmVcIn0sKGZ1bmN0aW9uKCl7fSkpLGhOKFwiYnJ1c2hcIix6RSl9KSksZW0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChCRSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoVkUpfSkpLGVtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoR0UpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KFVFKSx0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcihcInRpbWVsaW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJzbGlkZXJcIn0pKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwidGltZWxpbmVDaGFuZ2VcIixldmVudDpcInRpbWVsaW5lQ2hhbmdlZFwiLHVwZGF0ZTpcInByZXBhcmVBbmRVcGRhdGVcIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXRDb21wb25lbnQoXCJ0aW1lbGluZVwiKTtyZXR1cm4gbiYmbnVsbCE9dC5jdXJyZW50SW5kZXgmJihuLnNldEN1cnJlbnRJbmRleCh0LmN1cnJlbnRJbmRleCksIW4uZ2V0KFwibG9vcFwiLCEwKSYmbi5pc0luZGV4TWF4KCkmJm4uc2V0UGxheVN0YXRlKCExKSksZS5yZXNldE9wdGlvbihcInRpbWVsaW5lXCIse3JlcGxhY2VNZXJnZTpuLmdldChcInJlcGxhY2VNZXJnZVwiLCEwKX0pLFQoe2N1cnJlbnRJbmRleDpuLm9wdGlvbi5jdXJyZW50SW5kZXh9LHQpfSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJ0aW1lbGluZVBsYXlDaGFuZ2VcIixldmVudDpcInRpbWVsaW5lUGxheUNoYW5nZWRcIix1cGRhdGU6XCJ1cGRhdGVcIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXRDb21wb25lbnQoXCJ0aW1lbGluZVwiKTtuJiZudWxsIT10LnBsYXlTdGF0ZSYmbi5zZXRQbGF5U3RhdGUodC5wbGF5U3RhdGUpfSkpfSh0KSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKHFFKX0pKSxlbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGV6KSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhweiksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7dC5tYXJrUG9pbnQ9dC5tYXJrUG9pbnR8fHt9fSkpfSkpLGVtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoZHopLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHh6KSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXt0Lm1hcmtMaW5lPXQubWFya0xpbmV8fHt9fSkpfSkpLGVtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoYnopLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KER6KSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXt0Lm1hcmtBcmVhPXQubWFya0FyZWF8fHt9fSkpfSkpLGVtKChmdW5jdGlvbih0KXtlbShIeiksZW0ocXopfSkpLGVtKChmdW5jdGlvbih0KXtlbShzQiksZW0oeUIpfSkpLGVtKHNCKSxlbSh5QiksZW0oKGZ1bmN0aW9uKHQpe2VtKEtCKSxlbShlVil9KSksZW0oS0IpLGVtKGVWKSxlbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclByZXByb2Nlc3NvcihhViksdC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5BUklBLG9WKX0pKSxlbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclRyYW5zZm9ybShtViksdC5yZWdpc3RlclRyYW5zZm9ybShfVil9KSksZW0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbCh4ViksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoYlYpfSkpLHQuQXhpcz12eCx0LkNoYXJ0Vmlldz15Zix0LkNvbXBvbmVudE1vZGVsPU5jLHQuQ29tcG9uZW50Vmlldz1wZix0Lkxpc3Q9UG0sdC5Nb2RlbD1TaCx0LlBSSU9SSVRZPVd5LHQuU2VyaWVzTW9kZWw9cmYsdC5jb2xvcj1sbix0LmNvbm5lY3Q9ZnVuY3Rpb24odCl7aWYoRih0KSl7dmFyIGU9dDt0PW51bGwsRXkoZSwoZnVuY3Rpb24oZSl7bnVsbCE9ZS5ncm91cCYmKHQ9ZS5ncm91cCl9KSksdD10fHxcImdfXCIrUnYrKyxFeShlLChmdW5jdGlvbihlKXtlLmdyb3VwPXR9KSl9cmV0dXJuIFB2W3RdPSEwLHR9LHQuZGF0YVRvb2w9e30sdC5kZXBlbmRlbmNpZXM9e3pyZW5kZXI6XCI1LjAuM1wifSx0LmRpc0Nvbm5lY3Q9RXYsdC5kaXNjb25uZWN0PXp2LHQuZGlzcG9zZT1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdD90PWt2W3RdOnQgaW5zdGFuY2VvZiBtdnx8KHQ9QnYodCkpLHQgaW5zdGFuY2VvZiBtdiYmIXQuaXNEaXNwb3NlZCgpJiZ0LmRpc3Bvc2UoKX0sdC5lbnY9YSx0LmV4dGVuZENoYXJ0Vmlldz1mdW5jdGlvbih0KXt2YXIgZT15Zi5leHRlbmQodCk7cmV0dXJuIHlmLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRNb2RlbD1mdW5jdGlvbih0KXt2YXIgZT1OYy5leHRlbmQodCk7cmV0dXJuIE5jLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPXBmLmV4dGVuZCh0KTtyZXR1cm4gcGYucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmV4dGVuZFNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXJmLmV4dGVuZCh0KTtyZXR1cm4gcmYucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmZvcm1hdD1veCx0LmdldENvb3JkaW5hdGVTeXN0ZW1EaW1lbnNpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPV9wLmdldCh0KTtpZihlKXJldHVybiBlLmdldERpbWVuc2lvbnNJbmZvP2UuZ2V0RGltZW5zaW9uc0luZm8oKTplLmRpbWVuc2lvbnMuc2xpY2UoKX0sdC5nZXRJbnN0YW5jZUJ5RG9tPUJ2LHQuZ2V0SW5zdGFuY2VCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiBrdlt0XX0sdC5nZXRNYXA9ZnVuY3Rpb24odCl7dmFyIGU9bGcodCk7cmV0dXJuIGUmJmVbMF0mJntnZW9Kc29uOmVbMF0uZ2VvSlNPTixzcGVjaWFsQXJlYXM6ZVswXS5zcGVjaWFsQXJlYXN9fSx0LmdyYXBoaWM9cngsdC5oZWxwZXI9S18sdC5pbml0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Cdih0KTtpZihpKXJldHVybiBpO3ZhciByPW5ldyBtdih0LGUsbik7cmV0dXJuIHIuaWQ9XCJlY19cIitPdisrLGt2W3IuaWRdPXIsRXIodCxOdixyLmlkKSxwdihyKSxFeShUdiwoZnVuY3Rpb24odCl7dChyKX0pKSxyfSx0LmlubmVyRHJhd0VsZW1lbnRPbkNhbnZhcz1UeSx0Lm1hdHJpeD1TZSx0Lm51bWJlcj1ueCx0LnBhcnNlR2VvSlNPTj1leCx0LnBhcnNlR2VvSnNvbj1leCx0LnJlZ2lzdGVyQWN0aW9uPVl2LHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtPVh2LHQucmVnaXN0ZXJMYXlvdXQ9VXYsdC5yZWdpc3RlckxvYWRpbmc9S3YsdC5yZWdpc3RlckxvY2FsZT1PaCx0LnJlZ2lzdGVyTWFwPSR2LHQucmVnaXN0ZXJQb3N0SW5pdD1Idix0LnJlZ2lzdGVyUG9zdFVwZGF0ZT1Xdix0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yPUZ2LHQucmVnaXN0ZXJQcm9jZXNzb3I9R3YsdC5yZWdpc3RlclRoZW1lPVZ2LHQucmVnaXN0ZXJUcmFuc2Zvcm09SnYsdC5yZWdpc3RlclZpc3VhbD1adix0LnNldENhbnZhc0NyZWF0b3I9ZnVuY3Rpb24odCl7bShcImNyZWF0ZUNhbnZhc1wiLHQpfSx0LnRocm90dGxlPUlmLHQudGltZT1peCx0LnVzZT1lbSx0LnV0aWw9YXgsdC52ZWN0b3I9enQsdC52ZXJzaW9uPVwiNS4wLjFcIix0LnpyVXRpbD1ndCx0LnpyZW5kZXI9WWksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KSk7IiwiKGZ1bmN0aW9uKCQpe1xuICAkLmZuLnJvd0dyaWQgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgaWYob3B0aW9ucyA9PT0gJ2FwcGVuZGVkJykge1xuICAgICAgICBvcHRpb25zID0gJHRoaXMuZGF0YSgnZ3JpZC1vcHRpb25zJyk7XG4gICAgICAgIHZhciAkbGFzdFJvdyA9ICR0aGlzLmNoaWxkcmVuKCcuJyArIG9wdGlvbnMubGFzdFJvd0NsYXNzKTtcbiAgICAgICAgdmFyIGl0ZW1zID0gJGxhc3RSb3cubmV4dEFsbChvcHRpb25zLml0ZW1TZWxlY3RvcikuYWRkKCRsYXN0Um93KTtcbiAgICAgICAgbGF5b3V0KHRoaXMsIG9wdGlvbnMsIGl0ZW1zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCgge30sICQuZm4ucm93R3JpZC5kZWZhdWx0cywgb3B0aW9ucyApO1xuICAgICAgICAkdGhpcy5kYXRhKCdncmlkLW9wdGlvbnMnLCBvcHRpb25zKTtcbiAgICAgICAgbGF5b3V0KHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgaWYob3B0aW9ucy5yZXNpemUpIHtcbiAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZS5yb3dHcmlkJywge2NvbnRhaW5lcjogdGhpc30sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBsYXlvdXQoZXZlbnQuZGF0YS5jb250YWluZXIsIG9wdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIFxuICAkLmZuLnJvd0dyaWQuZGVmYXVsdHMgPSB7XG4gICAgbWluTWFyZ2luOiBudWxsLFxuICAgIG1heE1hcmdpbjogbnVsbCxcbiAgICByZXNpemU6IHRydWUsXG4gICAgbGFzdFJvd0NsYXNzOiAnbGFzdC1yb3cnLFxuICAgIGZpcnN0SXRlbUNsYXNzOiBudWxsXG4gIH07XG4gXG4gIGZ1bmN0aW9uIGxheW91dChjb250YWluZXIsIG9wdGlvbnMsIGl0ZW1zKSB7XG4gICAgdmFyIHJvd1dpZHRoID0gMCxcbiAgICAgICAgcm93RWxlbXMgPSBbXSxcbiAgICAgICAgaXRlbXMgPSBqUXVlcnkubWFrZUFycmF5KGl0ZW1zIHx8IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuaXRlbVNlbGVjdG9yKSksXG4gICAgICAgIGl0ZW1zU2l6ZSA9IGl0ZW1zLmxlbmd0aDtcbiAgICAvLyByZWFkXG4gICAgdmFyIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLmNsaWVudFdpZHRoLXBhcnNlRmxvYXQoJChjb250YWluZXIpLmNzcygncGFkZGluZy1sZWZ0JykpLXBhcnNlRmxvYXQoJChjb250YWluZXIpLmNzcygncGFkZGluZy1yaWdodCcpKS0xO1xuICAgIHZhciBpdGVtQXR0cnMgPSBbXTtcbiAgICB2YXIgdGhlSW1hZ2UsIHcsIGg7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGl0ZW1zU2l6ZTsgKytpKSB7XG4gICAgICB0aGVJbWFnZSA9IGl0ZW1zW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVswXTtcbiAgICAgIGlmICghdGhlSW1hZ2UpIHtcbiAgICAgICAgaXRlbXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAtLWk7XG4gICAgICAgIC0taXRlbXNTaXplO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8vIGdldCB3aWR0aCBhbmQgaGVpZ2h0IHZpYSBhdHRyaWJ1dGUgb3IganMgdmFsdWVcbiAgICAgIGlmICghKHcgPSBwYXJzZUludCh0aGVJbWFnZS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpKSkge1xuICAgICAgICB0aGVJbWFnZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdyA9IHRoZUltYWdlLm9mZnNldFdpZHRoKTtcbiAgICAgIH0gXG4gICAgICBpZiAoIShoID0gcGFyc2VJbnQodGhlSW1hZ2UuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpKSB7XG4gICAgICAgIHRoZUltYWdlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaCA9IHRoZUltYWdlLm9mZnNldEhlaWdodCk7XG4gICAgICB9IFxuICAgICAgXG4gICAgICBpdGVtQXR0cnNbaV0gPSB7XG4gICAgICAgIHdpZHRoOiB3LFxuICAgICAgICBoZWlnaHQ6IGhcbiAgICAgIH07XG4gICAgfVxuICAgIGl0ZW1zU2l6ZSA9IGl0ZW1zLmxlbmd0aDtcblxuICAgIC8vIHdyaXRlXG4gICAgZm9yKHZhciBpbmRleCA9IDA7IGluZGV4IDwgaXRlbXNTaXplOyArK2luZGV4KSB7XG4gICAgICBpZiAoaXRlbXNbaW5kZXhdLmNsYXNzTGlzdCkge1xuICAgICAgICBpdGVtc1tpbmRleF0uY2xhc3NMaXN0LnJlbW92ZShvcHRpb25zLmZpcnN0SXRlbUNsYXNzKTtcbiAgICAgICAgaXRlbXNbaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUob3B0aW9ucy5sYXN0Um93Q2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSUUgPDEwXG4gICAgICAgIGl0ZW1zW2luZGV4XS5jbGFzc05hbWUgPSBpdGVtc1tpbmRleF0uY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIG9wdGlvbnMuZmlyc3RJdGVtQ2xhc3MgKyAnfCcgKyBvcHRpb25zLmxhc3RSb3dDbGFzcyArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcbiAgICAgIH1cblxuICAgICAgcm93V2lkdGggKz0gaXRlbUF0dHJzW2luZGV4XS53aWR0aDtcbiAgICAgIHJvd0VsZW1zLnB1c2goaXRlbXNbaW5kZXhdKTtcbiAgICAgIFxuICAgICAgLy8gY2hlY2sgaWYgaXQgaXMgdGhlIGxhc3QgZWxlbWVudFxuICAgICAgaWYoaW5kZXggPT09IGl0ZW1zU2l6ZSAtIDEpIHtcbiAgICAgICAgZm9yKHZhciByb3dFbGVtSW5kZXggPSAwOyByb3dFbGVtSW5kZXg8cm93RWxlbXMubGVuZ3RoOyByb3dFbGVtSW5kZXgrKykge1xuICAgICAgICAgIC8vIGlmIGZpcnN0IGVsZW1lbnQgaW4gcm93XG4gICAgICAgICAgaWYocm93RWxlbUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByb3dFbGVtc1tyb3dFbGVtSW5kZXhdLmNsYXNzTmFtZSArPSAnICcgKyBvcHRpb25zLmxhc3RSb3dDbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcm93RWxlbXNbcm93RWxlbUluZGV4XS5zdHlsZS5jc3NUZXh0ID1cbiAgICAgICAgICAgICAgJ3dpZHRoOiAnICsgaXRlbUF0dHJzW2luZGV4K3BhcnNlSW50KHJvd0VsZW1JbmRleCktcm93RWxlbXMubGVuZ3RoKzFdLndpZHRoICsgJ3B4OycgK1xuICAgICAgICAgICAgICAnaGVpZ2h0OiAnICsgaXRlbUF0dHJzW2luZGV4K3BhcnNlSW50KHJvd0VsZW1JbmRleCktcm93RWxlbXMubGVuZ3RoKzFdLmhlaWdodCArICdweDsnICtcbiAgICAgICAgICAgICAgJ21hcmdpbi1yaWdodDonICsgKChyb3dFbGVtSW5kZXggPCByb3dFbGVtcy5sZW5ndGggLSAxKT9vcHRpb25zLm1pbk1hcmdpbisncHgnIDogMCk7XG4gICAgICAgIH1cbiAgICAgIH0gICAgICBcbiAgICAgIFxuICAgICAgLy8gY2hlY2sgd2hldGhlciB3aWR0aCBvZiByb3cgaXMgdG9vIGhpZ2hcbiAgICAgIGlmKHJvd1dpZHRoICsgb3B0aW9ucy5tYXhNYXJnaW4gKiAocm93RWxlbXMubGVuZ3RoIC0gMSkgPiBjb250YWluZXJXaWR0aCkge1xuICAgICAgICB2YXIgZGlmZiA9IHJvd1dpZHRoICsgb3B0aW9ucy5tYXhNYXJnaW4gKiAocm93RWxlbXMubGVuZ3RoIC0gMSkgLSBjb250YWluZXJXaWR0aDtcbiAgICAgICAgdmFyIG5yT2ZFbGVtcyA9IHJvd0VsZW1zLmxlbmd0aDtcbiAgICAgICAgLy8gY2hhbmdlIG1hcmdpblxuICAgICAgICB2YXIgbWF4U2F2ZSA9IChvcHRpb25zLm1heE1hcmdpbiAtIG9wdGlvbnMubWluTWFyZ2luKSAqIChuck9mRWxlbXMgLSAxKTtcbiAgICAgICAgaWYobWF4U2F2ZSA8IGRpZmYpIHtcbiAgICAgICAgICB2YXIgcm93TWFyZ2luID0gb3B0aW9ucy5taW5NYXJnaW47XG4gICAgICAgICAgZGlmZiAtPSAob3B0aW9ucy5tYXhNYXJnaW4gLSBvcHRpb25zLm1pbk1hcmdpbikgKiAobnJPZkVsZW1zIC0gMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJvd01hcmdpbiA9IG9wdGlvbnMubWF4TWFyZ2luIC0gZGlmZiAvIChuck9mRWxlbXMgLSAxKTtcbiAgICAgICAgICBkaWZmID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm93RWxlbSxcbiAgICAgICAgICB3aWR0aERpZmYgPSAwO1xuICAgICAgICBmb3IodmFyIHJvd0VsZW1JbmRleCA9IDA7IHJvd0VsZW1JbmRleDxyb3dFbGVtcy5sZW5ndGg7IHJvd0VsZW1JbmRleCsrKSB7XG4gICAgICAgICAgcm93RWxlbSA9IHJvd0VsZW1zW3Jvd0VsZW1JbmRleF07XG4gICAgICAgICAgdmFyIHJvd0VsZW1XaWR0aCA9IGl0ZW1BdHRyc1tpbmRleCtwYXJzZUludChyb3dFbGVtSW5kZXgpLXJvd0VsZW1zLmxlbmd0aCsxXS53aWR0aDtcbiAgICAgICAgICB2YXIgbmV3V2lkdGggPSByb3dFbGVtV2lkdGggLSAocm93RWxlbVdpZHRoIC8gcm93V2lkdGgpICogZGlmZjtcbiAgICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gTWF0aC5yb3VuZChpdGVtQXR0cnNbaW5kZXgrcGFyc2VJbnQocm93RWxlbUluZGV4KS1yb3dFbGVtcy5sZW5ndGgrMV0uaGVpZ2h0ICogKG5ld1dpZHRoIC8gcm93RWxlbVdpZHRoKSk7XG4gICAgICAgICAgaWYgKHdpZHRoRGlmZiArIDEgLSBuZXdXaWR0aCAlIDEgPj0gMC41ICkge1xuICAgICAgICAgICAgd2lkdGhEaWZmIC09IG5ld1dpZHRoICUgMTtcbiAgICAgICAgICAgIG5ld1dpZHRoID0gTWF0aC5mbG9vcihuZXdXaWR0aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoRGlmZiArPSAxIC0gbmV3V2lkdGggJSAxO1xuICAgICAgICAgICAgbmV3V2lkdGggPSBNYXRoLmNlaWwobmV3V2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByb3dFbGVtLnN0eWxlLmNzc1RleHQgPVxuICAgICAgICAgICAgICAnd2lkdGg6ICcgKyBuZXdXaWR0aCArICdweDsnICtcbiAgICAgICAgICAgICAgJ2hlaWdodDogJyArIG5ld0hlaWdodCArICdweDsnICtcbiAgICAgICAgICAgICAgJ21hcmdpbi1yaWdodDogJyArICgocm93RWxlbUluZGV4IDwgcm93RWxlbXMubGVuZ3RoIC0gMSk/cm93TWFyZ2luIDogMCkgKyAncHgnO1xuICAgICAgICAgIGlmKHJvd0VsZW1JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcm93RWxlbS5jbGFzc05hbWUgKz0gJyAnICsgb3B0aW9ucy5maXJzdEl0ZW1DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcm93RWxlbXMgPSBbXSxcbiAgICAgICAgICByb3dXaWR0aCA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG59KShqUXVlcnkpOyIsIi8qKlxuICogT3dsIENhcm91c2VsIHYyLjMuNFxuICogQ29weXJpZ2h0IDIwMTMtMjAxOCBEYXZpZCBEZXV0c2NoXG4gKiBMaWNlbnNlZCB1bmRlcjogU0VFIExJQ0VOU0UgSU4gaHR0cHM6Ly9naXRodWIuY29tL093bENhcm91c2VsMi9Pd2xDYXJvdXNlbDIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICovXG4hZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShiLGMpe3RoaXMuc2V0dGluZ3M9bnVsbCx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sZS5EZWZhdWx0cyxjKSx0aGlzLiRlbGVtZW50PWEoYiksdGhpcy5faGFuZGxlcnM9e30sdGhpcy5fcGx1Z2lucz17fSx0aGlzLl9zdXByZXNzPXt9LHRoaXMuX2N1cnJlbnQ9bnVsbCx0aGlzLl9zcGVlZD1udWxsLHRoaXMuX2Nvb3JkaW5hdGVzPVtdLHRoaXMuX2JyZWFrcG9pbnQ9bnVsbCx0aGlzLl93aWR0aD1udWxsLHRoaXMuX2l0ZW1zPVtdLHRoaXMuX2Nsb25lcz1bXSx0aGlzLl9tZXJnZXJzPVtdLHRoaXMuX3dpZHRocz1bXSx0aGlzLl9pbnZhbGlkYXRlZD17fSx0aGlzLl9waXBlPVtdLHRoaXMuX2RyYWc9e3RpbWU6bnVsbCx0YXJnZXQ6bnVsbCxwb2ludGVyOm51bGwsc3RhZ2U6e3N0YXJ0Om51bGwsY3VycmVudDpudWxsfSxkaXJlY3Rpb246bnVsbH0sdGhpcy5fc3RhdGVzPXtjdXJyZW50Ont9LHRhZ3M6e2luaXRpYWxpemluZzpbXCJidXN5XCJdLGFuaW1hdGluZzpbXCJidXN5XCJdLGRyYWdnaW5nOltcImludGVyYWN0aW5nXCJdfX0sYS5lYWNoKFtcIm9uUmVzaXplXCIsXCJvblRocm90dGxlZFJlc2l6ZVwiXSxhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5faGFuZGxlcnNbY109YS5wcm94eSh0aGlzW2NdLHRoaXMpfSx0aGlzKSksYS5lYWNoKGUuUGx1Z2lucyxhLnByb3h5KGZ1bmN0aW9uKGEsYil7dGhpcy5fcGx1Z2luc1thLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Euc2xpY2UoMSldPW5ldyBiKHRoaXMpfSx0aGlzKSksYS5lYWNoKGUuV29ya2VycyxhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5fcGlwZS5wdXNoKHtmaWx0ZXI6Yy5maWx0ZXIscnVuOmEucHJveHkoYy5ydW4sdGhpcyl9KX0sdGhpcykpLHRoaXMuc2V0dXAoKSx0aGlzLmluaXRpYWxpemUoKX1lLkRlZmF1bHRzPXtpdGVtczozLGxvb3A6ITEsY2VudGVyOiExLHJld2luZDohMSxjaGVja1Zpc2liaWxpdHk6ITAsbW91c2VEcmFnOiEwLHRvdWNoRHJhZzohMCxwdWxsRHJhZzohMCxmcmVlRHJhZzohMSxtYXJnaW46MCxzdGFnZVBhZGRpbmc6MCxtZXJnZTohMSxtZXJnZUZpdDohMCxhdXRvV2lkdGg6ITEsc3RhcnRQb3NpdGlvbjowLHJ0bDohMSxzbWFydFNwZWVkOjI1MCxmbHVpZFNwZWVkOiExLGRyYWdFbmRTcGVlZDohMSxyZXNwb25zaXZlOnt9LHJlc3BvbnNpdmVSZWZyZXNoUmF0ZToyMDAscmVzcG9uc2l2ZUJhc2VFbGVtZW50OmIsZmFsbGJhY2tFYXNpbmc6XCJzd2luZ1wiLHNsaWRlVHJhbnNpdGlvbjpcIlwiLGluZm86ITEsbmVzdGVkSXRlbVNlbGVjdG9yOiExLGl0ZW1FbGVtZW50OlwiZGl2XCIsc3RhZ2VFbGVtZW50OlwiZGl2XCIscmVmcmVzaENsYXNzOlwib3dsLXJlZnJlc2hcIixsb2FkZWRDbGFzczpcIm93bC1sb2FkZWRcIixsb2FkaW5nQ2xhc3M6XCJvd2wtbG9hZGluZ1wiLHJ0bENsYXNzOlwib3dsLXJ0bFwiLHJlc3BvbnNpdmVDbGFzczpcIm93bC1yZXNwb25zaXZlXCIsZHJhZ0NsYXNzOlwib3dsLWRyYWdcIixpdGVtQ2xhc3M6XCJvd2wtaXRlbVwiLHN0YWdlQ2xhc3M6XCJvd2wtc3RhZ2VcIixzdGFnZU91dGVyQ2xhc3M6XCJvd2wtc3RhZ2Utb3V0ZXJcIixncmFiQ2xhc3M6XCJvd2wtZ3JhYlwifSxlLldpZHRoPXtEZWZhdWx0OlwiZGVmYXVsdFwiLElubmVyOlwiaW5uZXJcIixPdXRlcjpcIm91dGVyXCJ9LGUuVHlwZT17RXZlbnQ6XCJldmVudFwiLFN0YXRlOlwic3RhdGVcIn0sZS5QbHVnaW5zPXt9LGUuV29ya2Vycz1be2ZpbHRlcjpbXCJ3aWR0aFwiLFwic2V0dGluZ3NcIl0scnVuOmZ1bmN0aW9uKCl7dGhpcy5fd2lkdGg9dGhpcy4kZWxlbWVudC53aWR0aCgpfX0se2ZpbHRlcjpbXCJ3aWR0aFwiLFwiaXRlbXNcIixcInNldHRpbmdzXCJdLHJ1bjpmdW5jdGlvbihhKXthLmN1cnJlbnQ9dGhpcy5faXRlbXMmJnRoaXMuX2l0ZW1zW3RoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCldfX0se2ZpbHRlcjpbXCJpdGVtc1wiLFwic2V0dGluZ3NcIl0scnVuOmZ1bmN0aW9uKCl7dGhpcy4kc3RhZ2UuY2hpbGRyZW4oXCIuY2xvbmVkXCIpLnJlbW92ZSgpfX0se2ZpbHRlcjpbXCJ3aWR0aFwiLFwiaXRlbXNcIixcInNldHRpbmdzXCJdLHJ1bjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNldHRpbmdzLm1hcmdpbnx8XCJcIixjPSF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCxkPXRoaXMuc2V0dGluZ3MucnRsLGU9e3dpZHRoOlwiYXV0b1wiLFwibWFyZ2luLWxlZnRcIjpkP2I6XCJcIixcIm1hcmdpbi1yaWdodFwiOmQ/XCJcIjpifTshYyYmdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5jc3MoZSksYS5jc3M9ZX19LHtmaWx0ZXI6W1wid2lkdGhcIixcIml0ZW1zXCIsXCJzZXR0aW5nc1wiXSxydW46ZnVuY3Rpb24oYSl7dmFyIGI9KHRoaXMud2lkdGgoKS90aGlzLnNldHRpbmdzLml0ZW1zKS50b0ZpeGVkKDMpLXRoaXMuc2V0dGluZ3MubWFyZ2luLGM9bnVsbCxkPXRoaXMuX2l0ZW1zLmxlbmd0aCxlPSF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCxmPVtdO2ZvcihhLml0ZW1zPXttZXJnZTohMSx3aWR0aDpifTtkLS07KWM9dGhpcy5fbWVyZ2Vyc1tkXSxjPXRoaXMuc2V0dGluZ3MubWVyZ2VGaXQmJk1hdGgubWluKGMsdGhpcy5zZXR0aW5ncy5pdGVtcyl8fGMsYS5pdGVtcy5tZXJnZT1jPjF8fGEuaXRlbXMubWVyZ2UsZltkXT1lP2IqYzp0aGlzLl9pdGVtc1tkXS53aWR0aCgpO3RoaXMuX3dpZHRocz1mfX0se2ZpbHRlcjpbXCJpdGVtc1wiLFwic2V0dGluZ3NcIl0scnVuOmZ1bmN0aW9uKCl7dmFyIGI9W10sYz10aGlzLl9pdGVtcyxkPXRoaXMuc2V0dGluZ3MsZT1NYXRoLm1heCgyKmQuaXRlbXMsNCksZj0yKk1hdGguY2VpbChjLmxlbmd0aC8yKSxnPWQubG9vcCYmYy5sZW5ndGg/ZC5yZXdpbmQ/ZTpNYXRoLm1heChlLGYpOjAsaD1cIlwiLGk9XCJcIjtmb3IoZy89MjtnPjA7KWIucHVzaCh0aGlzLm5vcm1hbGl6ZShiLmxlbmd0aC8yLCEwKSksaCs9Y1tiW2IubGVuZ3RoLTFdXVswXS5vdXRlckhUTUwsYi5wdXNoKHRoaXMubm9ybWFsaXplKGMubGVuZ3RoLTEtKGIubGVuZ3RoLTEpLzIsITApKSxpPWNbYltiLmxlbmd0aC0xXV1bMF0ub3V0ZXJIVE1MK2ksZy09MTt0aGlzLl9jbG9uZXM9YixhKGgpLmFkZENsYXNzKFwiY2xvbmVkXCIpLmFwcGVuZFRvKHRoaXMuJHN0YWdlKSxhKGkpLmFkZENsYXNzKFwiY2xvbmVkXCIpLnByZXBlbmRUbyh0aGlzLiRzdGFnZSl9fSx7ZmlsdGVyOltcIndpZHRoXCIsXCJpdGVtc1wiLFwic2V0dGluZ3NcIl0scnVuOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuc2V0dGluZ3MucnRsPzE6LTEsYj10aGlzLl9jbG9uZXMubGVuZ3RoK3RoaXMuX2l0ZW1zLmxlbmd0aCxjPS0xLGQ9MCxlPTAsZj1bXTsrK2M8YjspZD1mW2MtMV18fDAsZT10aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShjKV0rdGhpcy5zZXR0aW5ncy5tYXJnaW4sZi5wdXNoKGQrZSphKTt0aGlzLl9jb29yZGluYXRlcz1mfX0se2ZpbHRlcjpbXCJ3aWR0aFwiLFwiaXRlbXNcIixcInNldHRpbmdzXCJdLHJ1bjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nLGI9dGhpcy5fY29vcmRpbmF0ZXMsYz17d2lkdGg6TWF0aC5jZWlsKE1hdGguYWJzKGJbYi5sZW5ndGgtMV0pKSsyKmEsXCJwYWRkaW5nLWxlZnRcIjphfHxcIlwiLFwicGFkZGluZy1yaWdodFwiOmF8fFwiXCJ9O3RoaXMuJHN0YWdlLmNzcyhjKX19LHtmaWx0ZXI6W1wid2lkdGhcIixcIml0ZW1zXCIsXCJzZXR0aW5nc1wiXSxydW46ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoLGM9IXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLGQ9dGhpcy4kc3RhZ2UuY2hpbGRyZW4oKTtpZihjJiZhLml0ZW1zLm1lcmdlKWZvcig7Yi0tOylhLmNzcy53aWR0aD10aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShiKV0sZC5lcShiKS5jc3MoYS5jc3MpO2Vsc2UgYyYmKGEuY3NzLndpZHRoPWEuaXRlbXMud2lkdGgsZC5jc3MoYS5jc3MpKX19LHtmaWx0ZXI6W1wiaXRlbXNcIl0scnVuOmZ1bmN0aW9uKCl7dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoPDEmJnRoaXMuJHN0YWdlLnJlbW92ZUF0dHIoXCJzdHlsZVwiKX19LHtmaWx0ZXI6W1wid2lkdGhcIixcIml0ZW1zXCIsXCJzZXR0aW5nc1wiXSxydW46ZnVuY3Rpb24oYSl7YS5jdXJyZW50PWEuY3VycmVudD90aGlzLiRzdGFnZS5jaGlsZHJlbigpLmluZGV4KGEuY3VycmVudCk6MCxhLmN1cnJlbnQ9TWF0aC5tYXgodGhpcy5taW5pbXVtKCksTWF0aC5taW4odGhpcy5tYXhpbXVtKCksYS5jdXJyZW50KSksdGhpcy5yZXNldChhLmN1cnJlbnQpfX0se2ZpbHRlcjpbXCJwb3NpdGlvblwiXSxydW46ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyh0aGlzLl9jdXJyZW50KSl9fSx7ZmlsdGVyOltcIndpZHRoXCIsXCJwb3NpdGlvblwiLFwiaXRlbXNcIixcInNldHRpbmdzXCJdLHJ1bjpmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU9dGhpcy5zZXR0aW5ncy5ydGw/MTotMSxmPTIqdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcsZz10aGlzLmNvb3JkaW5hdGVzKHRoaXMuY3VycmVudCgpKStmLGg9Zyt0aGlzLndpZHRoKCkqZSxpPVtdO2ZvcihjPTAsZD10aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7YzxkO2MrKylhPXRoaXMuX2Nvb3JkaW5hdGVzW2MtMV18fDAsYj1NYXRoLmFicyh0aGlzLl9jb29yZGluYXRlc1tjXSkrZiplLCh0aGlzLm9wKGEsXCI8PVwiLGcpJiZ0aGlzLm9wKGEsXCI+XCIsaCl8fHRoaXMub3AoYixcIjxcIixnKSYmdGhpcy5vcChiLFwiPlwiLGgpKSYmaS5wdXNoKGMpO3RoaXMuJHN0YWdlLmNoaWxkcmVuKFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSx0aGlzLiRzdGFnZS5jaGlsZHJlbihcIjplcShcIitpLmpvaW4oXCIpLCA6ZXEoXCIpK1wiKVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSx0aGlzLiRzdGFnZS5jaGlsZHJlbihcIi5jZW50ZXJcIikucmVtb3ZlQ2xhc3MoXCJjZW50ZXJcIiksdGhpcy5zZXR0aW5ncy5jZW50ZXImJnRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5jdXJyZW50KCkpLmFkZENsYXNzKFwiY2VudGVyXCIpfX1dLGUucHJvdG90eXBlLmluaXRpYWxpemVTdGFnZT1mdW5jdGlvbigpe3RoaXMuJHN0YWdlPXRoaXMuJGVsZW1lbnQuZmluZChcIi5cIit0aGlzLnNldHRpbmdzLnN0YWdlQ2xhc3MpLHRoaXMuJHN0YWdlLmxlbmd0aHx8KHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcyksdGhpcy4kc3RhZ2U9YShcIjxcIit0aGlzLnNldHRpbmdzLnN0YWdlRWxlbWVudCtcIj5cIix7Y2xhc3M6dGhpcy5zZXR0aW5ncy5zdGFnZUNsYXNzfSkud3JhcChhKFwiPGRpdi8+XCIse2NsYXNzOnRoaXMuc2V0dGluZ3Muc3RhZ2VPdXRlckNsYXNzfSkpLHRoaXMuJGVsZW1lbnQuYXBwZW5kKHRoaXMuJHN0YWdlLnBhcmVudCgpKSl9LGUucHJvdG90eXBlLmluaXRpYWxpemVJdGVtcz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuJGVsZW1lbnQuZmluZChcIi5vd2wtaXRlbVwiKTtpZihiLmxlbmd0aClyZXR1cm4gdGhpcy5faXRlbXM9Yi5nZXQoKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGEoYil9KSx0aGlzLl9tZXJnZXJzPXRoaXMuX2l0ZW1zLm1hcChmdW5jdGlvbigpe3JldHVybiAxfSksdm9pZCB0aGlzLnJlZnJlc2goKTt0aGlzLnJlcGxhY2UodGhpcy4kZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLiRzdGFnZS5wYXJlbnQoKSkpLHRoaXMuaXNWaXNpYmxlKCk/dGhpcy5yZWZyZXNoKCk6dGhpcy5pbnZhbGlkYXRlKFwid2lkdGhcIiksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGluZ0NsYXNzKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpfSxlLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7aWYodGhpcy5lbnRlcihcImluaXRpYWxpemluZ1wiKSx0aGlzLnRyaWdnZXIoXCJpbml0aWFsaXplXCIpLHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5zZXR0aW5ncy5ydGxDbGFzcyx0aGlzLnNldHRpbmdzLnJ0bCksdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgmJiF0aGlzLmlzKFwicHJlLWxvYWRpbmdcIikpe3ZhciBhLGIsYzthPXRoaXMuJGVsZW1lbnQuZmluZChcImltZ1wiKSxiPXRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yP1wiLlwiK3RoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yOmQsYz10aGlzLiRlbGVtZW50LmNoaWxkcmVuKGIpLndpZHRoKCksYS5sZW5ndGgmJmM8PTAmJnRoaXMucHJlbG9hZEF1dG9XaWR0aEltYWdlcyhhKX10aGlzLmluaXRpYWxpemVTdGFnZSgpLHRoaXMuaW5pdGlhbGl6ZUl0ZW1zKCksdGhpcy5yZWdpc3RlckV2ZW50SGFuZGxlcnMoKSx0aGlzLmxlYXZlKFwiaW5pdGlhbGl6aW5nXCIpLHRoaXMudHJpZ2dlcihcImluaXRpYWxpemVkXCIpfSxlLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5zZXR0aW5ncy5jaGVja1Zpc2liaWxpdHl8fHRoaXMuJGVsZW1lbnQuaXMoXCI6dmlzaWJsZVwiKX0sZS5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnZpZXdwb3J0KCksYz10aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSxkPS0xLGU9bnVsbDtjPyhhLmVhY2goYyxmdW5jdGlvbihhKXthPD1iJiZhPmQmJihkPU51bWJlcihhKSl9KSxlPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxjW2RdKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnN0YWdlUGFkZGluZyYmKGUuc3RhZ2VQYWRkaW5nPWUuc3RhZ2VQYWRkaW5nKCkpLGRlbGV0ZSBlLnJlc3BvbnNpdmUsZS5yZXNwb25zaXZlQ2xhc3MmJnRoaXMuJGVsZW1lbnQuYXR0cihcImNsYXNzXCIsdGhpcy4kZWxlbWVudC5hdHRyKFwiY2xhc3NcIikucmVwbGFjZShuZXcgUmVnRXhwKFwiKFwiK3RoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MrXCItKVxcXFxTK1xcXFxzXCIsXCJnXCIpLFwiJDFcIitkKSkpOmU9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zKSx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VcIix7cHJvcGVydHk6e25hbWU6XCJzZXR0aW5nc1wiLHZhbHVlOmV9fSksdGhpcy5fYnJlYWtwb2ludD1kLHRoaXMuc2V0dGluZ3M9ZSx0aGlzLmludmFsaWRhdGUoXCJzZXR0aW5nc1wiKSx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse3Byb3BlcnR5OntuYW1lOlwic2V0dGluZ3NcIix2YWx1ZTp0aGlzLnNldHRpbmdzfX0pfSxlLnByb3RvdHlwZS5vcHRpb25zTG9naWM9ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCYmKHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nPSExLHRoaXMuc2V0dGluZ3MubWVyZ2U9ITEpfSxlLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMudHJpZ2dlcihcInByZXBhcmVcIix7Y29udGVudDpifSk7cmV0dXJuIGMuZGF0YXx8KGMuZGF0YT1hKFwiPFwiK3RoaXMuc2V0dGluZ3MuaXRlbUVsZW1lbnQrXCIvPlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaXRlbUNsYXNzKS5hcHBlbmQoYikpLHRoaXMudHJpZ2dlcihcInByZXBhcmVkXCIse2NvbnRlbnQ6Yy5kYXRhfSksYy5kYXRhfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGI9MCxjPXRoaXMuX3BpcGUubGVuZ3RoLGQ9YS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thXX0sdGhpcy5faW52YWxpZGF0ZWQpLGU9e307YjxjOykodGhpcy5faW52YWxpZGF0ZWQuYWxsfHxhLmdyZXAodGhpcy5fcGlwZVtiXS5maWx0ZXIsZCkubGVuZ3RoPjApJiZ0aGlzLl9waXBlW2JdLnJ1bihlKSxiKys7dGhpcy5faW52YWxpZGF0ZWQ9e30sIXRoaXMuaXMoXCJ2YWxpZFwiKSYmdGhpcy5lbnRlcihcInZhbGlkXCIpfSxlLnByb3RvdHlwZS53aWR0aD1mdW5jdGlvbihhKXtzd2l0Y2goYT1hfHxlLldpZHRoLkRlZmF1bHQpe2Nhc2UgZS5XaWR0aC5Jbm5lcjpjYXNlIGUuV2lkdGguT3V0ZXI6cmV0dXJuIHRoaXMuX3dpZHRoO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX3dpZHRoLTIqdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcrdGhpcy5zZXR0aW5ncy5tYXJnaW59fSxlLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dGhpcy5lbnRlcihcInJlZnJlc2hpbmdcIiksdGhpcy50cmlnZ2VyKFwicmVmcmVzaFwiKSx0aGlzLnNldHVwKCksdGhpcy5vcHRpb25zTG9naWMoKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpLHRoaXMudXBkYXRlKCksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKSx0aGlzLmxlYXZlKFwicmVmcmVzaGluZ1wiKSx0aGlzLnRyaWdnZXIoXCJyZWZyZXNoZWRcIil9LGUucHJvdG90eXBlLm9uVGhyb3R0bGVkUmVzaXplPWZ1bmN0aW9uKCl7Yi5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lciksdGhpcy5yZXNpemVUaW1lcj1iLnNldFRpbWVvdXQodGhpcy5faGFuZGxlcnMub25SZXNpemUsdGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlUmVmcmVzaFJhdGUpfSxlLnByb3RvdHlwZS5vblJlc2l6ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5faXRlbXMubGVuZ3RoJiYodGhpcy5fd2lkdGghPT10aGlzLiRlbGVtZW50LndpZHRoKCkmJighIXRoaXMuaXNWaXNpYmxlKCkmJih0aGlzLmVudGVyKFwicmVzaXppbmdcIiksdGhpcy50cmlnZ2VyKFwicmVzaXplXCIpLmlzRGVmYXVsdFByZXZlbnRlZCgpPyh0aGlzLmxlYXZlKFwicmVzaXppbmdcIiksITEpOih0aGlzLmludmFsaWRhdGUoXCJ3aWR0aFwiKSx0aGlzLnJlZnJlc2goKSx0aGlzLmxlYXZlKFwicmVzaXppbmdcIiksdm9pZCB0aGlzLnRyaWdnZXIoXCJyZXNpemVkXCIpKSkpKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJFdmVudEhhbmRsZXJzPWZ1bmN0aW9uKCl7YS5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJHN0YWdlLm9uKGEuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCtcIi5vd2wuY29yZVwiLGEucHJveHkodGhpcy5vblRyYW5zaXRpb25FbmQsdGhpcykpLCExIT09dGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlJiZ0aGlzLm9uKGIsXCJyZXNpemVcIix0aGlzLl9oYW5kbGVycy5vblRocm90dGxlZFJlc2l6ZSksdGhpcy5zZXR0aW5ncy5tb3VzZURyYWcmJih0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpLHRoaXMuJHN0YWdlLm9uKFwibW91c2Vkb3duLm93bC5jb3JlXCIsYS5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LHRoaXMpKSx0aGlzLiRzdGFnZS5vbihcImRyYWdzdGFydC5vd2wuY29yZSBzZWxlY3RzdGFydC5vd2wuY29yZVwiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksdGhpcy5zZXR0aW5ncy50b3VjaERyYWcmJih0aGlzLiRzdGFnZS5vbihcInRvdWNoc3RhcnQub3dsLmNvcmVcIixhLnByb3h5KHRoaXMub25EcmFnU3RhcnQsdGhpcykpLHRoaXMuJHN0YWdlLm9uKFwidG91Y2hjYW5jZWwub3dsLmNvcmVcIixhLnByb3h5KHRoaXMub25EcmFnRW5kLHRoaXMpKSl9LGUucHJvdG90eXBlLm9uRHJhZ1N0YXJ0PWZ1bmN0aW9uKGIpe3ZhciBkPW51bGw7MyE9PWIud2hpY2gmJihhLnN1cHBvcnQudHJhbnNmb3JtPyhkPXRoaXMuJHN0YWdlLmNzcyhcInRyYW5zZm9ybVwiKS5yZXBsYWNlKC8uKlxcKHxcXCl8IC9nLFwiXCIpLnNwbGl0KFwiLFwiKSxkPXt4OmRbMTY9PT1kLmxlbmd0aD8xMjo0XSx5OmRbMTY9PT1kLmxlbmd0aD8xMzo1XX0pOihkPXRoaXMuJHN0YWdlLnBvc2l0aW9uKCksZD17eDp0aGlzLnNldHRpbmdzLnJ0bD9kLmxlZnQrdGhpcy4kc3RhZ2Uud2lkdGgoKS10aGlzLndpZHRoKCkrdGhpcy5zZXR0aW5ncy5tYXJnaW46ZC5sZWZ0LHk6ZC50b3B9KSx0aGlzLmlzKFwiYW5pbWF0aW5nXCIpJiYoYS5zdXBwb3J0LnRyYW5zZm9ybT90aGlzLmFuaW1hdGUoZC54KTp0aGlzLiRzdGFnZS5zdG9wKCksdGhpcy5pbnZhbGlkYXRlKFwicG9zaXRpb25cIikpLHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcyxcIm1vdXNlZG93blwiPT09Yi50eXBlKSx0aGlzLnNwZWVkKDApLHRoaXMuX2RyYWcudGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9kcmFnLnRhcmdldD1hKGIudGFyZ2V0KSx0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0PWQsdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50PWQsdGhpcy5fZHJhZy5wb2ludGVyPXRoaXMucG9pbnRlcihiKSxhKGMpLm9uKFwibW91c2V1cC5vd2wuY29yZSB0b3VjaGVuZC5vd2wuY29yZVwiLGEucHJveHkodGhpcy5vbkRyYWdFbmQsdGhpcykpLGEoYykub25lKFwibW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZVwiLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlcix0aGlzLnBvaW50ZXIoYikpO2EoYykub24oXCJtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlXCIsYS5wcm94eSh0aGlzLm9uRHJhZ01vdmUsdGhpcykpLE1hdGguYWJzKGQueCk8TWF0aC5hYnMoZC55KSYmdGhpcy5pcyhcInZhbGlkXCIpfHwoYi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZW50ZXIoXCJkcmFnZ2luZ1wiKSx0aGlzLnRyaWdnZXIoXCJkcmFnXCIpKX0sdGhpcykpKX0sZS5wcm90b3R5cGUub25EcmFnTW92ZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsLGM9bnVsbCxkPW51bGwsZT10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLHRoaXMucG9pbnRlcihhKSksZj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5zdGFnZS5zdGFydCxlKTt0aGlzLmlzKFwiZHJhZ2dpbmdcIikmJihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5zZXR0aW5ncy5sb29wPyhiPXRoaXMuY29vcmRpbmF0ZXModGhpcy5taW5pbXVtKCkpLGM9dGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSsxKS1iLGYueD0oKGYueC1iKSVjK2MpJWMrYik6KGI9dGhpcy5zZXR0aW5ncy5ydGw/dGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSk6dGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSksYz10aGlzLnNldHRpbmdzLnJ0bD90aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTp0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpKSxkPXRoaXMuc2V0dGluZ3MucHVsbERyYWc/LTEqZS54LzU6MCxmLng9TWF0aC5tYXgoTWF0aC5taW4oZi54LGIrZCksYytkKSksdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50PWYsdGhpcy5hbmltYXRlKGYueCkpfSxlLnByb3RvdHlwZS5vbkRyYWdFbmQ9ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlcix0aGlzLnBvaW50ZXIoYikpLGU9dGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50LGY9ZC54PjBedGhpcy5zZXR0aW5ncy5ydGw/XCJsZWZ0XCI6XCJyaWdodFwiO2EoYykub2ZmKFwiLm93bC5jb3JlXCIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcyksKDAhPT1kLngmJnRoaXMuaXMoXCJkcmFnZ2luZ1wiKXx8IXRoaXMuaXMoXCJ2YWxpZFwiKSkmJih0aGlzLnNwZWVkKHRoaXMuc2V0dGluZ3MuZHJhZ0VuZFNwZWVkfHx0aGlzLnNldHRpbmdzLnNtYXJ0U3BlZWQpLHRoaXMuY3VycmVudCh0aGlzLmNsb3Nlc3QoZS54LDAhPT1kLng/Zjp0aGlzLl9kcmFnLmRpcmVjdGlvbikpLHRoaXMuaW52YWxpZGF0ZShcInBvc2l0aW9uXCIpLHRoaXMudXBkYXRlKCksdGhpcy5fZHJhZy5kaXJlY3Rpb249ZiwoTWF0aC5hYnMoZC54KT4zfHwobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl9kcmFnLnRpbWU+MzAwKSYmdGhpcy5fZHJhZy50YXJnZXQub25lKFwiY2xpY2sub3dsLmNvcmVcIixmdW5jdGlvbigpe3JldHVybiExfSkpLHRoaXMuaXMoXCJkcmFnZ2luZ1wiKSYmKHRoaXMubGVhdmUoXCJkcmFnZ2luZ1wiKSx0aGlzLnRyaWdnZXIoXCJkcmFnZ2VkXCIpKX0sZS5wcm90b3R5cGUuY2xvc2VzdD1mdW5jdGlvbihiLGMpe3ZhciBlPS0xLGY9MzAsZz10aGlzLndpZHRoKCksaD10aGlzLmNvb3JkaW5hdGVzKCk7cmV0dXJuIHRoaXMuc2V0dGluZ3MuZnJlZURyYWd8fGEuZWFjaChoLGEucHJveHkoZnVuY3Rpb24oYSxpKXtyZXR1cm5cImxlZnRcIj09PWMmJmI+aS1mJiZiPGkrZj9lPWE6XCJyaWdodFwiPT09YyYmYj5pLWctZiYmYjxpLWcrZj9lPWErMTp0aGlzLm9wKGIsXCI8XCIsaSkmJnRoaXMub3AoYixcIj5cIixoW2ErMV0hPT1kP2hbYSsxXTppLWcpJiYoZT1cImxlZnRcIj09PWM/YSsxOmEpLC0xPT09ZX0sdGhpcykpLHRoaXMuc2V0dGluZ3MubG9vcHx8KHRoaXMub3AoYixcIj5cIixoW3RoaXMubWluaW11bSgpXSk/ZT1iPXRoaXMubWluaW11bSgpOnRoaXMub3AoYixcIjxcIixoW3RoaXMubWF4aW11bSgpXSkmJihlPWI9dGhpcy5tYXhpbXVtKCkpKSxlfSxlLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuc3BlZWQoKT4wO3RoaXMuaXMoXCJhbmltYXRpbmdcIikmJnRoaXMub25UcmFuc2l0aW9uRW5kKCksYyYmKHRoaXMuZW50ZXIoXCJhbmltYXRpbmdcIiksdGhpcy50cmlnZ2VyKFwidHJhbnNsYXRlXCIpKSxhLnN1cHBvcnQudHJhbnNmb3JtM2QmJmEuc3VwcG9ydC50cmFuc2l0aW9uP3RoaXMuJHN0YWdlLmNzcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlM2QoXCIrYitcInB4LDBweCwwcHgpXCIsdHJhbnNpdGlvbjp0aGlzLnNwZWVkKCkvMWUzK1wic1wiKyh0aGlzLnNldHRpbmdzLnNsaWRlVHJhbnNpdGlvbj9cIiBcIit0aGlzLnNldHRpbmdzLnNsaWRlVHJhbnNpdGlvbjpcIlwiKX0pOmM/dGhpcy4kc3RhZ2UuYW5pbWF0ZSh7bGVmdDpiK1wicHhcIn0sdGhpcy5zcGVlZCgpLHRoaXMuc2V0dGluZ3MuZmFsbGJhY2tFYXNpbmcsYS5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCx0aGlzKSk6dGhpcy4kc3RhZ2UuY3NzKHtsZWZ0OmIrXCJweFwifSl9LGUucHJvdG90eXBlLmlzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9zdGF0ZXMuY3VycmVudFthXSYmdGhpcy5fc3RhdGVzLmN1cnJlbnRbYV0+MH0sZS5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbihhKXtpZihhPT09ZClyZXR1cm4gdGhpcy5fY3VycmVudDtpZigwPT09dGhpcy5faXRlbXMubGVuZ3RoKXJldHVybiBkO2lmKGE9dGhpcy5ub3JtYWxpemUoYSksdGhpcy5fY3VycmVudCE9PWEpe3ZhciBiPXRoaXMudHJpZ2dlcihcImNoYW5nZVwiLHtwcm9wZXJ0eTp7bmFtZTpcInBvc2l0aW9uXCIsdmFsdWU6YX19KTtiLmRhdGEhPT1kJiYoYT10aGlzLm5vcm1hbGl6ZShiLmRhdGEpKSx0aGlzLl9jdXJyZW50PWEsdGhpcy5pbnZhbGlkYXRlKFwicG9zaXRpb25cIiksdGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHtwcm9wZXJ0eTp7bmFtZTpcInBvc2l0aW9uXCIsdmFsdWU6dGhpcy5fY3VycmVudH19KX1yZXR1cm4gdGhpcy5fY3VycmVudH0sZS5wcm90b3R5cGUuaW52YWxpZGF0ZT1mdW5jdGlvbihiKXtyZXR1cm5cInN0cmluZ1wiPT09YS50eXBlKGIpJiYodGhpcy5faW52YWxpZGF0ZWRbYl09ITAsdGhpcy5pcyhcInZhbGlkXCIpJiZ0aGlzLmxlYXZlKFwidmFsaWRcIikpLGEubWFwKHRoaXMuX2ludmFsaWRhdGVkLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9KX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oYSl7KGE9dGhpcy5ub3JtYWxpemUoYSkpIT09ZCYmKHRoaXMuX3NwZWVkPTAsdGhpcy5fY3VycmVudD1hLHRoaXMuc3VwcHJlc3MoW1widHJhbnNsYXRlXCIsXCJ0cmFuc2xhdGVkXCJdKSx0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyhhKSksdGhpcy5yZWxlYXNlKFtcInRyYW5zbGF0ZVwiLFwidHJhbnNsYXRlZFwiXSkpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9pdGVtcy5sZW5ndGgsZT1iPzA6dGhpcy5fY2xvbmVzLmxlbmd0aDtyZXR1cm4hdGhpcy5pc051bWVyaWMoYSl8fGM8MT9hPWQ6KGE8MHx8YT49YytlKSYmKGE9KChhLWUvMiklYytjKSVjK2UvMiksYX0sZS5wcm90b3R5cGUucmVsYXRpdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEtPXRoaXMuX2Nsb25lcy5sZW5ndGgvMix0aGlzLm5vcm1hbGl6ZShhLCEwKX0sZS5wcm90b3R5cGUubWF4aW11bT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzLnNldHRpbmdzLGY9dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoO2lmKGUubG9vcClmPXRoaXMuX2Nsb25lcy5sZW5ndGgvMit0aGlzLl9pdGVtcy5sZW5ndGgtMTtlbHNlIGlmKGUuYXV0b1dpZHRofHxlLm1lcmdlKXtpZihiPXRoaXMuX2l0ZW1zLmxlbmd0aClmb3IoYz10aGlzLl9pdGVtc1stLWJdLndpZHRoKCksZD10aGlzLiRlbGVtZW50LndpZHRoKCk7Yi0tJiYhKChjKz10aGlzLl9pdGVtc1tiXS53aWR0aCgpK3RoaXMuc2V0dGluZ3MubWFyZ2luKT5kKTspO2Y9YisxfWVsc2UgZj1lLmNlbnRlcj90aGlzLl9pdGVtcy5sZW5ndGgtMTp0aGlzLl9pdGVtcy5sZW5ndGgtZS5pdGVtcztyZXR1cm4gYSYmKGYtPXRoaXMuX2Nsb25lcy5sZW5ndGgvMiksTWF0aC5tYXgoZiwwKX0sZS5wcm90b3R5cGUubWluaW11bT1mdW5jdGlvbihhKXtyZXR1cm4gYT8wOnRoaXMuX2Nsb25lcy5sZW5ndGgvMn0sZS5wcm90b3R5cGUuaXRlbXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1kP3RoaXMuX2l0ZW1zLnNsaWNlKCk6KGE9dGhpcy5ub3JtYWxpemUoYSwhMCksdGhpcy5faXRlbXNbYV0pfSxlLnByb3RvdHlwZS5tZXJnZXJzPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09ZD90aGlzLl9tZXJnZXJzLnNsaWNlKCk6KGE9dGhpcy5ub3JtYWxpemUoYSwhMCksdGhpcy5fbWVyZ2Vyc1thXSl9LGUucHJvdG90eXBlLmNsb25lcz1mdW5jdGlvbihiKXt2YXIgYz10aGlzLl9jbG9uZXMubGVuZ3RoLzIsZT1jK3RoaXMuX2l0ZW1zLmxlbmd0aCxmPWZ1bmN0aW9uKGEpe3JldHVybiBhJTI9PTA/ZSthLzI6Yy0oYSsxKS8yfTtyZXR1cm4gYj09PWQ/YS5tYXAodGhpcy5fY2xvbmVzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYil9KTphLm1hcCh0aGlzLl9jbG9uZXMsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYT09PWI/ZihjKTpudWxsfSl9LGUucHJvdG90eXBlLnNwZWVkPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09ZCYmKHRoaXMuX3NwZWVkPWEpLHRoaXMuX3NwZWVkfSxlLnByb3RvdHlwZS5jb29yZGluYXRlcz1mdW5jdGlvbihiKXt2YXIgYyxlPTEsZj1iLTE7cmV0dXJuIGI9PT1kP2EubWFwKHRoaXMuX2Nvb3JkaW5hdGVzLGEucHJveHkoZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcyhiKX0sdGhpcykpOih0aGlzLnNldHRpbmdzLmNlbnRlcj8odGhpcy5zZXR0aW5ncy5ydGwmJihlPS0xLGY9YisxKSxjPXRoaXMuX2Nvb3JkaW5hdGVzW2JdLGMrPSh0aGlzLndpZHRoKCktYysodGhpcy5fY29vcmRpbmF0ZXNbZl18fDApKS8yKmUpOmM9dGhpcy5fY29vcmRpbmF0ZXNbZl18fDAsYz1NYXRoLmNlaWwoYykpfSxlLnByb3RvdHlwZS5kdXJhdGlvbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIDA9PT1jPzA6TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5hYnMoYi1hKSwxKSw2KSpNYXRoLmFicyhjfHx0aGlzLnNldHRpbmdzLnNtYXJ0U3BlZWQpfSxlLnByb3RvdHlwZS50bz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3VycmVudCgpLGQ9bnVsbCxlPWEtdGhpcy5yZWxhdGl2ZShjKSxmPShlPjApLShlPDApLGc9dGhpcy5faXRlbXMubGVuZ3RoLGg9dGhpcy5taW5pbXVtKCksaT10aGlzLm1heGltdW0oKTt0aGlzLnNldHRpbmdzLmxvb3A/KCF0aGlzLnNldHRpbmdzLnJld2luZCYmTWF0aC5hYnMoZSk+Zy8yJiYoZSs9LTEqZipnKSxhPWMrZSwoZD0oKGEtaCklZytnKSVnK2gpIT09YSYmZC1lPD1pJiZkLWU+MCYmKGM9ZC1lLGE9ZCx0aGlzLnJlc2V0KGMpKSk6dGhpcy5zZXR0aW5ncy5yZXdpbmQ/KGkrPTEsYT0oYSVpK2kpJWkpOmE9TWF0aC5tYXgoaCxNYXRoLm1pbihpLGEpKSx0aGlzLnNwZWVkKHRoaXMuZHVyYXRpb24oYyxhLGIpKSx0aGlzLmN1cnJlbnQoYSksdGhpcy5pc1Zpc2libGUoKSYmdGhpcy51cGRhdGUoKX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihhKXthPWF8fCExLHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSkrMSxhKX0sZS5wcm90b3R5cGUucHJldj1mdW5jdGlvbihhKXthPWF8fCExLHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSktMSxhKX0sZS5wcm90b3R5cGUub25UcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGEpe2lmKGEhPT1kJiYoYS5zdG9wUHJvcGFnYXRpb24oKSwoYS50YXJnZXR8fGEuc3JjRWxlbWVudHx8YS5vcmlnaW5hbFRhcmdldCkhPT10aGlzLiRzdGFnZS5nZXQoMCkpKXJldHVybiExO3RoaXMubGVhdmUoXCJhbmltYXRpbmdcIiksdGhpcy50cmlnZ2VyKFwidHJhbnNsYXRlZFwiKX0sZS5wcm90b3R5cGUudmlld3BvcnQ9ZnVuY3Rpb24oKXt2YXIgZDtyZXR1cm4gdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVCYXNlRWxlbWVudCE9PWI/ZD1hKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZUVsZW1lbnQpLndpZHRoKCk6Yi5pbm5lcldpZHRoP2Q9Yi5pbm5lcldpZHRoOmMuZG9jdW1lbnRFbGVtZW50JiZjLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aD9kPWMuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmNvbnNvbGUud2FybihcIkNhbiBub3QgZGV0ZWN0IHZpZXdwb3J0IHdpZHRoLlwiKSxkfSxlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKGIpe3RoaXMuJHN0YWdlLmVtcHR5KCksdGhpcy5faXRlbXM9W10sYiYmKGI9YiBpbnN0YW5jZW9mIGpRdWVyeT9iOmEoYikpLHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yJiYoYj1iLmZpbmQoXCIuXCIrdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3IpKSxiLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5ub2RlVHlwZX0pLmVhY2goYS5wcm94eShmdW5jdGlvbihhLGIpe2I9dGhpcy5wcmVwYXJlKGIpLHRoaXMuJHN0YWdlLmFwcGVuZChiKSx0aGlzLl9pdGVtcy5wdXNoKGIpLHRoaXMuX21lcmdlcnMucHVzaCgxKmIuZmluZChcIltkYXRhLW1lcmdlXVwiKS5hZGRCYWNrKFwiW2RhdGEtbWVyZ2VdXCIpLmF0dHIoXCJkYXRhLW1lcmdlXCIpfHwxKX0sdGhpcykpLHRoaXMucmVzZXQodGhpcy5pc051bWVyaWModGhpcy5zZXR0aW5ncy5zdGFydFBvc2l0aW9uKT90aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb246MCksdGhpcy5pbnZhbGlkYXRlKFwiaXRlbXNcIil9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihiLGMpe3ZhciBlPXRoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCk7Yz1jPT09ZD90aGlzLl9pdGVtcy5sZW5ndGg6dGhpcy5ub3JtYWxpemUoYywhMCksYj1iIGluc3RhbmNlb2YgalF1ZXJ5P2I6YShiKSx0aGlzLnRyaWdnZXIoXCJhZGRcIix7Y29udGVudDpiLHBvc2l0aW9uOmN9KSxiPXRoaXMucHJlcGFyZShiKSwwPT09dGhpcy5faXRlbXMubGVuZ3RofHxjPT09dGhpcy5faXRlbXMubGVuZ3RoPygwPT09dGhpcy5faXRlbXMubGVuZ3RoJiZ0aGlzLiRzdGFnZS5hcHBlbmQoYiksMCE9PXRoaXMuX2l0ZW1zLmxlbmd0aCYmdGhpcy5faXRlbXNbYy0xXS5hZnRlcihiKSx0aGlzLl9pdGVtcy5wdXNoKGIpLHRoaXMuX21lcmdlcnMucHVzaCgxKmIuZmluZChcIltkYXRhLW1lcmdlXVwiKS5hZGRCYWNrKFwiW2RhdGEtbWVyZ2VdXCIpLmF0dHIoXCJkYXRhLW1lcmdlXCIpfHwxKSk6KHRoaXMuX2l0ZW1zW2NdLmJlZm9yZShiKSx0aGlzLl9pdGVtcy5zcGxpY2UoYywwLGIpLHRoaXMuX21lcmdlcnMuc3BsaWNlKGMsMCwxKmIuZmluZChcIltkYXRhLW1lcmdlXVwiKS5hZGRCYWNrKFwiW2RhdGEtbWVyZ2VdXCIpLmF0dHIoXCJkYXRhLW1lcmdlXCIpfHwxKSksdGhpcy5faXRlbXNbZV0mJnRoaXMucmVzZXQodGhpcy5faXRlbXNbZV0uaW5kZXgoKSksdGhpcy5pbnZhbGlkYXRlKFwiaXRlbXNcIiksdGhpcy50cmlnZ2VyKFwiYWRkZWRcIix7Y29udGVudDpiLHBvc2l0aW9uOmN9KX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpeyhhPXRoaXMubm9ybWFsaXplKGEsITApKSE9PWQmJih0aGlzLnRyaWdnZXIoXCJyZW1vdmVcIix7Y29udGVudDp0aGlzLl9pdGVtc1thXSxwb3NpdGlvbjphfSksdGhpcy5faXRlbXNbYV0ucmVtb3ZlKCksdGhpcy5faXRlbXMuc3BsaWNlKGEsMSksdGhpcy5fbWVyZ2Vycy5zcGxpY2UoYSwxKSx0aGlzLmludmFsaWRhdGUoXCJpdGVtc1wiKSx0aGlzLnRyaWdnZXIoXCJyZW1vdmVkXCIse2NvbnRlbnQ6bnVsbCxwb3NpdGlvbjphfSkpfSxlLnByb3RvdHlwZS5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzPWZ1bmN0aW9uKGIpe2IuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5lbnRlcihcInByZS1sb2FkaW5nXCIpLGM9YShjKSxhKG5ldyBJbWFnZSkub25lKFwibG9hZFwiLGEucHJveHkoZnVuY3Rpb24oYSl7Yy5hdHRyKFwic3JjXCIsYS50YXJnZXQuc3JjKSxjLmNzcyhcIm9wYWNpdHlcIiwxKSx0aGlzLmxlYXZlKFwicHJlLWxvYWRpbmdcIiksIXRoaXMuaXMoXCJwcmUtbG9hZGluZ1wiKSYmIXRoaXMuaXMoXCJpbml0aWFsaXppbmdcIikmJnRoaXMucmVmcmVzaCgpfSx0aGlzKSkuYXR0cihcInNyY1wiLGMuYXR0cihcInNyY1wiKXx8Yy5hdHRyKFwiZGF0YS1zcmNcIil8fGMuYXR0cihcImRhdGEtc3JjLXJldGluYVwiKSl9LHRoaXMpKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub2ZmKFwiLm93bC5jb3JlXCIpLHRoaXMuJHN0YWdlLm9mZihcIi5vd2wuY29yZVwiKSxhKGMpLm9mZihcIi5vd2wuY29yZVwiKSwhMSE9PXRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSYmKGIuY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpLHRoaXMub2ZmKGIsXCJyZXNpemVcIix0aGlzLl9oYW5kbGVycy5vblRocm90dGxlZFJlc2l6ZSkpO2Zvcih2YXIgZCBpbiB0aGlzLl9wbHVnaW5zKXRoaXMuX3BsdWdpbnNbZF0uZGVzdHJveSgpO3RoaXMuJHN0YWdlLmNoaWxkcmVuKFwiLmNsb25lZFwiKS5yZW1vdmUoKSx0aGlzLiRzdGFnZS51bndyYXAoKSx0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNvbnRlbnRzKCkudW53cmFwKCksdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS51bndyYXAoKSx0aGlzLiRzdGFnZS5yZW1vdmUoKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnJ0bENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZHJhZ0NsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKS5hdHRyKFwiY2xhc3NcIix0aGlzLiRlbGVtZW50LmF0dHIoXCJjbGFzc1wiKS5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmVDbGFzcytcIi1cXFxcUytcXFxcc1wiLFwiZ1wiKSxcIlwiKSkucmVtb3ZlRGF0YShcIm93bC5jYXJvdXNlbFwiKX0sZS5wcm90b3R5cGUub3A9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuc2V0dGluZ3MucnRsO3N3aXRjaChiKXtjYXNlXCI8XCI6cmV0dXJuIGQ/YT5jOmE8YztjYXNlXCI+XCI6cmV0dXJuIGQ/YTxjOmE+YztjYXNlXCI+PVwiOnJldHVybiBkP2E8PWM6YT49YztjYXNlXCI8PVwiOnJldHVybiBkP2E+PWM6YTw9Y319LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGEsYixjLGQpe2EuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLGQpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoXCJvblwiK2IsYyl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihhLGIsYyxkKXthLnJlbW92ZUV2ZW50TGlzdGVuZXI/YS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyxkKTphLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KFwib25cIitiLGMpfSxlLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKGIsYyxkLGYsZyl7dmFyIGg9e2l0ZW06e2NvdW50OnRoaXMuX2l0ZW1zLmxlbmd0aCxpbmRleDp0aGlzLmN1cnJlbnQoKX19LGk9YS5jYW1lbENhc2UoYS5ncmVwKFtcIm9uXCIsYixkXSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pLmpvaW4oXCItXCIpLnRvTG93ZXJDYXNlKCkpLGo9YS5FdmVudChbYixcIm93bFwiLGR8fFwiY2Fyb3VzZWxcIl0uam9pbihcIi5cIikudG9Mb3dlckNhc2UoKSxhLmV4dGVuZCh7cmVsYXRlZFRhcmdldDp0aGlzfSxoLGMpKTtyZXR1cm4gdGhpcy5fc3VwcmVzc1tiXXx8KGEuZWFjaCh0aGlzLl9wbHVnaW5zLGZ1bmN0aW9uKGEsYil7Yi5vblRyaWdnZXImJmIub25UcmlnZ2VyKGopfSksdGhpcy5yZWdpc3Rlcih7dHlwZTplLlR5cGUuRXZlbnQsbmFtZTpifSksdGhpcy4kZWxlbWVudC50cmlnZ2VyKGopLHRoaXMuc2V0dGluZ3MmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuc2V0dGluZ3NbaV0mJnRoaXMuc2V0dGluZ3NbaV0uY2FsbCh0aGlzLGopKSxqfSxlLnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbihiKXthLmVhY2goW2JdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1tiXXx8W10pLGEucHJveHkoZnVuY3Rpb24oYSxiKXt0aGlzLl9zdGF0ZXMuY3VycmVudFtiXT09PWQmJih0aGlzLl9zdGF0ZXMuY3VycmVudFtiXT0wKSx0aGlzLl9zdGF0ZXMuY3VycmVudFtiXSsrfSx0aGlzKSl9LGUucHJvdG90eXBlLmxlYXZlPWZ1bmN0aW9uKGIpe2EuZWFjaChbYl0uY29uY2F0KHRoaXMuX3N0YXRlcy50YWdzW2JdfHxbXSksYS5wcm94eShmdW5jdGlvbihhLGIpe3RoaXMuX3N0YXRlcy5jdXJyZW50W2JdLS19LHRoaXMpKX0sZS5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24oYil7aWYoYi50eXBlPT09ZS5UeXBlLkV2ZW50KXtpZihhLmV2ZW50LnNwZWNpYWxbYi5uYW1lXXx8KGEuZXZlbnQuc3BlY2lhbFtiLm5hbWVdPXt9KSwhYS5ldmVudC5zcGVjaWFsW2IubmFtZV0ub3dsKXt2YXIgYz1hLmV2ZW50LnNwZWNpYWxbYi5uYW1lXS5fZGVmYXVsdDthLmV2ZW50LnNwZWNpYWxbYi5uYW1lXS5fZGVmYXVsdD1mdW5jdGlvbihhKXtyZXR1cm4hY3x8IWMuYXBwbHl8fGEubmFtZXNwYWNlJiYtMSE9PWEubmFtZXNwYWNlLmluZGV4T2YoXCJvd2xcIik/YS5uYW1lc3BhY2UmJmEubmFtZXNwYWNlLmluZGV4T2YoXCJvd2xcIik+LTE6Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXZlbnQuc3BlY2lhbFtiLm5hbWVdLm93bD0hMH19ZWxzZSBiLnR5cGU9PT1lLlR5cGUuU3RhdGUmJih0aGlzLl9zdGF0ZXMudGFnc1tiLm5hbWVdP3RoaXMuX3N0YXRlcy50YWdzW2IubmFtZV09dGhpcy5fc3RhdGVzLnRhZ3NbYi5uYW1lXS5jb25jYXQoYi50YWdzKTp0aGlzLl9zdGF0ZXMudGFnc1tiLm5hbWVdPWIudGFncyx0aGlzLl9zdGF0ZXMudGFnc1tiLm5hbWVdPWEuZ3JlcCh0aGlzLl9zdGF0ZXMudGFnc1tiLm5hbWVdLGEucHJveHkoZnVuY3Rpb24oYyxkKXtyZXR1cm4gYS5pbkFycmF5KGMsdGhpcy5fc3RhdGVzLnRhZ3NbYi5uYW1lXSk9PT1kfSx0aGlzKSkpfSxlLnByb3RvdHlwZS5zdXBwcmVzcz1mdW5jdGlvbihiKXthLmVhY2goYixhLnByb3h5KGZ1bmN0aW9uKGEsYil7dGhpcy5fc3VwcmVzc1tiXT0hMH0sdGhpcykpfSxlLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKGIpe2EuZWFjaChiLGEucHJveHkoZnVuY3Rpb24oYSxiKXtkZWxldGUgdGhpcy5fc3VwcmVzc1tiXX0sdGhpcykpfSxlLnByb3RvdHlwZS5wb2ludGVyPWZ1bmN0aW9uKGEpe3ZhciBjPXt4Om51bGwseTpudWxsfTtyZXR1cm4gYT1hLm9yaWdpbmFsRXZlbnR8fGF8fGIuZXZlbnQsYT1hLnRvdWNoZXMmJmEudG91Y2hlcy5sZW5ndGg/YS50b3VjaGVzWzBdOmEuY2hhbmdlZFRvdWNoZXMmJmEuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP2EuY2hhbmdlZFRvdWNoZXNbMF06YSxhLnBhZ2VYPyhjLng9YS5wYWdlWCxjLnk9YS5wYWdlWSk6KGMueD1hLmNsaWVudFgsYy55PWEuY2xpZW50WSksY30sZS5wcm90b3R5cGUuaXNOdW1lcmljPWZ1bmN0aW9uKGEpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKX0sZS5wcm90b3R5cGUuZGlmZmVyZW5jZT1mdW5jdGlvbihhLGIpe3JldHVybnt4OmEueC1iLngseTphLnktYi55fX0sYS5mbi5vd2xDYXJvdXNlbD1mdW5jdGlvbihiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZj1kLmRhdGEoXCJvd2wuY2Fyb3VzZWxcIik7Znx8KGY9bmV3IGUodGhpcyxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksZC5kYXRhKFwib3dsLmNhcm91c2VsXCIsZiksYS5lYWNoKFtcIm5leHRcIixcInByZXZcIixcInRvXCIsXCJkZXN0cm95XCIsXCJyZWZyZXNoXCIsXCJyZXBsYWNlXCIsXCJhZGRcIixcInJlbW92ZVwiXSxmdW5jdGlvbihiLGMpe2YucmVnaXN0ZXIoe3R5cGU6ZS5UeXBlLkV2ZW50LG5hbWU6Y30pLGYuJGVsZW1lbnQub24oYytcIi5vd2wuY2Fyb3VzZWwuY29yZVwiLGEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJmEucmVsYXRlZFRhcmdldCE9PXRoaXMmJih0aGlzLnN1cHByZXNzKFtjXSksZltjXS5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSx0aGlzLnJlbGVhc2UoW2NdKSl9LGYpKX0pKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmXCJfXCIhPT1iLmNoYXJBdCgwKSYmZltiXS5hcHBseShmLGMpfSl9LGEuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3I9ZX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZnVuY3Rpb24oYil7dGhpcy5fY29yZT1iLHRoaXMuX2ludGVydmFsPW51bGwsdGhpcy5fdmlzaWJsZT1udWxsLHRoaXMuX2hhbmRsZXJzPXtcImluaXRpYWxpemVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b1JlZnJlc2gmJnRoaXMud2F0Y2goKX0sdGhpcyl9LHRoaXMuX2NvcmUub3B0aW9ucz1hLmV4dGVuZCh7fSxlLkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyksdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyl9O2UuRGVmYXVsdHM9e2F1dG9SZWZyZXNoOiEwLGF1dG9SZWZyZXNoSW50ZXJ2YWw6NTAwfSxlLnByb3RvdHlwZS53YXRjaD1mdW5jdGlvbigpe3RoaXMuX2ludGVydmFsfHwodGhpcy5fdmlzaWJsZT10aGlzLl9jb3JlLmlzVmlzaWJsZSgpLHRoaXMuX2ludGVydmFsPWIuc2V0SW50ZXJ2YWwoYS5wcm94eSh0aGlzLnJlZnJlc2gsdGhpcyksdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaEludGVydmFsKSl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLmlzVmlzaWJsZSgpIT09dGhpcy5fdmlzaWJsZSYmKHRoaXMuX3Zpc2libGU9IXRoaXMuX3Zpc2libGUsdGhpcy5fY29yZS4kZWxlbWVudC50b2dnbGVDbGFzcyhcIm93bC1oaWRkZW5cIiwhdGhpcy5fdmlzaWJsZSksdGhpcy5fdmlzaWJsZSYmdGhpcy5fY29yZS5pbnZhbGlkYXRlKFwid2lkdGhcIikmJnRoaXMuX2NvcmUucmVmcmVzaCgpKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBhLGM7Yi5jbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTtmb3IoYSBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihhLHRoaXMuX2hhbmRsZXJzW2FdKTtmb3IoYyBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSlcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2NdJiYodGhpc1tjXT1udWxsKX0sYS5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkF1dG9SZWZyZXNoPWV9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWZ1bmN0aW9uKGIpe3RoaXMuX2NvcmU9Yix0aGlzLl9sb2FkZWQ9W10sdGhpcy5faGFuZGxlcnM9e1wiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIGNoYW5nZS5vd2wuY2Fyb3VzZWwgcmVzaXplZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGIpe2lmKGIubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkJiYoYi5wcm9wZXJ0eSYmXCJwb3NpdGlvblwiPT1iLnByb3BlcnR5Lm5hbWV8fFwiaW5pdGlhbGl6ZWRcIj09Yi50eXBlKSl7dmFyIGM9dGhpcy5fY29yZS5zZXR0aW5ncyxlPWMuY2VudGVyJiZNYXRoLmNlaWwoYy5pdGVtcy8yKXx8Yy5pdGVtcyxmPWMuY2VudGVyJiYtMSplfHwwLGc9KGIucHJvcGVydHkmJmIucHJvcGVydHkudmFsdWUhPT1kP2IucHJvcGVydHkudmFsdWU6dGhpcy5fY29yZS5jdXJyZW50KCkpK2YsaD10aGlzLl9jb3JlLmNsb25lcygpLmxlbmd0aCxpPWEucHJveHkoZnVuY3Rpb24oYSxiKXt0aGlzLmxvYWQoYil9LHRoaXMpO2ZvcihjLmxhenlMb2FkRWFnZXI+MCYmKGUrPWMubGF6eUxvYWRFYWdlcixjLmxvb3AmJihnLT1jLmxhenlMb2FkRWFnZXIsZSsrKSk7ZisrPGU7KXRoaXMubG9hZChoLzIrdGhpcy5fY29yZS5yZWxhdGl2ZShnKSksaCYmYS5lYWNoKHRoaXMuX2NvcmUuY2xvbmVzKHRoaXMuX2NvcmUucmVsYXRpdmUoZykpLGkpLGcrK319LHRoaXMpfSx0aGlzLl9jb3JlLm9wdGlvbnM9YS5leHRlbmQoe30sZS5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpLHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpfTtlLkRlZmF1bHRzPXtsYXp5TG9hZDohMSxsYXp5TG9hZEVhZ2VyOjB9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcShjKSxlPWQmJmQuZmluZChcIi5vd2wtbGF6eVwiKTshZXx8YS5pbkFycmF5KGQuZ2V0KDApLHRoaXMuX2xvYWRlZCk+LTF8fChlLmVhY2goYS5wcm94eShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShkKSxnPWIuZGV2aWNlUGl4ZWxSYXRpbz4xJiZmLmF0dHIoXCJkYXRhLXNyYy1yZXRpbmFcIil8fGYuYXR0cihcImRhdGEtc3JjXCIpfHxmLmF0dHIoXCJkYXRhLXNyY3NldFwiKTt0aGlzLl9jb3JlLnRyaWdnZXIoXCJsb2FkXCIse2VsZW1lbnQ6Zix1cmw6Z30sXCJsYXp5XCIpLGYuaXMoXCJpbWdcIik/Zi5vbmUoXCJsb2FkLm93bC5sYXp5XCIsYS5wcm94eShmdW5jdGlvbigpe2YuY3NzKFwib3BhY2l0eVwiLDEpLHRoaXMuX2NvcmUudHJpZ2dlcihcImxvYWRlZFwiLHtlbGVtZW50OmYsdXJsOmd9LFwibGF6eVwiKX0sdGhpcykpLmF0dHIoXCJzcmNcIixnKTpmLmlzKFwic291cmNlXCIpP2Yub25lKFwibG9hZC5vd2wubGF6eVwiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnRyaWdnZXIoXCJsb2FkZWRcIix7ZWxlbWVudDpmLHVybDpnfSxcImxhenlcIil9LHRoaXMpKS5hdHRyKFwic3Jjc2V0XCIsZyk6KGU9bmV3IEltYWdlLGUub25sb2FkPWEucHJveHkoZnVuY3Rpb24oKXtmLmNzcyh7XCJiYWNrZ3JvdW5kLWltYWdlXCI6J3VybChcIicrZysnXCIpJyxvcGFjaXR5OlwiMVwifSksdGhpcy5fY29yZS50cmlnZ2VyKFwibG9hZGVkXCIse2VsZW1lbnQ6Zix1cmw6Z30sXCJsYXp5XCIpfSx0aGlzKSxlLnNyYz1nKX0sdGhpcykpLHRoaXMuX2xvYWRlZC5wdXNoKGQuZ2V0KDApKSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYSxiO2ZvcihhIGluIHRoaXMuaGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoYSx0aGlzLmhhbmRsZXJzW2FdKTtmb3IoYiBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSlcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2JdJiYodGhpc1tiXT1udWxsKX0sYS5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkxhenk9ZX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZnVuY3Rpb24oYyl7dGhpcy5fY29yZT1jLHRoaXMuX3ByZXZpb3VzSGVpZ2h0PW51bGwsdGhpcy5faGFuZGxlcnM9e1wiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIHJlZnJlc2hlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJnRoaXMudXBkYXRlKCl9LHRoaXMpLFwiY2hhbmdlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJlwicG9zaXRpb25cIj09PWEucHJvcGVydHkubmFtZSYmdGhpcy51cGRhdGUoKX0sdGhpcyksXCJsb2FkZWQub3dsLmxhenlcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJmEuZWxlbWVudC5jbG9zZXN0KFwiLlwiK3RoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKS5pbmRleCgpPT09dGhpcy5fY29yZS5jdXJyZW50KCkmJnRoaXMudXBkYXRlKCl9LHRoaXMpfSx0aGlzLl9jb3JlLm9wdGlvbnM9YS5leHRlbmQoe30sZS5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpLHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpLHRoaXMuX2ludGVydmFsSWQ9bnVsbDt2YXIgZD10aGlzO2EoYikub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtkLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJmQudXBkYXRlKCl9KSxhKGIpLnJlc2l6ZShmdW5jdGlvbigpe2QuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodCYmKG51bGwhPWQuX2ludGVydmFsSWQmJmNsZWFyVGltZW91dChkLl9pbnRlcnZhbElkKSxkLl9pbnRlcnZhbElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnVwZGF0ZSgpfSwyNTApKX0pfTtlLkRlZmF1bHRzPXthdXRvSGVpZ2h0OiExLGF1dG9IZWlnaHRDbGFzczpcIm93bC1oZWlnaHRcIn0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fY29yZS5fY3VycmVudCxjPWIrdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtcyxkPXRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQsZT10aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLnRvQXJyYXkoKS5zbGljZShiLGMpLGY9W10sZz0wO2EuZWFjaChlLGZ1bmN0aW9uKGIsYyl7Zi5wdXNoKGEoYykuaGVpZ2h0KCkpfSksZz1NYXRoLm1heC5hcHBseShudWxsLGYpLGc8PTEmJmQmJnRoaXMuX3ByZXZpb3VzSGVpZ2h0JiYoZz10aGlzLl9wcmV2aW91c0hlaWdodCksdGhpcy5fcHJldmlvdXNIZWlnaHQ9Zyx0aGlzLl9jb3JlLiRzdGFnZS5wYXJlbnQoKS5oZWlnaHQoZykuYWRkQ2xhc3ModGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0Q2xhc3MpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGEsYjtmb3IoYSBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihhLHRoaXMuX2hhbmRsZXJzW2FdKTtmb3IoYiBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSlcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2JdJiYodGhpc1tiXT1udWxsKX0sYS5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkF1dG9IZWlnaHQ9ZX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZnVuY3Rpb24oYil7dGhpcy5fY29yZT1iLHRoaXMuX3ZpZGVvcz17fSx0aGlzLl9wbGF5aW5nPW51bGwsdGhpcy5faGFuZGxlcnM9e1wiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihhKXthLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5yZWdpc3Rlcih7dHlwZTpcInN0YXRlXCIsbmFtZTpcInBsYXlpbmdcIix0YWdzOltcImludGVyYWN0aW5nXCJdfSl9LHRoaXMpLFwicmVzaXplLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW8mJnRoaXMuaXNJbkZ1bGxTY3JlZW4oKSYmYS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKSxcInJlZnJlc2hlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLmlzKFwicmVzaXppbmdcIikmJnRoaXMuX2NvcmUuJHN0YWdlLmZpbmQoXCIuY2xvbmVkIC5vd2wtdmlkZW8tZnJhbWVcIikucmVtb3ZlKCl9LHRoaXMpLFwiY2hhbmdlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiZcInBvc2l0aW9uXCI9PT1hLnByb3BlcnR5Lm5hbWUmJnRoaXMuX3BsYXlpbmcmJnRoaXMuc3RvcCgpfSx0aGlzKSxcInByZXBhcmVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYil7aWYoYi5uYW1lc3BhY2Upe3ZhciBjPWEoYi5jb250ZW50KS5maW5kKFwiLm93bC12aWRlb1wiKTtjLmxlbmd0aCYmKGMuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx0aGlzLmZldGNoKGMsYShiLmNvbnRlbnQpKSl9fSx0aGlzKX0sdGhpcy5fY29yZS5vcHRpb25zPWEuZXh0ZW5kKHt9LGUuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKSx0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKSx0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKFwiY2xpY2sub3dsLnZpZGVvXCIsXCIub3dsLXZpZGVvLXBsYXktaWNvblwiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5wbGF5KGEpfSx0aGlzKSl9O2UuRGVmYXVsdHM9e3ZpZGVvOiExLHZpZGVvSGVpZ2h0OiExLHZpZGVvV2lkdGg6ITF9LGUucHJvdG90eXBlLmZldGNoPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hdHRyKFwiZGF0YS12aW1lby1pZFwiKT9cInZpbWVvXCI6YS5hdHRyKFwiZGF0YS12emFhci1pZFwiKT9cInZ6YWFyXCI6XCJ5b3V0dWJlXCJ9KCksZD1hLmF0dHIoXCJkYXRhLXZpbWVvLWlkXCIpfHxhLmF0dHIoXCJkYXRhLXlvdXR1YmUtaWRcIil8fGEuYXR0cihcImRhdGEtdnphYXItaWRcIiksZT1hLmF0dHIoXCJkYXRhLXdpZHRoXCIpfHx0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvV2lkdGgsZj1hLmF0dHIoXCJkYXRhLWhlaWdodFwiKXx8dGhpcy5fY29yZS5zZXR0aW5ncy52aWRlb0hlaWdodCxnPWEuYXR0cihcImhyZWZcIik7aWYoIWcpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyB2aWRlbyBVUkwuXCIpO2lmKGQ9Zy5tYXRjaCgvKGh0dHA6fGh0dHBzOnwpXFwvXFwvKHBsYXllci58d3d3LnxhcHAuKT8odmltZW9cXC5jb218eW91dHUoYmVcXC5jb218XFwuYmV8YmVcXC5nb29nbGVhcGlzXFwuY29tfGJlXFwtbm9jb29raWVcXC5jb20pfHZ6YWFyXFwuY29tKVxcLyh2aWRlb1xcL3x2aWRlb3NcXC98ZW1iZWRcXC98Y2hhbm5lbHNcXC8uK1xcL3xncm91cHNcXC8uK1xcL3x3YXRjaFxcP3Y9fHZcXC8pPyhbQS1aYS16MC05Ll8lLV0qKShcXCZcXFMrKT8vKSxkWzNdLmluZGV4T2YoXCJ5b3V0dVwiKT4tMSljPVwieW91dHViZVwiO2Vsc2UgaWYoZFszXS5pbmRleE9mKFwidmltZW9cIik+LTEpYz1cInZpbWVvXCI7ZWxzZXtpZighKGRbM10uaW5kZXhPZihcInZ6YWFyXCIpPi0xKSl0aHJvdyBuZXcgRXJyb3IoXCJWaWRlbyBVUkwgbm90IHN1cHBvcnRlZC5cIik7Yz1cInZ6YWFyXCJ9ZD1kWzZdLHRoaXMuX3ZpZGVvc1tnXT17dHlwZTpjLGlkOmQsd2lkdGg6ZSxoZWlnaHQ6Zn0sYi5hdHRyKFwiZGF0YS12aWRlb1wiLGcpLHRoaXMudGh1bWJuYWlsKGEsdGhpcy5fdmlkZW9zW2ddKX0sZS5wcm90b3R5cGUudGh1bWJuYWlsPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGc9Yy53aWR0aCYmYy5oZWlnaHQ/XCJ3aWR0aDpcIitjLndpZHRoK1wicHg7aGVpZ2h0OlwiK2MuaGVpZ2h0K1wicHg7XCI6XCJcIixoPWIuZmluZChcImltZ1wiKSxpPVwic3JjXCIsaj1cIlwiLGs9dGhpcy5fY29yZS5zZXR0aW5ncyxsPWZ1bmN0aW9uKGMpe2U9JzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tcGxheS1pY29uXCI+PC9kaXY+JyxkPWsubGF6eUxvYWQ/YShcIjxkaXYvPlwiLHtjbGFzczpcIm93bC12aWRlby10biBcIitqLHNyY1R5cGU6Y30pOmEoXCI8ZGl2Lz5cIix7Y2xhc3M6XCJvd2wtdmlkZW8tdG5cIixzdHlsZTpcIm9wYWNpdHk6MTtiYWNrZ3JvdW5kLWltYWdlOnVybChcIitjK1wiKVwifSksYi5hZnRlcihkKSxiLmFmdGVyKGUpfTtpZihiLndyYXAoYShcIjxkaXYvPlwiLHtjbGFzczpcIm93bC12aWRlby13cmFwcGVyXCIsc3R5bGU6Z30pKSx0aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkJiYoaT1cImRhdGEtc3JjXCIsaj1cIm93bC1sYXp5XCIpLGgubGVuZ3RoKXJldHVybiBsKGguYXR0cihpKSksaC5yZW1vdmUoKSwhMTtcInlvdXR1YmVcIj09PWMudHlwZT8oZj1cIi8vaW1nLnlvdXR1YmUuY29tL3ZpL1wiK2MuaWQrXCIvaHFkZWZhdWx0LmpwZ1wiLGwoZikpOlwidmltZW9cIj09PWMudHlwZT9hLmFqYXgoe3R5cGU6XCJHRVRcIix1cmw6XCIvL3ZpbWVvLmNvbS9hcGkvdjIvdmlkZW8vXCIrYy5pZCtcIi5qc29uXCIsanNvbnA6XCJjYWxsYmFja1wiLGRhdGFUeXBlOlwianNvbnBcIixzdWNjZXNzOmZ1bmN0aW9uKGEpe2Y9YVswXS50aHVtYm5haWxfbGFyZ2UsbChmKX19KTpcInZ6YWFyXCI9PT1jLnR5cGUmJmEuYWpheCh7dHlwZTpcIkdFVFwiLHVybDpcIi8vdnphYXIuY29tL2FwaS92aWRlb3MvXCIrYy5pZCtcIi5qc29uXCIsanNvbnA6XCJjYWxsYmFja1wiLGRhdGFUeXBlOlwianNvbnBcIixzdWNjZXNzOmZ1bmN0aW9uKGEpe2Y9YS5mcmFtZWdyYWJfdXJsLGwoZil9fSl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnRyaWdnZXIoXCJzdG9wXCIsbnVsbCxcInZpZGVvXCIpLHRoaXMuX3BsYXlpbmcuZmluZChcIi5vd2wtdmlkZW8tZnJhbWVcIikucmVtb3ZlKCksdGhpcy5fcGxheWluZy5yZW1vdmVDbGFzcyhcIm93bC12aWRlby1wbGF5aW5nXCIpLHRoaXMuX3BsYXlpbmc9bnVsbCx0aGlzLl9jb3JlLmxlYXZlKFwicGxheWluZ1wiKSx0aGlzLl9jb3JlLnRyaWdnZXIoXCJzdG9wcGVkXCIsbnVsbCxcInZpZGVvXCIpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCksZT1kLmNsb3Nlc3QoXCIuXCIrdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtQ2xhc3MpLGY9dGhpcy5fdmlkZW9zW2UuYXR0cihcImRhdGEtdmlkZW9cIildLGc9Zi53aWR0aHx8XCIxMDAlXCIsaD1mLmhlaWdodHx8dGhpcy5fY29yZS4kc3RhZ2UuaGVpZ2h0KCk7dGhpcy5fcGxheWluZ3x8KHRoaXMuX2NvcmUuZW50ZXIoXCJwbGF5aW5nXCIpLHRoaXMuX2NvcmUudHJpZ2dlcihcInBsYXlcIixudWxsLFwidmlkZW9cIiksZT10aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUoZS5pbmRleCgpKSksdGhpcy5fY29yZS5yZXNldChlLmluZGV4KCkpLGM9YSgnPGlmcmFtZSBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIHdlYmtpdEFsbG93RnVsbFNjcmVlbiA+PC9pZnJhbWU+JyksYy5hdHRyKFwiaGVpZ2h0XCIsaCksYy5hdHRyKFwid2lkdGhcIixnKSxcInlvdXR1YmVcIj09PWYudHlwZT9jLmF0dHIoXCJzcmNcIixcIi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiK2YuaWQrXCI/YXV0b3BsYXk9MSZyZWw9MCZ2PVwiK2YuaWQpOlwidmltZW9cIj09PWYudHlwZT9jLmF0dHIoXCJzcmNcIixcIi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby9cIitmLmlkK1wiP2F1dG9wbGF5PTFcIik6XCJ2emFhclwiPT09Zi50eXBlJiZjLmF0dHIoXCJzcmNcIixcIi8vdmlldy52emFhci5jb20vXCIrZi5pZCtcIi9wbGF5ZXI/YXV0b3BsYXk9dHJ1ZVwiKSxhKGMpLndyYXAoJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tZnJhbWVcIiAvPicpLmluc2VydEFmdGVyKGUuZmluZChcIi5vd2wtdmlkZW9cIikpLHRoaXMuX3BsYXlpbmc9ZS5hZGRDbGFzcyhcIm93bC12aWRlby1wbGF5aW5nXCIpKX0sZS5wcm90b3R5cGUuaXNJbkZ1bGxTY3JlZW49ZnVuY3Rpb24oKXt2YXIgYj1jLmZ1bGxzY3JlZW5FbGVtZW50fHxjLm1vekZ1bGxTY3JlZW5FbGVtZW50fHxjLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50O3JldHVybiBiJiZhKGIpLnBhcmVudCgpLmhhc0NsYXNzKFwib3dsLXZpZGVvLWZyYW1lXCIpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihcImNsaWNrLm93bC52aWRlb1wiKTtmb3IoYSBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihhLHRoaXMuX2hhbmRsZXJzW2FdKTtmb3IoYiBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSlcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2JdJiYodGhpc1tiXT1udWxsKX0sYS5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLlZpZGVvPWV9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWZ1bmN0aW9uKGIpe3RoaXMuY29yZT1iLHRoaXMuY29yZS5vcHRpb25zPWEuZXh0ZW5kKHt9LGUuRGVmYXVsdHMsdGhpcy5jb3JlLm9wdGlvbnMpLHRoaXMuc3dhcHBpbmc9ITAsdGhpcy5wcmV2aW91cz1kLHRoaXMubmV4dD1kLHRoaXMuaGFuZGxlcnM9e1wiY2hhbmdlLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJlwicG9zaXRpb25cIj09YS5wcm9wZXJ0eS5uYW1lJiYodGhpcy5wcmV2aW91cz10aGlzLmNvcmUuY3VycmVudCgpLHRoaXMubmV4dD1hLnByb3BlcnR5LnZhbHVlKX0sdGhpcyksXCJkcmFnLm93bC5jYXJvdXNlbCBkcmFnZ2VkLm93bC5jYXJvdXNlbCB0cmFuc2xhdGVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJih0aGlzLnN3YXBwaW5nPVwidHJhbnNsYXRlZFwiPT1hLnR5cGUpfSx0aGlzKSxcInRyYW5zbGF0ZS5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiZ0aGlzLnN3YXBwaW5nJiYodGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZU91dHx8dGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZUluKSYmdGhpcy5zd2FwKCl9LHRoaXMpfSx0aGlzLmNvcmUuJGVsZW1lbnQub24odGhpcy5oYW5kbGVycyl9O2UuRGVmYXVsdHM9e2FuaW1hdGVPdXQ6ITEsXG5hbmltYXRlSW46ITF9LGUucHJvdG90eXBlLnN3YXA9ZnVuY3Rpb24oKXtpZigxPT09dGhpcy5jb3JlLnNldHRpbmdzLml0ZW1zJiZhLnN1cHBvcnQuYW5pbWF0aW9uJiZhLnN1cHBvcnQudHJhbnNpdGlvbil7dGhpcy5jb3JlLnNwZWVkKDApO3ZhciBiLGM9YS5wcm94eSh0aGlzLmNsZWFyLHRoaXMpLGQ9dGhpcy5jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMucHJldmlvdXMpLGU9dGhpcy5jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMubmV4dCksZj10aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZUluLGc9dGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVPdXQ7dGhpcy5jb3JlLmN1cnJlbnQoKSE9PXRoaXMucHJldmlvdXMmJihnJiYoYj10aGlzLmNvcmUuY29vcmRpbmF0ZXModGhpcy5wcmV2aW91cyktdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMubmV4dCksZC5vbmUoYS5zdXBwb3J0LmFuaW1hdGlvbi5lbmQsYykuY3NzKHtsZWZ0OmIrXCJweFwifSkuYWRkQ2xhc3MoXCJhbmltYXRlZCBvd2wtYW5pbWF0ZWQtb3V0XCIpLmFkZENsYXNzKGcpKSxmJiZlLm9uZShhLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCxjKS5hZGRDbGFzcyhcImFuaW1hdGVkIG93bC1hbmltYXRlZC1pblwiKS5hZGRDbGFzcyhmKSl9fSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jc3Moe2xlZnQ6XCJcIn0pLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZWQgb3dsLWFuaW1hdGVkLW91dCBvd2wtYW5pbWF0ZWQtaW5cIikucmVtb3ZlQ2xhc3ModGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVJbikucmVtb3ZlQ2xhc3ModGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVPdXQpLHRoaXMuY29yZS5vblRyYW5zaXRpb25FbmQoKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBhLGI7Zm9yKGEgaW4gdGhpcy5oYW5kbGVycyl0aGlzLmNvcmUuJGVsZW1lbnQub2ZmKGEsdGhpcy5oYW5kbGVyc1thXSk7Zm9yKGIgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpc1tiXSYmKHRoaXNbYl09bnVsbCl9LGEuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BbmltYXRlPWV9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWZ1bmN0aW9uKGIpe3RoaXMuX2NvcmU9Yix0aGlzLl9jYWxsPW51bGwsdGhpcy5fdGltZT0wLHRoaXMuX3RpbWVvdXQ9MCx0aGlzLl9wYXVzZWQ9ITAsdGhpcy5faGFuZGxlcnM9e1wiY2hhbmdlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiZcInNldHRpbmdzXCI9PT1hLnByb3BlcnR5Lm5hbWU/dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheT90aGlzLnBsYXkoKTp0aGlzLnN0b3AoKTphLm5hbWVzcGFjZSYmXCJwb3NpdGlvblwiPT09YS5wcm9wZXJ0eS5uYW1lJiZ0aGlzLl9wYXVzZWQmJih0aGlzLl90aW1lPTApfSx0aGlzKSxcImluaXRpYWxpemVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXkmJnRoaXMucGxheSgpfSx0aGlzKSxcInBsYXkub3dsLmF1dG9wbGF5XCI6YS5wcm94eShmdW5jdGlvbihhLGIsYyl7YS5uYW1lc3BhY2UmJnRoaXMucGxheShiLGMpfSx0aGlzKSxcInN0b3Aub3dsLmF1dG9wbGF5XCI6YS5wcm94eShmdW5jdGlvbihhKXthLm5hbWVzcGFjZSYmdGhpcy5zdG9wKCl9LHRoaXMpLFwibW91c2VvdmVyLm93bC5hdXRvcGxheVwiOmEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5SG92ZXJQYXVzZSYmdGhpcy5fY29yZS5pcyhcInJvdGF0aW5nXCIpJiZ0aGlzLnBhdXNlKCl9LHRoaXMpLFwibW91c2VsZWF2ZS5vd2wuYXV0b3BsYXlcIjphLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UmJnRoaXMuX2NvcmUuaXMoXCJyb3RhdGluZ1wiKSYmdGhpcy5wbGF5KCl9LHRoaXMpLFwidG91Y2hzdGFydC5vd2wuY29yZVwiOmEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5SG92ZXJQYXVzZSYmdGhpcy5fY29yZS5pcyhcInJvdGF0aW5nXCIpJiZ0aGlzLnBhdXNlKCl9LHRoaXMpLFwidG91Y2hlbmQub3dsLmNvcmVcIjphLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UmJnRoaXMucGxheSgpfSx0aGlzKX0sdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyksdGhpcy5fY29yZS5vcHRpb25zPWEuZXh0ZW5kKHt9LGUuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKX07ZS5EZWZhdWx0cz17YXV0b3BsYXk6ITEsYXV0b3BsYXlUaW1lb3V0OjVlMyxhdXRvcGxheUhvdmVyUGF1c2U6ITEsYXV0b3BsYXlTcGVlZDohMX0sZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZCl7dGhpcy5fY2FsbD1iLnNldFRpbWVvdXQoYS5wcm94eSh0aGlzLl9uZXh0LHRoaXMsZCksdGhpcy5fdGltZW91dCooTWF0aC5yb3VuZCh0aGlzLnJlYWQoKS90aGlzLl90aW1lb3V0KSsxKS10aGlzLnJlYWQoKSksdGhpcy5fY29yZS5pcyhcImludGVyYWN0aW5nXCIpfHxjLmhpZGRlbnx8dGhpcy5fY29yZS5uZXh0KGR8fHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlTcGVlZCl9LGUucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl90aW1lfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKGMsZCl7dmFyIGU7dGhpcy5fY29yZS5pcyhcInJvdGF0aW5nXCIpfHx0aGlzLl9jb3JlLmVudGVyKFwicm90YXRpbmdcIiksYz1jfHx0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5VGltZW91dCxlPU1hdGgubWluKHRoaXMuX3RpbWUlKHRoaXMuX3RpbWVvdXR8fGMpLGMpLHRoaXMuX3BhdXNlZD8odGhpcy5fdGltZT10aGlzLnJlYWQoKSx0aGlzLl9wYXVzZWQ9ITEpOmIuY2xlYXJUaW1lb3V0KHRoaXMuX2NhbGwpLHRoaXMuX3RpbWUrPXRoaXMucmVhZCgpJWMtZSx0aGlzLl90aW1lb3V0PWMsdGhpcy5fY2FsbD1iLnNldFRpbWVvdXQoYS5wcm94eSh0aGlzLl9uZXh0LHRoaXMsZCksYy1lKX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2NvcmUuaXMoXCJyb3RhdGluZ1wiKSYmKHRoaXMuX3RpbWU9MCx0aGlzLl9wYXVzZWQ9ITAsYi5jbGVhclRpbWVvdXQodGhpcy5fY2FsbCksdGhpcy5fY29yZS5sZWF2ZShcInJvdGF0aW5nXCIpKX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLmlzKFwicm90YXRpbmdcIikmJiF0aGlzLl9wYXVzZWQmJih0aGlzLl90aW1lPXRoaXMucmVhZCgpLHRoaXMuX3BhdXNlZD0hMCxiLmNsZWFyVGltZW91dCh0aGlzLl9jYWxsKSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuc3RvcCgpO2ZvcihhIGluIHRoaXMuX2hhbmRsZXJzKXRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGEsdGhpcy5faGFuZGxlcnNbYV0pO2ZvcihiIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbYl0mJih0aGlzW2JdPW51bGwpfSxhLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuYXV0b3BsYXk9ZX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ZnVuY3Rpb24oYil7dGhpcy5fY29yZT1iLHRoaXMuX2luaXRpYWxpemVkPSExLHRoaXMuX3BhZ2VzPVtdLHRoaXMuX2NvbnRyb2xzPXt9LHRoaXMuX3RlbXBsYXRlcz1bXSx0aGlzLiRlbGVtZW50PXRoaXMuX2NvcmUuJGVsZW1lbnQsdGhpcy5fb3ZlcnJpZGVzPXtuZXh0OnRoaXMuX2NvcmUubmV4dCxwcmV2OnRoaXMuX2NvcmUucHJldix0bzp0aGlzLl9jb3JlLnRvfSx0aGlzLl9oYW5kbGVycz17XCJwcmVwYXJlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGIpe2IubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmRvdHNEYXRhJiZ0aGlzLl90ZW1wbGF0ZXMucHVzaCgnPGRpdiBjbGFzcz1cIicrdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RDbGFzcysnXCI+JythKGIuY29udGVudCkuZmluZChcIltkYXRhLWRvdF1cIikuYWRkQmFjayhcIltkYXRhLWRvdF1cIikuYXR0cihcImRhdGEtZG90XCIpK1wiPC9kaXY+XCIpfSx0aGlzKSxcImFkZGVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEmJnRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoYS5wb3NpdGlvbiwwLHRoaXMuX3RlbXBsYXRlcy5wb3AoKSl9LHRoaXMpLFwicmVtb3ZlLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEmJnRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoYS5wb3NpdGlvbiwxKX0sdGhpcyksXCJjaGFuZ2VkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7YS5uYW1lc3BhY2UmJlwicG9zaXRpb25cIj09YS5wcm9wZXJ0eS5uYW1lJiZ0aGlzLmRyYXcoKX0sdGhpcyksXCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlJiYhdGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9jb3JlLnRyaWdnZXIoXCJpbml0aWFsaXplXCIsbnVsbCxcIm5hdmlnYXRpb25cIiksdGhpcy5pbml0aWFsaXplKCksdGhpcy51cGRhdGUoKSx0aGlzLmRyYXcoKSx0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9jb3JlLnRyaWdnZXIoXCJpbml0aWFsaXplZFwiLG51bGwsXCJuYXZpZ2F0aW9uXCIpKX0sdGhpcyksXCJyZWZyZXNoZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihhKXthLm5hbWVzcGFjZSYmdGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9jb3JlLnRyaWdnZXIoXCJyZWZyZXNoXCIsbnVsbCxcIm5hdmlnYXRpb25cIiksdGhpcy51cGRhdGUoKSx0aGlzLmRyYXcoKSx0aGlzLl9jb3JlLnRyaWdnZXIoXCJyZWZyZXNoZWRcIixudWxsLFwibmF2aWdhdGlvblwiKSl9LHRoaXMpfSx0aGlzLl9jb3JlLm9wdGlvbnM9YS5leHRlbmQoe30sZS5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpLHRoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpfTtlLkRlZmF1bHRzPXtuYXY6ITEsbmF2VGV4dDpbJzxzcGFuIGFyaWEtbGFiZWw9XCJQcmV2aW91c1wiPiYjeDIwMzk7PC9zcGFuPicsJzxzcGFuIGFyaWEtbGFiZWw9XCJOZXh0XCI+JiN4MjAzYTs8L3NwYW4+J10sbmF2U3BlZWQ6ITEsbmF2RWxlbWVudDonYnV0dG9uIHR5cGU9XCJidXR0b25cIiByb2xlPVwicHJlc2VudGF0aW9uXCInLG5hdkNvbnRhaW5lcjohMSxuYXZDb250YWluZXJDbGFzczpcIm93bC1uYXZcIixuYXZDbGFzczpbXCJvd2wtcHJldlwiLFwib3dsLW5leHRcIl0sc2xpZGVCeToxLGRvdENsYXNzOlwib3dsLWRvdFwiLGRvdHNDbGFzczpcIm93bC1kb3RzXCIsZG90czohMCxkb3RzRWFjaDohMSxkb3RzRGF0YTohMSxkb3RzU3BlZWQ6ITEsZG90c0NvbnRhaW5lcjohMX0sZS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fY29yZS5zZXR0aW5nczt0aGlzLl9jb250cm9scy4kcmVsYXRpdmU9KGMubmF2Q29udGFpbmVyP2EoYy5uYXZDb250YWluZXIpOmEoXCI8ZGl2PlwiKS5hZGRDbGFzcyhjLm5hdkNvbnRhaW5lckNsYXNzKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSkuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSx0aGlzLl9jb250cm9scy4kcHJldmlvdXM9YShcIjxcIitjLm5hdkVsZW1lbnQrXCI+XCIpLmFkZENsYXNzKGMubmF2Q2xhc3NbMF0pLmh0bWwoYy5uYXZUZXh0WzBdKS5wcmVwZW5kVG8odGhpcy5fY29udHJvbHMuJHJlbGF0aXZlKS5vbihcImNsaWNrXCIsYS5wcm94eShmdW5jdGlvbihhKXt0aGlzLnByZXYoYy5uYXZTcGVlZCl9LHRoaXMpKSx0aGlzLl9jb250cm9scy4kbmV4dD1hKFwiPFwiK2MubmF2RWxlbWVudCtcIj5cIikuYWRkQ2xhc3MoYy5uYXZDbGFzc1sxXSkuaHRtbChjLm5hdlRleHRbMV0pLmFwcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSkub24oXCJjbGlja1wiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5uZXh0KGMubmF2U3BlZWQpfSx0aGlzKSksYy5kb3RzRGF0YXx8KHRoaXMuX3RlbXBsYXRlcz1bYSgnPGJ1dHRvbiByb2xlPVwiYnV0dG9uXCI+JykuYWRkQ2xhc3MoYy5kb3RDbGFzcykuYXBwZW5kKGEoXCI8c3Bhbj5cIikpLnByb3AoXCJvdXRlckhUTUxcIildKSx0aGlzLl9jb250cm9scy4kYWJzb2x1dGU9KGMuZG90c0NvbnRhaW5lcj9hKGMuZG90c0NvbnRhaW5lcik6YShcIjxkaXY+XCIpLmFkZENsYXNzKGMuZG90c0NsYXNzKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSkuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSx0aGlzLl9jb250cm9scy4kYWJzb2x1dGUub24oXCJjbGlja1wiLFwiYnV0dG9uXCIsYS5wcm94eShmdW5jdGlvbihiKXt2YXIgZD1hKGIudGFyZ2V0KS5wYXJlbnQoKS5pcyh0aGlzLl9jb250cm9scy4kYWJzb2x1dGUpP2EoYi50YXJnZXQpLmluZGV4KCk6YShiLnRhcmdldCkucGFyZW50KCkuaW5kZXgoKTtiLnByZXZlbnREZWZhdWx0KCksdGhpcy50byhkLGMuZG90c1NwZWVkKX0sdGhpcykpO2ZvcihiIGluIHRoaXMuX292ZXJyaWRlcyl0aGlzLl9jb3JlW2JdPWEucHJveHkodGhpc1tiXSx0aGlzKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU7ZT10aGlzLl9jb3JlLnNldHRpbmdzO2ZvcihhIGluIHRoaXMuX2hhbmRsZXJzKXRoaXMuJGVsZW1lbnQub2ZmKGEsdGhpcy5faGFuZGxlcnNbYV0pO2ZvcihiIGluIHRoaXMuX2NvbnRyb2xzKVwiJHJlbGF0aXZlXCI9PT1iJiZlLm5hdkNvbnRhaW5lcj90aGlzLl9jb250cm9sc1tiXS5odG1sKFwiXCIpOnRoaXMuX2NvbnRyb2xzW2JdLnJlbW92ZSgpO2ZvcihkIGluIHRoaXMub3ZlcmlkZXMpdGhpcy5fY29yZVtkXT10aGlzLl9vdmVycmlkZXNbZF07Zm9yKGMgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpc1tjXSYmKHRoaXNbY109bnVsbCl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhLGIsYyxkPXRoaXMuX2NvcmUuY2xvbmVzKCkubGVuZ3RoLzIsZT1kK3RoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGgsZj10aGlzLl9jb3JlLm1heGltdW0oITApLGc9dGhpcy5fY29yZS5zZXR0aW5ncyxoPWcuY2VudGVyfHxnLmF1dG9XaWR0aHx8Zy5kb3RzRGF0YT8xOmcuZG90c0VhY2h8fGcuaXRlbXM7aWYoXCJwYWdlXCIhPT1nLnNsaWRlQnkmJihnLnNsaWRlQnk9TWF0aC5taW4oZy5zbGlkZUJ5LGcuaXRlbXMpKSxnLmRvdHN8fFwicGFnZVwiPT1nLnNsaWRlQnkpZm9yKHRoaXMuX3BhZ2VzPVtdLGE9ZCxiPTAsYz0wO2E8ZTthKyspe2lmKGI+PWh8fDA9PT1iKXtpZih0aGlzLl9wYWdlcy5wdXNoKHtzdGFydDpNYXRoLm1pbihmLGEtZCksZW5kOmEtZCtoLTF9KSxNYXRoLm1pbihmLGEtZCk9PT1mKWJyZWFrO2I9MCwrK2N9Yis9dGhpcy5fY29yZS5tZXJnZXJzKHRoaXMuX2NvcmUucmVsYXRpdmUoYSkpfX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fY29yZS5zZXR0aW5ncyxkPXRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGg8PWMuaXRlbXMsZT10aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKSxmPWMubG9vcHx8Yy5yZXdpbmQ7dGhpcy5fY29udHJvbHMuJHJlbGF0aXZlLnRvZ2dsZUNsYXNzKFwiZGlzYWJsZWRcIiwhYy5uYXZ8fGQpLGMubmF2JiYodGhpcy5fY29udHJvbHMuJHByZXZpb3VzLnRvZ2dsZUNsYXNzKFwiZGlzYWJsZWRcIiwhZiYmZTw9dGhpcy5fY29yZS5taW5pbXVtKCEwKSksdGhpcy5fY29udHJvbHMuJG5leHQudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZFwiLCFmJiZlPj10aGlzLl9jb3JlLm1heGltdW0oITApKSksdGhpcy5fY29udHJvbHMuJGFic29sdXRlLnRvZ2dsZUNsYXNzKFwiZGlzYWJsZWRcIiwhYy5kb3RzfHxkKSxjLmRvdHMmJihiPXRoaXMuX3BhZ2VzLmxlbmd0aC10aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5sZW5ndGgsYy5kb3RzRGF0YSYmMCE9PWI/dGhpcy5fY29udHJvbHMuJGFic29sdXRlLmh0bWwodGhpcy5fdGVtcGxhdGVzLmpvaW4oXCJcIikpOmI+MD90aGlzLl9jb250cm9scy4kYWJzb2x1dGUuYXBwZW5kKG5ldyBBcnJheShiKzEpLmpvaW4odGhpcy5fdGVtcGxhdGVzWzBdKSk6YjwwJiZ0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5zbGljZShiKS5yZW1vdmUoKSx0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuZmluZChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmNoaWxkcmVuKCkuZXEoYS5pbkFycmF5KHRoaXMuY3VycmVudCgpLHRoaXMuX3BhZ2VzKSkuYWRkQ2xhc3MoXCJhY3RpdmVcIikpfSxlLnByb3RvdHlwZS5vblRyaWdnZXI9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fY29yZS5zZXR0aW5ncztiLnBhZ2U9e2luZGV4OmEuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSx0aGlzLl9wYWdlcyksY291bnQ6dGhpcy5fcGFnZXMubGVuZ3RoLHNpemU6YyYmKGMuY2VudGVyfHxjLmF1dG9XaWR0aHx8Yy5kb3RzRGF0YT8xOmMuZG90c0VhY2h8fGMuaXRlbXMpfX0sZS5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbigpe3ZhciBiPXRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpO3JldHVybiBhLmdyZXAodGhpcy5fcGFnZXMsYS5wcm94eShmdW5jdGlvbihhLGMpe3JldHVybiBhLnN0YXJ0PD1iJiZhLmVuZD49Yn0sdGhpcykpLnBvcCgpfSxlLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihiKXt2YXIgYyxkLGU9dGhpcy5fY29yZS5zZXR0aW5ncztyZXR1cm5cInBhZ2VcIj09ZS5zbGlkZUJ5PyhjPWEuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSx0aGlzLl9wYWdlcyksZD10aGlzLl9wYWdlcy5sZW5ndGgsYj8rK2M6LS1jLGM9dGhpcy5fcGFnZXNbKGMlZCtkKSVkXS5zdGFydCk6KGM9dGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSksZD10aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoLGI/Yys9ZS5zbGlkZUJ5OmMtPWUuc2xpZGVCeSksY30sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihiKXthLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKCEwKSxiKX0sZS5wcm90b3R5cGUucHJldj1mdW5jdGlvbihiKXthLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKCExKSxiKX0sZS5wcm90b3R5cGUudG89ZnVuY3Rpb24oYixjLGQpe3ZhciBlOyFkJiZ0aGlzLl9wYWdlcy5sZW5ndGg/KGU9dGhpcy5fcGFnZXMubGVuZ3RoLGEucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLHRoaXMuX2NvcmUpKHRoaXMuX3BhZ2VzWyhiJWUrZSklZV0uc3RhcnQsYykpOmEucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLHRoaXMuX2NvcmUpKGIsYyl9LGEuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5OYXZpZ2F0aW9uPWV9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKGMpe3RoaXMuX2NvcmU9Yyx0aGlzLl9oYXNoZXM9e30sdGhpcy4kZWxlbWVudD10aGlzLl9jb3JlLiRlbGVtZW50LHRoaXMuX2hhbmRsZXJzPXtcImluaXRpYWxpemVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYyl7Yy5uYW1lc3BhY2UmJlwiVVJMSGFzaFwiPT09dGhpcy5fY29yZS5zZXR0aW5ncy5zdGFydFBvc2l0aW9uJiZhKGIpLnRyaWdnZXIoXCJoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uXCIpfSx0aGlzKSxcInByZXBhcmVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYil7aWYoYi5uYW1lc3BhY2Upe3ZhciBjPWEoYi5jb250ZW50KS5maW5kKFwiW2RhdGEtaGFzaF1cIikuYWRkQmFjayhcIltkYXRhLWhhc2hdXCIpLmF0dHIoXCJkYXRhLWhhc2hcIik7aWYoIWMpcmV0dXJuO3RoaXMuX2hhc2hlc1tjXT1iLmNvbnRlbnR9fSx0aGlzKSxcImNoYW5nZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihjKXtpZihjLm5hbWVzcGFjZSYmXCJwb3NpdGlvblwiPT09Yy5wcm9wZXJ0eS5uYW1lKXt2YXIgZD10aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpKSxlPWEubWFwKHRoaXMuX2hhc2hlcyxmdW5jdGlvbihhLGIpe3JldHVybiBhPT09ZD9iOm51bGx9KS5qb2luKCk7aWYoIWV8fGIubG9jYXRpb24uaGFzaC5zbGljZSgxKT09PWUpcmV0dXJuO2IubG9jYXRpb24uaGFzaD1lfX0sdGhpcyl9LHRoaXMuX2NvcmUub3B0aW9ucz1hLmV4dGVuZCh7fSxlLkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyksdGhpcy4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyksYShiKS5vbihcImhhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb25cIixhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBjPWIubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSksZT10aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLGY9dGhpcy5faGFzaGVzW2NdJiZlLmluZGV4KHRoaXMuX2hhc2hlc1tjXSk7ZiE9PWQmJmYhPT10aGlzLl9jb3JlLmN1cnJlbnQoKSYmdGhpcy5fY29yZS50byh0aGlzLl9jb3JlLnJlbGF0aXZlKGYpLCExLCEwKX0sdGhpcykpfTtlLkRlZmF1bHRzPXtVUkxoYXNoTGlzdGVuZXI6ITF9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYyxkO2EoYikub2ZmKFwiaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvblwiKTtmb3IoYyBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihjLHRoaXMuX2hhbmRsZXJzW2NdKTtmb3IoZCBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSlcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2RdJiYodGhpc1tkXT1udWxsKX0sYS5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkhhc2g9ZX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShiLGMpe3ZhciBlPSExLGY9Yi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpO3JldHVybiBhLmVhY2goKGIrXCIgXCIraC5qb2luKGYrXCIgXCIpK2YpLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2lmKGdbYl0hPT1kKXJldHVybiBlPSFjfHxiLCExfSksZX1mdW5jdGlvbiBmKGEpe3JldHVybiBlKGEsITApfXZhciBnPWEoXCI8c3VwcG9ydD5cIikuZ2V0KDApLnN0eWxlLGg9XCJXZWJraXQgTW96IE8gbXNcIi5zcGxpdChcIiBcIiksaT17dHJhbnNpdGlvbjp7ZW5kOntXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLHRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCJ9fSxhbmltYXRpb246e2VuZDp7V2Via2l0QW5pbWF0aW9uOlwid2Via2l0QW5pbWF0aW9uRW5kXCIsTW96QW5pbWF0aW9uOlwiYW5pbWF0aW9uZW5kXCIsT0FuaW1hdGlvbjpcIm9BbmltYXRpb25FbmRcIixhbmltYXRpb246XCJhbmltYXRpb25lbmRcIn19fSxqPXtjc3N0cmFuc2Zvcm1zOmZ1bmN0aW9uKCl7cmV0dXJuISFlKFwidHJhbnNmb3JtXCIpfSxjc3N0cmFuc2Zvcm1zM2Q6ZnVuY3Rpb24oKXtyZXR1cm4hIWUoXCJwZXJzcGVjdGl2ZVwiKX0sY3NzdHJhbnNpdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4hIWUoXCJ0cmFuc2l0aW9uXCIpfSxjc3NhbmltYXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuISFlKFwiYW5pbWF0aW9uXCIpfX07ai5jc3N0cmFuc2l0aW9ucygpJiYoYS5zdXBwb3J0LnRyYW5zaXRpb249bmV3IFN0cmluZyhmKFwidHJhbnNpdGlvblwiKSksYS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kPWkudHJhbnNpdGlvbi5lbmRbYS5zdXBwb3J0LnRyYW5zaXRpb25dKSxqLmNzc2FuaW1hdGlvbnMoKSYmKGEuc3VwcG9ydC5hbmltYXRpb249bmV3IFN0cmluZyhmKFwiYW5pbWF0aW9uXCIpKSxhLnN1cHBvcnQuYW5pbWF0aW9uLmVuZD1pLmFuaW1hdGlvbi5lbmRbYS5zdXBwb3J0LmFuaW1hdGlvbl0pLGouY3NzdHJhbnNmb3JtcygpJiYoYS5zdXBwb3J0LnRyYW5zZm9ybT1uZXcgU3RyaW5nKGYoXCJ0cmFuc2Zvcm1cIikpLGEuc3VwcG9ydC50cmFuc2Zvcm0zZD1qLmNzc3RyYW5zZm9ybXMzZCgpKX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7IiwiXHJcbmxldCBpbmRleCA9ICQoJy5hdHRlbnRpb25fY29udGVudCB1bCBsaS5hY3RpdmUnKS5pbmRleCgpO1xyXG5sZXQgc3VnZ2VzdGlvblVybCA9ICdodHRwOi8vMTkyLjE2OC4xOTAuMTIyOjE4NzYvZGFtLWFwaS9zZWFyY2gvc3VnZ2VzdGlvbic7XHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIC8vJChcIi5yZWNvbW1lbmRfY29udGVudF90d29cIikuY3NzKFwiaGVpZ2h0XCIsICQoXCIucmVjb21tZW5kX2NvbnRlbnRfb25lXCIpLmhlaWdodCgpKTtcclxuICAgICQoJyNzZWFyY2hXb3Jkcywjc2VhcmNoV29yZHNNJykudHlwZWFoZWFkKHtcclxuICAgICAgICBzb3VyY2U6IGZ1bmN0aW9uIChxdWVyeSwgcHJvY2Vzcykge1xyXG4gICAgICAgICAgICAvL3F1ZXJ55piv6L6T5YWl5YC8XHJcbiAgICAgICAgICAgIGxldCBkYXRhPVtdXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHN1Z2dlc3Rpb25VcmwgKyBcIi9cIiArIHF1ZXJ5LCAvLyDnm67moIfotYTmupBcclxuICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSwgLy90cnVlIOWmguaenOW9k+WJjeivt+axguaciee8k+WtmOeahOivne+8jOebtOaOpeS9v+eUqOe8k+WtmOOAguWmguaenOivpeWxnuaAp+iuvue9ruS4uiBmYWxzZe+8jOWImeavj+asoemDveS8muWQkeacjeWKoeWZqOivt+axglxyXG4gICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLCAvL+m7mOiupOaYr3RydWXvvIzljbPkuLrlvILmraXmlrnlvI8tXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsIC8vIOacjeWKoeWZqOWTjeW6lOeahOaVsOaNruexu+Wei1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIiwgLy8g6K+35rGC5pa55byPXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gb2JqLmRhdGFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcHJvY2VzcyhkYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZXI6IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnJlcGxhY2UoLzxbXj5dKz4vZyxcIlwiKTsgLy/ov5nph4zkuIDlrpropoFyZXR1cm7vvIzlkKbliJnpgInkuK3kuI3mmL7npLpcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyU2VsZWN0OiBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAvL+mAieaLqemhueS5i+WQjueahOaXtumXtO+8jGl0ZW3mmK/lvZPliY3pgInkuK3nmoTpoblcclxuICAgICAgICAgICAgLy9hbGVydChpdGVtKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGl0ZW1zOiA4LCAvL+aYvuekujjmnaFcclxuICAgICAgICBkZWxheTogNTAwIC8v5bu26L+f5pe26Ze0XHJcbiAgICB9KTtcclxuICAgIC8qJCgnLmJvdHRvbV91bCBsaScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICQodGhpcykuc2libGluZ3MoJ2xpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgaWYgKCQodGhpcykuaW5kZXgoKSA9PT0gMSkge1xyXG4gICAgICAgICAgJChcIi5uYXZfdWxcIikucmVtb3ZlQ2xhc3MoJ3Nob3dfZHJvcCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJChcIi5uYXZfdWxcIikuYWRkQ2xhc3MoJ3Nob3dfZHJvcCcpO1xyXG4gICAgICB9XHJcbiAgICB9KSovXHJcblxyXG4gICAgJCgnYm9keScpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBpZigkKGV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoXCJwb3NpdGlvbi1yZWxhdGl2ZVwiKSl7XHJcbiAgICAgICAgICAgIGlmKCEkKFwiLm5hdl91bFwiKS5oYXNDbGFzcyhcInNob3dfZHJvcFwiKSl7XHJcbiAgICAgICAgICAgICAgICAkKFwiLm5hdl91bFwiKS5hZGRDbGFzcygnc2hvd19kcm9wJyk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgJChcIi5uYXZfdWxcIikucmVtb3ZlQ2xhc3MoJ3Nob3dfZHJvcCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlmKCEkKFwiLm5hdl91bFwiKS5oYXNDbGFzcyhcInNob3dfZHJvcFwiKSl7XHJcbiAgICAgICAgICAgICAgICAkKFwiLm5hdl91bFwiKS5hZGRDbGFzcygnc2hvd19kcm9wJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoJChldmVudC50YXJnZXQpLmF0dHIoXCJzcmNcIikhPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGlmKCQoZXZlbnQudGFyZ2V0KS5hdHRyKFwic3JjXCIpLmluZGV4T2YoXCJndWFuemh1LnBuZ1wiKT4tMSl7XHJcbiAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkuYXR0cihcInNyY1wiLFwiaW1hZ2VzL2luZGV4L2d1YW56aHVfYi5wbmdcIilcclxuICAgICAgICAgICAgfWVsc2UgaWYoJChldmVudC50YXJnZXQpLmF0dHIoXCJzcmNcIikuaW5kZXhPZihcImd1YW56aHVfYi5wbmdcIik+LTEpe1xyXG4gICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmF0dHIoXCJzcmNcIixcImltYWdlcy9pbmRleC9ndWFuemh1LnBuZ1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCQoZXZlbnQudGFyZ2V0KS5hdHRyKFwic3JjXCIpLmluZGV4T2YoXCJteUNvbGxlY3QucG5nXCIpPi0xKXtcclxuICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5hdHRyKFwic3JjXCIsJChldmVudC50YXJnZXQpLmF0dHIoXCJzcmNcIikucmVwbGFjZShcIm15Q29sbGVjdFwiLFwibXlDb2xsZWN0X2JcIikpXHJcbiAgICAgICAgICAgIH1lbHNlIGlmKCQoZXZlbnQudGFyZ2V0KS5hdHRyKFwic3JjXCIpLmluZGV4T2YoXCJteUNvbGxlY3RfYi5wbmdcIik+LTEpe1xyXG4gICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmF0dHIoXCJzcmNcIiwkKGV2ZW50LnRhcmdldCkuYXR0cihcInNyY1wiKS5yZXBsYWNlKFwibXlDb2xsZWN0X2JcIixcIm15Q29sbGVjdFwiKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZigkKGV2ZW50LnRhcmdldCkuYXR0cihcInNyY1wiKS5pbmRleE9mKFwiY29sbGVjdC5wbmdcIik+LTEpe1xyXG4gICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmF0dHIoXCJzcmNcIiwkKGV2ZW50LnRhcmdldCkuYXR0cihcInNyY1wiKS5yZXBsYWNlKFwiY29sbGVjdFwiLFwiY29sbGVjdF9iXCIpKVxyXG4gICAgICAgICAgICB9ZWxzZSBpZigkKGV2ZW50LnRhcmdldCkuYXR0cihcInNyY1wiKS5pbmRleE9mKFwiY29sbGVjdF9iLnBuZ1wiKT4tMSl7XHJcbiAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkuYXR0cihcInNyY1wiLCQoZXZlbnQudGFyZ2V0KS5hdHRyKFwic3JjXCIpLnJlcGxhY2UoXCJjb2xsZWN0X2JcIixcImNvbGxlY3RcIikpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgJChcIi50b3BfcHJvZmlsZV9pbWdcIikuYmluZChcImNsaWNrXCIsZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgICQoJyNkcm9wZG93bk1lbnVMaW5rJykudHJpZ2dlcihcImNsaWNrXCIpXHJcbiAgICB9KVxyXG59KVxyXG5mdW5jdGlvbiBjbGlja19oZWFkKCl7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cImluZGV4Lmh0bWxcIjtcclxufVxyXG5mdW5jdGlvbiBjbGlja19oZWFkX21hKCl7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIm1hdGVyaWFsLmh0bWxcIjtcclxufVxyXG5mdW5jdGlvbiBvcGVuX21lbnUoKXtcclxuICAgICQoXCIub3ZlcmxheVwiKS5zaG93KCk7XHJcbiAgICAkKFwiLm5hdmJhci1ib3hcIikuY3NzKFwid2lkdGhcIixcIjIyMHB4XCIpXHJcbn1cclxuZnVuY3Rpb24gY2xvc2VfbWVudSgpe1xyXG4gICAgJChcIi5vdmVybGF5XCIpLmhpZGUoKTtcclxuICAgICQoXCIubmF2YmFyLWJveFwiKS5jc3MoXCJ3aWR0aFwiLFwiMHB4XCIpXHJcbn1cclxuXHJcblxyXG4iXX0=
